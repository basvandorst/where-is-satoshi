
@_date: 2005-03-20 12:44:36
@_author: tom hensel 
@_subject: tor-cvs failing on openbsd 3.6 
tor starts up niceley, but since my last cvs update and corresponding
build from yesterday tor stops routing while not crahsing.
i experienced a lot of crashes recently, about 2-3 times a day -
this seems to be better now but as a tradeoff tor won't route anymore :)
startup looks good:
Mar 20 11:35:26 svaha Tor: router_orport_found_reachable(): Your ORPort
is reachable from the outside. Excellent.
Mar 20 11:35:31 svaha Tor: circuit_send_next_onion_skin(): Tor has
successfully opened a circuit. Looks like it's working.
then suddenly after accessing a few websites:
Mar 20 11:35:57 svaha Tor: directory_handle_command_get(): Client asked
for the mirrored directory, but we don't have a good one yet. Sending
503 Dir not available.
Mar 20 11:36:01 svaha Tor: connection_ap_expire_beginning(): Stream is
16 seconds late on address 'ip_removed'. Retrying.
Mar 20 11:36:01 svaha Tor: circuit_log_path(): exit circ (length 3, exit
helpinguout): random(open) tor26(open) helpinguout(open)
Mar 20 11:36:01 svaha Tor: connection_ap_expire_beginning(): Stream is
16 seconds late on address 'ip_removed'. Retrying.
Mar 20 11:36:01 svaha Tor: circuit_log_path(): exit circ (length 3, exit
helpinguout): random(open) tor26(open) helpinguout(open)
Mar 20 11:36:02 svaha Tor: connection_ap_expire_beginning(): Stream is
16 seconds late on address 'ip_removed'. Retrying.
Mar 20 11:36:02 svaha Tor: circuit_log_path(): exit circ (length 3, exit
helpinguout): random(open) tor26(open) helpinguout(open)
Mar 20 11:36:47 svaha Tor: router_dirport_found_reachable(): Your
DirPort is reachable from the outside. Excellent.
Mar 20 11:36:51 svaha Tor: Couldn't construct socketpair (Bad file
descriptor). Network down? Delaying.
Mar 20 11:36:51 svaha Tor: directory_initiate_command(): Making AP
bridge to dirserver failed.
Mar 20 11:36:51 svaha Tor: Couldn't construct socketpair (Bad file
descriptor). Network down? Delaying.
Mar 20 11:36:51 svaha Tor: directory_initiate_command(): Making AP
bridge to dirserver failed.
tor continues to log messages like
Mar 20 11:38:22 svaha Tor: Couldn't construct socketpair (Bad file
descriptor). Network down? Delaying.
Mar 20 11:38:22 svaha Tor: directory_initiate_command(): Making AP
bridge to dirserver failed.
Mar 20 11:38:22 svaha Tor: Couldn't construct socketpair (Bad file
descriptor). Network down? Delaying.
Mar 20 11:38:22 svaha Tor: directory_initiate_command(): Making AP
bridge to dirserver failed.
Mar 20 11:38:25 svaha Tor: retry_listeners(): We have 0 OR listener(s)
open, but we want 1; relaunching.
Mar 20 11:38:25 svaha Tor: connection_create_listener(): Socket creation
Mar 20 11:38:34 svaha Tor: connection_connect(): Error creating network
socket: Bad file descriptor
Mar 20 11:38:34 svaha Tor: circuit_receive_relay_cell():
connection_edge_process_relay_cell (away from origin) failed.
Mar 20 11:38:34 svaha Tor: command_process_relay_cell():
circuit_receive_relay_cell (forward) failed. Closing.
Mar 20 11:38:37 svaha Tor: connection_connect(): Error creating network
socket: Bad file descriptor
Mar 20 11:38:41 svaha Tor: connection_connect(): Error creating network
socket: Bad file descriptor
Mar 20 11:38:41 svaha Tor: circuit_receive_relay_cell():
connection_edge_process_relay_cell (away from origin) failed.
Mar 20 11:38:41 svaha Tor: command_process_relay_cell():
circuit_receive_relay_cell (forward) failed. Closing.
restarting tor makes it work for another few websites.
please assist, thanks a lot!
