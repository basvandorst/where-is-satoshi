
@_date: 2011-04-18 23:09:27
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] built-in tor2web functionalities into TOR? 
Hi all,
I am wondering whether for the Tor Project goals the functionality of
Tor2Web can be considered a milestone to be reached or if it's up the to
the community to grow a network of software running tor2web systems.
I mean, it would be possible to envision the inclusion of tor2web
features into Tor, even if disabled by default?
That's because at globaleaks we are organizing the development a new
concept leaking project (i tell you, it's still early-alpha stage,
website is getting reworked) called GlobaLeaks ( /
 that leverage existing anonymous
technologies such as:
- TOR
- TOR2web
For the anonymous private and public publishing of leaks Tor2Web is
extremely relevant.
In order to properly distribute the risk of all players involved into
the leaking chain
it's important that the tor2web network grow to a high number of nodes.
In such leaking model the anonymous publishing capabilities provided by
tor2web along with tor hidden services it's very relevant as it allow a
leaking node to be run by anyone just by having a home computer with
vidalia and globaleaks software running (the sw still don't exist, we're
organizing better the project) without registering ip addresses, domain
names, servers, etc
It could open-up distributed local leaking, effective at local level
supported by local activists by reducing the entrance barrier to setup a
leak site.
p.s. The project is really re-organizing after some months of discussion
on the leaking methodology model, we hope within summer to be up and
running with some knowledge base and software released

@_date: 2011-04-20 12:32:44
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] built-in tor2web functionalities into TOR? 
That's exactly the goal of tor2web, to enable non-Tor-users to reach Tor
Hidden Service (websites).
The use and anonymity profile is very different because:
- The Publisher has to be anonymity Protected
- The Internet Non-Tor Reader is half-anonymity protected (due to the
tor2web nodes being able to know the user IP address)
- The Tor Reader is fully anonymity protected
But if you want to spread something that's Anonymously Published on a
Tor Hidden Service trough existing social networks (twitter, facebook,
etc) then you need to support also Internet Users without Tor to be able
to access Tor Hidden Services.
This could open very powerful services given the fact that anyone can
implement sites (such as Leak sites) that are directly internet exposed
without even registering a domain name or a public IP address.
This allow the anonymous publisher to be able to expose it's own content
without registering any assets or paying any services, thus removing
most of the traceability risks.
That's the reason for which it would be really nice to see tor2web
concept directly implemented in Tor, in order to support the diffusion
of anonymous publishing capabilities.
I just wanted to know if Tor Project think it's something that in future
can be done, or if it's up to the Tor2web network to make it growing "on
top of existing tor clients" as a separate community.

@_date: 2011-08-06 22:09:22
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Hijacking Advertising to give a Tor Exit node economic 
I had an idea last night that:
a) leverage ethical and legal issues
b) could be unfeasible
Could a Tor Exit Node pay itself and eventually generate more revenue to
install other tor server by being self-supported by advertising?
A Tor Exit Node could modify all the advertising that the user see while
web browsing (google adwords, facebook, doubleclick, etc) by injecting
it's own sponsored AD in http flow.
It could even inject 'safety notice' such as to enable https, because
the user it's browsing with clear http.
It could even automatically setup SSL preferencies of twitter, facebook
& other services accounts by making them Default-SSL.
Ok, modifying user traffic it's a tabu', but let's just consider for a
moment how many useful things for the user and for the tor project could
be done.

@_date: 2011-08-07 12:49:58
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Hijacking Advertising to give a Tor Exit node 
the advertising could be provided in several way:
a) Charity based advertisement
   Replace most ADV (facebook, google, linkedin, tom, baidu, etc) with
boxes inviting the user to provide donation tor Tor Project, Eff or to a
specific Tor Servers project (such as torservers.net).
b) Automatic Tor Servers network billing/management
   An interesting way would be to ask for donation trough paypal and
other electronic payment systems with the 'fees' going directly into an
account that is used to pay for Tor Servers.
   An automatic system would also be able to 'setup' new Tor Servers if
there is enough credit, or to shutdown Tor Servers if the monthly credit
is not enough.
   That way a proportional increase of Tor Traffic would allow automatic
setup of new Tor Servers, while a reduction of traffic would reduce the
number of Tor Servers (for example using Amazon EC2 or RackSpace Cloud
c) Referral based advertisement
   Replace most ADV (facebook, google, linkedin, tom, baidu, etc)) with
promotion to buy goods and services related to Privacy and/or Freedom of
speech (Amazon's books, Disk encryption software, PC/Mac/Mobile Security
Such approaches could avoid:
- The effort to 'recruit' publisher like Anchror Free is doing
- The problem of unique IP addresses of Tor Exit Nodes (that would
appear like a fraud to most)
- The problem of user profiling (the ADV would not be based on
User-Content-Behaviour, so it would not be a privacy invasion)
The hijacking could be done on the basis of DNS without parsing web
content. Tor has a DNS cache of 5 minutes, it could be lowered to manage
specifically that requests.
However it would be much more efficient is it would be done at least by
looking at the Language of the user, to serve ADV in the right user
On my tor exit node node i would like to reduce the Tor DNS cache from 5
minutes to 5 seconds and log all DNS requests to do proper ADV
capability profiling:
- Given sample of 100GB of Tor Exit Traffic how many ADV could be served
(by hijacking ADV providing url) ?
With such answer it would be possible at least to understand the
economical feasibility of it.

@_date: 2011-08-07 15:23:51
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Hijacking Advertising to give a Tor Exit node 
I agree, but the premise of that thread was that this approach could:
a) leverage ethical and legal issues
b) could be unfeasible
So i am not pointing out if "it's good to do it or not" but if it would
be "feasible or not" and in which proportion .
Let's make some hobbyist study on it and evaluate how 'an adv based tor
sustainability model' would work on a spreadsheet :-)
At least to know the hypothetical cost/return ratio:
With 100GB of tor traffic, how much GB of additional Tor traffic you
could buy?
p.s. see you at ccc camp, i am at Italian Embassy in front of French Embassy

@_date: 2011-08-07 23:55:38
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Hijacking Advertising to give a Tor Exit node 
I made some brief analysis and it seems to be more complicated for the
following reasons:
a) Not all advertising is served with a dedicated DNS hostname
or example facebook serve it on  domain.
b) It's not easy to catch all URL and to modify content without breaking
Implementing a transparent proxy server for exit traffic only, without
breaking tor traffic would require such feature we discussed some time
However i am now making a 1 week collection of dns query and url requests.
After would check that lists against adzap and other ad filtering
software that include list of hostname, urls and pattern.
That way we can use an advertising blocking software to check how many
ad traffic was here.
So we will have some numbers, purely for private amusement, to be used
for calculation into a spreadsheet to be shared.
I do very often proposal that could lead to 'bad exit designations' :P

@_date: 2011-08-26 00:44:12
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Torbrowser in Java 
Hi all,
i read about a Tor Java implementation some times ago
 .
Now they released a Tor Anonymous Browser entirely written in Java that
can run as a Java Web Start: It would be a nice piece of software to integrate with tor2web to
provide end-user an option to immediately access a tor hidden service he
is visiting.
What do you think guys?
Does someone know if this TOR implementation is robust or it's early
prototype lacking some Torproject Tor implementation security/anonimity

@_date: 2011-12-05 21:07:25
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor HS load balancing 
Hi all,
it would be possible to have a Tor HS running on two or more servers?
I am wondering how does the network will behave in a situation like that
a) Only one server will works
b) It will provide a sort of "load balancing"

@_date: 2011-12-05 21:31:27
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Increase tor HS reachability 
Hi all,
sometimes it happen that some Tor HS it's difficult to be reached.
I experienced a situation where from one Tor Client i've been able to
reach a Tor HS, while from another Tor Client i was not able to connect.
To achieve maximum Tor HS reachability, would be reasonable to have:
- several independent Tor Client running
- connect simultaneously to a Tor HS
- the first that get a connection win (and it's supposed also to the
fastest path, because it got the connect first)
It's a sort of "Interface Bonding" technique, that try to automatically
discover a faster path and increase network reliability.
What do you think about it?

@_date: 2011-12-12 09:01:12
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] TBB, iptables, and seperation of concerns 
IMHO the "Starter" of the TBB should be much more intelligent by providing:
a) decompression of TBB
b) splash logo with progress-bar
c) app-level jailing of various application
For point "c" i mean providing a sort of "app-armor" or "*osx" sandbox
system but at application level with library preloading, directly
managing the security profile from the starter.
That way it could be much portable the "application security" of the system.

@_date: 2011-12-12 09:22:44
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] TBB, iptables, and seperation of concerns 
Yeah, but for that the Tails distribution exists  .
I've been saying about making "app-protection" against possible attacks
to the Browser and it's components, mitiganting it by sandboxing
automatically with a general framework that would limit:
- file system access
- socket access
- dangerous's OS API

@_date: 2011-12-15 18:47:12
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor on TV (hemm, on WDTV!) - TorTV 
Hi all,
TorTV Project has been implemented by Jaromil:
TorTV : Jaromil :  - Cool, testing have to be done!

@_date: 2011-12-18 12:37:22
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] tor-exit running ntop 
Quick test for tor-exit running ntop
cd /tmp
wget -q -O  /tmp/Tor_ip_list_ALL.csv
nmap -iL Tor_ip_list_ALL.csv -p3000 -sS -sV -PI -T Insane  -oM ntop.out
root at server /tmp # grep -i ntop ntop.out
Host: 46.4.228.233 (static.233.228.4.46.clients.your-server.de)	Ports:
3000/open/tcp//ntop-http//Ntop web interface 3.3/
Host: 46.105.26.14 (vps18077.ovh.net)	Ports:
3000/open/tcp//ntop-http//Ntop web interface 4.0.3/
Host: 194.14.172.60 (194-14-172-60.cust.pirateisp.net)	Ports:
3000/open/tcp//ntop-http//Ntop web interface 3.3/
Host: 194.14.172.62 (194-14-172-62.cust.pirateisp.net)	Ports:
3000/open/tcp//ntop-http//Ntop web interface 3.3/
Host: 213.239.213.4 (linsol2.tuxsolutions.de)	Ports:
3000/open/tcp//ntop-http//Ntop web interface 3.2/
Maybe they are running sniffers or just traffic statistics?

@_date: 2011-12-20 00:32:29
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] tor-exit running ntop 
The IP show are running Ntop, detected from HTTP User Agent by nmap:
root at server /tmp # grep -i ntop ntop.out
Host: 46.105.26.14 (vps18077.ovh.net)	Ports:
3000/open/tcp//ntop-http//Ntop web interface 4.0.3/
It detect also the Ntop version.
However you are right, it doesn't mean it's running a sniffer to
"extract" the content, maybe it's just statistical network analysis.

@_date: 2011-12-20 09:11:29
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Automatic vulnerability scanning of Tor Network? 
I made a big portscan+app fingerprinting of all Tor exit and Relay:
wget -q -O  /tmp/Tor_ip_list_ALL.csv  \
nmap -iL /tmp/Tor_ip_list_ALL.csv -F -sS -sV -PI -T Insane \
-oM Tor-Scan-20-12-2011_00_30.out
You can find the result here:
It would be interesting to analyze it to understand "what's running" on
Tor Exit and Tor Relays, eventually make up some kind of network
monitoring systems like it's done for Enterprise Security Monitoring
IE (automatically):
- Having a periodic portscan + application fingerprinting
- Passing the result to a nessus vulnerability analyzer
- Sending the results to the  contact info
- Repeating the tests every 2 week, sending again the result to the
contact info
- If a "high" vulnerability it's not fixed automatically within 1
months, publish it to the internet
Or a process like that to always know that the "System/Network" security
of computers running Tor it's ok, and if not ok "do something".
Imho it would not be complicated to setup a stuff like that

@_date: 2011-12-20 19:35:50
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Automatic vulnerability scanning of Tor Network? 
The law, in Europe, typical prohibit to break into other systems but
doesn't prohibit in any case to scan an existing system.
The scanning can be considered illegal if the "intention" you had was to
break into the system.
For example the EFF SSL Scan, or Internet Worm scanner doesn't target to
"break into your system" and so are scan that can be done.
The same, what's the problem in receiving a scan on your machine?
Please, get an public IP address, don't announce it, don't do anything.
Now please have a look, without even being a Tor Server, how many mass
scan your receive.
So please, don't bother with that justification, a scan like that would
probably just be one scan of 10000 you receive every week.
You should be happy to have a free security audit, without any illegal
intention, with free reports sent in your email! :-)
If you want to participate to the Tor Network you must responsible, that
means also keeping your system secure.
If all people running Tor Server doesn't care about the Security of
their systems, then it's worthless to run a Tor Server.
Do bitcon mining and donate results to EFF, but don't run Tor Server.
However yes, everything it's open and must be open.
If an automated scanner run by a Tor friendly person find a
vulnerability of your system, you should be VERY HAPPY because the
vulnerability will not exploited by a Tor unfriendly person.
Security trough obscurity doesn't scale, so what' the problem?

@_date: 2011-12-20 23:07:18
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Automatic vulnerability scanning of Tor Network? 
Well it sounds reasonable not to publish the results.
At the same time having a Metasploit auto-pown module that try to
exploit the machine to trigger automatic-update would also be a cool
idea! (i'm joking :P).
I mean, it doesn't sounds to me a so strong "tabu'" to portscan all the
Tor servers.
I agree that's a problem when portscan get out from your tor exit node
and you got a server-takedown from the isp (it happened to me!).
But don't see big problem in receiving a portscan / app fingerprinting /
vulnerability scanning on my node (as long as it doesn't effectively
impact the performance of my node), if this could be helpful in letting
eventually unsecure nodes to get notice about their vulnerabilities.
It would be also nice for example to create a sort of "Best Practice"
for the Firewall ports that a Tor Exit node can have opened respect to
the world (other than Tor-related ports).
For example, in the nmap output of portscan of all tor exit, there are
hosts on the internet with Unix RPC services, Microsoft SMB, SQL Server,
Mysql, etc.
If you would setup and manage a networks (of routers), would you want
your to run SQL Servers or NFS on your routers?
Probably you would like to have your routers very well hardened, doing
their routing job and eventually few other facilities that cannot impact
the main functionality security and stability.
Also i understand that a lot of people would run Tor on the server they
have, doing "multi-purposes" activities, and that's good.
But i also understand that if we would analytically see different risks
context and the likelihood of a compromission of a Tor router, we would
agree that servers with a lot of internet-exposed services are more at risk.
It would be very cool if all Tor Routers would portscan each others and,
depending on the amount of non-tor related port open, would provide a
"security rating".
The security rating could also be measured depending on the version of
Tor used, if it's up-to-date and there are no "security bugs" in the
running version.
That way the would be some objective evaluation, following a compliance
with a "Best Practice", of which is a Secure Tor Router and which one is
A user may decide to only use as entry and exit-nodes, tor routers that
have a high "security rating" level.
However those are just a set of sparse ideas by writing while thinking.

@_date: 2011-12-21 13:32:18
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] On verifying security of Tor Routers idea 
I sketched down an idea of a possible process and phases to setup a
system to monitor the security of the Tor Routers by using Nmap
portscanning facility with application fingerprinting, by not using an
invasive Nessus testing.
PHASE-0: Define a best practice
PHASE-1: Handle periodic scanning+alerting
PHASE-2: Public aggregated Security statistics
PHASE-3: Add CVE vulnerability checking
PHASE-4: Full Public Disclosure
PHASE-5: Introduce a Tor Security Rating
Probably with 0.1/1 day python coding it can be done with a stateless
system (no no change management monitoring, etc).
A dedicated server with a reasonable hostname
(tor-portscanner.domain.tld) and with a web page explaining the project
would be required.
Possibly something with a customized whois to prevent annoying reports
from people that automatically send abuse-complaint (It's fun to see
that there are Tor Servers that if are portscanned automatically send an
abuse complain!).
PHASE-0: Define a best practice
Define a best practice from system and network security point of view.
Something like:
- Don't internet expose services that are not strictly required to keep
the Tor Router functionalities (for example Tor + SSH)
- Don't internet expose outdated/vulnerable software
- Don't run outdated Tor version
PHASE-1: Handle periodic scanning+alerting
a) Extract list of all Tor Router + Contact Info
b) Portscan all Tor Router, save it via XML
c) Cleanup the XML scan from the Tor Used port (for the specific Tor Router)
d) Send an email with portscan results to the Contact info informing him
about the current status of Non-Tor specific opened port
PHASE-2: Public Statistics
e) Create statistics
  - Count how many Routers have X amount of ports opened
  - Show (sorting by "amount of open port) the list of Tor Routers
  - Count for each port, how many Tor Routers have it opened
  - Show for each port, the port statistics
f) Publish the Statistics result Summary
PHASE-3: Add CVE vulnerability checking
g) Use CVE scanning to match Vulnerability Level using as input data
   - "Nmap Application Fingerprinting"
   - "Tor Version"
  - Add data to the email sent to Tor Router Contacts the CVE
vulnerability match
  - Publish statistics for vulnerabilities present on the Tor Network
based on CVE statistics
PHASE-4: Full Public Disclosure
When the network reached a good level of Network security  with almost
no or few security vulnerabilities, it would seems reasonable to me to
do full-public disclosure of that process and data.
I mean, those kind of data can be collected by anyone with 2 command
line, so they are not secret and it's not difficult to retrieve it.
So it's reasonable that, after a first assessment period, they got
So in that phase also the "raw data" will be provided.
The name of Tor Nodes, hostname, IP address associated with result of:
- Portscan
- Application Fingerprinting
- Matching with the CVE database
will be fully internet exposed dynamically, with grid where a person
would be able to see statistics of various type:
- All outdated Tor Servers
- All Tor servers running outdated software
- All Tor Servers running un-needed services (like a SQL Server)
- TOP opened ports servers
PHASE-5: Introduce a Tor Security Rating
Let's define a "Security rating" to provide a "number" associated with
each Tor Router.
That number could represent the "compliance" respect to a Best Practice.
All nodes would get assigned a Security Rating and that security rating
may be then used directly by Tor Client, for example to use only Tor
Routers that are known to respect the Best Practice.
a transparent way which servers are following a best practice.
In the end by implementing a process like that, in the medium term the
Tor Network will be much more secure because there will be a public
incentive in keeping a Tor Router secure and following a best practice.

@_date: 2011-12-21 14:14:50
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Automatic vulnerability scanning of Tor Network? 
That's probably the rate used to get fast scanning (-T Insane) that
caused triggering of an IDS alert (number of packets / time).
Apologise for that (it probably sent 1354 packet in 1 second).
Howevr this behaviour could be fixed by reducing the rate of packet
sending, spreading the portscan during a long time.
The "-F" of nmap scan 1-1024 port + /etc/services.
Nmapping from a debian system they are 1354 port.
If we would send "1 packet" every minute, it would take about 22hours to
complete the scan, bypassing almost any portscan detection system.
That way it would still be possible to map the opened ports / service
version, but without creating alarm or abuse complain.
What do you think?

@_date: 2011-12-22 09:59:49
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Automatic vulnerability scanning of Tor Network? 
I like seeing so much discussion on such a simple thing :-)
I remind that this portscan have been done:
- in 10-15 minutes
- while drinking early espresso coffee
- with 2 command line (wget+nmap)
- on a standard debian machine
- with standard apt-get package
- running a hetzner VPS of 6EUR/month
It's not a technically challenging operations and the rules that "if it
can be done, it will be done" apply.
Other people already have done it, but:
 * without good intention
 * without letting you know
Other people with "bad intention" typically target "a single port with a
mass Tor router scan".
The "bad intention portscan" are not detected by IDS and people are ok
with that.
That's not good because this situation trigger the approach:
"what you don't see don't hurt you".
While that full portscan "with good intention":
* is detected
* is publicly made available.
Then people "see it, perceive it" and so consider it like a risk.
That's just hypocrisy.
This situation remind me a thinking similar to supporting "closed source
 * It's better "not to see" so "you can feel more protected".
 * It's better "not to know" so "you can feel more protected".
But that's not the real world:
 * I prefer to keep my eyes open, not closed.
 * I hope anyone there would prefer to keep eyes open, not closed.
IMHO we should only consider, while debating about it, that this should
not be defined as "good or bad" but as "useful or not useful".
About portscan, some common point can be:
* A portscan it's not a sign of compromise *
* A portscan doesn't demonstrate intention to compromise the host, if
not followed by other sign of attacks *
* Any security operator running an Information Security Monitoring
system just know that. *
* Some people will just over-react to portscan (door-knocking effect) *
* Other people are already port scanning you privately (with the
intention to follow-up with an intrusion attempt).
Now i am even more convinced that it's good to do it.
Now i am even more convinced that's stupid to say:
Now i am even more convinced that this activity has to be done, because
a "good intention proactive approach" it's better than just passively
waiting for "bad intention proactive approach".
However, within the next couple of week i will not have much time to
work on it, i hope others will do and i am willing to provide some help.
While doing, the following best practice should IMHO follow:
* Setup a web server explaining the action on the scanning IP
* setup a reverse DNS like
* Advice the IP address of scanning onto the mailing list
I am confident that, following that early over-reaction, it can be
reasonably agreed that the medium terms results of an initiative are
positive and not negative.
In the meantime if anyone is interested in making a lawsuit against me
due to a portscan: please do it!
But think twice before: As i will publicly ask for legal support from
EFF against censorship actions coming from Tor Operators! :P
Let's joke, don't be too much serious :-)
Roger rabbit said something like "If it's not fun, i cannot do it" :P

@_date: 2011-12-23 11:13:33
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Automatic vulnerability scanning of Tor Network? 
Yes, i agree, we can find a common point.
We just all need to move in the same direction, with conflicts and
constructive criticism, but in the same direction.
Let's try to sketch down on a etterpad or trac ticket an idea on how to
implement something like this in order to:
- evaluating and pushing hardening of system/network security of Tor nodes
- avoid/mitigate alerts and risks for Tor Operators
That way we can try to match the needs perceived by all different
parties, balancing the risk/return of the initiative.
I'm gonna dump in this email a set of useful links collected during
browsing to do that.
We are probably not interested in Nessus & Metasploit AutoPwn, but it's
important to know that anyone can just aggregate everything into a chain
of automatic portscanning + vulnerability scanning + vulnerability
Python NMAP (A python library which helps in using nmap port scanner):
Python NMAP XML Parsing Scripts (nmap xml to sqlite):
Plugin Spotlight: Import Nmap XML Results Into Nessus
MetaSploit AutoPwn Integration with Nessus:
Tor NetworkScanner/ExitAuthority:
Scripts to extract exit-node, relays and their listening port:

@_date: 2011-03-09 19:23:15
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Making TOR exit-node IP address configurable 
Hi all,
i've been thinking and playing a lot about the various possible risk
mitigation scenarios for TOR exit node maintainer.
Now i need to be able to pass all web traffic trough a transparent proxy
in order to implement some kind of filters to prevent specific
web-attacks, web-bruteforce, etc, etc
One very interesting feature that's now missing from TOR and that would
need to implement such kind of proxying is to be able to bind the
TOR-exit traffic to a specific IP address.
That way would be possible to "mark" with iptables the TOR exit traffic
and just mangle this.
That kind of added feature would also allow a TOR exit node to re-route
the TOR exit traffic go away trough multiple interface in round-robin
for example, for multi-homed TOR routers.
Sounds to me like a small patch, but frankly speaking i'm not a c-coder.
Some volunteer?

@_date: 2011-03-09 19:43:12
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Making TOR exit-node IP address configurable 
It depends on how you do it.
The important things is to be really careful not to create "collateral
damage" while you apply some kind of security.
Avoiding damaging end user traffic must be a priority in such case.
That's a sensitive discussion i know.
There is an ongoing thread on tor-relays about the filtering of outgoing
portscans .
Mick summarized on tor-relays ml at best how useful it would be to make
some kind of very light filtering about the portscan for example:

@_date: 2011-03-09 23:29:16
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Making TOR exit-node IP address configurable 
You didn't got the technical need, the need is to redirect only TOR-exit
OutboundBindAddress make *all*, including intra-tor, communications go
trough that IP address:
"Make all outbound connections originate from the IP address specified.
 This is only useful when you have multiple network interfaces, and  you
 want all of Tor?s outgoing connections to use a single one."
I've been thinking about a settings for TOR-Exit only traffic.
Yes but that's more complex, with iptables you can redirect TCP ports,
but from your TOR node not all traffic going for example to port 80 is
http, but a lot of it it's TOR.
If you redirect it to a transparent proxy you'll break intra-tor
communications, and so you can't just make an easy redirect with iptables.
Still, don't judge good intentions.
It's not censorship but a chance to attract more TOR exit node
maintainer by simplifying the costs and risks in running a TOR exit node.
And that's still an experiment where to look at, it may be useful for a
lot of persons looking to run a less risky exit-node . :-)

@_date: 2011-03-10 07:46:39
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Making TOR exit-node IP address configurable 
Very cool, will participate, but please understand that one things is
censorship, another things is doing proper filtering for the benefit of
TOR's end-users and TOR network grow itself.
Detecting some kind of strong mangling of traffic is good, but a
properly done and finely tuned system:
a) doesn't provide trouble to end-user
b) is not easy to be detected
That way a TOR maintainer would be able to protect itself from serious,
concrete, demostrable web-attacks such as evident sql injection and web
brute force.
The TOR exit scanner as the final user will not even notice that and in
the TOR economics everyone will be happier :-)

@_date: 2011-03-10 08:21:45
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Making TOR exit-node IP address configurable 
Hey, i know that this is an unpopular topic and not very well
politically accepted one but still it seems that there is a growing
interest on it.
I feel like i need it and a lot of other persons would benefit from
making such kind of analysis. :-)
Again, that's true only if you are damaging user's traffic and so your
"filtering" doesn't break in any case:
a) don't break user traffic
b) don't break exit scanner traffic
c) break "just some kind" of more noisy and malicious/aggressive traffic
It's a matter of how things are done and with which compromise between
the user's freedom, the tor anti-censorship goal along with the need for
the TOR community running TOR exit nodes to reduce the risks and
increasing the amount of ISPs that would allow running a TOR Exit.
Let's make an example:
If i am an ISPs doing server hosting, like demonstrated by several
server disconnection due to portcan, i have some sensor to detect "very
common and very aggressive attack activity" even if i am a neutral
service provider.
My goal is to detect serious anomaly conditions that are putting "my
infrastructure" at risk (like for example heavy portscan getting out
from my infrastructure).
So, as an ISPs, to protect my other users in being a "neutral service
provider" i will try to act to prevent heavy portscan/attacks from
disrupting my credibility respect to the environment.
That means that even being a "neutral service provider" to protect
"other users" and provide the "service continuity" you would be doing
"only good" to detect and filter "heavy, clear and malicious attacks".
That would not break any non-clearly-malicious TOR user's activity and
would not break any exit scanner.
Look at this in such kind of prospective, with the good everyone without
a taliban's approachs :-)

@_date: 2011-03-21 15:42:39
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Any iranian linux server for testing 
Hi all,
a cool friend of mine made Sniffjoke, a very powerful software
( that apply multiple low-level
techniques to tweak stateful inspection systems used by interception and
censorship tool.
We would be really happy to be able to test it on Iranian networks to
understand if one of the multiple techniques used by Sniffjoke support
the bypassing of their filters at Layer3 (TCP level).
But to make such kind of testing we can use an older (blocked) version
of TOR, but still we would need access to a Linux server for a couple of
days that's located in Iran.
If there's anyone within the list having access to a Linux server in
Iran, possible not behind a firewall/NAT gateway, please contact me
privately so we can arrange some anti-censorship testing.

@_date: 2011-05-04 22:03:44
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] anonymous surveys via Tor? (about tor2web) 
I am joining the tor2web.org dns round robin in upcoming days (server
ready, basic setup on *.tor.infosecurity.ch, need to setup ssl and then
join the dns round robin).
Will have a look at the header stuff doing the setup (in upcoming days)
and forward to Aaron.
We've been also thinking as a tor2web improvement about using mod_layout
to inject a "header" and the page into an iframe (like free web hosting
company does for advertising) in order to put there:
- A disclaimer about the fact that it's a tor2web proxy and it's not
hosting itself the content (if there's an offensive web content, at
least it's evident that the server is not hosting the content)
- A Disclaimer that's half-anonimity
- A suggestion to download torbrowser to access directly via hidden service
This could be a way to provide a 'safer' tor2web.
It would be also cool to think about making tor2web with a php
application, to better fine tune the retries on hidden services,  have
better control on the output to print out the disclaimer header, making
the installation easier.
A friend made a rough php concept, need to get him on skype to know if
there was some progress.
Imho tor2web concept should grow in order to allow easier setup of leak
sites and other anonymous publishing initiative.
There are still scalability issues to be solved, mainly related to the
distribution of wildcard SSL key+certificate and centralized handling of
an internet domain name (that could be killed under hard conditions).

@_date: 2011-05-04 22:11:20
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] anonymous surveys via Tor? 
It would be possible to remove X-Forwarded-For from tor2web proxy:
* At apache mod_proxy_http level with a code patch:
Or better do it at polipo level with CensorHeader:

@_date: 2011-05-05 17:19:25
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] anonymous surveys via Tor? 
Fixed by using is getting implemented:
    +change-x-forwarded-for{block}

@_date: 2011-05-07 11:34:01
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] tor-resolve for hidden service: is the right behaviour? 
Hi all,
i've been testing the tor-resolve to see if i would be able to use the
TOR dns resolution against a tor-hidden service in order to verify if it
exists or not.
However it seems that tor-resolve always return an IP address for .onion
IP, regardless the fact that the hidden-service exists or not:
privacyresearch:~# tor-resolve test.onion
privacyresearch:~# tor-resolve test2.onion
privacyresearch:~# tor-resolve test3.onion
privacyresearch:~# tor-resolve test4.onion
My question is: It would be possible to have tor-resolve be able to
check if the hidden-service exists or not by resolving it to an IP
address or by returning "non existing host" ?

@_date: 2011-05-17 17:09:33
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] passive analysis of encrypted traffic and traffic 
That's what i asked some time ago to try your sniffjoke:
Some volunteer proporsed to provide a port-forwarding to exit from Iran,
but we would need 'raw socket' access to a linux machine to verify how
effectively sniffjoke bypass the Iranian Deep Packet Inspection Systems.

@_date: 2011-11-06 11:20:41
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Implement JSONP interface for check.torproject.org 
a) Javascript is a de-facto Web Technology that you cannot live without
b) Tor Browser Bundle has Javascript enabled by default
c) Almost no website today can work with Javascript disabled
d) You cannot design any Web User Interface for use with Tor Hidden
Service without using Javascript (if you don't use javascript and
asynchronous IO the user-interface freeze very often giving the "White
Page effect")
So i would really encourage the use of smart Javascript in order to make
user interfaces more responsive and more usable with Tor and in
particular Tor HS.
That means also stopping mystification of "Javascript" like an
"insecurity feature", the world has changed, has become "web" and
javascript is part of the technological framework that we need to live with.
I absolutely like the idea of the JSONP interface, simple and effective.

@_date: 2011-11-06 17:00:08
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Implement JSONP interface for check.torproject.org 
We should also consider that a lot of activism organizations promoting
freedom of expression are not technical and are mostly oriented on the
advocacy, marketing and communication skills maintaining multimedia
production tool and rich website.
A lot of such initiative run their "it infrastructure" as PHP web
hosting system + cloud tools (youtube for videos, twitters, etc), so
they cannot run on their servers a "Tor client".
Let's support that AccessNow  would like to
implement the privacybadge web widget, they have several options:
a) Check IP with locally installed cached-descriptors of a Tor running
instance. While that's possible it require you to be able to run Tor on
your hosting server, using a local webapplication to make the check.
b) Check IP with remotely installed cached-descriptors, thus "checking
in-the-cloud" for Anonymous/NotAnonymous feedback:
b-1) You have a local webapplication that make a DNS query to a TorDNS BL
b-2) You can call a remote webservices as a web "widget" embedded into
your website like google Analytics, Twitter Widgets, Youtube Widgets
I expect that, because such kind of privacybadge would be useful to
create awareness by the web visitors of tor supporter website, it would
be a very cool way to diffuse and promote Tor and awareness on anonymity .
In such case having something that can be used like a "web widget" "in
the cloud" (so just including some code into your webpage) provide very
usable features.
So a standard "web widget" would be very effective for awareness
campaign diffused on tons of websites.
Additionally if you think web, webmaster could be able (knowing from the
DOM of a webpage if the user is anonymous or not) to even further
customize their web user experience.
They may provide specific Tips and Advice on using Tor, providing direct
download links, putting up a RED or GREEN Web elements (backgrounds,
div, etc) to inform even better the user about his status and conditions
(Not being anonymous or being anonymous).
In theory something like that could also be done by not using JSONP but
by just downloading an Image that represent Tor-OK, Tor-NOT-OK, so that
the webmaster can download it via " I'm available for website pen-testing by the way ;)
Man, that's no more than a concept prototype, but for sure a production
code would require some careful coding, even if very simple :-)

@_date: 2011-11-09 12:00:12
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor and big files 
At GlobaLeaks we've been testing past weekend file upload of multiple
big files between a Tor Browser Bundle and a GlobaLeaks server running
on Tor Hidden Service.
The files was quite big, with more than 2.5gb of data, and the transfer
went ok (it took many hours, but it worked).
p.s. Call for Javascript Hackers: Anyone willing to implement PGP
Encryption Plug-in for jQuery-File-Upload:

@_date: 2011-11-17 21:49:00
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Vidalia for Iphone 3g - Covertbrowser 
We had a discussion on twitter about it, between various people, about
the concept that:
- they get something from the community
- they do not give back anything relevant to the community
At least it would be fair to release opensource the glue-code
modifications on how to embed Tor within an iPhone Application!
They said they still have not decided whether to do it or not:

@_date: 2011-11-21 14:48:37
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] What happen if one create 2000 exit nodes for 6 hours? 
What if someone create 2000 exit nodes in a shot, with 2000 different ip
address and a specific exit policy, for example targetting
twitter/facebook IP address spaces.
Let's say that the infrastructure will stay online for 6 hours.
Given that we have about 850-900 Tor Exit node, will such infrastructure
get about 70% probability of sniffing out all twitter/facebook traffic?
Rackspace cloud cost very few:
Some shell scripting magic:
Could represent a cost of $30/hour = $180 to keep running 2000 servers
for 6 hours.
Let's add some bandwidth, 1GB for each server, it's $0.18 = $360.00 .
That means that setting up for 6 hours 2000 Tor Exit Node with 2TB of
bandwidth would cost $540, about 400EUR.
Would an attack like this allow a a targetted eavesdropper to get,
within the timeframe available (6hour), with 70% probability the traffic
targetted to a specific set of IP address space?

@_date: 2011-11-21 22:00:33
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] What happen if one create 2000 exit nodes for 
It would be really nice to have a sort of web-apps to involve funding
communities around Tor Exit Nodes Initiatives.
Sets of independent Tor Exit Nodes or Groups of Tor Exit nodes
communities where the bandwidth handled dynamically by adjusting the
available Tor bandwidth on the basis of current available funds.
Having some sort of configurable schema, so that the available money
collected can be used in calculating the variable bandwidth costs with
different parameters:
- Minimum monthly bandwidth provided by the node
- Maximum monthly bandwidth
- Month of survival (how much current funds must keep the node running
if no other funding come-in)
That way the administrator can know in advance if he need to do more
campaigning to attract recurring funders to keep the node running.
A person would be able to precisely donate "the amount of monthly
bandwidth" he like, and what that bandwidth represent for his motivation
in funding.
The "bandwidth" donated would be also represented by:
- average number of times a iranian/chinese users visit facebook
- how many internet search has been done without filters
- etc (more end-user understandable concepts)
Giving a user a choices, with nice js selectors calculating the
parameters that make him get satisfied with his soul, would make Tor
funding really perceivable by end-users donating.
Integration with social networks, such as facebook funding app, to let
support communities aggregate also there, increasing the ability to get
Yeah, it sounds me like it's a set of disconnected ideas

@_date: 2011-10-02 14:29:07
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor as a sort of "library/dependancy" for third 
Well, but what's about all the "external files" that Tor need such as
configuration files, the cache files, and so ?
Even embedding the Tor.exe would require some external files.
I am wondering if it would be possible to think about "embedding" all
the external files as Windows PE "Resources"?
But would probably means doing much more windows hacking than a short
terms goals of making up a prototype!
Still it would be a nice things to think about a Tor client with
"everything" built-in into a single executable, including external files.
Another possible approach could be to:
- Start the program
- Create an encrypted directory using a random key (with windows
encryption system and/or apple filevalue)
- Uncompressing everything into that directory
- Starting the "programs"
- When the program close deleting the files and the encrypted directory
This could eventually be another ugly hack to provide the end-user the
same experience of a "single, self contained .exe file" ?

@_date: 2011-10-02 21:23:15
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor Reject Exit Policy to Syria, Iran, Belarus, 
i made some dirty stats by looking at all "reject" lines in Exit
Policies from cached-descriptors.
Then i sorted them, uniq'ed them and made a geoip look on top of them.
Attached you can find the file on which stats are done
(cached-descriptors extraction from 2 October 2011 20.30 GMT+1).
The scripts (ugly and dirty) and files of brief analysis are:
RESULT-1: SCRIPT-2: It's interesting to notice that the amount of IP blocked in Tor Exit
Policies for countries that apply censorship are:
SY 147
IR 76
BY 43
SA 30
MD 8
QA 6
It would be interesting to further analyze:
- Which Tor Exit Node  reject IP to Syria, Iran, Belarus, Saudi Arabia,
Moldavia and Qatar?
- Which is the reason to block IP addresses destinated to that country?
- What's running on that systems to get blocked?
It would probably require some further investigation, but weekend is
finishing and i have no more time to look at it.
If someone would like to check it, eventually using some python magic
with a parsers of cached-descriptors fine, it would be interesting to
see the results and/or resulting tool to make the analysis.

@_date: 2011-10-03 21:31:36
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor as a sort of "library/dependancy" for third 
An interesting discussion on that topic it's available on:
However let's rationale which could be the real usage for a Single
Imho the matter it's related the usability, the single executable give
you the feeling:
- download
- execute
without having to "install" it .
Let's see the steps required to start using tor browser bundle:
The user action of "installing" it's related to the fact that the user
need to make a choice of something related to a "system setup".
In TorBrowser bundle this require the user to:
- dealing with the concept of "extraction"
  Really dumb users doesn't know what file compression is, some doesn't
even know what file size.
- dealing with a decision of "where to extract".
  That relate to interacting with the system and a really dumb users
fear doing actions for which he don't know the consequence.
There are a lot of users that "are not even able to install firefox"
with his own easy to be used wizard, and that kind of users today are
not able to use Tor Browser Bundle.
And yes, that kind of users exists, i meet many of them!
Those two small usability issue could be fixed by a single executable.
Those are reasons elaborated for which i really wanted to target making
a Single Executable.
Considering that a Single Executable it's a difficult stuff, we could
maybe reach the same usability improvements goal with another approach.
The same result could also be achieved without having a "Single
executable" by following a workflow like this to TorBrowserBundle.exe:
- User click on TorBrowserBundle.exe
- A nice splashscreen popup to the user
- A progress bar inform the user that Tor it's initialing
  - Extracting to TorBrowserBundle Directory ...OK
  - Starting Tor...OK
  - Initialing Tor Connection... OK
  - Starting Firefox... OK
Then the browser show up to the user.
The browser show at first page :
- useful information about Tor
- useful information about this tor installation (informing the user
about the newly created Directory)
- include the CheckTor page to verify he is really using Tor
By using that approach the user will not have the feeling of
"installing" something and also "really dumb users" will be able to use
Tor Browser Bundle because no "technical" decision has to be taken by
the user in order to use it, no fear of breaking something, no
compression/extraction concept to be understood.
Technically, the downloaded file TorBrowserBundle.exe would transform
itself in a nice iconized link to the
TorBrowserBundle/TorBrowserBundle.exe allowing the user to later click
on it.
The user click on "what he downloaded" before, without looking around in
other places from where to start the software (that's something typical
when installing software).
That way the user actions required to use Tor Browser Bundle would
reduce to:
- Click on download link
- Accept download
- Start the software
What do you think?
That's a valid reason not to do it.
Another one would be the need to uncompress every time 50MB to the user
disk that, if running a slow computer, could take some time, doubling
the disk space requirements for running Tor (100MB instead of 50MB).

@_date: 2011-10-10 08:11:46
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor Browser Bundle: PGP encryption built-in? 
Hi all,
is anyone evaluating whenever to include PGP encryption support into the
default Tor Browser Bundle as a Firefox extension?
I looked at the implementation and:
* FireGPG it's discontinued   It also seems it was using a "bad design" practice for the IPC
communications between various modules.
* NPAPI based GPG is just released (by old FirePGP contributor)
  Having a support for GPG encryption into a generic browser, with PGP
operations usable from Javascript/XUL, could open a lot of improvements
and opportunities to secure Webmail and other web applications.
At  we'll most probably need such kind of support
into the browser and we're wondering if this could accomodate a standard
"requirement" of the Tor Project for the Tor Browser Bundle.
It would be also possible to easily make very simple "XUL" interfaces to
handle basic PGP based file encryption operations, de-facto bundling a
GPG client (with a Browser UI) into the TorBrowserBundle.
What do you think about it?
We're going to make some experiment in trying to build
 + GPG +
 .

@_date: 2011-10-10 17:40:48
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Fwd: Tor Browser Bundle: PGP encryption built-in? 
Hi Kyle and Aaron,
let me answer to you by making in Cc the tor-talk mailing lists where
there is an on-going discussion about it.
It has been suggested that FireGPG is unsafe
( your approach by
design sounds very nice.
I am wondering whether it would be possible to add another simple
security mechanism so that the user is "alerted" anytime a GPG related
operation is going to be executed.
Something like:
"The website blahblah.com would like to use PGP to [encrypt|sign|cipher]
web-data, do you want to allow it?"
Ransom, what do you think about Kyle and Aaron approach? (Eventually
including a "pre-warning" for any sensitive operation to the end-user)?
By embedding a GPG support into TorBrowserbundle, the Tor Project would
eventually provide a "Trusted PGP Key lookup server" on a Tor Hidden
Service that forward the PGP key lookup to public internet key servers.
I mean, today everything goes over HTTP, but our browsers are capable of
doing end-to-end encryption only by using Javascript.
Why not try to "enable" the best of Anonimity (Tor) + best of Web
Browsing (Firefox) with best of encryption (GPG) ?

@_date: 2011-10-10 21:35:38
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Fwd: Tor Browser Bundle: PGP encryption built-in? 
I would like to summarize that idea with some considerations:
Webpg-npani is not FireGPG
 * FireGPG is discontinued and it's ok if it has security
 * WebPG-npapi is an active project
 * WebPG hackers would be happy to work with Tor Project on integration
Security Improvements
 * Several security measures are already in development
 * Security could be always improved to satisfy various level of paranoy
 * Tor Community it's plenty of "truly certified paranoid hackers"(c)
and can work all together to define security requirements
* Data encryption is today only for power users
* Improve usability of end-to-end Encryption tools bringing it to the
  * Users are dumb
  * The users noways use a browser
  * Javascript encryption exists but have several drawbacks
  * Data encryption to be used by the user have to stay into the browser
  * A Browser PGP support is an enabling tool for encryption diffusion
Many different use-cases could be later implemented by a community.
  * Webmail plug-in for end-to-end GPG encryption
  * File upload of TorBrowserBundle could always provide an option to
encrypted the uploaded file regardless of the web application used
    * With PGP based on Public Key
    * With a PGP based symmetric password
  * File download of TorBrowserBundle could always allow decryption data
  * Simple plug-in could born to use the facility to encrypt text form
on social networks (vecna was working on a general tool to do data)
  * Other for sure would come
What do you think about it?

@_date: 2011-10-10 21:54:50
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor Browser Bundle: Usability Improvement Proposal 
Hi all,
i would like to propose some usability improvement for TorBrowserBundle
for Windows, in order to make it more usable.
Reduce to 3-clicks the requirements to use TorBrowserBundle on Windows.
Today the Tor Browser Bundle require the user to make several action
before using it that can represent a stopping-issue for unskilled and
uncertain users.
Especially the user require to:
- dealing with the concept of "extraction"
  Really dumb users doesn't know what file compression is, some doesn't
even know what file size.
- dealing with a decision of "where to extract".
  That relate to interacting with the system and a really dumb users
fear doing actions for which he don't know the consequence.
In doing this the user have to do several clicks and choices.
There are a lot of users that "are not even able to install firefox".
They fear to damage the computer in doing some actions for which they
don't know the consequence.
I'd like to propose a new simplified way of using TorBrowserBundle as
- User Download the software
- User click on TorBrowserBundle.exe
- A nice splashscreen show to the user
- A progress bar (below the splashscreen) inform the user that Tor it's
  - Extracting to TorBrowserBundle Directory ...OK
  - Starting Tor...OK
  - Initialing Tor Connection... OK
  - Starting Firefox... OK
- Then the browser show up to the user.
- The browser show at first page :
  - useful information about Tor
  - inform the user about the newly created directory
  - include the default CheckTor page
By using that approach the user will not have the feeling of no
"technical" decision has to be taken by the user in order to use Tor, no
stopping-fear of breaking something, no compression/extraction concept
to be understood.
The user the next time that want to use TorBrowserBundle will not need
to enter into the Installation Directory but will always be able to
start the software from the same file he downloaded
That way it would really be a 3-clicks step for the user to use Tor
Browser Bundle:
- Click on download link
- Accept download
- Start the software
What do you think?

@_date: 2011-10-10 22:29:26
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Ideas to securely implement PGP encryption/decryption 
Hi all,
i understand all the doubt from Mike and Ransom about the possible
exposure of user's security trough the exposure of functionality that
can be "called by a remote web-application".
This is an idea to mitigate most possible security issues:
 * Put the encryption functionality into the hands of user actions
 * Provide minimal interaction between Javascript/XUL functionalities
Basically a user would like to encrypt/decrypt/sign:
 - text form
 - file uploaded/downloaded
That kind of actions could be implemented like explicit actions that the
user have to take.
* Text form Encryption
 - Right click on web/text form -> Encrypt/Decrypt
* File Encryption
 - Upload Box can provide an option (in the file browsing window) to Encrypt
 - Download Box can detect if it's encrypted, and provide an option to
Decrypt (in the file download box)
This would work without any server-side
invocation/manipulation/whatsoever trough client-side code that could
expose vulnerabilities.
That way there will be a "user firewall" between the encryption
functionality and the possible active content coming from the server
mitigating the risks of possible XUL/XSS and other attacks coming from
active-javascript calling XUL.
Also Key Management functionality could stay off protected by making a
proper section (XUL) under Firefox options/menu that the user can use.
No code coming from the web would be allowed to interact with the
plug-in but the end-user will still have all the encryption features
under his power, usable in a modern web-based world.
What do you think?

@_date: 2011-10-10 23:18:12
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor Browser Bundle: Usability Improvement Proposal 
Yes,but please consider that TorBrowserBundle/OSX already required only
3 clicks from download to start:
- Clikc+Download automatically
  Safari does it automatically placing the file in Downloads directory.
- Drag TorBrowserBundle app to Application
- Start application
You should think to reduce the entrance barrier to as many person as
possible, there are context where anonimity it's just something that
someone else you trusted referred to you.

@_date: 2011-10-12 09:49:06
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor Browser Bundle: Usability Improvement Proposal 
Hi all,
i didn't know about all that customized TorBrowserBundle, but this
confirm that there is a community need to:
- Improve the usability of TorBrowserbundle (click-and-run)
- Customize/Brandize/OEM the TorBrowserBundle
That means that the Tor Project should provide "it's official way" of
implementing this "OEM customized version".
If i understand correctly this SBrowser282 doesn't introduce any kind of
vulnerability or security issue but they just made:
- Click-and-run executable (like the beginning of this thread)
- Changed executable icons
- Add some firefox bookmarks
- Changed firefox start-page
I think that we should open the discussion on the two topics that are:
- Usability of the TorBrowserBundle.exe installer
- Customization of TorBrowserBundle.exe by third parties
==== Usability of the TorBrowserBundle.exe installer
On that topic i really think that the click-and-run is a desiderable
behaviour for most users.
Most portable apps work that way, click-and-run.
Now TorBrowserBundle doesn't provide "an installer" or an "installation
wizard" but just an guide-less, information-less "extraction window".
I see a couple of option:
 * Or we implement "a real installer" (not just an "an extracter") that
provide useful information to the user guiding him trough a wizard
 * Or we implement a "click-and-run" approach that's desired behavior of
a "Portable App"
==== Customization of TorBrowserBundle.exe by third parties
On that topic i understand the russian guys needs.
I think that Tor Project should provide a way to "customize the
TorBrowserBundle" without breaking his integrity.
To do so i would suggest to allow customization of:
 * Executable Logo
 * Default Firefox Bookmark
 * Default Firefox Start Page
 * Installation Method: Click-and-Run or Manual Extractor
That kind of information "could be stored" into Windows PE resources and
edited with a "resources editor":
 .
The Installer will behave accordingly to Click-and-Run or Manual Extractor.
The Firefox will behave with the appropriate Bookmark/Start Page as per
TorBrowserBundle OEM customization.
This would allow a third party to make "their own" TorBrowserBundle by
preserving the integrity of the installation itself and by allowing to
configure the desired behavior.
I think it would be better to think about providing an "official way" to
do modifications to the TorBrowserBundle.exe:
- without breaking the security design
- with "co-branding" (no rebranding, that means accomodating an
"additional splash screen logo and not a replacement)
- reduced effort for third party that want to make such OEM (no
recompilation, just minor modification to Tor release binaries)
- Documentation to follow a specific procedure to customize it
 and with reduced
What does the Tor Community think about such an approach?

@_date: 2011-10-12 09:59:44
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Ideas to securely implement PGP encryption/decryption 
Should we start about thinking on how to plan for implementation?
Eventually how to follow an approach for a proposal?
Should we try to create a single ticket with a proposal for
implementation and for security requirements/evaluation/tasks.
Or it's better to create multiple-tickets, for as many as could be the
features provided?
For example:
- WebPG inclusion
- Key Management menu
- File Encryption/Decryption
- Web Form encryption/descryption
and then on each of them (tickets) discuss about:
- Security consideration/sandboxing to be done
- Functional specifications (how it should behave properly)
Even making a summary of this thread would allow to summarize most of
the feeling, doubt and TODO that would be required?
What do you think?

@_date: 2011-10-30 18:00:39
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Freedom Hosting admin revealed by Anonymous - Tor 
hahahhaha, it's very fun to see attempt to bring shame against Tor
Project with useless claim!! :)
That's stuff are really annoying, i don't even expect it would require
any official statements/answer.
Sounds like an attempt to setup intelligence psyop to create distruct
bringing "unverifiable news" to public media...
The only doubt i have is:
- is some young kiddies trying to get authority ?
- is some intelligence agencies managing a psyop ?

@_date: 2011-10-31 08:53:56
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] [announce] MAT 0.1 is out 
Are there plan to support also standard Office <=2007 files without
Those are very diffused and very often used by people in place of
OpenXml for compatibility with legacy installed office versions.

@_date: 2011-09-22 14:55:53
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Idiotical abuses against Tor-servers 
Also my node privacyresearch.infosecurity.ch received such a claim,
answered with standard template to Hetzner.de abuse complain system and
claim has been considered fixed. (server still up)

@_date: 2011-09-23 15:24:53
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] How to verify the authenticity of the Torbutton xpi 
Skip the TorButton and use the more safe TorBrowser Bundle:

@_date: 2011-09-28 15:35:04
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor as a sort of "library/dependancy" for third party 
Hi all,
at GlobaLeaks ( we are discussing whenever to plan
for a GlobaLeaks Desktop application that would allow secure and
anonymous whistleblowing submission without using a 'web interface'.
In such context we would like to provide something *really easy* and
that means bundling everything into a single, portable, digitally signed
.exe .
To do that we would need to bundle Tor binaries/configuration along with
GlobaLeaks application.
Are there other third party application bundling Tor together that we
can look at?
Which would the best/right way to do it?
p.s. The alternative to provide the same degree of security/usability is
to use a Java Applet with file upload+file encryption+silvertunnel as a
Tor Client layer.

@_date: 2011-09-29 08:38:18
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor as a sort of "library/dependancy" for third 
Disclaimer: That's becoming slightly off-topic.
First of all GlobaLeaks doesn't try to address *all possible conditions
of whistleblowing* but most of them, starting from a very paranoid
approach (ex: a whistleblower in Iran submitting sensitive material or
even an Italian employee of a public administration in south of
Italy...) up to a absolutely relaxed approach (ex:corporate environment
integrated with active directory for whistleblower
Second we must always think:
Who is the "average whistleblower" in the real world (not in the
wikileaks mediatic world)?
It's an ignorant. It's someone that's not practical with technology.
You need to think that on other other side of the monitor there is a
"dumb user" that may have a valid motivation or not for his
submission/report and he is prone to making mistake..
Even if darwin told us the story about the evolution and that person
should evolve or die, because a submission by a whistleblower can be of
public interest, we should try to help him in avoiding making too much
mistakes (at least with technology).
Then, because Whistleblowing is not "technology" but it's something
human and social, the mistakes are mainly done into the "social sphere"
and not into the "technological sphere".
We're trying at least to provide ways to "reduce" the mistakes that a
Whistleblower can do on a "technological sphere".
The context of use can be "so many" that we can only generally work on
different submission process with different degree of usability vs
security scenario and make them available.
Like Tor, that's agnostic respect to it's use.
Then the "humans" will do the rest.

@_date: 2012-04-09 20:22:27
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] 4G/LTE 
It help if the provider log all NAT translation.
The provider can tell to the LEA, given a specific target IP, that
"this/those user(s) established a connection to that target IP".
Typically it would be a single user, but even in case of many users,
traditional other criminal investigation/correlation will help LEA in
identifying the right user.
For example in Italy Fastweb ( fiber internet provider,
that have for end-user a big MAN with private ip address, do NAT
translation logging and LEA reporting when required.

@_date: 2012-04-19 17:50:23
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Another openssl advisory: Tor seems not to be 
Should we move all the "listening part" of Tor to an empty Chroot?
That way, even in case of a software exploit against OpenSSL, there
would be no serious risks of compromise due to OpenSSL code (a big, fat
library) running in it's own chroot.
Apache does it with Mod_Security:
ProFTPD does it with DefaultRoot:
OpenVPN support Chroot by commandline argument.
I'm wondering how complex it would be to implement Chroot support for
Tor, directly within Tor code (with no painful sistemistic tricks).

@_date: 2012-08-04 12:01:39
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor on Raspberry Pi 
Now that Rasberry Pi support Android, it maybe easily possible to use
Guardian Project's ORBot to implement it, by creating a custom Android
It would be really cool also to see in future a CryptoCat Server or
GlobaLeaks server running on Android over a Rasberry Pi| :-)

@_date: 2012-12-01 16:00:00
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] William was raided for running a Tor exit node. 
Imho Tor Software should provide by default a little piece of software
built-in to manage abuse complaint, drive abuse complaint, and inform
users about the role of that kind of IP address.
After we introduced an abuse complaint banner within Tor2web visited web
pages, the server-takedown issues has been strongly reduced.
That is because when someone see an IP or website, the first things try
to goes on on the IP/web with a browser, where it find a proper path to
Send an Abuse Request with a useful form that send an email to the
Tor2web node maintainer.
That way:
- The investigator is immediately informed of what's going on, what is that
- The investigator is given immediately a way to get more information
and make his abuse complaint
- The Node owner can receive the notifications much easily (and much
probably!) and can answer
This would probably be something *very valuable* for any Tor Exit Node
maintainer if Tor software would provide such kind of facility to
- understanding of a third party
- drive the abuse/more information request actions
If the law enforcement:
- Don't understand what is that
- Don't have a way (an easy way) to contact the owner of the server
then more probably will proceed "by office procedure" to the seizure.
So my point is that the software itself could be improved to facilitate
such kind of "good behaviour" .

@_date: 2012-12-09 11:15:57
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Botnets through Tor 
Just FYI, at Tor2web abuse handling email we never received a specific
Botnet related complaint.

@_date: 2012-02-02 08:52:09
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] TBB Users: We Need New Directions on Torifying 
We had a nice discussion on IRC about the idea of integrating into
Vidalia a funcitonality to provide easy torrification functionalities
for third party application.
Immagine "a console" providing functionalities similar to FreeCAP (
 to be available within Vidalia, so that a
user just do:
- Add Application
- Select Application
(Vidalia provide a view of the Application icons that, when started from
here, will be socksified)
- Click on that application from within Vidalia
- That's it
Now that TorCap2 has been applied an opensource license we have the
relevant OSS code to implement it on:
- Windows
- Linux
- OSX
A functionality like that would probably make most other applications
"obsolete" and unuseful as there will be a simple and unique way to
socksify an application.
p.s. yes, someone will say that it may be dangerous to socksify
application that leak IP address inside their protocol payload. We
cannot prevent users from committing suicide, at maximum we can provide
a warning that suiciding it's not always a good choice.

@_date: 2012-02-19 16:34:59
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Improving Usability of Tor Browser? A new TBB-simple? 
Hi all,
Here some consideration to create a new simplified TBB version.
Something to provide the extreme simplicity a user may expect that may
work having two TBB.
Let's say that the basic need of this TBB-simple is just to "visit web
pages anonymous, no frills".
So something that works that way:
- the user can click on it
- a browser window open in front of his eyes
- the user insert an url
- the user visit a web page
- at the end of browsing session the user close the application
Nothing less than just web browsing anonymously ("Read-only", no cache,
no addons, nothing else).
To reach that point i would see, thinking of TBB:
- Vidalia
It include vidalia, the unskilled user doesn't know what it is and what
is doing, will never user and and it's existence may create unneeded
anxiety.If the user doesn't know something, fear to touch it to broke
it, we are providing a bad user experience).
Let's remove Vidalia from this TBB-simple, because the "simple" user
doesn't need it.
- Installation/copy
For the installation the user must have an experience of a
self-contained software that doesn't need anything else to work.
This imply that no "installation" procedure have to be done by the user.
- OSX
For OSX the usability is already high
 .
DMG packaging provide another improvement to user experience, and is
undergoing  .
- Windows
For Windows things are slightly more complicated.
A workflow ideas was here
 .
In that case we can just create a temporary directory with Tor+Firefox,
start both application, and when both application exit just delete the
temporary folder.
The user will perceive, in terms of user experience, a very simple
one-click application without any additional complexity to be considered.
- Browser options
Most browser options for a read-only and simpler TBB would need to be
disabled. No addons installation, no network configuration, nothing more
than a stripped-down firefox to browser the web.
The user must not even have options to deal with anything else that
could provide for him a complexity or a risk of breaking something.
Trying to fix the easiest way, the simpler basic need: browsing
anonymously (and nothing else).

@_date: 2012-01-05 12:37:38
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Deterministic builds? 
Some sparse ideas:
- Provide a small Integrity verification tool that and end-user will be
able to use to verify the software integrity of the "Officially
released-build" that have been build by "Recognized trusted persons"
- Provide a small "Tor Download Tool", a very lightweight verifiable
code, that allow and end-user to "Download latest release of Tor" in a
verified and trusted way
  IE: If the Tor-Download tool is trust-able, than it may implement all
the integrity verification tool measures.
However, sincerely, i do not think end-users will be verifying it.
Only if the methods and tools are "dumb-proof", than there are "some
chance" that users will really verify it.
Additionally i'de like to make a consideration, for verification
approach (and i would say also for all the build-system related issues),
to consider Third party developers that are willing to integrate Tor
into their systems.
IE: Let's envision Tor being a "Platform" that Third party can embed
into their applications, something like:
- Specialized Client (TBB based) for Whistleblowing
- Specialized Client to Access specific Web resources
- Porn based access-client (think about the 15yo teenager in Saudi...)
In that case the "Build system" and integrity verification tool should
consider that:
- Some of the binaries will be the one officially released by Tor Project
- Some of the binaries/directories will be available for
modification/adding by third party developers
So i would suggest to keep this consideration, third parties willing to
use and ship software including Tor Project software (if possible
without rebuilding it, and if possible delivering similar integrity
checking measures).
It maybe provide some kind of overhead, but would look for medium-long
term solution where third parties will start using Tor as a sort of
"Private Middleware" for secure and/or anonymous networked-resources access.

@_date: 2012-01-06 13:33:58
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Bootstrap speed of Tor Client 
i did noticed that Tor sometime take a lot of time to make a bootstrap,
especially when using private bridge.
Wouldn't make sense to ship Tor client with latest available consensus
and directory information already built-in?
A part from the implementation complexity (on-the-fly packaging of Tor
Bundles with updated-information):
- Is this something that would speedup Tor client Bootstrap?
- Are there security implications in doing so?

@_date: 2012-01-08 13:01:23
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] A question about Tor & Hidden Services 
That would be extremely valuable, especially for third party application
that would like to automatically setup a TorHS to expose itself to Tor
Darknet, with as much cross-platform methods as possible, by keeping all
the relevant data in the application database (ex: GlobaLeaks).

@_date: 2012-01-09 10:47:17
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Country statistics details 
Hi all,
i wanted to ask the list, what do you think about improving the
statistics for the country of use of Tor, so that there would also be an
additional regional details for large countries?
For example, if we think about china, it would be very useful to have
knowledge on the diffusion/use of Tor in various province.
I saw about 2500 ip networks from china, and almost all of them in the
whois have the 'label' of the province to which they refer.
It would be very cool to have statistics on diffusion among various
chinese province, china it's almost a continent on it's own with
1.3billion ppl!

@_date: 2012-01-10 00:39:50
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] On the arm race with chinese 
the funny things is that they are among us.
Most probably the guy that wrote the Chinese Tor protocol probe is
subscribed to that mailing list.
And now he feel observed.

@_date: 2012-01-13 17:48:33
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] How to make 100.000 bridge? 
Hi all,
i've been thinking about the bridge issues.
Specifically about the fact that the entrance barrier to install a
bridge it's quite high.
You need:
- someone with technical skills to install a bridge
- an internet exposed server where you can install your own software
that run in background
Those kind of requirements provide a very high entrance barrier for
anyone that would like to "support freedom of speech".
I've been thinking about a different model that would strongly reduce
the entrance barrier to install and setup a "bridge".
Introduce a concept of "Stateless bridge" that basically just act as a
TCP forwarder between a Tor client and a Tor Relay, making it easier for
anyone that's able to manage a web hosting panel to participate and
provide the availability of their system.
To do so we make think about a stateless bridge that use HTTP/HTTPS as a
transport and that's provide as a single .php/.jsp/.py/.ruby application.
That way anyone would be able to just drop a single file into it's own
web space and this "Stateless bridge" would be represented by a URL .
So a "Stateless bridge" like this would not require to insert a bridge like:
But as http(s):// .
I expect that a "communication campaign" to get people install such kind
of bridge would really provide *much more* installation.
Anyone with a basic web-related skills (even just managing a cpanel of a
webhosting company), would just need to "upload" it.
Such kind of "Stateless bridge" could be provided as a Wordpress
Application, so that all Wordpress users would be able in a couple of
click to install it.
The amount of such kind of bridge that would get installed by the crowd
would probably be extremely higher.
Obviously this would need the support, into the Tor Client, of an
HTTP(S) based transport.
This method does not want to solve any issue related to Bridge
distribution, but to think about a way to extremely-simplify and
increase the ability to provide participatory support to Tor network.

@_date: 2012-01-13 18:50:56
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] How to make 100.000 bridge? 
Yeah, that's a cool project and it's something i really hope will
distribute a lot.
However Tor cloud it's still something that require you to:
- setup a new server (even if somehow easily)
- that you cannot control/manage unless you're a linux man
- eventually support some costs
The "Web world" (including webmaster, blogger, general poweruser) is
much wider than the *nix world and that kind of users already have their
own paid systems.
A webmaster would be able to setup on all his managed website the .php
file working as stateless bridge, all wordpress user would be able to
install it.
I mean, the user base and the simplicity of the procedure to get engaged
in supporting the tor network would be much more important if the only
action that a person have to do is:
- Load a .php file on a webroot
- Install a wordpress application
People would be able to make intra-blogsphere campaign to install such
tools to support Tor circumvention tool.
So if "the masses" are able to install something extremely-simpler to
support "other masses" it would unlock the big power of crowd sourcing.
Even a dumb and lazy person, could be able to support quickly and easily

@_date: 2012-01-13 21:43:13
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] How to make 100.000 bridge? 
Yeah, but that's an implementation issue, requiring modification of Tor
Client and Tor Server to accommodate a transport system that can work
with multiple TCP connection for a single client.
TLS have also a session resume mechanism, maybe useful, to
suspend/resume/reattach sessions?
However the point is, assumed that could be technically feasible to do
it so that for end-user it's really easy to use, how really it would
increase the amount of 'bridge'?
I mean, how many additional different IP addresses and hostname could be
donated in support of Tor?
Reducing the entrance barrier by simplifying the active actions of
supporting Tor network, could make the network exponentially increase
it's "nodes" ?

@_date: 2012-01-14 10:14:59
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] How to make 100.000 bridge? 
Very nice approaches!
I see the concept of 'proxy server' in point "Five".
However both solutions seems to me not being able to scale in numbers:
- Proxy server
- Flash plugin
Especially for the following reasons:
- For Flash plugin
  - the distribution of facilitators represent the same bottleneck issue
of bridge address in terms of numbers.
  - End-user workstation are typically behind NAT so not directly
- For Proxy server there are the same problem of Tor, as a volounteer:
  - Volounteer need an internet-exposed server
  - Volounteer need to run software in background
  - Volounteer need to eventually have system administration skills
I've been just thinking that as requirement/goals for proxy server we
would like to achieve:
 - a huge amount of IP address acting as entry point
 - a huge amount of hostname acting as entry point
 - an extremely easy way for installation of an entry point
 - an extremely low requirement for installation of entry point (no
background process running)
 - no issue in internet-exposing entry point (no NAT in the middle, like
for most home user's browsers)
All those requirements doesn't seem being satisfied by:
- a 'generic proxy server software' (being it socks or http)
- the flash plug-in approach (that provide the bottleneck of number of
but they seems satisfied by single web application approach.

@_date: 2012-01-14 19:43:41
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] How to make 100.000 bridge? 
Well, that's the main point, to find out "solutions" that even if may
appear sub-optimal from technical point of view, could be optimal to
leveraged the crowd effect.
To let the crowd get engaged in participatory Tor network support,
participation must be extremely-simple and extremely-low-resources.
Anything that goes above extreme simplicity represent a limitation to
the crowd-scalability of a solution.
Nowdays internet = web.
Users think web.
Everything else, including concept like "TCP port" or "NAT" can be
difficult to be understood.
It would be interesting to imagine a future situation where the Bridge
concept evolve into a simpler software acting just as a proxy, but being
deploy-able as a web application and usable as web url.
A Tor Client (in a tor-blocked country) can just:
- start tor
- type a bunch of URLs (in place of bridges provided as IP:Port)
- navigate via TBB
Any webmaster or blogger can participate to the Tor network just by:
- load a single .php file on an existing website via hosting control
panel/wordpress/drupal/joomla installer
The 'Web World' is much bigger than the '*nix nerd world', so being able
to engage them in support for Tor would eventually create a huge amount
of Tor proxy.

@_date: 2012-01-15 16:58:17
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] How to make 100.000 bridge? 
That's nice, but it's something that have the following limitations in
terms of scalability respect to a web-app:
- Many end-user connectivity is not typically internet-exposed (have to
do manual mapping on *DSL/Cable/Fiber modem)
- end-user have to leave their PC powered-on 24/7
- It require maintenance, end-user should have to keep up-to-date with
Tor version (receiving a newsletter, downloading the software, upgrading
the software)
So, very lazy supporter, that would just drop a PHP file on it's
webroot/wordpress and forget, would still be out of crowd-support to Tor
Lazyness rule the world!

@_date: 2012-01-15 16:58:56
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Bridge: Why not just stateless TCP socket proxy / 
does Bridge really need to be Tor Servers?
Why they can't be just be simpler TCP socket proxy?

@_date: 2012-01-16 09:29:41
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Bridge: Why not just stateless TCP socket proxy / 
So, if a third party would like independently to:
- develop a TCP forwarder (very simple  code)
- submit to the BridgeDB
- decide to which host to connect back
which would be the step do be done from technical standpoint of view?
Because that way it would be possible for a lot of third party to
develop very lightweight "Tor TCP Proxy" that doesn't have inside other
than the basic logic to do the TCP Proxy.
Is the availability for third party software/script for that goals

@_date: 2012-07-01 12:34:18
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Anonymous Publishing Is Dead. 
May i give you some hints about the future scenarios for which we could
see diffusion in 2013 about the two topic you underlined:
- Anonymous Publishing
One of the new frontieer of Anonymous Publishing is given by the Tor2web
Project that is growing and making important progress, has a plan
( and people
working on it (
With Tor2web you can setup a Tor Hidden Service on your own PC and be
online in matter of minutes, exposed to the internet under *.tor2web.org
(or other domains such as Tor2web.is and other will come).
You may even place in front of your TorHS, internet-exposed via Tor2web,
a CloudFare.net frontend or other "cloudizer" to improve performance
improved caches.
Additionally, i hope that we will see a new wave of "anonymous
applications" that can be setup easily on your own desktop computer and
easily exposed via TorHS.
This should be enabled by APAF project, now in development as a GSoc on
 .
Think when we'll see "AnonymousBlog.exe", a self-contained APAF
application that let you securely and automatically publish your own
blog on TorHS in a dumb-end-user-proof way, having it automatically
exposed via Tor2web.
When we'll reach that in a scalable way, i think we'll have setup a new
enabled way to use anonymous technology, opening it to end-user also for
anonymous publishing in a "easy and cheap way" .
Please consider that "public disclosure" is the least path that one
should follow in order to make wrongdoing/justice done.
Most "activism" WB sites just born on the Wikileaks-hype but never
organized themselves really well.
With the upcoming GlobaLeaks 0.2 ( for
Windows and OSX we want to remove the requirements to be a "technical
guy" or to require the "support of a technical guy" to be able to
implement an anonymous whistleblowing system.
That way we expect that transparency activism community (mostly composed
by non-techy guys) will be able to engage mostly on the important tasks
of making that job:
- campaigning to sollicitate, promote the whistleblowing initiative
- handling submitted material trough investigative journalism practices
- "act" on the basis of the result of investigations
Then "the public disclosure" things is something to be to make cautious
reflection, to handle it responsibly, mostly because you may seriously
harms some innocent reputation.
Public disclosure is a powerful tool, is required, but to be used with care.

@_date: 2012-07-08 23:35:20
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Custom Hidden Service Name? 
It would be theoretically possible to speed up the process via GPU

@_date: 2012-07-09 22:19:51
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] HTTPS to hidden service unecessary? 
Tor HS provide end-to-end encryption, however imho SSL it still maybe
useful if:
- You use a Tor Gateway (for example in a Lan or WiFi) to reach the
.onion darknet space and you don't want to trust your Tor Gateway or
your Lan
- You want SSL client authentication
- You want to use particular key exchange like TLS SRP
- You want the client to be able to trust a specific certificate and/or
CA that you already trusted over the internet/intranet
- You need to protect a "private key" into the server (you can load an
x509v3 encrypted certificate with Apache but you cannot do the same for
the Hidden Service RSA Key with Tor) but you cannot use filesystem

@_date: 2012-07-10 07:59:16
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] HTTPS to hidden service unecessary? 
Client side authentication is widely used within e-governmental services
with smartcard. Maybe one day some government will try using Tor HS? :-)
TLS SRP is just relatively new, not "esoteric", and imho it will get a
wider uses, as it's TLS with shared-secret authentication rather than
CA-based authentication.
Especially by thinking about possibly future integration with upcoming
Javascript TLS implementation  .
However if you don't need, just don't care.
You can have multiple hostname within the same certificate.
At the same time you may have your own private CA (like most big
enterprises does), trust that and use that for "internet" hostname and
"darknet" hostnames.

@_date: 2012-07-11 17:43:52
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] hidden services 2.0 brainstorming 
i really appreciate such discussion about empowering TorHS, a lot of
work still have to be done to make proper leverage of the capabilities
that TorHS provide.
Don't exaggerate, it still need a software client to access them, so the
usability is heavily impacted.
This imply that TorHS are not for general uses in the context of mutual
anonymity .
Standard Tor Client are always anonymous.
Server is always anonymous.
It's not a replacement to SSL, it provide some good end-to-end crypto
but does not provide you the same feature of SSL (like
identification/authentication of a trust chain, client side
authentication, certificate protection, etc).
Standard Tor Client are always anonymous.
Server is always anonymous.
Please consider that most of the issues with TorHS are not related to
bandwidth but are related to responsiveness (round-trip).
That's something only for tor2web uses, where it's explained that there
is NO anonymity for the client.
As a safeguard tor2web mode need to be enabled at build-time and it's
not generally available in publicly available Tor binaries.
The Tor exit enclaves are not based on Tor HS.
As far as i remember Tor Exit Enclaves are "dead".
There's still no way to secure the TorHS key provided by Tor.
I'd love if someone would take on
 .
I would love if someone would implement something like that, we got some
ideas to work.
Imho we may have to discuss / and/or formalize better a concept to make
a Tor2web network grow exponentially and with somehow automatic network
joining/leaving/adaptation with NO manual intervention.
That way it may be possible to create a big Tor2web network, acting as a
public access backbone to TorHS (always inviting the client to download
and use Tor, explaining with a big warning they are not anonymous)
If many very cool service on TorHS starts, it would operate as an
stimulus to use TorHS, exposing that Websites over the internet
(client-free = maximum usability).

@_date: 2012-07-16 20:01:42
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Can onionoo be queried from external sites? 
Hi all,
i am wondering if onionoo service can be queried from an any external
sites, embedding it with CORS .
As far as i understand currently it's used by atlas that's a Tor Project
But does any other sites can embed it to query onionoo and get query

@_date: 2012-07-16 20:12:23
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] cached-descriptors data format 
Hi all,
i've been looking that currently cached-descriptors account for more
than 4.2MB of flat file and 1.7MB of gzip compressed one.
If i understand correctly while chatting at tor dev meeting, there's a
certain amount of load of the Tor network given by the amount of clients
requesting network-related information.
Is part of this network load also related to cached-descriptors periodic
If so, can't be this network load due to big size be reduced by
implementing a different data structure other than a flat file, such as
something binary efficient, that would maybe decrease it's size?

@_date: 2012-06-21 18:01:02
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor Traffic Overhead 
Hi all,
which is on average the traffic overhead of Tor traffic respect to
non-tor traffic?
I mean, if i make a 1MB transfer in an HTTP session without Tor, how
much data will be transferred with Tor, so in % which is the overhead?

@_date: 2012-06-27 08:33:26
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] [Bitcoin-development] Tor hidden service support 
Is bitcoin software going to incorporate tor binaries within the
application standard application and automatically create a Tor Hidden
Service on behalf of end-user?
Are there any direction regarding this kind of integration?
Regarding the addressing, why not use directly the .onion address?
They represent in parallel:
 - Routing information (providing a path to the destination)
 - Proof of identity (owning the private RSA key)
Which is the reason to map it to an IPv6 address?
p.s. Reading

@_date: 2012-06-27 10:58:48
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] [Bitcoin-development] Tor hidden service support 
Totally agree, end-user need a single .exe or single .app/dmg with a
nice icon to be clicked on and everything works.
Imho also TBB should remove Vidalia and leave just TBB+Tor, it would
strongly increase usability.
Bernd, have you saw the proposed tips on using Tor's GSoc APAF for your
TorChat buildsystem ? Basically you already made your own cross-platform hacks for the
It maybe very valuable to switch to APAF, also to leverage your
knowledge but rationalizing what could be the future of an anonymous
application ecosystem.
APAF is at  and will be used by other
"anonymous applications" will be built (such as GlobaLeaks, Tor2web,
OONI, maybe CryptoCat).
It would be very cool if you could have an hands-on-it and contribute
with your cross-platform-python-anonymous-development-experience :-)

@_date: 2012-06-27 11:41:04
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] [Bitcoin-development] Tor hidden service support 
Well, this path is something extremely cool and extremely challenging.
To do that you most probably need to do something that i feel it's very
important for the future Tor ecosystem of application that is to:
"improve tor to make it suitable for use like a software library for an
So that any application developer may just "add anonimity features" by
including a library and using it, exactly like we do for encryption.
If you are going to spend some time on it, i would really like to help
from the support point of view.
If you can create a set of proposal and tickets on Tor Project trac to
accomodate and discuss on a consensus based the modifications required
to "transform" the tor.exe binary into a "libtor.so/libtor.dll" that can
be linked and used by an application.
If that job can be a separate "sub-project" of your new TorChat,
focusing general uses not just by TorChat, itmaybe very cool.
We should probably work to:
- abstract all the i/o operation (to be done on application's own
database rather than on raw filesystem)
- improve the Tor Hidden Services setup mechanism (currently you can
load it at runtime trough TorCP and so you cannot protect the Private Key)
- probably many other stuff to instantiate tor and documentation on how
to "link it and use it" within your own application
What do you think about it?
It maybe a major step forward tor diffusion.
It's a work in progress but is trying to achieve similar goals to the
one you are trying to achieve, making simpler desktop cross-platform
software including Tor, by providing end-users a simple .exe/.app to
click on it but abstracting all the complexity of system integration of
Tor as a third party dependancy within a cross-platform build-system.
You may consider some work on it, as you already experienced the the
issues of building Python cross-platform software integrating Tor
binaries :-)

@_date: 2012-06-27 12:21:02
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] [Bitcoin-development] Tor hidden service support 
There's a ticket on Tor's Trac to do something similar:
This is a requirement also to automate APAF build dependency setup, that
currently have to follow different procedures:
However i agree that it maybe also valuable to have a release by Tor
Project of a pure naked Tor binary, statically compiled for all platform
(Windows, Linux, OSX), that's valuable for third party integration,
always available in the same path as a "-latests" version.
Regarding the strict requirement to keep TorHS key on filesystem and
consequent inability to protect the private key, please have a look at
 .
You may find interesting for your development of new TorChat .
You know well which are the difficulties in making a third party
software incorporating Tor.
So i expect that a certain part of your effort could be on working on
Tor's tickets and codes to make it easier also for others to make Tor's
based applications :-))

@_date: 2012-06-28 11:43:36
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Bad Relay: Are there a mailing list / announce about it? 
Hi all,
i wanted to ask if there is a mailing list and/or some notification
schema to know when a new Bad Relay is detected and blocked:
Are the tor-scanner announcing automatically something somewhere?

@_date: 2012-03-07 19:06:55
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor traffic statistics? 
Hi all,
i wanted to ask if there are Tor Exit traffic statistics that answer
that question:
- Which are the first top 20 Tor Exit Node (in terms of amount of Tor
Exit traffic) ?
- Those 20 Tor Exit Nodes, how much bandwidth does respect to the
overall Tor Exit traffic of the Tor Network?
Which is the best way to get data to answer those kind of questions?

@_date: 2012-03-09 10:59:51
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor traffic statistics? 
Ok, i'm seeing it.
For the bandwidth the data available is "Bandwidth Kb/s".
I would like to know the historical bandwidth data that's went out of
exit-traffic "given a period of time" (for example 1 month).
And, said that "period of time" which was the total amount of bandwidth
that got trough Tor Exit Node?
Additionally, when i see "Bandwidth Kb/s" i do not see "Tor Exit
Traffic" but just "Tor Traffic" that also means:
- Relay
- Entry (for Guard nodes)
Are there Tor-Exit-Traffic-Only statistics?
I would like to provide an answer to the question:
"How much it would cost to monitor X% of Tor Exit Traffic for an enemy?"
Where X could be 70-80-90% .
Now that we have *Big Tor Exit Relay*, and almost all of them are also
Guard Nodes, the questions is:
Is it possible that by monitoring just 20 high bandwidth server (for
example) the enemy can get 70-80-90% of Tor Exit Traffic?
To be able to provide that answer we would need to have Tor Traffic
Statistics only for Tor Exit Traffic, provided within a given sample
period and compared with the Total Tor Traffic, given the same sample
Anyone interested in getting in-depth with such analysis?

@_date: 2012-03-15 08:34:34
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Question regarding forum software for use as a 
As you know performance is also a key issue of Tor Hidden Services.
So from the performance point of view i suggest to evaluate a Forum
Software that make as less HTTP requests as possible and provide
efficient caching in session-data of relevant information in order to
reduce delay.

@_date: 2012-05-04 07:27:35
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Firefox security bug (proxy-bypass) in current TBBs 
Well, this can also be prevented if the "starter" of TBB would be a
binary/executable rather than a shell script, and that binary executable
would provide "LD_PRELOAD" tsocks like approach wrapping the connect().
That way the entire TBB will run over the TBB_STARTER that will provide
an "application-level" firewall that would prevent any kind of socket
API to get-out directly.

@_date: 2012-05-21 09:09:31
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] "*.onion" performance tru "onion.to" 
Also via Tor2web, we enabled on one of the node Tor2web mode:
1st request: 0m7.705s
2nd request: 0m1.898s
Please note that currently Tor2web.org is running 2 nodes and only one
of them run Tor2web mode with Tor2web 3.0:
burninetliliito5.tor2web.org 38.229.70.4 (t2w 2.0 + standard tor)
burninetliliito5.tor2web.org 194.150.168.70 (t2w 3.0 + t2w mode)

@_date: 2012-05-21 11:13:03
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] "*.onion" performance tru "onion.to" 
Tor2web is a way to use Tor for Tor2web improving performance:
You need to enable it at compile time with --enable-tor2web-mode .
It remove the number of hops required to connect to a TorHS.
That's because in Tor2web threat model:
- the client accessing the TorHS resource is not anonymous
- the server exposing the TorHS resource is anonymous
so there is not need to "enforce tor client anonymity" in that use-case.
Now imho there is the need to have "volounteer python hacking" on
Tor2web 3.0 code to work on that set of issues
 .
If someone want to subscribe to Tor2web mailing list to get engaged

@_date: 2012-05-28 09:19:52
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor's stream isolation features defaults 
Would it possible in theory to pre-create 1000 circuits going trough
1000 different tor-exit and make a connection logic going in a "cycle"
across them?

@_date: 2012-05-30 08:38:10
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Data storage in cached-descriptors 
Hi all,
i've been thinking some days ago that the Tor infrastructure maybe a
very valuable infrastructure also for other software that would like to
stay distributed without a "central directory".
In order to do so, a server-software for a distributed network, may also
run a Tor Relay and write it's meta-data to cached-descriptors, de-facto
relying on Tor's Directory Authority infrastructure.
The question is:
- How much "custom data" a Tor Relay can write in cached-descriptors, by
running a Tor Relay?
In particular i noticed the following entries as valuable to store
custom-data without breaking other Tor relay functionalities:
- router
- contact
Those can be setup with the following torrc configuration:
* Nickname
* ContactInfo
How much data can be stored in those two variables?

@_date: 2012-05-30 15:07:39
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Data storage in cached-descriptors 
Well, think if the data you would store would be a bunch of byte, such as:
- An identifier of the software (5-6 byte)
- An identifier of some metadata (2-4 byte?)
- An pointer to extended-metadata (ex: an URL convention)
Maybe in less than 20-25byte you would be able to leverage the Tor
- To have a centralized/decentralized index of your software node
- To get some degree of protection against sybil attack
- To get authentication/identification data (The RSA keys of a node)
So basically "on top of Tor software and Tor Infrastructure" it would be
possible to build other kind of networks, given that they participate to
the Tor network itself.

@_date: 2012-05-30 15:27:32
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Data storage in cached-descriptors 
That's exactly my proposed concept:
- They will publish tor data only for real tor-relay acting as tor-relay
It would just be that "those kind of information" would also be used by
other software that for it's usage depends on Tor.
So it would not hurt in any way the tor network but rather instead would
benefit the tor network, increasing the number of Tor relays.
For sure anyone using a software that use that method need to ask himself:
 * Can i trust Tor infrastructure, community and directory authority?
If the answer is "yes" then it would be a win-win condition for Tor and
for software using it (running a Tor Relay).

@_date: 2012-05-30 19:04:21
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor Hidden Service: Non-Existing vs Non-Rechable 
i would like to know if it's possible to determine if a TorHS is
non-existing or if it's non-reachable (exists but there is a connection

@_date: 2012-05-31 12:27:32
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] How to Control middle Nodes? 
- Which kind of software are you trying to use for such VoIP?
  - Which protocol does it uses?
- Are you trying to achieve mutual-anonimity, so communicating with Tor
Hidden Services or going with/trough an Internet peer?
In order to control the middle node i would suggest you to create a code
that, via Tor Control Protocol, establish manually Tor Circuits, Measure
the latency.
Then by default Circuit change every 10 minutes.
You need to put it to an higher value, so that when you find a circuit
that have the latency caracteristics that you need, you can use this.
But you probably need to make some manual scripting/hacking trough
TorCtl/Tor Control Protocol.

@_date: 2012-11-02 23:46:55
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Emulating a VPN service with Tor 
It throw away the first 3 hop of "client side" of  a connection to a Tor
Hidden Service, de-facto removing the "client anonymity" protection when
connecting to a Tor Hidden Service considering that the RP would be able
to know "who the client is".
very nice if someone would make a patch to make possible also the
opposite: Allowing a Tor Hidden Service to throw away the "server side"
3 hop.

@_date: 2012-11-03 08:02:13
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Emulating a VPN service with Tor (security vs 
I thin that also one-hop works and that in general Tor is too restricted
given it's threat model.
Generally my feeling is that Tor should "evolve" into something more
flexible within the balance of performance vs anonymity.
I remember that freenet, at first startup, trough a wizard ask the
end-user a set of questions and depending on the user answers (related
to it's threat model) adjust the performance/security ratio.
Imho that is the natural path to look for, having Tor behave in
different way depending on use choices.

@_date: 2012-11-10 08:49:58
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Unsigned Mac OS X binary for TorBrowser 
Just have someone else, with no effective legal authority on Tor
Project, to sign the ADP agreement and "rent you for free" the account.
If you want you can register as "me" representing Tor Project (i've no
relationship with Tor Project Inc), with my personal credit card, in
clear violation of ADP (i don't care that much).
Whatever apple would try to do against Tor Project, Apple will have to
sue me or ask me their rights! :P
Maybe it's the italian way of doing things :P
Imho you cannot really fight apple ADP agreement on paper, they will
probably always win and this is the direction taken by most major
vendors "application stores" and "development program".
So a third party organization, handling Apple Account to you, so you do
not have to sign any legal agreement with apple maybe a quick work-around.
In any case, i'd suggest to start evaluating technically how to do it,
because for how TBB is done (many independent software started up and
intercommunicating with TCP as IPC) it maybe very complicated (or even
very simple).

@_date: 2012-11-10 15:57:04
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Unsigned Mac OS X binary for TorBrowser 
If Apple decide to revoke your developer certificate, you don't have
anything that you can do, regardless who is the "Formal owner" of the
developer certificate.
In any case, if you don't bother to use "Apple signature" as
identification system, you may just ask several trust-able organizations
(EFF, NoiseBridge, CCC, TorServers, etc) to apply for a Developer
Certificate and then provide it for free to Tor Project Inc.
That way Tor Project Inc would not have any kind of legal liability or
contractual relationship with Apple Corp, and you fixed the problem.

@_date: 2012-11-10 16:10:08
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Unsigned Mac OS X binary for TorBrowser 
It is legal that you publish an application on behalf of someone else in
your account and you, as ADP account owner, are the ultimate liability
responsible person for that.
As said previously, you may just ask several trust-able organizations
(EFF, NoiseBridge, CCC, TorServers, etc) to apply for a Developer
Certificate and then provide it for free to Tor Project Inc, assuming
themselves the "liabilities" for the ADP program.
In any case, i continue to think that Tor should:
a) became a software platform (that 3rd party can integrate and use)
b) became widely available trough commonly used application distribution
platforms (app stores)

@_date: 2012-11-20 14:02:14
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Limiting number of outbound TCP connection from One 
Hi all,
while discussing on twitter with the guy of  it about
"How to block outgoing portscan from a Tor Exit Node" it arise the idea
that the best way would be to correlate the amount of "outgoing tcp
connection/time" from a specific "Tor Circuit".
So, rather than "Blocking" it would be really nice to be able to apply
certain "Rate Limits" to the amount of outgoing, new TCP connection that
can be done over an established circuit.
Let's say that outgoing circuit change by default once every 10 minutes.
To be able to block a portscan, it maybe interesting to have such a
feature that would statically, or dynamically with a backoff algorithm,
apply a outgoing connection rate limitation that can come from a
specific circuit.
That way it would be possible to identify what is a "normal and typical
connection" and automatically filtering out aggressive traffic (an
important amount of new TCP connections coming from that circuit).
What does the list think about that kind of idea, both conceptually and
from the possible implementation strategies?

@_date: 2012-11-20 15:22:39
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Limiting number of outbound TCP connection from One 
Hi Griffin,
my comments below.
This would not scale for two reason:
1 - This is not specifically targeting "Exit Traffic" because currently
there is no way to distinguish between OR traffic and Exit Traffic.
2 - This would hurt "valid traffic too" because it's absolutely
reasonable for a 10Mbit Tor Exit Node to have big spike of new connections
So a "polite" approach to "block/mitigate" outgoing portscan should goes:
- only match Tor Exit Node traffic (and not Tor Relay or Directory traffic)
- be dynamic, in order to handle normal burst of traffic
On 1st point we would probably need some kind of Tor patch to have
"ExitAddress" configuration settings in a similar way to
"OutBoundAddress" (that also does OR/relay traffic).
On 2nd point, it's a quite complicated stuff, as we need some-how need
to link iptables actions to the originating Tor-client activity,
otherwise we will hurt real user traffic.
What do you think?

@_date: 2012-11-20 18:26:20
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Limiting number of outbound TCP connection from One 
Yeah but portscanning over Tor with nmap is not the best deal as it does
not have any native socks support and it expect to handle directly
socket operations/errors reporting.
In any case if it start introducing delay, it would be very good,
because it would:
- Avoid triggering IDS alert (that trigger portscan detection that cause
abuse request)
- Switch to another Tor Exit Node after 10 minutes (assuming it take
more than 10 minutes)
So also in that case it would be helpful in fixing the problem
(Receiving abuses for port-scans originating from your nodes).

@_date: 2012-11-24 08:16:04
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Optimizing Tor Client Settings for Tor2web? 
Hi all,
does anyone have a clear idea on how to optimize a Tor Client
configuration for Tor2web nodes, by tweaking Torrc?
Tor2web make *tons of new connections* to Tor Hidden services with a lot
of short lived, sometimes pushing also a lot of bandwidth.
Currently there are Tor2web nodes:
- 3 on *.tor2web.org
- 1 on *.tor2web.fi
- 1 on *.tor2web.blutmagie.de
On the code we're working on:
- Optimistic Data
- Connection Pooling (to avoid reopening a socks connection for each
client request)
- Smart Http Caching
What to modify on Torrc to speedup/improve performance on high number of

@_date: 2012-11-28 10:19:26
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor souce codes 
Which goal do you have for your research requiring modification to that
part of Tor code?

@_date: 2012-11-30 08:33:53
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Measure Bandwidth Use of Tor Client 
Hi all,
i would like to measure how much Bandwidth a Tor Client Usage (via
Socks) use over time.
The goal is to have the same data of the Tor Relay bandwidth stats, that
can i can graph, but to collect and save Tor Client traffic (Not Tor
Relay/Tor Exit).
Is it easily possible?
I'm trying to find a way to measure bandwidth use of Tor2web server in a
very quick way.

@_date: 2012-10-06 17:16:26
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] "Little Snitch" for tor! 
Hi Agree,
there is generally a serious lacks of high usable applications for
application sandboxing from both filesystem and network operations point
of view.
I hate advertising a commercial product, but Handsoff is a very good
example of highly usable/security application for Mac.
If they would add a "Divert to Socks" = "Anonymize" option, it would
make the stuff you're asking for.
In general i think that the world lacks a free software for Windows or
Linux or Mac OS X that allow the end-user to create it's own "Sandbox
profile" for it's "Applications and operating environment".
That's a major issue, especially for Linux users where, as far as i
know, there's not even a commercial alternative providing the right
balance between Security and Usability in handling sandboxing.
As a result most Linux user i know run a most unsecure environment
respect to Client Side attack surface than most Mac OS X and Windows
user i know that instead use Application Protection suites for sandbox
their clients application.
That is the real problem!

@_date: 2012-10-10 23:04:46
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Covert Browser By Stephan Hoffmann 
That maybe absolutely ok in your risk context.
In any case i suggest to look for the alternative (to CovertBrowser)
Onion Browser:
Onion Browser is opensource  .

@_date: 2012-10-21 09:48:14
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Porn make the world more free: Tor Porn Bundle? 
i've been at internet governance forum (in italy) yesterday and
starteddiscussing a topic with several internet freedom/policy activists:
"porn make the world more free"
It seems a joke, but it maybe an important consideration.
A teenager (12-18 yo) in 2012 use internet porn websites for masturbation.
That's a real facts, i expect, almost everywhere.
In places like Saudi, a 14th years old young have a strong need of
masturbate like in any other place in the world.
But he don't have access to internet porn with his broadband internet
In the Saudi example there are already now people providing paid (and
risky) access to porn for masturbation's needs:
This as an example of a real need that stimulate people in finding
circumvention methods.
So, when a teenager in Saudi need to masturbate he have to find out a
censorship circumvention tool.
Ok, how can we think to make out of it (masturbation and porn) something
good for freedom of speech?
Imho we may think to create something like "Tor Porn Bundle": A version
of TBB specifically designed to provide easy access to Porn.
Then promote it trough custom targeted campaigns across all Arab World
(and language/countries where internet porn is censored).
Which would be the main result in mid-term?
That most teenagers (and also non teenagers, but probably in minor part)
in that closed-society will learn, understand and start using censorship
circumvention tool for an important, basic need: Masturbate!
We should not underestimate the relevance of this need because it fit
along with the "Basic" human needs, like eating.
So the effort and perceived rewards that a person have working on the
path to satisfy that need is very high.
In that hypothetical Torn Porn Bundle, we may deliver a pre-populated
in-language list of porn websites.
But also some "free" "in language" media website and other free / non
censored information sources and social networking tools.
That way, after masturbation, the user will be able to have a clear and
simple path to start accessing the web in a free way.
As a side node i would like to remind that the "porn industry" is valued
billion of USD.
If porn industry would became partners of freedom of speech players, it
could means a lot of money for investment in campaigning and technology
development, because it would means opening new markets to them.
Opening a new market means having new consumer that means they would be
able to calculate the economic ROI of an investment.
* Porn supported the development of internet backbone
* Porn developed early internet multimedia streaming technologies
* Porn may make the world more free

@_date: 2012-10-21 11:20:02
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Porn make the world more free: Tor Porn Bundle? 
First, the porn content is not only "paid" but also free.
Regarding the paid content, i do think that normal credit card / paypal
are enough.
If you, as a user, worry about your financial privacy, you would always
be able to use intermediaries (liberty reserve, western union, okpay,
ccbill and tons of others) that provide you virtual wallet (loaded with
your credit card) and let you pay with a virtual credit card (or even
get a paypal account).
So there are a lot of ways to avoid getting written on your credit card
statement "PAYPAL*YOUPORN" .
A user maybe informed about that methods, to let him enjoy paid access
with credit-card-statement privacy (not anonymity, just privacy).
The result is indirect.
I do not think anyone will start fighting for "porn rights" .
But *a lot of people* (especially man/teenagers) will start using
circumvention tools for a reason they care (Masturbate), that is widely
So, the target can be to spread the use of the circumvention tools,
knowledge on how to use it and existance for a massively diffused need
that is not "freedom of speech" but is "access porn to masturbate" .
Then, as a "apparent side-effect", you have empowered a huge amount of
people to access unfiltered internet.
If the hypothetical "Tor Porn Bundle" would also provide access to
information sources (political, civil rights, media) otherwise banned in
their countries, we made the deal.
Trough porn we let hundreds thousands of people access uncensored
information sources.
As explained above i would not target "porn rights", but just the
masturbation needs.
In that hypothesis the "civil rights" of freedom of speech are acquired
indirectly, the main reason a user would use such a tool would still be
for porn.
p.s. Circumvention tools like Ultrasurf (Government's backed by BBG)
block porn. Ultrasurf users ask on the internet how to watch porn with
ultrasurf bypassing their blocks. So users using circumvention tool ask
how to see porn that is blocked by the government they live in and by
the circumvention tool provider:
   *    *

@_date: 2012-10-25 09:24:01
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor on Raspberry Pi 
Wow, maybe it would be even possible to make hardware-accelerated crypto
using GPUs!
That 30 EUR stuff can really became "The platform" for new tor-router!
If/when Tor will have a NAT bypass functionality (UDP transport, etc),
it will be eventually possible for Tor Project to have the stuff
assembled and sell it for fundraising, with people installing it at home!

@_date: 2012-10-31 10:38:53
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] howto: Raspberry Pi as transparent tor proxy 
Do you have a public IP address over a broadband line?
I would be very interested to know how much bandwidth a Rasberry Pi
would be able to push as a Tor Relay.
Are you considering creating/restoring Tor Router project and creating a
ready-made image for Rasberry Pi?

@_date: 2012-10-31 14:01:48
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] howto: Raspberry Pi as transparent tor proxy 
Wait, maybe the bottleneck is the flash memory I/O ?
Can you try making scp over lan interface, using as a destination file

@_date: 2012-09-05 17:21:51
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] hidden services and path selection 
i have a couple of questions about current status of TorHS and the
ability for client and server to select path for the circuit selection.
A) Would it possible to specify the path up to the rendezvous point when
connecting to a Tor Hidden service on a Tor Client (via the Tor Control
Port) ?
B) On a Tor HS server side, would it possible to do the same, so to
define the static path up to the rendezvous point for inbound
connections to my own Tor HS?

@_date: 2012-09-07 11:02:33
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] hidden services and stream isolation 
So, if i would do a piece of code that want to "benchmark" the
performance of different full-circuit to a tor-hs, i may just:
- setup two Socks port 9050,9051, 9052, 9053, 9054,9055
- create 5 connections using different socks port
- exchange traffic to benchmark bandwidth and latency
- pick-up the faster one
Would that work?

@_date: 2012-09-08 19:59:03
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] hidden services and stream isolation (file transfer 
mmm, well this questions didn't come exactly from that need.
Let me explain.
That step come while brainstorming with hellais and vecna about a file
upload system for big files that should try to optimize at maximum the
transfer over a TorHS with Javascript /web browser.
While making big files transfer over a TorHS, there is the risk to went
into very low-bandwidth circuit or even unstable circuits due to the
length of a TorHS connection path (7 hops right?).
The idea is:
- to split the files that need to be transferred in chunk of fixed size
- then send that chunks over multiple sockets
- every new chunk has to be sent, open a new socket trough a different
Socks port (so trough a different tor circuit)
That way each chunk would have a different circuit established,
bandwidth be shared among more nodes, reducing the likelihood to
encounter a low-bandwidth circuit.
The chunk maybe something like 1Mb sized and the parallel channels maybe
5 or 10.
Does it may provide good benefit to file transfer process over Tor HS

@_date: 2012-09-10 00:07:41
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] hidden services and stream isolation (file transfer 
mmmm that's an interesting point.
Tor currently, as far as i know, does not support quality of service, in
the sense that it does not provide a facility to optimize different kind
of traffic.
However we know that different kind of applications may require very
link characteristics to works well.
In particular the two main characteristics that may impact an
application functionality are:
- Bandwidth
- Latency
Certain protocol or content exchange may work better on low-latency or
high-bandwidth but maybe behave very bad on high-latency or
low-bandwidth channels.
Between two hosts on the internet normally that path may be adjusted by
routers given specific Tos or network engineering configurations.
It may be nice to identify some reasonable way to implement an QoS
optimization logic, so that client application would be able to adjust
the better connection conditions for it's kind of traffic.
See below some details.
Probably that's the main topic:
Which are the acceptable thresholds that an application must/can use in
order mitigate non acceptable networking issue?
Let's say that i am uploading a 5GB file and the connection stacks at
12kb/s while i know the client and server are both on 10Mbit connection.
It would be reasonable that the application uploading the file would
have some logic to detect such circuit, where the (bandwidth available /
the size of file = time of transfer) is not acceptable.
Then the application must be able to do something to recover from this
situation, because we can already forecast it will end-up in an
erroneous condition.
To recover the only way is to make another transfer, forcing it over a
new circuit, with the hope to get a higher bandwidth pipe.
This will obviously create load on the network.
So, which are the right parameters "not to overload the network with
extra-circuits" in a measurement logic/reconnection attempt logic?
How often is the application allowed to "create a new circuit" because
the current one is not suitable for use?
How many parallel circuits can be reasonable created without creating harms?
I mean, there should be some kind of threshold that's "reasonable
enough", to let application reach a circuit/socket pair that satisfy the
quality of service requirements (bandwidth or latency) of the
application itself.
What do you think?
Now Tor2web 3.0 run with Tor2web mode enabled, is it useful to run torperf?
In the next iteration of development to reach Torweb 3.0-beta we will
have to support statistics.
Are there some specific data that would be useful to collect,
specifically for TorHS measurement?

@_date: 2012-09-10 00:21:45
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Distribution of Linux static tor binary? 
Are there any plan to include in the release process, the build-up of a
Linux Tor Static binary for x86?
It would facilitate the inclusion of Tor in third party applications
that include/bundle/redistribute Tor, regardless of the Linux Distribution.

@_date: 2012-09-10 13:03:05
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Distribution of Linux static tor binary? 
Imho the amount of applications that will be delivered including Tor
binary will increase dramatically in 2013.
Imho Tor will become sooner or later a software library, so that other
software (like pigdin or adium) will start using it to build anonymity
feature, like they use libotr to build message encryption feature.
In the meantime that tor is still an independent third party binary, it
would be useful to facilitate the work for 3rd party software
integration for the various platforms (Windows, Mac OS X, Linux).

@_date: 2012-09-12 23:35:53
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Does tor browser bundle can goes on Mac App Store? 
Hi all,
i am wondering if Tor is downloadable also trough Mac App Store and/or
if some consideration has already been done on that topic.

@_date: 2012-09-18 12:08:12
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Does tor browser bundle can goes on Mac App Store? 
Hi Andrew,
the discussion above is related to iPhone iOS while i've been referring
to the Apple Mac OS X App Store, that can be used to deliver signed and
sandboxed applications on Mac OS X machines.
It's also a "trusted" delivery method, in the sense that as long as you
consider Apple a trusted manufacturer, from technical point of view it's
a secure application delivery and update system.
On Mac OS X 10.8 i am using almost only Mac App store applications and
very few other signed applications.
We should also consider that Windows 8 will follow a similar approach,
so before or later it will be required for Tor to start deliverying
application trough application store on Desktop systems.
We've been considering that for APAF / GlobaLeaks.

@_date: 2012-09-18 15:13:26
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Does tor browser bundle can goes on Mac App Store? 
Yeah, onion browser is cool  .
It means that a TBB-like application could be securely delivered and
updated during time via Mac App Store!
The main issue is probably that TBB is "not an application" but rather
an integration of a different set/pieces of software.
Eventually by moving Tor to be usable in an integrated way, with a
custom browser a-la' Onion Browser, would be much more easier to submit
the application to Mac App Store and upcoming Windows 8 App store.
Also application on markets maybe a nice source of crowd-fundraising?

@_date: 2012-09-18 15:22:00
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Hidden Services 
We've been thinking for next release of Tor2web 3 to add such a similar
features to facilitate indexing of visited TorHs by 3rd part projects
 .

@_date: 2012-09-19 21:59:39
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Italy - third highest number users 
So dumb form of censorship... unfortunately effective for dumb people!

@_date: 2012-09-19 23:41:46
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Hidden Services (about tor2web) 
Apologise for subject/thread hijacking.
The point has been integrated in the appropriate ticket there:
Please integrate here any idea or suggestion about the topic.
However you should also know that already today is possible for a TorHs
to block access from Tor2web.
Tor2web send an X-Tor2web header to announce to the TorHS that
connection come from Tor2web.
We added up a wiki documentation section explaining how to do it:
Regarding the topic of "robots.txt", in the new tor2web 3.0 robots.txt
are "hijacked" in order to prevent Tor2web crawling by public search
engine. Also a list of user agent of internet spyder has been blocked by
Both blocks settings can be disabled from config file:
Those blocks will be probably less annoying when the behavior regarding
spidering will be configurable directly from TorHs sites (for example by
providing specific tor2web related config strings in robots.txt).
p.s. There's a new tor2web domain using Tor2web 3
 :-)

@_date: 2012-09-21 14:59:56
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Does tor browser bundle can goes on Mac App Store? 
I am confident that big manufacturer delivery methods such as Apple or
Microsoft can provide a degree of security extremely higher than most
other system, in particular with extremely high security/usability ratio.
Today i still never saw a "highly usable" secure application
delivery/update system.
End-user will never really dig into GnuPG verification of downloaded
files and all that stuff that nerds and cipher-punk like a lot.
User are mostly dumb, that's imho a condition we must live with that fact.
For that reason if the big of the IT industry does provide us a method
(App Stores) that's far better than GnuPG verification of downloaded
files (in a security/usability consideration), it maybe valuable to
leverage that methods.
No, you can create a Mac App Store account without any credit card, just
with an anonymous email account:
Accessibility of Mac App Store is very high, in few minutes you can
download "securely" applications and get notified of new updates.
For sure it's not free and it's a "wallet garden".
But it's a garden plenty of +200.000.000 persons, so imho it would be
useful to stay in touch with people in such Apple's garden (and next
Windows 8 new garden, and then Ubuntu Deskop Marketplace).
That's a very valuable consideration, to have security review of that
Still, from a software engineering perspective, imho it maybe useful
valuable to start digging into it and understanding the effort to make
release management of Tor, starting going trough application stores
(both desktop and mobile).

@_date: 2012-09-23 19:20:45
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor-ramdisk 20120924 released 
Cool, you may consider creating a pre-made image bundled with CoLinux
 :-)

@_date: 2012-09-26 12:17:21
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] VPS provider 
Consider that on a VPS the Tor Hidden Service RSA Private Key will be
fully exposed to the VPS provider.
That means that the VPS provider would be able to steal it and at a
later stage impersonate you.

@_date: 2012-09-27 10:54:13
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor and P2P (Hidden SMS) 
Sure, also GlobaLeaks 0.2 is designed in a way to minimize the impact on
TorHS latency and avoid "white page effect" on user's browser.
Totally agree, especially it's absolutely reasonable that we will see a
growing number of Applications that include Tor as part of their code
and use Tor Hidden Services a unique way to communicate.
It would be very useful to have an official statement by Tor Project on
the current scalability / performance impact of Tor Hidden Service with
a Guideline to let Application Developer (bundling Tor, using TorHS)
avoid breaking/hurting the Tor Network.
That way the limits are clear and the way to be "Polite with the Network
considering it's current limitations" would be explicit.

@_date: 2012-09-27 10:57:24
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor and P2P (XMPP?) 
Something like that will be done very soon by CryptoCat Project with
CryptoCat Portable Server, using the APAF (Anonymous Python Application
Framework)  .
It maybe so nice to add such a link between servers to create a fully
federated XMPP network on top of Tor Darknet with easy to be installed
new XMPP servers.

@_date: 2013-04-12 14:28:07
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor communities at OHM2013 Hacker Camp 
Hi all,
are there some plan for a gathering of Tor community and related at
OHM2013   this summer?

@_date: 2013-08-17 13:57:39
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor-to-web gateway name registration 
Il 8/17/13 1:27 PM, harmony ha scritto:
what you are requested is to have a NYM system for Tor2web software.
There are feature requests for Tor2web software that's waiting for some
volounteer to work on it:
- - The idea is to rely on a third party cryptographic resolution system
such as Namecoin. That way tor2web does not need to maintain any kind of
p.s. Tor2web is looking for love, funding and research grant to develop
it with the needed effort.
p.p.s. Tor2web is now deployed across 9 servers over many tor2web.org,
tor2web.fi, onion.sh, onion.lu, onion.to, tor2web.blutmagie.de and
onion.is is coming .

@_date: 2013-08-19 11:17:13
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor Mail Gateway 
Il 8/19/13 10:49 AM, Moritz Bartl ha scritto:
There's also an on-going effort to implement this feature into the
Tor2web software:
I would say that the features will be the same, but the deployment
scenario would be different.
In the tor2mail postfix approach, this can be integrated into any kind
of existing mailserver, while in the Tor2web approach, this would be a
standalone SMTP listener for exclusive use.

@_date: 2013-08-26 17:35:27
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor Mail Gateway 
Il 8/26/13 1:29 PM, Nathan Suchy ha scritto:
I think that the proposed Tor2mail gateway is ok like it has been designed.
It only speak SMTP/TLS and only accept to forward email that are
encrypted with OpenPGP (not even saving it into the mail server queue if
it's in clear text).
I don't think it's the goal of a piece of software like this to process
email body by apply security to the content of the message.
It's goal is to enable internet<->darknet encrypted email exchange,
strictly over SMTP/TLS connections for inbound and outbound. .
We probably would need another, different piece of software, to provide
easy "encryption gateways" .

@_date: 2013-12-13 15:29:06
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Linux mailer "sendmail compatible" with socks support? 
i'm looking for a solution to enable all email sent from a linux system,
to be sent going trough Tor, with a sendmail compatible software.
If possible i'd like to avoid dirty configurations with iptables
redirections, so i'd like to find an ssmtp/postfix like "sendmail
replacement" that can be configured to operate trough socks on localhost.
Any idea?

@_date: 2013-12-14 21:10:03
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Linux mailer "sendmail compatible" with socks 
mmmm, i was looking for something that would be able to send email even
if the application calling the "sendmail compatible" binary is not
To give you an example, if i run "snort" as an IDS on a machine and i
would like to receive alerting notification, i want to avoid to run
"snort" under torsocks.
Otherwise i may just wrap "sendmail" binary with a shellscript that
execute the real sendmail binary (renamed "sendmail.orig") under torsocks?
Il 12/13/13, 10:38 PM, Jan Weiher ha scritto:

@_date: 2013-02-03 17:00:27
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] TOR Fone - p2p secure and anonymous VoIP tool 
While i appreciate the effort, i think that the approach of TorFone
( is not good and cannot scale for several reasons:
a) The TCP connection between two host over TorHS is already end-to-end
encrypted with no need of additional encryption
b) PGP encryption is not required
c) The PGP source code used is "abbandonware" and is subject to known
security vulnerabilities (like
 and probably others
d) The PGPFone code use is "abbandonware" since +13 years and should be
reasonably subject to vulnerabilities
e) The PGPFone protocol even if opensource is an unaudited, not
conforming with today's de-facto ZRTP's security requirements
f) The system is not cross-platform, not easy portable, not easily
maintainable (it cannot goes over Linux or Tails for example)
For the reasons explained above, i do not consider the Torfone software
something i would recommend to use.
So, as a consideration i think that Torfone developer to look for a
different approach, by using best-of-breed open-source multimedia
system, re-writing TorFone with a completely different design.
The most reasonable and maintainable approach is:
- Use Jitsi  (
- Introduce RTP over TCP support to Jitsi (to have RTP voice flow works
over TCP rather than UDP)
- Introduce Socks5 support to Jitsi (to have TCP
- Adjust the jitter buffering of jitsi to works over Tor latency
- Extend XMPP & Jingle support to works P2P (something is already there,
it should be relatively simple)
- Fix minor UI stuff
With such approach you would have:
- A cross-platform, opensource, secured voip client
- A maintained and mainteinable source code
- Using standard protocols with minor modifications
- ZRTP encryption (if you want, but it's not needed due to end-to-end
encryption of Tor Hidden Services)
* Useful consideration about VoIP over Tor
* Anonymous push to talk over Tor

@_date: 2013-02-03 21:46:47
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] TOR Fone - p2p secure and anonymous VoIP tool 
For my daily-for-profit-job i made in past stuff for secure telephony
over GPRS that:
- can have variable latencies on CS1 between 800ms-2200ms
- is a reliable transport (the low level of the OS does retransmissions
at GSM RLP level)
To work over high latency (and tipically also low-bandwidth) with
reliable transport (like TCP/Tor) you need to use those multimedia strategy:
- setup a large static jitter buffer (you define the added artificial
latency of the call to compensate variable latency)
- reduce transport protocol overhead by setting a large "packetization time"
- detect retransmission behaviours, in that case apply small TX cutting
With such approach you can avoid "PTT" and even if the communication
will sounds like an old analog satellite connection, it works.

@_date: 2013-02-12 17:46:47
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Hidden Service Protocol and ranking of .onion 
Are there something similar for the world wide web?
If so, it should probably apply also to Tor HS.

@_date: 2013-02-14 11:55:10
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] tor2web - How can I get my hidden service indexed? 
Tor2web software by default:
- setup a robots.txt to prevent search engine scraping
- block a wide set of Crawler UA to further block search activities
- prevent hotlinking (from an internet resource to do Those kind of features could be disabled on tor2web.conf if a specific
node operator consider to do it.
The domains currently running Tor2web are:
- *.Tor2web.org - 3 node
- *.Tor2web.fi - 1 nodes run by the guy of Ahmia.fi
- *.Tor2web.blutmagie.de - 1 node

@_date: 2013-02-14 22:45:57
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] tor2web - How can I get my hidden service indexed? 
The hotlinking is required to avoid having people linking "highly
controversial material" on public internet forum, using the few Tor2web
proxy as a sort of "Content Delivery Network" .
Tor2web 3.0 beta1 is not a final solution, it would require a lot of
additional code and features to make it really flexible (like permitting
a TorHS operator to configure this robots.txt behavior).
However in the meantime there's a simple reason, survival of services,
to avoid the general indexing of Tor2web exposed Tor Hidden Services.
Given the experience, it's much more difficult to keep running a Tor2web
server, rather than keep running a Tor Exit Node with completely open
If you enable "google indexing", the amount of complaints that you will
receive will exponentially increase, quickly creating serious issue in
being able to keep the Tor2web proxy running. :\

@_date: 2013-02-15 00:45:42
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] tor2web - How can I get my hidden service indexed? 
Currently there's no such a feature in the code of Tor2web:
A feature-request has to be created on
 to address that kind of
Probably we would need a sort of "Generic method" that allow a TorHS
operator to "signal back" to the Tor2web proxy some specific behavior.
For example some behavior could, "allow robots.txt" or "assign me that
nym-pseudonim" or "cache this list of page for X amount of hours" .
With such a system in place, it could be possible/easy to have some
self-maintenable (not to be manually configured) method to do what you
would like to do.
p.s. we would really need to apply for OpenITP funding to get Tor2web
development back within June/July

@_date: 2013-01-23 08:28:07
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Fun Tor-Art from Italian HackMeeting 
Reply-To:     hackmeeting at inventati.org
Ringrazio Frahone (l'artista)!
Mi sembrava giusto condividerlo con altri :) (per me spacca)
Hackmeeting mailing list
Hackmeeting at inventati.org

@_date: 2013-07-02 15:26:42
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor for upcoming FirefoxOS? 
Hi all,
does anyone made a technical analysis to understand whenever would be possible to have Tor running on upcoming FirefoxOS ?

@_date: 2013-07-02 18:24:06
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] German News magazine DER SPIEGEL reports how to set 
Il 7/2/13 4:36 PM, Ed Fletcher ha scritto:
I would like to see major nerd websites like thinkgeek distributing those box for few bucks.
Maybe someone should engage in such a sustainable business to effectively distribute Tor routers, relay, proxy as a cool hardware-gadget for the average nerd.

@_date: 2013-07-02 20:02:41
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor for upcoming FirefoxOS? 
Il 7/2/13 3:48 PM, Nathan Freitas ha scritto:
I am wondering if a Client-Only, lightweight Tor Library in Javascript would be feasible, maybe considering SilverTunnel porting  ?

@_date: 2013-07-05 07:57:07
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Speculation: Next 10 years of Tor? 
Il 7/4/13 8:58 PM, grarpamp ha scritto:
I belive that:
- Exit Based anonymity is going to die in few years (i think in US it's already dead)
- Darknet will replace most internet-uses for anonymous communications
- Tor will became used mostly as a software library
- Tor will be integrated in many third part software, like libssl or libotr
- Tor will improve it's networking capabilities, with P2P approach more similar to GnuNET (Nat bypass, UDP, etc)

@_date: 2013-07-05 08:06:32
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] TorWall - experimental transparent Tor proxy for 
Il 7/5/13 5:34 AM, reqrypt ha scritto:
It would be interesting to try to build a TinyXP live-iso machine, with TorWall integrated to create a "sort of Tails based on Windows" .

@_date: 2013-07-22 15:27:48
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Time for porn on the Tor? 
Il 7/22/13 11:44 AM, Jerzy ?ogiewa ha scritto:
In invite you to read the thread of "Tor Porn Bundle" idea here:

@_date: 2013-07-28 09:08:56
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor2web meeting at OHM2013 
Hi all,
that's just a reminder that on Day2 at 22.00 we will make a Tor2web
meeting at Noisy2 Village at OHM .
Tor2web do provide a content delivery network to internet-expose
anonymous web content residing insider the Tor Darknet over Tor Hidden
It's really a challenge for many reasons and the network, manually
configured, it slowly growing.
During the meeting we'de like to outlook what we've done, how the
network growth up discussing which could be the next major milestones to
be reached in terms of software, network development, community
involvement and fundraising.
Tor2web Meeting at  will be done at  on Day-2 22.00
 !
Anyone interested from all different areas is invited to come, with the
focus to make a BIG BOOST to that project in 2014 ! :-)
p.s.

@_date: 2013-06-18 08:50:36
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] "Torifier" for Windows 
I tried to write to the guy but his email doesn't exist anymore, not even his homepage.
The code is already integrated in several opensource project under various license (LGPL, BSD, APACHE).
It's a curious question, i asked to some friendly lawyer "how" a situation like this one should be considered from the copyright/licensing perspective! :)

@_date: 2013-03-31 16:33:17
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Stem Release 1.0 
You may consider the discussion on "Using Tor as a Library"  on Tor-dev
in past week about the idea to make Tor be able to work as a library:
If tor could be usable as a library, it would be possible to easily
create python binding for the library.

@_date: 2013-05-31 17:05:37
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Anonymity of Leaking Servers (Was Re: [tor-dev] 
In the GlobaLeaks's threat model the node is always placed over a Tor Hidden Service as a key enabling point to support mutual-anonymity with the whistleblower.
In case of internet exposure, this exposure is managed trough the use of Tor2web software.
The server is, in any case, always behind a Tor Hidden service and partitioned/sandboxed to work behind Tor.

@_date: 2013-11-01 12:43:49
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Fwd: SecureDrop, new whistleblower submission system 
Il 11/1/13 12:36 PM, Bry8 Star ha scritto:
The use of Tails with a Virtual Machine would break the SecureDrop
threat model, so virtualization cannot be used in that context.

@_date: 2013-10-05 17:53:38
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Tor2web's Tor experimental performance tuning 
we tried to work on some experimental Tor's performance tuning for a
Tor2web node.
The tuning has been documented here:
Maybe those are completely broken, maybe are useful and valuable.
We'd appreciate a feedback on it

@_date: 2013-10-27 09:56:59
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] tor available for the iphone 5? 
Il 10/26/13 3:23 AM, Nathan Freitas ha scritto:
It maybe of intersts, with a newcastle university thesis a a prototype
of iGlobaLeaks for iOS integrating Tor has been done:
p.s. We're looking for a funding slot for the guy to keep on the
development of GL mobile apps GLDroid (integrating ORBot and Obscuracam)
and iGlobaLeaks

@_date: 2013-10-31 21:06:35
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Fwd: SecureDrop, new whistleblower submission system 
At GlobaLeaks we are using too Tails since a couple of years for the
However our practical experience is that Tails is a good platform for
journalists only in theory.
That's because most of the journos use an Apple Macbook and Tails is
very badly supported on that platform.
Btw GlobaLeaks developer site: Il 10/31/13 2:30 PM, krishna e bera ha scritto:

@_date: 2013-09-01 22:59:47
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Contents of PirateBrowser 0.6b 
Il 8/30/13 6:29 PM, Matt Pagan ha scritto:
The venue of the Tor Porn Browser [1] has come!
[1]

@_date: 2013-09-10 20:39:04
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Improvement of SSL Ciphers of Tor2web 
Tor2web has been improved with ECDHE and GCM (authenticated encryption) ciphers:
Now the ciphers available are the stronger one existing such as
TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 with:
- Elliptic Curve
- AES 256
- GCM (Authenticated Encryption)
- SHA385
Kudos to Evilalive for this strong improvement, done by improving the PyOpenSSL package:

@_date: 2013-09-13 11:12:57
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Description Linked Data Proposal to WWW Servers Inside 
Hi all,
does anyone have reviewed and/or commented out the Ahmia's proposal for
Description Linked Data Proposal to WWW Servers Inside Tor ?
It's at

@_date: 2014-04-10 10:16:46
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Private keys at risk due to HeartBleed: Are we sure? 
are we really sure that the "private keys" are being compromised due to
the heartbleed attack?
I see many people upgrading, that's OK, but then i see many people
changing private keys.
I read here that's very unlikley that a private key can be retrieved:
Here there's the list of PoC/Exploits:
I read of several people that tried deeply the exploits but wasn't able
to recover the private key in any case.
The only occurence of private-key disclosure that i read related to
FreeBSD, on Twitter:
The same person say that on Linux he wasn't able to retrieve the private
So, before going into this urgent rush of private key changing, can we
assess deeply and technically in which context the private key
disclosure effectively exists?
In which "software / operating system" pair does the private key
disclosure is an effect of the vulnerability?
On which "software / operating system" pair is not technically
exploitable, so the private keys has to be considered safe?
Maybe Linux is immune to private key dislcosure but FreeBSD is not?

@_date: 2014-12-18 18:59:26
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Tor can be used to save VAT money in EU 
one nice elements that Tor could provide EU private citizens, will be
VAT saving on electronic services acquired within the Union.
Have a look at how new EU VAT rules are being implemented by e-commerce
platform  :
"To deal with the new EU VAT rules, when dealing with regular consumers
the extension will collect and validate the user?s IP address against
their billing country. In the case of an IP mismatch, the customer will
be able to self-declare their location and this will be stored as a
piece of evidence along with the billing country."
Happy shopping with Tor and VAT saving :P

@_date: 2014-12-21 23:49:00
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Possible upcoming attempts to disable the Tor network 
I've put a cloud hosted ping monitoring service with all TorDA IPs here:

@_date: 2014-12-22 00:21:28
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Warning: Do NOT use my mirrors/services until I have 
I added the IPs you reported to such ping monitoring stuff:
I see that all IPs are down, except 89.207.128.241 that's up.
It's an expected behavior ?

@_date: 2014-12-22 08:56:06
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Possible upcoming attempts to disable the Tor network 
"194.109.206.212:80 7EA6 EAD6 FD83 083C 538F 4403 8BBF A077 587D
    "Tonga orport=443 bridge 82.94.251.203:80 "
I see this is the only TorDA with two IP (from NL):
- 82.94.251.203 does answer to ping
- 194.109.206.212 does not answer to ping (so appear to be down)
Switched to HTTP test for 194.109.206.212:80 to avoid test failing.

@_date: 2014-12-25 10:35:40
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Wikileaks II running over Tor 
I am very disappointed that the world is moving forward in organized way
- blackmailing people with information (see CryptoWall)
- blackmailing corporation with information (see SonyHack)
- economic trading of information (see this slur things, that can become
a pre-requisite for blackmailing)
That's not the world i love.
Also w.t.r. to Whistleblowing, it's a powerful tool to be used for
public interests purposes && with a motivation moving the whistleblower
to be related to good ethical community values, not for private economic
Btw Happy Birthday Jesus...or like more politically-correct people like
to say "Happy Holidays!"

@_date: 2014-02-13 18:11:38
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Ostel and WebRTC over Tor? 
Il 2/12/14, 9:54 PM, Nathan Freitas ha scritto:
In the company i was CTO doing mobile voice encryption some years ago,
we made testing regarding this kind of problem, especially for
tunnelling voice over HTTP (that's over TCP).
That's a weird problem that can be fixed by using some "non
conventional" transmission techniques, together with very adaptive
jitter buffering techniques.
The "problem" is that a single TCP connection can "temporary hang on TCP
retransmission" (due to exponential backoff algorithm) and that's what
kill a voice connection, forcing jitter buffer to increase up to several
seconds of delay.
However by having "many" transport channels (many TCP connections) and
sending x5/x10 copies of the same audio payload over multiple streams
(as many as the copies of the payload), the likellyhood that a single
payload will "temporarly hang" between the sender and the receiver
drammatically decrease.
Given that today we have narrowband codecs  and that over high-latency
channel we can pack several 20ms sample together easily (also in packets
of 100ms size to reduce the amount of packets/s), the effective overhead
of sending/receiving 10 times more the amount of data is something
Obviously the multimedia transport channel must take into account all of
those kind of issues, must also trash channels that get congested
establishing new ones, etc, etc
The jitter buffer must also understand that's working in a quite shitty
environment, so all of the optimization of adaptive jitter buffers for
burst based networks (like GPRS CS1) apply.

@_date: 2014-01-01 16:05:18
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] A Tor-like service run by former NSA/TAO Director & CIA 
Hi all,
there's a Tor-like service run by former NSA/TAO Director & CIA National
Clandestine Service Senior Officer.
It seems a Commercial Onion Routing Privacy Service for US enterprises
and Government Agencies.
It's called NetAbstraction:
"NetAbstraction is a Cloud-based service that obscures and varies your
network pathways, while protecting your identity and your systems."
They say to fully cooperate with Law Enforcement from
Behind NetAbstraction there's a company, Cutting Edge CA:
The president and CTO of Cutting Edge CA is a former NSA "Tailored
Access Operation" (TAO) Senior Leader, Miss. Barbara Hunt
 .
" My last position in the Intelligence Community (2008-2012) was as
Director of Capabilities for Tailored Access Operations at the National
Security Agency. As a member of NSA/TAO's senior leadership team, was
responsible for end-to-end development and capabilities delivery for a
large scale computer network exploitation effort"
Works here also a former 24 years CIA Senior Operations Officer that was
in charge of National Clandestine Service, Mr. Bay.
"Mr. Bay is a retired CIA Senior Operations Officer with 24 years of
experience conducting a full range of intelligence operations for the
National Clandestine Service, including operational innovation and
implementation of telecommunications and information technology
programs. Mr. Bay also brings extensive experience in alternate persona
research, planning, acquisition, and use."
It would be very interesting if someone would spent some more time
investigating it, to get a bit more a in depth picture, other than just
my early OSINT.
Former spy, experts on COMINT and SIGINT, running an online privacy
service? mmmmmmmmmmm...

@_date: 2014-01-06 19:04:07
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] IETF Technical Considerations for Internet Service 
Nice reading
IETF Technical Considerations for Internet Service Blocking and Filtering

@_date: 2014-01-13 19:07:38
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] [IDEA] Google App Engine, Tor Hidden Service Viewer 
Il 1/13/14, 4:17 PM, Nathan Suchy ha scritto:
Some comments on this idea:
* It's not possible to prevent Google from logging the access to the Tor
Hidden Service and to provide those access logs following an authorized
request from a governmental agencies, thus possibly exposing
* It's not possible to configure the SSL/TLS Ciphers of Google App
Engine, so the connection could not have Perfect Forward Secrecy
* Google App Engine does not let you have an always-on process server
side, enforcing a maximum execution time (last time i checked, some
years ago, it was 30 seconds) . Tor connection process keep some time in
order download the descriptors, connect. So it may create some
additional load over Tor network by the need to connect and disconnect
to the Tor network and does some Guard/Directory traffic.
So i'd consider to be careful in which kind of "use case" are defined
for such kind of project, especially when compared to Tor2web

@_date: 2014-01-14 18:31:37
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] [IDEA] Google App Engine, Tor Hidden Service Viewer 
Il 1/13/14, 9:53 PM, Seth David Schoen ha scritto:
Tor2web add an X-Tor2web HTTP header in each of the request going to the
That way the owner of the TorHS can block all of the requests coming
from Tor2web or manage it with configurable access policy like we're
doing into GlobaLeaks software.

@_date: 2014-01-22 17:10:47
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Integrity of platforms: Trusted Computing 
Hi all,
a recurring discussion happening is related to the integrity of the
operating system and application.
Those kind of problem could in theory be fixed with proper use of
Trusted Computing support today present in nearly all computer's hardware.
I noticed some very interesting area such as the Thuraya Security Kernel
architecture by European Multilateral Secure Computing Base:
It does include also Trusted bootloader such as Grub:
I'm wondering if, within anonymity community, the trusted computing
technologies hasn't been evaluated properly for the values that it could
be provide in terms of operating system and application integrity.

@_date: 2014-03-08 20:06:11
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Pissed off about Blacklists, and what to do? 
Il 2/7/14, 4:46 AM, grarpamp ha scritto:
of a company, i would definitively block Tor's access to my IT
I would also block most of spamhaus, VPN's, etc, unless there is a clear
and evident "business need" to allow that source of traffic.
It's very reasonable and effective from an IT Security Practice point of
view to block IPs that are common source of IP attacks.
Doing it from an anti-fraud point of view it's even more effective,
preventing any kind of economic transaction from public proxy service,
increase the cost and complexity for the "poor's fraudster".
So i think that we cannot do anything.
I think that the IT Security guys are right in blocking or restricting
access to most services when coming from public proxy services.
You can "push" the big dotcoms in order to manage in a better way the
traffic coming from dirty IP addresses, and that's happening.
Probably having "specialized Exit Node" for the most common services
(facebook, google, etc) , in order not-to-mix dirty traffic with
very-reasonably-good-traffic, could be one of the path to work on.

@_date: 2014-03-09 10:21:52
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Pissed off about Blacklists, and what to do? 
Il 3/8/14, 8:39 PM, Paul Syverson ha scritto:
that enable someone to connect indirectly to a remote IT system hiding
your IP.
What you suggest is "good common sense" for a "properly well organized
and well funded" large organization, where the "IT Governance" and the
"Security Governance" works very well together.
But in the dirty-real-world, enterprise application development is done
trough a series of contractors, IT is often managing the application's
infrastructure while Security is managing the perimeter security and
incident response.
In a situation like that it's organizationally and politically very
difficult to make the decision that you are suggesting, requiring some
internal stakeholder to became the sponsor of "very ponderate decisions"
against public proxy service users.
A decision to "manage in a soft way connections coming from public proxy
services" need more effort than just blocking it.
So, let's assume we have an internal sponsor in a large organizaiton
that want to use a soft approach.
The decision will reach some very high level senior manager (being the
IT manager or Security Manager).
That 1st level management will will ask some very simple questions in
order to take decision:
* Which is the business impact?
* Do we have numbers on how many of our customers have this behavious of
shielding their IP?
* Of those who shield their IP, how many are already our customers?
* Which are the residual risks we're opening by managing softly rather
than blocking?
* What other companies are doing with this problem?
* What our super-senior security advisor think of this problem?
* What our IT Security Product Vendor recommend about this problem?
* How much does it costs to manage in a soft-way?
Frankly speaking i think that in most of the situation the decision will
not be in favour of managing in a soft way (especially not for resources
that could be abused).

@_date: 2014-03-09 18:10:49
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Pissed off about Blacklists, and what to do? 
Il 3/9/14, 2:28 PM, Paul Syverson ha scritto:
While i understand and agree from the technical point of view, this
approach does not scale up because of a matter of effort.
Having additional authentication or solving a Captcha is something that
usually require application's modification.
Modifying an application in a large enterprise means that someone need to:
- convince the product manager of the application that this a valuable
- allocate a budget for this additional "functional requirements"
- prioritize so it would not end-up in the "never to be implemented
So the "Security Department" cannot do anything directly into this
process other than "blocking at perimeter" using a functionality that
they already have in their Firewall/IPS, usually clicking on a couple of
Unless we are not clearly able to demonstrate the business value to
avoid IP-based blocking, switching to an application-level enforcement,
the IT Security Product Vendor built-in features will win.
Probably the Tor Project could work on creating a set of CIO and CISO
focused papers, explaining the business value of improving the
accessibility of their enterprise applications and services to users
using Tor.
But that does require an important Advocacy and Lobby activity to be
done within the Information Security and IT Security world, reasonably
focusing on senior and middle management.
The manager will always ask "Show me the numbers, swho me the best
industry practices".
That's probably what we need in order to feed the cat.

@_date: 2014-05-19 20:02:28
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] HTTP2 and TBB 
any plan to introduce support for HTTP2 in TBB given it's nice
opportunistic encryption features?

@_date: 2014-11-02 19:17:19
@_author: Fabio Pietrosanti - lists 
@_subject: [tor-talk] Is Facebook Tor HS using Tor2web mode? 
Thinking about the security properties vs. performance impact of
Facebook reachable under .onion.
I'm wondering if Facebook is using Tor2web mode of Tor, including latest
experimental patches to further reduce the "amount of hops" on the
.onion-side as  ?
The tor2web mode has been designed to be used from the Tor-client by
Tor2web software, but should it also works for who would like to expose
a high performance Tor Hidden Service, without the need of
location-anonymity property?

@_date: 2014-10-25 21:36:17
@_author: Fabio Pietrosanti - lists 
@_subject: [tor-talk] OnionTravel: supporting Tor Network while traveling! 
Following the idea of OnionTip, i've been thinking that would be very
cool to gives some money to Tor Relays whenever we travel.
So, the idea is to setup a site "OnionTravel", that enable to buy online
flights and hotels by giving back something to the Tor Network trough
the use of Affiliate Marketing programs.
Affiliate Marketing [1] enable website owner to drive customers to a
providers's websites to buy something (services or goods), giving back a
fee (fixed or percentage of sale) to the owner of such website if the
transaction succeed (ie: the customer buy something).
If such OnionTravel website would exists, i would be happy to buy here,
knowing that i would be donating money some money back to the Tor network.
It would be possible to implement it, thanks to the Affiliate Programs
run directly by Travel company [6] , Hotel booking [7] sites or
Affiliate Marketing Company [2] .
The organization running "OnionTravel" would be paid the "Affiliate's
fee" usually every month by Wire Transfer and that money could then be
transferred to Tor Relay operators.
This kind of concept could be further improved not just for travels, but
also to provide a kickback to Tor when buying an Apple [3] or Dell or
Lenovo [5] Computer or Geek stuff at ThinkGeek [8] (that run Affiliate
programs), and tons of other good and services.
It would probably require a some software layer integration to keep
track of transparent accounting and money-flow, along with some nice web
The organization managing such a site should be an NGO part of our
communities, that's trustful to operate correctly.
I've not enough spare time now to engage in a project like that, but
would like to share the idea to get feedback and maybe someone would
pick it up and try to do it.

@_date: 2014-09-12 11:28:47
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Merging all languages (locales) into one Tor Browser 
Il 9/12/14, 11:17 AM, Lunar ha scritto:
What's the reason not to bundle all locales in a single binary?
Distribution issues because of size or security reasons?
same of the language that he speak (usually the OS's language).

@_date: 2014-09-12 15:51:39
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] Someone is crawling TorHS Directories: Honeypot 
Hi ,
about a month ago i wanted to verify if someone is actively crawling
TorHS that are inside the memory of Tor HS directories.
So, i've setup a small Tor Hidden Service Honeypot at home with unknown,
unpublished, non-publicly-linked TorHS, with a relatively simple setup:
- Setup 30 Tor HS (just to increase the chance to be on different TorHSDir)
- Redirected all of them to 127.0.0.1:80
- Setup inetd on port 80 executing a small shell script
With such setup if someone would connect to my TorHS, it would be for
sure a malicious user whose primary goal is to harvest TorHS addresses
for research or intelligence purposes.
To know about such TorHS address the attacker must be running a
malicious Tor Relay acting as a TorHS Directory, with Tor's code
modified to dump from the RAM memory the TorHS list, then harvest them
with an http client/script/crawler.
The shell script honeypot.sh does just:
- execute date
- read the incoming requests
- write those data to a log file
- answer 404 not found to the client
- send me an email
Yesterday i've received my first email from the honeypot, report below.
It would be nice to extend this concept to proactively detect and
identify who's running such malicious Tor Relays by logging/mapping
every HSDir that is selected/rotated for such Tor Hidden Services.
-------- Messaggio originale --------
Oggetto: 	ALERT da Honeypot TorHS
Data: 	Thu, 11 Sep 2014 10:12:48 +0000 (UTC)
Mittente: 	root at pietrosanti.it (root)
A: 	fabio.pietrosanti at logioshermes.org
Thu Sep 11 10:12:48 UTC 2014
GET / HTTP/1.1
User-Agent: curl/7.22.0 (x86_64-pc-linux-gnu) libcurl/7.22.0 OpenSSL/1.0.1 zlib/1.2.3.4 libidn/1.23 librtmp/2.3
Host: yefc7p6pv3lsvqrn.onion
Accept: */*

@_date: 2014-09-13 14:27:03
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] IPv6 Only Tor Exit Relay? 
Hi all,
i'm wondering if with the current IPv6 support of Tor is possible to run
an IPv6 only Tor Exit?
If so, are there IPv6 Tor Exit Traffic going on, or it's just experimental?
If so, can an IPv4 Tor Client, use the Tor Network, to reach IPv6
internet making it act like a Tunnel Broker?
I've read:
* IPv6 Relay Howto
* IPv6 Roadmap

@_date: 2014-09-23 18:45:31
@_author: Fabio Pietrosanti (naif 
@_subject: [tor-talk] TPO/TBB clone on SourceForge, use of TPO name 
Il 9/22/14, 11:42 PM, grarpamp ha scritto:
Here an OSINT notes/analysis on several of that "suspicious" software:
I've been particularly considering also other "suspicious" software that
has been "strangely" solicited/promoted across many activists community
but comes from unknown/anonymous persons.
Please note that such TorProject copycat site seems to be particularly
targeting UAE users from Sourceforge's stats:
- TorBrowser (16.170 download with 2nd top-country UAE)
- Browser4Tor  (357 download, with 46% from UAE)
That analysis is a bit old, September 2013, but may contain userful info
for people digging into that problem.

@_date: 2015-08-19 12:40:59
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Letsencrypt and Tor Hidden Services 
does anyone had looked into the upcoming Letsencrypt if it would also
works fine with Tor Hidden Services and/or if there's some
complexity/issues to be managed?
As it would/could be interesting if Tor itself would support directly
letsencrypt to load TLS certificate on TorHS.

@_date: 2015-08-23 12:30:41
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Open Call for GlobaLeaks Developers 
Are you interested in making the world a better place by putting your
development skills to use in a globally used free software project?
Do you feel passionate about using web technologies for developing
highly usable web applications?
                   Then read on ? this may interest you!
GlobaLeaks is the first Open Source Anonymous Whistleblowing software
used for Anti-Corruption, Investigative Journalism and Human Rights Defense
The Hermes Center for Transparency and Digital Human Rights is looking
for talented software developers that can work in response to the ever
increasing demands of the growing GlobaLeaks adopters around the world.
To apply for this job you should be familiar with web technologies and
in particular with the Angular.js and Bootstrap frameworks, as a
Frontend Developer or Full Stack Developer.
You can join a non-profit entity making its platform the most used
whistleblowing tool.
The nature of the role is to be flexible in the way we work, with
developments ranging from a number of whistleblowing projects based on
GlobaLeaks for adopters all around the world up to more structured and
?easy to be planned? roadmap based activities.
You will be given an ideal opportunity to fast-track your skills by
working side by side our senior development team in all areas of the
project lifecycle.
If you are willing to take this challenge, you will be exposed to
GlobaLeaks project using AngularJS, and Bootstrap. Knowledge and
attention to UX design is paramount.
You can know more of our projects at:
Github  (Code)
Wiki  (Documentation)
Website Our (public) users Skills required
It is required to already have practical experience in software
development practices with Git, especially in the opensource environment
with Github, with a deep focus on modern HTML5/Web technologies.
Key skills:
* Javascript Asynchronous Programming,
* Responsive Design,
* UX Design
Key Technologies:
* AngularJS
* Bootstrap
* Github
Exposure to all the above skills is necessary.The ability to learn
quickly, embrace new technologies and have a good understanding of OO
principles is essential. This role will suit someone who is fresh out of
university, or has a little experience, with a hunger to move into a
senior role.
If you?re a full-stack developer using Python/Twisted, Linux, Debian
Packaging, Sqlite and DevOps ninja skills, we?d really love you!
Linguistic skills:
* English (Required)
* Italian (Preferred)
We used to mostly work remotely with periodic activity bursts carried on
together (?hackatons?), but we are about to move to our own office in
the City Center of Rome (Largo di Torre Argentina, nearby Pantheon) or
Milan (nearby Bovisa) to achieve higher operational efficiency.
We?d prefer if you live or willing to relocate for the time being in
Rome or Milan, but we?d consider remote workers as long as they are
operational within the European timezone day-time (CET/CEST).
About the Hermes Center
The Hermes Center for Transparency and Digital Human Rights is an
international NGO with Headquarter in Italy that develops, promotes and
diffuses technologies for Transparency and Human Rights Defense, with a
particular focus on Whistleblowing and Anonymity.
Since 2012 the Hermes Center works on GlobaLeaks and Tor2web
Whistleblowing software, with support from Open Technology Fund
(Washington), Hivos Foundation (Netherland) and several journalistic,
anticorruption and human rights projects by international organizations
(ie: Transparency International, Amnesty International, Organized Crime
and Corruption Reporting Project, etc).
How you can apply?
To apply send a short notes, a resume, and a link to your Github page to
jobs at globaleaks.org.
Part of the recruitment process will require you to hack on GlobaLeaks,
so it will constitute a +100 points if you already fixed some github?s
issues showing you coding skills with a well done pull request! :-)
This job post is available at:
The contract depends on your experience, personal needs ranging from a
stage up to an employment contract, from a temporary engagement up to a
consulting agreement.
Hermes is an equal opportunity employer and will not discriminate
against any employee or applicant on the basis of age, color,
disability, gender, national origin, race, religion, sexual orientation,
veteran status, or any classification protected by law.

@_date: 2015-12-15 17:09:58
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Ordering a .onion EV certificate from Digitcert 
we asked on Twitter to Digicert to provide a quick guide on how order an
x509v3 certificate for TLS for a .onion, they've just published this
small guide:
Hopefully other CA will follow and at a certain point letsencrypt too.

@_date: 2015-12-16 10:51:21
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Tor Historical Consensus Analytic 
i would like to make a query on the Tor archved Historical Consensus
Basically i would like to extract all emails account from the Contact:
field of the consensus that end-up with .it.
I would like to build a mailing list to promote the upcoming (hopefully
to be setup in 2016) Onion Italia, identifying Tor Supporters in italy
that used to run a Tor Relay.
I'm wondering if it's possible to query in an easy way, trough some kind
of online/cloud database the archived historical consensus.
If not, then it would be really nice if those data sets would be
available on something like Google BigQuery?

@_date: 2015-02-06 17:43:36
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Gmail is blocking sending email from smtp.gmail.com 
Hi all,
at GlobaLeaks we did notice that Gmail is blocking the sending of email
over Tor trough authenticated users over smtp.gmail.com .
The user being used to send out email is part of a Google Apps Business
account, regularly registered, by the way gmail sounds like preventing
sending legit (non spam) email trough that account when behind Tor.
Does anyone have report of success sending email (with authenticated
username, over TLS) with Gmail behind Tor?

@_date: 2015-01-01 12:28:27
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Tor 0.2.6.2-alpha is now released! 
Would it make sense to gather also that kind of statistics if Tor is not
acting as a Relay but as a Client with Tor2web Mode enabled?
Because Tor2web gateways provide access from the Internet to a lot of
Tor Hidden Services, so that statistics maybe of interests too to be
gathered in the area of "Tor HS Statistics".
Currently "some stats" is gathered from Tor2web software at application
level, but not from the underlying Tor software:

@_date: 2015-01-05 18:58:32
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Promote Tor and Hidden Services as an 
GlobaLeaks, that use Tor Hidden Service, is already being used for such
purposes by Civil Society Players such as Transparency International to
fight corruption in Italy & Pistaljka to fight corruption in Serbia.
Have a look at various implementations (and much more coming, also in
that direction of anti-corruption, also with anti-corruption authorities
and public agencies for internal use):
Please consider that the use-case of Whistleblowing for corruption
fighting is a quite complicated topic, with multidisciplinary knowledge
required, quite deep and articulated "questionnaires" to be provided to
the Whistleblowers that shall be adjusted depending on the law and the
Other than very structured questionnaires (where at GL we're putting at
lot of effort to improve the form builder and default submission
databases, useful for different whistleblowing purposes) you will also
need to consider sensitive "ethical" questions.
It wouldn't be considered "ethical" to push for anonymous whistleblowing
by a crowd to the Law Enforcements of any kind of "unsolicited,
free-text tip" .
It would be considered "ethical" to push for anonymous whistleblowing of
very structured qeustionnaires going trough independent anti-corruption
authorities or anti-corruption NGOs that would eventually, at a later
stage, decide whenever it's better to involve a lawyer, a media or law

@_date: 2015-07-03 16:55:37
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Fwd: CALL FOR TESTING: new port scanning subsystem 
Hi all,
sorry for cross-posting but it's relevant to know that nmap is going to
start supporting high performance port scanning over proxy, including Tor.
That would likely means an increase in the issues for Tor Exit Relay
operators for abuses related to port-scans being reported.
Should Tor implement some kind of exit-policy-configurable-rate-limiting
on the amount of new Tcp connections that can be opened over the same
established circuit?
-------- Forwarded Message --------
(TL;DR: Just perform "BUILDING INSTRUCTIONS" and let me know if it
worked on your system.)
A few days ago [1][2] I mentioned that I was working on a modification
to Nmap's port scanning engine that would - among other things - allow
scanning behind proxies. I had a few issues with the code that I needed
to work on, mostly memory errors causing crashes. Right now, I am happy
to announce that this branch is ready for beta testing and I'm looking
for volunteers to help me with this task. Hopefully all the major bugs
were shaken out and the code could be integrated soon.
======================== BUILDING INSTRUCTIONS =========================
This is the same as in [1]:
1. Pull my nmap-nsock-ultrascan branch:
svn co 2. Enter nmap-nsock-ultrascan directory and build Nmap:
cd nmap-nsock-ultrascan ; ./configure && make
3. If all went well, try a simple -sT scan:
./nmap -sT scanme.nmap.org
========================== HOW TO TEST IT ==============================
Apart from a simple -sT scan I mentioned in step 3 of "BUILDING
INSTRUCTIONS", I would definitely welcome trying out more complicated
test scenarios.
One of the features that my modifications enable is performing port
scanning behind proxies. I only scanned it using SOCKS4 server built
into Tor - to repeat that, you can run the "tor" command in the
background and execute the following line to scan scanme.nmap.org:
./nmap -sT --proxy socks4://localhost:9050 scanme.nmap.org
First segfaults were found and fixed thanks to stress testing I
performed by adding "-p-" to the command, which scans all TCP ports
possible and running this command in a loop. Note that this can
sometimes take incredibly long time - probably due to "rate limiting
detection" feature, the scanning can slow down to as little as a probe
per second, which would make -p- scan take 18 hours. This is why I also
tried --top-ports=10000, which has lower chances of behaving this way.
If you run across an error (segmentation fault, assertion error or
something else), it would be perfect if you could recompile Nmap with
debugging support, add -d9 to the command line and run the command
within a diagnostic tool such as gdb or valgrind. Here's how I did this:
CXXFLAGS="-ggdb -O0" CFLAGS="-ggdb -O0" ./configure && make
valgrind ./nmap -sT scanme.nmap.org -d9 -p- >log 2>&1
I hadn't tested proxy chain support or various command-line switches. I
did very little testing outside of Tor. It might also be a good idea to
scan multiple targets and try -iR scan - I tried neither of those. Also,
please pay attention to scan timing - if the scan is much slower or
faster than the old Nmap mechanism, this is a red flag that I would like
to know about.
Please do note that even though port scanning within Tor is possible,
you cannot scan .onion names due to lack of SOCKS4A support. Also, the
changes should only affect -sT connect() scan, so don't expect any
improvements while trying to perform SYN scanning or any other
non-connect() techniques, such as UDP/SCTP/protocol scans.
===================== FEEDBACK & LOOKING FOR BUGS ======================
Any feedback is welcome! If you just built it and ran the step 3 of
"BUILDING INSTRUCTIONS" successfully, this is already some good news I'd
love to hear. Please mention what system you used, this might prove to
be useful information as well. If you ran into any errors, please tell
me how I could reproduce it (what command you ran) and what system you
used. If you could take some time and run through my comments in "HOW TO
TEST IT", your report would be even better. Thanks in advance!
[1] [2]

@_date: 2015-06-07 10:11:42
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] "Tor Browsers" on SourceForge 
i've been looking that on SourceForge there are several projects that
distribute the "Tor Browser" and explicitly use the name "Tor Browser":
Tor Browser Portable
Tor Browser
The 2nd one is not even Tor Browser.
Given that there could be sketchy reasons to distribute Tor Browser
unofficially and that Tor it's a copyright of Tor Project, shouldn't the
Tor Project ask to SourceForge to act to:
a) Or Remove those project
b) Or ask to change name and remove any occurrence of "Tor" in the name
of the projects, title, sub descriptions that may lead to misleading
interpretation that "this is tor browser"

@_date: 2015-06-08 13:13:23
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] "Tor Browsers" on SourceForge 
I'd love to take care of fixing this issue.
I think that a detailed analysis of such kind of abuse by
"torproject.sf.net" is the first thing to work on, including past
evidence of more aggressive copyright violations, now always heavily
Knowing all the previous inquiry that has been done (dates, contact
persons, answers) by Tor Project would be very useful.
With such data analyzed:
a) ask for the project to be temporarily taken down by asking to remove
any kind of occurrence of terminology and/or graphics that may be
misleading in cheating the user
b) handover the project name "torbrowser" to Tor Project, that will
I've been told by a good friend at SourceForge, to which i'd like to
present such an analysis + request for action, that they are also going
to deploy https across all the mirrors for software download.
Time to fix this!

@_date: 2015-03-02 16:15:26
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Fixing the problem of sending email from Tor: Proof of 
Hi all,
at GlobaLeaks we're encountering a lot of issues related to sending of
email notification behind Tor, with almost any email provider.
If the sender provider don't block you today, it will block you tomorrow
at random.
If the recipient's provider don't mark you as Spam today, it will do it
tomorrow at random.
That's a known Tor's outgoing email problem, still unfixed.
That's because any provider that's used continuously behind Tor, before
or later get abused/will block you (including Google), and because the
IP reputation of any Tor Exit Relay on the internet is very bad.
So, thinking on how to fix it, why don't create an outbound email system
that's based on proof of work to heavily disincentive spammer/fraudster,
enabling a Tor user to send email to general Internet users without
major problems?
If my Tor client computer had to run heavy computations for 15-30s to
send a single email, i think that spammer and fraudster will be KO, but
an average user could still find it acceptable because a single user is
"low volume" but any automated systems are high-volume.
A Tor Exit node could require such a "proof of work" from a Tor Client
in order to enable a single outgoing connection for that "highly
sensible exit port" (25, 465, 587).
If this method work, it should be required to improve Tor to run a
dedicated "Per Port  Exit OutBoundAddress" that would enable to have a
dedicated IP address for outgoing connections trough port 25/465/587.
This IP address will have a good reputation on the internet, because
will be only used by real-users to send a relatively limited amount of
That way it would be transparent for the end-user to send outgoing email
trough Tor.
If this would be in place, the Tor2web inbound SMTP feature to be developed before or later, will complement this picture allowing
full inbound/outbound SMTP email traffic.
Beware: I'm pro-compatibility, i don't like any "let's make/use a new
protocol, Email is dead, SMTP is dead, PGP is dead!" and i concretely
think that we shall improve the existing internet-standards to fulfill
new requirements, rather than create new ones.

@_date: 2015-05-03 09:29:16
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Gmail is blocking sending email from smtp.gmail.com 
Akater, being a usual TorBirdy user, if you can try the 2FA/App
Password approach and gives back a feedback of use for a couple of
weeks it would be lovely.
I think that having a confirmation that using 2FA + Gmail App Password
fix the issue, has to become part of any existing documentation:

@_date: 2015-10-06 14:48:45
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Port Independent Protocol Detection 
does anyone ever tried that CAPLoader tool with Port Independent
Protocol Detection on Tor traffic?

@_date: 2016-12-06 12:37:10
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Does Tor have any limits on the amount of inbound 
i was wondering if Tor do have any limits on the amount of inbound
connection per source IP?
My question is whenever a Tor Relay could be subject to DOS attack by a
single powerful server (let's say that with a single IP) but with some
powerful GPU to accelerate RSA operations?
I'm wondering if a single server with a powerful GPU (ie: Amazon AWS
with GPU) could trigger 50.000/RSA&second operations with 50.000
newconnection/seconds to a single Tor Relay?
That's to ask if there's some kind of limits in place to prevent a
possible DOS attack like this, by evaluating the amount of asymmetric
crypto operations per source IP / time and deciding whenever to slow it

@_date: 2016-02-01 14:26:23
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Exit Traffic classification and discrimination 
Answers in-line.
the Threat Model.
resiliency against takedown due to Abuses.
We are not speaking about whats "Dangerous" for a Tor user, but what's
"Abuse-Generating" for  Tor Operator.
I think that most of those discussions you're referring to:
- does not trigger abuses being sent to the ISPs
- happens mostly on major internet platforms (let's say the top-30)
When i used to run Tor Exit relays, i never received abuses coming from
traffic being directed to major internet websites (ie: google, facebook,
wikipedia, etc).
The ISPs are already doing that, it's called "Traffic Engineering", but
it's not done due toe "abuse" or "not abuse", because the abuses are not
a major issues for an ISP.
Abuses are a major issues for Tor operators, not for ISPs.
Any digital attacks attempt going trough Tor, has to be considered
abusive, because it generate abuses.
Btw if you try to make a web attacks against:
- Facebook or Google or  (no abuse received)
- A major abuse (abuse received)
That's why traffic engineering with such a multi-homing approach, could
really works differentiating traffic designated to
top-internet-destination (that does not generate abuses but may
represent most of the traffic) vs. rest of the internet (that's likely a
minor part of the traffic, but in this chunk there's surely the
abuse-generating one).
Btw it's not easy to be technically implemented

@_date: 2016-02-02 19:44:39
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Exit Traffic classification and discrimination 
Another very important challenge would be, how to discriminate those
traffic, due to the CDNs and other geo-dependent complexity.
How to get Alexa top-500 (that we may expect to unlikely be
abuse-generating sites), get their IP addresses/netblocks and route them
over a specific Tor Exit IPs address to measure if:
- They generate abuses
- How much of the Tor Exit traffic they generate
That would be a simple, yet privacy safe, way to evaluate if those
traffic classification and discrimination approach could work in
*uber-simplifying* the life of a Tor Relay operator.

@_date: 2016-02-07 10:09:20
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] A possible way to make end-users to contribute to Tor 
i was thinking about the value of of being able to setup Tor Exit relay
that are non-abuse generating, limiting the risks, problems and
(partially) liability of a Tor relay operator, while still pumping a lot
of traffic out of the Tor network.
Being able to contribute to the Tor network, without all the risks and
the burden of getting hit by frequent abuse emails triggering your ISP
to take your internet connection / server down, would be an amazing
things for Tor, enlarging the base of volounteers that could be help Tor
That would be an amazing major step forward for the Tor network support!
It would enable the possibility to have the end-users, running the Tor
Browsers, to click "Contribute to Tor network", then picking the
destination they do want to allow (that are not-abuse-generating) among
the top 30 traffic destinations.
Those can be dynamically measured by the network, by leveraging
AS-awareness (es: Google's 17 AS maybe just represented as "Google").
Those could enable "crowdsourcing" for offloading the top destinations
(that are very likely not-abuse generating) among the end-users, leaving
more capacity to the Tor Exit relays that are capable, knowledgable and
organized to run Tor Exit relays (that's the current network of Tor
Relay operators).
Below for example some likely high traffic destinations amount of AS
numbers per destinations:
Google (17 AS)
Facebook (1 AS)
Twitter (3 AS)
Microsoft (28 AS)
Yahoo (59 AS)
Wikipedia (3 AS)
Linkedin (9 AS)
Github (1 AS)
Cloudflare (5 AS)
That would require as a building block a feature to enable Exit policy
awareness, to define exit traffic.
I opened a bunch of tickets as a brain dump around those possible scenarios:
Enable Exit Policy by Autonomous System Numbers
Make Tor aware of the top-30 destinations of Tor Exit traffic
Enable TorBrowser users to become "easy to be run" Tor Exit relay

@_date: 2016-02-07 11:26:42
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] A possible way to make end-users to contribute to 
It depends only on how finely we can be capable of precisely defining
the destinations to which you're sending your Tor exit traffic.
If i get all the Google's IP of their 17 Autonomous System and will only
enable that configured in an Exit Policy, do you expect to receive abuse
requests from Google? I don't think so.
Those large organizations, all among the top-30 destinations of the
internet let's say, are knowledgeable enough in their SOC (Security
Operation Centers) that just don't care to waste their time sending
abuse requests to Tor Operator's ISPs.
So, if you enable only those "no abuse generating / high traffic"
destinations, the end-users should not have at least the problem of
abuses, that usually is the bigger.
Well, regarding the bandwidth it depends on the link but in many
countries, residential have very high speed connection lines and just by
feeling (not by math) maybe a single average home user maybe able to
push 1-3TB of bandwidth a month, like a cheap VPS.
In terms of netwok design, we may think that those TorBrowser users
contributing to the Tor network to become "helpers" of Tor Exit relays.
Those "Tor Exit Helpers" may serve a certain amount of "Tor Exit Relays"
to get traffic dispatched.
That traffic would go only to the top-30 tor network destinations, with
explicit opt-in by the end-user about where to let traffic goes among
those list. An end-user may wish to enable traffic to Facebook, Google,
Twitter, Wikipedia but not YouPorn (assuming that YouPorn would be among
the top-30 destinations).
A Tor Exit Relay, handling let's say 30 helpers available (connected to
him), may at OR-protocol level handle a sort of "302 Redirect" (to use
HTTP dialect), redirecting the users for that specific traffic to the
"Tor Exit Helper" that will handle it, changing the circuit path for the
With an approach like that the TorBrowser Clients would not need to know
the list of Tor Helpers, the consensus would remain the same, because
the relevant data would get served at OR-protocol-level be provided "on
demand" from a Tor Relay.
That's a matter of providing a simple UX wizard to drive the user with
basic education on what he shall understand and how to decide whenever
it's appropriate for you to enable Tor traffic to one of those "30 top
Well, that depends on UX design and end-user communication too, if it's
easy and it can be made with very reduced risks!.
To test out a crowdsourcing of Tor network contribution, it would be
required to run a 1 or 2 years beta program, to make it, test it, refine
it, fix it, improve it, refactor it, etc, etc
I think it's a quite big amount of work a project like that, requiring
tons of changes, research and design choices, etc

@_date: 2016-02-09 22:48:00
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Exit Traffic classification and discrimination 
I think that a possible cheap approach could be done, for what's related
to AS-aware approach.
Let's say that we make up an iptables chain rules that just load into a
chain all the destinations of well-known high-traffic destinations based
on the netblocks part of their own Autonomous System.
For example if i want to know from my Tor exit how many connections is
done to twitter and how much traffic is done to Twitter.
We learn that Twitter own AS54888, AS35995 and AS13414 .
We get their IP address netblocks with:
$ whois -h whois.radb.net '!gAS54888'
199.96.56.0/21 199.96.56.0/24 199.96.57.0/24 199.96.58.0/24
199.96.59.0/24 199.96.60.0/24 199.96.61.0/24 103.252.114.0/23
185.45.6.0/23 104.244.43.0/24 199.96.56.0/23 199.96.60.0/23
$ whois -h whois.radb.net '!gAS35995'
8.25.194.0/23 8.25.196.0/23 192.133.78.0/23 8.25.194.0/24 8.25.195.0/24
8.25.196.0/24 8.25.197.0/24 185.45.4.0/24 103.252.112.0/23 185.45.4.0/23
$ whois -h whois.radb.net '!gAS13414'
199.96.57.0/24 199.16.156.0/22 199.59.148.0/22 192.133.76.0/22
192.133.76.0/23 199.96.59.0/24 199.96.58.0/24 199.96.63.0/24
199.96.56.0/21 103.252.112.0/22 103.252.114.0/23 185.45.4.0/23
199.96.62.0/23 199.96.58.0/23 185.45.6.0/23 192.44.68.0/23
192.48.236.0/23 69.12.56.0/21 104.244.40.0/21 104.244.42.0/24
103.252.112.0/23 104.244.43.0/24 185.45.5.0/24 185.45.4.0/24
199.96.56.0/24 202.160.128.0/22 202.160.128.0/24 202.160.129.0/24
202.160.130.0/24 202.160.131.0/24 188.64.224.0/24 188.64.225.0/24
188.64.226.0/24 188.64.227.0/24 188.64.228.0/24 188.64.229.0/24
188.64.230.0/24 188.64.231.0/24 188.64.224.0/21 199.16.156.0/22
199.96.57.0/24 199.96.63.0/24 192.133.76.0/22 8.25.194.0/23
199.96.61.0/24 192.133.78.0/23 199.96.59.0/24 8.25.196.0/23
199.96.60.0/24 199.96.56.0/24 199.96.58.0/24 199.59.148.0/22
199.96.56.0/21 192.133.76.0/23 8.25.195.0/24 8.25.194.0/24 8.25.197.0/24
8.25.196.0/24 103.252.114.0/23 103.252.112.0/23 103.252.112.0/22
Then we create one rule to catch all traffic going to that destination
in a chain, in the same way it's doable with iptables traffic accounting:
We put the netblocks in file twitter-netblocks.txt and then make:
for i in `cat twitter-netblocks.txt` ; do echo iptables -I OUTPUT -p tcp
-d $i -m state --state NEW,ESTABLISHED -j twitter ; done
That way it would be possible to have a chain named "twitter" where all
the twitter traffic went trough in the Linux kernels trough the
"twitter" named chain.
By doing the following command it would be possible to know how much
traffic has been related to twitter:
$ iptables -L OUTPUT -n -v -x | grep twitter | awk '{ print $2}' | awk
'{ sum+=$1} END {print sum}'
Knowing the specific total of only Tor Exit traffic (that today can't be
look at with iptables because of the missing
 or
 and knowing the
amount of Twitter traffic in the linux kernel's iptables chain
accounting, would make possible to say that X% of traffic where Twitter.
That process, established by scripting the process with all the AS of:
Google (17 AS)
Facebook (1 AS)
Twitter (3 AS)
Microsoft (28 AS)
Yahoo (59 AS)
Wikipedia (3 AS)
Linkedin (9 AS)
Github (1 AS)
Cloudflare (5 AS)
It would be possible to extract the information on how much traffic is
going destinated to those company/services in % to the total amount of
Tor Exit traffic.
A smart linux hacker with some iptables and shell script skills could
automate the process, including extraction of those information within a
weekend of fun.
What would be logged would be in the linux kernel buffers will be the
total amount of bytes exchanged for each of the netblocks defined in the
AS of the "destinations", that must be computed.
No source IP addresses or timing on when a new session has been
established would be logged.
Technically it's likely (but must be tested) that iptables could easily
keep some ten thousands of entry, representing all the netblocks of the
autonomous systems of all the destinations that someone would like to
measure that way, because of the linux kernel optimization stuff.

@_date: 2016-02-12 18:06:33
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] A possible way to make end-users to contribute to 
That risks surely exists, but given that top-10 internet destinations
are handled by few large corporations, it would be relatively easier to
advocate them to have their legal department to always consider the Tor
Exonerator when answering their LEA inquiry.
If Tor Project and EFF engage to have Google's Legal department handling
LEA inquiry to always check if that IP address has been Tor or not and
return that information, the deal is done.
Obviously it's much easier to do that with the top-10 internet company
than with everyone of the internet.
Assuming that the top-10 internet company are also the top-10
destination traffic, then, WIN! :-)

@_date: 2016-01-02 19:46:03
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] On further minimizing harassment for Tor Exit Nodes 
this email is to share a consideration on how to further minimizing
harassment for Exit Nodes.
The worst risks is usually considered "being waked up at 6.00am in the
morning by authorities" but there's no specific provision on reducing
that risks.
The guidelines "Tips for Running an Exit Node with Minimal Harassment"
does not cover specifically this kind of risk.
Now, we can assess that this risks come from local/national uninformed
law enforcement agents and/or prosecutors on how Tor works and how
non-useful is that kind of search and seizure activity.
Those uninformed law enforcement agents and/or prosecutors are usually
"local", not usually handling cyber-crime, with reduced digital
forensics skills.
The ideas is that we could fix or drastically reduce that risks if any
requests of search and seizure of a Tor Relay, is going to be reviewed
by multiple eyes from within the law enforcement agencies.
Hopefully having those multiple eyes to look at a search and seizure
decree in the authorization process, it's much likely that one will of
those will understand that we're speaking of a Tor Relay, denying the
authorization because "Hey, let's not waste time and tax-payers money,
it's a Tor Relay, we're not going to get anything related to case X there" .
We could trigger that if a Tor Exit operator would be able to have an
ExitPolicy that deny traffic going to the destination IPs of the country
where it's located, leading any kind of abuses to be originated because
of Tor Exit traffic flowing to a foreign country.
It's likely that such "foreign IPs" being the source of an abuse that
would trigger a law enforcement inquiry/investigation abroad, in another
country (not the country where the Tor Exit is installed).
This should trigger a requests to goes trough multiple eyes, likely
trough mutual legal assistance treaty (MLAT) channels.
To make an example, assume those scenarios:
a) A Tor Exit is running in Italy and that from that Tor Exit there's a
connection part of an abuse considered a criminal act in Italy, by a
Italian company.
In that case the routing of the search and seizure requests would be:
Italian Company ->
 Italian Police (local) ->
   Italian Prosecutor (local) ->
    Italian Preliminary Judgement authorization (local) ->
      Italian Police (local) doing Search and Seizure.
b) A Tor Exit is running in Italy and that from that Tor Exit there's a
connection part of an abuse considered a criminal act in France, by a
French company.
In that case the routing of the search and seizure would be longer and
will pass trough central agencies, in charge of the cooperation for
what's related to cyber-crimes:
French Company ->
  French Police (local) ->
    French Prosecutor -> (local) ->
     French Preliminary Judgment Authorization (local)
       French authority in charge of cross-border CyberCrime (central)
         Italian authority in charge of cross-border Cybercrime (central) ->
           Italian Police (local) doing Search and Seizure
So, the routing going trough an cross-border search and seizure
requests, will have much more eyes looking at it, will likely goes
trough central/national cybercrime units for cross-border cooperation,
and thus will much likely will get denied because "Hey, it's a Tor
Relay, it's highly unlikely that's who you are looking for" .
That could be accomplished by having a directive for ExitPolicy {it}
being applied on the Tor Exit node running in Italy.
The feature  of ticket ( is the feature
that could provide such kind of additional protection/benefit for Tor
Relay operators, to reduce the risks of being waked up at 6.00am by law
enforcement agents because of an uninformed search and seizure order.
What do you think?
p.s. I've not re-read this email, so it may contain some grammar
mistake, sorry!

@_date: 2016-01-03 20:48:54
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] New Ahmia search released 
Super, compliments!
We shall really make Tor2web to support also i2p! (but there are public
internet gateway to I2P already if i'm not mistaken)

@_date: 2016-01-04 10:18:51
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] On further minimizing harassment for Tor Exit Nodes 
Mmmmm ok, that's a very interesting input that trigger me to a couple of
consideration on the topic:
1st) Avoiding traffic going out to the same country where the Tor Exit
is located, is anyhow a protection measure for the Tor Relay operator
Assume the following matrix consideration:
a) I'm Italian, i run a Tor Exit in Germany, i prevent traffic from
going to Germany and Italy
b) I'm Italian, i run a Tor Exit in Germany, i prevent traffic from
going to Italy
c) I'm Italian, i run a Tor Exit in Germany, i prevent traffic from
going to Germany
d) I'm Italian, i run a Tor Exit in Germany, i do not apply any
country-specific blocks for outgoing traffic
GermanyAutority->GermanyISP and legal takedown ItalianAutority->Myself
the option "a" would be the best one.
So the additional security requirements / resiliency being considered at
that point becomes two different:
Z) "placing the server outside the country"
Y) "avoid traffic destinated to the country where the server is located"
It's interesting because the AS-Aware routing would try to prevent "Y",
that also means that would be still leaving an improved legal capacity
action against Tor Relay operators's ISPs, because authorities would be
able to inquiry the ISPs directly, while giving the end-user a greater
benefit for privacy (less countries to be crossed for Tor Exit traffic).
2nd) Does TorServers-like organizations run most relay in their own country?
How TorServers organizations handle those kind of consideration?
- Do they usually prefer to keep Tor Relay in their own country, because
of easier handling of possible legal threat?
- Or do they prefer to place the Tor Relays in other countries because
of the additional international cooperation requirements, leading to
better informed decisions by authorities ?
Thinking about the "Onion Italia" setup those bring to a contradicting
balance between:
- the goal also to provide good exit traffic from Italy
- minimizing the liabilities by having Italia authorities uninformed
actions against us
For us placing servers outside Italy does not enable to fullfil the goal
to provide Tor Exit traffic in Italy, but placing it in Italy would
expose to the additional legal risks of uninformed decisions by law
enforcements officers (the "wakeup at 6.00am with someone knocking the
So with a "Tor Exit Policy being geographical aware for allowance or
denial of specific country destinated traffic", could enable better
"granularity" in the balancing of liability
mitigation/resiliency/deployment, enabling to run an Italian legal
entity running Italian based servers c/o Italian ISPs, but add some
level of resiliency/protection against uninformed decisions by law
As a research topic, it would be interesting to make a matrix of the
different deployment scenarios with parameters such as:
- "Where are the persons responsible for the legal entity"
- "Where your legal entity is located"
- "Where the server is located"
- "Which country you allow traffic to go trough"
- "Routing of requests" in different scenarios
That things, together with some MLAT database of country-country
cooperation agreements/framework, feeded to a properly written algorithm
could suggest the top/most resilient "TorServers
Organizational/Legal/Technical/Architectural setups" ?

@_date: 2016-01-10 15:08:51
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Funding Tor Development trough Referral/Affiliate 
Dear all,
i've been told of some VPN services that are funding themselves by
"spoofing" the referral ID in their users traffic, for hundreds of
different websites for which they made an agreement for Referral /
Affiliate Marketing, when they earn a commission.
I'm wondering if that couldn't be a very interesting model also for
TorBrowser, whereby the TorBrowser would automatically inject a referral
ID (in the HTTP header or URL parameters), whenever a user connect to a
certain amount of sites when they can buy something, and whenever the
user buy something, the Tor Project Inc. get back a commission a way of
financing the organization.
That kind of model could be implemented with a custom plug-in within the
Tor Browser.
I don't see any risks for the end-users because:
* For the end-user there would be no difference, as he would buy anyway
what he want to buy at the same price.
* If the end-user is buying something, he's already giving up his
identity details to the shopping site
* The website of the shop (being Amazon or others) will anyhow be able
to identify that the user is coming from Tor network by looking at the
IP address, so there would be no private information disclosure.
What i don't know, is how many persons buy stuff online by using the Tor

@_date: 2016-01-17 13:08:19
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Multicast Onion Services for video-streaming? 
Within the Italian Nexa Center for internet and Society mailing list,
there was recently a discussion on the IP-level blocking forced by the
government's judges to ISPs against "informal/unofficial" football video
streaming services.
I learned that those kind of services, usually provide browsers plug-in
to distribute the streaming in a semi-p2p-bittorrent-way.
Btw, the IP-blocking regardless of the reasons, is basically censorship.
I was wondering if Tor network couldn't be a network/platform for that
kind of video-streaming-services.
Obviously the problem is that video-streaming require a lot of bandwidth
and massive-services attract a lot of users, so even brainstorming
something about it, would imply thinking a network/application design
that does not increase linearly the bandwidth resources required for
each new user.
So, it come up to my mind that in MAN (metropolitan area network) that
share a common network topology and software, multicast is used for that
kind of purposes.
On my italian fiber service provider Fastweb, when i use their own TV
with their own set-top-box and click "Channel X", there's basically a
"join" to a multicast group, that will then deliver me the streaming and
in their network topology there are "edges" that does cache and
redistribute the content.
So, i was wondering if the multicast streaming concept for content
distribution with edges-caching, couldn't fit somehow in a future Tor
network use-cases or design.

@_date: 2016-01-24 12:19:57
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] A multi-layer proof of work system to solve the 
following a discussion on Twitter on Tor and Cloudflare, i tried to
rationalize a possible multi-layer approach for fixing that issue by
leveraging Proof of Work.
Let's first try to define a couple of points:
1) The issue of Tor, on behalf of Tor users, with cloudflare is a
usability problem (because of the annoying captcha, requiring a user
2) The issue of Cloudflare, on behalf of Cloudflare customer, is a
security problem due to "automated scans"
If we focus on mitigating the impact of those 2 problems in a general,
but automated way, we're done.
I'd propose to fix those issue by using Proof of Work systems, to be
independently implemented at Tor-side and Cloudflare side.
Tor could implement a Proof of Work system, to require any Tor client
establishing a new circuit and/or making a new TCP connection, to make
some math computation that's heavy on the client but light to be checked
on the Tor Exit Relay.
That way a normal web client, normally browsing a website, would not be
impacted from end-user experience, but any automated system (the ones
causing problems to Cloudflare) would get hit by a huge increase in the
computational resources required to make such massive attacks.
That would change the balance of effort/results of anyone using Tor to
make automated and massive scan on the internet, because it would be
*computationally expensive*.
This would require to implement the system within the OR protocol with a
specific proposal, identifying all the performance improvement issue to
minimize (or avoid) any end-user experience impact, with everything done
automatically by the Tor client and Tor Server.
Now, assuming that what has been define above is working properly and
it's effective, the Tor network should see a strong decrease in the
amount of "automated and massive attacks" being done trough it's Exit
At that stage Cloudflare, instead of using a Captcha, could also
implement an independent Javascript Proof of Work system, to be applied
at Application Level and run on Tor Browser, providing an amount of
computation effort, proportionate to a threshold measuring the amount of
automated attacks coming from Tor network/over time, but always giving a
nice looking UX progress bar with "Please wait X seconds..."
PoW at browser-level is nice, because the user doesn't have to do any
kind of interaction, but just look at the screen indicating that he have
to wait some seconds, with a nice progressbar moving on.
On Cloudflare side they could have an indicator/threshold on "how much
automated attacks" are happening at a given time from Tor network
measured on a "period of observation".
Depending on those parameter, they could increase the
client-side-pow-computation-time, de-facto increasing the costs of
automated scanning cloudflare with the increase of automated scanning,
increasing dynamically the resources of the attackers with the increase
of his aggressivity.
Ie: "Under a low-normal amount of automated attack from Tor network" the
Pow may require just 3 seconds of computation, but under "medium-high
amount of attacks from the Tor network" the Pow may require 8 seconds of
client-side computation.
Maybe it's a bad idea, but the key to be addressed is imho:
- reducing the automated attacks from Tor netwok by increasing it's
costs while leaving intact the end-user experience on Tor Browser
- having cloudflare to implement application protection system that does
not require user interaction (ie: Pow in place of captcha)

@_date: 2016-01-27 09:44:51
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] A multi-layer proof of work system to solve the 
At first Tor is mostly used by Tor Browser, it's probably a marginal
part of users that use Tor without Tor Browsers.
By the way whatever you are using for server-side script automation, a
Javascript interpreter with server-side node.js or other JS interpreter
used from other languages, can replicate exact JS-Pow functionality
possibly implemented by CloudFlare and executed by Tor Browser.
It doesn't change anything w.t.r. to the problem that need to be
addressed and that this idea would propose to address, that's a
fundamentally different approach trying to identify an automated way to
fight against automated scanners.

@_date: 2016-01-28 10:34:51
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Different degree of identification -> trustworthiness of 
i've been considering that in the Tor network, end-users deserve the
"anonymity by design", but that's not a requirement for Tor Relay operators.
So, assuming that any Tor Relay that does bad-things is anonymous
(providing un-traceable or difficult-to-be-traced identifiable
information), why don't we increase a bit the complexity and costs to
stay anonymously unidentified as Tor Relay operators?
Actually a Tor relay do have a Contact information, with untrustuctured
data in it where i can type "Hello, i'm mikey mouse, write me to
cybercommand at nsa.gov".
Now, we know that inside the Tor networks the Tor relays may have
different roles and different responsibilities.
I would like to propose the topic of introducing a certain degree of
verification, in order to obtain certain responsibilities:
- Email validation (Email based check)
- Phone number validation (SMS based check)
Based on those elements, enable for example to become Guard Nodes, or
HSDir or Tor DA Mirror, making sybil attacks *much harder* because it's
much harder to do Email and SMS validation with many different identities.
The Tor Consensus may have those information publicly available,
facilitating contacts and coordination also in case of abuse-detection
by the many way abuses get identified.
This would facilitate both Tor Project activities in detecting and
handling Tor Relays abusers and third party that would like to provide
reporting to the Tor Relay operator, rather than going to his ISPs
(causing him to get a takedown notice).
I know that this trigger a lot of criticism because it's a topic of
"identifying", but it's not about "Identifying Tor Relay Operators" but
"Identifying Tor Relay Operators Reliable Contact Information" that
would provider a lot of benefit for Tor Network and for Tor Relay
operators themselves.

@_date: 2016-01-31 15:42:51
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Exit Traffic classification and discrimination 
the internet is said to be driving most of it's traffic to a list of
some dozens websites, usually major internet companies.
I'm wondering if the Tor Exit traffic follow the very same rules.
I'm just assuming that if the traffic destinated to the top-30 website
in the world, make up (for hypotesis) 90% of average Tor Exit traffic,
then it could be an opportunity to classify it and discriminate it.
We may assume that traffic going to the top-30 website in the world does
not generate abuse, while other traffic may generate abuses.
If those assumption is true, it means that would make *a lot of sense*
for a Tor operator to classify and discriminate in a different way "the
bulk top-30 traffic destination" (non abuse-generating) vs. "the rest of
the traffic".
If my ISP is happy with 90% of my traffic, but it's not happy with my
10% that may contain abuse-generating destinations, then it would make a
lot of sense to me to establish a VPN somewhere else to route those 10%
of abuse-generating traffic somewhere else (where "somewhere else" maybe
a place that i can change when an abuse take it down).
But 90% of my resources (given the previous hypotetical assumption)
would be happily pumping non-abuse-generating Tor exit traffic.
Does anyone ever done some kind of testing or analysis about that kind
of approach?

@_date: 2016-06-01 08:05:22
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Ntop nDPI 1.8 with enhanced Tor protocol dissector 
the cool ntop project ( has released it's opensource DPI
(Deep Packet Inspection) engine with enhanced Tor protocol dissector and
support  .
They do it by looking at the hostname pattern being used in the TLS
Community-wise, which is the best way to deal with opensource code that
facilitate high-performance detection of Tor traffic pattern (likely to
be used by who would like to profile Tor users) ?
a. Kindly ask them to re-consider releasing high-performance tools
available to detect Tor traffic?
b. Engage in a opensource-code arm-race for detection and anti-detection?
c. Does nothing?

@_date: 2016-05-31 18:41:44
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Tor-Retro' for OS/2 Warp 4.52 Latest Release (2001) ? 
i where considering to start running Tor Relay on retro' operating
systems under virtualized environment and i was particularly interested
in having a Tor Relay running on OS/2 Warp  and i was particularly
interesting in having it running on OS/2 Warp [1] .
Are there any aficionado that knows about specific technical limitations
on having Tor to run on OS/2 ?
[1] VirtualBox image

@_date: 2017-01-03 14:43:27
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] TorBrowser Sandboxing as alternative enterprise 
thinking about the problem of Tor Browser Sandboxing, i would suggest to
look at the excellent approach taken by the commercial Crypto company
Sirrix AG with their product (partially opensource) BitBox.
BitBox uses a model somehow similar to Whoonix but with a
user-experience that's completely transparent, leaving the end-user with
the experience on using a normal browser while in the backend on his
desktop computer there are two sandboxed operating system using
virtualbox to interact each other.
That architecture and security model could be the one to look forward
for TorBrowser future rather than just looking at "application-level"
- BitBox product
  - Installation Manual of BitBox Opensource Edition
  - discussion on BitBox Security

@_date: 2017-07-20 07:46:57
@_author: Fabio Pietrosanti - Lists 
@_subject: [tor-talk] Tor's meetup at SHA2017 4-8th August Netherlands? 
Hi all,
SHA2017 hacker camp is starting up in a couple of weeks in the
Netherlands  .
Are there already some Tor or Tor Operators meetup organized there?

@_date: 2017-03-04 11:38:07
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] State of bad relays (March 2017) 
Imho those should likely be splitted in other two different categories
of Bad exist nodes:
a-1. passively sniffing
a-2. actively manipulating client traffic
I feel that we would need to implement a bit more detection methods in
trying to identify those who does passive sniffing, but does not
actively manipulate client traffic.
It's more difficult, it could lead to false positive without "evidences"
but with "highly reasonable suspects" and that could be a specific
branch of detection patterns and counter-espionage techniques to be put
in places for that specific purposes.
Then the problem is "what to do when there's suspect that someone is
passively sniffing" but there's no scientifically proven evidences?

@_date: 2017-11-29 19:08:11
@_author: Fabio Pietrosanti - Lists 
@_subject: [tor-talk] Is there a limit to how many .onion addresses I can 
Yes, it's possible but Tor will crash:
GlobaLeaks project do integrate Tor with dynamic setup of Tor Onion
Services and by Q1/2018 will release a project that require setup of
about 9600 Tor Onion Services, so we will probably work on it somehow.
Each GlobaLeaks instance will have it's own HTTPS certificate enrolled
and maintained automatically with LetsEncrypt and it's own Onion Service.
This project will be setting up a virtual GlobaLeaks for each italian
public agencies in an automated way, as a massive-scale anti-corruption
If someone is going or willing to support Tor debugging to achieve that
goal, we'll be more than happy.

@_date: 2017-11-30 13:21:04
@_author: Fabio Pietrosanti - Lists 
@_subject: [tor-talk] Is there a limit to how many .onion addresses I can 
Well, actually Tor does enforce a limit of 10 Onion Service each 5 minutes:
"Nov 30 10:29:10 ip-172-30-0-214 Tor[9927]: Hidden service
57er2vo2bi7wtg7n exceeded launch limit with 10 intro points in the last
58 seconds. Intro circuit launches are limited to 10 per 300 seconds.
[5969 similar message(s) suppressed in last 300 seconds]"
That's enforced from a constant:
src/or/hs_common.h: NUM_INTRO_POINTS_MAX 10
So we can assume that, by loading 10 Tor Onion Services trough Tor
Control Port every 300 seconds, we can insert 2880 Onion Services a day.
The issue is:
1. Will Tor process will be able to have 2880 Onion Services loaded in
2. What happen if Tor looose a network connection for some minutes, when
the connection come back? (Will Tor try to re-establish 2880 Onion
Services connections exploding?
Those are the kind of testing and limitations that we must do, achieve
and fix as a way to provide scalability to Tor Onion Services.

@_date: 2017-09-20 11:24:57
@_author: Fabio Pietrosanti - Lists 
@_subject: [tor-talk] Unusual Tor's spikes in Egypt and Turkey on 28th August 
a close friend (faffa) noticed that on 28th August 2017 there was an
unusual spike of Tor traffic in Egypt and Turkey:
Does anyone already analyzed those spikes and understood what happened?

@_date: 2019-01-01 13:27:43
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Status of Torrent on Onion in 2019 
Hi all,
i'm supporting with some technical analysis a volounteer-non-profit collaborative torrent forum/site with their future-looking upgrades of I would love them to bring all their public forum and public tracker on Onion, while exporting their +160k releases database as open-data so that Torrent Search sites and Torrent Software with incorporated Torrent Search could use it.
My question is about the status of uses of Torrent on Onion, not for "content downloading" but for index tracking:
- Are there stable / long term Torrent Trackers running on Onion Addresses?
- How many Torrent Software natively do support Tor and Onion Addresses, only for Trackers (not for content-download-upload-exchange)?

@_date: 2019-05-12 15:33:48
@_author: Fabio Pietrosanti (naif - lists 
@_subject: [tor-talk] Tor Project support for Pirate Party Program in EU 
Hi all,
i'm supporting Pirate Party (in Italy) for EU Election, that share a common European pirate party program (the same program in 9 EU states), with a clear and explicit commitment against massive surveillance and in favour of privacy.
I would love to see Tor Project to support that point of the program of EU Pirate Parties publicly, calling for all digital rights activism communities across Europe to support that trough their own communities.
The full program is available at:
I know that Tor Project doesn't take political parties commitment, yet it would be valuable for it's evident complementary values and core mission, to advocate those point of EU political programs.
Is that something that has been considered?
Fabio Pietrosanti (naif)
Below snippets of the program against surveillance:
        Privacy and Mass Surveillance
Europeans have a proud history of fighting for their fundamental rights and the freedoms of their fellow citizens.
To preserve our rights and freedoms, and to ensure the effectiveness of law enforcement, Pirates demand that data collection and monitoring is limited to people who are suspected of committing or preparing a crime and requires judicial approval and oversight.
Adequate protection against crime is an important responsibility of the state. We must ensure this responsibility is fulfilled through an intelligent, rational and evidence-based security policy.
Pirates wish to abolish the practice of routine, automated and untargeted data collection, storage and matching. We reject the blanket and indiscriminate collection of communications data (data retention), traveling data (PNR) and biometric data. Pirates oppose the automated profiling of people to divide them into risk categories (profiling) at borders (entry/exit system).
Public spaces are full of cameras that monitor the movement of people and vehicles, track faces, and combine this information without considering the potential for the erosion of privacy. Evidence demonstrates that the presence of such systems has little effect on the rate of crime and that, at best, crime simply shifts to other spaces. Pirates support and would prioritize the movement of police personnel from monitoring duties, to patrolling the streets. Pirates are against individuals being required to identify themselves if they are not suspected of committing a crime, especially when they are exercising their rights to protest or assemble.
Pirates oppose the exchange of personal data with countries that lack effective protection of fundamental rights except in emergencies.
        Stopping New Surveillance Plans
Pirates want to stop the erosion of civil rights, that has taken on dramatic proportions in recent history. To ensure our safety, we do not need new surveillance laws, existing laws are sufficient.
In particular, we reject:
  *
    The proposal to make fingerprinting of all identity card holders in
    the EU obligatory.
  *
    Attempts to allow providers to retain communications data
    indiscriminately for security purposes in the context of the
    proposed ePrivacy regulation.
  *
    The proposed creation of a centralized EU Identity Register
    including fingerprints and facial images (interoperability).
  *
    Unilateral cross-border law enforcement access to data bypassing
    mutual assistance channels (e-evidence regulation).
  *
    Screening travelers using lie detectors (iBorderCtrl project).
        Systematic Evaluation of Existing Surveillance Powers and Moratorium
Pirates support well-reflected measures to keep us safe but intend to abolish harmful interferences in our fundamental rights. We, therefore, want the European Fundamental Rights Agency to systematically examine all current and future surveillance powers and programmes as to their effectiveness, cost, adverse side effects, alternatives and compatibility with our fundamental rights.
Pirates advocate a moratorium on any further interference with our human rights by the security agencies of the EU in the name of internal security until the systematic review of existing powers by the FRA is         Security Research
Pirates support the funding of research through the EU, however, the frequent involvement of government agencies in surveillance and filtering operations like INDECT and CleanIT demonstrates a clear intention to use such technologies in a way which makes them publicly funded tools for dismantling civil rights. We, therefore, argue that the EU must not fund technologies that limit fundamental rights.
        Protecting Our Privacy Online
The proposed e-Privacy regulation will update privacy rules for e-communications. We reject attempts to allow providers to retain communications data indiscriminately for security purposes. The collection or use of personal data for data trade, advertising or market or opinion research must be allowed only with the active and informed consent of the person concerned.
Additional Internet privacy legislation is needed to ensure that information society services can be used and paid for anonymously, and do not indiscriminately record our online activities. We intend to replace the surveillance economy with an anonymous micropayment economy.
The right to use encryption shall be guaranteed. Support for end-to-end encryption shall be made compulsory for manufacturers of telecommunications equipment. Transport encryption shall be made compulsory for telecommunications operators, especially operators of international cables. National and inter-EU communications shall no longer be routed via third countries to prevent foreign intelligence agencies from intercepting them.
        Export Controls of Surveillance and Censorship Technology
We support export controls of surveillance and censorship technology. We will not support the proliferation, by means of export credit or other state guarantees, of European-made surveillance and censorship technology to authoritarian countries that do not respect the rule of law. We will fight to uphold the privacy of journalists, activists and citizens around the world, by supporting legislation that prevents oppressive regimes from acquiring such technology and services from any entity in the European Union.
