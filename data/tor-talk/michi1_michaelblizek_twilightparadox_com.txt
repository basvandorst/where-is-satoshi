
@_date: 2010-12-12 08:26:51
@_author: Michael Blizek 
@_subject: TorChat is a security hazard (Answer) 
I have not participated in the previous discussion. This concept sounds like
reinventing diffie-hellman to me - except it does not fully man in the middle
proof. Suppose you have 3 peers A, B and C. B wants to impersonate A:
A wants to establish a connection to B and sends B a cookie + A's .onion
address. B does *not* connect back to A, but sends the cookie and A's
.onion address on to C. Then C will connect back a A and send A its cookie.
A sends the cookie to B and B sends it on to C.
Now B can read and manipulate the messages A sends to C. Of course, this
requires that A knows and wants to contact B, not C. And A will probably get
suspicious because suddenly C answers, not B.
Anyway, why not do a complete diffie-hellman key exchange on both the incoming
and outgoing connoction and then combine both keys to do symetric encryption
on top of tor? OK, it is probably a bit paranoid, but...

@_date: 2010-12-12 19:20:46
@_author: Michael Blizek 
@_subject: TorChat is a security hazard (Answer) 
I meant that A will connect intentionally to B, e.g. A wants to talk to B. B
can then send messages to C which seem to came from A. However, C will talk
back directly to A and the manipulation will most likely be detected...

@_date: 2010-03-07 18:36:02
@_author: Michael Blizek 
@_subject: [p2p-hackers] Help needed: Autonomous NAT traversal test [Was: 
I had some thoughts about building a library for applications which do fancy
things with the underlying network. Primarily, because I have a project which
will likely be more useful, if applications take proper use of it. (see
 )
To my mind such a library should do *way* more than NAT transversal, if it is
supposed to be "generic":
- Provide OS abstractions
- Provide socks proxy (which BTW have a way for opening ports
  on the other side) abstractions
- Use its own configuration file, if the application does not override things
  at runtime. This way, the user can configure everything even if the
  application does not provide ways to set certain parameters. Also, an
  "application name" parameter should be passed to the lib, so that the config
  file could contain different parameters for each application.
- Maybe provide some addressing abstractions, so that applications can run
  within IPv4/IPv6/.onion/... networks without changes.
- Provide ways to set things like IP_TOS, so that external shapers are easier
  to setup.
- Make sure that e.g. TCP_CORK is always set when possible.
- Do throttling the proper way and *not* by "usleep", but by setting
  TCP_CONGESTION or smaller tcp window sizes if possible. "usleep" should only
  be the last resort. When using usleep or smaller tcp window sizes, the lib
  should be able to figure the proper parameters out by itself e.g. by pinging
  a fixed IP and looking at the response times when the net is under load.
- Provide a way for the application to tell the library which connections are
  important and which connections need throughput or low latency.
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-03-08 07:28:12
@_author: Michael Blizek 
@_subject: [p2p-hackers] Help needed: Autonomous NAT traversal test [Was: 
There is a thing called "congestion avoidance" which should take care of the
flow control. In linux, you can select the algorithm per-socket - and you can
sometimes set a "low priority" one. The bad thing is that this congestion
avoidance is triggered by packet loss. On slow lines with big buffers, this
might be too late. Using the latency for flow control also has its down sides,
like convergence issues.
Anyway the point is that "usleep" is one of the worst mays of doing the
throttling on the sending side (it is ok on the receiving side). The reason
is that the TCP/IP stack will create lots of small packets (increases CPU
usage of routern) which have the push flag set (which triggers ACK sending
without delay, which causes even more small packets).
IP has a way to do this. It is called TOS field, but it is rarely used. There
is little point on TP networks anyway. If there is not enough backbane
bandwith, everybody will try to get as much as possible and nobody will set
the TOS field. They will rather randomise ports and do encryption and traffic
normalisation to prevend being slowed down. I think this parameter is mostly
interesting before the traffic leaves into the internet.

@_date: 2014-04-18 20:50:24
@_author: michi1@michaelblizek.twilightparadox.com 
@_subject: [tor-talk] [liberationtech] Programming language for anonymity 
It is interesting to see a team of researchers asking this question in
public. Developers usually have their own preferences about this already.
If you think about language security you may want to think about these things
- Any garbage collection will introduce pauses to your program. The length of
these pauses will increase if the memory usage increases. This can easily
become a problem if your program requires either a lot of memory or real time
response. Traffic analysis resistance sounds like it requires both lots of
buffering and real time response (extra latency could effect traffic
- Languages with a high layer of abstraction make lots of things easier. But
often these are things you should be careful with. For example string
operations: If you use them for data exchange, you can easily mess up when
escaping them (e.g. sql injection). Also, they are larger and slower to
manipulate than binary data.
- How the code gets is written makes a huge difference. Is your team paranoid
enough (in your case you need a *lot* of paranoia)? Do they care enough? Does
everybody know what they are doing? Does your organisation put security or
business first?
I do not think that the C toolchain is easy to audit either. I would just
focus on something which is open source and in wide use. In this case,
somebody who has a backdoor in the runtime or toolchain probably has a
backdoor to the system either way.

@_date: 2014-12-16 17:57:36
@_author: michi1@michaelblizek.twilightparadox.com 
@_subject: [tor-talk] Einladung 
While I do speak German, I guess most others on this list do not. If it is
important to you that people understand you, I would suggest writing emails
to this list in English.
I am building something pretty close to what is described in your wiki. Take a
look at  . If you come to the 31C3,
you can see it running. I think it would be nice if we could collaborate.

@_date: 2014-03-27 19:51:55
@_author: michi1@michaelblizek.twilightparadox.com 
@_subject: [tor-talk] Introducing Torsion, 
This sounds like an interesting project. I had some thoughts about how privacy
aware IM could look like. This was partly because of the recent popularity of
proprietary messaging apps on mobile phones. There seems to be a trend toward
replacing sms+phone calls with protocols which run on top of IP. It would be
nice if these protocols were decentral, privacy aware in implemented in FOSS.
I know, your project is about PCs, but it would be nice for an IM to support
both PCs and mobile devices.
Using a hidden service address as identifies for contacts seems like a good
start. But I think there are a few issues with this design:
You are always announcing your online status. Also, others may be able to
measure changes in the latency of your internet connection. Depending on your
implementation they may even be able to measure your bandwidth.
This might have effects on your privacy. e.g.:
- If you have several identities, it might be possible to link them by the
timing they go on/offline.
- If there are other users/applications sharing your internet connection, the
changes in latency will be visible. These other users can deanonymise you.
- If you are mobile and moving, the changes in connectivity may have a
pattern. This pattern may be unique to e.g. a certain subway line. You are
now deanonymised and tracked.
It would be nice if there were a node which relays messages sent to you
without revealing anything mentioned above. However, it is probably hard to
avoid trusting that node...
Can you be simultaneously online with the same "account" multiple devices
(e.g. pc+mobile device)? You have only one hidden service address and where
incoming messages are routed is up to chance.
That said, I guess it is still a nice design and it may be pretty hard to
address these issues.

@_date: 2014-11-02 11:36:14
@_author: michi1@michaelblizek.twilightparadox.com 
@_subject: [tor-talk] Cloak Tor Router 
I would really like to see this happen. To me it seems your goals are
slightly different tough. Torouter tries to provide public wifi (without
risks for the operator), run bridge (and other) nodes and create hidden
services (see  ).
The kickstarter page suggests it can be used to anonymise outgoing traffic
from clients to the internet. This may be quite problematic for these reasons:
1) People will not get hardened clients. See
 for a list of changes
made by torproject.
2) Every device can sniff on traffic from all other devices on the same
network. If you have one device which is compromised or somebody breaks the
wifi securety you are in trouble.
3) Depending on the configuration you may end up routing traffic from multiple
devices over the same circuit. You will almost certainly route traffic from
different programs on the same device over the same circuit. This may allow an
exit node operator to correlate multiple identities.
4) If you have a mobile device you probably want to be safe everywhere, not
just at home.
BTW: If you want to show people you are serious about privacy I would suggest
creating your screenshots+demos with a free operating system.

@_date: 2014-11-03 17:58:56
@_author: michi1@michaelblizek.twilightparadox.com 
@_subject: [tor-talk] Cloak Tor Router 
What prevents me from setting up a DHCP server or sending false ARP responses
to route all traffic to me?
Ok, this should do it.
I do not think this actually solves it. For example there are many programs
which use HTTP even tough they have nothing to do with web browsing. Also
there are programs (like P2P) which use random ports and may cause lots of
circuits being established.

@_date: 2014-11-04 07:26:09
@_author: michi1@michaelblizek.twilightparadox.com 
@_subject: [tor-talk] Cloak Tor Router 
There are probable applications other that P2P which will trigger that
behaviour too. And circuits also consume network ressources, but there are
probably other people here who can give you better advise on this than me.
If an application creates multiple outgoing connections, each of them usually
has a different source port. If the connections are to the same destination
host this is actually a requirement so data of different connections can be
distinguished. So this would almost mean "create a circuit for every new
Yes, the scenario is something like this. I do not know how big the problem
is. But to break anonymity one tiny glitch is enough.
This would require IsolateDestAddr. This might have a serious impact on
performance and load (I cannot tell you how much).

@_date: 2014-11-15 09:14:48
@_author: michi1@michaelblizek.twilightparadox.com 
@_subject: [tor-talk] Tor router requirements / best practices [was: Cloak 
I have had the same idea, but as an option for "uplinks" in mesh networks. It
would be interesting to know whether you can run a private bridge for others
in the local network when you have to use a bridge to connect to the tor
