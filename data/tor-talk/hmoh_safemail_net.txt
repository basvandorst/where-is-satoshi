
@_date: 2011-12-21 04:43:54
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] janusvm still safe? 
last release from Jan-2010, almost got Jan-2012, new tor version just been released...
Is janusvm still safe?

@_date: 2011-12-21 08:19:58
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] janusvm still safe? 
Something come up to my mind... Vulnerabilitys could be,
- the user forgets to start the VPN, or
- the VPN connection breaks down for some reason (Windows bug or crash), traffic continues without Tor
I like the basic idea of JanusVM. I can say nothing about the concept of the deployed virtual machine but those vulnerabilitys I posted here could be fixed using a software firewall in whitelisting mode. Everything incoming and outgoing blocked expect the VPN connection.
Furthermore the VPN connection and the firewall should be forced enabled by an administrator and all applications should run as user. Not sure if that's best possible. Probable the Tor transparent proxy approach [1] is even better.
What I liked about JanusVM is that it's very easy to install and use.
[1]

@_date: 2011-12-22 06:16:37
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] Tor transparent proxy implementation on Windows 
I was looking for a Windows solution because a Windows XP VM on top of Windows 7 lags a lot less then Linux. And I am much more familiar and convenient with Windows, there are some apps and ways I do not like to miss, although I am getting familiar with linux for a while already.
As far I understand that also uses only a normal Tor installation... No transparent proxy.
I checked out this approach for a while, tested it and made my opinion. All those socks wrappers (Sockscap, Freecap, ...) are mostly build with connectivity in mind with no much eye for anonymity.
Problem is by design. (I say this before before, I do not care about bittorrent over Tor.) But I am referring here to the article 'bittorrent-over-tor-isnt-good-idea' [1]. Just as an example because it has been well researched. There might be other programs who do such strange things as detecting the external ip with nonstandard ways, router UPNP and so on. Difference is only that no one has researched that thoroughly yet. If the machine connected by Tor should be always unable to find out one's real IP, that one is not given by those socksifiers. Also in mind of compromising the program.
I am not a computer security researcher or expert but even I could find a massive leak about those socksifiers quite easily. As soon as IPv6 connectivity is given on the host those socksifiers will either ignore socks settings at all, even for IPv4 requests (tested with firefox IP whois) or leak DNS requests (seen it with WireShark). That's why I do not trust them. Also not much development / active support seams to be up there.
Thanks, I'll check that all out to see if I can make something out of it.
I see.
[1]

@_date: 2011-12-23 08:49:30
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] browser with best privacy without using the Tor network 
Is it possible to adjust the Tor Browser for use without Tor?
I mean, I am not using Tor for all my browsing. That would be to slow and also waste Tor resources. For very basic non critical use I am using a normal firefox. I've done everything I found to tweak the privacy, to slow down data mining company's as good a possible on spying on me. (disable cookies on Firefox exit, plugins, deleting flash cookies, horrible long list goes on...)
My internet service provider has a big userbase and uses dynamic IP.
Still not sure if the left fingerprint is as minimal as possible. This won't protect me from government and similar but from data mining company's.
So what you'd recommend me? Tor Browser without Tor? Or some other browser tweaked for improved privacy?

@_date: 2011-12-23 09:23:48
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] Tor - 1-click-compile-version 
Tor and all stuff is Open Source and many people looking inside for security review. A very weak link is that most users use the precompiled ready to use binaries. But it is not possible to be sure that binaries are build from an unaltered source code. The precompiled binaries may include back doors. Also that most users download from torproject.org is an other single point of failure as just one instance has to be forced to include a back door.
I've never read that someone checks frequently that the source code is 100% same like the binaries.
Compiling everything oneself is a lot of hassle, most users do not do that as it's a big inconvenience.
I am not here to offend someone. There are a lot reasons in the nature of this project to ask such questions. The whole Tor project is about distrust and fear of getting traced and logged. Even if I'd knew all involved persons in person and I'd trust them I wouldn't trust the binaries 100%.
The machines who build the binaries could be compromised including a backdoor on compile time. People with lots of money, government or wealthy companies could thread and force you or your families to include a backdoor into Tor.
To protect you and the Tor users I propose the following....
Additionally to the precompiled binaries you could offer a 1-click-compile version. It could be an script which downloads all the needed stuff for compiling and building the executable.
This isn't a bottomless pit. Don't try to make the second step before the first one. For example on Windows the script would download the precompiled executables of mingw, msys, msysDTK and so on from sf.net, download source code of Tor from torproject.org, compiling and so on... Yes, it would be again a risk to download the precompiled executables as those could be possibly forced to have included a backdoor as well.
The idea of 1-click-compile-versions has to develop over time. No one can expect the concept to be perfect from the beginning. The tor project would start with it and later over time all the decencies would hopefully also allow similar 1-click-compile-versions. All this until a point where we can compile the whole operating system, the browser and Tor with one click.
If that's half running I can imagine a distributed community / program to review the updated source codes. After downloading new source the program would check it from different sources if it's the same some independent people had stated there opinion about the changes. This would allow all users to download, compile and start executables from source at the same time having some feedback from external developers about the quality of the source code they're using.
Don't tell it's impossible. Tell what are the weak points of this concept are and propose enhancements.

@_date: 2011-12-24 06:26:38
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] browser with best privacy without using the 
No, even on Windows you can't just install extensions. The Tor Browser is further tweaked going behind tweaks possible with extensions (custom compile build). That's why I ask here.

@_date: 2011-12-24 06:29:36
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] browser with best privacy without using the 
You mean separating Tor Browser from The Tor Browser Bundle (TBB)?
Reasons I see here:
- using Tor as a transparent proxy
- wanting a browser with best privacy settings but without using the Tor network

@_date: 2011-12-24 11:19:36
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] browser with best privacy without using Tornetwork 
Damn it! That's really bad...
I am thankful about this test site. It's public knowledge. As I imagine the leading companies may have an increased interest in tracking people who turn off cookies, flashcookies, and so on. It's a help to get those things fixed.
What this page demonstrates is maybe already or will be soon the state of the art.
And I am very disappointed about Mozilla Firefox and Tor Browser. Mozilla does not seam to have put much effort into it and Tor Browser does also not appear very random. User Agent and HTTP_ACCEPT Headers are not very common.
Tor Browser might hide the ip but when visiting some website twice, even after restart TBB, they may always know it's the same person.

@_date: 2012-01-04 09:19:17
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] Linux TransparentProxy setup and IPv6 
Since Tor does not support IPv6 yet...
What about IPv6 traffic? Is it blocked when following these instructions?
If not, how to do so?

@_date: 2012-01-05 08:32:07
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] tor transparent proxy security concerns (autostart and 
I like the idea of the tor transparent proxy and tor-enabeld linux user account very much. But I think there are a lot security concerns.
'If you want to make the iptables rules permanent you have to make sure they are executed at startup time, for example by adding a script in the right directory. On Debian/Ubuntu you can do something like this:
sudo touch /etc/init.d/anonuser
sudo chmod a+x /etc/init.d/anonuser
sudo nano /etc/init.d/anonuser'
This didn't work for me as it seams that not all scripts inside init.d are automatically executed upon boot on Debian. Adding this to /etc/init.d which seams to be the user defined autostart file however worked. Anyway... This approach can not be recommend in any case.
There is no control over the boot process, in particular the boot order. Will the user anonymous have applications autostarting who shall use Tor? When will they be started? When will the network interface connect? When will those iptables rules be activated? Before or after? Leak or no leak?
I think a better approach could be
- nano /etc/firewall.sh
- and add all the iptables rules
- chown root /etc/firewall.sh
- chmod 700 /etc/firewall.sh
- nano /etc/network/interfaces
- and add 'pre-up /etc/firewall.sh" before the internet connection.
This should ensure that the firewall rules take in place before any applications can possibly leak. Not sure about all this, it's just my conclusion after a lot of research on that topic.
'Tests show that ***for some reason*** this solution is still leaking DNS queries, so you can configure all DNS traffic to go through Tor on your computer:
echo "nameserver 127.0.0.1" > /etc/resolv.conf'
Uhm, that's bad. For some reason? This sounds somehow unprofessional, not really knowing what's happening. I mean, with proper iptables configuration, nothing should leak? If that dns "hack" is needed to stop leaking, what else has been forgotten/is leaking?
To use Tor for all dns requests, also non-anonymous surfing, is imho also a very bad idea. You'll proable use same exit server for dns for anonymous and non-anonymous dns requests at the same time. While most users should be aware that dns requests throught Tor could be spoofed (redirected to malicious site) they're not aware that the same applies now to their normal surfing. It's somewhat adding an extra risk as there are probable more evil exit servers then providers who spoof dns.
Unfortunally I do not know a better solution here. Can someone come up with a solution how this 'echo "nameserver 127.0.0.1" > /etc/resolv.conf' can be avoided by using better iptables rules?

@_date: 2012-01-05 23:56:20
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] Tor exit+proxy 
Before I start...
Search the mailing list (for Tor Proxy Chain). This topic has been discussed before. There are warnings about loss of anonymity. I don't like to repeat it but maybe someone else would have/will repeat it. If you are still interested in the topic itself...
There is proxychains for Linux for building chains of proxys where Tor can be a part of it and I've seen also a commercial clone with the same name for Windows. I do not trust such solutions too much. There are instructions around to use sockscap or freecap which will leak DNS and/or leak everything if IPv6 is available and they seam unmaintained.
Setup your own Tor Transparent Proxy (see wiki and recent mailing list comments) and add an additional proxy to the proxy settings in firefox. I haven't tested that solution myself but I guess it's possible, I think that because of my experience with 3).
Setup your own Tor VPN. Similar like JanusVM. Really create your own Tor VPN as JanusVM is closed source, unsecure and unmaintained. One virtual machine running Linux will provide a VPN server and forward all traffic trough Tor. Then use another virtual machine which has no direct internet access but lan-only access to the Tor VPN virtual machine. And connect the VPN. After the VPN is running you can add a proxy to firefox. I tested that myself and it worked perfectly. Unfortunately I tested it with JanusVM and not my own Tor VPN, I am still working on that. This setup could be great, Tor is hiding your ass, Tor Browser is well configured, https everywhere helps a bit to stop eavesdropping of exit servers and proxy servers and you might be even able to use the firefox addon steatlhy to comfortable turn on/off some untrusted extra proxy.

@_date: 2012-01-06 00:17:14
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] Tor VPN Server selfmade 
The goal is to create a bulletproof environment where nothing can leak thought configuration mistakes, dns, java, flash, plugins and even side channel attacks, local infections, trojans... Additionally it's also nice to know that all applications can be torified even if they do not support proxy settings and it does no longer matter if they probable implement socks4a or only socks4.
Unfortunately JanusVM is closed source, unsecure (see malinglist at the end of last month) and unmaintained (no answer from the JanusVM devs). But the concept can be adjusted.
Initial step is to learn how to setup a VPN server and how to connect to a VPN server and to use it's internet connection. After that's done this internet connection needs to be torified.
The frist virtual machine (VM) - which can be of course also be a spare physical device - will run a VPN server. It's quite easy to setup a VPN server. pptp VPN might not be the most secure choose but when only used locally then I see no problem if the encryption might be broken. I choosed pptp because it's easier to setup, no bothering with certificates. Here are some instructions how to set it up.
The first VM also needs three virtual network cards.
- host only connection (for administrative tasks, SSH access, not that important, can be done directly as well, but if you plan to use real hardware later it's worth to think about it)
- NAT connection (access to clearnet)
- VMnet private network
The second VM can use an operating system of your choose. As of right now I also see no reason why this couldn't be even Windows. The second VM needs one virtual network card, a VMnet private network. That is important. Do not use NAT. The VPN connection might work as well but as soon as the VPN breaks down or is shut down the host ip might leak.
VM-2 is only able to connect to VM-1 (thanks to VMnet private network). And VM-2 has no way to determine that real clear external host ip address. VM-2 will VPN connect to VM-1. Thanks to VM-2 to accept the VPN connection and to forward all traffic thought Tor.
The "forward all traffic thought Tor" could become the tricky part, hopefully the Tor wiki article Tor Transparent Proxy will help out here.
That's the concept so far. Hopefully this overcomes the weak points of JanusVM (closed source, unmaintained, unsecure, outdated, possible leak when VPN breaks down). Any thoughts about weaknesses, improvements, ideas, whatsoever are welcome.

@_date: 2012-01-06 18:08:43
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] TorVPN new instructions in tor wiki, 
What iptables rules have to be used to forward everything through Tor?
That's what I've got so far.
Any help is greatly appreciated.

@_date: 2012-01-06 20:00:53
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] TorVPN new instructions in tor wiki, 
Unfortunately not.
The TransparentProxy is good. TorVPN somehow based on it and it's goal is to be even more paranoid secure. TorVPN is an isolated environment with an forced proxy. The anonymous surfer has to choose, either use Tor for outgoing connections or don't be able to send anything.
TorVPN is similar to JanusVM, only that TorVPN is an open concept, you can download, install, configure everything yourself.

@_date: 2012-01-06 20:30:11
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] Tor exit+proxy 
Oh no offense. I added it for completely reasons. And I think proxychains isn't that well known.
I began work on it but now I am somewhat stuck. Here is what I've got so far.
Let's work on it together. Feel free edit my page, it's a wiki.
True. Has been discussed last moth (over 20 reply's or so). There are some solutions proposed.
Agreed, it's good. Not sure it's best. There are text mode browsers. Always a question of comfort versus security. A hardened operating system and a hardened Firefox would be even better, of course, together with their patches. Not sure they already used all available features to harden Firefox.
I guess you mean TBB -> normal Tor chain with 3 proxys -> additional proxy, like open proxy.
It has been discussed. Like here.
Has been discussed many times like this.
It's not recommend. And for cleartext http (not https) there will be now not one, but two servers who can log and tamper your cleartext traffic.
By the way it's ' not `. No offense but this makes it a lot more easy to identify different accounts as not much people use `.
There is a paper where they explain the changes they made to Firefox.
Sorry, didn't understand that. You mean a privoxy proxy chain? Yes, privoxy supports that but I never tried it.
Indeed. But i think the Tor devs do not like that idea much. 1. because of mentioned earlier [1].
2. because the list of Tor exit servers is available to the open public. That is good. See People who get spammed by Tor can easily blacklist Tor.
And nowadays it's well known that it's dumb only to use a single random open proxy from a public proxy list or even from scanning. Just one proxy might log you and tell later who he did forward for. But mostly those proxys are not blacklisted, no mass abuse, no Google captcha and so on.
Now imagine the idea Tor + open proxy gets promoted because the devs encourage that with a new option like Tor + your personal extra proxy chain... That wouldn't give Tor more credibility as it would be even harder to stop abuse form it.

@_date: 2012-01-07 01:04:36
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] Tor exit+proxy 
Okay, my information might have been outdated. Many firefox patches have been already merged into the mainstream firefox branch. Not sure if all.
At least this set of patches they applied seam still current....
But if you are interested in those patches then you'll have now hopefully a point to start.
You are right, good point.
I meant not the users but the exit servers and the developers. In any way, I shouldn't try to guess what other people might think.
However, I do not think this feature is likely to come from one of the current developers. In the mailing list they stated that Tor + extra proxy isn't a good idea because it's bad for anonymity. That's why I deduct that this feature will not come, unless maybe someone sponsors a patch. Not many people and even less devs discuss this topic.

@_date: 2012-01-07 01:21:12
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] Tor exit+proxy 
Thanks. They're all good.
Do you mean 1) the exit node admin should setup to use an open proxy to protect him? Or 2) do you mean if the users would in some cases set this up their self?
For case 1) this wouldn't be the most wise thing to do... Explanation...
Those open proxy lists... Well, my guess how they are created... Some people are scanning the internet and if they find an open proxy they'll add it to the list. But it does not mean the admin of the open proxy is aware that he is hosting an open proxy. In many cases open proxy's are just misconfigured home or enterprise networks. Few are probable hosting them for evil reasons and a minority for good reasons (want to give anonymity to people out of the goodness of their heart like some tor node admins).
Not sure it's a good idea or legal to use someone as proxy without his consent, even if it's an open proxy from an open proxy list it can not be sure he is aware of that. Not sure if that would be good for the reputation and legality of Tor.
For case 2)
Good for exit node admin, less complaints, for the reasons you already explained below.
Difference case 1 and case 2? Case one is on purpose and case 2 is "normal abuse".
Depends if you meant 1) or 2).

@_date: 2012-01-07 01:26:39
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] Tor exit+proxy 
Agreed. Just the more proxy's could manipulate the cleartext traffic the higher the risk that this will happen.

@_date: 2012-01-09 23:15:16
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] Tor VPN Server selfmade 
I agree. If I understand everything correctly your advice has been incorporated into the TorVPN server guide.
By the way the guide is done, now needs feedback and testing.

@_date: 2012-01-09 23:24:00
@_author: hmoh@Safe-mail.net 
@_subject: [tor-talk] difference ttdnsd and torrc DNSPort? 
Currently I am using torrc DNSPort but it sounds like ttdnsd can do a bit more.
1. What can be done with ttdnsd what torrc DNSPort can not offer?
2. If ttdnsd is better then torrc DNSPort, why the hasn't the DNSPort code been replaced by ttdnsd?
