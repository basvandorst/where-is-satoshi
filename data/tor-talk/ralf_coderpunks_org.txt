
@_date: 2012-02-20 17:06:28
@_author: Ralf-Philipp Weinmann 
@_subject: [tor-talk] Hidden service security w. Apache/Win32 
So this is the part where you should realize how futile all of that pain of setting up policies is?

@_date: 2012-02-20 21:07:38
@_author: Ralf-Philipp Weinmann 
@_subject: [tor-talk] Hidden service security w. Apache/Win32 
n.b.: I wasn't commenting on the memory corruption mitigations offered by grsec, those are damn fine. Rather, what I was commenting on was the fact that RBAC is mostly worthless for the threat you are trying to address (disclosing the IP address server running the hidden service) unless you've really screwed up somewhere else.
Yes, you'll need to bake yourself an info leak to deal with grsec.
I'm familiar with the technique, and agree that custom compiler/linker settings on the box you're attacking can be a PITA to deal with. Depending on the skills of the adversary, they might buy you a couple of months.
RBAC, SELinux and App Armor (yes, I've added more clunky ways to band-aid buggy code to prevent it from spilling the lifeblood of your box) are useful for some things. I just really doubt they will buy you additional protection in the threat model we're talking about.

@_date: 2012-02-29 15:14:37
@_author: Ralf-Philipp Weinmann 
@_subject: [tor-talk] on the topic of tor's weaknesses 
That's why guards were introduced: They will not completely eliminate the above class of attacks, but at least make it statistically much less likely; since you will only use 3 out of 800 or so guard nodes per month.

@_date: 2012-03-10 11:05:04
@_author: Ralf-Philipp Weinmann 
@_subject: [tor-talk] An external application is needed... 
Think of Word and PDF documents as potential connect-back shells; then you may understand the warnings better.

@_date: 2012-05-09 15:02:21
@_author: Ralf-Philipp Weinmann 
@_subject: [tor-talk] Webserver on 127.0.0.1 only? 
Hi Jerzy,
Listen 127.0.0.1:80
in your Apache configuration,
server.bind = "127.0.0.1"
in your lighttpd config and
ListenAddress 127.0.0.1
in your sshd config.
This makes the daemons only bind to the loopback interface. After a
server restart, check with netstat that you really are not listening on
any external interface:
netstat -na | grep '^tcp.*LISTEN'

@_date: 2013-08-07 22:05:48
@_author: Ralf-Philipp Weinmann 
@_subject: [tor-talk] TOR bundle on hostile platforms: why? 
Hi Ivan,
may I ask what you base these claims on exactly? The capability of Microsoft to perform auto-updates or is there anything else?
If we're talking about auto updates, you have the same problem with essentially every Linux distro that you don't audit and compile yourself.
If not, I'd love to hear what angle you're going for here.
p.s.: I'm a reverse-engineer. the argument "you get binaries, not source code" doesn't convince me.

@_date: 2013-06-07 08:48:43
@_author: Ralf-Philipp Weinmann 
@_subject: [tor-talk] Onion Sites Won't Load 
Have you made sure that your system time is properly synchronized?

@_date: 2015-04-23 10:41:44
@_author: Ralf-Philipp Weinmann 
@_subject: [tor-talk] SIGAINT email service targeted by 70 bad exit nodes 
Hi Roger,
the diversity here is interesting. My hunch is that we are looking at 38 popped boxes (IPs are according to Philipps tarball, of course most of the IPs were running 2 relays as is economical for attacks):
104.207.150.52	domain name pointer 104.207.150.52.vultr.com.
104.238.132.150	domain name pointer 104.238.132.150.vultr.com.
104.238.133.3	domain name pointer 104.238.133.3.vultr.com.
104.238.136.249	domain name pointer 104.238.136.249.vultr.com.
104.238.138.19	Host 19.138.238.104.in-addr.arpa. not found: 3(NXDOMAIN)
104.238.161.45	domain name pointer 104.238.161.45.vultr.com.
104.238.180.244	domain name pointer 104.238.180.244.vultr.com.
107.191.46.79	domain name pointer 107.191.46.79.vultr.com.
108.61.177.165	domain name pointer 108.61.177.165.vultr.com.
108.61.188.90	domain name pointer 108.61.188.90.vultr.com.
108.61.198.179	domain name pointer 108.61.198.179.vultr.com.
108.61.199.44	domain name pointer 108.61.199.44.vultr.com.
176.31.208.207	Host 207.208.31.176.in-addr.arpa. not found: 3(NXDOMAIN)
179.43.152.240	domain name pointer smtp11.sicurezza.kz.
179.43.152.247	domain name pointer hosted-ny.securefastserver.com.
185.12.46.132	domain name pointer peraz.co.nz.
185.65.201.196	domain name pointer 196.cloudlix.com.
185.77.129.133	domain name pointer hosted-by.securefastserver.com.
185.77.129.145	domain name pointer hosted-by.securefastserver.com.
185.77.129.222	domain name pointer hosted-by.securefastserver.com.
185.77.129.241	domain name pointer hosted-by.securefastserver.com.
185.92.222.53	Host 53.222.92.185.in-addr.arpa. not found: 3(NXDOMAIN)
185.92.222.57	Host 57.222.92.185.in-addr.arpa. not found: 3(NXDOMAIN)
217.172.190.19	domain name pointer atlantic691.dedicatedpanel.com.
45.63.124.58	Host 58.124.63.45.in-addr.arpa. not found: 3(NXDOMAIN)
5.39.26.209	Host 209.26.39.5.in-addr.arpa. not found: 3(NXDOMAIN)
5.39.26.210	Host 210.26.39.5.in-addr.arpa. not found: 3(NXDOMAIN)
5.39.26.211	Host 211.26.39.5.in-addr.arpa. not found: 3(NXDOMAIN)
85.204.74.104	domain name pointer hosted-by.securefastserver.com.
85.204.74.120	domain name pointer hosted-by.securefastserver.com.
85.204.74.156	domain name pointer hosted-by.securefastserver.com.
85.204.74.189	domain name pointer hosted-by.securefastserver.com.
87.117.255.174	domain name pointer hosted-by.securefastserver.com.
87.117.255.187	domain name pointer hosted-by.securefastserver.com.
87.117.255.188	domain name pointer hosted-by.securefastserver.com.
87.117.255.194	domain name pointer hosted-by.securefastserver.com.
89.248.164.62	domain name pointer indohosting.info.
94.242.254.81	domain name pointer ip-static-94-242-254-81.server.lu.
with least 9 hosters involved (culled from the as_name field in the descriptors);
Choopa, LLC
Ecatel Network
OVH SAS
PlusServer AG
Private Layer INC
QHOSTER LTD.
UAB DUOMENU CENTRAS
root SA
The question to me is: Do they all have something in common? What was the vector of compromise?
Curiously enough, they all run Debian stable (according to the SSH version string "SSH-2.0-OpenSSH_6.0p1 Debian-4+deb7u2? *ALL* of them spit out on port 22 ? no exception!).
