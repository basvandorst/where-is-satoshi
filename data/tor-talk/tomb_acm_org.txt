
@_date: 2010-10-13 10:31:04
@_author: Thomas S. Benjamin 
@_subject: Full bandwidth is not used. 
Is your relay running on a virtual machine (V-colo)?
If so, check your user beancounters, they may show you which resources
are being exhausted.  Also, do you find any messages in your log?
On Wed, Oct 13, 2010 at 8:47 AM, Paul Menzel

@_date: 2011-01-12 12:59:44
@_author: Thomas S. Benjamin 
@_subject: Tor relay on vserver exeeding numtcpsock 
My relay (also Virtuozzo based) has a similar problem.  Have you tried
running with the "ConstrainedSockets 1" option set in your torrc?
This may solve your problem.
You may want to experiment with different rate limits to tune your
relay to your available resources.  I have to continually twiddle my
RelayBandwidthRate and RelayBandwidthBurst to support the most
bandwidth I can before my server starts to drop connections due to
insufficient tcp sockets.
I find that I can generally push about 1000KB before I swallow up my
current 600 numtcpsock limit.

@_date: 2011-01-12 19:02:08
@_author: Thomas S. Benjamin 
@_subject: Tor relay on vserver exeeding numtcpsock 
I believe that Klaus is already planning to contact his ISP, and was
seeking to learn more about reasonable values for numtcpsock.
Unfortunately different ISPs do this in different ways, and some
cannot easily change just that parameter in isolation.  Before paying
much money for a numtcpsock increase (my ISP charges a lot for this)
it is worth considering whether the increase in numtcpsock will
greatly increase the utility of the relay.  If the numtcpsock increase
is cheap or free, then of course one would go for the most sockets one
can get.
In my case I find that when I trim my bandwidth to about what I can
afford per month I need ballpark of the number of sockets that I am
currently permitted.  Unfortunately this balance changes with each new
version of Tor.  I'm not exactly sure why, but I wonder whether
performance improvements mean that I can handle more circuits at a
time, making the number of sockets the limiting factor again.  Does
anybody here know whether this is so?
