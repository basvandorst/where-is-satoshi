
@_date: 2005-07-21 13:11:12
@_author: Bernhard Fischer 
@_subject: Can't get tor to work 
I'd like to use tor so I installed it on my FreeBSD 4.11 following the instructions. As suggested, I additionally installed privoxy and made all necessary configurations.
Then I start both programs by just typing the following commands:
tor --datadirectory /var/db/tor --user _tor --group _tor --clientonly 1 -l Both basically startup correct. Using netstat I can see the listening sockets and an initial connection to any directory server, e.g.
tcp4   57920      0  xx.xx.xx.xx.3871    18.244.0.188.9031      ESTABLISHED
Tor itself says the following:
Jul 21 12:41:49.838 [notice] Tor v0.1.0.11. This is experimental software. Do not rely on it for strong anonymity.
Jul 21 12:41:49.840 [notice] Initialized libevent version 1.1a using method Jul 21 12:41:49.841 [info] connection_add(): new conn type App listener, socket 4, nfds 1.
Jul 21 12:41:49.846 [info] crypto_seed_rng(): Seeding RNG from /dev/urandom
Jul 21 12:41:51.265 [info] read_file_to_str(): Could not stat /var/db/tor/cached-directory.
Jul 21 12:41:51.265 [info] directory_get_from_dirserver(): No router found for directory; falling back to dirserver list
Jul 21 12:41:51.266 [info] connection_add(): new conn type Dir, socket 5, nfds Jul 21 12:41:51.269 [info] connection_dir_finished_connecting(): Dir connection to router 62.116.124.106:9030 established.
Jul 21 12:46:52.245 [info] run_connection_housekeeping(): Expiring wedged directory conn (fd 5, purpose 1)
Jul 21 12:46:52.245 [info] conn_close_if_marked(): Cleaning up connection (fd Jul 21 12:46:52.245 [info] connection_remove(): removing socket 5 (type Dir), nfds now 1
Jul 21 12:46:52.245 [info] _connection_free(): closing fd 5.
If I connect through privoxy with a browser, tor states this:
Jul 21 12:57:35.426 [info] Connection accepted on socket 5 (child of fd 4).
Jul 21 12:57:35.426 [info] connection_add(): new conn type App, socket 5, nfds Jul 21 12:57:35.426 [notice] Application request when we're believed to be offline. Optimistically trying again.
Jul 21 12:57:35.426 [info] directory_get_from_dirserver(): No router found for directory; falling back to dirserver list
Jul 21 12:57:35.427 [info] connection_add(): new conn type Dir, socket 7, nfds Jul 21 12:57:35.427 [info] connection_edge_process_inbuf(): data from edge while in 'waiting for safe circuit' state. Leaving it on buffer.
Jul 21 12:57:35.534 [info] connection_dir_finished_connecting(): Dir connection to router 18.244.0.188:9031 established.
And nothing else happens. After a while privoxy times out and sends an error message 404 back to the browser.
I thoroughly read through the FAQ, the installation instructions, and also tried to find some hints in the Internet, with no results.
Then I tried to manually download a cached-directory file from a directory server and copied it to the appropriate location and started tor again. It seems to use it and opened a lot of TCP sessions (I can watch this with netstat) to some onion routers but they seemingly don't like my connections. See the following log snippet:
Jul 21 13:04:01.010 [info] circuit_expire_building(): Abandoning circ 0 (state 2:connecting to firsthop, purpose 5)
Jul 21 13:04:01.011 [info] circuit_log_path(): internal (high-uptime) circ (length 3, exit vpm): serifos(closed) chaoscomputerclub(closed) vpm(closed)
Jul 21 13:04:01.011 [info] circuit_predict_and_launch_new(): Have 1 clean circs (0 internal), need another exit circ.
Jul 21 13:04:01.011 [info] choose_good_exit_server_general(): Found 106 servers that might support 0/0 pending connections.
Jul 21 13:04:01.011 [info] choose_good_exit_server_general(): Chose exit server 'landrover'
Jul 21 13:04:01.012 [info] connection_add(): new conn type OR, socket 23, nfds Jul 21 13:04:01.163 [info] connection_or_finished_connecting(): OR connect() to router at 64.246.50.101:9001 finished.
Jul 21 13:04:02.020 [info] circuit_predict_and_launch_new(): Have 2 clean circs (0 uptime-internal, 0 internal), need another hidserv circ.
Jul 21 13:04:02.021 [info] choose_good_exit_server_general(): Found 71 servers that might support 0/0 pending connections.
Jul 21 13:04:02.021 [info] choose_good_exit_server_general(): Chose exit server 'chaoscomputerclub'
Jul 21 13:04:03.030 [info] circuit_predict_and_launch_new(): Have 3 clean circs (1 uptime-internal, 1 internal), need another hidserv circ.
Jul 21 13:04:03.031 [info] choose_good_exit_server_general(): Found 71 servers that might support 0/0 pending connections.
Jul 21 13:04:03.031 [info] choose_good_exit_server_general(): Chose exit server 'ididreadthedocs'
Is there anybody who could help me?

@_date: 2006-09-01 12:47:51
@_author: Bernhard Fischer 
@_subject: Function of Tor 
No, it's probably not done automatically by your distro which means you have to explicitly configure you clients (browser, irc, ...) to use Tor.
You should have a look at

@_date: 2006-09-01 12:47:51
@_author: Bernhard Fischer 
@_subject: Function of Tor 
No, it's probably not done automatically by your distro which means you have to explicitly configure you clients (browser, irc, ...) to use Tor.
You should have a look at
