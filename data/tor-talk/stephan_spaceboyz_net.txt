
@_date: 2008-04-13 03:18:00
@_author: Stephan Maka 
@_subject: ejabberd patch for Jabber S2S over hidden services 
I love playing with Jabber and like the idea of overlay networks.
Here[1]'s a patch for the ejabberd-2.0.x branch of ejabberd which lets
you run it for a .onion host and make it connect through a SOCKS5 proxy.
It is somewhat configurable, ejabberd.cfg.example has it.
[1] The code is experimental and the main problems are DNS (as usual) and
slow connection establishment to hidden services. It is ultimately slow
and the S2S handshake timeout had to be increased from 5 to 60 seconds.
This does not look very responsive for *Instant* Messaging and it is
still timing out most of the time.
I'm now asking for further test installations and advise on this
ultimate slowness. Do hidden services perform this bad in general?
Two testing servers run at:
- vbwtqhpr3c5syrbu.onion
- 6kgmplpcyjpesalg.onion
C2S port is 5222, S2S is 5269 (the patch assumes that) and you may reach
me as user 'astro' on both of these Jabber servers.
I have some further thoughts on this, but I'd like to wait for any
interest here.
