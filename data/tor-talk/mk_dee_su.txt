
@_date: 2012-04-04 14:45:48
@_author: Maxim Kammerer 
@_subject: [tor-talk] access sites 
The Tor Project site has a rather pathetic (although quite extensive
and doubtless useful for propaganda purposes) "Who Uses Tor?" section
[1], a typical example of what I would call ?Western sanctimony?. I
wonder whether anyone ever attempted to gather some actual
representative statistics of Tor users, perhaps via a survey. I would
expect a rough top of the list as follows:
  * Circumventing a state-wide firewall
  * Paranoid people in developed countries
  * Small-scale trading of illegal drugs
  * Viewing images and videos of pedophilia
[1]

@_date: 2012-04-04 14:54:32
@_author: Maxim Kammerer 
@_subject: [tor-talk] Absence of digital signature of TBB sources 
Not twice, at least. I didn't think it was worth posting the previous
time, but did no one notice that .gz and .gz.asc are the same file?

@_date: 2012-04-04 15:50:14
@_author: Maxim Kammerer 
@_subject: [tor-talk] access sites 
In that case I would expect an appropriate subsection on the Tor users
page, provisionally titled ?Stoners use Tor? ? perhaps with the guy
from the bottom half of the following image as a thumbnail:

@_date: 2012-04-04 16:10:51
@_author: Maxim Kammerer 
@_subject: [tor-talk] access sites 
I also hope that you don't mind me asking, because lacking reliable
survey data, you seem to be in a unique position of individually
interacting with a wide variety of Tor users (if I understand the idea
of volunteer Live Chat / Telephone support correctly). My question,
related to the estimated users breakdown I posted previously, is: how
many of the ?Normal people using Tor?, i.e., those who don't fall into
any of the subsequent categories on the Tor users page, that you have
interacted with, are actually paranoid? In my experience, it is rather
easy to spot such individuals by their inability to ?let go?, and the
tendency to return to the subject that bothers them in circles,
regardless of the conversation.

@_date: 2012-04-05 00:51:08
@_author: Maxim Kammerer 
@_subject: [tor-talk] access sites 
I don't doubt that there are such uses, I am just wondering about the
actual percentage breakdown of different users. As it stands, the ?Tor
users? page at torproject.org is essentially propaganda aimed at
presenting a certain image, but I would like to know how would it look
like if sorted by users count. It's a frequent question, something
that many people would like to know ? and ultimately, the reason that
the ?Tor users? page exists. Only problem, that page is not too useful
for answering the question. How would the top of the page look if
sorted by actual most popular uses? Would it be:
  * Asians and Muslim use Tor to get on Facebook
  * Loonies use Tor to hide from The Man
  * Stoners use Tor to buy drugs
  * Pedophiles use Tor to share videos
Or is that list completely wrong? Right now, it seems difficult to get
a reliable estimate.

@_date: 2012-04-05 01:39:09
@_author: Maxim Kammerer 
@_subject: [tor-talk] Designing a secure "Tor box" for safe web browsing? 
That's probably the case ? QEMU is much slower than VMware and
VirtualBox even when virtualization extensions are available. The
reason I only tested QEMU is because it seemed like the only
lightweight option (a few MiB overall added to the image, if I
remember right).
True, my use case was using a VM for running the unsafe browser, not
as a thin layer for the whole system.
But if such abstractions are the target, perhaps there are better
alternatives than running everything in a VM? E.g., making the user
who establishes network connections different from the main user, and
preventing the main user from accessing any network information.
I actually view this as a technical question (Libert? Linux does not
assume technically knowledgeable users either). The user is expected
to keep private information on the system (remember that Libert? had
persistence from the beginning, but this is often true even without
persistence). If the system is exploited, finding out the computer's
MAC / IP addresses will most likely be the least of the user's
problems. The only case where using a VM is justified then, in my
opinion, is for running specific untrusted applications inside it
(application VM above). This is different from, e.g., setting up a
hidden service server, where you expect it to be eventually exploited,
and take care to not keep any private or identifying information on
I should also mention here that I never got an answer on this list
about whether Tor is actually designed to withstand active attacks
from within the client. It could be that running everything inside a
VM doesn't even help against discovering the externally exposed IP of
an exploited VM guest by some kind of active network probing attack.
Well, Libert? is distributed as an .ova bundle as one of the download
options ? setting it up is as simple as opening the file in VMware /
VirtualBox. I devoted substantial efforts to making the .ova ?just
work? for most users (OVF standard vs. reality is somewhat of a mess
currently). Providing instructions for installing a ?good? host OS
should be enough in this case, I think.
I don't disagree, I just don't think that this advantage is important
enough to trump the inefficiency inherent in running everything in a
VM for everyone.

@_date: 2012-04-05 03:57:55
@_author: Maxim Kammerer 
@_subject: [tor-talk] access sites 
Table 2 (with Germany at the top) in [1] does seem to suggest that
?Privacy enthusiasts? represent a significant proportion of Tor users.
Perhaps a 2nd place is deserved (higher than the ?Loonies?) in the
estimated breakdown above. I would also place human rights activists
somewhere at the bottom of the list. The ?Militaries? section on the
?Tor users? page is most likely completely phony, though.
[1]

@_date: 2012-04-05 04:59:29
@_author: Maxim Kammerer 
@_subject: [tor-talk] access sites 
Perhaps I should have been more specific: the ?Militaries? section on
the ?Tor users page?, as it is formulated, looks unrealistic and
artificial to me:
1. Field agents ? who exactly are those? I these are regular soldiers,
then tools such as LiPoSe [1] make no provisions for Tor ? if they are
using Tor on their own, then good for them, but I wouldn't call that
?military use?. If these are special agents and the like, then Tor is
most likely too unreliable and experimental for their purpose ? they
have their own expensive toys.
2. Hidden services ? too vague. In any case, a military C&C as a Tor
hidden service? This must be a joke.
3. Intelligence gathering ? only for low-profile targets, perhaps.
Even for such targets, what is usually done is establishing civilian
network accounts, and proxying everything via them (or proxying
directly via some ISP gateway proxy). That way you don't run into the
possibility of rogue exit node intercepting unencrypted traffic, and
don't expose yourself as a Tor user, which might be quite unusual
(?revealing the surveillance? in the section).
[1] Law enforcement is no military intelligence ? these people would do
anything, since the most they risk is a failed investigation.

@_date: 2012-04-05 05:13:15
@_author: Maxim Kammerer 
@_subject: [tor-talk] access sites 
The paper has the advantage of correlating different statistics
(including intercepted traffic) and drawing conclusions that passed
peer review. I just pointed to the table instead of copy-pasting
quotes (I did skim the paper before doing that).
They might, but that's not what I would call ?military use?. Do
network admins anywhere in the American military, for instance, set up
network access via Tor?
Well, you already have some statistics from personal interaction with
users, but you didn't want to share them on the ?Tor users? page
(e.g., there is no
section about people using Tor to trade illegal drugs, although that
must be a sizable proportion of users).

@_date: 2012-04-05 05:24:28
@_author: Maxim Kammerer 
@_subject: [tor-talk] access sites 
I assume that it's different for each country. For China and Turkey,
it's probably mostly state-wide firewall circumvention, for Russia ?
paranoia and enthusiasts, for Italy I have no idea about the situation
There is Paul Syverson, who works at NRL, if I am not mistaken; did I
miss anyone else?

@_date: 2012-04-05 23:36:12
@_author: Maxim Kammerer 
@_subject: [tor-talk] Can Tor resist active IP discovery attacks from inside 
As suggested by  I am opening a new topic on the subject:
I have not seen this addressed previously. Is this easily possible, or
does the question require further research? Clearly, the assumption is
that the client cannot issue GETINFO requests to Tor control port or
anything of the sort ? all client traffic is routed via Tor (directly
or transparently) or blocked.

@_date: 2012-04-06 00:01:24
@_author: Maxim Kammerer 
@_subject: [tor-talk] access sites 
I don't think that enthusiasts (people who change their behavior
without being directly affected) can have a significant impact on
usage statistics when compared to millions of people who are impacted
directly (i.e., cannot access YouTube). In China, e.g., over half of
URLs are blocked, in my experience of couple of years ago, even under
same domain. That's a much more serious motivation to use a mechanism
like Tor to circumvent censorship, compared to traffic interception.
E.g., in Russia, if I am not mistaken, every ISP of certain size must
(by law) duplicate all of its traffic to an FSB-supplied box ? where
are the users? Even in absence of legislation, people already know
that internal security services and military intelligence will (and
do) intercept everything they can.

@_date: 2012-04-06 00:22:53
@_author: Maxim Kammerer 
@_subject: [tor-talk] Absence of digital signature of TBB sources 
You need to clone the repository, since git signatures sign SHA-1
hashes of DAG nodes [1], which need to be traversed until tree root
for verification. This is also an answer to Andrew's question above:
git tags are not better than signed source tarballs for users who only
need to compile the source.
[1]

@_date: 2012-04-06 00:41:55
@_author: Maxim Kammerer 
@_subject: [tor-talk] access sites 
True, but I was referring to a specific list of uses on the project
page, which in my opinion should have some backing, not mere
possibility of use (and does not list uses for which there is
overwhelming backing, which I think is dishonest). For instance, I can
easily imagine military intelligence using an *alternative* Tor
network, composed of frequently changing nodes with civilian IPs, all
of which are under complete control, for the purpose of
compartmentalization (i.e., disclosure of access IPs for a forum with
discussion of possible terrorist activities will not let anyone with
access to the alternative network infer which department performed the
analysis). But using the regular Tor network is too problematic ?
consider an analyst mistakenly logging somewhere with their private
password (wasn't there an embassy fiasco in that vein?).
Well, I think that some educated guesswork is at least useful for
formulating a hypothesis.

@_date: 2012-04-06 04:43:49
@_author: Maxim Kammerer 
@_subject: [tor-talk] access sites 
You forgot to add ?relative to population size?. I don't think that
such direct comparison makes sense, with Chinese users' motivation
being mainly circumventing the GFC. Russia has no Internet censorship,
so you can compare the data at the time when the paper was written and
now with similar countries. Then:
  Russia 146
  France 150
  UK 170
  US 864
(I omit Germany because it such an outlier)
Now ( approximate):
  Russia 15000
  France 26000
  UK 10000
  US 62000
So I wouldn't say that Russia's proportion has a tendency to increase,
discarding growth of Tor network per se, although I suspect that
proportion of Internet users in Russia increased much more in recent
years than in Western countries above. Most people don't change their
Internet usage patterns due to traffic interception laws, and Internet
criminals in Russia (e.g., carders) prefer double-VPN to Tor, from
what I heard.

@_date: 2012-04-18 08:52:07
@_author: Maxim Kammerer 
@_subject: [tor-talk] wget - secure? 
No, what that table shows is that there are possible issues with
torifying wget with torsocks (as opposed to, e.g., pointing
http(s)_proxy to Privoxy; this probably just means that wget sends its
version in User-Agent header), and that wget does not leak DNS
requests when used with torsocks (a rather useless information, since
it says nothing about what happens without transparent torification).
My tests show that wget does not leak DNS requests when HTTP(S)
proxies are specified via environment variables.
TL;DR: wget is 100% safe to use with Tor and it does not leak DNS
(also true for curl, by the way).

@_date: 2012-04-18 11:56:31
@_author: Maxim Kammerer 
@_subject: [tor-talk] wget - secure? 
I should have known I would get useless replies with zero informative
content to that summary. Wget does not resolve hostnames when it uses
a proxy. Many programs do (e.g., Midori does, and Pidgin did at one
point, if I am not mistaken), but wget doesn't. Wget is therefore safe
to use via Tor. Do you have any specific information saying otherwise,
besides the obvious ?no one should ever claim that anything is 100%
anything, ever?? Note that I originally replied to a post by Runa
Sandvik which was entirely wrong and needed correction, and that you
are quoting a summary. What is your contribution to this thread

@_date: 2012-04-19 11:02:37
@_author: Maxim Kammerer 
@_subject: [tor-talk] wget - secure? 
Do you see wget actually connecting to the proxy? Wget terminal output
shows that.

@_date: 2012-04-20 18:34:07
@_author: Maxim Kammerer 
@_subject: [tor-talk] wget - secure? 
Well, I was talking about http(s) specifically. While wget does
support ftp_proxy environment variable, I am not aware of any
?standard? configuration involving Tor (e.g., Privoxy / polipo) that
supports ftp_proxy (I guess wget would send proxy's IP in that case,
but didn't check). When used with tsocks / torsocks' LD_PRELOAD hack,
wget sends 127.0.0.1 with PORT, which only happens with
--no-passive-ftp, and is kind of pointless.
Perhaps you have seen the behavior you talk about in Tails, back
before I convinced them that transparent proxying with iptables is a
bad idea? In that case, the problem is with transparent proxying, not

@_date: 2012-08-08 09:07:49
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor as ecommerce platform 
I doubt that the Tor Project will ever acknowledge such support. Tor
developers (or at least policy people) like to pretend that Tor is
used for purposes that they consider morally right, and ignore the
uses that are morally wrong [1]. I believe it's an american thing ?
one typical tell-tale sign is treating criminals as some masterminds
who can already easily achieve what they want [2] (americans are used
to doing the same in gun control debates), and ignoring the fact that
the project facilitates anonymity for criminals just as well, if not
more, as for non-criminals. Personally, I don't understand what's the
big deal about the make-believe game, and it probably detracts from
the project's credibility, but it's fun to watch nevertheless.
I actually intend to write a Tor server patch to be able to gather
.onion access statistics on relays, once I am sufficiently bored, just
for the fun cognitive dissonance potential (expecting drugs and CP
forums to top the list).
[1] [2] [3]

@_date: 2012-08-08 10:02:39
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor as ecommerce platform 
No, it's a contraction to avoid saying the same thing twice. By the
way, I forgot to add [3], it should go at the end of first paragraph,
after ?nevertheless?.

@_date: 2012-08-09 00:47:26
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor as ecommerce platform 
The ?Tor users? page isn't presented as a promotional page, it is
presented as a factual one. I also remember discussion on this list
where I expressed doubt about some aspects listed there (military
uses), and the overall claim was that the page is a good
representation of the current userbase.
So why not answer those questions honestly, and not pretend that users
are stupid? As I said, it detracts from the project's credibility.
Anyone who installs Tor (or I2P, for that matter) and explores the
hidden services, immediately sees the overwhelmingly illegal (mostly,
since it depends on jurisdiction) content. Anyone who runs an exit
node immediately sees that a sizable portion of the traffic is of
questionable nature. [1]
Why would it be shut down? Why would you structure an anti-censorship
project in such a way that it depends on goodwill of authorities?
That's a motivation page (in a dire need of an update, but that's
beside the point) ? I don't care if any of these categories of people
use Libert?. Why should I? Their activities are someone else's
problem. Moreover, if any of them help improve Libert? (be it via bug
reports, suggestions, patches, promotion) ? then great, and it's
welcome. I don't feel a need to justify a project by pretending that
most users are some goodwill elves. Do you? I have a strong suspicion
that if I didn't mention the possibility of gathering .onion access
statistics in Tor network, then I would get the usual replies that
there is no evidence of most active .onion resources being of
questionable nature.
[1]

@_date: 2012-08-09 02:25:27
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor as ecommerce platform 
That's most certainly not true, or at least wasn't true a couple of
years ago. After the famous Russian 2ch.ru imageboard untimely demise,
a few alternatives quickly sprang, and the most high-traffic one (I
think 02ch.net) had a /cp board on a separate (likely hacked) Chinese
domain (with actual CP). I don't know why they did that ? for trolling
potential, or perhaps to clean up the regular boards due to lack of
resources for moderation, but there you have it: most trafficked
clearnet Russian imageboard had an active /cp board for a few months.
Mind you, this is only a well-known public example ? who knows how
many password-protected or obscure forums there are (by now, most
probably use https, but it's still possible to MITM them on an exit
node for analysis, since some / most users will always click through a
certificate warning).
Also, the ?immediate deletion? part is often not achievable, even if
server admins actively try to remove such content ? CP videos (for
whatever definition of CP) in various social networks are a known
problem, especially when they are restricted to closed groups. A
?known problem? not in the sense of an argument that politicians use
to promote themselves over the think-of-the-children case du jour, but
you would actually see imageboard threads with (irony alert) links to
abuse report queues on said social networks, full of such content.
If I were to guess, I would say that for any definition of illegal
content / activity, most such content is located on clearnet, since
Tor is simply too small. If anything, Tor provides an immense
opportunity for law enforcement to discover such activities in a
centralized manner, by setting a few exit nodes (and maybe relays for
finding out popular .onion addresses). E.g., instead of crawling the
whole web for terrorism forums, just analyze those sites that are
accessed via exit nodes (where you also have the opportunity to MITM).
Terrorists are dumb, but some are bound to have the know-how to
install Tor.

@_date: 2012-08-09 03:08:47
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor as ecommerce platform 
You don't need to classify large amounts of traffic for that ? you can
sample URLs manually to get an idea of what your exit node is used
I just gave that link as an example of user experience with running an
exit node and looking at the traffic. Do you have a better statistic?

@_date: 2012-08-09 09:54:49
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor as ecommerce platform 
Where did I talk about exit node statistics? I mentioned the
possibility of gathering .onion access statistics.
So far you didn't say anything useful or non-obvious, so why did you
post? You didn't like someone's written experience, so he is
automatically a troll or a false flag ? fine, bring your own

@_date: 2012-08-09 12:17:50
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor as ecommerce platform 
The Hidden Wiki [1] is (or are, there have been several alternates) a
good start. It used to be down quite often after some kids tried to
play in vigilantism on Tor network, but seems quite stable at present.
However, this won't give you a good idea of what resources are
actually popular. In my first reply in this thread I suggested that
relays can be patched to get .onion access statistics (referring to
rendezvous points), but after reviewing the rendezvous specification
[2] I need to admit that it's not possible ? apparently, one would
need to gather statistics at introduction points (waiting until a
relay is chosen as an IP for a given hidden service), which would be
extremely slow, and would not provide bandwidth statistics.
[1] [2]

@_date: 2012-08-10 02:00:39
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor as ecommerce platform 
Yes, if gathering .onion access statistics were possible, I would load
each .onion address in a top-50 list and see what it contains, or
search for the address if access requires authentication. The reason
is that I am curious and don't have an agenda to protect, unlike Tor
project policy people. Why do you pretend that it's difficult to do?
The Reddit comment was an illustrative example. The argument is that
Tor is well-known for the illegal (again, depending on jurisdiction)
content that it provides access to (Tor exit operators aren't raided
just because LE officers are bored). People don't come to this list
and ask how to get on some political dissidents .onion discussion
board. They come to ask how to get on Silk Road, and ask on other
support forums for Bitcoin support, presumably so that they can use
Bitcoins on Silk Road to buy drugs. On .onion and I2P imageboards,
they don't ask where they can download LOLcats ? they ask where they
can get more CP, and get directed to OPVA and other boards. I don't
care either way, but this is well-known information, which you are
apparently oblivious to ? which raises the question: why did you
decide that you have anything of value to contribute to this thread,
especially if you have no references?
It's simple: he ran an exit node, and sampled the URLs that people
accessed via the node. It is obvious ? that's what he wrote.
I would like you to stop posting useless replies. If you have
something to contribute, be it a proposed method of statistical
analysis, a reference to Tor exit operator who actually sampled
accessed URLs, or anything else, then great, otherwise you are not
bringing any new information or non-trivial conclusions to the table.
Calling someone sharing their experience a troll or a false flag can
be interesting psychologically, but it has no merit otherwise.

@_date: 2012-08-10 02:51:20
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor as ecommerce platform 
Now *that* can actually be measured at RV points, and I think should
be a part of Tor metrics. I suspect that the ratio is much closer to
1% (or even below that), but on the other hand, most ?regular? Tor
users probably don't need anonymity, and would use a free VPN if it
was as simple to install as a TBB, so the meaning of low percentage is
moot. And of course, you could say the same about most .onion users ?
they would trade drugs and CP on clearnet if that was legal. What I
would like to find is something interesting and unexpected that Tor is
used for (not from the propaganda list on ?Tor users? page).
Some of that information is available in [1].
[1]

@_date: 2012-08-10 22:21:18
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor as ecommerce platform 
That's not true, but it shows that you lack the probabilistic
background required to reason about such things.
Fine, don't accept it, but if you can't understand what's discussed
(as I said, Reddit post was just an illustrative example), and have
nothing to contribute, just move on. I don't understand this need to
inject an opinion just because you don't like the conclusions. Find
something non-trivial to add to the discussion first.

@_date: 2012-08-10 23:14:29
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor as ecommerce platform 
It's actually not far from what I estimated at the time, except that
the top is probably completely mundane firewall circumvention. [1]
The problem is that such selective focus detracts from the project's
credibility. Most Tor users, although they might not understand the
technical issues, are not stupid. They will browse .onion sites, and
see that the most active ones are related to drugs and pedophilia.
They will try to run an exit node, and see the abuse (and perhaps feel
the abuse when they are raided by LE). They will see that many sites
block Tor IPs, and understand that Tor is often used for uploading
questionable content.
Americans probably quickly adapt to that discrepancy, saying: ok, I
see ? the ?users? page is actually what they want, and talking about
the actual situation is politically incorrect; this is just like
photoshopping black guys into pictures [2]. But most international
users will be genuinely surprised. And it's not like it is that
difficult to be honest: these are the people who we develop Tor for,
these are the users who provide traffic cover, these are the current
users, this is the reason for the early adopters composition, this is
how we expect the userbase to shift through the following years, etc.
That Table II is actually very interesting, and is the main reason
that I linked that paper (it's not on AnonBib, by the way). All the
entries in that table, except for the last two (?Illegal/Questionable?
and ?IllegalDrugs?) are either non-existent or almost non-existent in
.onion-land (at least wrt. site activity). The last two entries,
however, are very well-represented. So if there was a way to get
.onion access statistics, then I would expect to find those two
categories (CP and drugs) completely overtaking everything else.
Actually, I just don't like propaganda. I am sure that no one would
make up all those make-believe descriptions of Tor users if Tor was
still a technical project, and wasn't being promoted by various policy
people (i.e., EFF, etc.).
[1] [2]

@_date: 2012-08-10 23:43:52
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor as ecommerce platform 
Only because you don't understand how Tor works. The less you
understand, the more data you need.
That's not contribution, that's useless water-cooler chatter.
So propose a good scientific experiment, if you can. I have went over
Tor and Rendevous specs, and several conference papers before writing
some of the posts. What have you done, expressed doubt and dislike? I
don't care ? contribute something useful

@_date: 2012-08-11 06:20:18
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor as ecommerce platform 
Sure, that's why the ?Tor users? page is more or less a rewritten and
expanded version of the original overview on Free Heaven [1], which is
a simple promotional writeup about people being able to circumvent
firewalls and hide their IPs, with the lone exception of something
that looks like an NRL-initiated internal military case study. Did you
write that page?
I don't want named users ? I would be completely fine with anonymous
accounts. Anyway, I went over the stories in that directory (with the
exception of the PDF, which is inaccessible, and the source of that
PDF, linked from the Tor blog, is inaccessible as well), and they are
all about either (1) (mostly) activists circumventing a filter, or (2)
(rarely) activists hiding one's IP. Boring, especially considering
that most activists greatly overestimate their importance or attention
from authorities. Nothing about hidden services or intelligence
gathering, nothing about commercial espionage, not even about
anonymous blogging (not surprising ? I am yet to see a popular blogger
who is not an attention whore).
Interestingly, there are a couple of non-trivial entries on ?Tor
users? page, like the US IBB entry ? that's right there US foreign
intelligence supporting Tor usage by subversive elements in countries
of interest. I didn't spend too much time searching for that ? did
they fund Tor? I think you should expand on this on the page, since it
shows some technical credibility.
By the way, those stories suggest that no one actually needs anything
beyond the most basic anonymity set reduction ? it's just an
attractive R&D topic because you can make small incremental
Well, it's not really my job, but I think that you should focus less
on propaganda, and focus more on getting users involved who will then
expand the network instead of just using it as a proxy. Make everyone
a relay (even if low-bandwidth relays are not useful, and even if
there are theoretical issues ? solve the issues instead) and have a
hidden service address by default. Work with file sharing software
developers to have a one-click setup of P2P sharing via Tor. Make an
easy interface for publishing files or simple sites on user's .onion
host. Don't invent use cases, because users have their own (which you
don't like and hence ignore) ? facilitate network expansion which will
actually bring in new use cases.
[1]

@_date: 2012-08-11 10:16:20
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor as ecommerce platform 
This is indeed the case ? clients choose exit nodes uniformly among
Fast+Stable routers, weighted by consensus bandwidth, excluding known
bad exits and specifically excluded exit nodes (e.g., by country ?
only done by a minority of users). An exit node with some minimal
bandwidth and a decent uptime will see a fair sampling of all exit
traffic; comparison of per-port statistics will require an easy
It is not a productive contribution, since it's an obvious assumption.
I even doubt that there are 50 HTTP .onion sites that see over 1000
daily visits.
You are just inventing corner cases. Port number and protocol can be
determined automatically, and anything that can't and is still in
top-50 will be an interesting find nevertheless.
Sure, I rely on my intuition. It is based on interacting with a
diverse userbase of Tor users. Yours is based on disliking my
conclusions and nothing else ? you never brought up actual references.
No, the hypothesis is that Tor hidden services are mostly used for
criminal activities, and that Tor exit nodes are often used for such,
when Tor is used for the purpose it was designed for, and not as a
glorified proxy.
Could be, but you have nothing of substance behind this suggestion. It
is criticism for the purpose of criticism ? good for high-school
debates and for politicians, but of little value otherwise.

@_date: 2012-08-12 03:29:59
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor as ecommerce platform 
You didn't read the thread, didn't understand the claims made, and
didn't bring up anything new, so I don't see a point in useless

@_date: 2012-08-20 10:33:29
@_author: Maxim Kammerer 
@_subject: [tor-talk] End-to-end correlation for fun and profit 
Hello gentlemen,
Here and there I see references to ?global? or ?state-level? powerful
adversaries when it comes to end-to-end traffic correlation ? i.e.,
it's supposed to be very hard. Because Tor network has many nodes,
there are guard nodes, there is research, blog posts, CIA funding
(well, not anymore, but similar funding from EU is in the works),
useless bureaucracy, college kids playing in serious development, yada
yada ? you know the drill.
Anyway, let's do some math. Below, you will find a table where left
column denotes the number of Guard+Exit+Fast+Stable Tor relays one
needs to sniff at Class-C level, and right column denotes the
probability that a given circuit will go through both intercepted
entry and exit nodes. This is slightly imprecise, because same node
can't be both entry and exit for a circuit, and there are other
ignored intricacies (e.g., port policies) that push the estimates in
the other direction ? the reason is that I am better with writing
quick scripts [1] than with Excel. The consensus taken for analysis is
from a few hours ago, and I read Tor server code from current stable
version in Gentoo (0.2.2.35) ? this probably doesn't matter.
10 11.50%
11 14.56%
12 16.52%
13 16.80%
14 17.69%
15 17.98%
16 18.90%
17 19.20%
18 19.50%
19 20.46%
20 20.46%
21 21.76%
22 22.77%
23 23.43%
24 23.43%
25 24.48%
26 24.48%
27 24.82%
28 25.55%
29 25.90%
30 25.90%
As you can see, sniffing just 25 Class-C networks (or 42 individual
nodes) lets an adversary correlate ~25% of (non-.onion) circuits.
Which networks are these?
DE 31.172.30.[1-4]
GB 146.185.23.179
NL 77.247.181.{162,164}
RO 109.163.233.{200,201,205}
CA 198.96.155.3
US 199.48.147.{35,36,37,38,39,40,41}
DE 212.84.206.250
FR 178.32.211.{130,140}
US 204.8.156.142
US 173.254.216.[66-69]
SE 78.108.63.44
US 96.44.189.102
GB 178.33.169.35
CZ 212.79.110.28
US 66.180.193.219
DE 88.198.100.{230,233}
LU 212.117.180.65
SE 81.170.186.175
CH 62.220.135.129
SE 84.55.117.251
DE 85.31.187.132
CA 8.18.172.156
FR 213.251.185.74
US 69.42.212.2
FR 37.59.82.50
All of these servers are in US/CA or EU jurisdiction, so even an
unsophisticated LE operation can issue ~20 wiretapping orders at ISP
level (many of these networks are operated by same hosting providers),
and immediately deanonymize ~25% of Tor traffic. So far for anonymity!
Oh, and if you are just into looking what sites Tor users visit, the
situation is even better ? intercepting the same 25 Class-C networks
will let you see 72% of the traffic. Picking better non-Guard Exits
will improve this figure to 78%. That's right ? 4/5th of Tor traffic
exits through just 25 LANs.
[1]

@_date: 2012-08-21 21:57:15
@_author: Maxim Kammerer 
@_subject: [tor-talk] End-to-end correlation for fun and profit 
No, it means that if you intercept traffic from 10 top-bandwidth Tor
routers with some characteristics (Guard + Exit, basically) at what's
probably the nearest hardware switch (seems true for the nodes listed
in my original message), then the probability of both entry and exit
nodes being one of these routers is close to 11.5%. I just multiplied
bandwidth-weighted probabilities for entry and exit nodes. The routers
don't have to be on the same network. Enforcing different-family
circuit nodes skews the probabilities, but not by much, so I didn't
bother to account for that.

@_date: 2012-08-22 00:12:08
@_author: Maxim Kammerer 
@_subject: [tor-talk] End-to-end correlation for fun and profit 
No, you didn't understand the point of the attack.
Nothing written about /16 and /24 networks in this thread is relevant
to the (obvious) attack. I don't understand the purpose of most
replies here. How can it be described any simpler? You intercept
traffic at 25 nodes, you can deanonymize 25% of the traffic, or watch
80% of exit traffic. This makes one wonder whether this mailing list
is suitable for any discussion that assumes even the most basic
It is linear, unless I missed something in the code. If it wouldn't be
linear, then nodes would be under- or over-utilized.

@_date: 2012-08-22 00:24:00
@_author: Maxim Kammerer 
@_subject: [tor-talk] End-to-end correlation for fun and profit 
1. Stop spreading FUD and false claims, and performing ad hominem attacks.
2. All your posts in this mailing list were about (a) not
understanding basic maths; (b) not understanding how Tor works; and
(c) proposing to invoke an attorney on some kid who tries to work on
an open-source project he likes.
What's the point of your posts? You don't *do* anything. There are
other venues where you can indulge in useless chit-chat. Please do not
reply until you have something worthwhile to contribute.

@_date: 2012-08-22 00:52:04
@_author: Maxim Kammerer 
@_subject: [tor-talk] End-to-end correlation for fun and profit 
Bingo ? in the first graph in the ticket [1] you see that the
probability gets to ~80% when the number of nodes gets to 40. What
this graph doesn't show, however, is that many of these nodes are
attached to the same switch, or even run on same machine in different
VMs, or on different IPs (some even run on same IP). After accounting
for that, the number of tiny networks (at least /28, from going over
the list in the original message) and nodes one needs to intercept in
order to get the same 80% figure gets down to ~25. And of course, if
one is smarter about choosing which nodes to intercept, the
probability of seeing both entry and exit traffic is also significant:
~25%. It is also possible to do something in between (choose some
Guard-only and Exit-only nodes), but my laziness kicked in at that
point of analysis.
Here are the network again, in case anyone has the resources and is
curious enough about who does what with Tor:
DE 31.172.30.[1-4]
GB 146.185.23.179
NL 77.247.181.{162,164}
RO 109.163.233.{200-201,205}
CA 198.96.155.3
US 199.48.147.[35-41]
DE 212.84.206.250
FR 178.32.211.{130,140}
US 204.8.156.142
US 173.254.216.[66-69]
SE 78.108.63.44
US 96.44.189.102
GB 178.33.169.35
CZ 212.79.110.28
US 66.180.193.219
DE 88.198.100.{230,233}
LU 212.117.180.65
SE 81.170.186.175
CH 62.220.135.129
SE 84.55.117.251
DE 85.31.187.132
CA 8.18.172.156
FR 213.251.185.74
US 69.42.212.2
FR 37.59.82.50
[1]

@_date: 2012-08-22 04:42:35
@_author: Maxim Kammerer 
@_subject: [tor-talk] End-to-end correlation for fun and profit 
Manually, using WHOIS and traceroute. This can be done automatically
using GeoIP, but I wanted to be sure in the results (also visited some
hosting sites), and writing a proper program would deviate too much
from the initially intended ?quick hack? design.
That's why I insist that everyone should be a relay by default, even
if there are some theoretical issues that weren't worked out yet [1].
Making everyone a relay also results in a healthier users community (I
think I2P is one), and more intrinsic network growth.
Quoting [2] (referenced by fakefake): ?Tor has been long suspected,
and later confirmed [11,12], to be vulnerable to an attacker who could
observe both the entry and exit point of a connection through an
anonymity network.?
Well, it of course depends on what one calls ?unsophisticated?. E.g.,
if one judges by IACIS email dump [3], then most investigators hardly
understand what they are doing when it comes to unfamiliar
technologies (like Tor). So maybe you need them to be ?sophisticated?,
after all, but my point was that you don't need something exceptional
like involving state security agencies ? i.e., FBI + UK Police + DE
Police + a couple of other countries, coordinating via Interpol does
not sound impossible to me. I will also expand on that in a reply to
[1] [2] [3]

@_date: 2012-08-22 06:51:06
@_author: Maxim Kammerer 
@_subject: [tor-talk] End-to-end correlation for fun and profit 
There are some subtleties, mainly the restriction on distinct families
in a circuit ? you can account for them in a spreadsheet, or by
writing a proper analysis program, but I doubt that it will result in
more than a few percents difference (just speculating, maybe it's
more). Doing some heuristic search for intercepted nodes selection (a
few high-bandwidth Exit-only or Guard-only nodes) will probably push
the estimates in the other direction.
This quote: ?They only use relays with the Guard flag for their first
hop. They read weighting parameters from the consensus and use them to
avoid Guard-flagged nodes for positions other than the first hop and
avoid Exit-flagged nodes for positions other than the last hop, in
proportion to how much capacity is available in each category.? ? is
this actually true? Are Guard+Exit nodes never used as guard nodes? Or
even only used as middle nodes (depending on how one reads the first
sentence)? I didn't see something like that in the code.
Ok, maybe I overestimate LE ? different countries have different
standards. Let's consider extra-legal attacks. You mentioned [1],
which looks at intercepting IX traffic. IX links are probably
considered a part of vital national infrastructure wherever they are
located (similarly to telcoms), so it would be extremely hard for a
non-LE adversary to install their (extremely expensive) equipment or
software in the relevant facilities. However, consider what would be
needed to intercept all traffic from the /28 networks mentioned here,
managed by ~20 VPS hosting providers (I don't think I noticed anything
residential, but intercepting that would be much easier). Let's say
you have a million dollars to spare. Allocate $50k for each of the
hosters, and budget another $50k for some smooth salesperson type who
will fly to each hosting facility / office, befriend an infrastructure
admin with beer / hookers / coke, and offer him $50k for shadowing
traffic from VPSes of interest to your own VPS (which might be
possible to do purely in software in most cases, probably). I think
it's doable, whether you are just curious and want your own
international surveillance operation, or treat it as a data mining
investment (there is probably a lot of interesting traffic going
through Tor, if you know what to look for). It is also quite cheap for
the effect.
[1] For one, everyone should contribute as a relay. This also has the
potential to improve the users community, and advance hidden service
resources as a result. ?Internet that we have? is also problematic,
because Internet is too hierarchical. I think that EFF should promote
large-scale ISP-independent mesh networks, instead of caring so much
about the ability of some CIA-funded NGO activists to get on Facebook.
Other anonymity systems don't care much about accessing clearnet. I am
not even sure whether I2P, for instance, has any active outproxies at
the moment, and they do fine, since they provide what the users need ?
community, ability to religiously tweak the console panel, integrated
file sharing, etc.
I don't think it would change the top-25 list much, since. for
instance, all /28 networks there belong to different /16 classes.
Maybe something like Amazon EC2 could creep in, but I doubt that. But
it's difficult to say definitely, e.g:
$ cut -d' ' -f1 nodes | sort -u | wc -l
1595 (IPs)
$ cut -d' ' -f1 nodes | cut -d. -f1-3 | sort -u | wc -l
1461 (/24 networks)
$ cut -d' ' -f1 nodes | cut -d. -f1-2 | sort -u | wc -l
984 (/16 networks)
I don't think it matters much. Technical people are skeptical to begin
with. Non-technical people are irrational (e.g., if to judge from
experience with activists described on liberationtech mailing list) ?
they will keep everything in plaintext and use unencrypted connections
even when told explicitly that it's dangerous. From my experience,
warnings only work when you show people something that will cause a
cognitive dissonance. I.e.: ?don't email exams? doesn't work, whereas
?here is the exam you wrote for tomorrow, and here is the student who
stole it from your mailbox? works well. It seems that Tor is not yet
at the point where one can show such examples, although someone with a
few million $ to spare or to invest might to just that (see above).

@_date: 2012-08-22 09:48:19
@_author: Maxim Kammerer 
@_subject: [tor-talk] End-to-end correlation for fun and profit 
I don't think that buying the software would be that difficult. For a
big project, LE could outsource it to one of those shady companies
selling exploits, or (more likely) to a government contractor with
security clearance. For something smaller, a hungry grad student
should do, after making them sign an NDA, or, in case of a really
arrogant LE, some national secrecy act. Writing the service as
something innocent in accounting is probably par for the course.
Closer to the topic, I think that traffic correlation can be performed
in a distributed fashion, if you know the target IPs to watch for
(which can be gathered beforehand locally on exit nodes, and
aggregated and analyzed afterwards). Exit nodes that see packets
to/from target hosts aggregate their exact timestamps for a few
seconds, and then send the chunks to all other nodes (so yes, you
can't correlate too much traffic). All other (guard) nodes then try to
locally correlate the received packets with their own traffic, and
aggregate successes for later reports. In this fashion, each node
needs to keep perhaps a minute of timestamped traffic. It is also
possible to play with traffic / disk space / success probability
tradeoffs: send chunks to rotating sets of nodes, increase recorded
traffic window (to be able to send old chunks to nodes that didn't see
traffic to a given IP yet), etc.

@_date: 2012-08-25 02:51:29
@_author: Maxim Kammerer 
@_subject: [tor-talk] End-to-end correlation for fun and profit 
Wrt. the first proof, it seems to me that the assumed correlation
accuracy rate of 99.9% is incredibly low, and I think that the Raccoon
recognized that by referring to sampling and retention at the end of
his post. With the targeted attack that's similar to ?Example 3? in
Raccoon's post that I described in my previous comment here, where one
analyzes all exit traffic without missing packets, I would expect the
correlation accuracy (and as a result, match confidence) to
exponentially approach 100% very quickly with the number of relevant
packets seen, and extremely quickly if the traffic is interactive
(i.e., browsing).
Actually, c/n of 30% in ?Example 3? is close to the 25% that's
discussed in the OP here, so let's redo the example with c/n=25% and
different correlation accuracies (leaving the other numbers intact):
(using ?bc -l?)
ca  = 0.999
pm  = (1/5000) * (0.25)^2
ca*pm / (pm*ca + (1-pm)*(1-ca))
ca  = 0.999
ca = 0.9999
ca = 0.99999
ca = 0.999999
ca = 0.9999999
ca = 0.99999999
ca = 0.999999999
So reducing correlation accuracy error to 10^-9 will give you 99.99%
confidence in end-to-end correlation match. I suspect that a few
seconds of interactive traffic will give you a correlation accuracy
that's much better than a 10^-9 error.

@_date: 2012-08-31 11:37:40
@_author: Maxim Kammerer 
@_subject: [tor-talk] HiddenServices: calculating .onion address with 
See [1]:
openssl pkey -in /var/lib/tor/hidden_service/private_key -pubout
-outform der | tail -c +23 | sha1sum | head -c 20
(and convert to Base32)
[1]

@_date: 2012-12-01 14:37:30
@_author: Maxim Kammerer 
@_subject: [tor-talk] William was raided for running a Tor exit node. 
Is it possible to configure the tor-talk mailing list to discard
messages not explicitly addressed to it? Like this nanog discussion.

@_date: 2012-12-01 16:20:38
@_author: Maxim Kammerer 
@_subject: [tor-talk] William was raided for running a Tor exit node. 
Well, to be sure, I was only objecting to messages not being properly
labeled when filtered by To/CC headers. Maybe I should invest more in
my filtering setup.

@_date: 2012-12-09 03:31:20
@_author: Maxim Kammerer 
@_subject: [tor-talk] Aggregate-type settings in torrc 
Are settings like ReachableAddresses guaranteed to aggregate in torrc?
E.g., is
  ReachableAddresses 1.2.3.4:56
  ReachableAddresses 7.8.9.1:78
equivalent to
  ReachableAddresses 1.2.3.4:56, 7.8.9.1:78
It is the case in my tests, but would like to be sure.
Also, does obfs2 transport always use TCP? Or can it use e.g. UDP?
And last question, is there a reason that a line like
  ClientTransportPlugin obfs2 exec /usr/bin/obfsproxy --managed
causes Tor to always run an obfsproxy daemon, even if there are no obfs2
bridges defined in torrc?

@_date: 2012-12-09 06:09:31
@_author: Maxim Kammerer 
@_subject: [tor-talk] Botnets through Tor 
I was going to write that for I2P it is highly unlikely due to
autonomous daemon configuration complexity, a dependency on Java, and
unreliability wrt. network configuration changes, but here is a botnet
advertisement that mentions I2P support:
Maxim Kammerer
Libert? Linux:

@_date: 2012-12-21 16:26:26
@_author: Maxim Kammerer 
@_subject: [tor-talk] Gmail and Tor 
But Google's purpose is not to protect you ? it is to protect their
customers (advertisers). Your value in this ecosystem, as a product,
depends on correctly authenticating your account. Google's claim that
out-of-band authentication is required to prevent spammers from using
the ecosystem doesn't hold water [1]
[1]

@_date: 2012-02-09 13:31:55
@_author: Maxim Kammerer 
@_subject: [tor-talk] tor-blocking sites 
Not to raise unnecessary skepticism, but have proof-of-work ever been
successfully deployed for anything in the real world (besides for
proof-of-work per se ? i.e., Bitcoin)?
Did you try to estimate how much CPU work would get one a token once
such system is deployed full-scale, with spammers (possibly with
botnets) competing for resources? E.g., you can get a rule-of-thumb
estimate by putting some dollar value on a token, and looking at the
generic-CPU work required for an equivalent Bitcoin amount.
Perhaps captchas might look more appealing after that.

@_date: 2012-02-09 15:54:28
@_author: Maxim Kammerer 
@_subject: [tor-talk] irc clients and Tor 
Is that address listed in some OFTC-approved location?

@_date: 2012-02-09 16:41:04
@_author: Maxim Kammerer 
@_subject: [tor-talk] tor-blocking sites 
To me, the "exit bridge" concept mentioned by Roger Dingledine above
sounds extremely attractive. On the surface of it, there doesn't have
to be a complex relaying/discovery decoupling implementation, too ?
just a user-specified extra hop from the exit node.
Transient entry bridges take care of government / organization-level
anti-anonymity censorship, transient exit bridges handle site-level
anti-anonymity censorship, and persistent core Tor network provides
anonymity per se.

@_date: 2012-02-15 19:47:10
@_author: Maxim Kammerer 
@_subject: [tor-talk] Blocking Tor - solutions? 
That's not the reason, as you could say the same about entry nodes.
The reason is lack of implementation of exit bridges concept.

@_date: 2012-02-20 18:46:57
@_author: Maxim Kammerer 
@_subject: [tor-talk] How accurate does need the clock to be? 
This is not a simple question. See:
My understanding is as follows: if your clock is m minutes behind (m <
60), then Tor won't operate for up to m minutes after fetching
consensus for the first time (m minutes if it fetches at round hour
correct time, less if later), but should operate fine afterwards. If
your clock is up to 3 hours forward, Tor should operate correctly.
Accessing hidden services has stricter requirements (?1 hour?), but
apparently that has been fixed in alpha Tor versions.
Tor developers, feel free to correct me.
I think that Tor could include a switch for ignoring clock correctness
when verifying consensus, but this is apparently an ideological issue.

@_date: 2012-02-21 01:31:12
@_author: Maxim Kammerer 
@_subject: [tor-talk] secure and simple network time (hack) 
What questionable code? HTTP Date: header is standard (RFC 1123).
HTPDate (C version) [1] does a rather good job of maintaining time
from such headers, and with an obvious header parsing vulnerability
fix and some improvements / feature additions [2] it is used in
Libert? Linux without issues. The only downside is lack of https
[1] [2] Does it mean that verification will fail if the clock is several years
behind, for instance?
Does become_nobody() drop group privileges as well? Is operation over
Tor supported (I don't see any proxy handling)?

@_date: 2012-02-22 12:53:05
@_author: Maxim Kammerer 
@_subject: [tor-talk] Scroogle is No More? 
Searching for the message, the following discussion turns up,
suggesting that a blank UA was the culprit once:
Perhaps it's something similar this time. I guess that Ixquick could
add a disclaimer about why privacy-oriented extensions may break the
site ? for the benefit of users who lack the capability of
self-criticism. If anyone feels inclined:

@_date: 2012-02-28 13:51:21
@_author: Maxim Kammerer 
@_subject: [tor-talk] Cannot finish handshake with directory server 
As asked by a commenter, is it known which companies supply the
Tor-focused DPI blocking technology to governments, universities, and
the like? I see two possible directions where such information might
be helpful:
1. Negative publicity directed at the companies (by, e.g., EFF), which
could lower the priority of the relevant projects, as perceived by the
companies' management.
2. Acquiring engineering sources in the companies, who could disclose
DPI methodologies to key Tor developers in advance of their deployment
in company products.

@_date: 2012-01-02 19:40:52
@_author: Maxim Kammerer 
@_subject: [tor-talk] Postfix + Tor (Was: remailers) 
You don't need mail servers for such an infrastructure over networks
like Tor and I2P, where nodes can have persistent addresses ? see
cables communication in Libert? Linux, which sends messages directly
between hidden services / eepsites:

@_date: 2012-01-03 00:55:53
@_author: Maxim Kammerer 
@_subject: [tor-talk] Postfix + Tor (Was: remailers) 
On Mon, Jan 2, 2012 at 23:52, cmeclax-sazri
Installation is documented at
 The init script is
for Gentoo, yes ? it needs to be adapted for each specific
distribution (this is mentioned in the documentation).
No, non-direct routing is not supported by the protocol ? Alice and
Bob will need to be online simultaneously at some point, when the
queued message will be delivered.
Yes, this can be easily achieved by configuring Nginx, FCGI spawner,
and the cables daemon so that separate FCGI services / cables daemon
are used for each user (presumably executed under the relevant user
credentials). Having a single service / cables daemon access multiple
users' private keys and mailboxes is possible to implement, but
problematic from the security perspective.

@_date: 2012-01-03 23:14:56
@_author: Maxim Kammerer 
@_subject: [tor-talk] Real basic questions for linux 
Tor is an infrastructure with a history of being developed and
researched by experts in network security and anonymity. Due to its
unique standing in the congregation of similar networks, Tor attracted
a fair amount of academic scrutiny, which resulted in many refinements
and extensions for resisting various types of attacks, and in
documenting its known weaknesses. While I dislike the excessive
stiffness of the project (RSA-1024? The 90's called, and they want
their ?military-grade encryption? back) and inability to resist the
status quo (what again is the reason for not making nodes relay
traffic by default? beyond you publishing another conference paper on
the oh-so-terrible dangers of that in order to pad your CV, that is),
I trust the Tor project to produce something solid and to not grossly
overestimate its security and anonymity guarantees.
Tor Browser, on he other hand, is just some hack for mangling browser
headers. Who develops it? Who scrutinized it? Were it the same people
who recommended using the unstable and inadequate Polipo proxy
(over-64 MiB files? Nah, never heard of those) instead of
well-established Privoxy previously, due to some imaginary perceived
limitations of the latter (reading manuals is boring, I guess)? Is
there any evidence that Tor Browser prevents fingerprinting which is
marginally more sophisticated than looking at some subset of browser
headers regardless of their order? Or is the joke that is Panopticlick
with its ?bits of identifying information? as state-of-the-art as it
gets (mind you, I was able to fool it with Privoxy rules in Libert?,
masquerading as TBB, although I know that the specific browser in use
can still be fingerprinted differently)? Who cares ? let's ship this
junk in a bundle, and convince everyone of its utmost necessity.
inb4: Yeah, well, that's just, like, your opinion, man.

@_date: 2012-01-04 23:15:50
@_author: Maxim Kammerer 
@_subject: [tor-talk] Hoax? 
How can one even begin to assess a press-release that's essentially an
incomprehensible diatribe? Are these kids writing in their native
language? If the anti-pedophilia hysteria in the USA (relying on
?Patriot to the USA? statement in the text here) is sufficiently
strong to produce this kind of erratic vigilantism, surely the
activists are capable of finding a pro bono editor that would assist
them in properly conveying their message.

@_date: 2012-01-07 06:00:03
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor exit+proxy 
So there is no principal difference from a security standpoint.
Can't find it, can you provide a reference?
There is nothing "good" about the list of Tor exist being available.
It's an unfortunate result of Tor's network design, and not something
that one could easily prevent in any type of anonymizing network, so
why not provide a list of exit nodes upfront? That prevents people
hogging the network with exit node scanners.
Don't see why a Tor user should care about Tor's credibility in this scenario.

@_date: 2012-01-11 10:22:58
@_author: Maxim Kammerer 
@_subject: [tor-talk] Google as default search engine revisited 
The reason Google is the default search engine in Firefox is that
Firefox gets money from Google for putting it as the default search
engine and start page in the Firefox package:
However, by keeping that setting you are compromising the privacy of
the users, since, for instance, Google tracks clicks on the returned
results (it uses redirecting links). DuckDuckGo does that as well. As
far as I am able to tell, ixquick doesn't do that ? at least, I don't
see redirects (but there could be other means of tracking employed,
e.g., via Javascript).

@_date: 2012-01-11 19:09:16
@_author: Maxim Kammerer 
@_subject: [tor-talk] Google as default search engine revisited 
Yes, and I didn't know that DuckDuckGo allows turning redirection off
in the settings and via the URL parameters. Referrer is already
forged, so there is no reason to have a redirect:
 can easily serve as the
default search engine, and can be a default start page (in absence of a dedicated Tor-oriented
one) ? although  seems to
provide results via  for some reason after a
search term is submitted. I guess this is a bug, since without
"?kd=-1&kh=1" DuckDuckGo keeps the .onion address.

@_date: 2012-01-12 20:50:01
@_author: Maxim Kammerer 
@_subject: [tor-talk] Google as default search engine revisited 
The majority of users of Tor Browser want privacy and anonymity ? I
think it makes better sense to focus on that, and not on preference
statistics that are invented on the spot.

@_date: 2012-01-12 22:21:12
@_author: Maxim Kammerer 
@_subject: [tor-talk] Google as default search engine revisited 
I am referring to something specific: the redirection URL that Google
puts in its search results pages in order to track which results
people click on.
Does Tor Browser prevent Google from determining which sites Tor
Browser users go to from search result pages (as opposed to which
search queries they execute)? That is, there are relevant addons for
removing the tracking ? does Tor Browser include them?
Moreover, if I would take a guess about one company doing a
state-of-the-art user fingerprinting (i.e., one that can bypass the
measures taken in TBB), that company would be Google.
Again, are there any statistics w.r.t. users' trade-off preferences of
privacy vs. search engine quality, that have not been invented on the
Did you actually look in Tor Browser source code? I did examine the
older Torbutton code, and specifying a different search engine would
not be a maintenance burden.

@_date: 2012-01-13 00:20:35
@_author: Maxim Kammerer 
@_subject: [tor-talk] Google as default search engine revisited 
Google can also potentially use its ?suggest? feature (on which
?instant? is based) to deanonymize users:
 In this sense, users'
arguable preference for Google products can be construed as a reason
to *not* use Google as a default search engine in privacy-oriented
products. I doubt that Google uses keystroke dynamics at the moment,
but one should always remember this corporation's official position of
disregarding user privacy:
? People are treating Google like their most trusted friend. Should
they? (Mario Bartiromo, CNBC)
? If you have something that you don't want anyone to know, maybe you
shouldn't be doing it in the first place. (Eric Schmidt, Google CEO)
[Dec. 3, 2009]

@_date: 2012-01-14 04:54:00
@_author: Maxim Kammerer 
@_subject: [tor-talk] Google as default search engine revisited 
Let's skip the pissing contests.
How many users? Were those users made aware of privacy / results
quality trade-offs? It is already known that Google is the most
popular search engine otherwise.
Do I need to trust Google in order to use Tor Browser in its default
It doesn't mean that all search engines fare equally well w.r.t. Tor
Browser users' privacy and anonymity.
But can it search?

@_date: 2012-01-20 21:06:05
@_author: Maxim Kammerer 
@_subject: [tor-talk] tor-bundle , ssh , torsock howto ? 
tsocks/torsocks is an LD_PRELOAD hack (with the supposedly safer
torsocks spouting out unnecessary warnings), so it is better to avoid
using them when possible.
ssh supports proxification via an external program. Specify
  ProxyCommand /usr/bin/connect -S 127.0.0.1:9050 %h %p
in your ~/.ssh/config (substituting 9050 with the Tor SOCKS port), and
install or manually compile the "connect" proxy:
 (net-misc/connect
package in Gentoo, connect-proxy in Debian).

@_date: 2012-01-25 23:29:58
@_author: Maxim Kammerer 
@_subject: [tor-talk] Fwd: ANONdroid 
Can any of you clarify this please? JonDonym's Wikipedia page [1]
claims that no backdoor was ever installed in running MIX routers.
What can be done to JonDonym (software or network) that can't be done
to Tor?
[1]

@_date: 2012-01-26 10:14:56
@_author: Maxim Kammerer 
@_subject: [tor-talk] Fwd: ANONdroid 
I read the replies and that page ? guessed that ?backdoor? is meant
metaphorically, but thought that perhaps there was an additional
technical aspect. What's written there is quite obvious ? law
enforcement can serve anyone in its jurisdiction a surveillance order.
The IPs of Tor relays are known, so the owners of the relays in
question can be served with an order just the same. I don't see the
principal difference.
Do you mean the added legal liability of being a certified MIX operator?

@_date: 2012-01-26 10:35:20
@_author: Maxim Kammerer 
@_subject: [tor-talk] Fwd: ANONdroid 
If the Greek wiretapping case, switches were backdoored, so Skype
calls wouldn't be intercepted, as they are encrypted end-to-end
(discounting special cases where Skype struck a wiretapping deal with
some government ? was it Pakistan?).
So there is no difference from Tor?
I see, so is that an optional feature that can be turned on by a MIX
router operator once served by a surveillance order? It seems to me
that it's an advantage over Tor, where relay operators can be served
with an order and some Tor patches that they wouldn't be able to turn
down to to the absence of a similar feature in Tor. Revocable
Anonymity seems to be designed to provide the minimum necessary
information to law enforcement.

@_date: 2012-07-06 14:37:51
@_author: Maxim Kammerer 
@_subject: [tor-talk] Transparent e-mail encryption? 
If you do not require interoperability with SMTP, cables communication
[1] does what you require ? encryption and authentication are
transparent, and server issues can be ignored, since there are no
servers. Cables communication also has delivery verification and other
features. Note that PGP / S/MIME-type encryption is undesirable for
most users, since it ties authentication to non-repudiability [2].
[1] [2]

@_date: 2012-07-06 19:53:24
@_author: Maxim Kammerer 
@_subject: [tor-talk] How to pin the SSL certificate for torproject.org? 
Try the following commands on each of the certificates in the chain:
openssl x509 -in cert.pem -noout -text -pubkey

@_date: 2012-07-09 01:42:46
@_author: Maxim Kammerer 
@_subject: [tor-talk] Custom Hidden Service Name? 
On Mon, Jul 9, 2012 at 12:35 AM, Fabio Pietrosanti (naif)
Yes, see the following thread:

@_date: 2012-07-18 17:25:53
@_author: Maxim Kammerer 
@_subject: [tor-talk] [Tails-dev]  secure and simple network time (hack) 
After pondering about extending tlsdate for a while, I see no reason
to use tlsdate instead of htpdate at the moment (or, possibly, ever).
There is a difference between thinking of and experimenting with a
gimmick, and using it as a replacement for a robust method of time
Motivation behind tlsdate is incorrect:
1. Extracting the HTTP Date: header is not a ?nightmare? ? it is easy,
standards-compliant, and safe. If anything, TLS is much harder to get
right (see issue  on GitHub, for instance ? tlsdate is currently
susceptible to a MITM attack).
2. The latency due to receiving HTTP headers is negligible when
compared to the latency of a TLS handshake.
3. Nothing is gained by restricting the application layer to TLS ? the
reverse is true, since, e.g., using HTTP instead of HTTPS to reduce
latency is not possible anymore.
4. tlsdate either leaks local clock in ClientHello, or is not
standards-compliant (currently, it leaks the local clock); the user
cannot disable TLS to avoid that.
Additionally, tlsdate lacks important features:
6. It cannot run as a daemon with clock skewing and hosts rotation.
7. There is no explicit proxy support.
Once / if these features are implemented, tlsdate will only provide
part of the functionality of htpdate (since TLS is forced), and will
not have any advantages over it (perhaps besides the possibility of
using non-HTTP(S) servers).
I also wonder whether Chrome OS's usage of tlsdate is confirmed by
Google, or this information comes from a single pull request on
GitHub. In any case, I suspect that Chrome OS developers did not
properly explore the available time setting options.

@_date: 2012-07-23 00:42:42
@_author: Maxim Kammerer 
@_subject: [tor-talk] torsocks, usewithtor, 
Why? I was under impression that "torify" is still the generic wrapper.
Anyway, let's summarize briefly, since proliferation of related
scripts is indeed confusing:
  + tsocks: LD_PRELOAD=libtsocks.so hack for tunneling TCP via SOCKS
  + torsocks (supercedes tsocks): LD_PRELOAD=libtorsocks.so hack, as above
  + libtsocks.so: reads TSOCKS_CONF_FILE
[default=/etc/socks/tsocks.conf] (and _USERNAME/_PASSWORD, etc.)
environment variables
  + libtorsocks.so: reads TORSOCKS_CONF_FILE
[default=/etc/torsocks.conf], as above
  + tsocks (tsocks package): runs command with LD_PRELOAD=libtsocks.so
  + torsocks (torsocks package): runs command with LD_PRELOAD=libtorsocks.so
  + torify (tor package): runs torsocks if available, otherwise runs
tsocks with TSOCKS_CONF_FILE=/etc/tor/tor-tsocks.conf
  + usewithtor (torsocks package): runs torsocks with (redundant)
So, for instance, the following commands are equivalent (ignoring that
tsocks is outdated, and assuming similar /etc/tor/tor-tsocks.conf and
  + TSOCKS_CONF_FILE=/etc/tor/tor-tsocks.conf
LD_PRELOAD=/lib/libtsocks.so curl -x "" cmyip.com
  + TSOCKS_CONF_FILE=/etc/tor/tor-tsocks.conf tsocks curl -x "" cmyip.com
  + ln -sf /etc/tor/tor-tsocks.conf /etc/socks/tsocks.conf &&
LD_PRELOAD=/lib/libtsocks.so curl -x "" cmyip.com
  + ln -sf /etc/tor/tor-tsocks.conf /etc/socks/tsocks.conf && tsocks
curl -x "" cmyip.com
  + LD_PRELOAD=/usr/lib/torsocks/libtorsocks.so curl -x "" cmyip.com
  + torsocks curl -x "" cmyip.com
  + usewithtor curl -x "" cmyip.com
To me it seems like "usewithtor" should be removed from torsocks
package (its warning for missing /etc/torsocks.conf is duplicated by
libtorsocks.so anyway), "torsocks" is fine as a torsocks package-owned
abstraction for LD_PRELOAD, and "torify" is the tor package-owned
wrapper that should be used by applications.

@_date: 2012-07-23 01:18:22
@_author: Maxim Kammerer 
@_subject: [tor-talk] torsocks, usewithtor, 
Seems so:
  ?Now, it's just a backwards compatible shim around torsocks with
reasonable behavior if -v/--verbose or -h/--help arguments are
I think it should stay, since there are probably quite a few scripts
relying on "torify". "usewithtor" still comes out as rather useless,

@_date: 2012-07-23 03:31:29
@_author: Maxim Kammerer 
@_subject: [tor-talk] torsocks, usewithtor, 
# strings /usr/lib/torsocks/libtorsocks.so | grep CONF
Note ? in my previous email, all information was extracted from actual
scripts and libraries, not from manuals. All commands were also

@_date: 2012-07-23 03:49:55
@_author: Maxim Kammerer 
@_subject: [tor-talk] torsocks, usewithtor, 
"usewithtor" has no features ? it just invokes "torsocks", after
possibly interfering with user's TORSOCKS_CONF_FILE setting. The
warning message that it prints for missing /etc/torsocks.conf is
printed by libtorsocks.so anyway.
Not that "torsocks" is much better:
# torsocks zzzz
which: no zzzz in
ERROR: zzzz is setuid. torsocks will not work on a setuid executable.
(and "which" is not available on all platforms ? e.g., "torify" does
not use it).

@_date: 2012-06-27 11:09:22
@_author: Maxim Kammerer 
@_subject: [tor-talk] [Bitcoin-development] Tor hidden service support 
On Wed, Jun 27, 2012 at 9:33 AM, Fabio Pietrosanti (naif)
I hope not ? there is no reason to replicate the misguided packaging
design of Tor project's various ?bundles? elsewhere.
Unfortunately, this addressing scheme apparently cannot accommodate
other anonymous networks, such as I2P, that uses 256 bits for its
Base-32 addresses.
The .onion ? IPv6 mapping is a bijection, the unique local IPv6
address represents the same information. It apparently even complies
with the RFC, as .onion addresses satisfy the randomness requirement.

@_date: 2012-06-27 12:44:25
@_author: Maxim Kammerer 
@_subject: [tor-talk] [Bitcoin-development] Tor hidden service support 
That's the motivation, but not the reason for the misguided packaging
design. You can make a single installer that installs several packages
that are not ?locked? into the bundle, but that requires some
foresight and competence.

@_date: 2012-06-27 13:34:01
@_author: Maxim Kammerer 
@_subject: [tor-talk] [Bitcoin-development] Tor hidden service support 
It can be probably solved on the I2P side. The 256-bit address is a
SHA-256 of the full 3072-bit address (2048-bit public key + 1024-bit
signing public key) + a few extra bytes. I guess that I2P could
support a shorter hash for unique local IPv6 mappings ? say, 95 bits.

@_date: 2012-06-27 13:46:56
@_author: Maxim Kammerer 
@_subject: [tor-talk] [Bitcoin-development] Tor hidden service support 
Portable apps bundle all runtimes that they need, but it does not mean
that a normal install needs tight coupling between the components. TBB
could install an independent, separately upgradeable Tor package, and
still satisfy the necessary security requirements. There is nothing
special about TBB (it's a glorified Firefox patchset) ? the bundle
approach is the same old ?thanks everyone else for investing the time
to create interoperable packages of your software, but now we are
going to create a solid bundle, because it's easier, and because we
are special?.

@_date: 2012-06-27 15:50:47
@_author: Maxim Kammerer 
@_subject: [tor-talk] [Bitcoin-development] Tor hidden service support 
Unique local IPv6 prefix is 7 bit, and 95 bit for the hash leaves 26
extra bits in IPv6 to avoid issues with any other mapping ? looks
about right to me. Also, base-32 addresses are optimal with
multiple-of-5 bit counts.
Sure, I had some truncation method in mind, or even plain truncation
like Tor does (but ? didn't see any second-preimage attack resistance
analysis of plain SHA-1 80-bit truncation in Tor specs).
That's computationally infeasible (essentially what Bitcoin relies on).

@_date: 2012-03-03 15:00:51
@_author: Maxim Kammerer 
@_subject: [tor-talk] Operating system updates / software installation 
I see this claim made all the time ? is it actually true? Is Tor
designed to withstand active attacks where Torified applications try
to discover the real IP?

@_date: 2012-03-07 01:18:01
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor and HTTPS graphic 
While this may be true in the theoretical sense, it doesn't mean that
one can't make correlation attacks less practical. I find it hard to
believe that right now NSA, for instance, has Tor traffic analysis
tightly integrated into its worldwide communications sniffing
framework, simply because it's too much of a logistic problem, and
anonymous networks are unlikely to be sufficiently high-profile
targets so as to warrant expending the resources to deal with the
logistics (yet). But I think that it is entirely believable that NSA
has a dedicated project (even if only for research purposes) where the
traffic from all known relays (a relatively stable pool of ~3000
nodes?) is sniffed and analyzed ? that would be relatively simple to
setup and maintain, given the unlimited interception capabilities. And
you can combat the latter ? by extending and popularizing the entry
bridges concept, implementing exit bridges, making all clients relays
by default (even if that won't contribute significant bandwidth), etc.

@_date: 2012-03-07 03:21:11
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor and HTTPS graphic 
Using $ grep 2012-03-05 relaycountries.csv | cut -d, -f2-3 | tr , ' ' | sort
-rn -k 2 | grep -v ' [0-9]$' | pr -t4
us 778            it 42             dk 24             ro 15
de 507            at 40             no 21             il 15
fr 170            cz 38             lt 21             ar 12
ru 169            pl 33             sc 20             br 11
nl 166            fi 33             lu 20             sk 10
zz 138            ch 33             es 17             nz 10
se 111            au 29             hu 16             gr 10
gb 107            ua 28             be 16             bg 10
ca 80             jp 24
is satellite or unclassified, and with the exception of Russia) are
NATO countries or similar, sharing electronic intelligence with the
USA. Russia is a potential war adversary, so its communications
interception is high-priority for the USA as well. In summary, the
traffic channels of absolute majority of Tor relays (Internet
backbones and satellite links) are easily accessible by the US
intelligence agencies. Intercepting and correlating all Tor traffic is
thus a question of willpower and resources prioritization, not

@_date: 2012-03-07 16:43:03
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor and HTTPS graphic 
I think that's quite unlikely. The nodes must reside in commercial
data centers and run untrusted software (including necessarily
modified Tor clients), all of which exposes them to hacking risks and
to the resulting possibility of discovering the interception framework
employed (which is probably not unique to Tor, so that's a huge risk).
But one could try correlating Tor relays and Tor clients growth graphs
since, say, 2000 ? if at some point there was a sharp growth in
USA-located relays without a corresponding growth in total clients,
and if those relays have similar bandwidth / data center quality
capabilities, then that could be "The Man".

@_date: 2012-03-07 23:07:40
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor and HTTPS graphic 
I think that it is important to differentiate national security and
law enforcement here. It is unlikely that agencies like the FBI and
its worldwide counterparts can break Tor anonymity. For instance,
public in USA is particularly hysterical about issues such as
pedophilia, yet FBI is apparently unable to locate members of
pedophile networks who use Tor ? see National security agencies, on the other hand, have to think about the
?big picture?, and would not put their methods of work in danger of
disclosure by running software that they don't trust (Tor) in
locations that they don't completely control (geographically variated
commercial data centers), or indulge in otherwise risky behavior
(routing tricks and the like, which can be discovered by regular
Although I doubt that US agencies had anything to do with that relays
number spike, it could be a simple attempt to aid opposition in Iran
(i.e., not to introduce rogue nodes that leak information for later

@_date: 2012-03-22 16:07:25
@_author: Maxim Kammerer 
@_subject: [tor-talk] Designing a secure "Tor box" for safe web browsing? 
I implemented that approach once for the purpose of running unsafe
browser ( executing
an already-running image inside a nested QEMU. It's a nice exercise,
but too demanding on resources, and ultimately pointless (personal
VMware does (didn't check whether it or VirtualBox supports reading that back):

@_date: 2012-03-26 18:12:41
@_author: Maxim Kammerer 
@_subject: [tor-talk] Designing a secure "Tor box" for safe web browsing? 
Well, Intel VT / AMD-V virtualization extensions are rarely available
on laptops, and without these extensions (accessible, e.g., via KVM),
running a virtualized instance is extremely slow (startup time is also
very high if only doing that for specific applications, even with
KVM). There are also RAM requirements ? how much do you allocate? This
needs to be decided in advance, regardless of how much memory the user
needs for performing the task in the VM.
Relying on such (intrinsically complex) VM separation for security of
specific applications means that you don't trust your system to
perform basic tasks like user privileges separation (e.g., when unsafe
browser is run under dedicated user credentials). This is somewhat
contradictory. For tasks like abstracting network interfaces and other
hardware, the user can run everything in a VM by themselves ? why
force it on everyone? For approaches like Qubes OS, see my comment
here:

@_date: 2012-03-30 04:52:40
@_author: Maxim Kammerer 
@_subject: [tor-talk] Choosing a name for a .onon 
Due to proliferation of Bitcoin, there are now very efficient SHA-256
generators for off-the-shelf GPUs. The numbers at [1] suggest
performance that's at least two orders of magnitude faster than your
laptop ? and for double-SHA-256 instead of a single SHA-1 (which I
assume can be done by the same software after some simple adaptation).
[1] Not necessarily ? you can generate the hash first, and then check
whether the public key is legal. I.e., generate a 512-bit prime p, and
then go on with producing a completely random 512-bit e, and checking
whether SHA-1(ASN.1-RSAPublicKey(modulus=p*e, exponent=65537)) (which
is how Tor computes the .onion address) produces the desired result.
If it does, check whether e is prime. Density of primes in the range
of e is ~1/512, so that's just 9 bits more of search space, and
primality checking efficiency doesn't matter much.

@_date: 2012-03-30 06:39:59
@_author: Maxim Kammerer 
@_subject: [tor-talk] Choosing a name for a .onon 
For some reason I thought that that would produce non-standard RSA
keys, perhaps because the old ssl-genrsa only supported e={3,65537}
(whereas the new ssl-genpkey doesn't have this limitation). Isn't the
point of e like 3 or 65537 (with few bits set) to make encryption
fast? Do you know whether Shallot-produced RSA keys have any
noticeable detrimental effect on relays load because of the
unrestricted exponent?
Sure, but you don't have to do it in the most straightforward way. You
can multiply once, and then add 2p for each hash. The overhead for a
GPU / FPGA implementation should be negligible, and the search can be
parallelized as well. If adding large multiples of p, the nodes can be
untrusted, too, I guess.

@_date: 2012-05-11 15:21:28
@_author: Maxim Kammerer 
@_subject: [tor-talk] Basic questions from new user but... 
Javascript atacks are, however, out of the scope for anonymity
research. The anonymity set reduction above, while purely theoretical
and of no practical significance, is in that scope. It's a typical
case of project focus shifting priorities to user's disadvantage.
Moreover, if many users turn Javascript off often, it is quite
possible that turning it off offers more (theoretical) anonymity due
to the possibility of fingerprinting users' browser versions by
browsers' respective Javascript quirks.
It is not possible ? anonymity set reduction only shifts your
anonymity towards pseudonymity. I would guess that most browser users
do not need true anonymity, however, and are fine with pseudonymity.

@_date: 2012-05-14 01:25:54
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor Browser disabling Javascript anonymity set 
First, I would like to say that I agree that Javascript and other
popular features (e.g., CSS, HTML5 video) need to be enabled by
default, since this is what the users expect. It is not 1995 outside,
and regular web browsing should include the usual capabilities
expected of it. Not talking here about non-standard, insecure and
outdated hacks like Flash that need to die, of course.
All these frequent discussions about Javascript etc., however, revolve
around an inherent conflict of interest. You (in general ? i.e., the
Tor project) want to attract a large userbase that will benefit the
Tor network as a whole, and yet there is a sizable core group of users
who require strong anonymity (not pseudonymity). Yet, by actually
defining the anonymity set as one using those popular features, you
basically force that core group to shift from anonymity towards
pseudonymity once they selectively or completely block Javascript,
install ad blockers, disable HTML5 extensions, etc. All that while the
large userbase you want to bring in would be content with
pseudonymity, yet you do not want them to block ads, for instance.
So why not provide two profiles for the groups? I.e., a Torbutton-like
interface, but one switching between the two profiles. The regular
profile is as TBB is now, with a whitelist of approved addons (like
Ad-Block Plus, I guess), which can update and change their internal
state (e.g., filter lists) whenever they want. The hardcore profile
uses a carefully restricted subset of HTML, CSS, Javascript, etc.,
with a hard-coded list of addons and their internal state. If some
site doesn't work, the user has a choice to switch to the normal
profile, but will in that case be aware that his anonymity is most
likely less anonymous and more pseudonymous now.
Otherwise, this continuous patching of an inherently non-anonymous
solution seems like a task of Sisyphus to me. Consider a site that
follows user's mouse movement and other unique behavior, and then
classifies users by that data, for instance. Once some grad student
implements this approach, and thousands of sites adopt it as a
reliable fingerprinting technique, what will you do?

@_date: 2012-05-28 00:07:58
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor + VPN + DNS (?) 
Yes, and with plain Tor setup you don't need local DNS resolution at all.

@_date: 2012-11-03 14:16:23
@_author: Maxim Kammerer 
@_subject: [tor-talk] torsocks is broken and unmaintained 
inb4 incoming stream of Debian-centric patches: please be wary of
glibc differences:
Wrt. this specific bug, perhaps you will want to use Anthony Basile's
solution instead of the patch in Debian:

@_date: 2012-11-04 22:03:48
@_author: Maxim Kammerer 
@_subject: [tor-talk] Can I trust Tormail 
You (or they) can't be serious. From [1]:
?Up until two months ago, the domain was registered with a USA
company, Moniker domains. They were great and we had no problems with
them, but with the recent domain seizures we decided to move the
domain offshore. It appears this was a big mistake, the Russian
providers are much worse!?
Tormail is apparently just a couple of naive American kids.
[1]

@_date: 2012-11-05 22:38:25
@_author: Maxim Kammerer 
@_subject: [tor-talk] Can I trust Tormail 
I understand that the quoted message was published on Tormail site at
 at the time (don't see any evidence to
the contrary). In the message, Tormail admins say that they moved to a
Russian registrar due to a perceived threat of domain seizures in the
US. This shows serious lack of judgement, and impulsive behavior. The
?American? qualifier is only a guess of mine, based on the US-centric
view and behavior above (i.e., US-centric ideology-specific news ? US
is perceived as ?bad? ?  countries the person are ignorant of must be
?good?). In any case, this doesn't really matter ? my point was that
the idea that Tormail is managed by any competent intelligence agency
is ridiculous, since they wouldn't disrupt the service in a way that
would risk fleeing userbase as a consequence.

@_date: 2012-11-06 01:10:15
@_author: Maxim Kammerer 
@_subject: [tor-talk] Can I trust Tormail 
I don't understand. You and adrelanos are pretending not to understand
a very simple point that I wrote explicitly and clearly. Why? Do you
think that ?they did it on purpose? is not an obvious first response?
I wrote why I think that a competent intelligence agency wouldn't pull
off something like that, and why. If you want to imagine them as some
omniscient entities as shown in the movies ? fine, but please leave
the demagogy out of the discussion.

@_date: 2012-11-20 19:30:29
@_author: Maxim Kammerer 
@_subject: [tor-talk] Trouble with signal newnym 
I am tired of seeing this remark every time NEWNYM is discussed.
Unless I missed something in the specs, new circuit means a new IP in
most cases. The issue is circuits reuse and/or a bug in Tor, judging
from the frequency of this issue being brought up.

@_date: 2012-11-21 13:24:06
@_author: Maxim Kammerer 
@_subject: [tor-talk] Trouble with signal newnym 
When someone complains that they get same IP after issuing NEWNYM, it
is a sure sign of circuit reuse (or a bug in Tor). It is different
from infrequently getting same exit node on unrelated circuits.

@_date: 2012-11-21 14:01:43
@_author: Maxim Kammerer 
@_subject: [tor-talk] Trouble with signal newnym 
I understood it as implying that a new circuit does not guarantee a
different exit node IP, and hence why the OP might be seeing same exit
IPs. Which is apparently not the problem here, as the OP is reusing an
old circuit despite establishing new circuits via NEWNYM (which most
likely differ in exit node IPs).

@_date: 2012-10-06 23:28:21
@_author: Maxim Kammerer 
@_subject: [tor-talk] [tor-dev] resistance to rubberhose and UDP questions 
Did you check that the volume key (shown with cryptsetup luksDump
--dump-master-key) is not stored in RAM by cryptsetup or by the kernel
anyway? I just tested with aes-xts-plain64, and the key appears in
QEMU's memory dump in 3 locations after the encrypted volume is

@_date: 2012-10-07 00:37:38
@_author: Maxim Kammerer 
@_subject: [tor-talk] [tor-dev] resistance to rubberhose and UDP questions 
This is irrelevant to my example.
I see now ? so they break the assumption that one needs to provide a
correct password to open a volume in LUKS after it is closed, for

@_date: 2012-10-15 13:14:31
@_author: Maxim Kammerer 
@_subject: [tor-talk] Location-aware persistent guards 
Lately, the question of persistent Tor entry guard nodes in live
distributions has been raised in a few places. Typically, the
conclusion is that /var/lib/tor/data should be made persistent. I see
it as problematic, since a live distro can be expected to be moved
around more frequently than a typical desktop, or even a laptop. If we
consider the current 882 Guard+Fast+Stable nodes in Tor consensus as a
rough (or perhaps exact, not sure) estimate of nodes that can be
selected as guards by Tor clients, then there are ~114M possibilities
for selecting 3 guards, which, essentially, uniquely identifies a Tor
user to a close traffic observer.
In last comment in [1], Roger says that location-aware ?profiles?
would be nice, but difficult to implement safely. I don't see any
problem with implementing such profiles, and think that the
implementation can be even safer. It's pretty simple, actually: keep a
secret persistent cookie, then upon Tor startup, concatenate it with
the current public IP (or, say, its /24 part), use the result as a
salt for hashing candidate guard nodes fingerprints, then sort and
take the top 3. The additional benefit is that an attacker who gains
access to Tor persistent state will not know which guard nodes were
used without knowing an IP (although, a global observer might still
iterate over all IPs that connected to Tor). There is a minor
bootstrap issue of finding out the public IP (does this require an
existing circuit at present?).
Comments? Also, is making just /var/lib/tor/data/state persistent
(instead of the whole directory) enough at the moment to have
persistent guards?
[1]

@_date: 2012-10-15 21:20:06
@_author: Maxim Kammerer 
@_subject: [tor-talk] Location-aware persistent guards 
Thanks, I must have read this ticket some a year or so ago ? explains
the identical sorting approach (forgot about weighting). Strangely,
though, I don't see an option to add myself to CC.
A simple extension along the lines of what you wrote in the first
comment would work fine, no? E.g., Sort a list by H(seed | nodeID |
<1...w_nodeID>), where w_nodeID is the corresponding weight,
approximated to an integer using some granularity setting, and take
the top 3 distinct nodeIDs. With persistence, you can also ignore
nodeIDs newer than the seed's timestamp, although not doing that is
not critical.

@_date: 2012-10-15 21:22:41
@_author: Maxim Kammerer 
@_subject: [tor-talk] Location-aware persistent guards 
How would you factor in changing guards after a while?

@_date: 2012-10-16 15:06:22
@_author: Maxim Kammerer 
@_subject: [tor-talk] registration for youtube, 
Receiving an SMS via the SMS-REG service, for instance, is 10 RUR ?
$0.33, as far as I know.

@_date: 2012-10-16 21:44:52
@_author: Maxim Kammerer 
@_subject: [tor-talk] registration for youtube, 
SMS-verified GMail accounts: $100 per 1k. Non-SMS-verified GMail
accounts: $95 per 1k. (Annoying millions of users by ignoring their
desire for privacy: priceless.)
Looks like spammers don't value your phone verification efforts too much.

@_date: 2012-10-16 22:31:26
@_author: Maxim Kammerer 
@_subject: [tor-talk] registration for youtube, 
It's not Tor's problem to solve. Both common sense and actual research
[1] suggest otherwise. Tor only needs to steadily increase its
popularity and teach users not to link their real identities to online
activities. Service providers will then need to adapt their business
models or lose users, and as a result, customers (advertisers in your
[1]

@_date: 2012-10-17 19:08:52
@_author: Maxim Kammerer 
@_subject: [tor-talk] Review request: TorVM implementation in Qubes OS 
FWIW, Libert? uses UTC for /etc/localtime, but user-level timezone
(initially also UTC) can be customized via the custom ?Language and
Time Zone? applet that sets user's TZ environment variable [1].
[1]

@_date: 2012-10-20 22:04:35
@_author: Maxim Kammerer 
@_subject: [tor-talk] help us:Korean government started to fine netizen 
I think it should be pretty obvious that ?child pornography without
child? is an unfortunately bad translation of an idiom in Korean that
probably means something like ?pornography which is incorrectly
labeled as CP?. Nevertheless, I enjoyed reading Julian's response,
since, him apparently being from UK, his attitude reminded me of the
following old story:

@_date: 2012-09-17 15:45:11
@_author: Maxim Kammerer 
@_subject: [tor-talk] Hidden Services 
Judging from the Rendezvous spec [1, ??1.3, 1.4, 1.6], a relay with an
HSDir flag (?40% relays at the moment) will eventually see all online
.onion descriptors (placed in ?cached-descriptors? file?). If I read
the spec correctly, the mean time for a single HSDir relay to see a
given .onion descriptor is ((# of HSDir relays) / 6) hours, which is 8
days at present. So running a relay for a couple of months should
produce a nearly complete list of hidden service addresses, optionally
with some indicative access statistics [1, ?1.6].
[1]

@_date: 2012-09-18 18:44:30
@_author: Maxim Kammerer 
@_subject: [tor-talk] onion id calculation 
That code comes from another thread that you missed:
# Tor hashes ASN.1 RSAPublicKey instead of SubjectPublicKeyInfo,
# which contains RSAPublicKey at offset 22; it then converts the
# first half of SHA-1 hash to Base32

@_date: 2012-09-20 15:52:38
@_author: Maxim Kammerer 
@_subject: [tor-talk] Hidden Services 
You could try reading the comments in this discussion. Mean time to
seeing an .onion descriptor on an HSDir relay is 8 days at present. In
light of that, arguments for / against publishing crawled addresses
are meaningless, regardless of privacy expectations.

@_date: 2012-09-20 20:57:05
@_author: Maxim Kammerer 
@_subject: [tor-talk] Hidden Services 
You are right, I didn't read ?1.3 of the spec carefully enough. Hidden
service public key inside the descriptor is hashed.

@_date: 2013-04-12 09:29:10
@_author: Maxim Kammerer 
@_subject: [tor-talk] secure and simple network time (hack) 
Did you test the following configuration: user boots behind a
restrictive Wi-Fi portal, then after 5 minutes logs into the portal,
establishing full connectivity?
Maxim Kammerer
Libert? Linux:

@_date: 2013-04-12 14:43:13
@_author: Maxim Kammerer 
@_subject: [tor-talk] [Tails-dev] secure and simple network time (hack) 
Just discovered that tlsdated in tlsdate-0.0.6 is dying with a
segmentation fault after a while. Not surprised after seeing the code
? my experimentation with this gimmick is finally over. Turns out that
?throw something together and wait for patches? is not a sound
development approach.
Maxim Kammerer
Libert? Linux:

@_date: 2013-04-18 20:19:15
@_author: Maxim Kammerer 
@_subject: [tor-talk] [Tails-dev] secure and simple network time (hack) 
There are now apparently enough openly accessible and stable
authenticated NTP servers around to rely on them in a distro. The
problem is that authenticated NTP protocol (more precisely, its
asymmetric crypto Autokey variant) does not support NAT traversal in
either the server *or* the client, since both IP addresses are signed.
I guess the reason is that NTP has no clear distinction between client
and server.
Maxim Kammerer
Libert? Linux:

@_date: 2013-04-30 12:23:27
@_author: Maxim Kammerer 
@_subject: [tor-talk] Tor's reputation problem with pedo, 
I have recently done an interview for the Russian news portal Lenta.ru
[1], covering Tor and online anonymity and security, and I tried to
make this point clear (third and fourth questions). So someone who
considers such PR important is free to translate and lift the relevant
parts for, e.g., Wikipedia.
[1] Maxim Kammerer
Libert? Linux:

@_date: 2013-02-13 06:41:32
@_author: Maxim Kammerer 
@_subject: [tor-talk] Email provider for privacy-minded folk 
Don't say... Do you approve of ?a vanguard strategy for revolution??
Or support ?the idea that class oppression supersedes race or gender
oppression?? This is serious stuff!

@_date: 2013-02-22 22:45:24
@_author: Maxim Kammerer 
@_subject: [tor-talk] [Tails-dev] Tails Mac support [Was: Training 
Don't you already regret basing Tails off a binary distro like Debian?
I mean, updating TODO lists once in a while and making ?plans? sounds
fun and all, but not only are you completely dependent on an upstream
distro's features implementation cycle ? you are missing the
opportunity to learn new things while implementing those features
yourself. I mean, Libert? was the first Linux distro to ship with a
UEFI Secure Boot-based trusted boot chain ? do you think you will ever
be able to say something of the sort about Tails? Open Source
development is supposed to be exciting, not this? bureaucracy.

@_date: 2013-02-25 22:10:49
@_author: Maxim Kammerer 
@_subject: [tor-talk] [Tails-dev] Tails Mac support 
I really don't know why the moment I mention something about Debian,
people get very defensive and assume I don't know something. Debian is
nothing special, it's just a binary distro that requires no
understanding to use ? the reason it's a base for so many forks,
including Ubuntu. The only reason people get defensive is pure
rationalization due to being vested in Debian ? like with that
certificates fiasco, which, were it to happen to any less popular
project or company, would result in its ridicule and eventual death
(e.g., DigiNotar).
Now, of course what I wrote is correct. For instance, you don't, and
won't have UEFI support until Debian community decides to implement it
in a way they see fit. Moreover, due to not gathering experience while
working on said support, you will have nothing to do with the
solution, once it's ready. Same with so many other things. You accept
bug reports and maintain related bug / todo pages, knowing full well
in advance that this leads nowhere. This also misleads users, e.g., I
have seen someone on Twitter mention your earlier message about UEFI,
applauding the apparent progress, while in reality you are just
rehashing the same old information.
Gentoo is not about ?compiling binaries yourself?. Gentoo is a
source-based highly flexible meta-distribution, each component of
which can be easily changed and adapted to specific needs. Gentoo is
as close as one gets to LFS, without having to actually do everything
manually and while keeping decent package management. You wouldn't
understand the advantages just from the description, because in boring
distributions like Debian the developer is still a ?user? ? you need
to go out of your way to modify system behavior. Debian does not
encourage understanding and experimenting. E.g., I remember you, or
one of the other Tails people asking on IRC: what good is ASLR?
Indeed, how would you know, if the distro you use discourages users
from deviating from stock kernels, to the point where you would
initiate a long bureaucratic process for changing a single trivial
kernel setting that is needed for Tails?
You have no idea what you are talking about. Whenever you *do stuff*,
instead of waiting for someone else to do it, while engaging in
useless ?community relationships?, that someone will usually end up
actually using the results of your labor. With UEFI, it's just too
funny ? you will likely end up using sbsigntool directly or indirectly
(which is already used in Ubuntu), which contains my patches, which I
added because I needed sbsigntool working properly in Libert?. Oh, and
I learned something new, which was great. But I guess that waiting for
stuff to happen is just as exciting.
Without being able to quantify that statement, it is just another
politically correct contentless propaganda. I have read some Tails
monthly reports, and items they are composed of are of the kind that I
usually don't even copy from git commit messages to the changelog file
in Libert?. I mean, it's nice to see people touting Tails features
that were copied from Libert? (like unsafe browser [1], or memory
erasure on boot media removal, or clock setting / whatever else), but
from my point of view, you don't do anything interesting (so I nearly
stopped following your project), which is a shame, hence my replies
ITT. Think about what benefits your project. If you do hard stuff, you
attract other people who can do hard stuff, whereas otherwise you
attract people who know how to tweak settings / apply patches, and not
much else.
[1]

@_date: 2013-01-12 18:11:40
@_author: Maxim Kammerer 
@_subject: [tor-talk] Gmail and Bitcoin? [OT] 
What they neglected to mention is that only ~5$ of that price tag is
due to SMS activation. Google account's value comes from overall
tracking of users, not just anti-spam verification, so I doubt they
would find any anonymous deposits scheme valuable for the company.

@_date: 2013-01-15 05:18:48
@_author: Maxim Kammerer 
@_subject: [tor-talk] Project idea: TorBox 
As usual, one guy who knows what he is doing does something better and
faster, without funding, than yet another endless ?collaborative?

@_date: 2014-07-05 11:56:22
@_author: Maxim Kammerer 
@_subject: [tor-talk] [liberationtech]  messing with XKeyScore 
The rules were written between August 2011 and (likely upper bound)
February 2012; they are also rather sloppy:
