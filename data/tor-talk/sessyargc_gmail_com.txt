
@_date: 2012-10-11 09:57:19
@_author: RgC 
@_subject: [tor-talk] warning in notice log 
Hi all,
I was running a non-exit relay a while back. It is now down for maintenance and other reasons.
I ran bleeding edge tor 0.2.4.3-alpha (git-d3277286698ebd37) before I turned it off.
I've been poking around the log files and found some logs that I don't quite get.  These are some of snippets.
I changed one IP address to SOMEIPADDR for privacy, but it seems this IP address is the IP of my router.
ORPort is 443. DIRPort 80. Socks proxy accessable to local net 192.168.XXX.XXX
Oct 01 17:57:40.000 [notice] Heartbeat: Tor's uptime is 1 day 17:46 hours, with 6 circuits open. I've sent 3.08 GB and received 2.89 GB.
Oct 01 18:48:39.000 [warn] Got headers "HEAD /manager/status HTTP/1.1\r\nUser-Agent: Java/1.6.0_02\r\nHost: SOMEIPADDR\r\nAccept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\r\nConnection: keep-alive\r\n\r\n" with unknown command. Closing.
Oct 01 18:48:39.000 [warn] Got headers "HEAD /manager/status HTTP/1.1\r\nUser-Agent: Java/1.6.0_02\r\nHost: SOMEIPADDR\r\nAccept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\r\nConnection: keep-alive\r\n\r\n" with unknown command. Closing.
Oct 01 04:55:28.000 [warn]   (We have dropped 0.63% of all EXTEND cells for this reason)
Oct 01 05:05:13.000 [warn] Got headers "HEAD /manager/status HTTP/1.1\r\nUser-Agent: Java/1.6.0_33\r\nHost: SOMEIPADDR\r\nAccept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\r\nConnection: keep-alive\r\n\r\n" with unknown command. Closing.
Oct 01 05:05:14.000 [warn] Got headers "HEAD /manager/status HTTP/1.1\r\nUser-Agent: Java/1.6.0_33\r\nHost: SOMEIPADDR\r\nAccept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\r\nConnection: keep-alive\r\n\r\n" with unknown command. Closing.
Oct 01 05:57:40.000 [notice] Heartbeat: Tor's uptime is 1 day 5:46 hours, with 18 circuits open. I've sent 2.89 GB and received 2.71 GB.
Sep 30 23:57:40.000 [notice] Heartbeat: Tor's uptime is 23:46 hours, with 10 circuits open. I've sent 2.42 GB and received 2.27 GB.
Oct 01 00:21:48.000 [warn] Got headers "HEAD / HTTP/1.1\r\nHost: SOMEIPADDR\r\nAccept-Encoding: identity\r\n\r\n" with unknown command. Closing.
Sep 30 02:35:04.000 [warn] Got headers "FB73E3E455B084379904F0C5B1DEBAC30+D9FBE563340FB445612C77EF4E52714D67DBB843+DA1A991772CE5B7FF0C00F2D354413B48727CD06+DAA80AE1694C18C504B05A4ED1F23CCF953746E0+DAABA40FFE87F0414E98C6C2AFE7A92D700643F7+DB0046B0C32E2D4B3D475E6970C8A1E93387CFE1+DB14CAC98F6BAEA354536CA54A584B30086A9F73+DBB3607E91D4FFE3AA003B05B263ED05A97EE46E+DD011BBA6AD5D6C4FFC4C43D6631B1704D2B384C+DD3BE21920F07843D223B8ACFEA114C685C689F9+DE62FCE74743A25A8111F8065481E37F993C94C3+DEC95AC0D4BA2E505C0E9CB1E2976199481FF34A+DEF4CD0A00F86ACD427E5EE4A26AE56238814D4D+DF91F966F905CC85E25F43308BE24079BD6953D9+DFBF8AE82A6F6F32C61B8BC493240B2B85F0BA63+E00D562EE22405BD043BF380E4A43924260098AF+E031A053717F2DA31DCF266BC0B751037915A139+E0432DB6A5C89F949C85561A1A658915E21EE3A9+E0632DC1A356BF3645AC23436732E73B345D68B5+E0C2DB21A52D89AF463C3757FC0BB922753DAE5C+E1B8A6ECFF4D6DE6C5313C664B27C7E6EFDFE27D+E1E587BC0120AE9E97BF421ACBDF343AFCD482C5+E20BEA98C0D89FCF8823A4B104F4379E3B16A9B0+E2321BF405C5C6CFC972328C1A54D1071C18C9B3+E29E26EA714BD7F46CA8C43BA9A06B40BDC7EC28+E2C641EA682E56EABCB2298E1AE28D8DA59FB0BA+E358322AA2B2CCBA64E5F02388F14596EB258836+E4060BBF606B7E7A670E71E658A4FBBB1C784E07+E48EB350E51FD258FDD4135F7081C8E4A3D9B1B6+E49103E116D35F83C507C1DB7A72541D5EB8CDE9+E556B62A10BB7475EEEE616D7CC795096F46B262+E5AABD8B51DAABF059F1D1D97BA14E7994BC781C+E5D6470C335DFA23F3AF2AF8CFF52010EDDD7494+E5F5DD8593FFC8CEBB48C093D0A377228A859F2D+E657EBF5C556B47CF1163B2362ECE47D6E129B89+E674A6FAC9D63B7FDD629AFF9316EC64331960D2+E6E97E52F85A160F5C5938A47DB58DF9B8765610+E7B91793478AB6211D2E6278AFE0D5E3ED9B1CF3+E7C4C6D443E46D7ADC33DA8D351C018267008586+E8AE27BB671FD87FB02ADBC9AB361AE3E9A4D744+E947AA8A9D944EAE32825434D6B89F945695D3F8+E9AFBBB6278ACA9AE2DE1FD753645706861B104F+EA146E7D02876E09B064DBC03AFA5C49812987CD+EA297C0918E932D4404E3BB30168A4E53D35ADFB+EA36BECFFE3EB97F49E52E917E46DCA35E35942A+EA5764D8FEC4EF0B8B92A318143D513A496878A2+EAA109FFD87B28276C10FFE98505EF6E8D3EFF76.z HTTP/1.0\r\nHost: SOMEIPADDR\r\nIf-Modified-Since: Sat, 29 Sep 2012 17:03:00 GMT\r\n\r\n" with unknown command. Closing.
Does anyone know what is happening here?
Anyone seen something similar in their logs?
All the best,

@_date: 2012-10-21 09:34:02
@_author: RgC 
@_subject: [tor-talk] warning in notice log 
Hi all,
It seems I have to reply to my own questioin.
Which is good, means this old dog learned something :-)
The logs are generated by the error handler of directory_handle_command() in tor/src/or/directory.c
Seems to be some scripts running against the router. SOMEIPADDR is the router's IP addr.
I've got the ORport and DIRport forwarded from the router to the Tor box.
Not sure (I'm not a network person) but they're force feeding Tor. Hope Tor can handle it.
A couple of days ago it got a bit interesting.
Some more connection attempts, this time they used an external IP address (not the router's IP)
which maps to a specific group in Italy (according to whois records)

@_date: 2012-10-27 10:18:22
@_author: RgC 
@_subject: [tor-talk] Tor 0.2.4.5-alpha is out 
Thanks for the heads up!
I'm one of those relays that run bleeding edge.
It's nice to see that debian/tor got updated at the same time as the mair tor repo.
In the past it seems to get behing by a few days.
I've standardized on installing tor only from a .deb file on the Ubuntu box.
So a delay in updating debian/tor delays rolling out the updating code on the relay.
Keep up the good work everyone.
All the best,
