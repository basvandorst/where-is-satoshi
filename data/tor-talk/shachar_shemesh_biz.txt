
@_date: 2007-07-27 12:45:12
@_author: Shachar Shemesh 
@_subject: Excessive bandwidth use 
Hi all,
I'm running an OR called "hamakor"
It is being run on a server that belongs to an NPO that promotes FOSS,
and the server is hosted, free of charge, curtsy of our ISP. As such, it
is very important to me not to exceed our host's graciousness.
I set up Tor about two days ago and, well, you can watch yourself what
happened to the stats at
 I
think it's fairly easy to see the point Tor was started from the graphs.
Most of the load - I can live with. Memory consumption is a little high,
but I can live with that too. What I find hard to swallow is the
bandwidth usage. It's a bit hard to quantify, as only this morning I
managed to completely separate the Tor communication to the IP ending
with 177. The graphs spell it out pretty clearly:
If you look at the memory usage graph
you will see that since starting tor, I made two restarts. The first
restart was to lower the maximal bandwidth from 5MB (burst 10MB) to 1MB
(burst 3MB). The second was to lower the bandwidth further to 800KB
(burst 1600KB).
While the memory usage clearly shows when a tor restart happened, I was
expecting the network utilization to also show the decrease in allowed
network usage. At the moment, however, it appears that the network usage
I'm currently experiencing is the same as it was when the server was
first started, when it was willing to give 6 times the bandwidth it does
Can anyone shed some light as to why the bandwidth limits I set are not
being respected?

@_date: 2007-07-27 13:54:00
@_author: Shachar Shemesh 
@_subject: Excessive bandwidth use 
So it does! Despite the fact that, when reading the docs, I said to
myself "pay attention - they measure KB rather than Kb", I made the
mistake. Thanks for spotting it.
Let's see.
When I buy a network card, I get its speed in bits per second.
When I buy a network switch, it lists its speed in bits per second
When I talk to my ISP, they measure bandwidth in bits per second
When I configure QoS in the Linux kernel, they measure in bits per second
Way back, when I was using an analog modem, it measured bandwidth in
BAUD, which was, well, bits per second
When I bring up Munin to view statistics it displays them in bits per second
Do you see a pattern yet?
So what do you know. It appears I *AM* one of those people! Strange ol' me.
So just so we make sure we're on the same page here, when the docs say
"K" you mean 1000, and when you say "M" you mean 1,000,000, right? Or
are you "one of those people" who count bytes in a little over the
metric meaning of the suffixes?
All sarcasm aside, if the whole industry measures a quantity using a
certain unit, and one program measures it using another, I call that "a
usability bug".
Back to the subject at hand, though. It seems that up until this morning
Tor was not using the full bandwidth I was allowing it to. Does that
mean that I can assume that that's the current demand levels?

@_date: 2007-07-27 14:30:17
@_author: Shachar Shemesh 
@_subject: Excessive bandwidth use 
You tell that to the people manufacturing hard disks.
Taking my case as a usability test case, I did spot that deviation from
what I know when I read the docs. I just failed to remember it over
time. This brings to mind two possible solutions:
1. Have a global setting saying "bandwidth in bits"
2. Use a suffix (say - 1MB vs. 1Mb)
I think 1 is less confusing.
Being as it is that there is no possible way to change the meaning now
without breaking stuff, it doesn't matter whether I agree with the above
statement or not :-)
I'll idly wonder what those admins do when they buy network equipment.
Like I said above - a moot point. I'm not suggesting we remove the byte
measurement at this stage.

@_date: 2007-07-28 10:09:55
@_author: Shachar Shemesh 
@_subject: What are Tor guards? 
Hi list,
I keep bumping into the term "Tor guard nodes", but I failed to find it
documented. It gets referenced all the time.
Can someone point to where I need to RTFM in order to understand what
that is?

@_date: 2007-07-28 13:53:08
@_author: Shachar Shemesh 
@_subject: What are Tor guards? 
Let's see if I got this straight. The Entry Guards are "more trusted"
ORs, hand picked by.... who? According to what criteria? They obviously
need to have a high uptime, and relatively high bandwidth, but is that it?
I gave a lecture about Tor a few weeks ago (the actual protocol) to a
highly technical crowed, and the same point kept coming up. The protocol
is great, but the whole method by which ORs are added to the list means
that you either add anyone who comes up (in which case, someone with a
lot of resources can flood the network with compromised ORs) - I know,
you will tell me that that's why the guarded entry nodes are picked, or
you need to trust the people maintaining the OR list (i.e. - there is a
single point of trust after all).
Any comments?
