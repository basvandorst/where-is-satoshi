
@_date: 2005-04-21 22:33:03
@_author: Ron Davis 
@_subject: Tor and firewall with stateful inspection? 
Are there any known issues with stateful packet filtering and Tor?

@_date: 2005-04-23 15:54:33
@_author: Ron Davis 
@_subject: both my servers crashed 
I run a Tor server (0.0.9.8) on Win98SE. I had similar error messages in
the past 12 hours. However, Tor seemed to be still running. I got the
following error message from Windows:
"Microsoft Visual C++ Debug Library
Debug Error
This application has requested the Runtime to terminate it in an unusual
Here are the last error and warning messages from Tor:
Apr 23 12:51:03.960 [warn] connection_tls_finish_handshake(): Other side
(82.83.71.120:62411) has a cert without a valid nickname. Closing.
Apr 23 12:56:09.180 [warn] tor_tls_get_peer_cert_nickname(): Peer
certificate nickname has illegal characters.
Apr 23 12:56:09.180 [warn] connection_tls_finish_handshake(): Other side
(84.13.106.159:1626) has a cert without a valid nickname. Closing.
Apr 23 12:56:11.540 [err] _assert_no_tls_errors(): Unhandled OpenSSL
errors found at buffers.c:229:
Apr 23 12:56:11.540 [err] TLS error: too long (in asn1 encoding
Apr 23 12:56:11.540 [err] TLS error: bad object header (in asn1 encoding
Apr 23 12:56:11.540 [err] TLS error: nested asn1 error (in asn1 encoding
Apr 23 12:56:11.540 [err] TLS error: too long (in asn1 encoding
Apr 23 12:56:11.540 [err] TLS error: bad object header (in asn1 encoding
Apr 23 12:56:11.540 [err] TLS error: nested asn1 error (in asn1 encoding
Apr 23 12:56:11.540 [err] tortls.c:814: _assert_no_tls_errors: Assertion
0 failed; aborting.
tortls.c:814 _assert_no_tls_errors: Assertion 0 failed; aborting.
After the first Windows error message, I rebooted and found the
installer exe of the backdoor program FTPCentre.13.A on my system (
 ). I suspect that the instability of the system somehow opened it to an
On Sat, 23 Apr 2005 13:30:38 +0200, "Martin Balvers"
 said:

@_date: 2005-04-23 22:39:50
@_author: Ron Davis 
@_subject: both my servers crashed 
No, not really. However, fact is that I'm behind a router with a
hardware firewall and on the pc itself is a software firewall which
won't allow much apart from Tor. I'm running this setup for about two
years now and never before had a trojan or a virus. I'm quite sure that the intruder only managed to copy the FTPCentre.13.A
installer exe to my pc. It didn't install and there were no signs that
the exe had unpacked or dropped its files into the Win directories. I
haven't noticed any further damage to the pc. That said, it's obvious that Win98 is far from an ideal platform for a
Tor server (or any server). After about 8-12 hours of running Tor, from
the sluggish response of the OS you notice that it has come close to its
limits. Time to exit Tor or reboot.
A week ago I managed to install FreeBSD on another pc. I hope that I
will get Tor running from that box soon.

@_date: 2005-04-24 13:08:59
@_author: Ron Davis 
@_subject: both my servers crashed 
On second thought, I suspect that the intruder may have entered the
system via Tor. My system is behind a hardware firewall, which has ports
9001 and 9050 forwarded only. All other ports are closed for incoming
traffic. While the intrusion happened, a software firewall and a virus
guard were running on the pc. Tor is the only application that listens
on 9001 and 9050. The firewall and guard both have update checkers that
use port 80 outgoing. No other applications were running. Is it likely
that un unstable Win OS starts listening on ports 9001 or 9050? OTOH, the virus guard didn't intercept the intrusion. Maybe it wasn't
functioning anymore because of the instable OS? Will an unstable OS open
ports? I'm just thinking out loud now.

@_date: 2005-04-24 21:24:18
@_author: Ron Davis 
@_subject: both my servers crashed 
said:
I'm sorry, I don't have any of that info. Tor doesn't log to a file in
my setup. And I removed the unwanted binary file as soon as my antivirus
program detected it...
Nothing malicious was installed, I just found the FTPCentre.13.A
installer exe.
Yes, it has te very latest defs. On Sun, 24 Apr 2005 11:13:17 -0400 (EDT), "Quentin Smith"
 said:
My antivirus program found the installer exe in the root of the drive
where the Program Files are. Tor has its folder there. A said, there was
no sign that it had unpacked. An alternative scenario is that the detection of FTPCentre.13.A is not
related to the errors in Tor 0.0.9.8. I tend to install new software on
this pc now and then. I can't preclude that some new software came
bundled with the backdoor program, which remained undetected untill

@_date: 2005-04-30 15:42:31
@_author: Ron Davis 
@_subject: Logging to a file? 
How do I get Tor 0.9.9.9 to log to a file? I uncommented the "log
notice" and "log debug-info" lines in torrc. However, this only appears
to work when I run Tor as root (which I don't want). Running Tor as a
normal user, the log files remain empty.
I also tried alternative paths to both files. This didn't work either.
Running Tor as a normal user, logging to stderr (screen) does work.
FreeBSD 4.11-REL.
Thanks for your help.

@_date: 2005-04-30 20:39:04
@_author: Ron Davis 
@_subject: Logging to a file? 
Hi Martin,
Thank you for your reply. Logging still won't work. I've set debug.log and notice.log to
-rw-rw---- . Both log files are in a log dir with: drwxr-xr-x .
In the meantime, I uncommented "log notice syslog" in torrc and now Tor
will indeed log to syslog ( /usr/log/messages ). I'd rather have that it
would log to debug.log and notice.log though.
On Sat, 30 Apr 2005 15:45:12 +0200, "Martin Balvers"
 said:

@_date: 2005-04-13 18:24:00
@_author: Ron Davis 
@_subject: hack attempts of Tor? 
In the past 24 hrs I also had a long list of warning messages about
'JAP', just like the example below. The IP address was constantly
On Wed, 13 Apr 2005 11:12:10 -0300, alexyz at uol.com.br said:

@_date: 2005-06-04 01:29:29
@_author: Ron Davis 
@_subject: Monitoring tor's bandwidth use. 
I use nload, which also produces some basic graphs showing the current
bandwidth usage.
On Fri, 3 Jun 2005 16:39:48 -0400, "Matt McParland"

@_date: 2005-05-29 18:39:10
@_author: Ron Davis 
@_subject: Memory use 
FWIW, I don't notice a growing memory footprint in 0.1.0.8-rc on my
low-end system. I'm running my cumulonimbus node on a old Pentium 75
with 64 MB RAM and FreeBSD 4.11. BandwidthRate has been set to 25 kB. With Tor running (and not much else) there constantly is 25 MB active
memory. This hasn't increased since I restarted the system 4 days ago.
(1.4 GB of traffic in this period.)
On Sat, 28 May 2005 11:45:30 -0400, "Roger Dingledine"

@_date: 2005-05-15 12:38:04
@_author: Ron Davis 
@_subject: Tor 0.1.0.6-rc is out 
Congratulations on the new release :)
I just installed it on FreeBSD 4.11. Being a relative layman at FreeBSD,
I encountered just one minor "problem" during installation. After I had installed libevent 1.1, I ran ./configure for Tor. It
reported "libevent library not found".
Somewhere on the net, I found this string:
CPPFLAGS="-I/usr/local/include" LDFLAGS="-L/usr/local/lib" \
...which worked.
On Sat, 14 May 2005 23:17:27 -0400, "Roger Dingledine"

@_date: 2005-05-17 12:32:15
@_author: Ron Davis 
@_subject: Tor 0.1.0.7-rc is out 
This one installed without any complaints on FreeBSD 4.11 :-)
On Tue, 17 May 2005 01:34:17 -0400, "Roger Dingledine"

@_date: 2006-01-07 02:40:17
@_author: Ron Davis 
@_subject: Warning message in v0.1.1.10-alpha 
Hi all,
I'm running Tor v0.1.1.10-alpha in client mode on Win 98SE.
Several times today, I saw a warning message like the one below. Any ideas?
Jan 07 02:20:06.450 [warn] connection_dir_client_reached_eof(): Received
http st
atus code 302 ("Found") from server '65.254.37.163:80' while fetching
525E60320FB81A06A.z". I'll try again soon.
