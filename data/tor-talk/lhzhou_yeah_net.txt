
@_date: 2006-12-18 10:43:22
@_author: Li-Hui Zhou 
@_subject: There's errors compling latest svn version with mingw 
Errors like the following, please fix this:
eventdns.c:243: error: syntax error before "socklen_t"
eventdns.c:243: warning: no semicolon at end of struct or union
eventdns.c:260: error: syntax error before '}' token
eventdns.c:902: error: syntax error before "socklen_t"
eventdns.c: In function `request_parse':
eventdns.c:913: error: `length' undeclared (first use in this function)
eventdns.c:913: error: (Each undeclared identifier is reported only once
eventdns.c:913: error: for each function it appears in.)
eventdns.c:913: error: `packet' undeclared (first use in this function)
eventdns.c:924: error: invalid application of `sizeof' to incomplete type `server_request' eventdns.c:926: error: invalid application of `sizeof' to incomplete type `server_request' eventdns.c:928: error: dereferencing pointer to incomplete type
eventdns.c:929: error: dereferencing pointer to incomplete type
eventdns.c:929: error: `addr' undeclared (first use in this function)
eventdns.c:929: error: `addrlen' undeclared (first use in this function)
eventdns.c:930: error: dereferencing pointer to incomplete type
eventdns.c:932: error: dereferencing pointer to incomplete type
eventdns.c:933: error: dereferencing pointer to incomplete type
eventdns.c:934: error: dereferencing pointer to incomplete type
eventdns.c:935: error: dereferencing pointer to incomplete type
eventdns.c:953: error: dereferencing pointer to incomplete type
eventdns.c:953: error: dereferencing pointer to incomplete type
eventdns.c:958: error: dereferencing pointer to incomplete type
eventdns.c:958: error: `port' undeclared (first use in this function)
eventdns.c:960: error: dereferencing pointer to incomplete type
eventdns.c:965: error: dereferencing pointer to incomplete type
eventdns.c:966: error: dereferencing pointer to incomplete type
eventdns.c:967: error: dereferencing pointer to incomplete type
eventdns.c:968: error: dereferencing pointer to incomplete type
eventdns.c: In function `server_port_read':
eventdns.c:1091: error: `socklen_t' undeclared (first use in this function)
eventdns.c:1091: error: syntax error before "addrlen"
eventdns.c:1095: error: `addrlen' undeclared (first use in this function)
eventdns.c: In function `server_port_flush':
eventdns.c:1115: error: dereferencing pointer to incomplete type
eventdns.c:1115: error: dereferencing pointer to incomplete type
eventdns.c:1116: error: dereferencing pointer to incomplete type
eventdns.c:1116: error: dereferencing pointer to incomplete type
eventdns.c: In function `evdns_server_request_add_reply':
eventdns.c:1404: error: dereferencing pointer to incomplete type
eventdns.c:1408: error: dereferencing pointer to incomplete type
eventdns.c:1413: error: dereferencing pointer to incomplete type
eventdns.c:1414: error: dereferencing pointer to incomplete type
eventdns.c:1417: error: dereferencing pointer to incomplete type
eventdns.c:1418: error: dereferencing pointer to incomplete type
eventdns.c:1421: error: dereferencing pointer to incomplete type
eventdns.c:1422: error: dereferencing pointer to incomplete type
eventdns.c: In function `evdns_server_request_format_response':
eventdns.c:1534: error: dereferencing pointer to incomplete type
eventdns.c:1538: error: dereferencing pointer to incomplete type
eventdns.c:1540: error: dereferencing pointer to incomplete type
eventdns.c:1541: error: dereferencing pointer to incomplete type
eventdns.c:1542: error: dereferencing pointer to incomplete type
eventdns.c:1543: error: dereferencing pointer to incomplete type
eventdns.c:1546: error: dereferencing pointer to incomplete type
eventdns.c:1547: error: dereferencing pointer to incomplete type
eventdns.c:1553: error: dereferencing pointer to incomplete type
eventdns.c:1554: error: dereferencing pointer to incomplete type
eventdns.c:1561: error: dereferencing pointer to incomplete type
eventdns.c:1563: error: dereferencing pointer to incomplete type
eventdns.c:1565: error: dereferencing pointer to incomplete type
eventdns.c:1602: error: dereferencing pointer to incomplete type
eventdns.c:1604: error: dereferencing pointer to incomplete type
eventdns.c:1604: error: dereferencing pointer to incomplete type
eventdns.c:1609: error: dereferencing pointer to incomplete type
eventdns.c:1609: error: dereferencing pointer to incomplete type
eventdns.c: In function `evdns_server_request_respond':
eventdns.c:1619: error: dereferencing pointer to incomplete type
eventdns.c:1620: error: dereferencing pointer to incomplete type
eventdns.c:1622: error: dereferencing pointer to incomplete type
eventdns.c:1627: error: dereferencing pointer to incomplete type
eventdns.c:1627: error: dereferencing pointer to incomplete type
eventdns.c:1628: error: dereferencing pointer to incomplete type
eventdns.c:1628: error: dereferencing pointer to incomplete type
eventdns.c:1635: error: dereferencing pointer to incomplete type
eventdns.c:1635: error: dereferencing pointer to incomplete type
eventdns.c:1636: error: dereferencing pointer to incomplete type
eventdns.c:1637: error: dereferencing pointer to incomplete type
eventdns.c:1638: error: dereferencing pointer to incomplete type
eventdns.c:1640: error: dereferencing pointer to incomplete type
eventdns.c:1640: error: dereferencing pointer to incomplete type
eventdns.c:1658: error: dereferencing pointer to incomplete type
eventdns.c: In function `server_request_free_answers':
eventdns.c:1672: error: dereferencing pointer to incomplete type
eventdns.c:1674: error: dereferencing pointer to incomplete type
eventdns.c:1676: error: dereferencing pointer to incomplete type
eventdns.c: In function `server_request_free':
eventdns.c:1696: error: dereferencing pointer to incomplete type
eventdns.c:1697: error: dereferencing pointer to incomplete type
eventdns.c:1698: error: dereferencing pointer to incomplete type
eventdns.c:1701: error: dereferencing pointer to incomplete type
eventdns.c:1702: error: dereferencing pointer to incomplete type
eventdns.c:1703: error: dereferencing pointer to incomplete type
eventdns.c:1704: error: dereferencing pointer to incomplete type
eventdns.c:1704: error: dereferencing pointer to incomplete type
eventdns.c:1706: error: dereferencing pointer to incomplete type
eventdns.c:1708: error: dereferencing pointer to incomplete type
eventdns.c:1711: error: dereferencing pointer to incomplete type
eventdns.c:1712: error: dereferencing pointer to incomplete type
eventdns.c:1716: error: dereferencing pointer to incomplete type
eventdns.c:1716: error: dereferencing pointer to incomplete type
eventdns.c:1717: error: dereferencing pointer to incomplete type
eventdns.c:1717: error: dereferencing pointer to incomplete type
eventdns.c:1718: error: dereferencing pointer to incomplete type
eventdns.c:1718: error: dereferencing pointer to incomplete type
eventdns.c:1722: error: dereferencing pointer to incomplete type
eventdns.c: In function `evdns_server_request_drop':
eventdns.c:1748: error: dereferencing pointer to incomplete type
make[3]: *** [eventdns.o] Error 1

@_date: 2007-04-13 16:54:11
@_author: Li-Hui Zhou 
@_subject: Link problem with openssl 0.9.8e 
There's link errors when I tried to compile the latest rev.9946 with
MinGW. The error message read:
gcc  -g -O2 -Wall -g -O2   -o tor.exe  buffers.o circuitbuild.o
circuitlist.o circuituse.o command.o config.o connection.o
connection_edge.o connection_or.o control.o cpuworker.o directory.o
dirserv.o dns.o hibernate.o main.o onion.o policies.o relay.o
rendcommon.o rendclient.o rendmid.o rendservice.o rephist.o router.o
routerlist.o routerparse.o eventdns.o tor_main.o ../common/libor.a
../common/libor-crypto.a -levent -lws2_32 -lssl -lcrypto -lgdi32 -lz
c:/Gnu/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libcrypto.a(bss_sock.o)(.text+0xca):bss_sock.c: undefined reference to `shutdown at 8'
c:/Gnu/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libcrypto.a(bss_sock.o)(.text+0x1b1):bss_sock.c: undefined reference to `shutdown at 8'
c:/Gnu/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libcrypto.a(bss_sock.o)(.text+0x287):bss_sock.c: undefined reference to `WSASetLastError at 4'
c:/Gnu/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libcrypto.a(bss_sock.o)(.text+0x30c):bss_sock.c: undefined reference to `WSASetLastError at 4'
c:/Gnu/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../libcrypto.a(bss_sock.o)(.text+0x3ae):bss_sock.c: undefined reference to `WSASetLastError at 4'
collect2: ld returned 1 exit status
It's wierd that was related to openssl lib. I was using the latest
openssl 0.9.8e

@_date: 2007-08-17 09:24:26
@_author: Li-Hui Zhou 
@_subject: MinGW compile error with rev 10888 
Sorry to bother again. Several revisions
after rev. 11043, compile on win32 by
MinGW seems broken.
Error message read:
In file included from or.h:121,
                 from buffers.c:16:
c:/Gnu/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../../include/event.h:93: error: field `ev_timeout' has incomplete type
make[3]: *** [buffers.o] Error 1

@_date: 2007-08-18 09:00:37
@_author: Li-Hui Zhou 
@_subject: MinGW compile error with rev 10888 
I'm using 1.3b and works well at least with r11043 and before.

@_date: 2007-08-19 10:07:09
@_author: Li-Hui Zhou 
@_subject: MinGW compile error with rev 10888 
I tried with libevent 1.1b without success. The same error happened. So
it's not likely to be a libevent problem.

@_date: 2007-08-03 08:26:17
@_author: Li-Hui Zhou 
@_subject: MinGW compile error with rev 10888 
I appriciate your work on compiling problems with MinGW. But the latest
rev 11041 still gives another kind of error messages:
compat.c: In function `tor_addr_lookup':
compat.c:1131: error: incompatible type for argument 1 of `memcpy'
compat.c:1133: error: structure has no member named `sin6_addr'
compat.c:1136: error: syntax error before '}' token
make[3]: *** [compat.o] Error 1

@_date: 2007-02-13 15:09:14
@_author: Li-Hui Zhou 
@_subject: Mingw compile error with latest rev. 9577 
Error message says:
compat.c: In function `tor_mmap_file':
compat.c:234: error: `PATH_NOT_FOUND' undeclared (first use in this function)
compat.c:234: error: (Each undeclared identifier is reported only once
compat.c:234: error: for each function it appears in.)
compat.c:237: warning: passing arg 2 of `_log_fn' makes integer from pointer without a cast
compat.c:234: warning: unused variable `severity'
make[3]: *** [compat.o] Error 1

@_date: 2007-01-03 21:01:31
@_author: Li-Hui Zhou 
@_subject: Transparent proxy won't work with mingw under win32 
I've noticed this warn message when ./configure for some time:
configure: Transparent proxy support enabled, but missing headers.
Does it mean that transparent proxy won't work with mingw under win32?
How can you devs fix this?

@_date: 2007-07-20 09:02:40
@_author: Li-Hui Zhou 
@_subject: MinGW compile error with rev 10888 
MinGW compile error read as follows:
In file included from ./util.h:17,
                 from log.c:25:
./compat.h:298: error: redefinition of `struct sockaddr_in6'
./compat.h:322: error: 'IN_ADDR' redeclared as different kind of symbol
c:/Gnu/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../../include/winsock2.h:654: error: previous declaration of 'IN_ADDR' was here
./compat.h:323: error: 'IN6_ADDR' redeclared as different kind of symbol
c:/Gnu/MinGW/bin/../lib/gcc/mingw32/3.4.2/../../../../include/ws2tcpip.h:183: error: previous declaration of 'IN6_ADDR' was here
In file included from log.c:25:
./util.h:262: error: syntax error before "sa_family_t"
make[3]: *** [log.o] Error 1

@_date: 2007-07-21 11:17:54
@_author: Li-Hui Zhou 
@_subject: tor mingw compiled version crash 
tor r10874 mingw compiled used as client only, crashed after running for some
time. The pop up window says:
tor.exe - Application Error
The instruction at "0x0048c1bf" referenced memory at "0xe485b58e". The memory
could not be "read".
Click on OK to terminate the program
Click on CANCEL to debug the program
It happened for quite some time after the release of recent alpha. If
it's not my hardware problem, there's something broken.

@_date: 2007-07-06 10:16:46
@_author: Li-Hui Zhou 
@_subject: MinGW compile errors with svn version 10742 
The errors read as following:
$ make
make  all-recursive
make[1]: Entering directory `/d/CompileProject/tor-mingw/tor-svn/tor'
Making all in src
make[2]: Entering directory `/d/CompileProject/tor-mingw/tor-svn/tor/src'
Making all in common
make[3]: Entering directory `/d/CompileProject/tor-mingw/tor-svn/tor/src/common'
if gcc -DHAVE_CONFIG_H -I. -I. -I../..     -g -O2 -Wall -g -O2 -MT log.o -MD -MP -MF ".deps/log.Tpo" -c -o log.o log.c; \
then mv -f ".deps/log.Tpo" ".deps/log.Po"; else rm -f ".deps/log.Tpo"; exit 1; fi
if gcc -DHAVE_CONFIG_H -I. -I. -I../..     -g -O2 -Wall -g -O2 -MT util.o -MD -MP -MF ".deps/util.Tpo" -c -o util.o util.c; \
then mv -f ".deps/util.Tpo" ".deps/util.Po"; else rm -f ".deps/util.Tpo"; exit 1; fi
if gcc -DHAVE_CONFIG_H -I. -I. -I../..     -g -O2 -Wall -g -O2 -MT compat.o -MD -MP -MF ".deps/compat.Tpo" -c -o compat.o compat.c; \
then mv -f ".deps/compat.Tpo" ".deps/compat.Po"; else rm -f ".deps/compat.Tpo"; exit 1; fi
compat.c: In function `tor_mutex_new':
compat.c:1501: error: syntax error before "m"
compat.c:1502: error: `r' undeclared (first use in this function)
compat.c:1502: error: (Each undeclared identifier is reported only once
compat.c:1502: error: for each function it appears in.)
compat.c:1502: error: `m' undeclared (first use in this function)
compat.c:1503: warning: type defaults to `int' in declaration of `type name'
compat.c: At top level:
compat.c:1649: error: syntax error before "smartlist_t"
compat.c:1649: warning: no semicolon at end of struct or union
compat.c: In function `tor_cond_new':
compat.c:1654: error: invalid application of `sizeof' to incomplete type `compat.h' compat.c:1655: error: dereferencing pointer to incomplete type
compat.c:1655: error: wrong type argument to unary exclamation mark
compat.c:1659: error: dereferencing pointer to incomplete type
compat.c:1659: warning: implicit declaration of function `smartlist_create'
compat.c: In function `tor_cond_free':
compat.c:1666: error: dereferencing pointer to incomplete type
compat.c:1668: warning: implicit declaration of function `smartlist_free'
compat.c:1668: error: dereferencing pointer to incomplete type
compat.c: At top level:
compat.c:1673: error: conflicting types for 'tor_cond_wait'
compat.h:367: error: previous declaration of 'tor_cond_wait' was here
compat.c:1673: error: conflicting types for 'tor_cond_wait'
compat.h:367: error: previous declaration of 'tor_cond_wait' was here
compat.c: In function `tor_cond_wait':
compat.c:1683: error: dereferencing pointer to incomplete type
compat.c:1686: warning: implicit declaration of function `smartlist_isin'
compat.c:1686: error: dereferencing pointer to incomplete type
compat.c:1686: error: dereferencing pointer to incomplete type
compat.c:1687: warning: implicit declaration of function `smartlist_add'
compat.c:1687: error: dereferencing pointer to incomplete type
compat.c:1689: error: dereferencing pointer to incomplete type
compat.c: In function `tor_cond_signal_one':
compat.c:1712: error: dereferencing pointer to incomplete type
compat.c:1714: warning: implicit declaration of function `smartlist_pop_last'
compat.c:1714: error: dereferencing pointer to incomplete type
compat.c:1714: warning: assignment makes pointer from integer without a cast
compat.c:1715: error: syntax error before "SetEvent"
compat.c:1717: error: dereferencing pointer to incomplete type
compat.c: In function `tor_cond_signal_all':
compat.c:1724: error: dereferencing pointer to incomplete type
compat.c:1725: warning: implicit declaration of function `SMARTLIST_FOREACH'
compat.c:1725: error: dereferencing pointer to incomplete type
compat.c:1725: error: syntax error before "HANDLE"
compat.c:1726: warning: implicit declaration of function `smartlist_clear'
compat.c:1726: error: dereferencing pointer to incomplete type
compat.c:1727: error: dereferencing pointer to incomplete type
make[3]: *** [compat.o] Error 1
make[3]: Leaving directory `/d/CompileProject/tor-mingw/tor-svn/tor/src/common'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/d/CompileProject/tor-mingw/tor-svn/tor/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/d/CompileProject/tor-mingw/tor-svn/tor'
make: *** [all] Error 2

@_date: 2007-07-06 13:39:20
@_author: Li-Hui Zhou 
@_subject: MinGW compile errors with svn version 10742 
There's still errors with rev 10743:
make[3]: Entering directory `/d/CompileProject/tor-mingw/tor-svn/tor/src/common'
if gcc -DHAVE_CONFIG_H -I. -I. -I../..     -g -O2 -Wall -g -O2 -MT compat.o -MD -MP -MF ".deps/compat.Tpo" -c -o compat.o compat.c; \
then mv -f ".deps/compat.Tpo" ".deps/compat.Po"; else rm -f ".deps/compat.Tpo"; exit 1; fi
compat.c: In function `tor_mutex_new':
compat.c:1503: error: void value not ignored as it ought to be
compat.c: In function `tor_cond_new':
compat.c:1656: error: wrong type argument to unary exclamation mark
compat.c: At top level:
compat.c:1674: error: conflicting types for 'tor_cond_wait'
compat.h:367: error: previous declaration of 'tor_cond_wait' was here
compat.c:1674: error: conflicting types for 'tor_cond_wait'
compat.h:367: error: previous declaration of 'tor_cond_wait' was here
compat.c: In function `tor_cond_signal_one':
compat.c:1716: error: syntax error before "SetEvent"
make[3]: *** [compat.o] Error 1
make[3]: Leaving directory `/d/CompileProject/tor-mingw/tor-svn/tor/src/common'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/d/CompileProject/tor-mingw/tor-svn/tor/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/d/CompileProject/tor-mingw/tor-svn/tor'
make: *** [all] Error 2
On Thu, 5 Jul 2007 23:50:17 -0400

@_date: 2007-07-26 21:48:25
@_author: Li-Hui Zhou 
@_subject: crash of 0.1.2.15 mingw build 
The program gives the following information before crash which I hope
would help locating the bug
Jul 26 21:40:03.155 [err] container.c:1055: digestmap_free: Assertion HT_EMPTY(&
map->head) failed; aborting.
container.c:1055 digestmap_free: Assertion HT_EMPTY(&map->head) failed; aborting
This application has requested the Runtime to terminate it in an unusual way.
Please contact the application's support team for more information.

@_date: 2007-07-27 09:39:46
@_author: Li-Hui Zhou 
@_subject: MinGW compile error with rev 10888 
The latest svn v.10940 still cannot compile because of the same errors.
Please fix it.

@_date: 2007-06-17 14:20:52
@_author: Li-Hui Zhou 
@_subject: tor r10615 crashed 
Tor v0.2.0.2-alpha-dev (r10615). mingw compiled. Use as client with
https proxy enabled.
The error messages read as follows:
Jun 17 12:54:06.920 [notice] Tor has successfully opened a circuit. Looks like c
lient functionality is working.
Jun 17 13:22:48.366 [warn] The https proxy sent back an unexpected status code 4
03 ("Forbidden"). Closing.
Jun 17 13:35:20.017 [err] Bug: container.c:1098: digestmap_free: Assertion HT_EMPTY(&map->head) failed; aborting.
container.c:1098 digestmap_free: Assertion HT_EMPTY(&map->head) failed; aborting.
This application has requested the Runtime to terminate it in an unusual way.
Please contact the application's support team for more information.

@_date: 2007-03-12 16:34:28
@_author: Li-Hui Zhou 
@_subject: mingw compile trouble 
There's another trouble when compiling the latest svn with MinGW:
$ make
cd . && /d/CompileProject/tor-mingw/tor-experiment/missing aclocal-1.4
WARNING: `aclocal-1.4' is missing on your system.  You should only need it if
         you modified `acinclude.m4' or `configure.ac'.  You might want
         to install the `Automake' and `Perl' packages.  Grab them from
         any GNU archive site.
cd . && /d/CompileProject/tor-mingw/tor-experiment/missing automake-1.4 --foreign --include-deps Makefile
WARNING: `automake-1.4' is missing on your system.  You should only need it if
         you modified `Makefile.am', `acinclude.m4' or `configure.ac'.
         You might want to install the `Automake' and `Perl' packages.
         Grab them from any GNU archive site.
cd . && autoconf
configure.in:17: error: possibly undefined macro: AS_HELP_STRING
      If this token and others are legitimate, please use m4_pattern_allow.
      See the Autoconf documentation.
make: *** [configure] Error 1
Seems it's a configure issue.

@_date: 2007-05-17 08:52:20
@_author: Li-Hui Zhou 
@_subject: svn 10201 not working 
There's a lot of messages like this:
May 17 08:50:42.565 [warn] circuit_receive_relay_cell(): Bug: relay crypt failed
. Dropping connection.
when I tried to start a client with no success.

@_date: 2007-05-26 09:15:51
@_author: Li-Hui Zhou 
@_subject: Compile Error report 
svn rev. 10349, compiled by MinGW gcc 3.4.2
Compile Error reported as follow:
make[3]: Entering directory
if gcc -DHAVE_CONFIG_H -I. -I. -I../..     -g -O2 -Wall -g -O2 -MT log.o -MD -MP -MF ".deps/log.Tpo" -c -o log.o log.c; \
then mv -f ".deps/log.Tpo" ".deps/log.Po"; else rm -f ".deps/log.Tpo"; exit 1; fi
In file included from ./util.h:17,
                 from log.c:25:
./compat.h:249: error: redefinition of `struct in6_addr'
./compat.h:250: warning: no semicolon at end of struct or union
./compat.h:250: error: syntax error before '.' token
make[3]: *** [log.o] Error 1
make[3]: Leaving directory `/d/CompileProject/tor-mingw/tor-svn/tor/src/common'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/d/CompileProject/tor-mingw/tor-svn/tor/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/d/CompileProject/tor-mingw/tor-svn/tor'
make: *** [all] Error 2

@_date: 2007-05-29 09:25:38
@_author: Li-Hui Zhou 
@_subject: Compile Error report 
Still there's the same compile error with latest svn rev. 10376.
Please fix it.

@_date: 2007-05-29 20:55:32
@_author: Li-Hui Zhou 
@_subject: Compile Error report 
Tried re-configure the project by running ./autogen.sh, still the same
error messages. I traced and commentted the struct definition in
compat.h and then successfully compiled the project.
It seems that the script didn't find the definition that exist in mingw
compile system.
Even with that small changes there's still errors:
d:/CompileProject/tor-mingw/tor-svn/tor/src/common/compat.c:911: undefined reference to `inet_aton'
collect2: ld returned 1 exit status
make[3]: *** [tor.exe] Error 1
make[3]: Leaving directory `/d/CompileProject/tor-mingw/tor-svn/tor/src/or'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/d/CompileProject/tor-mingw/tor-svn/tor/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/d/CompileProject/tor-mingw/tor-svn/tor'
make: *** [all] Error 2
That line reads:
I wonder if "inet_aton" should be changed to "tor_inet_aton".

@_date: 2007-05-30 04:57:31
@_author: Li-Hui Zhou 
@_subject: Compile Error report 
Here's what I found in my orconfig.h, obviously not defined.

@_date: 2007-10-23 14:58:47
@_author: Li-Hui Zhou 
@_subject: recent rev. take a very long time to get client working 
I have no idea why recent svn revs take a very long time to get the
client function working. A lot of
Oct 23 14:50:48.239 [notice] I learned some more directory information, but not
enough to build a circuit.
Oct 23 14:50:55.840 [notice] I learned some more directory information, but not
enough to build a circuit.
Oct 23 14:52:06.682 [notice] I learned some more directory information, but not
enough to build a circuit.
such as informations in the log.

@_date: 2007-10-25 10:50:59
@_author: Li-Hui Zhou 
@_subject: Compile Error with svn rev. 12170 
compat.c: In function `tor_mmap_file':
compat.c:254: error: `e' undeclared (first use in this function)
compat.c:254: error: (Each undeclared identifier is reported only once
compat.c:254: error: for each function it appears in.)
make[3]: *** [compat.o] Error 1

@_date: 2007-10-29 17:23:45
@_author: Li-Hui Zhou 
@_subject: compile errors with MinGW at revision 12267 
There's compile errors with MinGW at revision 12267
make[3]: Entering directory
if gcc -DHAVE_CONFIG_H -I. -I. -I../..   -I../common     -g -O2 -Wall -g -O2 -MT config.o -MD -MP -MF ".deps/config.Tpo" -c -o config.o config.c; \
then mv -f ".deps/config.Tpo" ".deps/config.Po"; else rm -f ".deps/config.Tpo"; exit 1; fi
In file included from c:/Gnu/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/objbase.h:73,
                 from c:/Gnu/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/ole2.h:9,
                 from c:/Gnu/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/shlobj.h:11,
                 from config.c:18:
c:/Gnu/MinGW/bin/../lib/gcc/mingw32/3.4.5/../../../../include/objidl.h:95: error: syntax error before string constant
make[3]: *** [config.o] Error 1
Hope this can help fixing it.

@_date: 2007-10-02 17:36:02
@_author: Li-Hui Zhou 
@_subject: latest svn rev 11720 become cpu hungry 
I've noticed the bugfix and yeah, it's been a LOT better.
Old bug? Why it not been triggered until recent svn?
On Mon, 1 Oct 2007 21:24:09 -0400

@_date: 2007-09-15 08:27:36
@_author: Li-Hui Zhou 
@_subject: MinGW compile link errors with svn 11440 
There's a lot of errors when linking
gcc  -g -O2 -Wall -g -O2   -o tor.exe  buffers.o circuitbuild.o
circuitlist.o circuituse.o command.o config.o connection.o
connection_edge.o connection_or.o control.o cpuworker.o directory.o
dirserv.o dirvote.o dns.o dnsserv.o hibernate.o main.o ntmain.o config.o
onion.o policies.o relay.o rendcommon.o rendclient.o rendmid.o
rendservice.o rephist.o router.o routerlist.o routerparse.o eventdns.o
tor_main.o ../common/libor.a ../common/libor-crypto.a -lz -levent -lssl
-lcrypto -lws2_32 -lgdi32 config.o(.text+0xd0): In function `get_options':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:693: multiple definition of `get_options'
config.o(.text+0xd0):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:693: first defined here
config.o(.text+0x180): In function `get_version':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:732: multiple definition of `get_version'
config.o(.text+0x180):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:732: first defined here
config.o(.text+0x200): In function `safe_str':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:767: multiple definition of `safe_str'
config.o(.text+0x200):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:767: first defined here
config.o(.text+0x2c0): In function `escaped_safe_str':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:780: multiple definition of `escaped_safe_str'
config.o(.text+0x2c0):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:780: first defined here
config.o(.text+0x400): In function `config_free_lines':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:1265: multiple definition of `config_free_lines'
config.o(.text+0x400):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:1265: first defined here
config.o(.text+0x4c0): In function `config_get_lines':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:1233: multiple definition of `config_get_lines'
config.o(.text+0x4c0):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:1233: first defined here
config.o(.text+0x6c0): In function `option_is_recognized':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:1529: multiple definition of `option_is_recognized'
config.o(.text+0x6c0):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:1529: first defined here
config.o(.text+0x6e0): In function `option_get_canonical_name':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:1537: multiple definition of `option_get_canonical_name'
config.o(.text+0x6e0):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:1537: first defined here
config.o(.text+0xba0): In function `option_get_assignment':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:1546: multiple definition of `option_get_assignment'
config.o(.text+0xba0):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:1546: first defined here
config.o(.text+0xed0): In function `config_free_all':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:749: multiple definition of `config_free_all'
config.o(.text+0xed0):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:749: first defined here
config.o(.text+0xf50): In function `resolve_my_address':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:1914: multiple definition of `resolve_my_address'
config.o(.text+0xf50):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:1914: first defined here
config.o(.text+0x16b0): In function `is_local_IP':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:2065: multiple definition of `is_local_IP'
config.o(.text+0x16b0):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:2065: first defined here
config.o(.text+0x19f0): In function `options_new':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:2217: multiple definition of `options_new'
config.o(.text+0x19f0):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:2217: first defined here
config.o(.text+0x1ec0): In function `get_torrc_fname':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:3420: multiple definition of `get_torrc_fname'
config.o(.text+0x1ec0):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:3420: first defined here
config.o(.text+0x1ee0): In function `options_init_logs':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:3521: multiple definition of `options_init_logs'
config.o(.text+0x1ee0):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:3521: first defined here
config.o(.text+0x5dd0): In function `options_dump':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:2337: multiple definition of `options_dump'
config.o(.text+0x5dd0):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:2337: first defined here
config.o(.text+0x6150): In function `options_save_current':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:4021: multiple definition of `options_save_current'
config.o(.text+0x6150):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:4021: first defined here
config.o(.text+0x6190): In function `options_init':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:2225: multiple definition of `options_init'
config.o(.text+0x6190):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:2225: first defined here
config.o(.text+0x6760): In function `get_or_state':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:4310: multiple definition of `get_or_state'
config.o(.text+0x6760):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:4310: first defined here
config.o(.text+0x68a0): In function `or_state_save':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:4479: multiple definition of `or_state_save'
config.o(.text+0x68a0):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:4479: first defined here
config.o(.text+0x6b80): In function `or_state_load':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:4372: multiple definition of `or_state_load'
config.o(.text+0x6b80):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:4372: first defined here
config.o(.text+0x7120): In function `set_options':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:704: multiple definition of `set_options'
config.o(.text+0x7120):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:704: first defined here
config.o(.text+0x8390): In function `options_trial_assign':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:1769: multiple definition of `options_trial_assign'
config.o(.text+0x8390):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:1769: first defined here
config.o(.text+0x8610): In function `getinfo_helper_config':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:4535: multiple definition of `getinfo_helper_config'
config.o(.text+0x8610):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:4535: first defined here
config.o(.text+0x8830): In function `options_init_from_torrc':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:3263: multiple definition of `options_init_from_torrc'
config.o(.text+0x8830):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:3263: first defined here
config.o(.rdata+0x0): In function `config_alloc':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:683: multiple definition of `config_c_id'
config.o(.rdata+0x0):d:/CompileProject/tor-mingw/tor-svn/tor/src/or/config.c:683: first defined here
collect2: ld returned 1 exit status
make[3]: *** [tor.exe] Error 1
make[3]: Leaving directory `/d/CompileProject/tor-mingw/tor-svn/tor/src/or'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/d/CompileProject/tor-mingw/tor-svn/tor/src'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/d/CompileProject/tor-mingw/tor-svn/tor'
make: *** [all] Error 2

@_date: 2007-09-30 21:44:28
@_author: Li-Hui Zhou 
@_subject: latest svn rev 11720 become cpu hungry 
MinGW build 32-bit, latest svn rev. 11720 become cpu hungry when
starting tor.exe as client only.
Maby recent optimization for 64-bit platform has something to do with this
poor performance on a 32-bit platform.

@_date: 2008-07-31 19:44:24
@_author: Li-Hui Zhou 
@_subject: svn 16301 link error - undefined reference to `_tor_inet_ntoa' 
Recent svn versions give me a lot of error messages as follow:
buffers.o: In function `fetch_from_buf_socks':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/buffers.c:1479: undefined reference to `_tor_inet_ntoa'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/buffers.c:1381: undefined reference to `_tor_inet_ntoa'
circuitbuild.o: In function `fetch_bridge_descriptors':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/circuitbuild.c:2988: undefined reference to `_tor_inet_ntoa'
circuitbuild.o: In function `retry_bridge_descriptor_fetch_directly':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/circuitbuild.c:2968: undefined reference to `_tor_inet_ntoa'
circuitbuild.o: In function `circuit_extend':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/circuitbuild.c:764: undefined reference to `_tor_inet_ntoa'
circuitbuild.o:d:\CompileProject\tor-mingw\tor-svn\tor\src\or/circuitbuild.c:356: more undefined references to `_tor_inet_ntoa' follow
config.o: In function `is_local_IP':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:2375: undefined reference to `_is_internal_IP'
config.o: In function `parse_redirect_line':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:4159: undefined reference to `_parse_addr_and_port_range'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:4167: undefined reference to `_parse_addr_port'
config.o: In function `parse_dir_server_line':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:4339: undefined reference to `_parse_addr_port'
config.o: In function `parse_bridge_line':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:4216: undefined reference to `_parse_addr_port'
config.o: In function `resolve_my_address':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:2312: undefined reference to `_tor_inet_ntoa'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:2313: undefined reference to `_is_internal_IP'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:2280: undefined reference to `_is_internal_IP'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:2284: undefined reference to `_tor_inet_ntoa'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:2289: undefined reference to `_get_interface_address'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:2265: undefined reference to `_get_interface_address'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:2302: undefined reference to `_tor_inet_ntoa'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:2292: undefined reference to `_is_internal_IP'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:2295: undefined reference to `_tor_inet_ntoa'
config.o: In function `options_validate':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:2829: undefined reference to `_parse_addr_port'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:2831: undefined reference to `_is_internal_IP'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:3225: undefined reference to `_parse_addr_port'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:3239: undefined reference to `_parse_addr_port'
config.o: In function `print_svn_version':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/config.c:5234: undefined reference to `_address_c_id'
connection.o: In function `connection_is_rate_limited':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection.c:1425: undefined reference to `_is_internal_IP'
connection.o: In function `client_check_address_changed':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection.c:2648: undefined reference to `_get_interface_address'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection.c:2629: undefined reference to `_get_interface_address'
connection.o: In function `connection_handle_listener_read':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection.c:1039: undefined reference to `_tor_dup_ip'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection.c:1025: undefined reference to `_tor_inet_ntoa'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection.c:1014: undefined reference to `_tor_inet_ntoa'
connection.o: In function `retry_listeners':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection.c:1255: undefined reference to `_parse_addr_port'
connection.o: In function `create_inet_sockaddr':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection.c:699: undefined reference to `_parse_addr_port'
connection_edge.o: In function `address_is_in_virtual_range':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection_edge.c:1075: undefined reference to `_addr_mask_cmp_bits'
connection_edge.o: In function `client_dns_set_addressmap':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection_edge.c:980: undefined reference to `_tor_inet_ntoa'
connection_edge.o: In function `tell_controller_about_resolved_result':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection_edge.c:2192: undefined reference to `_tor_inet_ntoa'
connection_edge.o: In function `addressmap_get_virtual_address':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection_edge.c:1112: undefined reference to `_tor_inet_ntoa'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection_edge.c:1125: undefined reference to `_addr_mask_cmp_bits'
connection_edge.o: In function `connection_ap_handshake_rewrite_and_attach':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection_edge.c:1389: undefined reference to `_tor_addr_is_internal'
connection_edge.o: In function `parse_virtual_addr_network':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection_edge.c:1034: undefined reference to `_parse_addr_and_port_range'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection_edge.c:1056: undefined reference to `_addr_mask_cmp_bits'
connection_edge.o: In function `connection_exit_connect':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection_edge.c:2639: undefined reference to `_addr_mask_cmp_bits'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection_edge.c:2639: undefined reference to `_tor_inet_ntoa'
connection_edge.o: In function `connection_edge_finished_connecting':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection_edge.c:296: undefined reference to `_tor_inet_ntoa'
connection_edge.o: In function `connection_exit_begin_conn':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection_edge.c:2425: undefined reference to `_parse_addr_port'
connection_or.o: In function `connection_or_init_conn_from_address':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection_or.c:437: undefined reference to `_tor_dup_ip'
connection_or.o: In function `connection_or_finished_connecting':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/connection_or.c:357: undefined reference to `_tor_inet_ntoa'
control.o: In function `getinfo_helper_misc':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/control.c:1385: undefined reference to `_tor_dup_ip'
cpuworker.o: In function `tag_unpack':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/cpuworker.c:86: undefined reference to `_tor_inet_ntoa'
directory.o: In function `directory_initiate_command_routerstatus':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/directory.c:466: undefined reference to `_tor_inet_ntoa'
directory.o: In function `http_set_address_origin':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/directory.c:1151: undefined reference to `_is_internal_IP'
dirserv.o: In function `routerstatus_format_entry':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/dirserv.c:1879: undefined reference to `_tor_inet_ntoa'
dirserv.o: In function `generate_v2_networkstatus_opinion':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/dirserv.c:2345: undefined reference to `_tor_inet_ntoa'
dirserv.o: In function `dirserv_generate_networkstatus_vote_obj':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/dirserv.c:2168: undefined reference to `_tor_dup_ip'
dirserv.o: In function `dirserv_router_has_valid_address':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/dirserv.c:498: undefined reference to `_is_internal_IP'
dirvote.o: In function `format_networkstatus_vote':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/dirvote.c:59: undefined reference to `_tor_inet_ntoa'
dirvote.o: In function `networkstatus_compute_consensus':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/dirvote.c:637: undefined reference to `_tor_inet_ntoa'
dns.o: In function `evdns_wildcard_check_callback':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/dns.c:1417: undefined reference to `_tor_inet_ntoa'
dns.o: In function `dns_resolve_impl':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/dns.c:672: undefined reference to `_is_internal_IP'
dns.o: In function `evdns_callback':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/dns.c:1214: undefined reference to `_tor_inet_ntoa'
dnsserv.o: In function `evdns_server_callback':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/dnsserv.c:121: undefined reference to `_tor_dup_ip'
policies.o: In function `policy_hash':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/policies.c:468: undefined reference to `_tor_addr_hash'
policies.o: In function `cmp_single_addr_policy':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/policies.c:412: undefined reference to `_tor_addr_compare'
policies.o: In function `policy_write_item':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/policies.c:827: undefined reference to `_tor_addr_to_str'
policies.o: In function `exit_policy_is_general_exit':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/policies.c:779: undefined reference to `_tor_addr_is_loopback'
policies.o: In function `compare_addr_to_addr_policy':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/policies.c:537: undefined reference to `_tor_addr_from_ipv4h'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/policies.c:538: undefined reference to `_tor_addr_is_null'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/policies.c:561: undefined reference to `_tor_addr_compare_masked'
policies.o: In function `policy_expand_private':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/policies.c:61: undefined reference to `_tor_addr_parse_mask_ports'
policies.o: In function `addr_policy_covers':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/policies.c:605: undefined reference to `_tor_addr_compare_masked'
policies.o: In function `addr_policy_intersects':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/policies.c:628: undefined reference to `_tor_addr_compare_masked'
policies.o: In function `addr_policy_covers':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/policies.c:605: undefined reference to `_tor_addr_compare_masked'
relay.o: In function `remap_event_helper':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/relay.c:748: undefined reference to `_tor_inet_ntoa'
relay.o: In function `connection_edge_process_relay_cell_not_open':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/relay.c:789: undefined reference to `_is_internal_IP'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/relay.c:794: undefined reference to `_tor_inet_ntoa'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/relay.c:871: undefined reference to `_is_internal_IP'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/relay.c:876: undefined reference to `_tor_inet_ntoa'
rendcommon.o: In function `rend_encode_v2_intro_points':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/rendcommon.c:203: undefined reference to `_tor_dup_ip'
rendservice.o: In function `rend_add_service':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/rendservice.c:158: undefined reference to `_tor_inet_ntoa'
rendservice.o: In function `parse_port_config':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/rendservice.c:205: undefined reference to `_parse_addr_port'
router.o: In function `log_addr_has_changed':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/router.c:1465: undefined reference to `_tor_inet_ntoa'
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/router.c:1468: undefined reference to `_tor_inet_ntoa'
router.o: In function `router_new_address_suggestion':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/router.c:1542: undefined reference to `_is_internal_IP'
router.o: In function `router_rebuild_descriptor':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/router.c:1255: undefined reference to `_tor_dup_ip'
routerlist.o: In function `trusted_dirs_load_certs_from_string':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/routerlist.c:207: undefined reference to `_tor_dup_ip'
routerparse.o: In function `router_parse_addr_policy_private':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/routerparse.c:2715: undefined reference to `_parse_port_range'
routerparse.o: In function `router_parse_addr_policy':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/routerparse.c:2686: undefined reference to `_tor_addr_parse_mask_ports'
routerparse.o: In function `authority_cert_parse_from_string':
d:\CompileProject\tor-mingw\tor-svn\tor\src\or/routerparse.c:1603: undefined reference to `_parse_addr_port'
../common/libor.a(compat.o): In function `tor_lookup_hostname':
d:\CompileProject\tor-mingw\tor-svn\tor\src\common/compat.c:1167: undefined reference to `_tor_addr_lookup'
../common/libor.a(compat.o): In function `tor_inet_ntop':
d:\CompileProject\tor-mingw\tor-svn\tor\src\common/compat.c:976: undefined reference to `_tor_inet_ntoa'
collect2: ld returned 1 exit status

@_date: 2008-03-28 08:20:23
@_author: Li-Hui Zhou 
@_subject: tor svn 14224 link errors 
MinGW says as follow:
gcc  -g -O2 -Wall -g -O2   -o tor.exe  buffers.o circuitbuild.o
circuitlist.o circuituse.o command.o config.o connection.o
connection_edge.o connection_or.o control.o cpuworker.o directory.o
dirserv.o dirvote.o dns.o dnsserv.o geoip.o hibernate.o main.o ntmain.o
networkstatus.o onion.o policies.o relay.o rendcommon.o rendclient.o
rendmid.o rendservice.o rephist.o router.o routerlist.o routerparse.o
eventdns.o tor_main.o ../common/libor.a ../common/libor-crypto.a -lz
-levent -lssl -lcrypto -lws2_32 -lgdi32 routerparse.o: In function `get_next_token':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2786: undefined reference to `_memarea_alloc_zero'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2885: undefined reference to `_memarea_alloc_zero'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2912: undefined reference to `_memarea_strdup'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2868: undefined reference to `_memarea_alloc'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2869: undefined reference to `_memarea_strndup'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2740: undefined reference to `_memarea_alloc_zero'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2753: undefined reference to `_memarea_strdup'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2819: undefined reference to `_memarea_alloc'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2820: undefined reference to `_memarea_strndup'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2856: undefined reference to `_memarea_alloc_zero'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2918: undefined reference to `_memarea_strdup'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2825: undefined reference to `_memarea_strndup'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2887: undefined reference to `_memarea_strndup'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2853: undefined reference to `_memarea_alloc_zero'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2853: undefined reference to `_memarea_strdup'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2837: undefined reference to `_memarea_alloc'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2802: undefined reference to `_memarea_alloc_zero'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2753: undefined reference to `_memarea_alloc_zero'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2915: undefined reference to `_memarea_alloc'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2894: undefined reference to `_memarea_alloc_zero'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2912: undefined reference to `_memarea_alloc_zero'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2918: undefined reference to `_memarea_alloc_zero'
routerparse.o: In function `networkstatus_parse_detached_signatures':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2453: undefined reference to `_memarea_new'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2545: undefined reference to `_memarea_drop_all'
routerparse.o: In function `router_parse_addr_policy_item_from_string':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2580: undefined reference to `_memarea_new'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2600: undefined reference to `_memarea_drop_all'
routerparse.o: In function `find_dir_signing_key':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:824: undefined reference to `_memarea_new'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:846: undefined reference to `_memarea_drop_all'
routerparse.o: In function `authority_cert_parse_from_string':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:1546: undefined reference to `_memarea_new'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:1667: undefined reference to `_memarea_drop_all'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:1658: undefined reference to `_memarea_drop_all'
routerparse.o: In function `extrainfo_parse_entry_from_string':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:1428: undefined reference to `_memarea_new'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:1514: undefined reference to `_memarea_drop_all'
routerparse.o: In function `router_parse_runningrouters':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:757: undefined reference to `_memarea_new'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:798: undefined reference to `_memarea_drop_all'
routerparse.o: In function `router_parse_directory':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:654: undefined reference to `_memarea_new'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:733: undefined reference to `_memarea_drop_all'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:692: undefined reference to `_memarea_clear'
routerparse.o: In function `routerstatus_parse_entry_from_string':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:1857: undefined reference to `_memarea_clear'
routerparse.o: In function `networkstatus_parse_vote_from_string':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2081: undefined reference to `_memarea_new'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2429: undefined reference to `_memarea_drop_all'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2432: undefined reference to `_memarea_drop_all'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2284: undefined reference to `_memarea_new'
routerparse.o: In function `networkstatus_v2_parse_from_string':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:1906: undefined reference to `_memarea_new'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2009: undefined reference to `_memarea_clear'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:2052: undefined reference to `_memarea_drop_all'
routerparse.o: In function `router_parse_entry_from_string':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:1109: undefined reference to `_memarea_new'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:1392: undefined reference to `_memarea_drop_all'
routerparse.o: In function `rend_parse_v2_service_descriptor':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:3350: undefined reference to `_memarea_new'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:3481: undefined reference to `_memarea_drop_all'
routerparse.o: In function `rend_decrypt_introduction_points':
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:3538: undefined reference to `_memarea_new'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:3549: undefined reference to `_memarea_clear'
d:/CompileProject/tor-mingw/tor-svn/tor/src/or/routerparse.c:3619: undefined reference to `_memarea_drop_all'
collect2: ld returned 1 exit status
make[3]: *** [tor.exe] Error 1

@_date: 2008-09-26 08:50:10
@_author: Li-Hui Zhou 
@_subject: How to strictly exclude exit nodes? 
When using the latest svn version of tor as a client, ExcludeExitNodes
as CIDR format used, it give me this warn:
(time) [warn] Requested exit node 'blabla' is in ExcludeNodes, or
ExcludeExitNodes, using anyway.
How can I strictly do not allow those exit node that are already
excluded from being used?

@_date: 2008-09-26 11:43:23
@_author: Li-Hui Zhou 
@_subject: How to strictly exclude exit nodes? 
There's no such options right now.
Yeah. It really should be work like that.
Please add it devs.

@_date: 2008-09-26 19:10:00
@_author: Li-Hui Zhou 
@_subject: How to strictly exclude exit nodes? 
If it's StrictExitNodes option that your're talking, I think it only
applied when there's specific exit nodes with option ExitNodes. I'm not
sure if it's working with blacklist set by ExcludeNodes or ExcludeExitNodes.
BTW, there's a warn with StrictExitNodes 1
[warn] StrictExitNodes set, but no ExitNodes listed.

@_date: 2008-09-26 20:01:12
@_author: Li-Hui Zhou 
@_subject: How to strictly exclude exit nodes? 
I have tried StrictExitNodes 1, but the warn still pop up, which means
that option does not work the way I want. Tor still have the chance to
select an exit node which is in the CIDR range of ExcludeExitNodes
settings. There is really need for Exclude[Exit]Nodes be stricted.
