
@_date: 2019-06-11 18:26:09
@_author: Drew@FoundingDocuments.org 
@_subject: [tor-talk] Let's Encrypt Certificate Upgrade Blocks Tor. 
Dear Tor-Talk, I accidentally blocked (at least) Tor users due to a security upgrade of my Let’s Encrypt certificates. I’m hoping someone can tell me what to do, besides going back to lesser security. Reloading over new circuits didn’t fix it, at least after 10 or so.  Safari loads my websites fine (from the shared server, please don’t laugh. :-) My main motivation for increasing the security of my certificates is the availability of tools to MITM my https connections on the vampire net. Best I can tell, if someone modifies my webpage between my https server and me, I will know about it. However, from what I can determine, it’s possible to run an http proxy with a local CA that can do things like strip off my encryption thus rendering the page in plain text. I’ve also gathered that techniques from RFCs can be used to prevent these MITM http proxies with local CAs from stripping the encryption. Thus when I manually (please don’t laugh :-) renewed my certs I added a few new options to the certbot client. In the security section I’d already been using --rsa-key-size 4096 so I’m sure that isn’t the issue. Before & After
certbot certonly --rsa-key-size 4096 --manual --preferred-challenges dns --cert-name Example.com -d Example.com -d certbot certonly --rsa-key-size 4096 --must-staple --redirect --hsts --uir --staple-ocsp --manual --preferred-challenges dns --cert-name Example.com -d Example.com -d All I did was add --must-staple --redirect --hsts --uir --staple-ocsp. --must-staple   Adds the OCSP Must Staple extension to the certificate. Autoconfigures OCSP Stapling for supported setups (Apache version >= 2.3.3 ). (default: False)
--redirect   Automatically redirect all HTTP traffic to HTTPS for the newly authenticated vhost. (default: Ask)
--hsts   Add the Strict-Transport-Security header to every HTTP response. Forcing browser to always use SSL for the domain. Defends against SSL Stripping. (default: None)
--uir   Add the "Content-Security-Policy: upgrade-insecure-requests" header to every HTTP response. Forcing the browser to use https:// for every http:// resource. (default: None)
--staple-ocsp   Enables OCSP Stapling. A valid OCSP response is stapled to the certificate that the server offers during TLS. (default: None)
I am guessing perhaps my Apache isn’t configured to deal with stapling?  But why would Tor Browser fail and not (at least) Safari? Is something regarding PKIX in Firefox missing or broken? A search of PKIX didn’t turn up much. How do I keep my security but unblock Tor Browser users? Thank you.

@_date: 2019-06-11 16:58:39
@_author: Drew@FoundingDocuments.org 
@_subject: [tor-talk] =?utf-8?q?=5Bwarn=5D_Rejecting_SOCKS_request=E2=80=A6?= 
Jun 03 23:02:51.000 [warn] Rejecting SOCKS request for anonymous connection to private address [scrubbed]. [2 similar message(s) suppressed in last 300 seconds]
I have done some reading on what this means but am still unclear. I see this warning because I %include a ‘log notice’ line. Using Tor Browser and visiting some websites causes this warning to appear. At first the warning sounded like a webpage might have a JavaScript on it that was able to concoct a command to talk the SOCKS protocol specifically to [invade privacy]. This seemed possible since I didn’t check the log as I browse and sometimes I am forced to enable JavaScript and thus load external js files. Yes, I do my best to conscientiously always browse with JS off.
But after paying closer attention during browsing and looking at the source of a page I loaded, I’m pretty sure the message is generated by various in-line JavaScripts. Please excuse me for not actually testing this. Below are a few trac tickets regarding the log notice [warn] and for a twist of irony which I didn’t intend, the StackExchange page will generate this [warn] and you can also read about what is said there. :-) My question is similar ~ what does this warning mean? What’s being attempted? Perhaps a websockets connection? I see wss:// is in the Stack Exchange source. But a check of Wikipedia  indicates websockets is designed to work/upgrade/[hijack] traditional http port 80 & port 443 connections.  So this perhaps is why I don’t see ws:// or wss:// in other webpages which generate a [warn]? Is the “private address [scrubbed]” in my LAN? Or is it inside of one of these tracking companies? Last but not least I am sure a “Thank You Tor Developers” is in order for blocking these things!
Option for downgrading "Rejecting SOCKS request for anonymous connection to private address” log
Can requests to 127.0.0.1 be used to fingerprint the browser?
What does “[Warning] Rejecting SOCKS request for anonymous connection to private address [scrubbed].” means?

@_date: 2019-06-13 02:12:37
@_author: Drew@FoundingDocuments.org 
@_subject: [tor-talk] Let's Encrypt Certificate Upgrade Blocks Tor. 
You may laugh now. :-)
$ openssl s_client -connect FoundingDocuments.org:443 -servername FoundingDocuments.org -tlsextdebug -status
In reading the output from the above command, there is an “OCSP response: no response sent” line which is probably raising the error in Firefox.  There ought to be a short chunk of text here, the response. It seems Safari and Chrome somehow deal with this omission. Firefox and Tor Browser don’t like it. The GD host doesn’t offer this to me although it’s been available in Apache for many versions, and they won’t let me turn it on; oh well. I hope it’s no great loss. Anyway, it looks like the best thing for protecting surfers who might be man-in-the-middled is cerbot’s  --hsts option to “[] Defend against SSL Stripping.” Hopefully this proves useful to someone searching around in the future.  (It’s not clear to me why having this feature off is the default. And my guess is with https .onion addresses, as long as one is using Tor Browser—versus Tor as a LAN proxy for example—one doesn’t have to worry about SSL stripping since the entirety of the traffic is in the Tor cloud and not proxied.)
And of course I look forward to the day when LE issues Domain Validation certificates for .onion addresses. I think this may mean a 3rd kind of onion icon in the address bar.

@_date: 2019-05-19 17:30:39
@_author: Drew@FoundingDocuments.org 
@_subject: [tor-talk] How long does it take for websites to discover new 
I have a confession to make. I have probably blocked Tor, unintentionally at least. But any blocking I’d turned on has been turned off. Maybe for up to 14 years it’s been pretty easy for website operators to see basic log information like IP addresses connecting to the website and CPU use. Over the years a pattern emerged that some IP addresses seemed to be extremely aggressive in page requests. Over time I decided those IP addresses were proxies of some sort, at times I blocked them, at times I didn’t. When I performed a simple whois IPv4 on the addresses, usually it was clearly a computer in a large hosting environment. It was not clear to me if they were running wget or similar in a horrible fashion and abusing my website, or just an exit point for a proxy. Since I don’t charge money and don’t run ads, I just want to publish, I didn’t dig deep in the reasons, I just clicked “Block IP” in my CMS admin webpage. Which I hoped would be enough to at least let a few of the other IP addresses on the Internet connect. ;-) I also hoped the ignorant bullies would give up and the truly interested would pursue another avenue.
jiggytwiggy, hopefully that sheds some light on the question in the subject line “How long does it take for websites to discover new exit nodes?” at least from the perspective of a website admin who runs on modest hardware. Sometimes it’s as soon as they load an admin webpage and it gives them some feedback on IP addresses of visitors: # hits, & CPU use. I totally admit the IPs may not be Tor exit nodes, but it’s possible they are. And it depends on if those hits equate to paying customers, a huge hosting bill, or a throttled website. Your next question has a definite implication of automated checking of the Tor exit node list. It appears this list can be checked at any time in a few ways, so the answer is subjective. In my limited experience, I would say I’ve encountered about 5 fairly memorable pages that recur at seemingly unrelated websites, which seemed to me to be intentionally blocking Tor. All designed to make it look like a technical issue that I should perhaps report, or else a website might say something bland about how they like the European Union “but due to xyzzy we can’t show the page,” i.e. they block Tor. The bad news is some of those websites don’t allow any access, not even with a hurdle, and they perhaps abusively reload the Tor exit node list. The good news is some sites that totally block Tor can still be accessed after clicking ‘New Circuit for this Site;’ so clearly those systems check the Tor exit node list less frequently.
The Tor Project server which provides the exit node list says it logs no IP addresses of visitors; so it sounds like it’s impossible. Not to mention they could be using Tor to load it. :-) Also, based on my limited reading, while I’ve been trying to learn about the technical sides of Tor, it’s become clear that some people hate Tor, so my guess is among the attacks they engage in is a repetitive reloading of the exit node page; thus page count won’t mean much.

@_date: 2019-05-19 18:46:11
@_author: Drew@FoundingDocuments.org 
@_subject: [tor-talk] Accessing .Onion Service From Mobile 
Dear Tor-Talk, Once I heard about Tor's abilities to get a service out past NATs I was very excited.
Now I am stuck trying to reach it.
I'm trying to figure out the pieces of synchronizing my to-do list from my computer's WebDAV server with my mobile device. On my mobile there's a companion app, it syncs fine over WiFi LAN when it's given my computer's IPv4 address. But the problem is how to give my to-do list app on iOS the .onion address for the WebDAV server? 1) Make a feature request to the app vendor to deal with the Tor network? I.e. embed Tor.
2) Find an app in a specific so-called walled-garden-app-store that promises to be my proxy so that one or more apps can deal with .onion addresses? I.e. some app that's embedded Tor. 3) Submit yet another security enhancement request to a certain hardware/OS vendor. Mainly asking them to handle requests to .onion addresses at the OS level, thus negating this manual intervention. 4) See what I can hack or cobble together on my own.
I have decided to go with v3 Onion Service. My computer runs both my to-do list keeper and the WebDAV server, although the latter is open to change. I’m motivated enough to write feature requests but realistic enough to know that unless they’ve been working on it for a while, what I ask for would be at least 1 major version away. So that’s  &  out of the way. With regards to  I’ve not inspected every app in a big name app store, but none of them seem to offer what I want; please correct me if I’m wrong. I see lots of web browsers, and plenty of for-hire external VPNs. But I don’t see anything where an on-device VPN/proxy server can be set up, similar to Charles Proxy; but with Tor-specific features. (Charles Proxy sets up a VPN connection to itself, it has a great blocking feature, but its DNS spoofing isn’t robust enough (best I can tell) for me to use it with .onion addresses. However, it may be that CP is the closest to what I want, so I may begin my feature requests there; to see if he will add Tor features and feature for Tor.)
Leaving  which is mostly two main options I think: Learn about or figure out some middleware device that plugs into the iOS device, and sits between it and .onion addresses. This sounds needlessly complex and expensive; ugly and easily misplaced.
The final option is to dream big about compiling my own multilayered Tor app. Since it will probably be a while before average mobile apps get the ability to talk to .onion addresses, it would be nice if there was some middle ground, on-device app, that handled translation between .onion and IPs for non-Tor aware apps. Allowing for some apps to be forced through Tor while other apps aren’t. Thank you.

@_date: 2019-11-15 13:57:23
@_author: Drew@FoundingDocuments.org 
@_subject: [tor-talk] Brave Review Mentions Tor 
A few-days-old review.
Since Brave is the browser for OnionBrowser on iOS, I figured I’d read the article. The author is not clear enough if “Tor sites” means .onion sites or sites accessed through an exit node. My own personal aside is I tried Vidalia years ago (my mother alerted me to it) back in the days of MacOS X 10.4 or 10.5. But instead of an increase in ads, what got my attention was that Little Snitch ( was no longer intercepting and alerting me to most connection attempts. I felt Little Snitch was being undermined.  Since I had a hazy understanding of Tor and what was happening, I stopped using it. That was then, this is now. In the two-paragraph-mention are two links to other articles about Tor. So I read both. The latter link “wander through the Darknet” is near total rubbish and reminds me that since the 1980’s, as a Mac user, I’ve been subject to their horrible reporting and dumb insults. This other article isn’t so bad. But the last line in the second paragraph is outrageous. So vague as to range from 100% fraudulent to intensely misleading thus bad advice. Perhaps it was expos-facto tacked on to the article by someone other than the author. 1) Ditch Tor altogether and go with one of our top picks for VPN services for even more privacy.
Analysis: A complete lie. 2) Use Tor but add even more privacy by purchasing a service through a VPN company we reviewed.
Analysis: This advice add expense, slowdowns, and false security of being protected by a VPN company.

@_date: 2019-11-21 12:53:29
@_author: Drew@FoundingDocuments.org 
@_subject: [tor-talk] Brave Review Mentions Tor 
I screwed up. I feel dumb for not double checking before I wrote “Brave is the browser for OnionBrowser on iOS,” it’s “Endless.”  Perhaps it’s because I read about it long ago, perhaps I got confused by a slogan regarding privacy, perhaps I read some bogus post someplace that lead me to believe that, or perhaps because I am currently in a state of immense sorrow.
So please don’t hold it against me. :-) I’m here to apologize and set the record straight.

@_date: 2019-11-21 15:14:56
@_author: Drew@FoundingDocuments.org 
@_subject: [tor-talk] Brave Review Mentions Tor 
I’ve been gorging on Tor info for a few months now; at first to see if some claims I heard about it were true, since it had been many years since I tried Vidalia, or sought out info on the Tor Project. But serendipity and the confluence of misc. events made me think Tor was worth taking another look at. One of my relatives works for the NSA.  I’ve taken a stances on some controversial subjects. But those didn’t factor in much. Mainly I was excited I could securely access my own computers/data while out and about, I could share family photos, movies I made with my brother’s kids, and help my elderly parents share theirs with their grandchildren, and them with us without having to post them publicly, and another massive factor was that our govt. had begun promoting outrageous conflict of interest by allowing telcos/ISPs to get into the advertising business, thus increasing their horribly offensive spying and stalking  everyone and treating us all like fish in a barrel. This does not mean I’m not sympathetic to the many other use cases for Tor which it can bring benefit to societies. My level of understanding Tor hasn’t yet increased enough to know the intricacies of connecting to a VPN first. Connecting to an average VPN I guess is ok, but like I said, probably means a slowdown, and expense.  I do understand the obviousness of: if your ISP is blocking Tor, then connecting to a VPN first could probably let you run Tor over it. But what if you think you are connecting to a VPN that’s on the up & up, but they are not? Can the VPN trick your Tor into choosing a bad guard or otherwise mess things up? I don’t know, and also, while I feel those questions are interesting, they are not really my focus at the moment. Back in the 1990’s I bought an awesome Macintosh BBS program called TeleFinder for a few hundred dollars and tried to get teachers on it and discussing education. That was a massive outlay for an elementary school teacher in the deep south. Like Dr. John sings, it was the right time, but wrong place. I’d also overestimated teachers idealism and enthusiasm for their work. But thus is the usual plight of neophytes.

@_date: 2020-02-03 14:05:21
@_author: Drew@FoundingDocuments.org 
@_subject: [tor-talk] Tor Browser without Tor 
For best practices sake, I found it a good idea to double check my settings; since the GUI in the Preferences is no longer there. Typing “about:config” in the address bar, then typing “proxy.n” was the fastest way to bring up that option. Context-click/Right-click on that line, a menu pops up, choose Reset. This cleared the Value field. Also, I tested changing the IP Address CIDR notation to “/0" (zero), and that worked too.

@_date: 2020-10-06 13:10:26
@_author: Drew@FoundingDocuments.org 
@_subject: [tor-talk] One Less Site Blocking Tor (Browser) 
Not too long ago I used Tor Browser to visit a website and found I was rejected completely. Not even a captcha. Clicking new circuit many times didn?t help either. At least their site wasn?t just a stiff arm giving me the finger. It actually had a note saying if I thought it was blocked in error to contact them. Of course it had a tracking number and time stamp.
So I sent them a screen shot of my browser window and this short note: A day or two later I heard back. It was gracious enough but supposedly the blocking was to protect customers (ahem, me) and themselves ?from possible illicit activity.? After a few days on the back burner, I wrote them back and asked: what was illicit or illegal with me trying to learn their business hours. And I provided a bunch of v2 & v3.onion addresses to some popular and well known organizations to show there?s nothing intrinsically wrong with Tor. But since I considered it a possibility they don?t run their own website, and that possibly those who do may be pocketing a slice of the cost for blocking people like me, I also printed out my reply and took it to the store. Then I would have a bit more confidence someone at the actual business would know what happened. On my next trip to the store I talked with the person at the customer service area, gave them my printout, and tried to explain how great Tor is. It was a good conversation and since the guy was interested in computers we hit it off, and he learned a few things. It wasn?t until a month or two later I used Tor Browser to look at their website. I was very pleased they?d stopped blocking Tor exit nodes. And I?m pleased to report they still don?t block Tor.

@_date: 2020-10-17 18:12:59
@_author: Drew@FoundingDocuments.org 
@_subject: [tor-talk] One Less Site Blocking Tor (Browser) 
Thank you for the compliments. I?ve often spoken against stock answers, so it?s hard for me to comply. I hope the offended will forgive me. I think the best advice is based on the existing relationship and current context (generally place & time, reason, etc). Fundamentally, businesses want to move product, and every organization, to varying degrees, wants its information available 24/7. If they?ve gone to the time & expense to set up a website, perhaps outsourcing the hosting too, they would not be pleased repeat or new customers are being blocked. Here?s where the man-in-the-middle problem comes in. Emailing based on addresses or forms on the website is not exactly guaranteed to make it through to the business owners. Especially if the host has a conflict of interest in reselling fear-mongering against tor, whether or not they intended it. So as far as what I imagine could be written by me, or something I might feel comfortable using as a resource, I think it would mostly include short sentences or very short paragraphs; some being stand-alone and some being meant for cobbling together. Then a person could use some of it in their email/postal-mail to the owners of the site being blocked. But any message to the site needs to be based on what the site looks like (as I?m sure you know, there are varying degrees of blocking) and the site?s response to the initial contact. Thus some reluctance to write templates. I?m not exactly sure how you imagine the flow of (paraphrasing) ~ sending templated messages to sites that block Tor. Some one-liners popped in my mind but they sound like strange greeting/sympathy cards: Thank you for your interest in blocking harmful activity, but please understand I was only trying to find out when your store is open so I can come in and buy stuff.  Which I am sure would sound better in haiku. :-)
