
@_date: 2010-08-23 14:35:47
@_author: Stephen Carpenter 
@_subject: The team of PayPal is a band of pigs and cads! 
And I imagine that means you were too nice to respond with "Can I
please talk to someone who actually understands what I am talking
Way back in the day when ISPs offered shell accounts, I noticed that
ping was in sbin on solaris. So I made myself a ~/bin dir and made a
sym link to ping (I know, a bit round about, but it made sense to me
at the time). I thought nothing of it, and forgot all about it.
One day, a year or so later, my account was locked and when I called,
I was told it was because it looked like my "account had been hacked
and someone enabled unauthorized access to the ping command". I just
didn't even know how to respond to that other than thanking them and
changing my password.
Of course, this is the same service where I got a talk message from
someone, and he started asking if I could help with his algebra
homework. After going over some problems with him and explaining a
bit, I was then asked if I needed another email address, as he was the
head sysadmin.
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-02 16:54:04
@_author: Stephen Carpenter 
@_subject: Firefox woes with .onion and proxies 
This is more of a firefox issue than tor, but I am hoping someone has run
into this and knows what I am seeing.
Firefox/torbutton/tor has me about to rip hair out. I have used tor for a
while, kicked around a location hidden service. Decided I wanted to
experiment some more.
A while back I setup a second firefox profile just for tor, and recently
installed torbutton instead of "leaving it naked". Now I am quite unamused.
If I connect to my proxy (either privoxy or polipo) I can issue a head
command for my onion address. I get a proper response indicating the
webserver that I am running. Good to go.
Now I fire up firefox. If I use torbutton in default config, I can get to
google, verify that my IP is not my own etc. If I go to vidalia and select a
new identity, I get a new IP and usually, google in a new language. Awesome.
Now, I put in my onion address.... and firefox dutifully adds a "
before it, and immediately times out.
Then I go into the torbutton config. I turn off all proxies except the socks
proxy on 9050. Now I can browse the web AND connect to my hidden service.
However, after a few requests, firefox starts reporting that the URL being
loaded is of a bin type and needs to be handled by an external program. I
allow it, and it brings up the download manager, with no new file listed but
"all downloads completed". This persists until I restart firefox.
If I go to the webapp that I am playing with, and get redirected to another
URL on the same site, it loads does the same dance, but does it every time.
Has anyone seen behavior like this? I am stumped.
Even if I turn off torbutton, it does this, so I suspect its a firefox
version or config issue.

@_date: 2010-02-03 10:51:48
@_author: Stephen Carpenter 
@_subject: Tor relay security 
How does that help? If the machine is compromised, the disk will be
mounted and unencrypted.
Encrypted drives are really only helpfu if A) physical security/theft
is the major concern or B) you can leave the volume offline.
Does tor need access to these keys after startup (I assume not?) Of
course it does mean needing to decrypt the files for each restart. It
would be nice to have that supported as a standard feature of the
startup script but.... it also means not being able to do unattended
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-22 14:52:32
@_author: Stephen Carpenter 
@_subject: configure Tor to advertise its orport as 443 but really bind to  
Can root ssh to localhost without a password? If so, then I think that
should work.
My guess is not, since its not configured to allow that by default.
Also, the ssh connection will not restart if it dies (I maybe not an
issue over the loopback). At the very least, autossh is recommended.
However this is not really the best way to do it. IPTables is a much
better way to go. Failing that, why not just advertise the real port?
You are going to be pushing all data through a local encryption
stream, doing both encryption and decryption on the same box as
overhead to the connection.
This sort of trick really shines for making a port elsewhere available
to your local machine for browsing "inside" another network (I use it
to get to my internal machines), but, when used to just locally
forward a port, its overkill.
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-25 11:17:07
@_author: Stephen Carpenter 
@_subject: What can see a server of a Bittorent when I contact with it  
Well how exactly would you accomplish that? You could put the tracker
on a location hidden service, that eliminates one exit node, however,
to connect with other hosts in the swarm, you need to be able to
connect to them... which means now, you have to have every bittorrent
client in the swarm ALSO running a location hidden service, lest you
need exit nodes to contact them.
I highly doubt any bittorrent client yet supports operating in this
manner. It would be very cool to see... but... there would be some
hurdles. (should each node in the swarm publish a public rendezvos
descriptor? If not a custom client would be needed to set them up and
distribute them via the tracker rather than the public directories)
Kind of arbitrary but, seems like a reasonable guideline for anyone
who wants to be sure that they are giving back.
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-05 14:20:50
@_author: Stephen Carpenter 
@_subject: Firefox woes with .onion and proxies 
Either way, same result. Firefox is 3.5.7 on Ubuntu
A lot since I put debugging on, however, I KNOW thats not the problem.
Two reasons:
1. If I telnet to 8118 or 8123 (privoxy or polio respectively, both
setup to socks-4a forward EVERYTHING
to socks on 9050) and issue a request by hand, it works fine.
2. If I setup firefox to use SOCKS 9050 directly, none of this happens
and the page loads.
You see why i am pulling my hair out. The http proxies both work fine.
Firefox doesn't even send them the request!
I might believe that if it wasn't for the fact that the webapp's post
and get methods both begin with a
logging statement, and nothing shows up in the log.
Also, if I disable tor, and connect directly to the webserver using
normal dns, well, both apps and the forward all work fine. Very
I have since uninstalled torbutton, but, have the same problems.
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-08 09:50:03
@_author: Stephen Carpenter 
@_subject: Firefox woes with .onion and proxies 
Two things....
Fixed it! Many thanks! Maybe I should nuke my anonymous profile from
orbit now and again
This looks like it fixed the other issue I was having too (behaving as
if the wrong content type was sent)... tho that looks like just bad
socks errors... the port number was being left off one of the
redirects (oops) and it looks like firefox wasn't giving the proper
error. Now that it talks to polio again, I got the error
You are my saviour. This didn't fix my issue (as you can see) but has
exorcised a demon from firefox which I have cursed since the day it
first screwed up a url on me. Thats getting changed in every single
one of my profiles!
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-19 15:21:15
@_author: Stephen Carpenter 
@_subject: Reducing relays = reducing anonymity ? Tortunnel. 
I agree with most of what you have had to say, though, this gets to
the heart of why its not just "bad for you" but "abusive to the
community". However, I am not sure that I understand how this is the
Certainly there is a certain amount of sense to the idea that
tortunnel traffic may use another system that focuses more on speed if
tortunnel was unavailable. However, an assumption is an assumption and
I am not sure how much I buy the truth of it.
Is there an argument for the problem beyond this? What load balancing
mechanisms is it ignoring? Is this ignorance a symptom of what it
tries to do, or a symptom of ignorant design (ie just plain ignoring
network information that it is the client's job to respect?).
I ask for two reasons. The first is logical accuracy, what its trying
to do, while bad for user anonymity, doesn't, on its face, seem like a
real problem for tor exit node runners. The second is that I have
considered writting a client myself (I have some things that I want to
play with that is a bit beyond what the current client can do... like
rendezvous nodes that don't publish in the public directory) and I
wouldn't want to end up being considered an abuser
A bit overstated but, not far off. It is as anonymous as any single
hop relay. Also, since it tries to emulate tor traffic to trick the
node, well, if you were running a node (even a non-exit), I would
think that tortunnel traffic would be very hard to distinguish from
non-tortunnel. Of course... this wouldn't help if speed is your goal.
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-26 12:01:12
@_author: Stephen Carpenter 
@_subject: problem with bridges and a suggestion 
The question though is... how do they find them? Sure, you can get the
directory list, scrape the common bridge lists. However... this pretty
quickly is just "Whack a Mole". You have to imagine that they are
smart enough to figure that a person who was using tor yesterday, is
probably looking for a new bridge today.
Once you know who, even if its a small subset, is using tor, and smart
enough to find bridges as you shut them down, well... it wouldn't be
hard to watch them, and identify which connections of theirs are
bridges, and then push out new block lists. Even if I can't prove that
your connection from port x to port y is a tor connection, I can still
connect to the same remote port and negotiate an ssl connection myself
and verify if its a bridge. Hell, it could be automated.
It may not be 100%, but, it doesn't really need to be. Its not like
you need all the users all the time, just enough to raise the bar and
cut down the numbers.
Perhaps other ways of hiding it are needed. As it is, it would be
trivial to connect via ssl and verify if a machine talks onion router.
It might be harder if there were multiple protocol paths into it. What
if I connect on port 25  and get a normal mail server, then start tls
from within protocol and use a command to switch to onion routing. I
connect on port 636 and its ldap first. 993 and its IMAP over ssl.
Perhaps the secret command to initiate the protocol could be part of
the bridge description?
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-28 08:09:22
@_author: Stephen Carpenter 
@_subject: HTTPS Everywhere Firefox addon 
That sounds great about 90% of the time. However, think of someone who
is troubleshooting something or is dealing with a site
that has https and http content that are not the same, but may share
the same URLs (or URLs that at least don't error).
Doing it by site according to rules makes a lot of sense, that way I
just can leave out rules for any special sites, or sites that I might
personally be working on and need to be able to use both ways (testing
to be sure it works for the masses)
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-09-14 22:26:55
@_author: Stephen Carpenter 
@_subject: Orbot transparent proxy working on rooted android? 
Has anyone had any luck getting orbot working on android 2.2?
I installed it from the market, and it of course, immediately set out
to root the android. I did it, and orbot requested root access, I
granted it.
Then I turned on transparent proxy, and selected "browser" and a
couple of other apps to be proxied. It claims to connect just fine to
the tor network, and is able to build a circuit.
So far I can't get tor check to say I am using tor. Has anyone had success?
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-09-16 20:07:23
@_author: Stephen Carpenter 
@_subject: Orbot transparent proxy working on rooted android? 
Well it is, at least good to know that I am not alone.
I kind of like the vpn+proxy idea. I may have to set that up for now.

@_date: 2011-04-14 13:45:38
@_author: thecarp 
@_subject: [tor-talk] To Toggle, or not to Toggle: The End of Torbutton 
Agree completely. This is the setup that I have been using for a few
years now. I find it annoying that "multiple profiles" is practically
hidden functionality these days. I found setting it up on both windows
and linux to require some careful reading and playing around to make
work the first time.
I actually have used it to good effect for several things. I have about
3-4 different profiles that I actively use. I can easily tell the
difference between them by choosing a different theme for each one.
Different themes is definitely highly recommended.

@_date: 2011-02-22 15:49:11
@_author: thecarp 
@_subject: [tor-talk] Is "gatereloaded" a Bad Exit? 
I have been virtually unplugged when this discussion was fresh, but
after reading back over a few comments, I think you touch upon my
problem with this.... a local network admin knows his network better
than anyone else... and he may have a damned good reason for blocking or
allowing any given port.
It is even possible that someone might run tor in lieu of encrypted
services, I know I went and made sure that the whole trick of getting
end-to-end encryption by having a node ON the target hosts worked for me.
Honestly, even if we assume the worst, that the point of such an exit
policy can only be to corral unencrypted traffic to mine.... I have to
wonder, how is that so much worst than the situation anywhere else? Any
exit node could be sniffing, disallowing "bad actors" from this minor
optimization will not stop them (they will just change to put up with
the extra few % increase in traffic). Not just that, any node could be
sniffed without the operator even knowing (via being owned or via an
external device at the ISP or inbetween destinations).
All in all, this seems like a rather flimsy protection.
This I feel differently about. I agree, its a different issue. Running a
tor node that is published in the public directory means that traffic
can get sent to you. There are many reasons why other tor users may want
to contact you. If, for example, you were advertising *:80 and your ISP
started blocking *:80 from you (or any other reason that it would stop
working) then, you are causing problems for everyone else trying to use
it... being able to be contacted (if not necessarily personally
identified) seems like a reasonable minimum.
That said, the policy should not be "nodes will be marked" but "nodes
can be marked". Reserve the right to do it, rather than promising that
someone will do it. It should be about keeping the network in good
working order, not enforcing policy for its own sake.
I am thinking, what if badexits became more like a DNS RBL.... there
could be multiple sources of truth that people could choose to subscribe
to. Maybe, for some reason, I feel the need to avoid exits in some area
(like china), it would allow me to subscribe to the list that tries to
keep chineese exits banned.
Maybe someone could make a little side cash (bitcoins?) doing node
contact verification and publishing a badexits list based on faile
docntact info. Shit...maybe implement a "good exits" for them. Just some
thoughts. No reason that this needs to be overly centralized.

@_date: 2011-02-24 15:10:56
@_author: thecarp 
@_subject: [tor-talk] Exit snooping 'research' 
It isn't, but nor is just passively capturing and just using whats
captured. There is no law of sniffing that says the person sniffing HAS
to take the bait every time. If he is content to just get what comes
over his wire and stick with that.... he still gets whatever emails that
you downloaded.
It also doesn't prove that the operator was complicit. That the sniffing
was happening along a path between only one node and your email server,
doesn't actually prove that it was happening at the node.
Admittedly, with the sort of exit policies that started all this, it
would be quite a preponderance of evidence but, still not hard proof.
Though, given the relative innocuousness of being on the bad exits list,
hell.... its hard to say definite proof is needed.
This would actually be quite an interesting test. Anyone taking bets on
how many nodes lead to compromised account passwords? I am guessing at
least a handfull, maybe as many as a dozen?
Of course, an operator with multiple bad nodes might notice if you used
the same sever/account with different passwords over a short period of
time. Might need to vary servers/accounts a bit to be really
thorough.... but... that is probably overkill.

@_date: 2011-02-28 15:02:40
@_author: thecarp 
@_subject: [tor-talk] Thoughts on proxy setup wrt insecure connections 
After the whole discussion about "gatereloaded" and "badexits" I was
thinking a bit about the discussion and wondering if there is a way to
add a bit more protection to people who are, well, newbs. As one article
pointed out:
"many who use Tor mistakenly believe it is an end-to-end encryption
tool. As a result, they aren't taking the precautions they need to take
to protect their web activity. "
This is a similar, but not exactly the same problem. Clearly blocking
all port 80 would be pretty harmful to a lot of use. However, for
protocols like pop3 or imap, the case for allowing them is clearly not
as strong, though, the case for banning them completely or requiring
exit nodes to carry both is... pretty dubious (especially given that
some people will run things on non-standard ports anyway).
So here is my thought, what do people think of a configuration item in
tor, setup to be "on" by default, which blocks attempts to go to certain
ports at the proxy level, but allows users to turn this "protection" off
if they wish to? Maybe make the list of blocked ports configurable.
Logically, this doesn't present the same problems as differing lists of
failed exits, as a router blocking access to a port directly through its
socks proxy is going to be indistinguishable from one that is just not
making such connections in the first place.
It also means that I have less of a chance of accidentally leaking a
password because I was setting up a new email client and hit "apply" (or
whatever) before I turned on SSL, and it tried to go get my mail.
Could have it log, and have vidalia look explicitly for those messages
in the logs and pop up a message "It seems you are trying to access
insecure data ports...."
I will note, polipo already does this.... I found this out when I
decided to be cute and try running a web service on a hidden service on
port 1 for shits and giggles.

@_date: 2011-02-28 16:32:49
@_author: thecarp 
@_subject: [tor-talk] Thoughts on proxy setup wrt insecure connections 
I always forget about STARTTLS
You are absolutely right of course, and that applies to other protocols
as well.
The only hole I would shoot in that is that, as I mentioned, polipo is
already blocking access to many ports by default, and so this sort of
attack is already possible for some of those ports. Actually that makes
a good case for not running anything on ports that polipo blocks by
default, since any change there could be detected so easily. I never
thought of that.
Good anonymity really is a much harder problem than it would seem. It
really is amazing the number of ways it can fail.... and in such simple

@_date: 2011-02-14 19:53:43
@_author: thecarp 
@_subject: Scroogle and Tor 
Makes a lot of sense. Actually, can hardly blame them for wanting to
mine the data. Of course, you make it pretty easily available, as you
detail. I can see why this starts to present a problem.
Ouch, that really sucks... time like that adds up fast.
Well...google uses the captcha system. Hard to say how well that works.
I doubt anything too simple is going to work here, for many reasons,
including the ones that you specify. How about this... we know you can
(mostly reliably) detect tor exits.
I think you have your goals wrong. You don't need to stop the scripts
from getting to google, even google can't stop that on their own site.
What you need is to make abusive use unprofitable on a scale that matters.
Tor users care about their privacy right... but you need a way to
differentiate them. So how about a temporary registration system? I get
sent to a page with a captcha (or two kinds even). If I pass, then I get
a token (set in a cookie, or put in the query string) that lets me do
searches. Maybe I can set when it should expire (up to a max).... maybe
put in a 30 second timeout before it becomes active. (slow them down
some more)... maybe limit the rate per ip over time for registrations?
Secondly, have you considered poisoning their stream? If you detect an
obvious abusive script, return randomized cached results. Ruining their
work, rather than just slowing them down, might convince them to move on
and try somewhere else. It is a thought anyway.
It will be sad to see tor users lose your service (I actually had only
heard the name before this thread, very curious to check it out now).
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-01-26 16:31:27
@_author: thecarp 
@_subject: understanding problem, hidden services 
You might get better answers there, but I think I have enough of a
handle on this to try, I also have read the spec, and given it some
I think you have two questions here, though I may be nitpicking. As far
as the spec and OR protocols work, either should work. In fact, there is
no reason, other than it being hard set in the default implementation,
that a circuit couldn't be 1 or 1 million hops. That isn't to say that
there are not practical reasons to not use many of those values, In
fact, there would be no way to prevent a circuit from looping back
through the same OR an arbitrary number of times. (not that this is at
all recommended, I am just pointing it out for illustration)
In any case, there is no real need to specify that in the spec, since,
well, the details of the circuit creation are besides the point. So the
real question is... what does the default client do.
For exiting connections, 3 hops (entry, middle, and exit) are the
default, and really a good balance between not having to trust that any
one node can put the whole circuit path together, and not adding too
much latency.
You seem to realize where I am going with this:
It is still symmetric on each side of the middle node. However, five is
a lot of hops! So, the developers were smart. 3 hops is what we need to
be sure that we don't have to put too much trust in any one host, in
fact, this whole switch to an introduction point is precisely to avoid
having to trust the rendez-vous node too much.
Now, think of a normal 3 hop connection:
Alice -> OR1 -> OR2 -> OR3 -> End Service
That is what we want... we can get that if:
Alice->OR1 -> Intro <- ORb <- Bob
So, Alice and Bob each make half of the connection, to put together a
normal, 3 hop, path.
Ending, not exiting. So ORb = Rend and you have one less hop. However,
there is nothing to say that you couldn't implement it this way. Even if
the spec forbade it, there would be no way for an OR to stop a client
from doing it anyway.
True, but as you can see from what I said above, OR2 = Rend = ORb
leading to the path as I stated above.
Lets see.... Bob the hidden provider chooses his entry node, and his
intro node. That is 2.
Alice chooses her entry node, and then uses bobs intro node, so thats 1
for her, and a total of 3.
Now Alice chooses an entry node for the new circuit, and she chooses the
rendez-vous node. Thats 2
Bob now chooses his entry node for the new circuit, and then connects to
the rv node. 1 for him, total of 3.
So... between both connections, that is 6 nodes.
I am not looking at the spec now, but, somewhere there is an explanation
that refers to these as "half connections" or "half circuits" since each
side is moving to the middle and making half of a 3 hop circuit, with a
shared middle node.
Does that clear it up? As I said, in reality, you could add as many hops
as you like.... but I believe that is how it is implemented and intended
to be implemented.... or at least, that is how I understand it.
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-03-02 13:43:00
@_author: thecarp 
@_subject: [tor-talk] how to choise bridge by country 
Well a bridge can only be used by someone who know about it. You could
only distribute it to people in that country, but, that doesn't stop it
from leaking to, or being discovered by, someone outside that country.
In theory, since there are DBs of what country various IP ranges map to,
you could use that to put something together. I am not aware of any
default available options to make such a restriction.
Though, in the past few days there has been an amusing thread on this
very mailing list about the use of these databases and how wildly
imprecise they are. It is not uncommon at all to get different answers
from different DBs.

@_date: 2011-03-09 15:23:45
@_author: thecarp 
@_subject: [tor-talk] torrc consistency 
A config tool need not even read the config as it stands, it could store
all configs in a database and just pump out text versions as needed. If
a person is using a config tool, I see no reason to expect all manner of
comments in the resulting file. The purpose of the tool is to configure
not to teach. Most, if not all, options are described in the man page
Why not just have a sample config, and have 1 comment that points to
that...or points to the man page, which describes all of the options? If
I am reading a config in production, I find all the comments annoying. I
would rather the ONLY comments in a deployed file be "We set this
because...." or "Changed on this date by", and I wouldn't expect those
to be set by a 3rd party config tool.
A config file does not take the place of documentation. This stuff is
already well documented, so that isn't even a problem.
All that said, if you must read the file, well, its format is what it
is. Inline comments are already allowed, as long as they continue to be,
I think it does behoove you to support them. Its a pain but, not THAT hard.

@_date: 2012-11-02 08:20:18
@_author: Stephen Carpenter 
@_subject: [tor-talk] [rt.torproject.org #5761] Connecting a browser which 
The problem appears to be here.
(snip) You didn't need to change it...see below
192.168.0.0/24 is your network in CIDR format, you didn't need to
change allowedClients because this covers the entire subnet.
You can think of IP as split into two networks at the subnet boundary. Everything in the same subnet is local, everything outside it is not. If its
in the same subnet, nodes deliver directly. If its outside then they hand it
off to the gateway to route. The upshot is, the machine running the proxy probably has a 192.168.0.x
address. That is the address you need to use for the proxyAddress.
All that said, I would recomend doing a bit of reading up on how IP networks
work, and learn the issues involved. I can't even go into right now what my
concerns with this setup would be, if it were being used for something serious.
I wouldn't expect this is the most unbreakable setup, especially with the
wii involved, it isn't a platform that was designed to protect your identity, it
was made to identify you to nintendo and use their marketplace. Who knows what
you are expsosing and in what way?
However if you just want the bragging rites for having your wii connect over
tor, that IP would be where I would look.
