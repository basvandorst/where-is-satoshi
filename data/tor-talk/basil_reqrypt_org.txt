
@_date: 2013-07-04 20:34:35
@_author: reqrypt 
@_subject: [tor-talk] TorWall - experimental transparent Tor proxy for Windows 
Hi all,
I thought I'd introduce an experimental mini-project of mine: TorWall (Tor fireWall) - transparent Tor for Windows.
In a nutshell, TorWall does two things:
1) It (transparently) reroutes all HTTP traffic through the Tor anonymity network; and
2) It blocks all non-Tor traffic (including DNS) to and from your computer.
TorWall is similar to running Tor as a transparent proxy under Linux.  Whilst Linux uses iptables, the TorWall implementation uses WinDivert ( which is also a project of mine.
The main advantage of TorWall is that it works with any web browser (without re-configuration), including Chrome, Internet Explorer, etc.  The firewall component is can also prevent leaks (e.g. DNS leaks) whilst TorWall is running.  Note that TorWall blocks *all* other traffic, so (for example) a corrupt plugin cannot leak information via a non-HTTP traffic.  To help prevent leaks via HTTP TorWall also routes web traffic through Privoxy.
There are some disadvantages to this approach as well.  The TorBorwserBundle contains a browser specifically designed for Tor.  Also, the current TorWall prototype does not support HTTPS.
Anyway, this was written mostly for fun.  Try it out if you want to:
- Website: - Repository: Note that the current implementation is a prototype, so obviously it should not be relied on.

@_date: 2013-07-05 21:08:37
@_author: reqrypt 
@_subject: [tor-talk] TorWall - experimental transparent Tor proxy for 
> can you explain more about the following signer of the pre-built driver?  >   > who maintains updates to the built driver when security or other  > source updates are available? The driver is my own project.  Nemea just sign my pre-built binaries on my behalf.
If you prefer it is possible build the WinDivert driver from source:
(this is the version you'll need, not the latest commit).
To use your home-built driver you'll need to either sign or test-sign it.
For test-signing instructions see here:

@_date: 2013-07-05 21:41:51
@_author: reqrypt 
@_subject: [tor-talk] TorWall - experimental transparent Tor proxy for 
> Bastik pointed out the trademark thing:   > But I'll take it a step farther to explain that there actually  > already *is* a Torwall in the past: Yeah oops...In hindsight the project was mis-named.
However, this is a proof-of-concept prototype.  I'll rename it if it's worthwhile developing further.
(suggestions for a name are welcome).
 > Hm. These both seem like pretty big impediments. As intrigeri said, Tails  > stopped doing the transparent proxy thing years ago, on the theory that  > if the given application isn't specifically configured to use Tor, it's  > probably going to screw up privacy-wise. Privoxy is really no substitute  > for correctly anonymizing the application-level traffic. I don't disagree with any of this.
I think the problems with Tor and transparent proxying are well-known.
It is really for those who know and understand the risks (possibly a very limited market?)
 > Back to this topic: is it intercepting outgoing port 80, or is it DPIing  > on traffic flows to decide they're http? I would be nervous about both  > of these in terms of the "corrupt plugin" you mention above. The current prototype intercepts outgoing port 80 and redirects it to Privoxy (and then onto Tor).
It also intercepts DNS.  All other non-Tor(*) traffic is blocked.
(*) currently based on port number, which is pretty weak, but it _is_ a prototype.
PS: I'm attempting to reply from digest mode.  Apologies if this message ends up in the wrong place...

@_date: 2013-07-08 00:50:47
@_author: reqrypt 
@_subject: [tor-talk] TorWall - experimental transparent Tor proxy 
Perhaps email me directly as I think WinDivert is getting off-topic for tor-talk?  But:
The non-paged memory usage is bounded by the queue length, which is itself bounded (in size and time packets can be queued for).
