
@_date: 2007-12-19 02:04:53
@_author: anonym 
@_subject: tor-community-approved free pop/imap/smtp mail 
Hash: SHA1
I vouch for lavabit ( earlier known as nerdshack.
They currently offer POP, IMAP and SMTP, but no webmail interface
(although it has been said that it is planned for 2008). They provide
with four different solutions, of which two are free (and thus the only
ones of interest to us): one has a 128 MB inbox and no ads, while the
other has 1024 MB inbox but injects small text ads at the bottom of at
least incomming mail (don't know about outgoing). The ads are not very
intrusive, but they break attached PGP signatures which is annoying
(inline signatures works, of course).
Check. Neither javascript nor cookies are required. Registration only
requires username, password and captcha.
Check. It was started as an alternative to google's insane privacy
policy. For more information, see:

@_date: 2007-12-25 17:17:55
@_author: anonym 
@_subject: what about SMTPS over Tor? 
Hash: SHA1
Several friends of mine have lately expressed the wish to be able to
send email anonymously. They have really good reasons and I believe many
others do as well, so I'm looking for easy to use and set up solutions.
I've looked into annonymous remailers like Mixminion et al, but they
don't seem to be mature enough and have the number of users required for
any effective anonymity, so Tor seems to be the way. Mixminion doesn't
even seem to have a GUI beyond Tork for non-Windowos users, which kind
of would force everyone to install KDE.
Web mail + Tor is of course an option, but then they'll loose the nice
PGP intergration provided by most MUA:s (e.g. Enigmail/Thunderbird), and
PGP (for end-to-end encryption) is _essential_ for my friends' purposes.
Of course, there are things like FireGPG which can be used to
sign/verify/encrypt/decrypt any texts in Firefox, which would work for
web mail, but FireGPG is simply to flaky and have to much encoding
issues to be usable right now. Therefore, web mail is not satisfactory.
So I'm investigating the possibility of using SMTPS (i.e. SMTP over SSL)
on Thunderbird with Torbutton. In fact, this email should have been sent
over Tor. But as we know, there are several issues with using a mail
client and SMTP with Tor. On the other hand, there's a lot of issues
using Tor with web browsers (javascript, flash, cookies, Firefox
extensions and many non-http(s) features etc). So is this really such a
bad idea some people are suggesting? What are the issues? Things I've
thought or read about myself are the following:
* All types of SMTP is rejected by Tor's default exit policy
During my testing, it has worked well. It seems there are quite a few
people who still allow SMTPS (port 465) and SMTP with submission (port
587) as I've had different exit nodes for all five of my test emails.
Standard SMTP seems to be completely blocked. BTW, is it possible to do
queries over all exit nodes to see which of them that allow certain
* The mail header might contain identifying information
- From my experiments, I've seen fields like User-Agent, x-mozilla-status,
 x-enigmail-version and openpgp (key ID and key URL) which are not
terribly dangerous (assuming that the key is only used for anonymous
mail). The openpgp info is quite useful to keep, actually, and the
others are very easily scraped away by some plugin (Torbutton for
Thunderbird should alter this as it does with Firefox?). Also, I've
heard that certain particularities of how the header is made might be
used to identify that UA of a given mail. All in all, I'm not too
worried about user agent stuff and similar right now (I need this
solution fast), only of unique identifiers (but I agree that some effort
should be made for this, perhaps in Torbutton). Please feel free to
point out if my current mail header contains any other dangerous
information that should taken into account.
* EHLO/HELO message contains IP address or hostname
First of all, the exit node shouldn't see anything since SSL is used.
But what about the SMTP server? If you examine the header of this mail,
you'll see that the first "Received:" field reports that it came from
0.0.0.0 plus hostname and IP address of the exit node (at least that's
what happened in my experiments). Is that the same as what is reported
in the EHLO/HELO to the SMTP server? If so, all is fine.
So, what do you think? Are there any more issues? Is Thunderbird + Tor +
Torbutton + SMTPS safe?

@_date: 2007-12-31 19:34:41
@_author: anonym 
@_subject: Passing another,second,individual "torrc" on command line to 
Hash: SHA1
tor -f  [args]
So, if we assume you have an alternative torrc in /etc/tor/torrc.alt
simply invoke tor by calling:
tor -f /etc/tor/torrc.alt

@_date: 2007-11-24 21:49:48
@_author: anonym 
@_subject: netstat reporting destinion IP address 
Hash: SHA1
Greetings list,
Some of you might know me as the new maintainer of the Incognito LiveCD
(blatant advertising:  Any way,
it uses a kernel level network filter (with Linux' netfilter/iptables)
which forwards all TCP traffic not sent directly through Tor to the
transparent Tor proxy that bundles with Tor (altough it is not activated
in the standard config). With this we don't need to configure
applications to explicitly use Tor which is nice as we have no idea what
our users intend to do.
However, I recently discovered that netstat will report these forwarded
TCP connections with the destination address as the "foreign" remote
host! netstat also reports that connections are made through Tor, but
still that one connection is made directly to the destination host. So,
for example, if I run "ssh desthost" where desthost is the destination
SSH server, netstat will output something like this (ignoring
connections to Tor nodes):
Active Internet connections (w/o servers)
Proto  Recv-Q  Send-Q  Local Address    Foreign         Address State
tcp         0       0  localhost:36762  desthost:ssh    ESTABLISHED
If I instead configure the SSH client to use Tor's SOCKS interface
explicitly or run "torify ssh desthost" etc. netstat gives this:
Active Internet connections (w/o servers)
Proto  Recv-Q  Send-Q  Local Address    Foreign         Address State
tcp         0       0  localhost:36762  localhost:9050  ESTABLISHED
Or, in other words, Tor is used (it listens on 9050) and all is well.
Naturally, this made me concerned to say the least since transparent
connection forwarding is an essential feature of Incognito. So I fired
up a packet sniffer to investigate if this relly was the case.
Fortunately, I couldn't find desthost's IP address in any packet, only
alot of communication with Tor nodes. So Tor is used and netstat is just
"wrong". Phew!
Now, with this background information in mind I can go on to my actual
questions for those of you who have managed to read all this (sorry for
being so verbose): Why does this happen? Is netstat operating on a too
high level to detect this kernel level magic?
Even though we still get as much anonymity as Tor offers and netstat is
wrong in some way I really do not want this to happen. Incognito uses
TorK as a control GUI to Tor, and since its "Non-Tor traffic log" uses
netstat and thus will log these erroneous connections, users might freak
out and think that Incognito is unsafe. In fact, that was what happened
to me. Can this be fixed?
Perhaps this should be taken with the net-tools devs direcly, as it
_might_ be a bug (or undesirable feature), but I thought I should ask
you guys first as some here might have experience with this combination
of configurations and software. So, any thoughts?

@_date: 2007-11-25 03:23:18
@_author: anonym 
@_subject: netstat reporting destinion IP address 
Hash: SHA1
That was what I expected. Thanks for clearing it out!
That would be better but my concern is mainly with TorK, and it uses
netstat for its logs. I don't expect the average Incognito user to
monitor netstat, but they might very well find some misleading
information in Tork's logs (as they are very easily accessible through a
nice GUI and all). Well, I guess this is an issue with TorK. Hopefully
Robert Hogan (TorK's maintainer) will read this, although my problem
might be a bit too specific to justify a fix which I guess would turn
out much more complex than the current solution with netstat.
If I'm not mistaking, Tor circuits are long-lived enough to show up (?).
Or are you suggesting that Tor initiates other connections as some sort
of intermediate step (I'm certainly no expert on the inner workings of
Tor)? Perhaps I wansn't clear enough, but the only Internet traffic that
is allowed is made through Tor. Any way, I don't know exactly how TorK
uses netstat to generate its log (I guess it uses --continuous which
updates every second), but the entries in the log stay even though the
connection has been disconnected (and netstat stops showing them).
Connectionless packets is not a problem as only TCP is allowed to leave
the computer since UDP etc., as you pointed out, might be a real threat.

@_date: 2007-11-25 15:54:16
@_author: anonym 
@_subject: netstat reporting destinion IP address 
Hash: SHA1
I've tried it now and it seems to only report the actual network
traffic. At least the "misleading" connections are gone. Great! Except
for tcp it also captures arp, icmp, udp etc.
There seems to be a name conflict so to avoid any confusion, I used this
pktstat:

@_date: 2008-08-02 23:11:28
@_author: anonym 
@_subject: Incognito LiveCD 2008.1 released 
Hash: SHA1
Less than an hour ago Incognito 2008.1 was released. You will find the
CD image in the download section of the official web site, linked below.
For those of you that do not know what it is, Incognito is a Gentoo
Linux based LiveCD intended to make anonymity on the Internet more
accessible. For this it will send all Internet traffic through the Tor
network automatically by using a transparent proxy. It not only runs
from CD, but also USB (with the option to use an encrypted home
partition) and in several virtual machines like QEMU and VMWare.
Read more about Incognito and this release on the official web site:

@_date: 2008-08-17 16:54:54
@_author: anonym 
@_subject: e-mail and anonymity 
Hash: SHA1
I recommend (and use) lavabit's services (see: They have a webmail interface that doesn't require javascript (although
cookies are required for technical reasons). And of course they use
https, so all communication with their servers are encrypted and
For free you'll get 128 MB storage and no advertisements (neither in the
interface nor injected in mails). If you don't care about ad injection
(beware that it breaks detached PGP signatures) you could go for a free
account with 1024 MB of storage. They also have pay subscriptions with
additional storage and features, but that's a no-no for anonymous usage.
In addition they also have a pretty nice privacy policy, but I'm not
sure how much that's worth since they are operating in the US (a
non-western country is to be preferred IMHO). So, as always, use
end-to-end encryption (Firefox+FireGPG works in an acceptable manner
with their webmail interface). Lastly, I'm pretty sure I confirmed that
they use MTA TLS (encrypted server-to-server transport) but that's of
course completely worthless compared to end-to-end encryption.
Personally I prefer using a real email client (lavabit supports POP3,
IMAP and SMTP, all with optional SSL) as that gives superior PGP
integration among other things. From my investigations, Thunderbird
using the old Torbutton 1.0 series works pretty nicely. Note that
without Torbutton you will leak your host and/or real IP address to
their server's in the HELO/EHLO messages. Useragent and other things can
be set manually in the config editor to whatever is thought less
identifying than the truth. Note that lying about email client might
only attract additional suspicion as it's probably possible to identify
Thunderbird just by looking at how it creates the email headers.
One problem with this approach is that there are only a handful of exit
nodes that accepts smtp(s), so sending mail might need a few retries
and/or building new circuits sometimes, but mostly it just works.
I wouldn't trust using email clients in combination with Tor if my
personal life depends on that I remain anonymous though. More research
is definitely needed in order to rule out or identify (and mitigate)
additional possibilities for leaks. YMMV.

@_date: 2008-08-18 09:32:57
@_author: anonym 
@_subject: Confusion about TorButton, Noscript, etc. 
Hash: SHA1
I've heard just the opposite. I suggest you read the section on which
Firefox extensions to avoid in the Torbutton FAQ:
So, you should _not_ use them together. That's a shame, though. I really
like the site-by-site basis of disabling/enabling (and most importantly:
temporarily enable) javascript. For me the incompatibility between
Torbutton and NoScript is reason enough for not using Torbutton, but
NoScript and a plethora of other extenstions instead. But I usually
don't worry about the more arcane attacks that Torbutton mitigates, but
when I do I temporarily install Torbutton.

@_date: 2008-08-18 14:01:41
@_author: anonym 
@_subject: Confusion about TorButton, Noscript, etc. 
Hash: SHA1
Me too (FoxyProxy pattern matching rules!). I also use CS Lite,
Refcontrol and ForceHTTPS. But let's not pretend that this approach is
safer than Torbutton.
For instance, let's say you visit a site that match a pattern for using
Tor, but that the site contains an external object from another domain
that doesn't and thus will get a direct connection. Then you're screwed.
Apparently a fix for this is on the way: _all_ connections in a tab
whose url matches a certain patten will use the matched proxy. But this
was announced over a year ago, and AFAIK nothing has happened on that
front. It's marked as it will appear in version "?" in the road map, so
go figure.
In addition, Torbutton does all sorts of other stuff with Firefox that
otherwise could leak information or otherwise weaken anonymity. For
instance, a lot is done in order to separate Tor states, and especially
between Tor and non-Tor states, but you have none of that with
FoxyProxy. There's also options for disabling plugins like flash and
java, so the only edge NoScript might have is protecting against XSS, I
Of course, you might already know of the risks involved. IMHO, people
that don't feel that they know what they're doing ought to stick with
Torbutton. The others can consider the trade-offs in usability and
security between these two approaches. I bet there are many more than
those I've mentioned above.

@_date: 2008-08-06 01:52:05
@_author: anonym 
@_subject: Incognito 2008.1-r1 out (was: Incognito LiveCD 2008.1 released) 
Hash: SHA1
Hi again,
Due to bad (read: non-existent) QA procedure there was a minor issue in
the QEMU script for Windows which broke it in QEMU 0.9.1. Therefore I've
released a revision fixing this. More details:
Sorry for the inconvenience.

@_date: 2008-08-20 13:13:36
@_author: anonym 
@_subject: Update to default exit policy 
Hash: SHA1
I'm sure you do. I'd love to have email work flawlessly and securly with
Tor, so opening ports 465 and 587 would be great (currently I do have
problems since there's few exit nodes which do that). But as I
understand it, email clients + Tor might be a very bad idea ATM. Email
clients leak tons of information, the most critical I know of being your
IP address and/or host in the EHLO/HELO in the beginning of the SMTP(S)
Really, this isn't an argument countering your in any way, but rather a
plea that the issues of using email clients with Tor are researched and
resolved before that combination gets promoted (IMHO opening ports 465
and 587 is a step towards promoting it). It's very likely your average
user will screw up given the current state of things.

@_date: 2008-08-20 15:11:17
@_author: anonym 
@_subject: Update to default exit policy 
Hash: SHA1
Well, technically nothing makes SMTP special in this sense, and this is
really more of a general problem due to the design of Tor. But I think
it's special in another sense. For clarity, let's first consider HTTP
for a moment. Apparently a lot has been made in the Tor community in
order to making use of HTTP safer, with Firefox and the new Torbutton
being heavily promoted. That's great, because without this complete
solution users would (more or less) only get a false sense of security
when they install Tor and configure IE to use it.
Now, why has there been such an initive? My guess is that it's because
how common web browsing is, and I've got the impression that emailing is
pretty common too. That's why I think a similar initiative for the
protocols involed for emailing is necessary. Of course, this only
affects users of actual email clients, and I have no usage statistics
for how common that is compared to using webmail nowadays. Maybe we are:
1) too few and
2) too advanced (in the sense that we can identify problems and come up
with solutions ourselves)
for such an effort to make sense? I don't know. Grepping the mail
headers of this list suggests that it's fairly common (at least 50%),
but those of us active on this are most likely not representative for
neither the general Internet population nor the general Tor user base.
Hiding behind NAT also works. And FYI the old Thunderbird compatible
Torbutton 1.0.4 will scrub the IP address/host from the EHLO/HELO messages.
Any way, this is getting pretty off topic. I for one hope that the
default exit policy will be updated as you suggest as I'm tired of
having to rebuild circuits etc. all the time when SMTP times out due to
the scarcity of usable exit nodes.

@_date: 2008-08-20 17:01:02
@_author: anonym 
@_subject: Update to default exit policy 
Hash: SHA1
Care to elaborate on this?
The way I understand it, the encrypted connection will only prevent
eavesdroppers from snooping the IP address/host, but the destination
email server will get it in the EHLO/HELO message. IMHO, that equals a
compromise of grand scale.
I'm certainly no expert in these areas, so please enlighten me if I'm

@_date: 2008-08-20 20:04:04
@_author: anonym 
@_subject: Update to default exit policy 
Hash: SHA1
Contrary to Sven's reply I claim Thunderbird with Torbutton enabled will
_not_ leak your real IP address in the EHLO/HELO messages. Here's an
experiment proving it:
1. First, let's look at what my mail headers look like when I send mail
without Tor at all, i.e. a direct connection:
The "192.168.1.2" address is what was reported in the EHLO/HELO message
to the SMTP server, which is my computers NAT:ed IP address. The long
address within the parenthesis is from which computer the connection to
the SMTP server was made, and in this case it's my firewall/router.
2. The following is what we get when use Thunderbird with Tor, but
without Torbutton:
So, the connection was made from a Tor exit node (as expected) but the
SMTP server got my real IP address in the HELO/EHLO message. Since I'm
behind a NAT:ed firewall the IP address reported isn't very revealing,
but people whose computers are directly connected to the Internet (i.e.
no firewall/router in the way) would get their _real_ IP address there.
3. Finally, this is what gets into the the mail header for me when
enabling Torbutton:
As you can see nothing is revealed here and all is good. Torbutton wins!
To see all this for yourselves, compare the mail header of this mail
(which is sent with Torbutton enabled, like experiment 3) and any of my
other emails in this thread (which are sent without Tor or any other
form of anonymization, like experiment 1).
Just to be sure I've confirmed all this with a packet sniffer -- with
Torbutton enabled the EHLO/HELO messages are scrubbed and thus harmless.
To confirm this I guess you'd have to fire up your favourite packet
sniffer and try it out yourselves.
So, yeah, with Torbutton you are definitely safer than without it. The
SMTP server does _not_ get your IP address in the EHLO/HELO message. But
there could be all sorts of other leakages that I don't know of, though,
so I wouldn't put my life on it. That's why I think more research is needed.
But let's stop hijacking this thread now. If there's more interest in
discussing this I suggest starting a new thread for that.

@_date: 2008-01-22 20:55:16
@_author: anonym 
@_subject: TorStatus version 4 has been released 
Hash: SHA1
I think it's very useful. The only things I lack is the ability in the
advanced search for all exit node with certain exit policies. Except for
that it fulfills all my needs and more.

@_date: 2008-01-27 02:41:15
@_author: anonym 
@_subject: Incognito 20080109.1 released 
Hash: SHA1
I released Incognito 20080109.1 earlier today. All relevant info is
available at:

@_date: 2008-01-02 19:27:16
@_author: anonym 
@_subject: what about SMTPS over Tor? 
Hash: SHA1
Yes, there are some interesting things with this, and i2p already has a
nice service for this with some cool features (e.g. hash cash for
sending more than a set daily threshold of messages to precent spam).
But I'm more interested in smtp on the "open" Internet currently as I
don't want to push too many new concepts on the people I try to help,
_and_ I need a solution fast (+ I don't have any resources for putting
up the required setup for a hidden service email).
I would like that smtps got a similar status with Tor as http(s) has.
IMHO the issues with http(s) (e.g. javascript, cookies) seem to be far
worse than smtp unless I've missed something, so I don't understand
while it's not focused on more. At least until all the issues with
anonymous remailers have been sorted out (like that you can't reply to
Yes, but I want to query over _all_ servers. Or rather, what I'm really
interested in is statistics over exit policies. How is the Tor client
determining which exit nodes it can choose from?

@_date: 2008-01-04 04:15:04
@_author: anonym 
@_subject: what about SMTPS over Tor? 
Hash: SHA1
Ok, but how well does privoxy protect against the dreaded javacript
based attacks that leaks the actual IP address of the Tor user? I am
under the impression that privoxy doesn't protect against this and that
completet deactivation of javacript is necessary for security, at least
right now (future improvements to privoxy might of course fix this).
In any case, my arguemnt is that Thunderbird + Torbutton for smtps is
basically just as good as Firefox + Privoxy + Torbutton (which has to
deal with javascript, cookies, flash, etc.) is for http(s) unless I miss
something. The only thing Thunderbird seems to leak over SMTP is some
non-critical stuff in the header, like user-agent (all which easily
could be prevented by an addon such as Torbutton wich already does the
equivalent for Firfox' http(s) headers). The much more critical issue of
including the IP address or hostname of the Tor user's computer in the
EHLO/HELO message (sent in the initial steps of smtp) is taken care by
Torbutton according to my network sniffing research.

@_date: 2008-06-10 03:59:40
@_author: anonym 
@_subject: Tor Desktop 
Hash: SHA1
Once the development branch of Torbutton (i.e. the 1.2.x series) go
stable, it will replace NoScript and CS-lite (previously named
CookieSafe) in Incognito. Torbutton is probably stable enough now, but I
experienced some weird things last time I checked it out around january,
when the last Incognito release is from.
Right now there is nothing hindering Incognito users from disabling
these other plugins and installing the ones of their choice. It's
certainly tiresome to have to do that each time when running from a CD,
but when running from a USB memory stick using a persistent home that's
not a problem.

@_date: 2008-03-19 02:30:06
@_author: anonym 
@_subject: Tor and Firefox 3 
Hash: SHA1
Only if you use the development version of Torbutton (i.e. versions
1.1.x). The current stable version (1.0.4) does not provide with any
functionality for securing javascript, cookies etc. so with the old
version you _should_ use NoScript, CS Lite and RefControl.
If you have used the development version of Torubtton there can indeed
have been conflicts and stuff went wrong, possibly without you noticing.
As per the FAQ at  it is not
recommended to use Torbutton in conjunction with NoScript. RefControl
should be cool, but I don't know about CS Lite.
FoxyProxy and Torbutton doesn't make much sense combining IMHO. And as
per the warning in the FAQ, one has to be very careful when using
FoxyProxy with Tor. Personally I only use it for protection against mass
surveillance systems, google etc. for casual browsing. If I ever do
something important where I want more security, I disable the FoxyProxy
filters and switch to all Tor, no scripts and no cookies and so on.

@_date: 2008-03-13 19:16:22
@_author: anonym 
@_subject: Tor and Firefox 3 
Hash: SHA1
One alternative is a combination of the following addons:
* FoxyProxy: Allows to configure several proxies with lists of which
domains should use which proxy (or no proxy). For instance, it is
possible to make all domains go through Tor except those you have added
to the "no proxy"-white list (or the "Tor proxy"-black list). Thus it
becomes possible to visit untrusted sites (through Tor) and trusted
sites (without Tor) simultaneously, which would require constant
flipping of the Torbutton.
* NoScript: Blocks javascript, java, flash etc. globally. Provides a
nice interface to allow these plugins for the current site (if you trust
it), either permanently or temporary (for the current sesstion only).
* CS Lite: Like NoScript but for cookies.
* RefControl: Has a nice "Forging" feature which changes the http
referer to the destination site's domain. Otherwise it's possible to see
which site you come from when following a link.
It should be noted that while this approach might be more flexible and
powerful than simply using Torbutton, it requires much more from the
user in terms of knowledge and understanding of how Tor works. It's
probably easier to screw up too.

@_date: 2008-05-12 12:50:51
@_author: anonym 
@_subject: Tor-only email 
Hash: SHA1
FYI, I've verified with a packet sniffer that Torbutton (stable branch)
scrubs the IP address/host name in Thunderbird when activated.

@_date: 2008-10-15 14:50:13
@_author: anonym 
@_subject: Thunderbird & Gmail 
Hash: SHA1
You have mixed the information from two packets here:
Number 10 (the upper part) from 83.132.242.113 is from something outside
of the Tor network. A reverse DNS reveals it's from netcabo.pt, which
seems to be a Portuguese ISP. The source port number suggests it's some
sorts of audio/video streaming protocol (Vosiac). If this part appears
every time you do POP, it's a bit suspicious.
Number 11 (the lower part) is just an ARP request. It seems your router
(192.168.1.254) simply want to know the MAC address of 192.168.1.65 for
whatever reason. What is 192.168.1.65 on your network?
Are you really sure that these two appears _every_ single time you do
POP? Are you sure that you have turned off all other applications that
use the Internet?
88.198.51.7 is a Tor relay, probably your entry guard.
schatten.darksystem.net is the same as 88.198.51.7, which probably is
your entry guard.
When obfuscating MAC addresses it's better to do so with the latter part
of it -- the first numbers are much more easy to guess since they are
determined by the manufacturer, model etc. of the network interface.
Why do you think there is a leak? Only the first two packages (10 and
11) seems to be a bit out of the ordinary. All the other traffic is
between you and the Tor network which is expected.
And since you use NAT, the EHLO/HELO leak mentioned earlier isn't so
bad, but since you use Torbutton that should be taken care of any way.

@_date: 2008-10-16 00:34:40
@_author: anonym 
@_subject: Thunderbird & Gmail 
Hash: SHA1
No, ARP only goes one hop in the network so you need not worry about it.
But if TCP packets similar to frame 10 keeps popping up when you use Tor
I'd recommend you to investigate that further. When _all_ your Internet
connected applications use Tor, all (non-local area network) hosts you
communicate with should be part of the Tor network. I.e. make sure that
all hostnames/IP addresses you encounter can be find here:
 Those that don't need further investigation.

@_date: 2008-10-21 12:06:13
@_author: anonym 
@_subject: GnuPG through Tor 
Hash: SHA1
FYI, polipo + gpg's HKP don't work together due to a bug in polipo.
Basically polipo crashes when it encounters the "expect 100 continue"
sent by gpg. For more info, see:

@_date: 2008-10-07 19:47:28
@_author: anonym 
@_subject: Thunderbird & Gmail 
Hash: SHA1
One way to confirm that SMTP goes through the Tor network is to simply
send an email to yourself and look at the mail header. Look for sections
like "Received" (the last one) and "X-Original-IP" and make sure that:
1) your real IP address does not appear in them.
2) your SMTP received the email from an IP address/hostname that's a
exit node.
For POP it's more difficult. Try refreshing your inbox and look if a
connection appears in Vidalia. But really, a packet sniffer is the only
way to be sure (and the same goes with SMTP, really).
The old 1.0.4.x release still works with Thunderbird, and with it
there's no need for 3proxy -- just install the old Torbutton branch in
Thunderbird and configure it if needed and you're set.
Torbutton is essential for Thunderbird when used in combination with
Tor. Without it you will send your real IP address/hostname to the SMTP
server when sending email. Of course, if you're behind a NAT, that's not
a big concern, but I'd still recommend it. For further reading, see:

@_date: 2008-10-07 23:03:20
@_author: anonym 
@_subject: Thunderbird & Gmail 
Hash: SHA1
All information leaks are bad, but this is probably not critical, yes.
There could be other problems that we are not aware of, though.
I'd be surprised if you could verify this with any certainty. I highly
recommend you to register a new account anonymously (e.g. through Tor)
and never access it directly without Tor. Any account that you have
accessed directly should immediately be considered as compromised (in
terms of lost anonymity), and that's also the case with all previous
correspondence that account has participated with. That's dangerous
stuff. _Any_ eavesdropper could have connected your IP address to that
account and logged that. [/paranoia mode]
It's easy with Wireshark. Turn off all network using applications except
Tor, then:
1. start a new Wireshark capture
2. start Thunderbird
3. refresh inbox
4. send an email
5. stop the Wireshark capture
Then make sure that the destinations of all packets are either
127.0.0.1/localhost (where you run Tor and privoxy/polipo) or Tor entry
nodes and possibly Tor directory servers (there are services like
 to look that up). In particular, make sure
that your email account's POP/IMAP and SMTP server addresses do not appear.
I'd also recommend to look for the EHLO/HELO message in the beginning of
the SMTP transaction (when it's sent to Tor on localhost, i.e. before
Tor encrypts it) and make sure that the message content/payload does not
contain your IP address/hostname. Torbutton should scrub that and put
0.0.0.0 there instead. Note that you'll have to use plaintext SMTP (that
is without TLS/SSL) in order to do this easily. So I recommend you do
this with a disposable account that you later terminate as the login
credentials may (that is: should be assumed to) have been compromised
when sent in plaintext.

@_date: 2008-10-08 02:20:33
@_author: anonym 
@_subject: Thunderbird & Gmail 
Hash: SHA1
Sure, filters make it easier finding stuff when you know what to look
for, but I'm not sure that's the case here. In an analysis like this we
are much more interested that which we had not anticipated. For example,
what if Thunderbird leaked DNS requests? Filtering away all but POP and
SMTP would then hide this for us.
We're not dealing with huge amounts of packets here really, perhaps a
couple of hundreds of packets at most. That's a piece of cake to go
through and will make the analysis more complete and thorough. IMHO,
when dealing with these kinds of issues filtering comes in when that's
not a realistic option.

@_date: 2009-01-07 16:51:18
@_author: anonym 
@_subject: looking for an FTP -> SOCKS proxy 
Hash: SHA1
3proxy can do this, it's described in the wiki:
I use the following configuration:
log /dev/null M
timeouts 30 30 60 60 180 1800 60 120
auth iponly
# we don't want DNS leaks
allow *
parent 1000 socks4+ 127.0.0.1 9050
# normal ftp proxy
ftppr -i127.0.0.1 -p2121
# ftp proxy over http (e.g. web browsers)
proxy -i127.0.0.1 -p21212
pidfile /var/run/3proxy.pid
monitor /etc/3proxy.cfg

@_date: 2009-07-28 12:48:42
@_author: anonym 
@_subject: Torbutton for Mozilla Thunderbird 
Hash: SHA1
You'll have to use an old version, <= 1.0.4.01 I believe.
Just google for torbutton-1.0.4.01-fx+tb.xpi and you'll find it.

@_date: 2009-07-29 19:55:08
@_author: anonym 
@_subject: Torbutton for Mozilla Thunderbird 
Hash: SHA1
When I last checked this [1] at least the headers and HELO/EHLO messages
were scrubbed and safe w.r.t. to the sender's IP address when using
Torbutton 1.0.4.01. But, of course, that's not enough for any reassuring
level of anonymity.
[1]

@_date: 2010-02-17 19:48:48
@_author: anonym 
@_subject: Access from a local file 
Hash: SHA1
17/02/10 19:22, Jon Cosby:
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-04-18 19:50:54
@_author: anonym 
@_subject: [tor-talk] To Toggle, or not to Toggle: The End of Torbutton 
12/04/11 15:07, Mike Perry:
Exactly, and there are other things (extensions mainly, see below) that
TBB likely will not include but we want. I think it'd be better if we
wouldn't feel constrained like this. If we'd privide a patch adding a
"--use-system-default-profile" parameter that make Tor browser look for
the default profile in the vanilla Firefox directory, which ought to be
nigh trivial, wouldn't that make everyone happy?
At the moment (Tails 0.7) we have these extensions that are not in TBB:
  * Adblock Plus. Really helps reducing page load times.
  * amnesia branding.
  * CS Lite.
  * FireGPG. Sadly discontinued, so this one will likely be removed at
    some point.
  * FoxyProxy. We use this for having I2P working at the same time as
    Tor for the rest of the Internet. And future FTP support.
  * Monkeysphere.
We are considering adding:
  * NoScript.
  * BetterPrivacy. If we ever add a flash plugin (a Free one, though).
I think it's safe to say that TBB will never include all these so the
set will not be that minimal. Again I feel we'd like not to be
restricted, so what about us providing a patch adding a
"--use-system-extensions" parameter (or a prefs.js option if that'd work
(?)) that makes Tor browser look for extensions in the vanilla Firefox

@_date: 2011-12-24 01:46:46
@_author: anonym 
@_subject: [tor-talk] janusvm still safe? 
12/22/2011 10:31 AM, Matej Kovacic:
That is easily enabled (at least for text, don't know about more rich
media as images etc.) by issuing the following command as root:
    VBoxClient --clipboard
Of course, if the virtualized Tails is compromised, your host's
clipboard is compromised as well.

@_date: 2011-01-13 17:28:40
@_author: anonym 
@_subject: System time in anonymity oriented LiveCDs 
13/01/11 04:28, Roger Dingledine:
But if we'd force this, we'd be distinguishable from other Tor clients
to some extent, I suppose.
Yes, ORPort is set to 0 per default. However, a user could easily become
and OR by fiddling around in Vidalia.
You mean that we should read this value when our Tor client makes its
very first try to establish a connection to a directory server/mirror?
How is this any safer than checking the consensus' valid-after/until
values? The mirror we connect to could be compromised, and send us an
appropriate timestamp and then replay any old consensus.
I'm not sure I understand this proposition (alternatively I don't
understand NETINFO cells). It says we don't want to simply trust the
NETINFO cell timestamp and IP address blindly, but instead we want some
sort of majority "vote" based on the NETINFO cell values of several
nodes. I can understand how that makes sense for the timestamp, but the
IP address? My understanding is that when a node sends a NETINFO cell,
its IP address value should be the sending node's real IP address.
Hence, how can looking at other nodes' NETINFO cells help validating the
IP address? They should all be pair-wise different.
How do you propose we'd do this? Remember: we have no directory
information when we want to set the time, and the time needs to be set
before we get the consensus (otherwise we cannot trust it). Is this a

@_date: 2011-01-21 15:58:40
@_author: anonym 
@_subject: Announce: The (Amnesic) Incognito Live System 0.6.2 
The (Amnesic) Incognito Live System, version 0.6.2, is out.
This is a bugfix-only release mainly aimed at fixing serious security
issues in bundled software. All users must upgrade as soon as possible.
What is it?
T(A)ILS is a Live system aimed at preserving your privacy and
- all outgoing connections to the Internet are forced to go through
  the Tor network;
- no trace is left on local storage devices unless explicitly asked.
    Homepage: Get it, try it, share it!
Try it! [1] Any comments are most welcome. Please note you'll need to
install the CACert root certificate [2] into your web browser before
connecting to our web site... unless you use Debian.
[1] [2] What's new?
 - Tor 0.2.1.29: resolves a bug that probably allows remote code
   execution; see the Tor project blog post [3] for details.
 - Kernel bump to Debian squeeze's 2.6.32-30 (fixes several CVEs [4])
 - Other software upgrades fix grave bugs, some of these with serious
   security implications.
 - Upgrade Claws Mail to 3.7.6 (new backport).
 - Install Liferea, tcpdump and tcpflow.
 - Seahorse: use hkp:// transport as it does not support hkps://.
 - FireGPG: use hkps:// to connect to the configured keyserver.
See the online Changelog [5] for more details.
[3]

@_date: 2011-01-03 16:06:44
@_author: anonym 
@_subject: System time in anonymity oriented LiveCDs 
Hi list,
One issue for anonymity-oriented LiveCDs (such as T(A)ILS[1] and Libert?
Linux[2]) is the system time. Tor requires a reasonably correct system
time, otherwise no circuits will be opened. This is a major problem for
these LiveCDs since they generally route all traffic through Tor
transparently (using netfilter/iptables and the like) so no Tor circuits
implies no network access for the user.
The obvious fix might seem to be to run something like NTP before Tor
starts, but since NTP isn't authenticated at the moment[3] an adversary
could intercept the NTP sync and force a crafted time on the user which
later can be used to fingerprint the user if s/he uses some
protocol/application which leaks system time. Hence NTP is out of the
Libert? Linux has a novel solution to this problem[4] -- it sets the
system time according to the Tor consensus' valid-after/until values,
which essentially removes Tor's time skew check. We T(A)ILS developers
are tempted to implement the same solution, but first we'd like to ask
here if this is safe, or if it opens up for any unexpected type of
attacks or problems.
If any one has a completely different solution for the system time issue
we're very interested in hearing that out as well.
[1] [2] [3] Public key authentication is in the works, supposedly, but we need a
working solution _now_.

@_date: 2011-03-04 13:21:22
@_author: anonym 
@_subject: [tor-talk] Stricter NEWNYM? 
While I've been developing the LiveCDs Incognito and Tails I've got my
fair share of feature requests/bug reports that really are about Tor.
One recurring feature request is to make NEWNYM stricter.
Users have observed that issuing a NEWNYM doesn't necessarily stop using
the previous circuits, which is obviously the case for truly long lived
connections like IRC and SSH, but I don't think that is what bothers
them; web browsing connections also keep using the old circtuits, at
least with certain web browser and intermediate proxy configurations
that makes them "kinda" long lived (think http keep-alive timeouts).
This confuses users when they get the same exit node after a NEWNYM (for
instance by refreshing check.torproject.org afterwards).
Conclusion: NEWNYM doesn't do what the users expect.
That's no good. Why don't we make NEWNYM ruthlessly kill all circuits,
even the ones handling live connections, long lived or not? I strongly
believe this stricter NEWNYM behaviour is (at least closer to) what the
user expects from it. See the attached patch for a quick and dirty
implementation -- a patch says more than a thousand words, I suppose.
Of course, to use NEWNYM requires some caution from the user, e.g.
clearing cookies, session id etc. if revisiting the same site, but that
also affects the old NEWNYM approach. Maybe it's even the case that
NEWNYM gives a false sense of a new identity, given all application
level problems that Tor cannot (or at least shouldn't) do anything
about, and thus we should give a shite? In any case, are there any new
problems introduced by this more brutal approach that I haven't thought
of which would make it worse than the previous one?

@_date: 2011-10-13 13:59:16
@_author: anonym 
@_subject: [tor-talk] Qubes TorVM (and more fun :) 
10/05/2011 07:02 AM, coderman:
See the following link for a discussion of Qubes and virtualization in
general for Tails:
  This seems like a fine long-term goal, at least if there'll be work on
making Qubes integrate well with debian.

@_date: 2011-09-30 18:56:29
@_author: anonym 
@_subject: [tor-talk] Tails 
09/30/2011 02:42 PM, kamyar kamyar:
Ping (well, ICMP in general) is blocked for anything except the local
area network.
Do you need any special software or login for using your ADSL connection
The root user exists but can only be accessed with sudo. So, if you want
to become root you can do "sudo su".
BTW, questions regarding Tails should preferably be sent to
tails at boum.org, and bugs should be filed at

@_date: 2012-04-29 13:53:12
@_author: anonym 
@_subject: [tor-talk] Tor with ttdnsd and unbound 
04/28/2012 10:52 PM, Tom:
I believe you're hit by the exact same ttdnsd bug as in Tails:
        So, you have to switch from using Google's DNS (which blocks Tor
nowadays) to OpenDNS or whatever DNS server you trust. You'll still be
unable to do multiple DNS requests at a time, though.

@_date: 2012-08-21 17:03:51
@_author: anonym 
@_subject: [tor-talk] anonym has a new OpenPGP key 
Here's my key transition message:
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
I, anonym , have replaced my OpenPGP key:
Old key:
pub   1024D/D0E64958 2007-06-25
uid                  anonym Fingerprint: A43A 06A5 C52F 59C2 7ABB  B56F A7C1 2CC1 D0E6 4958
New key:
pub   4096R/10CC5BC7 2012-08-21 [expires: 2015-08-21]
uid                  anonym Fingerprint: 52B6 9F10 A3B0 785A D05A  FB47 1D84 CCF0 10CC 5BC7
To fetch my new key you can do:
    gpg --keyserver keys.gnupg.net --recv-key 10CC5BC7
If you have signed my old key, feel free to sign the new one once
you have verified the signature. The new key is signed with the old
one, so its authenticity can be verified like this:
    gpg --check-sigs 10CC5BC7

@_date: 2012-02-21 10:23:10
@_author: anonym 
@_subject: [tor-talk] Tails and a way to permanently install it on a 
02/20/2012 09:52 PM, Ian Strange:
You are correct. Our plan is to (optionally) make select parts of the
filesystem persistent [1] with the data saved on a second, encrypted
partition on the USB drive Tails is installed to. This is finally
planned for inclusion in the next major Tails release, which is
scheduled for release in late April.
[1] Examples: email/IM configurations, gpg/ssh/otr keyrings/configs, Tor
cache (for entry guards), a general data storage. For more, see:

@_date: 2012-01-06 12:49:20
@_author: anonym 
@_subject: [tor-talk] sniffjoke/obfsproxy for defeating DPI:ing firewalls? 
It was recently suggested [1] that Tails [2] should include
sniffjoke [3], persumably to uncensor Tor in places where that is a
(Jacob is especially welcome to elaborate on this statement in this
From my understanding, it may make sense to have sniffjoke obfuscate the
connection to Tor bridges when behind a firewall that can detect bridge
usage (e.g. like in China [4][5]). But only if it actually
defeats the DPI:ing firewall (which is unclear to me whether it is the
case in e.g. China). Has any one got experiences with Tor + sniffjoke in
places where DPI:ing firewalls are messing with Tor?
But what about obfsproxy [6]? This seems like the planned Tor
sanctioned way for solving this problem. How is this project coming
along, and when can we expect to see this ready for action? I assume
things like Vidalia integration planned(?).
[1] [2] [3] [4] [6]

@_date: 2012-06-11 19:01:31
@_author: anonym 
@_subject: [tor-talk] Tail x64 version? 
First of all, this thread is probably better suited on some of the
Tails-centric channels: 06/11/2012 04:31 AM, Fosforo:
Tails with a 64-bit kernel (but 32-bit userland) is planned and
basically implemented [1] although we've encountered issues [2] which
has stalled the release of this.
[1] [2]

@_date: 2012-05-07 17:33:54
@_author: anonym 
@_subject: [tor-talk] Towards a Torbutton for Thunderbird (torbutton-birdy) 
05/06/2012 03:57 PM, Jacob Appelbaum:
This sounds awesome! In Tails we have had plans to move to
Thunderbird/Icedove [1] for some time and this seems like a must have.
[1] In January I worked a bit on securing Thunderbird's autoconfiguration
wizard to make it suitable for Tails. What I did was the following:
* When probing a mail provider for an xml config, first try HTTPS,
  then http (old behaviour: http only).
* When using a fetched xml config, prefer using TLS/SSL over plaintext
  (old behaviour: use whatever is defined first in the xml file).
* Introduce a boolean pref called `mailnews.auto_config_ssl_only`
  (that has a checkbox in the autoconfiguration wizard) that does the
  following when true:
  - Only allow HTTPS when fetching xml configs from mail provider.
  - Only allow HTTPS when fetching xml configs from Mozilla's database
    (luckily the default URL is using HTTPS).
  - Don't check DNS MX records for mail configurations. (This may need
    some rethinking for DNSSEC.)
  - Only accept fetched xml configs that use safe email protocols
    (SSL/TLS for SMTP/IMAP/POP).
  - Only probe the mail server for safe email protocols (SSL/TLS for
    SMTP/IMAP/POP).
These changes are implemented in the `secure_account_creation` branch
in a git repository that can be cloned as follow:
    git clone git://labs.riseup.net/tails_icedove.git
(Since the repo is huge (and there's no gitweb AFAIK) I also attached
the commits as git patches. This were written for Thunderbird 8, but I
know they apply cleanly to TB 10 as well.)
Comments on the above described approach (and the implementation) are of
course highly welcome.
The idea is to at least try to get this merged upstream (if not in
Mozilla, perhaps at least in Debian) in some form, otherwise we're
gonna ship an Icedove built from sources with these changes applied in
It's unclear to me if you've done (or plan to do) some work on the
autoconfig wizard  in torbutton-birdy. I'd appreciate if you could
elaborate on this.

@_date: 2012-05-07 21:43:58
@_author: anonym 
@_subject: [tor-talk] Towards a Torbutton for Thunderbird (torbutton-birdy) 
05/07/2012 05:33 PM, anonym:
Hm. I can see that the patches were attached in my outgoing email, but
that they didn't reach the mailing list for whatever reason (are
attachments disabled?). Here they are pasted inline instead:

@_date: 2012-05-08 16:35:50
@_author: anonym 
@_subject: [tor-talk] Towards a Torbutton for Thunderbird (torbutton-birdy) 
05/07/2012 09:54 PM, tagnaq:
Yeah, that sentence seems a bit confused, but it makes more sense if you
include the part which you omitted:
We really want to promote PGP/MIME instead of PGP-inline since the
latter is an absolute mess.
I suppose what is really meant is that we ignore most suggestions about
mail header fields etc. simply because we don't have the means to
*easily* modify them as you suggest. Luckily it seems you'll provide us
with an *easy* solution for that. :)
I am, and that's where I plan to post the patches.
Currently mailnews.auto_config_ssl_only is false by default, and it has
a checkbox with label "Only use secure protocols" right under the
"Remember password" checkbox in the wizard. So it's not very hidden, but
if people are gonna notice it, it has to be like that. I suppose it
could be a good idea to turn it on by default (most mail providers has
SSL/TLS available), but then I think it also has to be unhidden for
people that cannot use SSL/TLS because of an insane mail provider, or
users of I2P-Mail (where SSL/TLS is unnecessary AFAICT). Well, I'm
certainly open to suggestions on this one.
