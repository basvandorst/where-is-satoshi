
@_date: 2007-08-04 12:45:59
@_author: vikingserver@gmail.com 
@_subject: tor servers communicating to wrong ports 
I went through my firewall's log today, and noticed a large number of
blocked packets coming from other tor servers.
I run a tor server myself on port 995.
About 1-10 packets per minute coming from other tor servers are blocked.
They all communicate to ports between 59000 and 65000, and my firewall
blocks their communication.
My most important question is, why do other servers communicate to my
server through any other port than 995? 995 is my advertised port.
And if other tor servers' communication to me are answers to requests
from my own tor server sent to them through ports 59000-65000 in my
firewall, why doesn't my firewall allow those answers? The firewall
doesn't block traffic that are answers to "normal" internet software for
example: internet explorer, firefox, email. And only rarely block
streaming video/audio by mistake. But it blocks a lot of tor traffic,
why? (By the way, it blocks tor server traffic to ports 59000-65000 even
when i disable SPI.)
And is the tor software intelligent enough to resend the packets to port
995 instead of ports 59000-65000 when they get blocked?
I'd be thankful for answers to these questions. Not that my life depends
on it, but I'm curious. :-)

@_date: 2007-08-08 22:45:22
@_author: vikingserver@gmail.com 
@_subject: Proposal of a new hidden wiki 
Hello Karsten, Ringo and Eduardo,
Feel free to experiment, it's fun... But:
In my opinion it's MUCH easier to:
-have one well known hidden wiki
-have one or more well known backups of the hidden wiki, with the edit
function disabled
If the primary server is down, people can just go to a backup.
If the primary server goes permanently down, a backup can become the new
primary server.
If you want to create unbreakable hidden websites, tor isn't today the
right network, but might become in the future. It might be better to use
a network with a distributed cache system like freenet or such. Or to
help develop Tor by creating a distributed cache system for Tor. But
experimenting is fun, so I don't want you not to try. You might discover
a bug or security vulnerability by doing something that isn't supposed
to be done.
Every network has it's differences. Freenet is ultra slow, is known for
hosting child porn, doesn't allow exits to the internet, and isn't
actively developed. Tor has the world's most hated and feared army as a
sponsor/initiator of the project, but on the other hand it's fast and
does it job. Freenet has a slow but working system for creating almost
unbreakable web sites, Tor has a simpler, faster but more vulnerable
system to hide websites.
With Tor it's very easy to detect if a tor server and a tor service go
down at the same time. Showing on what server a hidden service runs.
And by the way, why is there a need to have a hidden wiki, when it's
going to get detected soon enough who runs it? Why not a public wiki
with .onion links? Why not add .onion links to the public wiki that
already exists?
Blessed are thee who stay hidden inside Tor, for the hiddenness from the
evil internet bestoeth them! ;-)

@_date: 2007-06-18 22:11:18
@_author: vikingserver@gmail.com 
@_subject: Strange behaviour of Tor 0.2.0.2 Alpha & vidalia 0.0.12 
I also have similar incompatibility between tor 0202alpha and vidalia 0012.
Vidalia is not updated to work with tor 0202alpha.
Did you notice that vidalia creates a new torrc file in it's own folder?
Did you edit the settings in that file, or in the old torrc place under
documents and settings? With newer versions of vidalia, the old torrc
file isn't used anymore.
It works for me if I edit the settings in the torrc in the vidalia
folder. Vidalia doesn't overwrite them if I set them in that torrc file
directly, without using the vidalia settings menu.
RelayBandwidth settings work very well on my computer. I also set the
normal bandwidth settings to restrict my own tor usage, otherwise I get
huge bandwidth "spikes".
Matthieu Dalissier skrev:

@_date: 2007-06-18 23:06:11
@_author: vikingserver@gmail.com 
@_subject: Strange behaviour of Tor 0.2.0.2 Alpha & vidalia 0.0.12 
Sorry Matthieu, I remembered the folders wrong.
If you use a new vidalia version, you only should edit the vidalia folder:
just like you wrote.
But you don't need the torrc in the tor folder:
If you did that correctly, it's strange that things don't work. Maybe
vidalia overwrites the torrc with the saved settings in:
Matthieu Dalissier skrev:

@_date: 2007-06-04 16:03:07
@_author: vikingserver@gmail.com 
@_subject: Tor 0.2.0.2-alpha is out 
Before anything else, I must say a BIG THANK YOU to the developers of TOR.
I have been running a server now for a year or so, with the purpose of
being an entry server for people behind restrictive firewalls. I choose
port 995 which is a port often used by SSL-email servers. I choose this
port because I didn't find any tor server back then that had a server on
the port 995. Many TOR-servers used ports 9030 or 9031 or other ports
usually blocked by restrictive company/organization/educational
firewalls. And some servers used port 80 or 443, both ports that are
often blocked by restrictive firewalls. Many companies instead have one
proxy that handles all 80/443 traffic, blocking traffic to ports 80 and
443, while they often allow direct connection to email ports 110 and 995.
Anyway, today I read this in the release notes:
I have questions about this that might interest others:
Is the requirement of "being stable" to have had the server running for
at least 30 days in a row without any downtime?
If so, this must mean that these servers update TOR very rarely and
might be a security threat. Because TOR is often updated with new bug
fixes and security updates, it's not possible to have an up to date
version of TOR and at the same time being a "stable TOR server". Updates
are released more often than every 30 days, right?
Stable TOR releases are sometimes released more rarely, but still a
server that recently updated to a new stable release will have an uptime
of less than 30 days, while a server running an older version of TOR
(stable TOR version or not), that hasn't been updated for a long time
will be marked as "a stable router" with this system.
My conclusion is that this "security fix" rather than improving
security, really tells TOR clients to try to connect to servers with
high uptime with old, less secure versions of TOR.
Shouldn't TOR clients instead try to favor servers with the latest
version of TOR?
Roger Dingledine skrev:

@_date: 2007-06-04 18:22:10
@_author: vikingserver@gmail.com 
@_subject: Many OR-ports would improve the network 
Is there a plan for TOR servers to be able to announce several OR-ports
and DIR-ports?
I have been running a server now for a year or so, with the purpose of
being an entry server for people behind restrictive firewalls.
I choose port 995 which is a port often used by SSL-email servers. I
choose this port because I didn't find any tor server back then that had
a server on the port 995. Many TOR servers used ports 9001, 9030 or 9031
or other ports usually blocked by restrictive
company/organization/educational firewalls. And some servers used port
80 or 443, both ports that also are often blocked by restrictive
firewalls. Many companies instead have one proxy that handles all 80/443
traffic, blocking traffic to ports 80 and 443, while they often allow
direct connection to email ports 110 and 995.
If it was possible to announce several listening ports on both directory
servers, authority servers and normal TOR servers, it would greatly
improve the possibility for people behind restrictive networks to use TOR.
Many people behind restrictive firewalls can't use TOR firstly because
the TOR network's authority servers have unreachable ports, and secondly
because many servers use the same (often unreachable) ports 80, 443,
9001, 9030, 9031.
If it was possible for servers to announce many OR-ports and DIR-ports,
it would improve the situation for people behind company/educational
firewalls. It would probably also help people in countries that block
things on the Internet like China and Saudi Arabia, but perhaps those
countries are quick at blocking all TOR-servers by IP.
I can configure my router/gateway to listen on many ports, and direct
all ports to TOR's OR-port. But it won't help anyone, as the current
directory V2 doesn't allow servers to announce many listening ports to
the DIR-authorities.
If servers could simultaneously announce ports 20, 21, 25, 80, 110, 115,
119, 443, 458, 465, 537, 554, 587, 995, 2979, 4000, 5190, 5010, 7070,
8080 and other common ports, it would really help people behind
restrictive firewalls. (Of course not every server admin will configure
their router/gateway this way, but if only the authorities and a few
servers did, it would allow a big group of potential users to be able to
use TOR.)
Will there be a change in the future to allow servers to announce many
OR-ports and DIR-ports? When will this happen?

@_date: 2007-06-15 13:52:35
@_author: vikingserver@gmail.com 
@_subject: Cisco firewall filtering Tor? 
Tor is very easy to block. Maybe your fascist firewall admins block the
Tor directory servers?
Without the information from them, your client doesn't know how to
connect to Tor servers/nodes, making it impossible for you to connect to
the Tor network.
Maybe you should check if you can reach Tor's hard coded authoritative
directory server IPs? (Moria, lefkada, dizum and tor26)
Jay Goodman Tamboli skrev:

@_date: 2007-11-07 13:37:31
@_author: vikingserver@gmail.com 
@_subject: "Our directory information is no longer up-to-date enough to 
I also have reproduced this error with 0209alpha on win32 and have
logged everything at info level.
Do you want my log? How big files can you receive? The log is 30MB+ and
I would rather send you the interesting parts rather than the whole log
file. But how big files can you receive by email?
Scott Bennett skrev:

@_date: 2007-11-07 15:50:01
@_author: vikingserver@gmail.com 
@_subject: "Our directory information is no longer up-to-date enough to 
BTW, the problem is happening right now, if you want to test something
on my server.
The logging is at info level.
I can resist from restarting Tor, so that you can test the problem "live".
Tell me what to do if you need information.
vikingserver at gmail.com skrev:

@_date: 2007-11-07 18:28:45
@_author: vikingserver@gmail.com 
@_subject: "Our directory information is no longer up-to-date enough to 
The error message I get is not the same as the one in the bug report.
And the log doensn't look like in the bug report.
Perhaps it's the same problem in the code causing different error
messages, perhaps not.
The message I get is the following:
Nov 07 18:19:59.296 [notice] I learned some more directory information,
but not enough to build a circuit.
Nov 07 18:19:59.296 [info]
update_consensus_router_descriptor_downloads(): 0 routers downloadable.
0 delayed; 2184 present; 0 would_reject; 0 wouldnt_use, 0 in progress.
Nov 07 18:19:59.296 [info] launch_router_descriptor_downloads():
Launching 0 request for 0 router, 4 at a time
It's just a small part of my log. If you want more I can give you the rest.
Roger Dingledine skrev:

@_date: 2007-10-13 02:14:19
@_author: vikingserver@gmail.com 
@_subject: Tor/Vidalia hangs 
tor 0207a and vidalia 14 seem to work fine again.
The only change I made was to turn of the option of beeing a directory
Perhaps a bug in 0207a that makes tor servers acting as dirservers not
respond in windows?
Anyone else that has experienced this with version 0207a?
phobos at rootme.org skrev:

@_date: 2007-10-14 10:01:16
@_author: vikingserver@gmail.com 
@_subject: Tor 0.2.0.8-alpha is out 
The win32 version of the bundle either is corrupted or has a bad
signature. Please fix this, and tell us if the signature or the bundle
was bad.
The win32 tor-only package has a good signature.
Roger Dingledine skrev:

@_date: 2007-10-31 05:23:58
@_author: vikingserver@gmail.com 
@_subject: Email sent through Tor, Problem 
Are you sure that your web browser was configured to use Tor when you
sent the email?
I have been reading your conversations. To me this looks like you
haven't configured your internet connection, browser or email client
properly. Are you 100 percent sure that you were connected to hotmail
through Tor when you sent the email?
I believe there are only two ways for a web page to get your IP, the
first is if you don't use tor, the second is if you don't block scripts
and small apps from web pages.
If you use MSN instant messaging without going through Tor, it will also
reveal your IP to microsoft. But they shouldn't put your IP in the email
header that way...
If you want to try again, you could send me an email directly to my
email adress, so that I can see if you reveal your IP or not. Please
really make sure that your connection goes through Tor, by first going
to this site that checks if your web browser goes through tor:
 Then go directly to hotmail from your
browser (in the same window) and send me a message.
I'm in Sweden so you have nothing to fear revealing your IP to me as I'm
clearly not working for your governement, police, girlfriend, wife,
parents, muslim extremist organization, american CIA or other person
you're hiding from. ;-)
Viking admin
Faqeer ALI skrev:

@_date: 2007-10-31 07:35:48
@_author: vikingserver@gmail.com 
@_subject: Email sent through Tor, Problem 
the email you sent me indicates that you connected through the server
195.71.90.10 Blutmagie at domain blutmagie.de
Tor and hotmail work well together. Your true IP was not sent to me.
You must have made a mistake when you did send the email to your friend,
and didn't send it through Tor.
Or you didn't block scripts, and hotmail uses a script or applet to
identify the IP adress.
Viking admin
Faqeer ALI skrev:
ur IP or not. Please> really make sure that your connection goes through Tor, by first going> to this site that checks if your web browser goes through tor:>  Then go directly to hotmail from your> browser (in the same window) and send me a message.>> I'm in Sweden so you have nothing to fear revealing your IP to me as I'm> clearly not working for your governement, police, girlfriend, wife,> parents, muslim extremist organization, american CIA or other person> you're hiding from. ;-)>> Viking admin>>> Faqeer ALI skrev:>> Yeah i am pretty much sure, because i have traced the first ip ie my isp's.>> it gives some information like this.>>>> 1 10.0.0.138>>>> 2. PAKISTAN ------------------> MY IP.>>>> 3. PAKISTAN>>>> 4, 202.125.154.129 Islamabad, Pakistan>>>> 5. 202.125.159.209 Pakistan>>>> 6. 202.125.159.20 Pakistan>>>> 7. 202.125.128.161 Pakistan>>>> 8. 63.218.1.193 Herndor, USA>>>> 9. 63.218.61.190 Herndor, USA>>>> 10 202.97.60.165 China>>>> 11. 202
.97.43.174 China>>>> 12. 202.97.43.171 China>>>> 13. 202.97.68.80 China>>>> 14. 125.123.1.242 China>>>> 15. 125.123.1.158 China>>>> 17. 125.123.1.138 China>>>> End 125.123.40.183 China>>>> Is there any trick to hide the header information while sending email through hotmail.>> Any suggestion?>>>> Regards>> FQ>>>>>> ----------------------------------------> Date: Tue, 30 Oct 2007 19:39:49 -0400> From: phobos at rootme.org> To: or-talk at freehaven.net> Subject: Re: Email sent through Tor, Problem>> On Tue, Oct 30, 2007 at 04:22:38PM +0000, faqeerali at hotmail.com wrote 1.8K bytes in 37 lines about:> :> : I have sent an email through web interface from hotmail adress to another hotmail adress.> : The reciver has used the following sofware " and got the details of the routes and hopes that the email had followed.>> Are you sure the receiver traced it back to your internet connection and> not the tor exit server?>> EmailtrackerPro appears to just pars
e the mail headers and map whois> data of the hosts in the headers. It then draws pretty lines between> everything.>> As long as Hotmail is exposing your real IP, this will continue to work.> Can anyone else with a hotmail account verify that hotmail is indeed> getting the real IP for header insertion?>> --> Andr> ew>>>> _________________________________________________________________>> Help yourself to FREE treats served up daily at the Messenger Caf?. Stop by today.>>

@_date: 2007-10-31 08:14:39
@_author: vikingserver@gmail.com 
@_subject: Email sent through Tor, Problem 
If you use the most recent torbutton, it should block dangerous scripts.
It can be found here:
Current version is 1.1.9.1
You can instead use the firefox addon noscript which blocks all scripts
instead, together with the old torbutton 1.0.4.01
Either way is good. But if you use noscript, don't allow scripts on web
pages if you suspect that they register your IP with a script or applet.
Faqeer ALI skrev:

@_date: 2007-10-31 21:59:53
@_author: vikingserver@gmail.com 
@_subject: peculiar 0.2.0.9-alpha behavior this a.m. 
My server also had the "I learned some more directory information, but
not enough to build a circuit." problem today.
It continued for a long while, so I tried to restart Tor and it worked.
The problem with the "I learned some more directory information, but not
enough to build a circuit." message coming again and again without any
good reason has happened before. Restarting Tor generally works, but not
always the first time.
I guess I don't need to show my logs as they are just like Scott
Bennett's logs, full of "I learned some more directory information, but
not enough to build a circuit."
BTW the problem is not with Vidalia, as I don't use Vidalia anylonger
because of all the incompatibility problems between Tor alpha 0206-0209
and recent Vidalia versions.
Seems like the alpha releases recently really have been true alpha, and
not beta releases called alpha. ;-)
The problem I wrote about previously, with Vidalia and Tor "blocking"
each other at startup might also be caused by Vidalia, but since 0206 (I
believe) they have been "blocking" each other in some way resulting in
nearly 100% CPU sometimes and unresponsive programs. But that's probably
a completely different problem.
Scott Bennett skrev:

@_date: 2007-10-04 01:19:36
@_author: vikingserver@gmail.com 
@_subject: Tor/Vidalia hangs 
I'm running vidalia0014 and tor0207a.
The last 5-7 times I started my server, both Vidalia and tor hangs.
Vidalia either starts responding or crashes when I shut down the tor.exe
process manually.
Tor starts working again if I start up Vidalia and start tor from the menu.
Perhaps this is a known bug, but if not, does anybody have any good
I have ended up not bothering to run my tor server the last days/weeks,
as I don't know if the alpha code works well enough. (I could go back to
0206a, but I'm waiting for 0208a.)
The process tor.exe uses more memory than usual, it's now around 80-90MB.
Vidalia uses around 25-45MB (like it normally does).
Have more people experienced this bug, or am I the only one experiencing

@_date: 2007-10-04 20:25:28
@_author: vikingserver@gmail.com 
@_subject: Tor/Vidalia hangs 
Sorry, nothing unusual in the log file.
Two things have happened the last week, tor (and vidalia) crashes or
becomes unresponsive. Either way tor doesn't work. And the server once
crashed resulting in some corrupted files. I don't know if that server
crash was caused by Tor or some other server software. It might have
been caused by some other windows software, I don't know.
Is there some way for me to find out what causes Tor (and Vidalia) to
crash or become unresponsive? If so I would be happy to help.
Is there a way for me to find out if Tor/Vidalia crashed my computer, or
if the computer crash caused Tor/Vidalia to stop working properly?
phobos at rootme.org skrev:

@_date: 2007-09-11 03:13:06
@_author: vikingserver@gmail.com 
@_subject: Filtering traffic from your node - for exit points 
Interesting, but a very complicated method of filtering.
In the future, perhaps it would be possible to make a plugin for Tor
that makes it easy to block unwanted traffic. That would make it easier
for more people to dare to run Tor exit nodes.
For windows, if you only want to block IPs it's also possible to run an
ip blocker. Protowall is one such software for windows that runs as a
layer between the internet and the server's software. There are a lot of
other software that can block lists of IP addresses.
The problem is, does Tor support huge IP lists? What will happen if the
torrc has 20 000 IP-ranges blocked? Will Tor get very slow or crash?
Every country has it's own laws. I believe blocking could be used
without any legal worries in many countries.
Torified User skrev:

@_date: 2007-09-11 15:37:33
@_author: vikingserver@gmail.com 
@_subject: Filtering traffic from your node - for exit points 
Torified User,
It's possible to block certain IP addresses and ports in the torrc.
Please continue to run an exit server that blocks certain IPs and ports,
that will improve the network as Tor will only rout allowed traffic
through your node.
But blocking by content without the possibility to configure it in the
torrc file will make the Tor network slower and will make some downloads
and browsing fail from your exit server. If Tor in the future allows
content filters, then it will be possible to run a filtered exit server
without slowing down the network.
I hope Tor will allow content filer in the future as it would make more
people run exit servers. Of course I hope there will always be exit
nodes running without any blocking at all, as content blocking often
block good things too.
It must be the Tor users choice and not the exit server admins choice
what the users will do or not do. And it must be the criminal users the
are taken by the police, not the exit server admins. And it must be the
exit server admin's choice wheter or not he/she will take the risk of
getting his equipment confiscated by the police. Combining these
important things is difficult, but as long as exit servers with
different configurations exist in many countries with different laws it
will be possible to have access to the full internet from any country
through the Tor network.
I myself live in the EU and I don't dare to run an exit server because
the torrc would get really huge if I added all the IPs I would like to
block to be sure to not get my computer confiscated by the police. And
still I wouldn't be secure as new child porn sites, and terrorist sites
appear all the time.
My main reason to run a server is to be an entry server on a common SSL
port in order for people behind restrictive firewalls to get access to
the internet. But I would probably run an exit server if I was sure not
to get a policeman knocking on my door one day.
Torified User skrev:

@_date: 2007-09-11 19:05:18
@_author: vikingserver@gmail.com 
@_subject: What do you think about this exit policy for germany? 
Your idea is good. Perhaps EU police also don't have enough time and
energy to decrypt SSL traffic. While it's easier for them to monitor
non-SSL traffic. But I guess EU police probably will be very interested
in IP numbers if they seize a mail server, so they might still get upset
if you run an exit server.
But as an addition to your suggestion, it would be good to have an IP
filter that blocks child porn and terrorism.
Perhaps the Tor programmers could implement an option for exit servers
to only allow SSL traffic (and other options not based on the port
number but content)? And also the possibility to have huge IP filters,
or compatibility with other existing IP filters. (There is already a
possibility to block IPs in the torrc, but does it work with enormous IP
Why the police in EU, China, Saudi Arabia and other countries believe
they have the right to monitor people's Internet activities is another
question. To me it's a matter of personal judgment and honesty what
content you access on the Internet. The governments shouldn't spend tax
payers money on spying on it's own citizens. But when the reality is
that we have governments that seize people's computers and/or prosecute
them if they run a Tor exit server, use P2P, or access "illegal"
websites, then we have to protect ourselves against the abuse from the
governments. The possibility to run a Tor exit server without getting
caught will most likely make the number of Tor servers increase.
Thomas Hluchnik skrev:

@_date: 2008-01-04 16:30:33
@_author: vikingserver@gmail.com 
@_subject: Tor server using Vista? 
I agree with Steve.
I recommend running tor server on Vista, so that You can report bugs to the developers.
About security:
Ringo thinks running Tor on Windows is a security risk because of backdoors. But every OS has bugs, including linux, unix, bsd, mac OS. And probably almost every program running on any OS isn't programmed in an optimal way, and probably a majority contains bugs.
There is no perfect program, and there is no perfect OS. Ask any engineer/programmer you know, and he will confirm this.
When running Tor+Vidalia+Privoxy on Vista, the biggest security risk will probably be one of these three programs, rather than Vista itself. Tor+Vidalia+Privoxy will probably contain bugs that create security risks on your computer.
So in my opinion, you should only run a Tor server on a Vista computer without important documents.
I wouldn't myself run a Tor server on a computer that I use to access banks, or a computer where I store my digital pictures, work/school documents, and other important things.
I run my server on a computer only used for unimportant programs that don't need a secure environment. If a hacker would format the hard drive, or delete files it wouldn't matter much. (I have a backup of everything of any importance on my server, but 99% is of low importance.)
Others run a Tor server on a dedicated server. This is of course the best solution, but not a very effective use of a computer's resources.
When running a dedicated Tor server you have the possibility to run a very secure OS, like a minimalistic ultra secure version of linux or bsd. So the only reason to run a dedicated Tor server on Vista is for testing purposes.
If you want to run a Tor server on a PC that contain your digital pictures and other important things, make backups often.
If you use your computer to access your bank(s) don't run: a Tor server, file sharing program, web-server, ftp-server, or other server programs that are accessible from the outside.
Those programs are probably a bigger security risk than Windows itself, as Microsoft almost weekly update their security problems through windows updates.
Steve Crook skrev:
