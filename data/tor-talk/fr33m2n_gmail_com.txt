
@_date: 2008-10-17 18:30:23
@_author: =?KOI8-R?B?98HTyczJyiDv2sXSz9c=?= 
@_subject: Streams are always detached.. 
Hi everyone!
I have one trouble. I want to create circuit and attach stream to it.
It's ok, when i creating circuits and try to attach streams,
but i always get "stream detached" message. But if i would like to
attach stream to circuits, that was built by tor
they are not detached.
For example:
1. Builing circuits and saying to tor that we will attach streams to circuits:
250 OK
SETCONF __LeaveStreamsUnattached=1
250 OK
SETEVENTS STREAM
250 OK
EXTENDCIRCUIT 0 moria1,moria2,tor26
250 EXTENDED 18
getinfo circuit-status
18 BUILT moria1,moria2,tor26
15 BUILT $45BD31668681898CE4F50D24094E80D362955CE1,$A616B8EE492D87B28EA085DCF8FAF709964B7857,EviDancer
12 BUILT $45BD31668681898CE4F50D24094E80D362955CE1,kaputtendorf,$ED3565BEF522EDF2CB47855E19316F17D25F447B
5 BUILT $A5F8D7335953D5E94C66898979A06887C60F2FAB,$8318A0A99B26785C6AB59FB3A290F6A04ADDD42C,$9B02AA745B22B3FAB37C84B5E695623DD107A74D
4 BUILT $A5F8D7335953D5E94C66898979A06887C60F2FAB,$2682892CB12EDA0B69049C42A8483A680F70F56F,poolTOR
250 OK
2. Trying to attach stream to _my_ circuit:
650 STREAM 17 NEW 0 google.com:80
attachstream 17 18
650 STREAM 17 SENTCONNECT 18 google.com:80
250 OK
650 STREAM 17 REMAP 18 64.233.187.99:80
650 STREAM 17 DETACHED 18 64.233.187.99:80
attachstream 17 18
650 STREAM 17 SENTCONNECT 18 64.233.187.99:80
250 OK
650 STREAM 17 DETACHED 18 64.233.187.99:80
3. Attaching stream to circuit, that was created by tor:
attachstream 17 15
650 STREAM 17 SENTCONNECT 15 64.233.187.99:80
250 OK
650 STREAM 17 REMAP 15 64.233.187.99:80
650 STREAM 17 SUCCEEDED 15 64.233.187.99:80
You can see, that this stream has succeeded.
Why the stream always detached, when i attach it to my circuit?

@_date: 2008-10-18 10:22:11
@_author: =?KOI8-R?B?98HTyczJyiDv2sXSz9c=?= 
@_subject: Streams are always detached.. 
Thaks a lot.) The problem was in exit policies. It's working fine now.
Thanks a lot.)
2008/10/17 Roger Dingledine :

@_date: 2009-04-07 09:38:45
@_author: =?KOI8-R?B?98HTyczJyiDv2sXSz9c=?= 
@_subject: DETACHED streams 
I think, that the exit node of your circuit can't be exit node.
Can you post servers descriptors wich are in the circuit?
something like this: "getinfo desc/name/youservername".
2009/4/7 slush :

@_date: 2009-04-08 19:41:31
@_author: =?KOI8-R?B?98HTyczJyiDv2sXSz9c=?= 
@_subject: DETACHED streams 
Have you specified option in torrc:
2009/4/8 slush :

@_date: 2009-04-08 20:16:01
@_author: =?KOI8-R?B?98HTyczJyiDv2sXSz9c=?= 
@_subject: DETACHED streams 
Hmm... there are another options that must be set.. For default, tor
won't use circuits, that have two nodes in one /16 subnet. Is it
2009/4/8 slush :

@_date: 2009-07-16 15:40:13
@_author: =?KOI8-R?B?98HTyczJyiDv2sXSz9c=?= 
@_subject: Tor Bandwidth update. 
Good day.
I have read a lot of manuals, but I can't find an answer. Is tor
automatically calculate bandwidth and update descriptor?

@_date: 2009-06-08 13:35:26
@_author: =?KOI8-R?B?98HTyczJyiDv2sXSz9c=?= 
@_subject: Using POSTDESCRIPTOR command 
Good day.
I wan't to use my own server descriptors with tor. For example: I have
installed tor as a server on some host in the internet. The tor's
configuration deny it to publish its descriptor to dir servers. Then I
got it descriptor, through control port and decided to insert it to my
tor client, through control protocol (+POSTDESCRIPTOR). Tor said 250
ok, but tor didn't build any circuits with my server. Tor builds
circuits with my server only through EXTENDCIRCUIT command. Tell me
please, can tor automatically build circuits with servers from
Thank's a lot.

@_date: 2009-05-13 19:11:50
@_author: =?KOI8-R?B?98HTyczJyiDv2sXSz9c=?= 
@_subject: Using own descriptors with TOR 
Good day.
I wan't to use my own server descriptors with tor. For example: I have
installed tor as a server on some host in the internet. The tor's
configuration deny it to publish its descriptor to dir servers. Then I
got it descriptor, through control port and decided to insert it to my
tor client, through control protocol (+POSTDESCRIPTOR). Tor said 250
ok, but tor didn't build any circuits with my server. Tor builds
circuits with my server only through EXTENDCIRCUIT command. Tell me
please, can tor automatically build circuits with servers from
Thank's a lot.
WBR, Ozerov Vasiliy aka fr33man.
