
@_date: 2004-12-17 11:46:46
@_author: SK 
@_subject: Tor status 
Once I run tor with "runasdaemon 1", is there any way I can check at
the daemon status/stats?

@_date: 2004-12-17 15:21:06
@_author: SK 
@_subject: Tor status 
I am running it on an AMD64, FC3 machine. I compiled it from source.
Tor executable is installed in the default "/usr/local/bin/tor", while
the torrc is at /usr/local/etc/tor/

@_date: 2004-12-17 16:31:48
@_author: SK 
@_subject: Tor status 
Thanks Douglas! Will enable logs and check them.
Just to check what is going on :) I generally am anxious about
unstable programs that don't give me any status info to refer to! :)

@_date: 2004-12-21 12:41:56
@_author: SK 
@_subject: Anything to be looked into? 
Hi all,
For the last couple of minutes my log is showing the entry
Identity key not as expected for router claiming to be 'mordor'
where xxxxx is a 4 digit number.
Should this be looked into by the ops?

@_date: 2004-12-23 08:48:22
@_author: SK 
@_subject: Bug/warning message.. 
For the last couple of hours, my Tor service has been spewing out a
bug/warning message that goes:
"[warn] connection_edge_end(): Bug: calling connection_edge_end on an
already ended stream?"
I am running Tor 0.0.9 on FC3 Linux on AMD64 arch.
Is this something to be looked into or something that may have been
fixed in the 0.0.9.1 release?

@_date: 2004-12-24 13:41:15
@_author: SK 
@_subject: Bug/warning message.. 
Great work :)
Sure. Naah.. don't want to tax my switched-off-for-hols brain for now. Will
fetch 0.0.9.2 and after that maybe will switch to cvs.

@_date: 2005-04-22 10:51:02
@_author: SK 
@_subject: old libevent, or is it new? 
When I ran tor 1.0.3-rc for the first time, I got the [notice] that
tor is initializing old libevent (1.0b or earlier). So I upgraded
libevent to 1.0c. However restarting tor gives me the same notice. Am
I getting something wrong with the libevent install or is tor getting
it wrong.
I used the typical "./configure && make && make test && make install"
for compiling and installing libevent and the binary seems to be
updated, as per the filesize and timestamp on the file.
before 1.0c install:
-rw-r--r--  1 root root 133454 Jan 12 22:15 /usr/local/lib/libevent.a
after 1.0c install:
-rw-r--r--  1 root root 147542 Apr 22 10:45 /usr/local/lib/libevent.a
Any help?

@_date: 2005-04-22 14:34:55
@_author: SK 
@_subject: old libevent, or is it new? 
a *duh* moment I guess :) Yes you are right, recompile makes Tor use

@_date: 2005-02-17 10:34:30
@_author: SK 
@_subject: Tor hogging cpu 
I have had several problems with Tor before the 0.0.9.4 version, but
no problem with 0.0.9.4 so far. Don't have a Gentoo machine to compare
with yours, I use FC3 on an AMD 64 Athlon.
Could it be something specific to Gentoo or your env.?

@_date: 2005-02-20 21:25:00
@_author: SK 
@_subject: blockers 
Are you sure it is because of Tor or because of the query? It is a
known fact that Google is blocking certain queries to prevent
automated spread of viruses:
 On Sun, 20 Feb 2005 21:14:34 +0100, Matthias Fischmann

@_date: 2005-02-25 10:15:48
@_author: SK 
@_subject: Just a bit of graph 
Thought is might be interesting to see a bit of graph about the
network and cpu usage for my tor server. Attached are the two for a
one day period. The small gap is the time I upgraded to 0.0.9.5 as
well as had to booted into Windows.
Interesting things to see:
- regularly push about 200 KB/s
- About 15G pushed across last day!
- nice symmetry of a middle man :)
- decreased cpu usage after the upgrade

@_date: 2005-02-04 14:40:44
@_author: SK 
@_subject: And nirvana is back 
mysticmayhem is also back (for now) with 0.0.9.4 version and reject
for everything except 80 and 443.
On Thu, 3 Feb 2005 17:21:17 -0500, Michael Laccetti [c]

@_date: 2005-02-09 10:31:42
@_author: SK 
@_subject: ExitPolicy abuse 
Strangely I had exactly the same two reports against my Tor server
1- 2005-01-26 19:35:04 unknown, bots
2 - Google Groups posting via their HTTP interface (eg. on Sun, 6 Feb
2005 11:43:32 +0000 (UTC))
After the 1st incident was reported to me, I changed the exit policy
to block IRC because I reasoned that the bot could be an IRC based on.
Changing the exit policy to allow only 80, 443 and 22 I thought I will
be fine, until the second report came in.
SURFNet which owns the network that my Univ uses (Tor runs on my Univ
machine) is well know to react pretty hard to abuse reports. "Thanks"
to their forwarding of the report to Univ's CERT, I had to shutdown my
Tor server (rather abruptly) on Sunday.
As of now, I am deciding whether to restart the server with a reject
*:* or not to run any server at all, since I do not know how much of a
benefit anyone will have with a Tor server with such a strict exit
policy :(
Any suggestions?

@_date: 2005-02-10 10:04:41
@_author: SK 
@_subject: ExitPolicy abuse 
And what is the flaw? Providing an HTTP interface to the Usenet?

@_date: 2005-02-11 10:07:12
@_author: SK 
@_subject: Look at that size! 
Feb 11 07:44:04.001 [warn] write_to_buf(): buflen too small, can't
hold 16777728 bytes.
Feb 11 07:44:04.001 [warn] connection_write_to_buf(): write_to_buf
failed. Closing connection (fd 41).
That is one hell of a long packet!

@_date: 2005-01-26 09:34:14
@_author: SK 
@_subject: What happened? 
I have shutdown my tor server since the last couple of days. The
"stable" version's CPU usage is alarming and the CVS version crashes
ever so often. Since both of these seems to be known problems, I just
decided to wait till the next stable release comes out.

@_date: 2005-01-26 16:06:14
@_author: SK 
@_subject: TOR DNSBL - blacklist for Tor servers 
But the problem is also this, what will I as a tor server need to
face? I for one run tor on a Univ. machine. While the Univ. does not
have any rule against running Tor or other similar anon systems,. if
the whole class C network is blocked by a lot of services, I have a
feeling the univ's network admins will be less than pleased. I am sure
other organisations and ISPs will take similar stands.

@_date: 2005-01-04 19:57:23
@_author: SK 
@_subject: Bug/warning message.. 
I upgraded to 0.0.9.2 tor and am getting the same
"connection_edge_end()" warn messages  once in a while (twice in 20
mnts or so). Machine remains the same - updated FC3, AMD64.

@_date: 2005-01-05 09:55:31
@_author: SK 
@_subject: Heavy CPU usage.. normal? 
I have been running Tor 0.0.9.2 in client and server mode for a day
now and am seeing constantly high CPU usage. If I use "top" to see the
stats, here is what I get about the 2 tor processes:
PID: 32477
USER: tor
PR: 16
NI: 0
VIRT: 37880
RES: 22m
SHR: 15m
S: R
%CPU:  82.5
%MEM: 2.3
TIME+:  368.58.30
COMMAND: tor
PID: 32481
USER: tor
PR: 16
NI: 0
VIRT: 17788
RES: 3100
SHR: 15m
S: S
%CPU:  0.7
%MEM: 0.3
TIME+:  4.34.33
COMMAND: tor
The first of these processes is the concern. The %CPU is consistently high. Is this a cause of worry?
If this can be of any help to identify the problem, my /proc/cpuinfo is:
processor       : 0
vendor_id       : AuthenticAMD
cpu family      : 15
model           : 12
model name      : AMD Athlon(tm) 64 Processor 3000+
stepping        : 0
cpu MHz         : 2002.652
cache size      : 512 KB
fpu             : yes
fpu_exception   : yes
cpuid level     : 1
wp              : yes
flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov
pat pse36 clflush mmx fxsr sse sse2 syscall nx mmxext lm 3dnowext 3dnow
bogomips        : 3923.96
TLB size        : 1088 4K pages
clflush size    : 64
cache_alignment : 64
address sizes   : 40 bits physical, 48 bits virtual
power management: ts fid vid ttp
I am using tor compiled from the source. gcc version is 3.4.2 20041017
(Red Hat 3.4.2-6.fc3)
Any ideas?

@_date: 2005-01-05 11:17:27
@_author: SK 
@_subject: Heavy CPU usage.. normal? 
Thanks for the reply Roger. Got off my lazy butt and checkedout the
CVS version and installed it. Will bug again if and when I see the
issue again.
-S_

@_date: 2005-01-06 09:56:35
@_author: SK 
@_subject: Heavy CPU usage.. normal? 
Just to close this thread, CVS codes are indeed less hungry. Typical
%CPU usage has gone down to 4 while %MEM is at a low 2!
Thanks to all developers.

@_date: 2005-07-30 09:33:15
@_author: SK 
@_subject: Policy question 
Is it possible to have a base exit poilicy of "reject *.*" (middle
man) but at the same time allow specific IP addresses to use my server
as exit or entry points?

@_date: 2005-07-30 14:40:50
@_author: SK 
@_subject: Policy question 
Thanks Steven. Maybe some details of what I want setup could help
clarify the issue. I have an OR running as middle man (forced to do
that due to compliants from Google groups, IRC ops etc. and strict
warning from Univ).
However I want to have my other machines (laptops, home PCs etc.) to
use this OR of mine as an exit or entry node for paranoid safety
I was hoping to do that using entrynodes myOR
exitnodes myOR
and then use StrictExitNodes or StrictEntryNodes option at the OP.
As you rightly pointed out ORs acting as exit nodes can't know the IP
address of the OP, but the entry node OR should be able to know the IP
address of the OP. So can I in some way config my OR to act as entry
point for my list of OPs (identified by IP addresses), but as
middleman for all the other cases?

@_date: 2005-03-20 08:52:42
@_author: SK 
@_subject: disappearing nodes 
While I am not in US, I too have turned off my Tor server
(mysticmayhem) for some time now. The primary reason was that the CPU
and memory usage of Tor was making my machine unusable for other
purposes. If and when I can get a dedicated machine for running Tor, I
will set up another server on it.
On Sat, 19 Mar 2005 16:08:49 -0500, Geoffrey Goodell
