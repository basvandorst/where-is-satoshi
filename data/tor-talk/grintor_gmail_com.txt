
@_date: 2012-02-25 12:06:23
@_author: Chris Wheeler 
@_subject: [tor-talk] on the topic of tor's weaknesses 
I have been reading a lot about end-to-end correlation attacks on tor. I am
writing a paper on the subject and have a question which I can't seem to
find an answer to. I understand these attacks rely on the attacker being
able to view the traffic of the first relay a client is connecting to and
the exit server. At this point they could make a correlation of what exit
traffic is specific to that client based on statistical analysis. My
question is: since bridges are just entry-point relays, If one could be
certain that they were connecting to a bridge that is not compromised (for
instance, if they themselves controlled the bridge), would they then be
protected from such an attack?
Thank you for your help

@_date: 2012-02-25 16:23:34
@_author: Chris Wheeler 
@_subject: [tor-talk] on the topic of tor's weaknesses 
Joe, I don't think that the order that the packet are sent
and received from the exit relay really changes the ease of correlation,
since they will arrive to the other end of the network in the same order.
But maybe the middle relay could be the one who re-arranges the packets.
Delaying some and expediting others randomly. TCP handles out of order
packets badly by my understanding, it just requests them again in the
correct order. There would need to be a protocol wrapped around the TCP
stream being proxied that puts them back in order at the exit and entrance
relays transparent to the TCP stream. Sounds possible to me. But you know,
even if you didn't rearrange them and just randomly delayed each packet
(but kept them in order) at each hop it seems that would make
it impossible to correlate. Unless maybe if there were only one stream
passing through a node at a given time (which is pretty likely to happen on
new bridges). To solve that problem you could have each node always sending
and receiving by just sending "junk" packets (whole packets of padding)
around the network. Once they hit an exit node the exit would decrypt them,
see they were just padding and toss them out. That would create more
overhead but might be worth it.

@_date: 2012-02-25 20:45:59
@_author: Chris Wheeler 
@_subject: [tor-talk] how can I direct specific ports to tor? 
This would be application specific. From the looks of it you are trying to
set up an email client to use tor. To do that you would need to have an
email client that supports SOCKS proxies. Most do I think. Just set up your
mail client like you normally would if you were not using tor and then in
the proxy settings point it to you tor; SOCKS5 port 9050 localhost by

@_date: 2012-02-26 12:09:55
@_author: Chris Wheeler 
@_subject: [tor-talk] on the topic of tor's weaknesses 
Dr Fu,
About the paper you sent, particularly the section on the simulation
using continuous-time mix, by the looks of it much of your degradation came
from packets arriving in the wrong order. I know the TCP doesn't handle
this well natively but what if a wrapper was written? The TCP stream would
travel inside of our wrapper (which would of course itself would be running
on TCP across the internet - It would mean transporting a TCP stream over
layer 7 of the OSI model, I think this is how PPTP works) The inner TCP
stream would be mixed, and the packets out of order but the tor client,
before forwarding them on to their destination (a hidden service or, if we
are talking about an exit node, the internet) would rearrange them then
send them on.
Another approach to stop correlation attacks might just be to constantly
send packets at set time intervals, regardless of if you have any data
to forward. Just pad it with zeros if you have nothing to forward and let
it get dropped by the client on the other side of the network and of course
send real data when you have something to send. For example have a 5Kb
buffer, receive packets and place them in that buffer, send the buffer out
once per ms, if the buffer is not full pad it with zeros, if you have more
than 5Kb to send cache it for the next ms buffer.
What do you think?

@_date: 2012-02-26 20:36:20
@_author: Chris Wheeler 
@_subject: [tor-talk] on the topic of tor's weaknesses 
I imagine that you would only need to reorder packets end-to-end since
those are the points on the network where
a correlation attack compromises identity. If the packets being sent from a
public web server on the internet travel through the tor network in
a different order than they were seen entering the exit node by the
attacker, then they shouldn't be able to use statistical analyses to find
out where the packets went; even if they had a view of the whole network.
  When those packets arrive at the client side (right before they leave the
SOCKS5 server running on the client) they would be re-arranged back into
the order they entered the exit server; this way it would be transparent to
the application using the SOCKS server - such as a web browser. This
would definitively increase overhead, but mostly processor overhead (to
rearrange each packet), not too much bandwidth overhead which is
more precious. Since the only servers rearranging packets at all would the
ends, non-exit relays would not experience any processor overhead.
  The total bandwidth overhead would be from having to now deliver two TCP
headers, one from the large TCP packet that is traveling across the
internet carrying the smaller, out-of-order packet which has the real data,
and the other from that smaller TCP packet that is embedded in the data
section of the larger TCP packet.
I think that could work. What do you think?

@_date: 2012-02-29 10:19:48
@_author: Chris Wheeler 
@_subject: [tor-talk] on the topic of tor's weaknesses 
OK, so taking that all into account, is it more likely that you will be
de-anonymized using public services through tor (ie browsing the web) or
using hidden services through tor?
On Wed, Feb 29, 2012 at 9:14 AM, Ralf-Philipp Weinmann

@_date: 2012-03-01 10:07:43
@_author: Chris Wheeler 
@_subject: [tor-talk] on the topic of tor's weaknesses 
services seven hops away? But regular services three hops away? What does
more hops accomplish in terms of anonymity? And why does it not benefit
regular services in the same way? (if it did all circuits would be made
seven hops I  assume)

@_date: 2012-03-07 19:44:12
@_author: Chris Wheeler 
@_subject: [tor-talk] A bug in the Tor Browser Bundle? 
I am hosting a tor exit server named grintor. I noticed that if I try to
specify my exit server in the TBB using the .exit TLD it doesn't work. I
have tried to go to google.com.grintor.exit to no avail. It also does not
work with any other exit servers I have tried.
