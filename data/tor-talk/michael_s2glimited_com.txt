
@_date: 2004-12-10 22:09:50
@_author: Michael Laccetti 
@_subject: Firewall? 
Hash: SHA1
Recently had to install a firewall on the server.  Was wondering what ports I
should open incoming/outgoing?  I'm looking at the directory of servers, and
see that my server has 3 ports listed beside it (9001, 9050, 9030), and a bit
below has a bunch of accept/reject statements.  Are the first 3 incoming, and
the rest outgoing?  If so, can I modify the outgoing?  I can open a variety of
ports, but I don't want to open too many.

@_date: 2004-12-11 15:28:17
@_author: Michael Laccetti 
@_subject: Firewall? 
Hash: SHA1
Well, right now I'm operating in paranoia mode:  one of the servers I maintain
was hacked, and the crew that setup shop included a whole batch of bots.  Just
trying to hinder them, if it ever happens again.

@_date: 2004-12-16 22:17:49
@_author: Michael Laccetti 
@_subject: Nirvana 
Hash: SHA1
Well, I've fixed the firewall so that the 3 incoming ports are accepted, and
the outgoing ones can go out.  So all should be well now.  I've also fixed the
server so that it can use more bandwidth, hopefully people will see some

@_date: 2004-12-02 21:23:57
@_author: Michael Laccetti 
@_subject: Nirvana 
Hash: SHA1
Sorry guys, but I'm having some crazy network problems with my server
(nirvana).  Had 40k+ 'err's on eth0, and I have no idea what's going on. Firewall doesn't seem to be helping.  If anybody has an idea, please give me a
shout.  Sooner this is resolved, sooner it goes back up.  :)

@_date: 2005-04-12 17:31:19
@_author: Michael Laccetti 
@_subject: Tor 0.1.0.3-rc is out 
I cannot find 0.1.3-rc on the download page.  Am I missing something?

@_date: 2005-02-17 21:11:49
@_author: Michael Laccetti 
@_subject: Tor hogging cpu 
I've had the same problem, though since I just restarted Tor (did some software
upgrades/cleaning on the server) it's currently not running too badly.  But give
it a day, and it'll eat the CPU for 100% most of the time.  In fact, I had to
turn it off to do the compilation of the new packages.  Was just chewing the
processor otherwise.

@_date: 2005-02-18 09:45:23
@_author: Michael Laccetti 
@_subject: Tor hogging cpu 
I compiled mine with -march=pentium4 -Os -pipe
Could be how busy the server is.  My Tor server runs at 500k+ pretty solidly.

@_date: 2005-02-19 01:17:44
@_author: Michael Laccetti 
@_subject: Tor hogging cpu 
Finally got a few minutes to sit down and check out the activity.  Here's a link
to a screenshot of top:
  If
the server is slow, please forgive me, I'm hosting it locally while I try to
figure out what to do about the fact that people have been smashing into my
regular hosting server. Of Martin Balvers
Sent: February 18, 2005 01:09
I am running Tor on 2 Gentoo machines, without any problems. The busier box uses
more resources, but it's not causing problems (it runs on a slow dual celeron
366 mhz with only 128MB ram).
Could it have something to do with the used compiler optimizations ?
I use CFLAGS="-march=athlon-xp -Os -pipe -funroll-loops -fforce-addr
GPG key ID: 0xB72BEC80

@_date: 2005-02-03 17:21:17
@_author: Michael Laccetti [c] 
@_subject: And nirvana is back 
Well, new month, newly compiled 1.0-alpha version, and some handy new rejection
policies.  :)  Let's see how things go from here.

@_date: 2005-02-08 21:42:21
@_author: Michael Laccetti 
@_subject: ExitPolicy abuse 
Quick note:  sounds like DHS is hooked up with SORBS, since they recently listed
ALL Tor servers as hacked by some unknown trojan.  Good god, what the hell is
wrong with people these days?
I understand the frustration.  One of the clients that we host recently sent out
an e-mail to a big list of people.  How he got the list is beyond me, I cannot
tell if they were his actual clients, or just a random smattering of people.
Regardless, he sent this e-mail out.  The mail left through Bell (Canada)
Nexxia's network, and went here and there.  How did I find out about this?
Well, I got an e-mail from SpamCop.  They sent me a link to some report.  The
report itself made NO sense whatsoever, it had dates stretching back to November
2004, when the e-mail was sent on January 22nd 2005.  I added some info, and
went about life.  Then, last week, the datacenter calls me and says that I have
to remove a website that was spreading itself via spam, and that I had one day
to remove it before my account was shut down.  I talked to the rep, let them
know that I knew about it, and that the issue had been addressed.  I also
pointed two other things out:  one, the mail originated from Bell, and two, that
the mailserver for that domain wasn't even hosted with them.  The rep decided
that the issue had been addressed, and so I closed the book on it.  Till I woke
up this morning, and found that I couldn't connect to that specific server.
Couldn't SSH, couldn't do anything.  Asked for a reboot, and went back to my
morning routine.  Got an e-mail back roughly 30 minutes later telling me that
until the DNS for the 'spam' domain pointed elsewhere, that my server would
remain offline.  I called support and tried to explain exactly what was going
on, but the rep decided to actually yell at me.  (Wow, now that's service!)  I
finally capitulated, and changed the DNS while on the phone with the tech.
Lucky that we didn't put our eggs all in one basket.  The rep said that the
server would be brought back up, and that everything was taken care of.  Two and
a half hours later, still no go.  So, back on the phone I go.  Talk to a
different rep, jump through the same hoops, and ask when it'll be back up.  "The
abuse department has it, they'll take care of it."  (Some searching later on
showed that the tech support people and data center are in different places.)
Another 30 minutes, and it was finally back up.
All of this was from SpamCop.  Based on one e-mail.  No huge distribution.  Not
offering viagra, or anything that usual spam offers, but a legitimate product.
So much crap, all from an automated system that seems to have the shotgun
approach: fire enough pellets, and you'll hit something.  Crazy.

@_date: 2005-02-01 13:05:19
@_author: Michael Laccetti [c] 
@_subject: SORBS blacklisting tor servers 
Well, I use SORBS to block spam, but it was interesting to find my tor server in
there.  And to delist it?  I have to access SORBS from the server itself.  Oh
boy, now to fight with links.  That's just weak.

@_date: 2005-01-27 15:21:21
@_author: Michael Laccetti [c] 
@_subject: What happened? [signed] 
Hash: SHA1
Odd, I've been pretty consistent about grabbing the latest version from CVS and
plopping it on.
And now that I typed that line, I went to check up on the server, and gosh, it
was down.  Enabled debug logging, and fired it back up.  Time to put a monitor
in place.  :)

@_date: 2005-01-28 12:56:26
@_author: Michael Laccetti [c] 
@_subject: Downgraded [signed] 
Hash: SHA1
Well, due to stability issues, I've downgraded nirvana from 1.0.0-alpha-cvs to
0.9.3.  Hopefully that'll keep things alive.  Logs didn't seem to be too
informative, though debugging was turned on.

@_date: 2005-01-28 20:56:08
@_author: Michael Laccetti [c] 
@_subject: tor eating CPU time [signed] 
Hash: SHA1
Well, I don't have much in terms of profiling, but I have a nice overview of
what's happening.
Side note: most of the SSL certs I use are signed by cacert.org, so shoot on
over there and grab their root cert if you haven't already.  And tell your
friends.  :)
Nirvana traffic:
You'll see where I restarted the tor service after it had last crashed.
Nirvana CPU:
 CPU corresponded to when I fired up 0.9.3.
Nirvana load:
Again, big upward spike.
Actually had to take it offline, it was impacting the rest of the stuff that
was on the server.  If 1.0.0-alpha-cvs stabilizes sometime soon, let me know,
and I'll fire it up again.  Or, if it'll take more then a week or so, when the
rest off the stuff is ported off the server, it can be a dedicated tor node
Hope the info helps.

@_date: 2005-03-21 11:03:07
@_author: Michael Laccetti 
@_subject: disappearing nodes 
For me, most of the problems I have relate to number seven.  I'll be putting
some monitoring in place to check on it.  That's about the only reason why my
node would go down.  While number six has happened, and is an annoyance, I'm
more than willing to put up with it to help ensure privacy.
