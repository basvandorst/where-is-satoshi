
@_date: 2006-06-02 00:00:47
@_author: Scott Squires 
@_subject: tor+torbutton without privoxy doesn't work 
Thanks for the bug report.  The fixes for the first three of these make
Torbutton 1.0.4, available at See my comments concerning the last item.
Whoops.  Settings for not using privoxy are fixed.
I think this was only affecting the https host and port settings.  It has
also been remedied.
It should now display the same about box from the context menu as firefox
does when you view the about box from the extensions manager.  (the
firefox-generated about box looks nicer and contains the version number.)
That is how it was intended to work.  I would design it so that if the
Torbutton was on when you opened the preferences window then it would
remain on when you closed it, but this requires some magical javascript
communication between the browser window and the preference window which I
don't know how to accomplish.
I will not have any time to figure this out for some months.  If someone
would like to write a patch then they should call
torbutton.js:torbutton_check_status() from
preferences.js:torbutton_prefs_init() and record whether or not Torbutton
was enabled when the prefernces window opened.  Then in
preferences.js:torbutton_prefs_save() they should call
torbutton.js:torbutton_enable_tor() if Torbutton had been in an enabled
state when the preferences window was originally opened.  Knowing how to
do this would also allow me to do some other code cleanup involving the
If someone wishes to do this, they can retrieve the darcs repository from

@_date: 2006-03-10 08:24:17
@_author: Scott Squires 
@_subject: Firefox extension: TorButton 
1.5.0.2 has not been released yet.  But Torbutton 1.0.1 will be
compatible.  In the meantime you can open the .xpi in a zip program (7zip,
winzip, etc) and edit the install.rdf file; search for '1.5.0.1' and
replace it with '1.5.0.*'.

@_date: 2006-03-11 10:03:18
@_author: Scott Squires 
@_subject: Firefox extension: TorButton 
"SOCKS Host" cannot be set to port 9050 while "Use HTTP Proxy for all
protocols" is set to port 8118.  Firefox changes the SOCKS port to match
the 8118 of the http proxy setting.
Looking at the source, the "use for all protocols" checkbox is not used in
the code that actually selects which proxy to use.  That checkbox is just
a user interface element to save the user some typing.  So I am leaving
this box unchecked and setting the SOCKS to port 9050.
Proxy selection code:
Proxy preferences interface code:
who is amused by creative spellings of 'network'

@_date: 2006-03-18 13:59:13
@_author: Scott Squires 
@_subject: Update: Torbutton 1.0.1 
Announcing Torbutton 1.0.1
  * bugfix: toolbar button tooltips now display the correct status
  * bugfix: set socks5 proxy to tor port (9050) instead of privoxy (8118)
  * bugfix: allow user to change proxy exclusion list ("no proxy for")
  * new: added compatibility with firefox 1.0 and 0.9
  * new: use socks_remote_dns on firefox versions that have it
  * new: added update functionality through the extensions manager
  * new: added preference: display statusbar panel (yes/no)

@_date: 2006-03-18 14:40:07
@_author: Scott Squires 
@_subject: Update: Torbutton 1.0.1 
I'm glad you like it.  I consider Torbutton to be feature-complete.
Future releases will be limited to bugfixes, compatibility with future
firefox versions, and additional language translations.

@_date: 2006-03-18 16:38:48
@_author: Scott Squires 
@_subject: (FWD) Re: Update: Torbutton 1.0.1 
This really is not feasible.  The mechanism for running Tor is different
for every platform and varies considerably between users.  This is also
something that from a security standpoint should not be possible to do
with javascript.  I have addressed this feature request before:

@_date: 2006-03-07 13:43:25
@_author: Scott Squires 
@_subject: Firefox extension: TorButton 
I have written/adapated a firefox extension that provides a 1-click way for
users to enable or disable tor.  It adds a panel to the statusbar that says
"Tor Enabled" (in green) or "Tor Disabled" (in red).  The user may click on the
panel to toggle the status.  If the user (or some other extension) changes the
proxy settings, the change is automatically reflected in the statusbar.
The extension also includes a button which the user can add to the toolbar.  It
apparently is considered bad design for a firefox extension to automatically
add a button to a user's toolbar, so I added the statusbar panel.  It might not
be as natural to click the statusbar, but it is easier to see, and it has a
tooltip to make it more clear.
I have tested it with Firefox 1.5, and I hope it also works with older versions
but I don't have any to test it with.  Firefox extensions can be installed by
windows software installers by adding a registry key, so this could be
distributed in the Tor/Privoxy combo installer.  See this page for details:
If you would like to try it out, TorButton 1.0 can be downloaded from
(BTW, XPIs are simply zips of the extension soucecode.)
If Firefox doesn't ask you if you if you want to install it, choose "open file"
from the file menu and open it that way, it should then prompt you whether you
want to install it.

@_date: 2006-03-07 14:41:42
@_author: Scott Squires 
@_subject: Firefox extension: TorButton 
I use Slackware, in fact.  Firefox extensions are platform independent.  I
simply mentioned the ability to integrate it into the windows installer because
that is where click-and-go usability is probably most needed.

@_date: 2006-03-07 15:01:16
@_author: Scott Squires 
@_subject: Firefox extension: TorButton 
Thanks for the feedback.  This is a good point that you mention.  How should
the extension behave with the "no proxy for" setting?  Should it assume that if
the user is running local services that they will be smart enough to fill in
this setting themselves?  Or should it consider leaving this setting alone a threat, with the possibility of having an inadvertant hole in the proxy?
Also, I just realized that TorButton leaves the "use this proxy for all
protocols" option unchecked.  It should probably set this option, yes?

@_date: 2006-03-08 22:29:01
@_author: Scott Squires 
@_subject: Firefox extension: TorButton 
It is probably a problem with the extension.  There were some major changes to
the extension architecture in Firefox 1.5, so I guess I need to find a copy of
1.0 and fiddle with it.
Do you think it would be worth it to add the proxy exclusion list to the
statusbar panel?  For example, "Tor Enabled, except for: localhost, 127.0.0.1".
At that point, I'd need a whole toolbar to avoid hogging all their statusbar
space.  (My thought is that a dishonest person could put something in the
exclusion list and the user would never notice because the status would still
say tor enabled... but if they could do that, I suppose they could also just
swap Torbutton for an extension that says it is always enabled, so perhaps
there is no value in wasting the extra screen space.)

@_date: 2006-03-09 17:02:51
@_author: Scott Squires 
@_subject: Firefox extension: TorButton 
Both of these are beyond the scope of Torbutton.  The first is the job of
a daemon manager and the second is a job for the tor gui.
However, there is likely to be a Torbutton fork soon which will move in
the direction of feature bloat.  :-)
Firefox extensions are written in JavaScript, which should not be
executing external programs or be able to access files on disk.  If it is
possible, it is a security flaw.

@_date: 2006-03-09 17:18:13
@_author: Scott Squires 
@_subject: Firefox extension: TorButton 
Ah, but then you would have already visited the website without any
protections.  So I am leaning in favor of prompting the user upon the
first visit to a domain in the exclusion list.

@_date: 2006-11-20 00:32:43
@_author: Scott Squires 
@_subject: Torbutton 1.0.5 release candidate 
That can be arranged.  :)
OK, I have updated the web site for version 1.0.5 and wrote pages about
the preferences dialog and contributing localizations.
Oh, shush!  That was fixed days ago.  =P
Changelog as of 1.0.4.907
  * bugfix: fix the about box in firefox 1.0
  * bugfix: set the toolbar button to the correct state upon insertion
            into the toolbar (ff >= 1.5 only)
  * bugfix: clarify the wording of the one-liner extension description
  * bugfix: bypassing privoxy with Firefox <= 1.0 is not recommended
  * bugfix: remember previous "custom" proxy settings
  * misc: new icons
  * misc: keyboard shortcut re-assigned to ctrl-2
  * new: previous proxy settings are restored after exiting tor mode
  * new: if the torbutton proxy settings are changed while torbutton is
         enabled, then the active proxy settings are updated to reflect it
  * new: added twelve locales

@_date: 2006-11-12 01:48:14
@_author: Scott Squires 
@_subject: Torbutton 1.0.5 release candidate 
I didn't receive any feedback on the last release candidate.  In this
udpate I have fixed it so that if the user changes the Tor proxy
preferences while Torbutton is enabled, those changes will be put into
effect when the preferences window is closed (instead of the previous
behavior where Torbutton disabled itself).
If I don't receive any feedback on this release, it will become version
1.0.5.  With this release, we also have eleven new locales.  These were
all translated using the 1.0.4 language files, but this release candidate
is going out to the translators and I anticipate that most if not all of
the new locales will be in the final release of 1.0.5.
Happy testing,
New to 1.0.4.905:
  * bugfix: fix the about box in firefox 1.0
  * bugfix: set the toolbar button to the correct state upon insertion
            into the toolbar (ff >= 1.5 only, because 1.0 doesn't like me)
  * bugfix: clarify the wording of the one-liner extension description
  * misc:   new icons
  * misc:   keyboard shortcut re-assigned to ctrl-2 (ff2.0 conflict)
  * new:    previous proxy settings are restored after exiting tor mode
New to 1.0.4.906
  * new:    if the torbutton proxy settings are changed while torbutton is             enabled, then the active proxy settings are updated
  * new:    eleven new locales

@_date: 2006-10-28 21:03:24
@_author: Scott Squires 
@_subject: Torbutton testing release 1.0.4.905 
Announcing a new version of Torbutton, to be released as 1.0.5 after a
period of testing and bugfixing.  Please give it a try and let me know if
you have any trouble.
New to this release:
  * bugfix: fix the about box in firefox 1.0
  * bugfix: set the toolbar button to the correct state upon insertion
            into the toolbar (ff >= 1.5 only, because 1.0 doesn't like me)
  * bugfix: clarify the wording of the one-liner extension description
  * misc:   new icons
  * misc:   keyboard shortcut re-assigned to ctrl-2 (ff2.0 conflict)
  * new:    previous proxy settings are restored after exiting tor mode
The main visible behavior change is that you cannot change proxy settings
through the firefox connection settings while torbutton is in tor-mode.
This is to prevent confusion about whether the user is trying to change
the tor-settings or the non-tor-settings.  Tor settings are changed
through the torbutton preferences, and the non-tor settings are changed
through the connection settings window when torbutton is not enabled.
