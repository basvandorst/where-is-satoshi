
@_date: 2012-07-08 19:07:03
@_author: starlight@binnacle.cx 
@_subject: [tor-talk] New-to-TOR Quick Questions -- not in FAQ 
I'm looking at setting up TOR and have
a couple of questions I couldn't find
ready answers to with web searching or
the FAQ.
1) Will the TOR bundle co-exist peacefully
and separately with a Firefox 13 install under
Windows (2008 SP2 x64)?  Ideally I'd like for them
to not interact at all and for the TOR instance
of Firefox to run simultaneously to a regular
Firefox browser session without problems.
2) If the answer to (1) is no, then I will
create a KVM guest OS dedicated to running
TOR.  In that case which OS is better,
an instance of 64-bit CentOS 6.2 or
an instance of Windows Server 2008 R2
x64?  Or is there some other OS flavor or
distro that works much better than anything
else and would be the best option?
Any help is much appreciated.
I have curmudgeonly e-mail blocking,
so please just respond to the list so you
won't be bounced.

@_date: 2013-12-24 16:18:11
@_author: starlight@binnacle.cx 
@_subject: [tor-talk] TBB 3.5 with tor running one separate machine torbutton 
I just downloaded TBB 3.5 for 64-bit Linux
and configured it to proxy through the
TOR relay running on the router.  Did this
by issuing
   export TOR_SKIP_LAUNCH=1
and running
   start-tor-browser
Then manually configuring the SOCKS proxy address.
Generally works fine.
However the 'torbutton' plug-in has the
Red X displayed and the browser complains
in "about:tor" that it's not working even
though it works perfectly.
This browser is running in an isolated
Linux VM and is not allowed to access the
control channel on port 9151.  Instead
I have Vidalia running on my Windows desktop to monitor and bandwidth and
issue the "new identity" command to the
relay process running on the router.
My question is does anyone know how to configure
the new 'torbutton' so it's a bit less
unhappy and get rid of the Red X?  Not
a major issue but it seems worth asking.

@_date: 2013-10-13 17:25:02
@_author: starlight@binnacle.cx 
@_subject: [tor-talk] dynamically adjusting bandwidth 
I've recently established a full-time relay
running on a fast Linux router.  Working nice
with version 0.2.4.17-rc.
Have a daily offsite backup that was butting heads
with TOR traffic, so I wrote a 'tor_bwreduce' and
'tor_bwrestore' script like these:
nc 10.92.88.1 9151 <<EOF
AUTHENTICATE "xxx"
SETCONF RelayBandwidthRate=60000
SETCONF RelayBandwidthBurst=60000
nc 10.92.88.1 9151 <<EOF
AUTHENTICATE "xxx"
SETCONF RelayBandwidthBurst=375000
SETCONF RelayBandwidthRate=250000
and run them at the appropriate points in the
offsite backup script.  The backup is rate-limited
as well so the link now avoids going into significant
oversubscription or contention.
This works much better than I expected.  The Tor
network consensus bandwidth for the node was
taking a bad hit due to congestion delays when the
backup ran.  Now it seems unaffected and the
consensus for my node has shot up above the
'RelayBandwidthRate' value.
So that's all super.
The question is, should I put in an adjustment for
'MaxAdvertisedBandwidth' during the backup window
or make any other change to advise remote relays to
de-prioritize the node for the duration?
Ideally I'd like to put the node into temporary
hibernation, but it seems the only way to do that
is indirectly by fiddling with several Accounting*
P.S.  BTW Vidalia could use some improvement
in the area of dealing with a Tor relay living
on a different box in the same network.
Nothing major, but it should
  1) not override the config and/or warn first
  2) import the config when a virgin TBB
     install connects to a non-local address
  3) not shut down the relay casually without
     an "are you sure?" pop-up

@_date: 2013-10-13 22:22:09
@_author: starlight@binnacle.cx 
@_subject: [tor-talk] significance of different bandwidth values 
What the difference between the bandwidth
value given by
   getinfo ns/name/xxxxx
   >>> w Bandwidth=269
   getinfo dir/server/authority
   >>> bandwidth 250000 375000 286720
Here they are close, but sometime they
are far apart.  The first above is what
shows up in the Vidalia Network Map
and the latter is less visible, but
shows up in various web tools for
monitoring the Tor Network.
In particular, how are these values used
in choosing route paths?

@_date: 2013-10-15 12:03:05
@_author: starlight@binnacle.cx 
@_subject: [tor-talk] risk of relay exploit 
Can anyone comment on the pros and cons of running
a separate client-only 'tor' instance for local
browsing while maintaining an independent instance
configure as a relay?
My thought is that if high-resource malicious
actor exploits/subverts the relay code and inserts
a trojan/parasite, they would be in a position
to monitor unencrypted traffic on the SOCKS port.
Is the probability of exploit significantly
reduced for instances that do not accept relay
connections?  If so then keeping local browsing in
a non-relay client would be more secure since I
understand that remote relays see only encrypted

@_date: 2013-10-15 16:15:23
@_author: starlight@binnacle.cx 
@_subject: [tor-talk] risk of relay exploit 
Can anyone comment on the pros and cons of running
a separate client-only 'tor' instance for local
browsing while maintaining an independent instance
configure as a relay?
My thought is that if high-resource adversary
exploits/subverts the relay code and inserts
a trojan/parasite, they would be in a position
to monitor unencrypted traffic on the SOCKS port.
Is the probability of exploit significantly
reduced for instances that do not accept relay
connections?  If so then keeping local browsing in
a non-relay client would seem to be more secure
since I understand that remote relays see only
encrypted traffic.

@_date: 2015-12-13 12:01:15
@_author: starlight@binnacle.cx 
@_subject: [tor-talk] Why is 'Wgm' (middle-relay-for-guard weight) not zero? 
The recent major fix for  inspired
reflection on the practical effect
considering relay weighting.  Knowing
nothing about it aside from the graph
lines shown by Atlas and Globe, I thought
the change might make little difference
as Guard Weight would mostly prevent
non-guards from being considered.
However, per dir-spec and the current
consensus, it seems that middle relays
have a weight equal to guard relays
when guard selection occurs:
Wgd=0     - exit as guard
Wgg=6065  - guard as guard
Wgm=6065  - no-flag as guard
I would like to understand the purpose
behind this.  Can anyone comment?

@_date: 2015-12-14 22:00:44
@_author: starlight@binnacle.cx 
@_subject: [tor-talk] Why is 'Wgm' (middle-relay-for-guard weight) not 
il11.arcor-online.net>
Thank you for the links!  I see why
this question did not yield to simple
web searching. . .
Will take a couple of days to digest the material.

@_date: 2015-12-14 22:28:53
@_author: starlight@binnacle.cx 
@_subject: [tor-talk] Why is 'Wgm' (middle-relay-for-guard weight) not 
il11.arcor-online.net>
Just scanned through all the material and did find anything that directly discusses the question:
_specifically_ why is the weight of middle relays for USE AS A GUARD not zero?  The 'Wgm' parameter is described as    Wgm - Weight for non-flagged nodes in the guard Position
The fix for bug  causes the guard selection logic to skip over non-guard relays in the set of candidates.  I have not reviewed the code in detail, but presumably that set of guard candidates is assembled using the weights published under 'bandwidth-weights' in the hourly consensus document applied to the consensus weights of available relays.  Thus the set of guard candidates would consist of about 50% guard-flagged relays and 50% unflagged relays.
One possibility that comes to mind is that the client logic may drop pre-existing guards that have a zero guard probability.  It's apparent from various discussions that the preference is for clients to retain as guards, relays that have lost the guard flag so long as they remain useable.
If the client code behaves as such it means that, due to Wgd=0, clients will immediately drop any guard that transitions to operation as an exit.

@_date: 2015-12-15 11:49:00
@_author: starlight@binnacle.cx 
@_subject: [tor-talk] Why is 'Wgm' (middle-relay-for-guard weight) not 
Finally came up with a search that yielded
helpful information.  Searching
   "tor" "Wgd=0"
pulled a mathematically intense post written
by Mike Perry:
Which discusses validation of the statistics
with Mathematica and provides insight into
the design.  No mention of Wgm but I will
spend a few days working to understand
the math and perhaps will see how Wgm
fits into the picture.
