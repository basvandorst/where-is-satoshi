
@_date: 2006-04-24 09:27:15
@_author: Michael Holstein 
@_subject: How to define DNS name? 
This won't matter when somebody queries in-addr.arpa -- which is what any remote site will see.
Easy to do for forward lookup zones, not so easy for the reverse ones -- espically if you're on a "consumer" ISP (eg: comcast, etc.).
You need to figure out who's responsible for D.C.B.A.in-addr-arpa and change it there, or see if they'll delegate it for you.
Note that DynDNS dosen't permit you to do in-addr.arpa with their 'freebie' service. See :

@_date: 2006-04-27 08:55:57
@_author: Michael Holstein 
@_subject: Weird behavior of my server 
Since I assume you're still doing this as an unprivileged user, what do you have defined as your DirPort and OrPort? (hint .. if they're below 1023 .. it won't work unless you're root).

@_date: 2006-04-27 09:17:08
@_author: Michael Holstein 
@_subject: Weird behavior of my server 
That should solve the permission issue in binding to a prviledged port.
Do "netstat -apn |grep 443" and see if something else is already listening there. You might have installed apache-ssl or some such, and it started itself.
IMHO, it's better to run tor unprivileged (and chrooted if you're really paraniod), and use xinetd or ipfw to forward the packets from 80/443 to something else (the wiki provides instructions on how to do this).

@_date: 2006-04-27 10:28:13
@_author: Michael Holstein 
@_subject: Weird behavior of my server 
"netstat -apn |grep 443" (as root)
"lsof |grep 443" (as root)
either one will tell you what process is binding to 443. My guess is Apache. Try "killall httpd" (as root) and then try again. Also try (path might vary) "/etc/rc.d/rc.httpd stop"

@_date: 2006-04-27 11:04:22
@_author: Michael Holstein 
@_subject: Weird behavior of my server 
Bridged will work if you have an extra IP for the VM. NAT will also work, but you need to modify the config to make it aware of it's external address (and configure vmware-natd to forward 80/443).

@_date: 2006-04-27 14:18:24
@_author: Michael Holstein 
@_subject: Firefox through Tor 
Swichproxy (as well as CTRL+SHIFT+DEL) in Firefox will clear all cookies.
Anytime you switch between TOR/Direct you should close down to all but one blank window, clear cookies/cache one way or another, and *then*

@_date: 2006-04-27 14:22:11
@_author: Michael Holstein 
@_subject: Firefox through Tor 
And what's more ...
If you've ever signed into your Yahoo account *even once* from a Non-TOR IP address (including to sign up for it), it shouldn't be trusted. They could just see what IP's you've ever touched a Yahoo site from while authenticated, and 'fgrep -v toriplist'.
Likewise for anywhere else that gathers cookies.

@_date: 2006-04-27 14:31:32
@_author: Michael Holstein 
@_subject: Firefox through Tor 
The problem (as I understand the question originally asked) was that regardless of TOR (or as you say, FoxyProxy, etc.) that sites can still 'connect' you based on analysis of traffic from multiple time periods.
Eg: doubleclick .. sites A and B have a doubleclick ad. You get the doubleclick cookie (or likely already had it). They then realize that 'bob at yahoo' is also the user that sent mail from 'anonymous at hotmail' since the same cookie was associated with your session from Yahoo (via doubleclick) and Hotmail (via doubleclick) -- even though you used TOR to access hotmail.
This is an application problem .. not a tor problem.
This problem is fixed if you close everything and dump cookies/cache before switching to/from TOR and direct-connection .. but there is one other case that I can think of..
Weatherbug. We used this once (former employer) to nail somebody that hacked a dialup account .. they had weatherbug running and didn't realize that once Weatherbug saw the Internet (and it uses the system-wide proxy values) it "called home", complete with the UID of the installation (which is unique to each installation, and in the URL the client requests). A quick examination of their PC matched the UID and bingo .. busted.

@_date: 2006-04-27 15:00:39
@_author: Michael Holstein 
@_subject: Firefox through Tor 
Which is why one should have separate accounts created for anonymous use, and do everything (including setup of those accounts) from an anonymized connection.
Once you've touched your anonymous account from a session involving anything that *isn't* anonymous, it's game over.

@_date: 2006-04-18 13:38:36
@_author: Michael Holstein 
@_subject: slow client startup 
When starting TOR (as a client), it can take 10-20 minutes to start "normally" .. but if I do "rm -r ~/.tor/cached-*" it starts in 20 seconds.
Why is this "cached information" such a hindrance?

@_date: 2006-08-17 16:30:24
@_author: Michael Holstein 
@_subject: Traffic Logging Suggestion 
I do believe one Russian exit node (was/is?) doing that .. by posting
usernames/passwords (I guess they're dunning dsniff or whatever on their
TOR box and piping the output to a webserver).
Their stated motivation for this was to drive home the point about
end-to-end encryption, but I question their methods, which brings me to
ExcludeNodes .. a handy config variable ;)

@_date: 2006-08-18 09:26:48
@_author: Michael Holstein 
@_subject: My ExcludeNodes list...post yours 
You need not stream-hijack .. you can cookie-jack (like in Yahoo's case
.. would give you 24hr access) .. then you look through old mail to see
who else somebody does business with, request password-resets be emailed
to you, and viola! You're in.
If you use TOR 24x7, I'd suggest judicious use of FoxyProxy's rules to
ensure traffic that you'd rather be secure than anonymous just use your
own ISP (why pass a message through 3 strangers when you don't have any
desire to deny you sent it?).
Alternately, you can use FoxyProxy to *only* annonymize some things
(like your Google searches). /. published an article on this a week or
so ago.

@_date: 2006-08-21 10:49:46
@_author: Michael Holstein 
@_subject: Exit Node sniffing solution...an idea... 
The $3_letter_agency would just *love* to have a dozen places (or 2
people) they already know about to serve the subpoenas.
Again .. you've just defined "where to wiretap".
The beauty of TOR is that anybody, anywhere can setup an exit node. The
design of the network allows an operator to sniff the exit, but still
can't tell where it came from. If you're using TOR, you shouldn't be
using your name in the first place (what's the point of *anonymously*
identifying yourself?).
I know there are other arguments for TOR like defeating geolocation, but
if that's all you're after, there are easier ways to do it (like just
rent a shell account somewhere and use SSH redirection).

@_date: 2006-08-28 12:49:41
@_author: Michael Holstein 
@_subject: Dos attack against my tor node? 
Yes, and yes. Although I was running an exit which makes me more visible than you. Fortunately, I was on an academic network that could easily absorb it, and running on *BSD so it didn't hickup the server either :)

@_date: 2006-08-28 12:52:47
@_author: Michael Holstein 
@_subject: Holy shit I caught 1 
Well .. trying to remain anonymous while using Windows is on an order of magnitude more difficult than doing the same with *nix.
If you're dumb enough to blindly click "okay" at every IE permission popup, then anonyminity via TOR is the least of your concerns.

@_date: 2006-08-09 11:23:22
@_author: Michael Holstein 
@_subject: Could control the number of nodes 
Yes, if you modify the source and re-compile it, but there is nothing to be gained by choosing a longer path length, and everything to loose by choosing a shorter one.

@_date: 2006-08-14 09:07:56
@_author: Michael Holstein 
@_subject: Can governments block tor? 
============================== START ==============================
Nothing .. but the incoming traffic (between nodes 2 and 3) would be TLS
and encrypted.
(this is what I thought was happening when I saw a .cn exit node)

@_date: 2006-12-18 10:05:16
@_author: Michael Holstein 
@_subject: Facing legal issues 
Florian (and list) :
Here is what I used (Openoffice 1.0 SXW format) when replying to a FBI subponea here in the good 'ol USA. I sent this to them, and it was the last I ever heard of it (everything in here is 100% true .. they wouldn't have found it any other way had they shown up with an army of techs to scour the datacenter).
It details how I configured stuff to avoid logging anything that would compromise the anonymity of the TOR network, and it explains how TOR works.
The key to setting up TOR is to be able to (honestly) stand up in court and say "it doesn't exist" when they ask for logs, etc. and "it could have been anyone" when they ask who it was. I never had to go to court, but I've dealt with my fair share of $law_enforcement over it, as well as a number of pissed-off end-parties.
I still had to explain (over the phone) why someone would commit the unthinkable act of helping folks avoid surveillance by repressive governments .. an exercise that's left to the user.
My favorite line from that discussion .. "why would it matter if you're not doing anything wrong?". Your mileage may vary.
Names and details changed to $variables to protect the $people_involved.
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2006-12-19 16:22:47
@_author: Michael Holstein 
@_subject: suggestion for 'is my installation of tor working?' page 
what about It will tell you if you're using a TOR node (and which one, as well as its exit policy)

@_date: 2006-02-13 15:27:55
@_author: Michael Holstein 
@_subject: random crash, no dumpfile? 
FreeBSD 5.4.p10 server running 0.1.1.12-alpha (nick: csutor).
Was humming along nicely yesterday around 6-7mpbs and went kaput with no dump (--enable-debug config option was used), and no error in the logs.
Is this most likely due to the Openssl PRNG bug that was referenced in the .13 release notice?
Michael Holstein CISSP GCIA
Cleveland State University
FWIW, I'll upgrade as soon as .13-alpha makes it into CVS on FreeBSD's ports tree.

@_date: 2006-02-13 19:14:02
@_author: Michael Holstein 
@_subject: random crash, no dumpfile? 
Just tor. It restarted fine, and was doing ~1mpbs all day today (our network is busiest during the day when all the 9-5 students are on campus)
i386, 5.4.p20, with latest versions of OpenSSL. I did a buildworld before I setup tor.
I'll wait until you commit the offical port, and we'll see if .13 addresses it. Meanwhile, I wrote a simple shellscript to run via cron to catch tor if dies, and restart it.

@_date: 2006-02-15 10:39:48
@_author: Michael Holstein 
@_subject: Do these break Tor's anonymity? 
Socks v4 (which if you're using Privoxy/Tor -- you're doing Socks v4a) only supports TCP -- so depending on how exactly the application handles it, it could either drop it (still anonymous) or try and route it normally (not anonymous).
Socks v5 does support ICMP (and UDP), so TOR would just ignore that.

@_date: 2006-02-15 11:52:35
@_author: Michael Holstein 
@_subject: here's a fun one .. 
I'm sure everyone has received at least one of these, but this is interesting ..
The worlds "Internet shakedown" artist, is threatening to sue us. Hopefully my "that's a TOR server. See tor.eff.org" response will make him go away.
(meanwhile, /etc/hosts has : 127.0.0.1 groups.google.com -- I block NNTP for a reason, so I see no valid use for allowing HTTP access to it).
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2006-02-19 16:28:33
@_author: Michael Holstein 
@_subject: Exit node blocking site? 
There are several sites that do sendmail-style DNS RBL'ing of TOR .. one (which I found sort of accidentilly) is AHBL.org. TOR ops also publish a python script which will extract all the IPs of exit nodes as well.
I actually block access to groups.google.com and groups.l.google.com by putting them as 127.0.0.2 in /etc/hosts -- but I noticed that TOR is smart enough to notice that the address will resolve to an IP prohibited by the exitpolicy, and not even try.
As for BitTorrent, the TOR box is behind our campus Packeteer, so while someone might think that they'll get advertised rate, they'll really only dribble out at 64kbps. Same with any other P2P app that tries to be sneaky by using another port.
Keep in mind TOR is not so you can "research" illegal software, and that suggesting you're doing so makes you an easy target -- you expose yourself to liability by suggesting you use (or host) TOR to allow people to do illegal things.
Michael Holstein CISSP GCIA
Cleveland State University
PS: you can control the exit node by appending [nodename].exit to the DNS name you attempt to resolve .. eg:  would make it exit via 'serifos', and if that node dosen't allow it, you'll get an error in your client.

@_date: 2006-02-19 17:00:25
@_author: Michael Holstein 
@_subject: Exit node blocking site? 
I have to do something, because I'm trying to minimize the abuse complaints I get.
Unfortunately, Google dosen't seperate services by IP (notice the first host groups.google.com
groups.google.com is an alias for groups.l.google.com.
groups.l.google.com has address 64.233.167.99
groups.l.google.com has address 64.233.167.104
groups.l.google.com has address 64.233.167.147
host google.com
google.com has address 64.233.167.99
google.com has address 64.233.187.99

@_date: 2006-02-21 08:18:34
@_author: Michael Holstein 
@_subject: Torpark and security 
As far as I can tell, the SSL stuff is wrapped in TLS before going over TOR, so no -- you wouldn't see the original IP (there are other ways, like with Javascript or flash, to get this information -- so hopefully you're running Firefox + NoScript + Flashblock at a minimum)
As for getting the logs, there aren't any (unless you turn on debugging)

@_date: 2006-02-22 08:51:40
@_author: Michael Holstein 
@_subject: Anonymity questions 
I've thought about this too (and the BGP routing thing I hadn't heard, but I was aware that ATT, et.al. were being NSA-friendly by routing international calls through US-based switches) -- but if they do it for voice, they do it for data, since to AT&T, it's all really data anyway.
So how about this as a proposed solution:
Rather than encrypt individual TCP streams, allow the TOR nodes (or at least the intermediates) to do GRE or IPSEC, and then route multiple streams (each themselves encrypted) inside a seperately encrypted tunnel.
This would make it impossible (er...more difficult) for someone to match traffic entering with traffic exiting (assuming sufficient padding and whatnot to keep traffic fairly constant). Unless you can pick a large "burst" out of the other chatter, you'd make it signifigantly harder to trackback on an individual stream.
Sort of like a mesh-network of opportunistically created VPNs -- creating an encrypted "cloud". I think this is sort of what the Freedom network tried to do commercially a few years ago. Another advantage of this might be the ability to actually use BGP tables to assist in routing, since at this point, you'd have created an encrypted "overlay internet". Those tables could then be manipulated with control traffic inside the cloud to deal with ensuring traffic is routed through multiple countries (or around certian ones).
The other advantage of a GRE/IPsec approach would be the ability to carry any type of traffic, not just TCP.
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2006-02-23 16:25:30
@_author: Michael Holstein 
@_subject: Anonymity questions 
I know this is mentioned in the "wish list" of features, but extending the existing "MyFamily" sort of functionality (to prevent clients from using multiple servers I might happen to run for a path), to be "smart" enough to use one of the public route-servers and ensure that each router in the path is on a unique ASN -- or at least ensure that both the entry and exit aren't on the same one.
A more detailed (and vastly more computationally intense) way to go about it would be to check the AS path list for your circuit to see if, despite the fact that each node is on a seperate AS, that they don't all have one common AS as part of the BGP path (since there are about 5 carriers that transit the bulk of US IP traffic).
How you could do this without downloading a current BGP table to each client and processing it locally, I don't know -- and having run openBGPd on BSD before, I can attest to how much memory/horsepower that requires (current table is several hundred MB).

@_date: 2006-02-28 09:43:37
@_author: Michael Holstein 
@_subject: upgrate to .13-alpha now no traffic? 
Last night I upgraded from .12-alpha to .13-alpha (.14 not in BSD ports yet) .. and all traffic suddenly stopped.
Config didn't change, still using Xinetd to forward OR and DIR ports to non-privileged ones bound to loopback .. but getting message about DIR and OR not being externally reachable (but they are .. I can connect to them from home).
I don't know what else to check to debug this .. I (temporarily) turned logging back on for xinetd, and I see plenty of connections comming in, but I'm still not publishing my service descriptor.
What else should I check? .. anyone that can check from outside can hit 137.148.5.13 -- that's the router (nick is 'csutor').
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2006-02-28 10:19:35
@_author: Michael Holstein 
@_subject: upgrate to .13-alpha now no traffic? 
Okay .. tried .14-alpha from source .. still getting a lot of these in debug :
Feb 28 10:18:52.349 [info] connection_read_to_buf(): tls error. breaking (nickname $2FD8FC5E53BEFA292E7FE69B4F454979765336AC, address 127.0.0.1).

@_date: 2006-02-28 12:05:32
@_author: Michael Holstein 
@_subject: upgrate to .13-alpha now no traffic? [FIXED] 
Found the problem ... and this is a note to the FreeBSD ports maintainer .. .12 and .13 used different places for their data directories (both were installed from ports)
.12-alpha used /var/db/tor
.13-alpha used /var/run/tor
This caused new keys to get generated that weren't valid for my server, thus it'd never publish it's descriptor. Fixing the init script for TOR to reflect this new directory (it ignores what's in the config file) and replacing the keys with my backup copy immediately fixed the problem.

@_date: 2006-02-08 10:58:09
@_author: Michael Holstein 
@_subject: FreeBSD with xinetd 
I'm running a TOR server (nick=csutor) on FreeBSD, using xinetd to forward the connections from 80/443 to higher ports so tor dosen't run as root.
I'm trying to maximize the efficiency of this .. I started with the default of 25 processes under xinetd, but these quickly filled. I then tried 250, which also filled. Now, I'm using 500 processes for xinetd -- and it seems to hover around 300 or so.
Despite what everyone says about TOR being cpu/memory intense, I'm using far more memory keeping all those xinetd connections open. Does anyone know a better way to do this on FreeBSD?
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2006-02-09 14:06:04
@_author: Michael Holstein 
@_subject: graceful shutdown of TOR 
is there a graceful way to shutdown TOR so that you don't kill any of the existing connections?
Does editing the config to stop advertising the OR/DIR ports and sending a HUP do the trick?
Or is this something I should even really worry about, since the client will quickly realize the path failed and choose another node?
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2006-02-10 09:16:48
@_author: Michael Holstein 
@_subject: Website with explanation for tor service? 
You should be able to follow the instructions under :
and add this to your apache config :
        ProxyPass /tor/         ProxyPassReverse /tor/ To pass the TOR traffic on port 80. Then just configure a default website that says what you want about TOR.
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2006-07-17 13:08:22
@_author: Michael Holstein 
@_subject: Sending mail through TOR/Socks 
Sure .. if you can find a MTA that will do that (and of course you could always set one up, but that'd totally defeat the purpose of trying to hide the path).
Really, you're better off with tools like Mixmaster. The alternative is you could (using TOR) setup a Hotmail or Gmail account, and then (also using TOR) use one of the various Perl modules that offer an interface to those and send it that way.
Note that both limit the number of messages/day.

@_date: 2006-03-10 09:22:54
@_author: Michael Holstein 
@_subject: Firefox extension: TorButton 
Main bummer about that is it's a global setting. I wish I could control the proxy settings per TAB, not globally -- since if you've got Hotmail (or whatever) open when you switch, you've just advertised your identity associated with your new (tor) IP address.
Remember to close everything before you switch (and turn on the option to clear cookies in SwitchProxy).

@_date: 2006-03-29 09:19:18
@_author: Michael Holstein 
@_subject: Host 129.107.56.23 - omega.uta.edu 
You might ask over on UNISOG :
unisog at lists.sans.org
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2006-03-03 09:05:56
@_author: Michael Holstein 
@_subject: debug.log 
Debug is too verbose, and might include information that you wouldn't want to have around.
Doing normal logging (>warn) is fine .. only generates a few errors when people try dumb stuff like CONNECT:port against your DirPort, and when you have network writes that fail (although is scrubbs the address from I run a fairly busy exit node, and my log only grows by 100k or so a day (which newsyslog can rotate around).

@_date: 2006-03-03 16:38:53
@_author: Michael Holstein 
@_subject: insert mail 
Connect to Hotmail (or Gmail) with TOR ???
There are script wrappers for both that will interface with other programs (eg 'gotmail' for hotmail, and there are CPAN modules for gmail).
Make sure you sign up for the account using TOR as well.

@_date: 2006-03-03 16:46:53
@_author: Michael Holstein 
@_subject: insert mail 
Okay .. on further examination, the easiest way (assuming you're not talking about a web-based approach) is to use "Mail::Webmail::Gmail" from CPAN and write it as a sendmail milter.
You'll have to do some farily serious hacking in sendmail.cf so it fudges all the headers from your side (using TOR to send the message when the headers include your machine name and IP would be pretty silly,

@_date: 2006-03-01 09:08:18
@_author: Michael Holstein 
@_subject: Is UDP anonymized via. TorDNS? 
No. Tor does TCP only. But tor-resolve (etc) uses TCP to transport the request to the exit server.
I'm not aware of any ntpd that allows use of SOCKS -- but why do you want an anonymously accurate clock, anyway?
Do what we all do .. test it. Fire up Ethereal and watch what happens. I'd bet you're successfully getting the IP via torDNS, and then directly connecting to the NTP server via UDP.
UDP is used for NTP becuase otherwise it'd be impossible to figure out the skew. You'd make that even more complicated than standard TCP by trying to send it via TOR. VPN'd udp/ntp dosen't even work so hot (but it does work).
If you really want an anonymous clock, hook up a GPS unit to a serial port and do it that way.

@_date: 2006-03-01 09:14:17
@_author: Michael Holstein 
@_subject: Is UDP anonymized via. TorDNS? 
Actually .. I stand corrected. There is no implementation of NTP that uses TCP (AFIK), but you could use the signifigantly less accurate 'rdate' or 'daytime' -- both of which use TCP. How to socksify those, I don't know.

@_date: 2006-03-08 12:19:00
@_author: Michael Holstein 
@_subject: v0.1.1.12 vs v0.1.1.14a 
FWIW, I see better stability and memory use on .14a (FreeBSD 5.4).

@_date: 2006-05-14 20:20:32
@_author: Michael Holstein 
@_subject: Some legal trouble with TOR in France 
Not to mention that whereas a passphrase in your head requires your cooperation to divulge (although torture can be used to provide that) .. there's nothing stopping someone from knocking you unconscious and using your finger/eye/whatever on the reader.

@_date: 2006-05-14 20:29:06
@_author: Michael Holstein 
@_subject: data remanence (was: Some legal trouble with TOR in France) 
> There are methods (and they are used) to read data from a overwritten
 > disk.
Has anyone tried creating a (ro) flash-boot linux system for TOR with all the (rw) stuff mounted in RAM ?
Such a device would raise the bar quite a bit, no? (AFIK, there is no data remanence problem with DRAM .. unless $they can stop the clock and keep power applied).
(seeing the $agency come in with a UPS and trying to splice the A/C without shutting it off, and then carrying out the server on battery power conjures up memories of a certian Seinfield episode).

@_date: 2006-05-15 08:30:49
@_author: Michael Holstein 
@_subject: data remanence 
There are a variety of hardware devices that attempt to address this .. IBM's secure crypto cards (PCI) come to mind -- these are used in a variety of ATMs for example, and store the key in volatile memory, protected against side-channel and physical attack.
It's fun to try though, and since I'm not doing anything illegal with TOR, I'm only trying to help save other people's bacon.
While you'll never make anything *impossible*, you can make it so bloody difficult and expensive that you'll can tire your advisory.
Remember, the price of freedom is eternal vigilance (Jefferson).

@_date: 2006-05-01 16:09:28
@_author: Michael Holstein 
@_subject: [off topic] Configuring an IP blind Apache server 
Wouldn't it just be easier to edit your httpd.conf to change the log format to *not* log the IP address?
eg : take out the %h (for the IP address)
LogFormat "%l %u %t \"%r\" %>s %b" common
Complete docs :
Perhaps I'm missing something, but if all you want to do is have an Apache server that dosen't log what comes in, there are much easier ways than using Privoxy (et.al.) to do it.
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2006-05-16 08:48:02
@_author: Michael Holstein 
@_subject: TOR on Academic networks (problem) 
I'm sure this has happened to others, but here goes on my problem.
Many academic networks have a variety of online journals they subscribe to (like thousands of them) .. most allow campus-wide use restricted only by IP address, usually the whole /16 or greater.
This of course presents a problem when you have a TOR router in that just one of those 65k+ IP addresses and block that, and sometimes they get into a snit and say they'll block the whole /16.
Since we can't put thousands of lines in the exit policy without causing a cascading problem, what about null-routing them .. either by putting entries in /etc/hosts that will be denied by the exit policy (thus causing the client to pick another exit -- but not preventing access directly by IP address), or the more secure, but more problematic, blocking by changing the kernel routing tables to send those networks into a blackhole on the TOR router.
The first approach causes a minimal problem performance-wise since the client will choose a new path. The second will cause timeouts and significantly impact performance.
Problem is, if these sort of issues persist, most of our institutional support will evaporate -- so I'm going to have to do something.
I really don't want to hear about censorship, et.al. because I already know that's what it is, and don't have a problem admitting it. What I want is viable solutions to the problem.
Any suggestions?
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2006-05-16 08:56:02
@_author: Michael Holstein 
@_subject: Some legal trouble with TOR in France 
Simple .. they grant the person immunity from prosecution for the crime in question, then compel their testimony. There goes the "self-incrimination" argument, since the person can no longer be prosecuted for their participation in the crime. Failure to *then* testify, results in a contempt of court charge and a stay in the pokey (although not for long, since the judge will eventually release the person if they realize that punishment will not compel compliance).
Still, a stay in the pokey is a hard sell for most.
I disagree though that allowing police worldwide to come up with a "blacklist" .. first it's under the guise of "protecting children" .. so first the porn goes there. What next? talk about drugs, sex, ?
We're supposed to be making it harder to censor, not easier.
PS: for those that notice the dichotomy between this and my previous email about blocking academic journal access, this has to do not with ideals, but practicality in getting institutional ssupport. I can handle the police just fine, internal muckety-mucks are harder.

@_date: 2006-05-16 09:01:47
@_author: Michael Holstein 
@_subject: censorship 
One more problem .. how do I know if it's child porn unless I take a look, and then (whoops) .. I'm guilty too. Some dipass posted a link over on full-disclosure last month that was like this, and some discussion ensued about even trying to access it to see if our efforts in brow-beating the various ISPs involving in hosting it, the dns, etc. were met with cautious warnings about *US* being criminally liable for our efforts, no matter how well-intentioned they were.
Note that we *did* do exactly as advised by the law .. and sent emails to the FBI, CyberTipline, etc. -- all of which went unanswered. So we got the IPSs to yank them -- in about an hour of the community putting some effort into it.

@_date: 2006-05-16 11:04:13
@_author: Michael Holstein 
@_subject: VoIP, Tor and Zfone by Phillip Zimmermann? 
The latency would make the call entirely unworkable.

@_date: 2006-05-16 16:32:00
@_author: Michael Holstein 
@_subject: TOR on Academic networks (problem) 
We actually already have this as well .. a proxy that allows internal users to breeze through, and external ones to authenticate. Why the journals think it fit to trust a /16 or greater is beyond me.
Problem is .. I don't think they'll buy the argument "you need to change your way of doing things so I can offer an anonymous proxy and not cause you problems". They'll just say "why run the proxy at all?".
For the short-term, I wrote a script that wgets the library's list of subscriptions, and munges that to get the unique domain links, and puts those into /etc/hosts with bogus addresses that are denied by the exit policy (eg: 127.0.0.2 some.domain). Yes, I realize this doesn't prevent access by IP, but if I can keep out 95% of the miscreants, that's fine by me.
I hate to break things on purpose, but I do have to dance around a bit to keep this going.
My biggest mistake perhaps was actually giving the library folks an honest answer when they asked .. had I just said "oh .. I'll look into that" and fixed it, they'd have happily gone away. Instead, I sent them the boiler-plate response about TOR and they started asking questions.
Lesson learned : don't call TOR an "anonymous proxy". It's a "privacy router designed to help the Chinese".

@_date: 2006-05-17 08:48:22
@_author: Michael Holstein 
@_subject: TOR on Academic networks (problem) 
I've tested this before, and since the /etc/hosts entry refers to an address which is blocked by *all* TOR servers default exit policy, it just says "requested exit node will deny your request".
Do they still cache the DNS answer?
Would it be better to block them by allowing a (legitimate) DNS lookup, and then null-routing the IP space involved?
Doing *nothing* is NOT an option here.

@_date: 2006-05-17 08:51:33
@_author: Michael Holstein 
@_subject: TOR on Academic networks (problem) 
It actually wouldn't be that hard. If I could find somebody that'd setup the other side for me, I could configure my server to send those requests out a virtual interface (GRE, IPSEC, etc.) so it could emerge somewhere else.
I like being able to run an exit node, and I'm effective at dealing with external complaints. I just can't have the library folks whining about somebody stealing journal articles (note .. this has only happened once in ~6mos, but it's a concern nonetheless).

@_date: 2006-05-17 11:08:15
@_author: Michael Holstein 
@_subject: TOR on Academic networks (problem) 
Good idea. How can I do this without also breaking DNS lookups?

@_date: 2006-05-17 12:57:31
@_author: Michael Holstein 
@_subject: TOR on Academic networks (problem) 
FreeBSD here, but I'll try something along those lines.
Since the /etc/hosts approach posions the DNS for clients, it now seems the better (although not ideal) approach is to allow legitimate DNS lookups, and then just blackhole the traffic. After 15 seconds, the client will give up and pick another node.
In reality, what I should do is just get a new /24 and put all the potentially bad stuff in there. Only problem is it'd be a subassignment since ARIN dosen't do a /24, and that gives people a "higher" place to complain. At least now, there's nobody besides us that folks can fuss at (unless they want to try and whine to our routing peers and get laughed at).
In ~6 months of running an exit, this is the first time this has ever been an issue .. so it hardly seems worth the effort .. but the potential for getting into hot water involving the contracts with publishers means I've got to do something.

@_date: 2006-05-17 13:08:53
@_author: Michael Holstein 
@_subject: TOR on Academic networks (problem) 
Everyone how? .. it'd just affect people trying to access a specific set of academic journals through TOR, and only for 15 seconds or so until it picked another node.
Academic networks represent a large portion of the TOR servers, and because of the way these journals operate, we all have this problem.
Either allow the ExitPolicy to be longer somehow, or change the program so the "basic" routing policy is published, and allow each server to have a more specific one that is checked only when someone's using that exit -- to say "no, I don't allow that specific site, pick another node".

@_date: 2006-05-24 09:29:51
@_author: Michael Holstein 
@_subject: Modify circuit lifetime? 
New circuits can be forced by manually selecting an exit (eg: Also .. the 10-minute lifetime dosen't apply to established sessions (eg: SSH, IM, etc.)
I suppose you could also modify the client source, but why would you want to?

@_date: 2006-05-24 10:10:26
@_author: Michael Holstein 
@_subject: Easy Firefox hacks to improve anonymity (HTTPS Header Scrubbing) 
Why not just install the "User Agent Switcher" plugin for firefox?
Does the same thing on the fly.

@_date: 2006-05-01 16:24:00
@_author: Michael Holstein 
@_subject: [off topic] Configuring an IP blind Apache server 
Then do as Dan just suggested and forward it using your firewall .. advantage there is you can still "ban" a user if you see the need by inserting the appropriate DENY rule above your forward one.
Note that other "things" in your network may still log the traffic though .. (most hardware firewalls, for example) .. so be sure you know what the end-to-end security is at least as far as your perimeter router.(*)
(*): well .. unless you use AT&T as an ISP, since we know they forward everything to the ($3_letter_agency) anyway.

@_date: 2006-11-30 10:35:21
@_author: Michael Holstein 
@_subject: Stephen Soghoian on U.S. Gov't Attitudes Toward Tor 
Simple. It's okay for them to be sneaky to avoid *US* (the citizens) from knowing what they're up to, but *NOT* okay when we try to hide from It's the .. "you shouldn't mind if we're listening if you don't have something to hide..." mentality that I've been told from many an $agency.
Keep in mind these are the same folks that think we should keep subscriber records for 3 years (and give them a key to our wiring closets) but stall like crazy when they get a FOIA request.

@_date: 2006-11-30 16:21:51
@_author: Michael Holstein 
@_subject: setup tor in private intranet 
Yep .. just setup your own DirServer. See : DirServer [nickname] [v1] address:port fingerprint
     Use a nonstandard authoritative directory server at the provided address and port, with the specified key fingerprint. This option can be repeated many times, for multiple authoritative directory servers. If the "v1" option is provided, Tor will use this server as an authority for old-style (v1) directories as well. (Only directory mirrors care about this.) If no dirserver line is given, Tor will use the default directory servers: moria1, moria2, and tor26. NOTE: this option is intended for setting up a private Tor network with its own directory

@_date: 2006-10-17 10:24:02
@_author: Michael Holstein 
@_subject: hijacked SSH sessions 
There have been various TOR exit nodes that have been "behaving badly" lately (check the tor-talk list) .. some are doing frames, popups, etc .. there is a list of bad nodenames somewhere on that list (can't find it at hand..)
Personally, I wouldn't use any exit node in China .. use the ExcludeNodes part of your torrc.

@_date: 2006-09-11 10:35:15
@_author: Michael Holstein 
@_subject: Tor Defense Fund...an idea. 
Suggestion for the coders .. make the client test itself and adjust the exit policy on the fly.

@_date: 2007-04-27 14:47:03
@_author: Michael Holstein 
@_subject: Tor nodes blocked by e-gold 
Um, in the interest of settling this argument :
grep router cached-routers |grep -v signature |awk -F " " '{print "host "$3".dnsbl.sorbs.net"}' |sh
(most return NXDOMAIN, meaning not listed by SORBS). The ones that do, return the database in which they're listed as the last octet.
       new.spam.dnsbl.sorbs.net    127.0.0.6
    recent.spam.dnsbl.sorbs.net    127.0.0.6
       old.spam.dnsbl.sorbs.net    127.0.0.6
    escalations.dnsbl.sorbs.net    127.0.0.6
        badconf.rhsbl.sorbs.net    127.0.0.11
Of the 887 IPs I have in my cached-routers file, 709 return NXDOMAIN. The others :
0	http.dnsbl.sorbs.net
0	socks.dnsbl.sorbs.net
0	misc.dnsbl.sorbs.net
0	smtp.dnsbl.sorbs.net
2	*.spam.dnsbl.sorbs.net
0	web.dnsbl.sorbs.net
0	block.dnsbl.sorbs.net
0	zombie.dnsbl.sorbs.net
46	dul.dnsbl.sorbs.net
0	badconf.rhsbl.sorbs.net
0	nomail.rhsbl.sorbs.net
So, according to SORBS, they're blacklisted because they're in dynamic IP ranges
Michael Holstein CISSP GCIA
Information Security Administrator
Cleveland State University

@_date: 2007-04-27 14:51:28
@_author: Michael Holstein 
@_subject: Tor nodes blocked by e-gold 
(gaak .. make that 759 queries, 709 NXDOMAIN, and 48 that appear somehow .. the rest of what's below is correct).

@_date: 2007-04-27 15:22:51
@_author: Michael Holstein 
@_subject: SORBS and TOR 
Okay, I flummoxed the dnsbl .. forgot that you had to reverse the octets.
This is more like it ..
  grep router cached-routers |grep -v signature |awk -F " " '{print $3}' (yes, I know I probably could have done that easier with perl, just didn't want to think on it long)
Total queries : 892
573  NXDOMAIN
0    http.dnsbl.sorbs.net
0    socks.dnsbl.sorbs.net
0    misc.dnsbl.sorbs.net
0    smtp.dnsbl.sorbs.net
4    *.spam.dnsbl.sorbs.net
68   web.dnsbl.sorbs.net
0    block.dnsbl.sorbs.net
0    zombie.dnsbl.sorbs.net
247  dul.dnsbl.sorbs.net
0    badconf.rhsbl.sorbs.net
0    nomail.rhsbl.sorbs.net
(so yes, they still block most because they're in dynamic address ranges, but they block a bunch as web proxies too).
I didn't test as to which ones were exits or not, so I assume most of the middlemen didn't get listed.
Sorry about the earlier screw-up. Mea culpa.
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2007-04-27 15:33:54
@_author: Michael Holstein 
@_subject: AHBL and TOR 
(while we're on the subject..)
Using the same testing method, AHBL's standard dnsbl lists 14 of the routers, but they have a second one (tor.ahbl.org) that lists 823 of them (only 63 return NXDOMAIN).
It's also not rocket science to run a client (or wget the directory from router/tor) and parse it for the IPs.
TOR's developers have always made it clear that people can block them, and even has a Google SoC project to write their own dnsbl,
It was just a business decision on behalf of eGold .. I'm guessing their risk analysis folks looked at the fraud numbers and saw a few too many from addresses associated with proxies (as always, a few bad apples spoil the lot...).
Ironic though, since eGold's claim to fame is making anonymous payments. Why wouldn't they want someone to make an anonymous payment *anonymously*?

@_date: 2007-08-27 14:34:41
@_author: Michael Holstein 
@_subject: Connections to botnet masters 
Yeah .. well SORBS is to be taken with a grain of salt.
As do Slashdot, Craigslist, and a bunch of others. People tend to be jerks when they are anonymous .. and yes, it is sort of the "price you pay"

@_date: 2007-12-14 10:09:28
@_author: Michael Holstein 
@_subject: Best Hardware for TOR server.. 
This will be fine (more than fine, actually) .. I had no issues running a ~10mbit (symmetric) node on an old P3/1ghz with 1gb RAM (it was FreeBSD).
This will be a problem. Cheap-o routers don't have enough memory to manage huge state tables. You'd be better off getting a second NIC card for the PC and just using the server to firewall/NAT your LAN, in addition to running TOR. If that scares you, just re-use an old PC and run Smoothwall on it (or any of the other many "appliance" distros that do this).
YMMV, but Comcrap will axe you if they know you're running servers, and they WILL know that if you decide to run an exit, because they'll get lots of complaints about it. I lost count of the number of complaints mine generated, but I still have copies of the various subpoenas I got (*).
Good luck in any case!
Michael Holstein CISSP GCIA
Cleveland State Unviersity
(*): ultimately, it wasn't all the legal problems that made me take down our node, it was the fact that I couldn't stop folks who were stealing journal articles from various academic publishers that (stupidly) rely on CIDR subnetting to authenticate a campus.

@_date: 2007-12-14 10:49:44
@_author: Michael Holstein 
@_subject: Best Hardware for TOR server.. 
I guess I should have been more clear .. I ran the tor node on an academic network, and we have our own ASN, so there's no "provider" to complain to (but that didn't stop them from trying .. one idiot used our public email/phone directory to email the president of our .edu). I'm also the ORG-ABUSE contact on our ARIN record, and I'm the one that reads security@ and abuse at .
I did, however, annoy Comcast in Indiana by using honeyd to "answer" every one of their stupid FTP/HTTP probes that they were sending out back in the day to see if you were running servers. Again, YMMV .. but their TOS is pretty clear on the issue :
*Prohibited Uses of HSI.* You agree not to use HSI for operation as an Internet service provider, a server site for ftp, telnet, rlogin, e-mail hosting, "Web hosting" or other similar applications

@_date: 2007-12-14 11:37:40
@_author: Michael Holstein 
@_subject: Best Hardware for TOR server.. 
Yeah, but the "standard" store-bought WRT54G (ver 6) is only 8mb.
No they don't .. they've been using VxWorks on those "standard" Linksys boxes for quite a while. They created the WRT54GL (Linux model) which was basically the same hardware as earlier generation WRT54G's. The reason they (Linksys) changed was to save a few bucks on hardware costs (and because they know the Linux tinkerers will pay the extra $20).

@_date: 2007-12-17 10:26:22
@_author: Michael Holstein 
@_subject: Encrypted Web Pages? 
Yes, SSL .. and it's been around for quite a while.
Why not just SSL the site, and then restrict access to it using certificates (still X.509, but separate from the one used for transport Again, this can be easily provided by issuing X.509 certificates to the end-users and then requiring those certificates to authenticate to the webserver. Transport security (as it pertains to TOR, etc.) is provided by a separate X.509 certificate who's purpose is to sign the encrypted channel over which the data is transfered. You would manage the X.509 certificates assigned to your users by yourself, so you could handle revolkations (although Verisign, et.al. will happily sell you a commercial X.509 solution for client auth).
If you had a scenario where you needed to deploy a webserver in "hostile territory" and needed to ensure the security of the data thereon, you could conceivably gzip and GPG each .html page and associated items with multiple public keys based on some other criteria (like what cert the browser provided) and then let the end-user decrypt it with their private .. but this definitely won't be "automatic" .. but you could wrap it in Java to make it somewhat portable if you wanted. You could also write an ActiveX or XPI plug-in to incorporate it into the browser .. but then you're putting a lot of "trust" in a 3rd party with your GPG

@_date: 2007-12-17 11:55:56
@_author: Michael Holstein 
@_subject: Encrypted Web Pages? 
You could sign the applet with a key provided to your clients, since you're using a distribution model where you have known end-users (as you need their keys to encrypt the data).
My thought on Java was to be able to automate the key scheme within the browser, versus requiring them download a .gz.gpg file and decrypt it on their own. A (sort-of) working example of this is how HushMail does it (using Java to code the PGP stuff).
It's an interesting threat model though :)

@_date: 2007-12-17 12:01:18
@_author: Michael Holstein 
@_subject: Encrypted Web Pages? 
Not using HTTPS per-se, but you can use SSL to encrypt files.
Or, to basically do with HTTP what GPG does with email. The original poster would necessarily need to have access to the plaintext, as they would need to encrypt it with the end-user's public keys (each of them I'm not a mathematician, but it can't be wise to store multiple copies of the same plaintext encrypted by the same cipher using different keys .. much crypto has historically been broken that way.

@_date: 2007-12-19 09:11:02
@_author: Michael Holstein 
@_subject: another seeming attack on my server's DirPort 
tweak as desired ... this would permit 1 connection per minute from a given IP. Replace (torDirPort) with whatever TCP port you're serving the DIR on.
iptables -A INPUT -p tcp --dport (torDirPort) -m state --state NEW -m recent --set --name TORdir -j ACCEPT
iptables -A INPUT -p tcp --dport (torDirPort) -m recent --update --seconds 60 --hitcount 1 --rttl --name TORdir -j LOG --log-prefix "TORdir flood"
iptables -A INPUT -p tcp --dport (torDirPort) -m recent --update --seconds 60 --hitcount 1 --rttl --name TORdir -j DROP
(adapted from a SSH bruteforce mitigation rule to do a similar thing..)
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2007-12-20 14:28:20
@_author: Michael Holstein 
@_subject: another seeming attack on my server's DirPort 
TCP windowing foolishness can be a result of ISP "bandwidth management".

@_date: 2007-12-27 09:18:55
@_author: Michael Holstein 
@_subject: Testing bridge capabilities 
Well geez .. that's easy .. just tell us your IP address and we'll see if we can telnet to port 443.
Email somebody privately if you want ONE test, email the list if you want several.

@_date: 2007-12-28 13:18:48
@_author: Michael Holstein 
@_subject: Can Tor run WITHOUT Pivoxy ? 
Sure it can .. I've been doing it with Firefox and the "foxyproxy" plug-in for some time.
The main functional element that Privoxy adds is Socks v4a support (namely, the ability to pass domain names and not IP addresses).
(Privoxy also adds a lot of privacy-related stuff .. but you can edit your firefox config and use things like NoScript to accomplish almost the same things).

@_date: 2007-02-12 15:31:32
@_author: Michael Holstein 
@_subject: PHP coder needs Tor details 
Um .. send the signal to the pid of tor?
(or do it the lazy way and do 'killall -SIGNAL tor' from the command line)
see the PidFile part of torrc. Something sensible like /var/run/tor.pid comes to mind ... Then just 'kill $signal $pid'.
Note : to make this work, the command that executes the SIG_WHATEVER will have to be either the same UID as what started TOR, or root .. a security concern since I'm guessing you want to do some web $foo with it and PHP.
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2007-02-13 09:37:51
@_author: Michael Holstein 
@_subject: PHP coder needs Tor details 
'nobody' is just another user in FreeBSD .. just one that has a '::' in something as that user .. you just have to ensure that 'nobody' can write to the pidfile and logfiles (if any), and read the config files.
You only need to be 'root' to start a program if that program needs to bind to a port below 1024.
FreeBSD's ports will install stuff to standard places. If you want to chroot it, you've got to do a manual install (compile from source). That's not particularly hard, but it's not for the novice, since you've got to ensure you've got copies of any libraries you'd need in the appropriate places.
run 'ldd /path/to/tor' and you'll see what libraries it requires. All that "stuff" needs to be under your chroot dir.
Ensure that 'nobody' can read $base/etc/torrc .. as any UNIX admin will tell you, 95% of the "it won't run" problems are permissions issues.
Try 'sudo -u nobody /path/to/tor' and see what croaks.
Because TOR is running in the foreground in that terminal. If you want to background the process, put a '&' after the command .. eg:
'/path/to/tor &'
You can also do a CONTROL+Z (pause) and then issue the command 'bg 1' to background it in the current terminal. If you want it back in the foreground, do 'fg 1'.
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2007-02-13 09:42:39
@_author: Michael Holstein 
@_subject: PHP coder needs Tor details 
Well .. we all thought *this* problem was fixed years ago too .. but somebody at Sun got forgetful...
(Solaris 10/11) :
telnet -l "-f$" [hostname]
(where $ is anything but 'root' .. eg: 'bin')
And who can forget Bill Gates' famous "...that vulnerability is only theoretical" quote .. folks have been making the theoretical possible for him for years :)

@_date: 2007-02-22 15:44:59
@_author: Michael Holstein 
@_subject: Tor server web page? 
Run Apache (or whatever) on the same box and follow these instructions :
specifically :
To offer your directory mirror on port 80, where apache is already listening, add this to your apache config:
        ProxyPass /tor/         ProxyPassReverse /tor/ Then just set the basic html page as you describe in httdocs. It's also a good idea to have the reverse dns say something like "tor-anonymous-proxy.whateverdomain.com" because that's the first place folks will look.
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2007-02-27 10:35:55
@_author: Michael Holstein 
@_subject: Newbie's questions 
Correct. As long as you're also proxying the DNS via SOCKSv4, the only person that could "see" your traffic in the clear is the folks between the exit node and the destination.
However .. if you do something like access your (real) Yahoo mail, someone could connect that traffic with the "real" you .. because they could see your name in the HTTP traffic. Thus, it's unwise to leak the recipe to the secret sauce, and then go check your Hotmail account all in the same session.
You also need to be mindful of combining your "anonymous" and "regular" activities .. if, for example, you allow sites to set cookies and you visit two sites both using DoubleClick .. that cookie will connect the "real" you and the "tor" you. Same goes for any website that requires authentication (eg: Yahoo mail, etc.). Someone could check the logs and say "well, I see it was TOR this time, but yesterday it was Comcast".
An attack against AES that's more effective than bruteforce is not (yet) known, so I'd say "probably not", although TOR developers are clear to tell you it doesn't defend against a "global adversary" (eg: The client key is in memory, so no .. unless you do something like suspend your laptop while TOR is running (thus writing it to disk). Also, it's possible to have the key written to swap accidently.
You can prevent both those problems with a "liveCD" distro that dosen't touch the hard disk. There are many such "internet privacy appliances", my personal favorite being the one based on OpenBSD (Anonym.OS).
Other general recommendations :
Firefox (dump cookies on exit, no cache, etc)
NoScript plugin (no javascript)
FlashBlock plugin (no flash)
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2007-02-27 11:02:04
@_author: Michael Holstein 
@_subject: building pages with tor in mind 
Have a look over here :
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2007-02-27 14:03:55
@_author: Michael Holstein 
@_subject: building pages with tor in mind 
Bear in mind you need not get javascript to return the results of something like "ipconfig /all" to work .. all you need do is create a non SOCKS'ed connection to somewhere.
Flash is one excellent way to do that .. invoked via JS.

@_date: 2007-02-28 09:45:20
@_author: Michael Holstein 
@_subject: Norwegian DNS compromized 
Okay .. we're seriously off-topic here, but many a person's rights are trampled because :
"it's for the children..."
There is no "okay" form of censorship. A spade is a spade is a spade.
If you believe in censoring this or that, under any guise, then maybe TOR isn't the project for you.

@_date: 2007-02-05 11:23:27
@_author: Michael Holstein 
@_subject: Forwarding email ports 
(responses inline) :
Except for tcp/587 (submission), yes. 465 is smtps (smtp via SSL) and 995 is pops (pop via SSL). tcp/587 is part of the "standard" exit policy Nope .. 587 is an alternative to 25. Unlike the other two, it's not Well, with TOR (and any anon proxy) you've got to trust the exit operator. This is why TOR says you should only trust it for transport, not end-to-end security, and you should use your own transport-layer security (eg: ssl, tls, ssh, ...)
Yep .. 100%. Open proxies are an email-admin's worst friend. Exiting tcp/25 is a sure way to never send email again from that IP. Also, many websites that you probably enjoy (craigslist, slashdot, etc) have been hassled by tor-wielding vandals one-too-many times and will block even read-only access. Thus, it's wise to have the TOR box on a separate IP (that you'll never-ever need again .. the one we used here -- 5.13 -- a year ago is still blocked a number of places).
Maybe .. but those are easy to respond to. A standard "I'm a TOR exit.." email usually does the trick. See the archives for examples .. I've posted one (SXW format) that has worked for $3_letter_agency subpoenas.
Set the BandwidthMax and Min to appropriate values and sleep easy.
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2007-02-05 17:02:18
@_author: Michael Holstein 
@_subject: Forwarding email ports 
Who among us actually pays Verisign (et.al.) for a SSL cert for their personal MTA?
Besides .. in an anonymous world, how can one really verify the cert anyway? .. it's not like you can call $recipient and verify the hash.
(oh .. and sorry about forgetting to mention the STARTTLS issue via tcp/25 or /587).

@_date: 2007-02-08 15:37:14
@_author: Michael Holstein 
@_subject: About http request  of browser. 
True, but that's configurable in most sensible browsers.
In Firefox, check out the stuff in about:config
specifically the general.useragent.* stuff.
Better yet, get the "User Agent Switcher" plugin.

@_date: 2007-01-02 08:54:42
@_author: Michael Holstein 
@_subject: Tor and Thunderbird: Outgoing Email Unsafe? 
Most exit nodes disallow port 25 (smtp) because NOT doing so would make TOR a spammer's paradise. If you know a relay-server that runs smtps or uses an alternate smtp port, use that.
Michael Holstein CISSP GCIA
Cleveland State University.

@_date: 2007-01-02 09:54:21
@_author: Michael Holstein 
@_subject: Tor and Thunderbird: Outgoing Email Unsafe? 
Yes. TOR and (yahoo|hotmail|gmail|$whatever) is an anonymous way to go about it. Just make sure you use a totally separate browser profile (eg: start firefox with -ProfileManager) as to not cross-contaminate cookies, etc. and do everything regarding that email account -- including signup

@_date: 2007-01-02 09:56:22
@_author: Michael Holstein 
@_subject: Tor and Thunderbird: Outgoing Email Unsafe? 
Yes. If they use another port to do it. Most ISPs don't do this for spam Probably not. Most of the "standard" alternates are also blocked (eg: 587), and having your ISP setup something special for you (meaning you call, say who you are and what you want) totally hoses your anonymity Anonymous SMTP proxies do exist, but those are also a spammers paradise .. and most any correctly-configured email system won't accept email from them.

@_date: 2007-01-02 13:23:17
@_author: Michael Holstein 
@_subject: Tor and Thunderbird: Outgoing Email Unsafe? 
Well .. sort of. The problem is cookies from the likes of doubleclick. You run the risk of having them re-check an existing cookie and seeing your "real" IP as well as your TOR ip. Would somebody subpoena doubleclick because you sent your boss a shitty email? probably not, but then again, doubleclick sells your personal info to anyone that can cough up an account number.
Receiver of email, no .. but cookies are managed by 3rd parties (and bear in mind that many 3rd party cookies (yahoo, for example) are used for "customization" of your page and are also read during a mail session

@_date: 2007-01-24 10:35:52
@_author: Michael Holstein 
@_subject: Fwd: EZZI.net Abuse Warning 
Here's the "boiler plate" I use for such things (137.148.5.13 was previously the exit-node router "csutor"). You should obviously 137.148.5.13 is an anonymous proxy that's part of the TOR network. You
can learn more about TOR at We are unable to assist you in tracing the source of this attack, but it
did not originate from us -- TOR requires all traffic traverse three
"onion routers" in physically separate locations -- 137.148.5.13 just
happened to be the "exit node" for this particular session.
You're welcome to block 137.148.5.13 as you see fit. There are also
several free sites that assist in dynamic (DNSBL) blocking of TOR if you
so desire -- one is  TOR developers also make
available a Python script : which can obtain the IP addresses of all TOR exit nodes, given a copy of
the current directory : Please let me know if I can be of further assistance.
Michael Holstein CISSP GCIA
IS&T Information Security
Cleveland State University

@_date: 2007-01-02 15:54:07
@_author: Michael Holstein 
@_subject: Tor and Thunderbird: Outgoing Email Unsafe? 
Here's another idea ... gmail allows SMTP via SSL (smtps on tcp/465).
You've got to authenticate for in/out (meaning google account) but you can get one of those anonymously. They do POP via SSL as well (pop3s on tcp/995). Combine the two and you've got a functional client.
This should help you out .. (applies to Outlook, but Thunderbird would use same settings in different places) :

@_date: 2007-01-03 08:51:27
@_author: Michael Holstein 
@_subject: Opening 2 Firefox profiles |was: Re: Tor and Thunderbird: Outgoing 
It's easy.
Start your first instance of firefox as usual. Start the second one like this : "/path/to/firefox -ProfileManager" and create a new profile (call it TOR, or whatever). You'll need to reinstall plugins (eg: FoxyProxy, NoScript, etc) under that new profile, but the settings are separate from your "normal" one.
Then just set up a shortcut to involke the second instance using the -ProfileManager switch, and select the 2nd profile.

@_date: 2007-01-03 13:27:54
@_author: Michael Holstein 
@_subject: Opening 2 Firefox profiles 
I'm on Linux 2.6.17 (Ubuntu), and the -ProfileManager switch works fine for me, regardless of what windows are open.
Did you check the box "always ask which profile when starting firefox" the first time you created the 2nd profile?

@_date: 2007-01-03 16:12:59
@_author: Michael Holstein 
@_subject: Opening 2 Firefox profiles 
Well, that's debatable. But to be clearer ...
 From : (the important bits...) :
     * Linux kernel 2.2.14 (with glibc 2.3.2, XFree86-3.3.6, gtk+2.0, fontconfig/xft and libstdc++5)
If you've already created profile  try and start firefox with the -P {profilename} switch .. eg "/path/to/firefox -P TorProfile". If that doesn't work, you can create a new (passwordless/nologin) user and start firefox with sudo (eg: "sudo -H -u torfox /path/to/firefox").
You can also create a profile from the CLI by doing "/path/to/firefox -CreateProfile {profileName}" and then run that one with the -P {profileName} switch.
If you still can't get if figured out, post all the requested info as a bugreport and somebody will look into it (over at mozilla.org).

@_date: 2007-07-27 10:01:00
@_author: Michael Holstein 
@_subject: cached-routers by e-mail please 
How hard would it be to serve the DirPort via SSL with a self-signed cert? (or have the trusted DirServers sign them)?
Web proxies can't inspect HTTPS ...
Feature enhancement request?

@_date: 2007-03-07 14:02:31
@_author: Michael Holstein 
@_subject: Building tracking system to nab Tor pedophiles 
One better .. TOR on OpenWRT on a Linksys router.
Tor at the *hardware* level.

@_date: 2007-03-07 13:59:41
@_author: Michael Holstein 
@_subject: Building tracking system to nab Tor pedophiles 
A non-issue. The DNS request from the first trick will get routed through TOR. The second trick is easily avoided by blocking Java via

@_date: 2007-03-07 14:04:19
@_author: Michael Holstein 
@_subject: Compile error w/0.1.2.9-rc on Kubuntu 6.10 
./configure --with-libevent-dir=/usr/local/lib
that got it working for me (also Ubuntu 6.10 here, but the gnome variety)

@_date: 2007-05-29 09:41:30
@_author: Michael Holstein 
@_subject: ISP TOS restrictions on servers 
Depends on who you ask .. but generally, as long as you pay your bill and you don't make them do paperwork on your behalf (eg: DMCA crapola), they ignore it.
Again .. depends. Back when I had ComCrap (Comcast), I'd get hits on tcp/21 fairly often. Run your ftpd on some obscure port (better yet with starttls) and you'll be fine.
Not in this lifetime.
Always .. they don't have the patience to scan every port .. avoid the "well-known" ones and you'll be fine.
Usually you get a warning first, unless they get a DMCA or some-such on your behalf .. then you generally get a 1-year ban from that company.
On the plus side, getting canceled by them gets you out of your contract agreements. Play your cards right and keep mis-spelling your name when you sign-up, and you can switch between cable and DSL forever.
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2007-05-29 14:04:07
@_author: Michael Holstein 
@_subject: ISP TOS restrictions on servers 
At which point folks will switch to ECC (like the NSA already did) or some other scheme which doesn't rely on the factorization of large primes.

@_date: 2007-05-30 09:41:29
@_author: Michael Holstein 
@_subject: Wanted feature / option 
Okay, I know you're trying to write a spam response script, but consider ..
That's so illegal, it's not even funny. Does your boss know you threaten people like this? I somehow doubt you've got 34 pairs of fiber into your apartment (or a closed-sized deMUX).
Yeah, and you'll have them for .. maybe 15 minutes after I get off the phone with your ISP (or, if it requires the lawyers, about 15 minutes after I talk to them).
Meanwhile, I'll add static routes to send all the traffic back to you, or failing that, just blackhole you with BGP upstream.
Nice .. shall we add extortion to the list of charges?
It's a beautiful day in Cleveland .. about 85 degrees, no clouds.
Michael Holstein CISSP GCIA
Information Security Administrator (a real job)
Cleveland State University (a real employer)

@_date: 2007-05-30 10:56:17
@_author: Michael Holstein 
@_subject: Ideas on increasing the significance of tor 
Two ideas :
run multiple instances (and use family option), and let each instance handle ($X) amount of traffic. Since TOR doesn't thread itself very well, that's one way to do it (sort of like what you've got to do with run tor using hardware crypto acceleration (it's sort-of supported, usually via patches to OpenSSL)
Side note to developers .. why not create one parent thread and ($n) worker threads (like Apache, etc. does) to solve this?

@_date: 2007-05-07 09:21:56
@_author: Michael Holstein 
@_subject: Tor server monitoring and notification service? 
Why not just use something like BigBrother (ironic, I know..)
it can monitor services, and send pages/emails when they die. You can also easily code tests (like wget  and check the response.
Michael Holstein
Cleveland State University

@_date: 2007-10-25 09:39:02
@_author: Michael Holstein 
@_subject: Spam over Tor 
Look at a Yahoo! mail's headers .. the IP of the submitter (by HTTP from ...) is in there.
I don't see how this is any different than the "pwned" calls (eg: "hey dood .. somebody flamed my blog from yer server!") .. people have been using free porno (or whatever) to get folks to answer Yahoo/Hotmail catchpas for a while now .. and then using those accounts to send spam until Yahoo/Hotmail/etc figures it out and they move on to the next account.
Actually blocking Yahoo mail without causing other problems would require a fair amount of work, but could be done by proxying outbound traffic and filtering the specific bits of the URL that allow composing an email.

@_date: 2007-10-25 09:41:47
@_author: Michael Holstein 
@_subject: Hello Ringo Kamens,,, Having trouble setting up TOR server behind 
username: blank
password: admin
Go to the advanced tab -> forwarding
set up two applications, ORport, DIRport .. select TCP, select 9001 and 9030, and point them to whatever IP you have on your linux box.
Make sure you tell TOR to advertise your external IP address via torc.

@_date: 2007-09-11 10:28:14
@_author: Michael Holstein 
@_subject: Filtering traffic from your node - for exit points 
You're missing the point.
If you live under a repressive regime whereby you feel legally obligated to filter the exit traffic, you should be using the client, not running a server.

@_date: 2007-09-11 10:40:24
@_author: Michael Holstein 
@_subject: exit policies (WAS: Re: Filtering traffic from your node) 
Not only that, but the directory structure doesn't scale to those of us that need large exit policies.
I ran a 10MB/sec exit node at my .edu for a while, and it was ultimately the politics of people ripping off journal articles, accessible since we have a /16 netblock and that's how the journal services differentiate an "on-campus" versus "off-campus" user (yes, I know that's a bad idea, but that's how they do it) that made me shut it down.
I have thousands of IPs I'd need to block .. and it's detrimental to TOR to "fib" about what you'll exit (I tried lying via /etc/hosts, and later nullrouting with ipfw .. BOTH were a BAD idea, but the only thing I could think of).
How about this idea .. what if a TOR server could send a reply back to the client (via the TOR network) that says "my local exit policy prohibits that". It could be a HTTP status code, a TCP flag, anything .. not as efficient as telling the client to not try in the first place, but better than just breaking it without notifying.
(I mention the HTTP code because that would be easy to implement in a proxy, and the TCP mangling because it'd be easy with NetFilter).
Performance-wise, you'd want to cache the list of "nodes/can't-do's" in memory, since you wouldn't want that stuff written to disk (ever). That might be the Achile's heel in my idea.
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2008-08-18 12:36:24
@_author: Michael Holstein 
@_subject: Paid performance-tor option? 
Many of TORs current high-bandwidth nodes are run by universities .. who would be legally prohibited from participating in a for-profit system (even if the model was just cost recovery). It's also a lot easier to sell the idea of exposing yourself to endless abuse complaints if you can use the "...but we're helping Chinese dissidents..." angle.
If you want paid-for anonymity services, there's tons to choose from .. but consider that once you attach payment to a username, you've created an easily attributable path back to you. TOR from the coffee shop's wifi is a lot harder to trace.
I guess it depends on *why* you need the performance .. if it's p2p you're trying to do (which you shouldn't be doing on TOR anyway) I'd suggest you take a look at what the friendly pirates at PRQ have come up with (Relakks .. Michael Holstein
Cleveland State University

@_date: 2008-08-19 17:03:12
@_author: Michael Holstein 
@_subject: Paid performance-tor option? 
When I approached the higher-ups about doing a TOR node, I needed to pick a repressive regime to use as the reason for doing it. I didn't think using our own country (equally repressive, for mostly the same reasons) would fly.
It worked, btw .. we ran one  for almost a year, until folks started raping online academic journals with it.
Michael Holstein
Cleveland State University

@_date: 2008-12-19 13:49:33
@_author: Michael Holstein 
@_subject: UDP and data retention 
I don't see how ..
"tcpdump -s 1514 -w evidence.pcap ip proto \\udp"
is any harder than ..
"tcpdump -s 1514 -w evidence.pcap ip proto \\tcp"
Now I guess you could rig a communications "network" that dealt entirely in header-source forged UDP packets, but as best practices dictate (not the everybody follows them) .. one should filter egress of packets with a source address not within your netblock.
Michael Holstein
Cleveland State University

@_date: 2008-01-07 09:26:59
@_author: Michael Holstein 
@_subject: List Suggestion 
Um .. how's this gonna work? .. use NetBUI to send them?
Why not just create a filter that delivers mail from "owner-or-talk at freehaven.net" to your inbox?
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2008-01-07 09:33:50
@_author: Michael Holstein 
@_subject: SORBS vs Tor and the world 
If you don't like SORBS, don't use them.
TOR doesn't try to be invisible .. if a site admin wants to block anonymous ($whatever) .. they're free to do so, and SORBS just makes it easier (the TOR dnsbl).
Statistically speaking, the volume of non-legitimate email coming from anonymous routers makes TOR a pretty easy target.
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2008-01-09 14:17:43
@_author: Michael Holstein 
@_subject: Restrict relay to internet2 
I doubt your school will do this for you, but the only way it's gonna work is to get a BGP feed into quagga (or some other BGPd) and build your netfilter tables from that.
Here is a (somewhat dated) article on doing it : I see why you're trying though .. when I was running a TOR node here, it was by far the largest user of Internet2 bandwidth (since many other TOR nodes are on academic sites).
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2008-01-15 11:19:52
@_author: Michael Holstein 
@_subject: Question about TOR and IIS - Also hello! 
Yes, there is.
Just create a new virtual host, and change the port it listens on.
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2008-01-28 14:44:47
@_author: Michael Holstein 
@_subject: [OT] NSA to spy on rest of government, launch counterattacks 
Greetings professor .. would you like to play a game?

@_date: 2008-01-31 15:01:58
@_author: Michael Holstein 
@_subject: About WLAN and monitoring.. 
The MAC of the wireless card (which can be changed .. from the advanced properties tab in Windows, or 'ifconfig hw ether' in *nix).
The hostname sent to the DHCP server (also modifiable)
Just turning off file sharing does not disable all the exposed ports .. run "netstat -an |findstr LISTEN" to see what's open (replace 'findstr' with 'grep' for *nix).
Also : consider things like Windows Update, Weatherbug, Webshots, AntiVirus progs, etc. All of those apps send a unique ID to the remote side, and could be used to associate the "non-TOR-you" with the "TOR-you". So could your web-based email if you've EVER used it from an identifiable location.
Michael Holstein CISSP GCIA
Cleveland State University

@_date: 2008-10-07 15:32:18
@_author: Michael Holstein 
@_subject: Abuse complaint 
You do know that running a server of ANY kind on a residential connection is generally against the provider's terms of service, right?
Michael Holstein
Cleveland State University

@_date: 2008-10-07 16:21:32
@_author: Michael Holstein 
@_subject: Abuse complaint 
Actually, I was looking up TWC's terms of service to support my claim, and it seems in light of being beat up upon by the FCC for the "network management" foolishness, they've simplified it quite a bit.
However, like many ISPs, it still contains this clause :
The ISP Service may not be used to breach or attempt to breach the security, the computer, the software or the data of any person or entity, including Operator, to circumvent the user authentication features or security of any host, network or account, to use or distribute tools designed to compromise security, or to interfere with another's use of the ISP Service through the posting or transmitting of a virus or other harmful item to deliberately overload or flood that entity's system.
... and they make no distinction between YOU (as in the real you) and TOR (as in traffic that appears to come from you, but isn't the real you) .. all they care about is what comes out of your pipe.
Anyway .. good luck, and keep up the good fight!
Michael Holstein
Cleveland State University

@_date: 2009-12-28 15:27:49
@_author: Michael Holstein 
@_subject: TOR is for anonymization; so how to add encryption as well? 
As for the node-to-node encryption, you can assume the answer to be
"probably not". AES128 is seen to be reasonably secure at the present
time, enough so to be used for classified communication channels by the
US Government.
Does this mean $they probably couldn't brute-force a given key with
enough time and/or resources? .. No.
You can't. Hence the need to use encrypted end-services like SSH, HTTPS,
IMAPS, etc.
Yes, to support the community and to generally frustrate repressive
governments (our own included, since doing so is still within the bounds
of the law at the moment).
Benefits? If you need a recent real-life example .. during the Iran
election protests, people were creating S3/Vmware instances for TOR that
allowed access to Twitter, etc. and created an ever-moving target for
the authorities over there .. enough so that information continued to
leak out to the rest of us. The same is true for China, WikiLeaks, etc.
Michael Holstein
Cleveland State University
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-12-29 10:06:28
@_author: Michael Holstein 
@_subject: TOR and ISP 
This is called a "request to preserve records" and is quite common.
Basically it's a FAX from $agency to your legal department (and then
forwarded to the IT folks) that says "hey, IF (and only IF) you have
data relating to $x $y and $z, don't delete it until you get the subpoena"
This is meant to counteract the routine log rotation in place almost
everywhere. The first request gets them 90 days to follow up with the
appropriate paperwork (subpoena or warrant, depending on what and how
old it is).
Those "preservation requests" do not create any duty to BEGIN collecting
anything .. you just can't destroy what you've already got. Also,
there's no duty to retain other records that may relate tangentially to
the request but aren't specifically requested(*).
(*) : IANAL, check with your company lawyers in all cases when answering
legal process, etc.
A forward-going request is known as a "Title III Order" AKA "wiretap".
These are quite rare by comparison.
Michael Holstein
Cleveland State University
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-12-30 14:23:17
@_author: Michael Holstein 
@_subject: Why governments fund TOR? 
Consider that many of the nodes are run by public Universities, which
are partially funded by their respective states.
Michael Holstein
Cleveland State University
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-12-22 15:26:53
@_author: Michael Holstein 
@_subject: Talking w/local service CEOs [LJ, goog...] 
And sniff/steal the session cookie.
Michael Holstein
Cleveland State University
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-09-17 15:35:29
@_author: Michael Holstein 
@_subject: "I Write Mass Surveillance Software" 
The mention of "C like" code and the DPI makes me think the hardware uses Intel's IPX series network processors. For those, the ruleset is basically written in C and uploaded to the device.
SANS has a whitepaper on doing Snort IDS with them, a fairly similar application to the above (this is for the 24xx series @ 2.5gbps)
The IXP2800 can do line-rate 10gbps
Michael Holstein
Cleveland State University

@_date: 2009-09-17 15:35:29
@_author: Michael Holstein 
@_subject: "I Write Mass Surveillance Software" 
The mention of "C like" code and the DPI makes me think the hardware uses Intel's IPX series network processors. For those, the ruleset is basically written in C and uploaded to the device.
SANS has a whitepaper on doing Snort IDS with them, a fairly similar application to the above (this is for the 24xx series @ 2.5gbps)
The IXP2800 can do line-rate 10gbps
Michael Holstein
Cleveland State University

@_date: 2009-09-17 15:58:50
@_author: Michael Holstein 
@_subject: "I Write Mass Surveillance Software" 
Here's one more link that explains the IXP series architecture
(basically, all the OP on Rededit was saying, was he's the guy that writes the microengine code)  .. the processors themselves aren't capable of realtime brute-force decryption ... but they are the sort of thing that can look for signatures/keywords/etc in a stream and act upon it at wire-speed.
As for breaking encryption, this would be a task better suited for a large farm of purpose-programmed FPGAs, since I'm not aware of any commercially-produced ASIC that does this (although the NSA does list jobs for "semiconductor fabrication", so I'm sure they're in that game).
IIRC the Russians had purpose-built their own ASICs to break DES when it was en-vouge .. I'm sure our side of the pond actively does the same.
Sneakier mice, better mousetraps.
Lather, rinse, repeat.
Michael Holstein
Cleveland State University

@_date: 2009-09-02 10:01:14
@_author: Michael Holstein 
@_subject: Gmail 
There are email->SMS gateways .. do the reverse not exist?
What about SMS->SIP services? .. eg :

@_date: 2009-09-02 10:01:14
@_author: Michael Holstein 
@_subject: Gmail 
There are email->SMS gateways .. do the reverse not exist?
What about SMS->SIP services? .. eg :

@_date: 2010-02-12 09:42:07
@_author: Michael Holstein 
@_subject: TOR Blocked at Universities 
Not sure what you mean by "bind to outside IP", but our network is a
contiguous /16. We would have to register for extra /24s from ARIN, and
that costs money.
Michael Holstein
Cleveland State University
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-12 11:27:17
@_author: Michael Holstein 
@_subject: TOR Blocked at Universities 
You're missing the point .. we already blocked our *own* /16 in the
exit. The problem was the thousands of academic journals, all of which
have distinct addresses, that consider any traffic from our /16 as being
"on campus" and thus not needing of authentication. As the exit node
resided with that /16, any traffic sourced from it would appear to be
"on campus" from the perspective of the other entity.
I could have :
a) created an exit policy thousands of lines long prohibiting
a.b.c.d/32:* for each of them
b) used IPtables to do the same thing, but that would not make the
prohibition known to clients and break things.
c) use entries in /etc/hosts to accomplish the same things as "b)" with
the same results.
We found that since the list of exit nodes is known, people would
actively seek those that ended in .edu and try to rape the journals with
them .. downloading entire issues of various scientific journals (this
happens on-campus too from misguided students, but that's easier to
track down).
If the network spec could easily handle any number of exit nodes, each
with a policy of unlimited length .. this wouldn't be a problem (other
than the ongoing maintenance headache). Likewise, if we had a few /24s
to stick stuff like this into that were outside the primary /16 we could
make it work .. but IP space is getting harder to come by, and it's hard
to justify additional allocations when you already have a class B (plus,
it costs money).
Before anyone tells me it's "broken" to authenticate just by IP address
.. I already know that .. but that's how most of the academic publishers
do it at the moment.
For the record, the DMCA complaints, subpoenas, and various angry phone
calls were never a problem. It was the theft of academic journals (and
that doing so jeopardized our subscriptions) that did it in.
Michael Holstein
Cleveland State University
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-12 12:00:27
@_author: Michael Holstein 
@_subject: Torbutton : please offer better user agent choices 
Perhaps the best choice would be the one used by the most people.
Michael Holstein
Cleveland State University
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-11 16:17:26
@_author: Michael Holstein 
@_subject: TOR Blocked at Universities 
If your problem is anything like the one we had, I'm guessing the
"attacks" have more to do with the fact that many journal subscriptions
authenticate by IP address, thus, if someone has their client configured
to be an exit, people will readily find it and use it to download
en-masse from your very expensive journal memberships.
Let's not debate the stupidity of authenticating a network by IP address
.. but the above problem is ultimately what forced us to do the same
thing (although we just prohibit the operation of an exit). I should
note that the original effort to run an exit was conducted by myself,
and I do network security here .. but it was the complaints from the
library folks that got us into hot water .. there simply wasn't an easy
way to block access to all of them without an overly-complex exit
policy, and all of our IP space is within a single /16.
Michael Holstein
Cleveland State University
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-11 16:17:26
@_author: Michael Holstein 
@_subject: TOR Blocked at Universities 
If your problem is anything like the one we had, I'm guessing the
"attacks" have more to do with the fact that many journal subscriptions
authenticate by IP address, thus, if someone has their client configured
to be an exit, people will readily find it and use it to download
en-masse from your very expensive journal memberships.
Let's not debate the stupidity of authenticating a network by IP address
.. but the above problem is ultimately what forced us to do the same
thing (although we just prohibit the operation of an exit). I should
note that the original effort to run an exit was conducted by myself,
and I do network security here .. but it was the complaints from the
library folks that got us into hot water .. there simply wasn't an easy
way to block access to all of them without an overly-complex exit
policy, and all of our IP space is within a single /16.
Michael Holstein
Cleveland State University
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-11 16:49:30
@_author: Michael Holstein 
@_subject: TOR Blocked at Universities 
Because there's > 1000 of them (and each would be a /32). It was
discussed in another thread at the time, and the developers led me to
the conclusion that such hugely long exit policies were a bad idea.
Michael Holstein
Cleveland State University
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-01-25 10:56:42
@_author: Michael Holstein 
@_subject: Need for sane ISP's? 
It's a capitalist market. If someone's willing to pay the premium for
that type of service, it'll be offered.
The reason it isn't is that each warrant, subpoena, DMCA request, etc.
requires an army of technicians, lawyers, and the like to deal with.
Just because you might be immune under US law doesn't stop them from
suing you, and you needing to pay council to go in there and defend you
(and your techs to testify, outside experts, etc.).
It doesn't take very many of those cases to drive up costs.
If you can justify the need for your own ASN (because you're
multi-homed, etc.) then you *become* the ISP. This is completely
impractical for an end-user, but it's how Universities (and the like)
get away with hosting the nodes .. there's nobody else to complain to
but the entity itself.
Michael Holstein
Cleveland State University
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-01-25 10:56:42
@_author: Michael Holstein 
@_subject: Need for sane ISP's? 
It's a capitalist market. If someone's willing to pay the premium for
that type of service, it'll be offered.
The reason it isn't is that each warrant, subpoena, DMCA request, etc.
requires an army of technicians, lawyers, and the like to deal with.
Just because you might be immune under US law doesn't stop them from
suing you, and you needing to pay council to go in there and defend you
(and your techs to testify, outside experts, etc.).
It doesn't take very many of those cases to drive up costs.
If you can justify the need for your own ASN (because you're
multi-homed, etc.) then you *become* the ISP. This is completely
impractical for an end-user, but it's how Universities (and the like)
get away with hosting the nodes .. there's nobody else to complain to
but the entity itself.
Michael Holstein
Cleveland State University
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-01-29 16:36:01
@_author: Michael Holstein 
@_subject: browser fingerprinting - panopticlick 
Running TOR and leaving javascript enabled sort of defeats the point,
doesn't it?
Michael Holstein
Cleveland State University
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-06-23 15:53:12
@_author: Michael Holstein 
@_subject: Automated threat messages force limitation of Exit Policy (Softlayer) 
Agreed. Having the whois info for your TOR box come to you as an
ORG-ABUSE will offload a lot of this from Softlayer. BayTSP, et.al.
don't bother doing ASN lookups, they complain by IP whois.
True. We get tons of them for nonexistant IP ranges. They never answer
any questions about it.
As are all of the bogus notices and supporting documentation that
nothing has ever occupied that IP address.
Michael Holstein
Cleveland State University
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-06-29 13:50:15
@_author: Michael Holstein 
@_subject: Automated threat messages force limitation of Exit Policy (Softlayer) 
No, they pick on everyone pretty much equally .. easy to do when you're
just using a script to scrape a tracker and complain.
I've investigated many of the complaints over the years, and have yet to
find any evidence that that Mediasentry (et.al.) makes any effort to
download or verify that the client they are complaining about is in
fact, offering the content in question. This was most hilariously
demonstrated by Washington University when they spoofed a bunch of
printers and got DMCA notices for them(*).
(*): Also, as I've mentioned previously, it's not at all unusual to get
complaints for IP addresses (within our block) that have never been
used. I get the impression that folks (probably the media companies
themselves) are intentionally injecting fake information into BitTorrent
like they used to do with Napster .. except that BitTorrent handles this
much better. The fallout from that is companies get a bunch of bogus
My 0.02.
Michael Holstein
Cleveland State University
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-06-30 13:03:55
@_author: Michael Holstein 
@_subject: [OT]FW: Invitation to connect on LinkedIn 
This is a "feature" of these sort of sites .. you (stupidly) provide
your email password, they suck in all the addresses of your contacts and
attempt to befriend them.
One person's "marketing" and/or "networking" is everyone else's spam.
Michael Holstein
Cleveland State University
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-09-08 20:53:54
@_author: Michael Holstein 
@_subject: [tor-talk] Tor banned in Pakistan. 
Of course .. any number of mechanisms exist to do exactly this, although
(generally speaking) it's not to provide a "live" VPN service. A
constant HTTP stream of nothing but .jpegs would be pretty suspicious.
Video-type services might be a better bet (because the traffic would be
more believable) but if you can't encrypt it, all that's required to
render the stego useless is to (slightly) re-encode it transparently
(eg: take your 640x480 MPEG stream and run it through ffmpeg to lower
the bitrate by 10k or some such).
One would detect this in the same way you do encrypted botnets .. you
stop looking for patterns *in* the traffic and start looking at *traffic
patterns* (ie: "that's odd, why is this machine doing a constant stream
of ICMP all of a sudden? .. what are these long DNS queries for?, why
are the HTTPS traffic ratios fairly symmetrical?" .. etc).
That's the key distinction here .. rather than try to "ban with
technology" (ie: "great firewall of china"), they went for "ban with
policy" .. meaning you'll likely never know if you're "getting away with
it" until the ISI shows up and drags you off.
I suppose a clever service would be for Twitter (et.al.) to allow you to
upload a keypair for stego and a https "twitpic" site that allowed each
image to be checked for a valid signature and stego'd text, which would
then be published.
Michael Holstein
Cleveland State University

@_date: 2014-07-02 16:10:35
@_author: Michael O Holstein 
@_subject: [tor-talk] Tor Exit Operator convicted in Austrian lower court 
Okay .. try giving knives away anonymously out of the back of your garage and let us know how you make out.
tl;dr .. don't tell the world to use TOR for hosting kiddie porn while also running an exit node.
My 0.02
Michael Holstein
Cleveland State University

@_date: 2014-07-03 20:02:09
@_author: Michael O Holstein 
@_subject: [tor-talk] Funny, but not amusing browsing 
Is this reproducible? To successfully (without error) insert into an HTTPS connection you must be trusted by the client .. would need list of CAcerts from firefox/iceweasel, the received HTML, and (ideally) a debug TOR log that shows which exit is doing it.
I have seen HTTPS MiTM attempts in the past but those exits get blacklisted pretty fast for trying to do it .. maybe you're one of the lucky canaries.
A rouge cert signed by a vanilla/public CA would be *very* problematic, and unlikely to be wasted screwing with Wikipedia .. it's far more likely a bogus CA got trusted by your browser, hence the interest in verifying all the certs that are in the keystore.
Michael Holstein
Cleveland State University

@_date: 2014-06-24 13:35:45
@_author: Michael O Holstein 
@_subject: [tor-talk] Running an exit node which exits on a different IP 
Is the collateral damage from trying to play hide-and-seek from RBL services really worth it? .. the "overzealoous" RBL operators just want to catalog proxy servers so website ops can decide if they want the headache or not -- which is a perfectly valid concern.
Overzealous is what happens when you try and play games and RBLs start getting less specific than a /32. I've been on both sides of this one, and were I to fire up an exit again I'd want to run it at zero bandwidth for a month or so just so all the RBL ops ensure it's listed .. people rush to abuse the new ones, and not for utopian visions of a free Internet either.
Michael Holstein
Cleveland State University
Sent: Tuesday, June 24, 2014 9:07 AM
I have been sorting through my mailbox the last few days and stumbled
upon an email from 2012, from this mailing list. A worried user got a
false negative from check.torproject.org because an exit relay sent
exit traffic out on an IP that's different from what was advertised.
However, this made me think that it is perhaps not such a bad idea if
more exit relays did that, even slower ones. I have access to a couple
of IP numbers that I could easily configure in this way.
Basically: Use one IP for Tor traffic, and one IP for exit traffic.
The Tor traffic IP:Port is what would be advertised to the Tor
network, and only that.
The reason would be to minimize the chances of the exit IP ending up
in some overzealous blacklist. I'm pretty sure that a lot of the
blacklist operators just scrape the public list of relays and then
they end up in a lot of places where the customer is not even aware
what is being blocked. This is painfully obvious to people running a
non-exit relay from home, when trying to use IRC or other services.
Is this a good idea to do if you have the resources? Will it cause any
non-obvious problems? I guess one problem is that check.torproject.org
will show that you're not using Tor, unless it's been modified since
2012 to check this in another way.
I'm not sure if I'm making myself clear here, please ask me to clarify
if this is the case.
tor-talk mailing list - tor-talk at lists.torproject.org
To unsubscribe or change other settings go to

@_date: 2015-04-23 19:21:39
@_author: Michael O Holstein 
@_subject: [tor-talk] SIGAINT email service targeted by 70 bad exit nodes 
FWIW a lot of Rasberry PI devices use that version string.
Cheap embedded devices as chaff?

@_date: 2015-01-05 17:44:32
@_author: Michael O Holstein 
@_subject: [tor-talk] How much of SSL CA protected traffic is read by NSA 
Although he doesn't say it directly (this time) I think it's safe to assume the answer is "yes" .. there have been notable thefts of keysigning material from commercial CA's by non-government criminal groups. To assume the three-letter folks don't also engage in such endeavors is foolish at best.
Note that they'd really only need command of *one* CA that is trusted to pull it off (see also the trick that corporate web appliances use to transparently intercept SSL) .. although that would make them likely to get caught at it. (*) : OTR uses DH with PFS and a short temporal keylife, so not all that different that some of the non-default (ha ha NSA) IKE proposals. Granted, due to laziness most businesses don't apply ultra-paranoid configurations to their VPN tunnels because it affects performance and confuses the other guy .. but I'm curious if *properly configured* IPSEC similarly suffers.
Michael Holstein
Cleveland State University
PS: Jacob, thank-you as always for everything you do.

@_date: 2015-01-05 19:51:54
@_author: Michael O Holstein 
@_subject: [tor-talk] How much of SSL CA protected traffic is read by NSA 
Check out Moxie Marlinspike's "Convergence.IO" project :
Michael Holstein
Cleveland State University

@_date: 2015-01-19 19:51:59
@_author: Michael O Holstein 
@_subject: [tor-talk] foxnews blockade 
not just you .. the 404 is 403 :
 You don't have permission to access " on this server.
They probably figured their target audience is lucky their trailer park permits DVB dishes, and that anyone using TOR to get there was going to SQL inject some truthiness.
Sent: Monday, January 19, 2015 2:46 PM
I've configured a squid/privoxy/tor setup and have been testing.  I'm
unable to visit  ....Access Denied but foxnews isn't listed
in the ListofServicesBlockingTor.  Is this just me and a misconfigured
setup or are other people getting the same problem
tor-talk mailing list - tor-talk at lists.torproject.org
To unsubscribe or change other settings go to

@_date: 2015-01-23 18:02:35
@_author: Michael O Holstein 
@_subject: [tor-talk] Blockchain down. 
That "quota exceeded" message just sounds like somebody went over the limit on their vhost someplace.
probably figured that traffic to localhost (via tor) didn't count but they were apparently wrong.
my take anyway ..
Sent: Friday, January 23, 2015 1:00 PM
Is that common behavior - blocking Tor users from the normal site if
they have a .onion?
Seems like not the most user friendly design decison.
Greg Norcie (gnorcie at indiana.edu)
PhD Student, Security Informatics
Indiana University
tor-talk mailing list - tor-talk at lists.torproject.org
To unsubscribe or change other settings go to
