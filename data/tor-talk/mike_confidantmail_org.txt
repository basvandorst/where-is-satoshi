
@_date: 2015-02-02 18:57:16
@_author: Mike Ingle 
@_subject: [tor-talk] New Tor-based private mail system: Confidant Mail 
Confidant Mail is a new cryptographic email system based on GPG and TLS 1.2 with ephemeral keys. It has built-in support for Tor hidden service anonymity. You can send and receive files of unlimited length (>4GB) using BitTorrent-like blocking, and people without Tor can communicate with Tor anonymous users. All messages are signed and encrypted, and delivery is confirmed automatically. You can use your existing email The software is available for Windows, Linux, and MacOS. It is open source. There is a pair of servers available, so you can start using it immediately. You can also run your own servers, optionally as a hidden If you want a better secure and anonymous mail system, this is it. Please set up an account and try out the software.
Mike Ingle

@_date: 2015-02-03 11:33:24
@_author: Mike Ingle 
@_subject: [tor-talk] Confidant Mail 
That string is indeed a key. The format is Name  keyid
and you can search for either the name or the keyid to find someone's key. If you search for the keyid
you know you have the right key. If you search for the name, you have to verify the keyid somehow.
I don't have HTTPS because there is nothing secret on the site, and because I don't place much trust in it.
The keyid in the announce posting has signed the code signing key, and the code signing key has signed
all the binaries, so you can validate the code integrity.
The commented-out code is mostly debug output and some test drivers. There was another separate test driver
which is not part of the release. I left that in for now in case I need to test something; it will be removed eventually.
The code has been tested quite a bit on Windows and Linux, including Tor and I2P.
The program is written in Python, which is an interpreted language with counted strings, so concatenating
strings is not a dangerous operation. There are functions to validate the blocks using regular expressions.
There is also an option to open untrusted messages text-only.
The security is done using GPG, not in the Python code. The client also does not accept incoming connections.
It's already being used to exchange large files and works fine. Yes it is beta software, but it is already more
secure than most conventional email.
MacOS binary package is close to working.
Mike Ingle

@_date: 2015-02-03 18:27:58
@_author: Mike Ingle 
@_subject: [tor-talk] "Confidant Mail" 
Non-www A record is added, and should show up soon.
As far as HTTPS:
The NSA has the ability to get into Amazon EC2 and mess with files too, no doubt.
And they have a variety of compromised HTTPS CA certs they could use to If they wanted to do that they could, HTTPS or no. If they did it on a large scale,
they would likely get caught, so they would only do such things if they were after a
specific high value target. Hopefully you are not on their short list.
I think it's silly that a self-signed HTTPS is treated as less secure than an HTTP by
the browsers. "Secure against a passive adversary" is better than "wide Did the cert authorities have a hand in that?
Please check the GPG signatures on the executables and source code before installing.
The GPG private key is not kept on the server (unlike a SSL private key).
pub   2048R/038D4412 2015-01-23
      Key fingerprint = 3C9A 0C66 1050 1265 D2AD  9D23 5903 FD94 038D 4412
uid                  Confidant Mail code signing key sub   2048R/55D88C4E 2015-01-23
pub   2048R/ECFCD0C2 2015-01-23
      Key fingerprint = D2B8 9E6F 95E7 2E26 E0C9  17D0 2D18 47DF ECFC D0C2
uid                  Mike Ingle People who are interested in testing, please set up an account and email me. The test servers
have Tor hidden service entries, so you can try out anonymous mode.

@_date: 2015-02-03 18:39:22
@_author: Mike Ingle 
@_subject: [tor-talk] "Confidant Mail" 
That is an interesting point. Thinking this through in the game theory Spooks' choice:
1: never mess with Tor downloads
2: mess with Tor downloads in rare cases of high value targets (where a selector like IP or cookie matches)
3: frequently mess with Tor downloads
Effect of 1: they get no intel.
Effect of 2: they get high value intel, and are unlikely to get caught.
Effect of 3: someone eventually verifies a download, finds out it's poisoned, and tells the world.
People become much more careful in checking downloads. Especially people who have reason
to be paranoid. They get less high value intel than with choice 2.
I think that's why such things are rarely seen even though we know they can do it.
I have checked Tails sigs a few times, but am not always religious about it. So far have
never found a mismatch.
I should probably put this up on github or sourceforge or something with HTTPS downloads, as
well as hosting it locally. More options are better.

@_date: 2015-02-03 22:22:14
@_author: Mike Ingle 
@_subject: [tor-talk] "Confidant Mail" 
SSL: I get it, a lot of people think I should have SSL support on the website. I will look into it.
Until then (and even after) check the sigs. Nuff said.
 >Back to Confidant Mail: interesting project, kind of reminds me of
 >BitMessage, though it seems to be more usable (by far).
I looked at those and they look like pure "privacy nerd toys." Which is fine
for what it's worth. I am trying to walk the line between serious business tool
(replacement for dropbox and various commercial secure email) and privacy toy.
That is why I have things like server pairing for high availability, and DNS key lookup.
You can also forward a message with the signature, and the recipient of the
forward just clicks a button to verify the original sender's signature.
 >Might be interesting to see how it might be linked to something like
 >Syncthing[1]
 >
 >Just one thought: as it uses UDP, *traffic* won't go through Tor, right?
The UDP is used for server to server peer to peer network, mostly for key distribution. Keys can
also be distributed via DNS without any need for peer to peer.
The client to server communication is TLS encrypted TCP and that will definitely go over Tor or I2P.
Support for both is built in. The server to server communication also works over Tor or I2P.
Several models are possible:
client -> Tor -> hidden service -> public server
client -> Tor -> exit node -> public server
client -> private server -> Tor -> public server (hidden or exit)
You can do true peer to peer mail by hosting your own server (even on your laptop.)
Entangled (peer to peer) accounts have limited message size. Server accounts can email large videos, DVD images, etc.
There is a blocking protocol like Bittorrent. Biggest thing I have tested was 10 GB. Took a while but worked fine.
Suppose a non tech reporter wants to interview an anonymous source. The reporter who has no Tor client can send a message via her commercial service provider. Her provider's server sends through a Tor hidden service to some other server, which the anonymous source accesses via his own Tor client. This protocol lets "normal people" and anonymous techies freely communicate for the first time.
Once there are commercial service providers up, anyone will be able to pay a few bucks and get online immediately.
At the moment there is one free service provider (mine) which you can also join immediately and start testing.

@_date: 2015-02-07 02:47:27
@_author: Mike Ingle 
@_subject: [tor-talk] Confidant Mail binaries for TAILS and MacOS 
Confidant Mail 0.20 is available at No major functional changes, but there are ready to run binaries for TAILS Live CD 1.2.3 and MacOS 10.9
Confidant Mail is an encrypted, and optionally Tor-anonymized, email system supporting large file transfers.
Mike Ingle

@_date: 2015-02-13 00:29:39
@_author: Mike Ingle 
@_subject: [tor-talk] Hidden Service (Nginx) setup guide 
Setting up the hidden service itself is easy.
Steps 1 thru 97 are "set up your website and get it working and secured."
Step 98: add a few lines to your torrc, possibly set some directory Step 99: restart Tor, get your hidden service address.
Step 100: test using Tails.
The hard part is preventing the services from leaking your real IP address. Most blogs,
forums, etc. can be made to leak.
Here is an interesting procedure to develop and document. I played with this a bit last year:
You can set up a virtual machine configuration, using KVM or similar, so that the webserver
machine has no public Internet address and could not leak your identity if it wanted to.
I had one VM with the Tor client. It had a public IP address and a 'socket' interface, which is a
phony Ethernet that connects to a socket on the host machine. The VM was not set to route
(ip_forward=0), but a hidden service was set up to forward traffic to the web VM over the
socket interface.
The other VM, running Apache, had only a socket interface, connected to the Tor VM's socket
interface. The Apache VM had no outside Internet access, and there was nothing it could get to
on the Tor VM.
With a setup like this, even if someone gets a shell on the webserver VM, he cannot do anything.
He has no way to get out, and therefore cannot locate your server. If you want to be more
paranoid, you can have a process on the host machine watching for strange packets coming from
the web VM, ready to shut it down the moment it gets hacked.
You can have a second administrative hidden service for ssh access. With a few automatic service
check and restart scripts, a machine set up this way could run for several years with no physical
attention and no non-Tor access. It would be the ideal way to run a hidden service.

@_date: 2015-03-02 11:19:08
@_author: Mike Ingle 
@_subject: [tor-talk] Fixing the problem of sending email from Tor: Proof 
That email system, with built in Tor support and proof of work based anti-spam, has already been built.
Get it here:
Mike Ingle  d2b89e6f95e72e26e0c917d02d1847dfecfcd0c2

@_date: 2015-03-02 14:44:55
@_author: Mike Ingle 
@_subject: [tor-talk] Fixing the problem of sending email from Tor: Proof 
He was talking about using a proof of work for anti-spam purposes.
That requires support at both ends. Encryption and signatures also require support at both ends.
For all those reasons I think that secure and anonymous email needs a new protocol. It should
not be patched onto SMTP. People have been trying to do that for 20 years and secure email is
still rare.
Confidant Mail also has a listserv, so you can run a mailing list behind Tor with it. The users have
to download the software, but that's true of any secure mail option, and mine is easy to set up on
the client side.

@_date: 2015-03-05 13:16:12
@_author: Mike Ingle 
@_subject: [tor-talk] New Tor-based private mail system: Confidant Mail 
HTTPS is now installed on the site. New version is up for download.

@_date: 2015-05-10 15:38:39
@_author: Mike Ingle 
@_subject: [tor-talk] send email through the Tor network 
No. Your HTTP session will go through Tor, but the email will be sent unencrypted over the Internet, unless you encrypted it yourself. If you use a webmail identity that is not traceable to your real name (you signed up for the account via Tor Browser without giving any real info) you will have some measure of anonymity.
If you want to send encrypted and anonymous email using webmail, you have to use GPG to encrypt the mail, access the webmail via Tor, and attach the encrypted GPG message. The recipient has to save out the GPG message and decrypt it. Ideally use Tails so your Tor activity is entirely separate from your regular web browsing. Yes, this is a pain.
I'm working on a new private email protocol that specifically supports sending over Tor. If you want to try it:

@_date: 2015-05-26 17:50:40
@_author: Mike Ingle 
@_subject: [tor-talk] Confidant Mail, was re:  Mailpile SMTorP 
Confidant Mail is another next-gen mail architecture worth a look. You can access
servers directly, via exit node, via hidden service, or via I2P. You can have your mail
hosted on your own server, on someone else's server, or in the Distributed Hash Table.
In the "server" case there is no limit on attachment size. You do not have to be online at
the same time as the recipient.
It's written in Python and uses PyOpenSSL and gnupg encryption. If you are looking for
next gen email over Tor, look here:

@_date: 2015-05-26 18:13:06
@_author: Mike Ingle 
@_subject: [tor-talk] Mailpile SMTorP [ref: nexgen P2P email] 
I tried out Bitmessage and it did not seem to deliver without the sender and recipient online. It's supposed to, it just didn't. Waiting for key exchange. It's also a bandwidth pig due to its broadcast nature.

@_date: 2015-05-28 20:21:08
@_author: Mike Ingle 
@_subject: [tor-talk] Mailpile SMTorP [ref: nexgen P2P email] 
I would have had to do a lot more troubleshooting before I went and complained about a bug. I was just testing it out between a couple of VMs to understand how it works and feels, because I am working with secure mail protocols and want to understand the existing ones. It worked fine with both of them up simultaneously.
This is pretty similar to receiving a Usenet feed in the old days, and downloading all the messages so as to receive a few encrypted ones. That makes for the best recipient privacy, at the cost of bandwidth. From what I can tell, Bitmessage basically automates that process. If it moved beyond the Darknet Markets crowd, success would kill it or at least require compromising the broadcast-everything rule.
The project I'm working on is intended for large file distribution, and to look-and-feel like email without the limits. It uses TLS, GPG, and optionally Tor to provide strong privacy and pretty good anonymity. I just think we need to get away from SMTP for secure communication. Bitmessage is one extreme (broadcast everything), CM is on the other (server based with no size limits) and SMTP has none of the advantages of either. It is server based, has size limits, and exposes metadata.

@_date: 2015-05-29 15:48:21
@_author: Mike Ingle 
@_subject: [tor-talk] Mailpile SMTorP [ref: nexgen P2P email] 
I'm not trying to offend anyone. I was talking about broadcast everything systems in general.
Bitmessage is a fine implementation of the broadcast everything paradigm. I'm looking for an
intermediate between broadcast everything and SMTP-over-Tor.
My proposal is essentially: servers form a DHT. Users store their keys in the DHT by key id.
The key record also has some additional metadata including where the user wants to receive
messages. For short messages, the message is stored in the DHT by its hash. Each user also
has a few hash values they check to get message announcements. Senders post an announcement
to one of those values at random. Message announcements point to message People who want to be anonymous can connect to any server over Tor, and post or request
hash values to/from the DHT. An attacker would have to have Tor compromised and also have
that particular server compromised to break someone's anonymity. It's not as anonymous as
broadcast everything, but it's better than SMTP over Tor or webmail over Using the DHT it is also possible to look up a user knowing only his email address, and then
verify the key id. And people who want to exchange big files can get an account on a server,
in which case the data is stored in 8MB blocks with no maximum size. People who need to
distribute big files pay for the server capacity, and small anonymous messages free-ride, with
a proof of work to prevent spamming.
