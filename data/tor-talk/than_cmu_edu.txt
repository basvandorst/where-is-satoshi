
@_date: 2008-01-07 17:02:34
@_author: Nathaniel Fairfield 
@_subject: Restrict relay to internet2 
I run a tor relay node (no exits) on my school's network.  Due to their bandwidth policy, I have to limit traffic to about 1 Gb per day.  Weak, I know.
HOWEVER, my school is also connected to the Abilene/Internet2 backbone, and they DON'T limit bandwidth usage over Internet2!
Internet2 is set up such that it is transparent to my computer, but I've hacked together a simple script that uses traceroute to figure out if traffic between my machine and another host is going over Internet2.
So I can scan through the directory of Tor nodes with my script, and find which ones are on I2.
The final part of my scheme would require that I be able to restrict my tor node to ONLY relay traffic to/from I2 nodes.  I can't figure out how to do this.
Anyone have an idea for how to pull this off?  It seems to me that I could do it with a lot of hairy routing rules, but this would be bad because I'd be breaking circuits all the time.

@_date: 2008-01-09 12:40:22
@_author: Nathaniel Fairfield 
@_subject: Restrict relay to internet2 
I wasn't thinking of setting up an entirely separate Tor network on
Internet2.  As I mentioned, I2 is transparent for my machine:  when I
connect to another machine (google, whatever), it will use I2 if
possible and fall back to standard internet otherwise.
So I was hoping to exploit the fact that several of the main Tor nodes
(at MIT, Harvard, etc) are on I2, and I could relay a *lot* of traffic
between such nodes.  The problem is that I need to explicitly restrict
my relay to those nodes because my standard internet access is bandwidth

@_date: 2008-01-09 12:51:18
@_author: Nathaniel Fairfield 
@_subject: Restrict relay to internet2 
Sorry, I meant to make clear that my node *is* a middleman, or what I've
been calling a relay.
And as I said in my initial email:
It would be really wasteful if nodes that are trying to make circuits
through my relay don't have any way of knowing that 90% of circuits are
going to fail (because they try to connect to an I1 node).  But maybe
thats ok, or maybe I don't understand how circuits are constructed?
