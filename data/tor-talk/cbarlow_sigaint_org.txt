
@_date: 2015-06-01 02:38:05
@_author: CJ Barlow 
@_subject: [tor-talk] [RELEASE] Raspbian guide and image for Tor nodes 
Hash: SHA256
Would you like to contribute to the Tor network by running your own relay?
This is a guide to do just that via a Raspberry Pi 2.
This guide is intended to cover the set up in detail from start-to-finish
but, as always, will need to be tweaked with community feedback.
In an attempt to make this as plug-and-play as possible I fully prepared
an image[1] while writing this guide. This image was tested on my
Raspberry Pi 2.
TL;DR: Download the image file, copy it to your Raspberry Pi 2 MicroSDHC
card and run a relay.
You can use either dd[2] or Win32 Disk Imager[3] to write the image to
your MicroSDHC card. Alternatively, you can follow these instructions to
tweak the official Raspbian image[4].
*I do not have any experience with a headless set up. Additional
help/corrections, especially to the SSH part of the guide are
Equipment needed:
- - Raspberry Pi 2
- - Ethernet cable
- - 4GB Class 10 (or higher) MicroSDHC card. A 16GB card is recommended.
- - Power supply with at least 2A output.
Some nice-to-have but optional equipment:
- - Case
- - Heatsinks
Step 1:
be sure to seed it.
Step 2:
power it on.
etc.) and user password:
Raspberry Pi 2.
Step 3a:
functionality is working.
outside. Excellent. Publishing server descriptor.
outside. Excellent.
the end of the document.
nickname line in torrc with:
change it to. For example:
Step 3b (SSH usage)[7][8]:
This will make SSHing to it easier.
Step 3c:
Raspberry Pi 2.
basis with:
line 7 and put:
comments for this guide):
functionality is working.
outside. Excellent. Publishing server descriptor.
outside. Excellent.
THANK YOU for running a relay! :-)
Relay Fingerprint backup:
Because the Fingerprint is contained on a RAM Drive it is erased in the
event of a power loss (due to shut down, reboot, etc). This makes your
Relay appear as "new" each time.
To maintain a steady relay back up the fingerprint to a USB flash drive
with the following commands:
First, make a directory to mount the drive to:
If it is the only drive connected and formatted to FAT32 use:
If it is formatted to NTFS you will need to install ntfs-3g first:
Then mount it with:
To access the RAM drive you need to be root (sudo):
Browse to the Fingerprint location:
Copy the "secret_id_key", which is the fingerprint, to your flash drive.
Rename it something memorable like "tor_fingerprint".
Invert the copy (cp) command to restore it.
If you do not see "Self-testing indicates your ORPort is reachable from
the outside. Excellent." in the notices log you will need to check that
your port is forwarded correctly in your router.
If your port forwarding is correct but the ORPort is still unreachable you
may need a Dynamic DNS. The Dynamic DNS address will be put in the Address
line in torrc.
See footnote 13 for a example on setting up a Dynamic DNS.
Extra info:
To safely shut down the system use:
If Bandwidth accounting is *enabled* the DirPort is automatically disabled.
Tor uses TCP ports, the UDP ports do *not* need to be forwarded.
OS modifications for my images:
void the warranty![12]
Ookla Global Broadband upload speeds, respectively.
first day of the month.
[3] [4] [5] [6] [8] [9] [10] [11]
