
@_date: 2004-12-21 23:01:21
@_author: Janne Snabb 
@_subject: Tor a Virus? 
Hi Nick,
One other possible scenario that you didn't list:
5. Maybe someone with a black hat has made a kit containing some
remote exploit tools combined with specially configured tor, which
probably uses its own network (instead of connecting to the public
network we are part of) and allows connecting to SMTP port. They
could be running the exploit to install their custom configured
tor. They could then use their tor network to launch other kinds
of attacks or to spam. One of the victims with an infected computer
could have contacted her preferred AV vendor who has then added tor
to their virus signature files without bothering to figure out what
tor really is (not malware).

@_date: 2005-02-03 00:30:13
@_author: Janne Snabb 
@_subject: Tor Network response slowing to zero 
I have noticed the same thing as well. Few weeks ago the network
was amazingly fast, but nowadays transfers are slow and connections
time out often.
My speculation is that this is a combination of three different
factors which all affect the network simultaneously:
1) The network usage has gone clearly up. This has triggered the
two other problems (which used to be there even before, but they
didn't manifest themselves because the network load was so low
compared to the available resources). This wouldn't be a problem
if the infrastructure scales well and some of the users contribute
more servers instead of just becoming end-users.
2) The file descriptor limit issue (see Roger's post on 28th Jan).
3) Introduction of low-bandwidth (*DSL) servers which are not set
up to throttle the bandwidth usage appropriately. This creates too
much traffic to completely saturate those low-speed links occasionally
and that leads to massive packet loss. And we know how TCP handles
packet loss greater than a couple of percent: not very well (makes
everything in the end stuck due to re-transmissions and recovery
The default torrc template does not include sample entries nor any
explanations for "BandwidthRate" nor "BandwidthBurst". Also the
installation documentation does not even mention setting these up
properly for low-speed links.
I had initially set the "BandwidthRate" (which I doubt most people
do) to a reasonable level compared to my available uplink bandwidth.
But I still noticed some times massive packet loss. After investigating
I realized that the default value for "BandwidthBurst" is so high
that it takes ages on a low-speed link for the bandwidth throttling
to kick in. I added a very tight value ("100 KB" instead of the
default "48 MB"). I haven't seen any packet loss after that.
According to the Tor FAQ 4.8 bandwidth throttling isn't really
needed, but instead:
   "Tor will automatically detect a lower capacity and scale back
   the attention you get from Tor clients."
... but I do not fully agree with this based on my experiences.
It only takes one saturated link within the tor cloud between the
user and the destination web (or whatever) server to mess things
up. This is not very unlikely, because there are lots of potentially
saturated communications links per one connection (as there are
multiple hops in each tor circuit).
Any other thoughts?

@_date: 2005-02-01 19:53:39
@_author: Janne Snabb 
@_subject: SORBS blacklisting tor servers 
Just to let everyone know...
I noticed that SORBS (yet another DNS based spam prevention blacklist)
has blacklisted several (all?) tor servers. Their web site is at:
   They are listing the following additional information in the database
for all blacklisted tor servers:
   Likely Trojaned Machine, host running unknown trojan
When using their quite nice de-listing interface to look up evidence
of abuse, the system just tells that I do not have permission to
look up the evidence... smells fishy.

@_date: 2005-03-11 13:04:14
@_author: Janne Snabb 
@_subject: reconsidering default exit policy 
IMHO it does not make any sense to add any netblocks which are
likely to be assigned to real people in near future to the hard-coded
list in the source code. People will have trouble connecting to
these IPs, because you can not except every tor server operator to
update the list when IANA makes an announcement about a new allocation
to ARIN/RIPE/APNIC.
This is already a problem with router & firewall configurations
even though folks maintaining those are supposed to keep track of
new IP allocations in case they have bogon IP filters. But in reality
it does not work because people are lazy (or the person who implemented
the bogon filter might have left the company or whatever). This is
happening with many recent IP assignments and causes connectivity
problems. For example 71/8 and 72/8 were allocated to ARIN in Aug
2004 and I suppose 73/8 (which you list) will come next.
So, unless there is a very strong reason to block these ranges, I
suggest not. There shouldn't be any strong reason to do so because
people are not supposed to be currently using these IP blocks for
anything within their infrastructure anyway (unlike RFC1918 addresses
OTOH it does make sense to block multicast range (224.0.0.0/4) which
is missing from your list, because it is in active use and can not
be used for unicast addressing any more. The same applies to some
other special-use IP address blocks, as listed in RFC 3330.
