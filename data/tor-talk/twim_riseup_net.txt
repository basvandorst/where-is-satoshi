
@_date: 2015-06-25 14:13:01
@_author: Ivan Markin 
@_subject: [tor-talk] Tor birdy fails downloading public keys. 
Sophie Hassfurther:
You can also use this workaround:
3) Near selected message: "Details" dropdown -> "Enigmail Security Info
..." -> copy keyid from an alert window ->
'$ torsocks gpg --recv-key KEYID'.
Also you can specify keyserver via `--keyserver` option.

@_date: 2015-11-04 20:44:36
@_author: Ivan Markin 
@_subject: [tor-talk] traceroute from Rossia, ROSTELECOM 
Vladimir Teplouhov:
Google has a lot of them. For instance, this is a DNS query from some
random Tor exit node:
[0]~ $ torsocks host -T google.com 8.8.8.8
Using domain server:
Name: 8.8.8.8
Address: 8.8.8.8
google.com has address 74.125.226.36
google.com has address 74.125.226.32
google.com has address 74.125.226.33
google.com has address 74.125.226.35
google.com has address 74.125.226.37
google.com has address 74.125.226.40
google.com has address 74.125.226.34
google.com has address 74.125.226.38
google.com has address 74.125.226.39
google.com has address 74.125.226.46
google.com has address 74.125.226.41
google.com has IPv6 address 2607:f8b0:4006:807::100e
As grarpamp said before there is a GeoDNS.
But why should you care about underlying IP address if you use TLS for
each connection with Google?
And btw, why don't you use Tor for that if you don't like your ISP's
throttling and other nasty stuff? (you're already at tor-talk! :) )

@_date: 2015-11-20 22:24:12
@_author: Ivan Markin 
@_subject: [tor-talk] Islamic State 
Terrence Gordon:
Fight for and not against.
Fight for HR, inform yourself and others about HR and their violations.
Speak up and listen. And let others to do so.
And yeah, try not to be terrorized. Also try not to become ISISv2
fighting against ISISv1.
Good luck!
Ivan Markin

@_date: 2015-11-20 22:33:59
@_author: Ivan Markin 
@_subject: [tor-talk] MITM attack on TLS 
Justin Davis:
Be twice (or more) careful if someone have access to your computer in
such way. They can even dump _anything_ that you're looking via Tor. For
instance, they can sniff SOCKS5 TBB<->tor connection.
In other case just delete malicious CA certs (if you have these

@_date: 2015-11-20 22:53:27
@_author: Ivan Markin 
@_subject: [tor-talk] MITM attack on TLS 
Funny! I mean that you're already have no TLS, because actual TLS is
terminated at your ITDep. You should remove these CAs - you have nothing
to lose!
When TLS is blocked (looks too problematically when it comes to the
reasons of this censorship, but possible) try another Pluggable Transport.

@_date: 2015-11-20 23:35:34
@_author: Ivan Markin 
@_subject: [tor-talk] MITM attack on TLS 
Or they _already_ can fingerprint Tor TLS (too easy) because they're
terminating TLS (meek in this case). And then fire you for using Tor.

@_date: 2015-11-21 10:14:59
@_author: Ivan Markin 
@_subject: [tor-talk] MITM attack on TLS 
Nope, not good enough. Actually it is _regular_ Tor connection. It is
just encapsulated into HTTP (without TLS in your case) and easily
detectable with tools like tcpflow.
Try to use PTs other than meek like obfs4/ScrambleSuit.

@_date: 2015-11-21 23:26:24
@_author: Ivan Markin 
@_subject: [tor-talk] MITM attack on TLS 
Dangerous! What will happen if they overcome their laziness?
If they already created CA cert and even deployed it in some way there
is no hope that laziest admin do not just save all the stuff you do (and
not MitM-ing TLS). They can and use it against you later.
Does it matter which TLS to MitM if they have CA in your computer
already installed?
I recommend to switch now, meek doesn't work in this case as it's
supposed to. But it's all about your threat model and up to you.

@_date: 2015-11-22 00:04:22
@_author: Ivan Markin 
@_subject: [tor-talk] MITM attack on TLS 
Not much. I'm pretty sure that lag would not be even perceptible. When
I'm using Tor my traffic encrypts so many times... I haven't noticed any
significant visible slowdown.
Ciphers are pretty fast now. AES is even in hardware [see AES-NI].
If TLS is broken via CA cert then it's broken (no matter which).

@_date: 2015-11-24 13:38:13
@_author: Ivan Markin 
@_subject: [tor-talk] Russia actually kind of cracked (?) Tor 
Anton Nesterov:
Probably it is made to create a case that "we can do this". Or maybe it
was just a test.
It looks like the most obvious way to crack Tor _right now_ and
_forever_ at low price is to perform a country-scale traffic
confirmation attack. Russia already has capability to do so. It's called
SORM. With this contract they possibly want to "do math" and simply make
it all work.

@_date: 2015-11-25 15:38:18
@_author: Ivan Markin 
@_subject: [tor-talk] ru news 
To correlate Tor traffic you do not need to control any node. What you
need is to control traffic that runs between these nodes and clients
(links). In case of this passive attack no attacker "fails".

@_date: 2015-11-27 13:14:21
@_author: Ivan Markin 
@_subject: [tor-talk] Russia actually kind of cracked (?) Tor 
????? ???????:
????? ?? ?????? ??? ???????. ???????? ??????? ????? ?????? ???? ? ??????
- ??? ????? ??????????, ? ?? ?? ?? ???????/?? ???????????.
? ??? ??? ?????, ?????? ??? ??? ???????? ?? ?????????? ?????? ???
??????. ??? ????? ????????, ??????? ??????? ?????????? ???? ?? ?? ?????.
?????? ??? ?????? ??????. ??? ?????? ???????? ?????????.
? ??? ????? ???? ?? ?????, ?? ? ??????? ?? ??? ?????????????????
?????/??????. ?????? ????????, ??? ?? ? ?????? ?? ?????? ? ??? ??? ????????.

@_date: 2015-09-19 05:48:34
@_author: Ivan Markin 
@_subject: [tor-talk] p2p(skype and other VOIP) blocked in .UZ 
There are some news:
1. VPN is blocked. Because of this a scandal started...
2. VISA cards stopped working.
Vladimir Teplouhov:
Do you have some details? Is it true that most of the traffic is routed
though Russia?
???? ?????-?????? ???????????? ????????????? ?? ??????????? ??????? ????
????? ???????

@_date: 2016-04-12 01:21:46
@_author: Ivan Markin 
@_subject: [tor-talk] How to show speed of one's Tor network. 
blobby at openmailbox.org:
Sure. There is a beautiful Tor monitor called Nyx (previously arm) [1].
[1]

@_date: 2016-08-18 03:55:00
@_author: Ivan Markin 
@_subject: [tor-talk] New Pluggable Transports 
Hi Justin,
David Fifield:
Have you managed to identify the mechanism of obfs4 detection? Or at
least to go around DPI boxes with obfs4?
It's simpler to defeat detection rather than deploying new PTs. Anyway
we need improvements in both directions.
Ivan Markin

@_date: 2016-08-18 16:34:00
@_author: Ivan Markin 
@_subject: [tor-talk] New Pluggable Transports 
Yes, I do know about basket2, etc etc. But it's curious what weaknesses
of obfs4 lead to its detection in real DPI boxes.
Ivan Markin

@_date: 2016-08-21 22:13:00
@_author: Ivan Markin 
@_subject: [tor-talk] New Pluggable Transports 
For sure it should be "
Can you please point out to the paper you've mentioned?
Ivan Markin

@_date: 2016-08-30 01:59:00
@_author: Ivan Markin 
@_subject: [tor-talk] Any risk by showing traffic statistic on the 
kristian at ovpn.se:
For me it doesn't sound safe if you're going to update data with 5m
interval. E.g. see ticket  [1].
How about embedding/redirecting to the Atlas page or writing your custom
plotter/page that fetches data from Onionoo? It should be safe since
this data is collected in a way to preserve anonymity of Tor users. If
it doesn't prevent anonymity degradation it can be fixed. And when it
got fixed I is fixed for everybody.
I'm sure it's not a good idea to do your own statistics and you should
rely on what tor collects.
[1] Ivan Markin

@_date: 2016-12-17 18:21:00
@_author: Ivan Markin 
@_subject: [tor-talk] Multiple 404 ("Not found") when trying to fetch 
Dimitar Milkov:
Why are you sure that these are "certificates of authorities"? It seems
that this is just a fingerprint of a relay that is not in consensus
anymore and thus relays don't have the cert for it to serve over either
DirPort or begindir. But your client still has it (somehow).
This it really old. I'm curious about what are reasons behind it.
Please don't run relays on that old versions.
Ivan Markin

@_date: 2016-12-21 19:21:00
@_author: Ivan Markin 
@_subject: [tor-talk] privacy of hidden services 
Yes, HSDirs can do this since they are in position of storing and
service HS descs. Some of them are actually trying to do this for
specific HSes by bruteforcing their fingerprints to get into right place
in the hash ring (this should become infeasible after shared randomness
Also your Introduction Points are able to connect to your service and
probably figure out your .onion address (i.e. based on application data).
So yes, ideally encrypt your Introduction Points (basic) and obfuscate
identity keys (stealth) [this also encrypts sets of IPs]. Non-ideally,
use random slugs in URLs as OnionShare does (if you're doing web).
Many of these problems should be gone after prop224 got implemented.
Ivan Markin

@_date: 2016-12-23 00:03:00
@_author: Ivan Markin 
@_subject: [tor-talk] Not comfortable with the new single-hop system 
David Goulet:
Hmm.. Despite our trust in others and belief in ourselves we are still
humans[*] and we still do mistakes. Saying something like "we catch bugs
fast enough and we don't produce many of them, one should trust us" is
not a solution for having less exploitable in future. I'm trying my best
at writing safe code. But I do know that there are plenty of bugs out
there. I hope to have none but I should be prepared to have many.
I agree with Hikki, isolating this *really dangerous* feature seems so
reasonable. Sure, there are also some unknown bugs somewhere else in
code, but keep in mind that they're spread over the code so they likely
[1] won't result in serious damage. In case of single onion services
there are so many places in the code that if something goes wrong here
the client is just plain naked explicitly.
Yes, it may seem like bikeshedding. Yes, maybe it's just some of us who
feel uncomfortable with this. But also worth noting that most of the
option checks (including SOS code) in little-t-tor are not written in
bitflip-safe manner [2][3]. So flipping of one (!) bit in the right
place of memory makes tor useless. Not just degradation of anonymity.
Just no anonymity at all.
And I'm sure that this is not the only problem that is out there. Let's
not put everything into one basket (like e.g. OpenSSL does).
Personally I think the safest option here is to enable SOS code at
compilation time (there was a discussion long ago, so it's unlikely to
have this). Alec said that it would be complicated to manage separate
versions of this. I don't think so. If one wants to run a SOS they
should know what they're doing and thus install right packages.
Another branch would be messy and hard to catch up with "upstream".
[*] Other species/AI are also welcome.
[1] Most of them.
[2] E.g. RowHammer or plain stupid bitflips of non-ECC RAM.
[3] I'm not just complaining. I'm happy to fix this if I had more time.
Ivan Markin

@_date: 2016-12-23 02:01:00
@_author: Ivan Markin 
@_subject: [tor-talk] Massive Bandwidth Onion Services 
Alec Muffett:
You'll have to do this after prop224 because of onion key
cross-certifications, so fancy plain OnionBalance "renaming" won't work
(HSDir system is unidirectional).
I agree with George, this is not good to upload so many descriptors and
building so many useless circuits. Using backchannels is much more
effective and simple [1]. If you want to retain nice "hole punching"
feature of tor why not just use backchannel onion service (one per
cluster) for this? (Donncha actually mentioned this in the docs).
It may be fun today but tomorrow it won't work.
[1] Not now since they're not implemented. :)
Ivan Markin

@_date: 2016-12-23 02:23:00
@_author: Ivan Markin 
@_subject: [tor-talk] Intel ME / AMT + NSL vs Tor Nodes 
They won't deliberately add backdoor whatsoever. This is just a
proprietary hypervisor:
Roman Mamedov:
And it has bugs that can be exploited. Remotely. By anyone (there is no
such a thing as NOBUS). If they're exploited then *ALL* your
firewalls/sandboxes/whatever are meaningless. This won't seize to be a
problem if you focus on other problems. Both should be solved.
Ivan Markin

@_date: 2016-12-23 22:12:00
@_author: Ivan Markin 
@_subject: [tor-talk] privacy of hidden services 
Yes, this is correct. Some remarks:
Not just "tie". It stores descriptors in which public key is set
explicitly (HSDir checks the signatures).
Intro Point don't have an onion address per se (passive attacker). So
this should be rather
"Intro point can track HS connection attempts but only relate them to
the ephemeral service key for the duration of the key."
An IP should connect back to the service (using onion-key) to _maybe_
find out onion address, or fetch known descriptors and look there for
Ivan Markin

@_date: 2016-06-12 21:26:38
@_author: Ivan Markin 
@_subject: [tor-talk] 2 hop mode for people that only want to use Tor for 
Roman Mamedov:
I guess you do. A censor can just block all the exit nodes (the Tor
network has hardly 1000 exits). It is not going to help you. It's worth
to separate bridges and exits so you will be able to replace bridges
(which have much lower half-life than exits).
torrio888 at net.hr:
IMHO the best long-term solution is to improve overall latency/bandwidth
of the Tor network. So noone should ever concern about circuit length
(and make awful mistakes) and everyone get anonymity by default.
Ivan Markin

@_date: 2016-06-12 21:46:11
@_author: Ivan Markin 
@_subject: [tor-talk] 2 hop mode for people that only want to use Tor for 
T F:
1. It does nothing to circumvent censorship.
2. It's not that hard to separate traffic originating from you and exit
traffic from the Tor network.
3. This setup is not anonymous since all your traffic exits from one IP.
4. Note about secondary liability in your local legal code before
running an exit node.
Ivan Markin

@_date: 2016-06-13 19:42:42
@_author: Ivan Markin 
@_subject: [tor-talk] State of IPv6 in Tor 
You can track current status of IPv6 support here [1].
[1] Ivan Markin

@_date: 2016-06-13 19:51:03
@_author: Ivan Markin 
@_subject: [tor-talk] 2 hop mode for people that only want to use Tor for 
me at beroal.in.ua:
Yeap, you can specify an ExitPolicy for your bridge but it will be
useless for everyone except attackers. Anyway such a relay will not be
in consensus (public) --> no Exit flag --> clients will not be able to
exit through this relay*.
* Without torrc/code modifications.
Ivan Markin

@_date: 2016-06-13 20:34:34
@_author: Ivan Markin 
@_subject: [tor-talk] 2 hop mode for people that only want to use Tor for 
Greg Norcie:
Of course VPNs will have lower latency than Tor anyways. The point is
that there should be the moment when the lantency advance doesn't matter
anymore (the difference is negligible). When this will happen there is
no reason to use VPN for general user. We definetely can get there using
faster crypto on faster crypto-accelerated/parallell hardware.
Ivan Markin

@_date: 2016-06-13 21:12:20
@_author: Ivan Markin 
@_subject: [tor-talk] 2 hop mode for people that only want to use Tor for 
Nathan Freitas:
Huh, it's true. I've noticed that Tor performs way better than clearnet
connections over bad/faulty networks (mostly wireless ones). In case of
packet loss, routing failures, DNS outage, bandwidth trottling etc Tor
actually solves these problems magically.
Ivan Markin

@_date: 2016-05-26 00:32:36
@_author: Ivan Markin 
@_subject: [tor-talk] Tor Sensorship 
I guess that there is a correllation between "number of relays" and
"number of Internet users" (just realized that real numbers can tell a
lot more that we "know"). Because if someone is censoring Tor then they
should censor vanilla Tor connections. Since Tor relays talk to each
other over vanilla Tor TLS there is no way to run a relay (not a bridge)
I'm aware of Belarus and it clearly visible, e.g. on OnionMap.
[1] Ivan Markin

@_date: 2017-01-08 01:08:00
@_author: Ivan Markin 
@_subject: [tor-talk] Why Tor can't connect? 
Jason Long:
This. Set the correct time (e.g. via NTP aka "network time"). Consult
your OS documentation on how to do so.
Ivan Markin

@_date: 2017-01-19 06:44:00
@_author: Ivan Markin 
@_subject: [tor-talk] Compiling tor: use of --with-zlib-dir 
Yes, it is. `--with-zlib-dir` works only if either
`--enable-static-zlib` or `--enable-static-tor` is set. This options are
meant to be for solely for *static* linking.
For dynamic linking you may want to tune LDFLAGS variable or `--libdir`
Ivan Markin

@_date: 2017-01-19 07:06:00
@_author: Ivan Markin 
@_subject: [tor-talk] Tor transparent proxy -> strange behavior regarding 
radio_24 at chscene.ch:
Can you check whether Firefox sends actual DNS requests? If it does then
what response it gets (e.g. via tcpdump/wireshark)? What server replies
to the requests?
Also check whether DNS settings are not overridden in your OS/browser
(e.g. by DHCP).
Ivan Markin

@_date: 2017-01-19 12:18:00
@_author: Ivan Markin 
@_subject: [tor-talk] Tor transparent proxy -> strange behavior regarding 
Paul Syverson:
Sure. To go around RFC 7686 OP has already disabled it:
And it still doesn't work.
I guess the OP is already aware of all of the downsides of Transparent
Ivan Markin

@_date: 2017-01-21 09:36:00
@_author: Ivan Markin 
@_subject: [tor-talk] Tor transparent proxy -> strange behavior regarding 
radio_24 at chscene.ch:
I tried disabling blockDotOnion in Firefox 50.0.1 and it works as
expected: I can see DNS requests to the server from resolv.conf. As long
as you have Chrome working correctly, I can say that OS isn't a problem
here. It's likely Firefox/Safari themselves.
Can you run Firefox with a new clean profile (-P option; don't know how
it works on macOS) and see if it still doesn't issue any DNS requests on
dotonions (with blockDotOnion = false).
Probably Safari has also got implementation for RFC 7686 but I don't
know whether it's possible to go around it.
Ivan Markin

@_date: 2017-03-04 13:02:14
@_author: Ivan Markin 
@_subject: [tor-talk] State of bad relays (March 2017) 
The threat model of exit nodes is that they *do capture all of the traffic*.
I don't see the point of looking for some evidence that they do that.
You can only detect whether they exploiting gathered data or not; you
cannot differentiate on the internet who's doing bad stuff - whether
it's relay or any upstream provider. What relays never should do is
to intrefere with user's traffic in any way (BadExit).
Just educate the users about the threat models and use e2e encryption.
Ivan Markin

@_date: 2017-03-10 12:28:05
@_author: Ivan Markin 
@_subject: [tor-talk] exit probability 0.0000% 
"A router is called an 'Exit' iff it allows exits to at
least two of the ports 80, 443, and 6667 and allows exits to at
least one /8 address space."
So that means that your relay gets Exit flag (and thus exit probability)
only if it's able to exit as described above. Though if your realy (OR)
can exit (ExitPolicy is not set to `reject *:*`) and has no Exit flag
there may be some non-standard actors that can use your relay to exit.
tl;dr ExitPolicy == exit traffic allowed, Exit flag == (confoming) clients
can use your exit.
[1] Ivan Markin

@_date: 2017-05-26 14:45:04
@_author: Ivan Markin 
@_subject: [tor-talk] Tor 0.3.1.2-alpha is released! 
Doesn't matter much. One should check the signatures anyway...
Do we trust the CAs now? ;)
Ivan Markin
