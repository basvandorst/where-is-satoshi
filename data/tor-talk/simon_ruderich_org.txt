
@_date: 2009-08-21 12:33:39
@_author: Simon Ruderich 
@_subject: Tor/Iptables Question 
You're dropping all incoming TCP traffic! This must be switched.
And you should use conntrack (it replaces state).
    -A INPUT -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
    -A INPUT -j DROP
But I'm not sure if this is necessary at all. You could accept
all incoming traffic.
I haven't tested it so I'm not sure it will work.
Hope this helps,

@_date: 2009-09-25 02:40:06
@_author: Simon Ruderich 
@_subject: Dropped packets in 0.2.2.3-alpha, possible firewall problem 
I'm running a Tor relay on a dynamic address with the latest
version 0.2.2.3-alpha-1~~lenny+1 on Debian Lenny. After the
update to this version (was running 0.2.1.19-1~~lenny+1 before
that which didn't had the problem) my firewall drops some packets
and I'm not sure what's wrong.
This is my iptables firewall configuration (outgoing only). Tor
is running as debian-tor user. About 150KiB traffic (in and
    -A OUTPUT -m conntrack --ctstate INVALID -j DROP
    -A OUTPUT -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT
    -A OUTPUT -m owner --uid-owner debian-tor -j ACCEPT
    -A OUTPUT -o lo -j ACCEPT
    -A OUTPUT -j REJECT
I log the packets before the REJECT and that's what I'm getting
IN= OUT=eth0 SRC=192.168.2.19 DST=xxx LEN=626 TOS=0x00 PREC=0x00 TTL=64 ID=6346 DF PROTO=TCP SPT=9090 DPT=3465 WINDOW=241 RES=0x00 ACK PSH FIN URGP=0
IN= OUT=eth0 SRC=192.168.2.19 DST=xxx LEN=626 TOS=0x00 PREC=0x00 TTL=64 ID=60157 DF PROTO=TCP SPT=9090 DPT=45746 WINDOW=65535 RES=0x00 ACK PSH FIN URGP=0
IN= OUT=eth0 SRC=192.168.2.19 DST=xxx LEN=1212 TOS=0x00 PREC=0x00 TTL=64 ID=15496 DF PROTO=TCP SPT=9090 DPT=15098 WINDOW=14883 RES=0x00 ACK PSH FIN URGP=0
IN= OUT=eth0 SRC=192.168.2.19 DST=xxx LEN=1212 TOS=0x00 PREC=0x00 TTL=64 ID=48676 DF PROTO=TCP SPT=9090 DPT=45491 WINDOW=115 RES=0x00 ACK PSH FIN URGP=0
IN= OUT=eth0 SRC=192.168.2.19 DST=xxx LEN=1212 TOS=0x00 PREC=0x00 TTL=64 ID=48677 DF PROTO=TCP SPT=9090 DPT=45491 WINDOW=115 RES=0x00 ACK PSH FIN URGP=0
From what I can see from the traffic and established connections
Tor is working fine but I'm not sure if this may cause any other
Is there something wrong with my setup or is this a Tor problem
or is this normal?

@_date: 2010-03-28 01:03:23
@_author: Simon Ruderich 
@_subject: How does TOR deal with mac addresses 
If Tor is not correctly used you can still leak information
regarding your identity. See this link on the main Tor page:
Hope this helps,

@_date: 2010-03-29 07:07:11
@_author: Simon Ruderich 
@_subject: How does TOR deal with mac addresses 
Just to clarify,  you can leak DNS requests with a faulty setup
which _can_ be seen by your ISP.

@_date: 2010-10-14 17:20:58
@_author: Simon Ruderich 
@_subject: checking new email on adium 
That depends on Adium. I don't have any experience with it, so I
guess your best bet is to test it yourself (wireshark helps).

@_date: 2010-09-10 19:13:43
@_author: Simon Ruderich 
@_subject: gratuitous change blocks upgrade to 0.2.2.15-alpha :-( 
I would recommend a little script which generates the torrc file
for you using a template file with your commented nodes on
separate lines.
