
@_date: 2008-08-03 21:30:56
@_author: Erwin Lam 
@_subject: Tor 0.2.0.30 does not bootstrap when "FastFirstHopPK 0" in torrc file 
Today, I upgraded my Tor client to version 0.2.0.30 (an RPM for SUSE 10.3 obtained from the Packman repository).
Because I know something changed with respect to the format of the information supplied by the directory servers, I stopped the Tor process, removed all files from /var/lib/tor, and restarted Tor, expecting it to fetch information from the directory servers again. After one hour, there was still no information obtained from the directory servers. There was only a state file in /var/lib/tor. Using Tor was not possible. After playing around with the options in the torrc file, I was able to solve the problem by commenting out the line "FastFirstHopPK 0".
Apparently, Tor 0.2.0.30 is not able to bootstrap when the line "FastFirstHopPK 0" is in the torrc file. I wonder whether this is a bug or intended behaviour.
Erwin Lam

@_date: 2009-11-22 23:47:36
@_author: Erwin Lam 
@_subject: TLS Man-In-The-Middle Vulnerability 
Hi Nick,
Would you mind releasing that updated version a.s.a.p. Tor doesn't work here at all anymore

@_date: 2009-11-23 05:21:41
@_author: Erwin Lam 
@_subject: TLS Man-In-The-Middle Vulnerability 
Well, I am running tor v 0.2.1.20, which is the most recent version, on openSUSE 11.2 (x86_64). This is what I see in the log:
Nov 23 05:07:29.317 [notice] Tor 0.2.1.20 opening log file.
Nov 23 05:07:29.352 [notice] Parsing GEOIP file.
Nov 23 05:07:30.212 [notice] No current certificate known for authority urras; launching request.
Nov 23 05:07:30.212 [notice] Bootstrapped 5%: Connecting to directory server.
Nov 23 05:07:30.268 [notice] I learned some more directory information, but not enough to build a circuit: We have no network-status consensus.
Nov 23 05:07:30.269 [notice] No current certificate known for authority urras; launching request.
Nov 23 05:07:30.293 [notice] Bootstrapped 10%: Finishing handshake with directory server.
Nov 23 05:07:30.363 [warn] TLS error: unexpected close while renegotiating
Nov 23 05:07:30.421 [warn] TLS error: unexpected close while renegotiating
Nov 23 05:07:30.866 [warn] TLS error: unexpected close while renegotiating
Nov 23 05:08:31.090 [notice] No current certificate known for authority urras; launching request.
Nov 23 05:08:31.182 [warn] TLS error: unexpected close while renegotiating
Nov 23 05:08:31.446 [warn] TLS error: unexpected close while renegotiating
Nov 23 05:13:36.219 [notice] No current certificate known for authority urras; launching request.
Nov 23 05:13:36.344 [warn] TLS error: unexpected close while renegotiating
Nov 23 05:13:36.752 [warn] TLS error: unexpected close while renegotiating
Connection through tor is not possible.
RPM packages:

@_date: 2009-11-23 20:04:50
@_author: Erwin Lam 
@_subject: TLS Man-In-The-Middle Vulnerability 
<.... big snip ...>
Thanks, but that is like avoiding the problem. I rather see that the developers have a look at this problem.

@_date: 2009-11-25 20:56:51
@_author: Erwin Lam 
@_subject: Danish TPB DNS Blocks 
Or install a caching nameserver like djbdns, maradns or powerdns. These only query authorized nameservers.
