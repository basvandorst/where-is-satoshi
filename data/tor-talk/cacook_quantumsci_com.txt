
@_date: 2011-06-01 17:35:09
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] EFF Tor Challenge 
Although, until a Best Practices emerges for running a relay securely, I won't be running a relay at all.  We went over this in detail here recently.  The three methods I can think of have problems:
- chroot jail can be broken by a skilled cracker.
- VirtualBox VM bridged to LAN still must share the LAN class C, and could potentially monitor internal traffic.  (And please don't quibble with me calling it a class C... they have to make up a name and stick with it.  I still call Nissan's a Datsun)
- VPN to router, most routers do not have VPN functionality, only the business-class like ProSafe.
Until Best Practices are defined, many of us will be wary as we know what is possible.

@_date: 2011-06-02 06:36:04
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] EFF Tor Challenge 
Yeah that's a big help.  I can take that to the bank!
Look, I'm a real estate developer, not a coder.  OK?  When I have something I can work with I'll consider a relay, but as long as everyone is coy about security, you will have trouble recruiting relays.  That's a fact, deal with it.

@_date: 2011-06-02 06:56:05
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] EFF Tor Challenge 
The Host-only VM adapter does not mean guests will have Internet access;  in fact, they won't. vboxnet0 does not have a default gateway.  To make vboxnet0 also serve queries outside the local network, you would have to configure it to use another adapter for that, enable forwarding/masquerading, and reconfigure firewall rules. At the end, you will have achieved Bridged networking, so why bother?

@_date: 2011-06-02 11:12:36
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] EFF Tor Challenge 
'If I take cash with me I might misplace it, so I should never carry any cash.'  'If I drive a car I might have an accident, so I should never drive a car.'
Diluting the question with equivocation does not reduce the value of securing Tor.  The case is, I have no other out-looking daemons, so this is very relevant to me.  To those who don't care or are frightened by this discussion please ignore this subject.
I see now that few here have actually considered this question before.  There's a good deal of trust going on, which seems to be well-placed given the apparent infrequency of attack.  That's a good thing, but I come from an intel background and I prefer to secure.  It's why I've run Debian for 14 years.
For those interested, so far my best idea is running the daemon in a VirtualBox VM running SELinux as guest, and bridged to the outside.  This should substantially solve most problems except membership in the local LAN.  If only consumer-grade routers had VLan, although routers aren't necessarily secure.  Maybe a switch on the WAN side of the router, to flange the LAN and Tor interface together in a class C different from the LAN.

@_date: 2011-06-02 16:02:19
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] EFF Tor Challenge 
I looked at containers in depth.  They are simply not secure.
Goes without saying (although I should have said it), iptables for sure, blocking everything in and out except what is absolutely needed.  I use a fine firewall called Shorewall, developed a couple blocks away from me actually.
Most ppl have consumer-grade routers;  no DMZ port.  Wish there was...

@_date: 2011-06-02 16:59:38
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] layer 2 separation: relay in a Host-only network 
This has merit.  And come to think of it, using Shorewall to masquerade the guest through the host, I could force all the guest's traffic to the router -only-.
I think with the guest running Debian SELinux it is unlikely to be compromised, so this may be a good solution.

@_date: 2011-06-03 06:45:47
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] EFF Tor Challenge 
It's been a long time since I looked into this, but I came across some fairly damning evidence which caused me to eliminate containers out-of-hand and look for other options.  I don't have time to research it now.

@_date: 2011-06-03 08:14:34
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] EFF Tor Challenge 
Yes, gratuitous insult your way too Eugen.
No, I am not in the IT business.  As I've said before I am in real estate, but I'm breaking ground that apparently no one else here has thought of.  Thankless work though so I'll withdraw now.  Life's too short.

@_date: 2011-05-25 12:30:58
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] Securing a Relay - chroot 
I am seeing evidence that a chroot jail is not secure, even in Linux, due to breakouts such as  someone running os.fork() from python and spawning processes to do bad stuff.
For torrents I run Debian in a VirtualBox virtual machine which is bridged directly to The Internets, with the VM user and user inside being very non-prived.  My best information is that this is quite secure.
Has anyone done any research on best practices for securing a daemon?

@_date: 2011-05-26 04:59:39
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] Securing a Relay - chroot 
Problem is you need to patch the kernel, and it must share network setup with the host.
So no one else has given any thought to running a relay securely?

@_date: 2011-05-26 06:44:19
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] Securing a Relay - chroot 
It must necessarily share the network setup with the host, and so the LAN class C since I can't set up the router downstream with multiple IPs.  Not secure.  Also it would have the same firewall settings, and that is not acceptable either.

@_date: 2011-05-26 09:12:25
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] Securing a Relay - chroot 
No the way out to The Internets is the only way out.  There is one router out.
Doesn't even have to compromise the host.  With the guest in the same class C it can monitor traffic.

@_date: 2011-05-27 06:44:36
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] Securing a Relay - chroot 
So nobody's actually thought about security for a relay and the need for a relay to be in the same class C as the LAN in order to access the router?  What can be done?

@_date: 2011-05-27 09:00:11
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] Securing a Relay - chroot 
Nevertheless it is still necessary to share 192.168.*.* with the local LAN.  I want to avoid this
What good is Tor if you only communicate with internal machines?  Tor is only useful for outside communications.
I haven't heard of that.  I can't be everywhere and do everything.

@_date: 2011-05-27 09:22:01
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] Securing a Relay - chroot 
Yes that's because I don't know what threats there may be.  I am a user, I don't have an MS in Computer Science.  For example I don't understand, "maps subnets and/or ports to inside. Separating traffic into VLANs. In general having a lot more control of the hardware layer."
What good is this if users can't secure their own machine effectively?  Why set up a relay if my own machine could be compromised?  No wonder you have a hard time recruiting relays, much less exit points.  I guess the coyness here is for some good reason, but it's not doing the cause any good.  Looks like I have to give up on a relay.

@_date: 2011-05-28 14:37:00
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] Tor Webmail 
Does Tor have a webmail service?  Yahoo is kicking me off next month, since I insist on not using one of the orthodox browsers. (Konqueror has served fine for ten years)

@_date: 2011-05-28 21:11:39
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] Tor Webmail 
Looking for a secure mail service to use for my throwaway address.  HushMail charges, and Yahoo is about to obsolete me because it doesn't understand my browser.  Thanks but XMail doesn't seem to be particularly security oriented, like ixquick is for searches.

@_date: 2011-05-29 06:57:58
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] Tor Webmail 
I guess Fastmail it is.  Although they are hosted in New York so are subject to US laws.  Don't understand why Wikileaks would recommend them.

@_date: 2011-05-30 12:54:42
@_author: CACook@quantum-sci.com 
@_subject: [tor-talk] Recommended Android SMS App? 
Anyone recommend a quality SMS app that has security in mind?
Tried TextSecure, but despite the developer's assurances it -cannot- send pictures.
