
@_date: 2004-12-31 09:17:47
@_author: Giorgos Pallas 
@_subject: Tor network speed 
I am on a university's network with a connection of 1 Gbit. My experience as far as speed is concerned is quite awkward: I just downloaded for example Adobe Acrobat Reader with an average speed of 90 KB/sec, and sometimes I have downloaded large files with over 150 KB/sec. Web experiences a bit of latency, but it is bearable...

@_date: 2004-12-25 22:47:08
@_author: Giorgos Pallas 
@_subject: newbie questions (I've read the FAQ!) 
Hello to all!
I have a couple of questions regarding what can be seen about a tor server at I cannot understand what represent the three numbers of the bandwidth line. Example: bandwidth 225280 52428800 254474
I also do not understand that these two fields represent...
opt write-history 2004-12-25 19:51:39 (900 s) opt read-history  2004-12-25 19:51:39 (900 s) And last question: On  one can see in the first lines something like:
running-routers $E68907CAAF5A5E4A950093A47A0233DDA7F415BA !moria4 !$7805B76C8AAD86BE5C3B909C4B3A0D76B0073348 !$53238B758506FD5F1C7B16F206869AD72AB8007C !puma $57CAAFA59FFC24797A5D1190556DAE82BF754BD3 samson mordor dizum falkon $E46E39D1C3E2EE0EE8B0127DF7A5DEEEEF9C978F UoW utoastria randomtrash dali hellish hullabaloo thetimesareachangin anize !wannabe arsecandle c3po !petra triphop balance rot52 cacophony moria2 moria1 torstusoft02
opt router-status $E68907CAAF5A5E4A950093A47A0233DDA7F415BA !moria4=$BA5E1200B4777843616C8864DE0CD1FECB52CE3C !$7805B76C8AAD86BE5C3B909C4B3A0D76B0073348 !$53238B758506FD5F1C7B16F206869AD72AB8007C !puma=$7DA009933D72D76EE401DEC984D433DA82305A23 $57CAAFA59FFC24797A5D1190556DAE82BF754BD3 What exactly can be read from these lines?
Thank you all very much for your attention!
Giorgos Pallas
ps. And Merry Christmas from Greece!

@_date: 2004-12-29 14:02:01
@_author: Giorgos Pallas 
@_subject: hidden services... 
Hello to all!
I set up hidden services for testing on my tor server accessible at
(not what we would call a rich content for the time being ;-), and I have two questions:
1. I have a computer, say A, whose browser uses the proxy server (privoxy) which runs at computer B. B also runs TOR serving the hidden services mentioned above (
The question is: why is it that when I access  from A, I see at the apache log of B that localhost is accessing the hidden services:
localhost - - [29/Dec/2004:13:51:32 +0200] "GET / HTTP/1.1" 304 - "-" "Mozilla/5.0 (Windows; U; Windows NT 5.2; en-US; rv:1.6) Gecko/20040113"
Is this logical? Is it because it is actually the tor server (i.e. localhost) which accesses the content from apache and sends it to the rendez-vous point?
The second question has to do with the hostname of the hidden services server. When is it changed? I noticed when I had to restart the tor server that the hostname had changed...
Thank you all for your time!
Giorgos Pallas

@_date: 2004-12-30 15:54:07
@_author: Giorgos Pallas 
@_subject: Tor 0.0.9.1 crashed 
For the first time today, my tor server crashed. The last 10 minutes logs from the warning.log are the following. Can anybody figure out what happened? (actually, it seems to me that only the last message may have something to do with the crash...)
Dec 30 15:30:10.595 [warn] connection_ap_handshake_process_socks(): Fetching socks handshake failed. Closing.
Dec 30 15:32:19.093 [warn] fetch_from_buf_socks(): Socks version 19 not recognized. (Tor is not an http proxy.)
Dec 30 15:32:19.093 [warn] connection_ap_handshake_process_socks(): Fetching socks handshake failed. Closing.
Dec 30 15:34:00.196 [warn] fetch_from_buf_socks(): Socks version 19 not recognized. (Tor is not an http proxy.)
Dec 30 15:34:00.196 [warn] connection_ap_handshake_process_socks(): Fetching socks handshake failed. Closing.
Dec 30 15:34:08.388 [warn] fetch_from_buf_socks(): Socks version 19 not recognized. (Tor is not an http proxy.)
Dec 30 15:34:08.388 [warn] connection_ap_handshake_process_socks(): Fetching socks handshake failed. Closing.
Dec 30 15:35:20.736 [warn] fetch_from_buf_socks(): Socks version 19 not recognized. (Tor is not an http proxy.)
Dec 30 15:35:20.736 [warn] connection_ap_handshake_process_socks(): Fetching socks handshake failed. Closing.
Dec 30 15:36:50.831 [warn] fetch_from_buf_socks(): Socks version 19 not recognized. (Tor is not an http proxy.)
Dec 30 15:36:50.831 [warn] connection_ap_handshake_process_socks(): Fetching socks handshake failed. Closing.
Dec 30 15:38:59.836 [warn] fetch_from_buf_socks(): Socks version 19 not recognized. (Tor is not an http proxy.)
Dec 30 15:38:59.836 [warn] connection_ap_handshake_process_socks(): Fetching socks handshake failed. Closing.
Dec 30 15:40:57.489 [warn] fetch_from_buf_socks(): Socks version 19 not recognized. (Tor is not an http proxy.)
Dec 30 15:40:57.511 [warn] connection_ap_handshake_process_socks(): Fetching socks handshake failed. Closing.
Dec 30 15:46:29.338 [warn] connection_dns_reached_eof(): Read eof. Worker died unexpectedly.

@_date: 2004-12-31 09:06:29
@_author: Giorgos Pallas 
@_subject: Tor 0.0.9.1 crashed 
Today, the server crashed again. Again, the error message seems to have to do with dns, but is another from yesterday's error.
Dec 31 07:50:01.038 [err] dns.c:399: dns_cancel_pending_resolve: Assertion resolve->pending_connections failed; aborting.

@_date: 2005-04-16 20:41:07
@_author: Giorgos Pallas 
@_subject: tor server shutdown 
So, after 4 days running the Tor v0.1.0.3-rc version, all I have to say is congratulations for the giant leap in performance, and friendliness to my system! One can just look at the mrtg I attach... The connections my server handles at each moment are always around 1770 with absolutely no problem... Keep up the good work guys!

@_date: 2005-04-18 10:57:22
@_author: Giorgos Pallas 
@_subject: Tor v0.1.0.3-rc 
Although Tor v0.1.0.3-rc is very stable (unlike the 0.xxx series), on my server it attracts (as it is natural) gradually  many connections, thus using even more swap, until all swap is consumed and then it is terminated by the system. It would be still very usefull as I had proposed in a past email, to integrate some way to configure it in order not to use more than X megabytes of memory... (except if the fact that it uses more and more memory is due to some memory leak...)

@_date: 2005-04-19 09:10:51
@_author: Giorgos Pallas 
@_subject: Tor v0.1.0.3-rc 
I am using Debian woody, with kernel 2.4.26, on a (no laughing plz ;-) AMD K6-2 400 MHZ, with 128 RAM and 128 swap...
With v0.1.0.3-rc, it took 4 days for tor to gradually consume all my available memory and then crash...

@_date: 2005-04-08 09:40:56
@_author: Giorgos Pallas 
@_subject: tor server shutdown 
I am running a tor server with tor version 0.0.9.7 (latest with debian) and most of the time tor tends to use all the available cpu and most important, memory resources (around 256 MB -128 RAM & 128 swap), which makes all other processes starve and occasionaly (once a day for example) die. Given those problems I will shut down my server, until a proper mechanism for resource control will be made available in the options for tor...

@_date: 2005-04-08 10:30:57
@_author: Giorgos Pallas 
@_subject: tor server shutdown 
Probably it cannot be installed because it needs packets from the unstable debian and I am running stable...
postmortem:/home/gpall# apt-get install tor
Reading Package Lists... Done
Building Dependency Tree... Done
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
Since you only requested a single operation it is extremely likely that
the package is simply not installable and a bug report against
that package should be filed.
The following information may help to resolve the situation:
Sorry, but the following packages have unmet dependencies:
  tor: Depends: libc6 (>= 2.3.2.ds1-4) but 2.2.5-11.8 is to be installed
       Depends: libevent1 (>= 1.0b) but it is not going to be installed
       Depends: libssl0.9.7 but it is not installable
       Depends: zlib1g (>= 1:1.2.1) but 1:1.1.4-1.0woody0 is to be installed
E: Sorry, broken packages

@_date: 2005-04-14 10:10:23
@_author: Giorgos Pallas 
@_subject: tor server shutdown 
Thanks! I am now running *Tor v0.1.0.3-rc.
*Good work! It seems like a huge improvement for the time being. More details in a couple of days.

@_date: 2005-08-23 17:37:18
@_author: Giorgos Pallas 
@_subject: No Tor server exists that allows exit to [scrubbed]:80. Rejecting. 
Something general was happening because after I saw Oliver's mail, I checked my tor server and noticed that until that time it was handling virtually no traffic, and now it is handling 1 Mbps (sic)  ;-)

@_date: 2005-02-02 21:35:18
@_author: Giorgos Pallas 
@_subject: Tor Network response slowing to zero 
I can also confirm that. Although I'm using a server sitting on a 100 Mbps connection, the response is indeed dramaticaly degraded.
 I attach the mrtg of the established connections of my server, during January. It seems that 3 weeks ago, the number of established connections at any given moment, rised from about 350, to an average of 650 during the last 2 weeks !!!
The stats of my server are here:

@_date: 2005-02-02 21:38:39
@_author: Giorgos Pallas 
@_subject: Tor Network response slowing to zero 
Now that I think again about it, this phenomenon could be a delayed variant of the slashdot phenomenon...

@_date: 2005-02-04 10:16:56
@_author: Giorgos Pallas 
@_subject: Tor Network response slowing to zero 
After I prepended my exit policy with the line someone on the list reject *:4661-4666
reject *:6346-6429
reject *:6881-6999
the network response seems to be going somewhat better, and at the same time the traffic transiting my server is drastically reduced:

@_date: 2005-02-09 13:58:15
@_author: Giorgos Pallas 
@_subject: ExitPolicy abuse 
FYI: I also had the google groups abuse report for my server...

@_date: 2005-01-23 23:28:56
@_author: Giorgos Pallas 
@_subject: (FWD) Problems with Tor in user-mode-linux 
Perhaps, a TOR configuration parameter which would allow the admin to specify how much memory is TOR allowed to allocate would be useful. I just installed 0.0.9.3. Let's see how good it deals with memory...

@_date: 2005-01-04 10:48:47
@_author: Giorgos Pallas 
@_subject: hidden services... 
Well, that was intentional apparently ;-)...
 > In theory it is never changed, assuming the directory you point to is
 > unchanged. For example, if you put it in /tmp/ then it may get erased
 > by a system utility, and then Tor would find that it's not there (and
 > recreate it) next time you run Tor.
 >
 > You're not the first person to report this phenomenon though. Perhaps
 > we have a bug somewhere. Can anybody recreate this in a repeatable way?
At least I, could not recreate it... And the worst is that now that I have revealed it, I cannot change it!

@_date: 2005-01-04 11:08:37
@_author: Giorgos Pallas 
@_subject: Tor 0.0.9.1 crashed 
I do not quite know how to do these things... I know gdb is the debugger, but I don't know how to use it... Giving command 'ulimit' to my server I get 'unlimited'.
My platform is:
CPU: processor       : 0
vendor_id       : AuthenticAMD
cpu family      : 5
model           : 8
model name      : AMD-K6(tm) 3D processor
stepping        : 12
cpu MHz         : 400.923
cache size      : 64 KB
fdiv_bug        : no
hlt_bug         : no
f00f_bug        : no
coma_bug        : no
fpu             : yes
fpu_exception   : yes
cpuid level     : 1
wp              : yes
flags           : fpu vme de pse tsc msr mce cx8 pge mmx syscall 3dnow bogomips        : 799.53
with 128 MB RAM, debian linux with 2.4.26 kernel... And yes, I am sure that my tor server is 0.0.9.1. As for the debug logs, I will try to give you some, although it will be difficult, since the space required is vast: The debug.log file is growing at about 3MB/sec ...
Tor crashes about 4-5 times a day, without me being able to connect it to some special event happening at the time of the crash.
How can we see which application or who gets connected?
Killing processes randomly? ...Oh yes, this perl script of mine...;-)
Of course not! And although I do not have plenty of memory, my swap is constantly at about 2-3% of usage...
We'll find out, don't worry!
ps. And something last: Since I installed Tor, my cron deamon is just dying occasionaly... I wonder why would that be...

@_date: 2005-01-04 12:31:50
@_author: Giorgos Pallas 
@_subject: Tor 0.0.9.1 crashed 
>
 >
 >>with 128 MB RAM, debian linux with 2.4.26 kernel... And yes, I am sure
 >
 >
 > Using the Debian package?  If yes, please cd to /var/lib/tor, and run
 > 	gdb /usr/sbin/tor core
 >
 > then type 'bt', and mail the output.
 >
I should do that *after* it has crashed? Because now, here's what I get:
debian-tor at postmortem:~$ cd /var/lib/tor
debian-tor at postmortem:~$ ls -la
total 16
drwx------    3 debian-t debian-t     4096 Dec 29 10:06 .
drwxr-xr-x   13 root     root         4096 Dec 27 12:40 ..
-rw-------    1 debian-t debian-t     1797 Jan  4 11:21 .bash_history
drwx------    3 debian-t debian-t     4096 Jan  4 12:10 DataDirectory
debian-tor at postmortem:~$ gdb /usr/sbin/tor core
GNU gdb 2002-04-01-cvs
Copyright 2002 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "i386-linux"...
(gdb) bt
No stack.
(gdb) quit
debian-tor at postmortem:~$

@_date: 2005-01-04 13:12:05
@_author: Giorgos Pallas 
@_subject: Tor 0.0.9.1 crashed 
Because I read in the documentation that I should mkdir a DataDirectory... Anyway, core file found!
I hope this will clear things a bit!
Core was generated by `/usr/sbin/tor'.
Program terminated with signal 6, Aborted.
Reading symbols from /usr/lib/libz.so.1...done.
Loaded symbols for /usr/lib/libz.so.1
Reading symbols from /usr/lib/libssl.so.0.9.6...done.
Loaded symbols for /usr/lib/libssl.so.0.9.6
Reading symbols from /usr/lib/libcrypto.so.0.9.6...done.
Loaded symbols for /usr/lib/libcrypto.so.0.9.6
Reading symbols from /lib/libc.so.6...done.
Loaded symbols for /lib/libc.so.6
Reading symbols from /lib/libdl.so.2...done.
Loaded symbols for /lib/libdl.so.2
Reading symbols from /lib/ld-linux.so.2...done.
Loaded symbols for /lib/ld-linux.so.2
Reading symbols from /lib/libnss_files.so.2...done.
Loaded symbols for /lib/libnss_files.so.2
  0x4013c781 in kill () from /lib/libc.so.6
(gdb) bt
  0x4013c781 in kill () from /lib/libc.so.6
  0x4013c464 in raise () from /lib/libc.so.6
  0x4013dbe1 in abort () from /lib/libc.so.6
  0x40136e42 in __assert_fail () from /lib/libc.so.6
  0x08065a92 in dns_cancel_pending_resolve (address=0x84e55e8 "pwc.fspn.cryptnet.net") at dns.c:399
  0x08058358 in connection_about_to_close_connection (conn=0x80f5350) at connection.c:255
  0x08068d72 in conn_close_if_marked (i=49) at main.c:369
  0x08069a3c in do_main_loop () at main.c:904
  0x0806a2b5 in tor_main (argc=1, argv=0xbffffbb4) at main.c:1375
  0x08078d44 in main (argc=1, argv=0xbffffbb4) at tor_main.c:18
(gdb) quit

@_date: 2005-01-04 20:54:05
@_author: Giorgos Pallas 
@_subject: Tor 0.0.9.1 crashed 
Many thanks for the prompt response *and* for the new release, to which I just upgraded!
I will report any new strange behaviour...
About hardware problems, I do not think so, because my server has been online for 2 years 24/7/365 and it is absolutely stable. And actually just cron daemon has died twice since I installed tor, which I find awkward taking into consideration that tor runs as a non-privileged user...
Anyway, I'll see how things are going with 0.0.9.2.

@_date: 2005-01-11 09:32:22
@_author: Giorgos Pallas 
@_subject: new tor crashes 
0.0.9.2 keeps crashing occasionaly, so I devised a system to keep the 15 last debug log lines before each crash. So, I send the last 15 lines of 3 crashes... I hope they will be of some use, although I do not see any particular message looking like an error...
Jan 08 23:53:59.879 [debug] connection_edge_send_command(): delivering 2 cell backward.
Jan 08 23:53:59.880 [debug] write_to_buf(): added 512 bytes to buf (now 21504 total).
Jan 08 23:53:59.880 [debug] connection_edge_package_raw_inbuf(): conn->package_window is now 446
Jan 08 23:53:59.880 [debug] circuit_consider_stop_edge_reading(): considering circ->package_window 889
Jan 08 23:53:59.880 [debug] conn_read(): socket 90 wants to read.
Jan 08 23:54:01.484 [debug] read_to_buf(): Read 1418 bytes. 1418 on inbuf.
Jan 08 23:54:12.410 [debug] circuit_consider_stop_edge_reading(): considering circ->package_window 960
Jan 08 23:54:12.411 [debug] connection_edge_package_raw_inbuf(): (90) Packaging 498 bytes (920 waiting).
Jan 08 23:54:12.411 [debug] connection_edge_package_raw_inbuf(): 90: Stream size now 595770.
Jan 08 23:54:12.411 [debug] connection_edge_send_command(): delivering 2 cell backward.
Jan 08 23:54:16.773 [debug] write_to_buf(): added 512 bytes to buf (now 1024 total).
Jan 08 23:54:24.625 [debug] connection_edge_package_raw_inbuf(): conn->package_window is now 459
Jan 08 23:55:09.639 [debug] circuit_consider_stop_edge_reading(): considering circ->package_window 959
Jan 08 23:55:11.628 [debug] connection_edge_package_raw_inbuf(): (90) Packaging 498 bytes (422 waiting).
Jan 08 23:55:11.628 [debug] connection_edge_package_raw_inbuf(): 90: Stream size now 596268.
Jan 11 06:49:29.694 [debug] flush_buf_tls(): flushed 1024 bytes, 0 ready to flush, 0 remain.
Jan 11 06:50:28.710 [debug] directory_initiate_command(): initiating running-routers fetch
Jan 11 06:50:29.611 [debug] connection_connect(): Connecting to Jan 11 06:50:29.702 [debug] connection_connect(): connect in progress, socket 333.
Jan 11 06:50:29.856 [debug] write_to_buf(): added 83 bytes to buf (now 83 total).
Jan 11 06:50:30.180 [debug] resolve_my_address(): Guessed local host name as 'postmortem'
Jan 11 06:50:31.045 [debug] resolve_my_address(): Resolved Address to Jan 11 06:50:32.742 [debug] config_parse_addr_policy(): Adding new entry 'reject 0.0.0.0/255.0.0.0:*'
Jan 11 06:50:33.620 [debug] config_parse_addr_policy(): Adding new entry 'reject 169.254.0.0/255.255.0.0:*'
Jan 11 06:50:33.832 [debug] config_parse_addr_policy(): Adding new entry 'reject 127.0.0.0/255.0.0.0:*'
Jan 11 06:50:34.178 [debug] config_parse_addr_policy(): Adding new entry 'reject 192.168.0.0/255.255.0.0:*'
Jan 11 06:50:34.179 [debug] config_parse_addr_policy(): Adding new entry 'reject 10.0.0.0/255.0.0.0:*'
Jan 11 06:50:34.233 [debug] config_parse_addr_policy(): Adding new entry 'reject 172.16.0.0/255.240.0.0:*'
Jan 11 06:50:34.644 [debug] config_parse_addr_policy(): Adding new entry 'reject *:25'
Jan 11 06:50:35.158 [debug] config_parse_addr_policy(): Adding new entry 'accept *:*'
Jan 11 07:45:20.075 [debug] flush_buf_tls(): flushed 8192 bytes, 0 ready to flush, 0 remain.
Jan 11 07:45:20.099 [debug] conn_write(): socket 64 wants to write.
Jan 11 07:45:22.171 [debug] flush_buf_tls(): flushed 6144 bytes, 0 ready to flush, 0 remain.
Jan 11 07:45:22.173 [debug] conn_write(): socket 118 wants to write.
Jan 11 07:45:22.173 [debug] flush_buf(): 118: flushed 195 bytes, 0 ready to flush, 195 remain.
Jan 11 07:45:22.173 [debug] conn_write(): socket 104 wants to write.
Jan 11 07:45:22.174 [debug] conn_write(): socket 196 wants to write.
Jan 11 07:45:22.175 [debug] flush_buf_tls(): flushed 512 bytes, 0 ready to flush, 0 remain.
Jan 11 07:45:22.175 [debug] conn_write(): socket 312 wants to write.
Jan 11 07:45:24.189 [debug] flush_buf_tls(): flushed 512 bytes, 0 ready to flush, 0 remain.
Jan 11 07:45:24.197 [debug] conn_write(): socket 296 wants to write.
Jan 11 07:45:30.153 [debug] connection_edge_send_command(): delivering 4 cell backward.
Jan 11 07:45:30.362 [debug] write_to_buf(): added 512 bytes to buf (now 512 total).
Jan 11 07:45:49.608 [debug] cpuworker_main(): onion_skin_server_handshake succeeded.
Jan 11 07:45:51.608 [debug] cpuworker_main(): finished writing response.
Jan 11 07:45:20.075 [debug] flush_buf_tls(): flushed 8192 bytes, 0 ready to flush, 0 remain.
Jan 11 07:45:20.099 [debug] conn_write(): socket 64 wants to write.
Jan 11 07:45:22.171 [debug] flush_buf_tls(): flushed 6144 bytes, 0 ready to flush, 0 remain.
Jan 11 07:45:22.173 [debug] conn_write(): socket 118 wants to write.
Jan 11 07:45:22.173 [debug] flush_buf(): 118: flushed 195 bytes, 0 ready to flush, 195 remain.
Jan 11 07:45:22.173 [debug] conn_write(): socket 104 wants to write.
Jan 11 07:45:22.174 [debug] conn_write(): socket 196 wants to write.
Jan 11 07:45:22.175 [debug] flush_buf_tls(): flushed 512 bytes, 0 ready to flush, 0 remain.
Jan 11 07:45:22.175 [debug] conn_write(): socket 312 wants to write.
Jan 11 07:45:24.189 [debug] flush_buf_tls(): flushed 512 bytes, 0 ready to flush, 0 remain.
Jan 11 07:45:24.197 [debug] conn_write(): socket 296 wants to write.
Jan 11 07:45:30.153 [debug] connection_edge_send_command(): delivering 4 cell backward.
Jan 11 07:45:30.362 [debug] write_to_buf(): added 512 bytes to buf (now 512 total).
Jan 11 07:45:49.608 [debug] cpuworker_main(): onion_skin_server_handshake succeeded.
Jan 11 07:45:51.608 [debug] cpuworker_main(): finished writing response.

@_date: 2005-01-15 20:26:00
@_author: Giorgos Pallas 
@_subject: Hardware requirements for a tor server 
My guess is that you will certainly not run into any problems. I run tor on 400 MHz AMD K6-II (a generation before AMD ATHLON), with 128 RAM and a 100 Mbit connection to the internet and it goes fine (Average load ~ 1.00). You must of course know in advance that the volume of traffic is huge! My server's in + out traffic is ~30 GB /day ! Of course if your server resides at a university's campus you won't have any problem with bandwidth usage...

@_date: 2005-01-15 20:37:08
@_author: Giorgos Pallas 
@_subject: Hardware requirements for a tor server 
Well, you are right. I really can't know about the policies of all universities, I just thought of the example of Greece where all univerisities enjoy a 1-10 Gbps connection without paying to the connecting network (GRNET). Anyway, the traffic can be adjusted though a couple of parameters in the config files..,

@_date: 2005-01-21 22:44:08
@_author: Giorgos Pallas 
@_subject: ulimit tor's memory usage 
At last, I found out some messages in my /var/log/messages which solved the mystery that I had reported some weeks ago, about processes being killed for no ...apparent reason on my system:
Jan 20 23:38:11 postmortem kernel: __alloc_pages: 0-order allocation failed (gfp=0x1d2/0)
Jan 20 23:38:11 postmortem kernel: VM: killing process cron
Jan 20 23:38:15 postmortem kernel: __alloc_pages: 0-order allocation failed (gfp=0x1d2/0)
Jan 20 23:38:16 postmortem kernel: __alloc_pages: 0-order allocation failed (gfp=0x1d2/0)
Jan 20 23:38:16 postmortem kernel: VM: killing process tor
Jan 20 23:38:21 postmortem kernel: __alloc_pages: 0-order allocation failed (gfp=0x1f0/0)
Jan 20 23:38:23 postmortem kernel: __alloc_pages: 0-order allocation failed (gfp=0x1d2/0)
Jan 20 23:38:23 postmortem kernel: VM: killing process proftpd
Jan 20 23:38:28 postmortem kernel: __alloc_pages: 0-order allocation failed (gfp=0x1d2/0)
Jan 20 23:38:28 postmortem kernel: VM: killing process tor
Tor blackholes all my memory... et voila!
So, does anybody know how to use this cryptic shell command 'ulimit' so that I can set a limit to the amount of memory that tor can take?
Any help appreciated...

@_date: 2005-06-29 19:21:19
@_author: Giorgos Pallas 
@_subject: Problems with TOR & FreeBSD -resolved 
Hi everybody.
While at earlier versions of Tor I used to move traffic of about 200 KB/s, now with 0.1.0.10 (and maybe some versions before it) the traffic has dropped to about 30 KB/s ! Note, that in my torrc file I have not defined anything about bandwidth rate etc, although I used to have. What is the problem? The server always has available a connection to the internet of 100 Mbps and runs the latest debian release...

@_date: 2005-03-20 12:16:18
@_author: Giorgos Pallas 
@_subject: disappearing nodes 
My Tor crashes at least twice a day because of insufficient memory. I admit that 128 MB ram for a linux machine is not exactly ideal, but at least tor should have an internal mechanism to check how much memory it consumes and not crash otherwise...

@_date: 2005-10-03 11:25:05
@_author: Giorgos Pallas 
@_subject: Why some Tor servers are slow (was Re: TOR Park Exit Node Question) 
I am also curious to know what is wrong with my server. Masquerade is a Debian linux (latest release) box , with an Athlon 500 MHz, and 256 MB RAM. It is not behind any NAT, it has a direct, switched connection to the internet at 100 Mbps.
Using the command Peter Palfrader gave, I was able to reproduce the problem on the very box, so the network can't have anything to do with it (I guess):
postmortem:# time openssl s_client -connect 155.207.113.227:9001
depth=1 /O=TOR/CN=masquerade verify error:num=19:self signed certificate in certificate chain
verify return:0
Certificate chain
 0 s:/O=TOR/CN=masquerade
   i:/O=TOR/CN=masquerade  1 s:/O=TOR/CN=masquerade    i:/O=TOR/CN=masquerade Server certificate
-----BEGIN CERTIFICATE-----
-----END CERTIFICATE-----
issuer=/O=TOR/CN=masquerade No client certificate CA names sent
SSL handshake has read 1469 bytes and written 344 bytes
New, TLSv1/SSLv3, Cipher is EDH-RSA-DES-CBC3-SHA
Server public key is 1024 bit
    Protocol  : TLSv1
    Cipher    : EDH-RSA-DES-CBC3-SHA
    Session-ID:
    Session-ID-ctx:
    Master-Key: ...
    Key-Arg   : None
    Start Time: 1128325862
    Timeout   : 300 (sec)
    Verify return code: 19 (self signed certificate in certificate chain)
real    0m46.904s
user    0m0.093s
sys     0m0.007s
So, something is going wrong specificaly with ssl because if you try to make other connections to the server (eg web browse:  it works very fast.So, how could I further troubleshoot ssl? Using some openssl parameters maybe? Any ideas?

@_date: 2005-10-10 21:38:11
@_author: Giorgos Pallas 
@_subject: Why some Tor servers are slow 
Well, I used strace which was very informative, as long as someone can understand this information!
So I would kindly ask if any unix guru is out there listening, plz have a look and help!
I send the output with strace -c, and without -c which is rather extensive.
So, when I run strace without -c, it was all always running very fast, until these lines :
write(3, "\200\214\1\3\1\0c\0\0\0 \0\0009\0\0008\0\0005\0\0\26\0"..., 142) = 142
read(3, "\26\3\1\0*\2\0", 7)            = 7
I mean, I got all the output of strace at once until I saw: "read(3, "
, it then stuck there for some seconds, and then I always got the rest of the response at once.
Anyone any ideas what is happening there?
And also all these files that are said to be missing, do you think they are causing some problems?
gpall at postmortem:~$strace -c openssl s_client -connect 155.207.113.227:9001
depth=1 /O=TOR/CN=masquerade verify error:num=19:self signed certificate in certificate chain
verify return:0
Certificate chain
 0 s:/O=TOR/CN=masquerade
   i:/O=TOR/CN=masquerade  1 s:/O=TOR/CN=masquerade    i:/O=TOR/CN=masquerade Server certificate
-----BEGIN CERTIFICATE-----
-----END CERTIFICATE-----
issuer=/O=TOR/CN=masquerade No client certificate CA names sent
SSL handshake has read 1469 bytes and written 344 bytes
New, TLSv1/SSLv3, Cipher is EDH-RSA-DES-CBC3-SHA
Server public key is 1024 bit
    Protocol  : TLSv1
    Cipher    : EDH-RSA-DES-CBC3-SHA
    Session-ID:
    Session-ID-ctx:
    Master-Key:     Key-Arg   : None
    Start Time: 1128968737
    Timeout   : 300 (sec)
    Verify return code: 19 (self signed certificate in certificate chain)
% time     seconds  usecs/call     calls    errors syscall
------ ----------- ----------- --------- --------- ----------------
 57.18    0.005641         152        37           write
 20.18    0.001991           5       386           getpid
  6.08    0.000600          26        23           read
  3.44    0.000339          38         9         1 open
  3.06    0.000302         302         1           connect
  2.60    0.000257          18        14           old_mmap
  1.25    0.000123          14         9           close
  1.09    0.000108          27         4           munmap
  0.80    0.000079          16         5         5 access
  0.69    0.000068           9         8           fstat64
  0.51    0.000050          10         5           time
  0.50    0.000049           8         6           brk
  0.47    0.000046          46         1           socket
  0.45    0.000044          15         3           mmap2
  0.32    0.000032          11         3           select
  0.28    0.000028          28         1           stat64
  0.19    0.000019           6         3           getuid32
  0.18    0.000018           9         2           rt_sigaction
  0.14    0.000014          14         1           shutdown
  0.13    0.000013          13         1           setsockopt
  0.10    0.000010          10         1           uname
  0.10    0.000010          10         1           set_thread_area
  0.09    0.000009           5         2           geteuid32
  0.08    0.000008           4         2           getgid32
  0.08    0.000008           4         2           getegid32
------ ----------- ----------- --------- --------- ----------------
100.00    0.009866                   530         6 total
And now strace without -c:
execve("/usr/bin/openssl", ["openssl", "s_client", "-connect", "155.207.113.227:9001"], [/* 17 vars */]) = 0
uname({sys="Linux", node="postmortem", ...}) = 0
brk(0)                                  = 0x809d000
old_mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7f90000
access("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or open("/etc/ld.so.preload", O_RDONLY)    = -1 ENOENT (No such file or open("/etc/ld.so.cache", O_RDONLY)      = 3
fstat64(3, {st_mode=S_IFREG|0644, st_size=18429, ...}) = 0
old_mmap(NULL, 18429, PROT_READ, MAP_PRIVATE, 3, 0) = 0xb7f8b000
close(3)                                = 0
access("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or open("/usr/lib/i686/cmov/libssl.so.0.9.7", O_RDONLY) = 3
read(3, "\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0\0\205\0"..., 512) = 512
fstat64(3, {st_mode=S_IFREG|0644, st_size=198576, ...}) = 0
old_mmap(NULL, 199344, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0xb7f5a000
old_mmap(0xb7f88000, 12288, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED, 3, 0x2e000) = 0xb7f88000
close(3)                                = 0
access("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or open("/usr/lib/i686/cmov/libcrypto.so.0.9.7", O_RDONLY) = 3
read(3, "\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0p\300\2"..., 512) = 512
fstat64(3, {st_mode=S_IFREG|0644, st_size=1029672, ...}) = 0
old_mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7f59000
old_mmap(NULL, 1043608, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0xb7e5a000
old_mmap(0xb7f44000, 73728, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED, 3, 0xea000) = 0xb7f44000
old_mmap(0xb7f56000, 11416, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0xb7f56000
close(3)                                = 0
access("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or open("/lib/tls/libdl.so.2", O_RDONLY)   = 3
read(3, "\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0\320\32"..., 512) = 512
fstat64(3, {st_mode=S_IFREG|0644, st_size=9872, ...}) = 0
old_mmap(NULL, 8632, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0xb7e57000
old_mmap(0xb7e59000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED, 3, 0x2000) = 0xb7e59000
close(3)                                = 0
access("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or open("/lib/tls/libc.so.6", O_RDONLY)    = 3
read(3, "\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0`Z\1\000"..., 512) = 512
fstat64(3, {st_mode=S_IFREG|0755, st_size=1254468, ...}) = 0
old_mmap(NULL, 1264780, PROT_READ|PROT_EXEC, MAP_PRIVATE, 3, 0) = 0xb7d22000
old_mmap(0xb7e4c000, 36864, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED, 3, 0x129000) = 0xb7e4c000
old_mmap(0xb7e55000, 7308, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0xb7e55000
close(3)                                = 0
old_mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7d21000
set_thread_area({entry_number:-1 -> 6, base_addr:0xb7d21080, limit:1048575, seg_32bit:1, contents:0, read_exec_only:0, limit_in_pages:1, seg_not_present:0, useable:1}) = 0
munmap(0xb7f8b000, 18429)               = 0
brk(0)                                  = 0x809d000
brk(0x80be000)                          = 0x80be000
brk(0)                                  = 0x80be000
rt_sigaction(SIGPIPE, {SIG_IGN}, {SIG_DFL}, 8) = 0
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
open("/usr/lib/ssl/openssl.cnf", O_RDONLY) = 3
fstat64(3, {st_mode=S_IFREG|0644, st_size=7782, ...}) = 0
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7f8f000
read(3, " OpenSSL example configuratio"..., 4096) = 4096
read(3, "_name ]\ncountryName\t\t\t= Country "..., 4096) = 3686
read(3, "", 4096)                       = 0
close(3)                                = 0
munmap(0xb7f8f000, 4096)                = 0
rt_sigaction(SIGPIPE, {SIG_IGN}, {SIG_IGN}, 8) = 0
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getuid32()                              = 1000
geteuid32()                             = 1000
getgid32()                              = 1000
getegid32()                             = 1000
getuid32()                              = 1000
geteuid32()                             = 1000
getgid32()                              = 1000
getegid32()                             = 1000
stat64("/home/gpall/.rnd", {st_mode=S_IFREG|0600, st_size=1024, ...}) = 0
open("/home/gpall/.rnd", O_RDONLY)      = 3
fstat64(3, {st_mode=S_IFREG|0600, st_size=1024, ...}) = 0
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7f8f000
read(3, "\232)\324\274\361\310\36\221HAh\326\202\377\351\224\242"..., 4096) = 1024
read(3, "", 4096)                       = 0
close(3)                                = 0
munmap(0xb7f8f000, 4096)                = 0
getpid()                                = 11689
getpid()                                = 11689
socket(PF_INET, SOCK_STREAM, IPPROTO_TCP) = 3
setsockopt(3, SOL_SOCKET, SO_KEEPALIVE, [0], 4) = 0
connect(3, {sa_family=AF_INET, sin_port=htons(9001), sin_addr=inet_addr("155.207.113.227")}, 16) = 0
getpid()                                = 11689
getpid()                                = 11689
fstat64(1, {st_mode=S_IFCHR|0620, st_rdev=makedev(136, 1), ...}) = 0
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb7f8f000
write(1, "CONNECTED(00000003)\n", 20)   = 20
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
select(4, [3], [3], NULL, NULL)         = 1 (out [3])
time(NULL)                              = 1128968622
getpid()                                = 11689
brk(0)                                  = 0x80be000
brk(0x80df000)                          = 0x80df000
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
open("/dev/urandom", O_RDONLY|O_NONBLOCK|O_NOCTTY) = 4
select(5, [4], NULL, NULL, {0, 10000})  = 1 (in [4], left {0, 10000})
read(4, "\263\306s~3 32) = 32
close(4)                                = 0
getpid()                                = 11689
getpid()                                = 11689
getuid32()                              = 1000
getpid()                                = 11689
time(NULL)                              = 1128968622
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(3, "\200\214\1\3\1\0c\0\0\0 \0\0009\0\0008\0\0005\0\0\26\0"..., 142) = 142
read(3, "\26\3\1\0*\2\0", 7)            = 7
# comment by gpall -> Here, it was always spending some seconds at: read(3,
time(NULL)                              = 1128968635
time(NULL)                              = 1128968635
getpid()                                = 11689
read(3, "\0&\3\1CJ\261\273\347\31\244\276\6\31\264\336\337\255\30"..., 40) = 40
read(3, "\26\3\1\3\260", 5)             = 5
read(3, "\v\0\3\254\0\3\251\0\1\3140\202\1\3100\202\0011\240\3\2"..., 944) = 944
getpid()                                = 11689
getpid()                                = 11689
write(2, "depth=1 /O=TOR/CN=masquerade ) = 40
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(2, "verify error:num=19:self signed "..., 65verify error:num=19:self signed certificate in certificate chain
) = 65
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(2, "verify return:0\n", 16verify return:0
)       = 16
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
read(3, "\26\3\1\1\215", 5)             = 5
read(3, "\f\0\1\211\0\200\377\377\377\377\377\377\377\377\311\17"..., 397) = 397
read(3, "\26\3\1\0\17", 5)              = 5
read(3, "\r\0\0\7\4\3\4\1\2\0\0\16\0\0\0", 15) = 15
time([1128968635])                      = 1128968635
getpid()                                = 11689
getpid()                                = 11689
write(3, "\26\3\1\0\7\v\0\0\3\0\0\0\26\3\1\0\206\20\0\0\202\0\200"..., 202) = 202
read(3, "\24\3\1\0\1", 5)               = 5
read(3, "\1", 1)                        = 1
read(3, "\26\3\1\0(", 5)                = 5
read(3, "4\303\364r3j:\250\26\242pJNeFu[\351c\257\6E\205\270B8\213"..., 40) = 40
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(1, "---\nCertificate chain\n", 22) = 22
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(1, " 0 s:/O=TOR/CN=masquerade\n", 26) = 26
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(1, "   i:/O=TOR/CN=masquerade <ident"..., 37) = 37
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(1, " 1 s:/O=TOR/CN=masquerade <ident"..., 37) = 37
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(1, "   i:/O=TOR/CN=masquerade <ident"..., 37) = 37
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(1, "---\n", 4)                    = 4
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(1, "Server certificate\n", 19)    = 19
getpid()                                = 11689
getpid()                                = 11689
write(1, "-----BEGIN CERTIFICATE-----\n", 28) = 28
write(1, "MIIByDCCATGgAwIBAgIEQ0qX2zANBgkq"..., 585) = 585
write(1, "ETnYHCVgFeA62s1p/xCiZ3j1+C3wsUrK"..., 41) = 41
write(1, "-----END CERTIFICATE-----\n", 26) = 26
getpid()                                = 11689
getpid()                                = 11689
write(1, "subject=/O=TOR/CN=masquerade\n", 29) = 29
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(1, "issuer=/O=TOR/CN=masquerade <ide"..., 39) = 39
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(1, "---\nNo client certificate CA nam"..., 40) = 40
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(1, "---\nSSL handshake has read 1469 "..., 60) = 60
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(1, "---\n", 4)                    = 4
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(1, "New, TLSv1/SSLv3, Cipher is EDH-"..., 49) = 49
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(1, "Server public key is 1024 bit\n", 30) = 30
getpid()                                = 11689
getpid()                                = 11689
write(1, "SSL-Session:\n", 13)          = 13
getpid()                                = 11689
getpid()                                = 11689
write(1, "    Protocol  : TLSv1\n", 22) = 22
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(1, "    Cipher    : EDH-RSA-DES-CBC3"..., 37) = 37
getpid()                                = 11689
getpid()                                = 11689
write(1, "    Session-ID: \n", 17)      = 17
write(1, "    Session-ID-ctx: \n", 21)  = 21
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(1, "    Master-Key: D5CCADC8B6686748"..., 113) = 113
getpid()                                = 11689
getpid()                                = 11689
write(1, "    Key-Arg   : None\n", 21)  = 21
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(1, "    Start Time: 1128968635\n", 27) = 27
getpid()                                = 11689
getpid()                                = 11689
write(1, "    Timeout   : 300 (sec)\n", 26) = 26
getpid()                                = 11689
getpid()                                = 11689
write(1, "    Verify return code: 19 (self"..., 74) = 74
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(1, "---\n", 4)                    = 4
getpid()                                = 11689
getpid()                                = 11689
select(4, [0 3], [], NULL, NULL)        = 1 (in [3])
read(3, "", 5)                          = 0
getpid()                                = 11689
getpid()                                = 11689
getpid()                                = 11689
write(2, "read:errno=0\n", 13read:errno=0
)          = 13
getpid()                                = 11689
getpid()                                = 11689
write(3, "\25\3\1\0\30\240\233\237v\330(\251-\22\256\26I\212~\266"..., 29) = 29
shutdown(3, 0 /* receive */)            = 0
close(3)                                = 0
getpid()                                = 11689
getpid()                                = 11689
munmap(0xb7f8f000, 4096)                = 0
exit_group(0)                           = ?

@_date: 2005-09-19 11:49:41
@_author: Giorgos Pallas 
@_subject: privoxy test request 
Hello all...
 From the beginning of running a tor server and up to now, I notice that the speed of browsing the internet using tor is next to unbearable. I would like to ask anyone of you out there who are running a server with a privoxy proxy, if you can open your privoxy for me (I'll provide you with my IP), for a couple of hours, in order to test the possibility that my slow speed is due to *my* server, and not tor in general.

@_date: 2005-09-20 12:09:49
@_author: Giorgos Pallas 
@_subject: privoxy test request 
My tor server is on a 100 MBps connection and uses some 50 KBps... Except if you mean something else by 'near their capacity' I can't imagine what is wrong with my server...

@_date: 2005-09-20 16:11:36
@_author: Giorgos Pallas 
@_subject: [Fwd: Re: privoxy test request] 
Sorry, about my previous only html mail...
This is my torrc file... Do I have something stupid configured? Its a pity to have so much bandwidth available and not being able to contribute some more to tor...
 Configuration file for a typical tor user
# On Unix, Tor will look for this file in someplace like "~/.tor/torrc" or
# "/etc/torrc"
# On Windows, Tor will look for the configuration file in someplace like
# "Application Data\tor\torrc" or "Application Data\\tor\torrc"
# With the default Mac OS X installer, Tor will look in ~/.tor/torrc or
# /Library/Tor/torrc
 Replace this with "SocksPort 0" if you plan to run Tor only as a
 server, and not make any local application connections yourself.
SocksPort 9050 # what port to open for local application connections
SocksBindAddress 0.0.0.0 # accept connections from everywhere
 127.0.0.1 # accept connections only from localhost
 192.168.0.1:9100 # listen on a chosen IP/port too
 Entry policies to allow/deny SOCKS requests based on IP address.
 First entry that matches wins. If no SocksPolicy is set, we accept
 all (and only) requests from SocksBindAddress.
 accept 192.168.0.1/16
 reject *
 Allow no-name routers (ones that the dirserver operators don't
 know anything about) in only these positions in your circuits.
 Other choices (not advised) are entry,exit,introduction.
AllowUnverifiedNodes middle,rendezvous
 Logs go to stdout at level "notice" unless redirected by something
 else, like one of the below lines. You can have as many log lines as
 you want.
 Send all messages of level 'notice' or higher to /var/log/tor/notices.log
 notice file /var/log/tor/notices.log
 Send only debug and info messages to /var/log/tor/debug.log
 debug-info file /var/log/tor/debug.log
 Send ONLY debug messages to /var/log/tor/debug.log
 debug-debug file /var/log/tor/debug.log
 To use the system log instead of Tor's logfiles, uncomment these lines:
 notice syslog
 To send all messages to stderr:
 debug stderr
 Uncomment this to start the process in the background... or use
 --runasdaemon 1 on the command line.
 1
 Tor only trusts directories signed with one of these keys, and
 uses the given addresses to connect to the trusted directory
 servers. If no DirServer lines are specified, Tor uses the built-in
 defaults (moria1, moria2, tor26), so you can leave this alone unless
 you need to change it.
 18.244.0.188:9031 FFCB 46DB 1339 DA84 674C 70D7 CB58 6434 C437 0441
 18.244.0.114:80 719B E45D E224 B607 C537 07D0 E214 3E2D 423E 74CF
 62.116.124.106:9030 847B 1F85 0344 D787 6491 A548 92F9 0493 4E4E B85D
 The directory for keeping all the keys/etc. By default, we store
 things in $HOME/.tor on Unix, and in Application Data\tor on Windows.
 /var/lib/tor
 The port on which Tor will listen for local connections from Tor  applications, as documented in control-spec.txt.  NB: this feature is
 currently experimental.
 9051
 This section is just for location-hidden services  Look in .../hidden_service/hostname for the address to tell people.
 HiddenServicePort x y:z says to redirect a port x request from the
 client to y:z.
 /var/lib/tor/hidden_service/
 80 127.0.0.1:80
 /var/lib/tor/other_hidden_service/
 80 127.0.0.1:80
 22 127.0.0.1:22
 moria1,moria2
 bad,otherbad
 This section is just for servers  NOTE: If you enable these, you should consider mailing your identity
 key fingerprint to the tor-ops, so we can add you to the list of
 servers that clients will trust. See the README for details.
 Required: A unique handle for this server
Nickname masquerade
 The IP or fqdn for this server. Leave blank and Tor will guess.
 noname.example.com
 Contact info that will be published in the directory, so we can
 contact you if you need to upgrade or if something goes wrong.
 This is optional but recommended.
 Random Person  You might also include your PGP or GPG fingerprint if you have one:
 1234D/FFFFFFFF Random Person  Required: what port to advertise for tor connections
ORPort 9001
 If you want to listen on a port other than the one advertised
 in ORPort (e.g. to advertise 443 but bind to 9090), uncomment
 the line below. You'll need to do ipchains or other port forwarding
 yourself to make this work.
 0.0.0.0:9090
 Uncomment this to mirror the directory for others (please do)
DirPort 9030 # what port to advertise for directory connections
 If you want to listen on a port other than the one advertised
 in DirPort (e.g. to advertise 80 but bind 9091), uncomment the line
 below. You'll need to do ipchains or other port forwarding yourself
 to make this work.
 0.0.0.0:9091
 A comma-separated list of exit policies. They're considered first
 to last, and the first match wins. If you want to *replace*
 the default exit policy, end this with either a reject *:* or an
 accept *:*. Otherwise, you're *augmenting* (prepending to) the
 default exit policy. Leave commented to just use the default.
ExitPolicy reject 0.0.0.0/255.0.0.0:*
ExitPolicy reject 127.0.0.0/255.0.0.0:*
ExitPolicy reject 10.0.0.0/255.0.0.0:*
ExitPolicy reject 172.16.0.0/255.240.0.0:*
ExitPolicy reject 192.168.0.0/255.255.0.0:*
ExitPolicy reject 169.254.0.0/255.255.0.0:*
# reject ports officially used for protocols that were never meant to be
# anonymous (e.g. email, usenet) because of the spam risk, thus reducing
# our worry that the world would associate Tor with pro-spam advocacy.
ExitPolicy reject *:25
ExitPolicy reject *:119
# reject ports officially used for poorly-designed protocols that are
# always attacked by script kiddies.
ExitPolicy reject *:135-139
ExitPolicy reject *:445
# reject ports commonly used by widely-adopted P2P filesharing programs.
# Tor does not take a stand on the ethics or legality of P2P
# filesharing, either in theory or in practice.  We have simply observed
# that encouraging P2P filesharing presently makes our network less
# useful to those for whom Tor was designed.
ExitPolicy reject *:1214
ExitPolicy reject *:4661-4666
ExitPolicy reject *:6346-6429
ExitPolicy reject *:6881-6999
# accept EVERYTHING else.  Tor should be open by default: that is our
# attitude; our formal policy statement should reflect that attitude.
ExitPolicy accept *:*
# Bandwidth throttling...
 800 KB
 100 MB

@_date: 2005-09-30 14:04:46
@_author: Giorgos Pallas 
@_subject: TOR Park Exit Node Question 
Whis has also been a question of mine. Why my tor router handles a very low traffic volume (~30 KB in and out) while at the same time has 100% connectivity, 100Mbps of real bandwidth and stays up for more than a week (until it crashes due to memory ;-)... Could anyone help with that? It's frustrating wanting to share (bandwidth in our case) with the community but not being able to do so!

@_date: 2005-09-30 14:14:52
@_author: Giorgos Pallas 
@_subject: TOR Park Exit Node Question 
Und something more about TOR Park: I must be missing something because when I unzip the tor park zip file ( I get a folder which contains only a "Firefox" folder, in which no setup file, batch file, or any file having to do with tor can be found...
Any ideas?
