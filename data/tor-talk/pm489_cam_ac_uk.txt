
@_date: 2012-05-16 20:24:17
@_author: P. Meredith 
@_subject: [tor-talk] Problem setting up Private Tor network 
Hi all,
I am trying to set up a private Tor network. I have followed instructions online to set up my to set up my directory servers found here:  When I kick off the servers I am able to establish a Tor circuit however I get the following warning (last two lines of snippet) in the log files of my dir-servs:
May 16 11:11:35.000 [notice] Bootstrapped 90%: Establishing a Tor circuit. May 16 11:11:47.000 [notice] Tor has successfully opened a circuit. Looks like client functionality is working. May 16 11:11:47.000 [notice] Bootstrapped 100%: Done. May 16 11:12:16.000 [notice] Performing bandwidth self-test...done. May 16 11:14:21.000 [notice] Time to vote. May 16 11:14:21.000 [notice] Choosing valid-after time in vote as 2012-05-16 18:15:00: consensus_set=1, last_interval=300 May 16 11:14:21.000 [notice] Vote posted. May 16 11:14:22.000 [notice] Uploaded a vote to dirserver 10.0.0.2:10002 May 16 11:14:22.000 [notice] Uploaded a vote to dirserver 10.0.0.4:10004 May 16 11:14:22.000 [notice] Uploaded a vote to dirserver 10.0.0.3:10003 May 16 11:14:23.000 [notice] Uploaded a vote to dirserver 10.0.0.1:10001 May 16 11:14:24.000 [notice] Uploaded a vote to dirserver 10.0.0.5:10005 May 16 11:14:31.000 [notice] Time to fetch any votes that we're missing. May 16 11:14:41.000 [notice] Time to compute a consensus. May 16 11:14:41.000 [warn] Consensus with empty bandwidth: G=0 M=0 E=0 D=0 T=0 May 16 11:14:41.000 [warn] Consensus with empty bandwidth: G=0 M=0 E=0 D=0 T=0
Before the bootstrapping process reaches 100%, the following lines seem to loop for a long time in my log file:
May 16 11:10:04.000 [warn] No available nodes when trying to choose node. Failing. May 16 11:10:04.000 [warn] Failed to find node for hop 0 of our path. Discarding this circuit.
When I run a tor client I am unable to finish the bootstrapping process - I think this is related to the previous issue. My logfile gives some detail:
May 16 11:50:51.000 [info] control_event_bootstrap_problem(): Problem bootstrapping. Stuck at 5%: Connecting to directory server. (Connection refused; CONNECTREFUSED; count 1; recommendation ignore)
As far as I can see things like V3 keys are consistent between torrc files and up to date.
If anyone could provide any help, or let me know what further details may be needed to provide me with some help it would be much appreciated.
Some background: I am working with virtual machines, using modelnet to emulate a network and the configuration is provided by the experimenTor toolset. I have read a couple of mails with similar issues however the solutions of giving the vms more memory or leaving the Tor setup run for a while did not seem to have any effect.
Thanks a lot,
