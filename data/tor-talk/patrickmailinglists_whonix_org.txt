
@_date: 2014-08-03 13:42:53
@_author: Patrick Schleizer 
@_subject: [tor-talk] using locally installed Tor in TBB 
shmick at riseup.net:
This happens because of missing Tor ControlPort access.
There are no instructions for how to use TBB with system Tor. But it is
Maybe you can add this to torproject.org's wiki?
Environment variable:
 Deactivate tor-launcher,
 a Vidalia replacement as browser extension,
 to prevent running Tor over Tor.
  export TOR_SKIP_LAUNCH=1
 The following TOR_SOCKS_HOST and TOR_SOCKS_PORT variables
 do not work flawlessly, due to an upstream bug in Tor Button:
 "TOR_SOCKS_HOST, TOR_SOCKS_PORT regression"
  TOR_SOCKS_HOST="127.0.0.1"
 TOR_SOCKS_PORT="9050"
What should work quite well is using env var "export TOR_SKIP_LAUNCH=1"
combined with rinetd, redirecting traffic from TBB's ports 9150 and 9151
to 127.0.0.1 with a config like this:
127.0.0.1 9150 127.0.0.1 9050
127.0.0.1 9151 127.0.0.1 9051
You also need some form of ControlPort authentication.
export TOR_CONTROL_PASSWD="password"
tor --hash-password password
See Tor manual HashedControlPassword.
Add the
HashedControlPassword hashedpassword
to /etc/tor/torrc and reload (/restart?) Tor.
- easier to keep your entry guards longer
- more difficult to set up

@_date: 2014-08-03 14:26:41
@_author: Patrick Schleizer 
@_subject: [tor-talk] how many verify their tbb ? 
As a maintainer of Whonix I like to note, that I am surprised, that
there are any Whonix signature downloads from Whonix mirrors at all. We
directly link Whonix signatures to whonix.org on our download page. [1]
We don't have a link to signatures pointing to mirrors anywhere.
A while ago we were able to boost numbers of OpenPGP signature downloads.
Old page design:
- 965 Whonix-Gateway.ova downloads | 34 Whonix-Gateway.ova.sig downloads
-> 1 in ~29 used OpenPGP verification
- 1173 Whonix-Workstation.ova downloads | 37 Whonix-Workstation.ova.sig
downloads -> 1 in ~32 used OpenPGP verification
New page design:
- 1015 Whonix-Gateway.ova downloads | 100 Whonix-Gateway.ova.sig
downloads -> 1 in ~10 used OpenPGP verification
- 972 Whonix-Workstation.ova downloads | 85 Whonix-Workstation.ova.sig
downloads -> 1 in ~12 used OpenPGP verification
You can read the full story, see the old and the new page design here. [2]
[1] [2]

@_date: 2014-08-07 14:04:32
@_author: Patrick Schleizer 
@_subject: [tor-talk] using locally installed Tor in TBB 
Hi isis,
thank you for working on this!
Comments on the script / patch:
- You switched from  to  While I personally
preferred to forget about bothering with sh and switching to bash, I
don't there are any systems that only have sh, no bash? (`checkbashisms`
may be helpful.)
- Can you run the script through the code analysis tool `shellcheck`
please? [1] It reports some issues that are worth fixing.
- Wouldn't it be better if the script started Firefox using `exec`? (As
per best scripting practices [4].)
If you wish I could do the changes in a github branch if you would be
willing to review.
All the best,
[1] shellcheck [2] is an online service and Libre Software
(downloadable) that detects problems with sh/bash scripts. Also
available in Debian jessie [3] and sid.
[2] [3] [4]

@_date: 2014-08-07 14:40:30
@_author: Patrick Schleizer 
@_subject: [tor-talk] Help with Default Browser 
if this about Linux or Windows?
If it is about Linux...
We're using Tor Browser as default browser in Whonix (based on Debian
It should be relatively simple for any developer like-minded person to
take the tb-default-browser package [1] and use it on plain Debian (or
other Linux distributions) to get the same functionality.
All that is missing is documentation, but I unfortunately cannot support
this use case outside of Whonix to due to time constraints at this time.
All the best,
[1]

@_date: 2014-08-09 21:47:18
@_author: Patrick Schleizer 
@_subject: [tor-talk] using locally installed Tor in TBB 
Hi isis!
Thank you a lot for your detailed answer!
If you plan on using that code again... I'd like to comment...
I find this a pretty non-standard behavior. Running start-tor-browser in
a shell is a bit like typing a command such as "iceweasel", "firefox",
or "torbrowser" in the shell. Usually in Linux world commands don't exit
and keep running in background when started that way. If a user wishes
to have that behavior, they usually add "& disown" to their command, I
So why not go for a simpler, more standard approach, launch it into
background (&); then wait (wait "$pid"); then check return code of wait;
Good point.
Sounds good.
All the best,

@_date: 2014-08-30 11:31:58
@_author: Patrick Schleizer 
@_subject: [tor-talk] BBC: NSA and GCHQ agents 'leak Tor bugs', 
How would they know the patches are made by someone paid by NSA or GCHQ?
If they reject patches with the reason "made by NSA or GCHQ", I would
assume that they will create a number of fake identities [if they don't
already have them in abundance] and submit patches using fake identities
by then.

@_date: 2014-12-08 18:44:49
@_author: Patrick Schleizer 
@_subject: [tor-talk] How to disable Tor Browser's Internal Updater? 
since updates downloaded by Tor Browser's Internal Updater [1] [2] are
unverified [3] we at Whonix project [4] are wondering [5] how to disable it.
Especially since updates are downloaded over Tor in case of Whonix.
Ideally, is there some way to disable it without recompiling / forking TBB?
[3] [4] [5]

@_date: 2014-11-15 15:21:31
@_author: Patrick Schleizer 
@_subject: [tor-talk] "Hidden Services" vs "Onion services" 
onion service looks nice. Not all onion services are location hidden
servers. Some use it as an alternative domain.

@_date: 2014-09-13 15:30:01
@_author: Patrick Schleizer 
@_subject: [tor-talk] Merging all languages (locales) into one Tor Browser 
I'd also appreciate if users could choose at first start of TBB rather
than at download time.
Sebastian G. :
+ would also make multi language support easier for Whonix.

@_date: 2014-09-20 09:28:50
@_author: Patrick Schleizer 
@_subject: [tor-talk] Whonix Anonymous Operating System Version 9 Released! 
Whonix is an operating system focused on anonymity, privacy and
security. It's based on the Tor anonymity network, Debian GNU/Linux and
security by isolation. DNS leaks are impossible, and not even malware
with root privileges can find out the user's real IP.
Whonix consists of two parts: One solely runs Tor and acts as a gateway,
which we call Whonix-Gateway. The other, which we call
Whonix-Workstation, is on a completely isolated network. Only
connections through Tor are possible.
 Download Whonix for VirtualBox Stable version.
 Download Whonix for KVM / QEMU / Qubes This is only useful if you have a testers mindset!
Instructions for KVM:
Instructions for QEMU:
Instructions for Qubes:
 Call for Help - If you know shell scripting (/bin/bash) and linux sysadmin, please
join us! There are plenty of ways to make Whonix safer.
- We are also looking for download mirros.
- For  we need some help with css, html,
mediawiki, wordpress, webdesign.
- Contribute: - Donate:  Changelog between Whonix 8 and Whonix 9 and More See blog post:

@_date: 2015-02-01 03:13:51
@_author: Patrick Schleizer 
@_subject: [tor-talk] Whonix Project Looking for Web Server Sponsor! 
Whonix is an operating system focused on anonymity, privacy and
security. It's based on the Tor anonymity network, Debian GNU/Linux and
security by isolation.
The project exists since 2012.
Learn more:
We are currently looking for a sponsor who is willing to donate a
suitable sized virtual or root server.
Programs we plan to install:
- debian
- varnish cache
- ngnix
- apache2
Web apps we plan to use:
- mediawiki
- wordpress
- smfforum
- phabricator
- (same as current whonix.org)
Requirements general:
- ssh access
- DDOS protection: We're nice people and we didn't have any issues with
DDOS yet. Should that even happen, we hope you could circumvent the DDOS
and would not end the the sponsorship because of this.
Requirements minimal:
- 40 GB HDD
- traffic ~ 300 GB / month
- ~ 1 MB / s
- probably growing as project grows
Requirements ideal:
- As an optional bonus - no requirement - we would also like to use the
server as an rsync master mirror.
- 100 GB HDD
- traffic ~ 2 TB / month
- ~ 50 MB / s
If you have technicians who would like to help with (initial) setup
(ssl...) and performance tuning (varnish...), that would be appreciated
as an optional bonus, but is not an requirement.
If you wish you can be attributed in our main homepage wiki footer
and/or in other appropriate places. Let's talk.
It needs to be a reputable company or individual.
Please start a conversation by contacting us by E-Mail.
Patrick Schleizer (project leader)
adrelanos at riseup dot net
fortasse (webmaster)
fortasse at riseup dot net
Sponsorship contract possible with Patrick Schleizer if desired.

@_date: 2015-02-01 03:46:46
@_author: Patrick Schleizer 
@_subject: [tor-talk] How to make TBB useable as "system Tor", as Tor, 
Fortunately, there is no need to make it less integrated to support this
use case.
The development process for
The folder structure can remain as is.
Probably too much of a request to be realistic as this would add quite
some more maintenance overhead.
No issue here. If the TBB tarball (linux) or zip archive (windows) works
in the usual, current, tor-launcher/Tor Browser startup way - and that
does work - and if it were not - it would be an independent issue from
this proposal - then one could also use tor-launcher/Tor/pluggable
transports without being forced to start Tor Browser.
To rephrase this proposal in an alternative way... At the moment, when
you download the TBB package, your only chance to use
tor-launcher/Tor/pluggable transports is to also start Tor Browser. No
way to do that without starting Tor Browser. What is being suggested
here, is an option to just start tor-launcher/Tor/pluggable transports
without starting Tor Browser. Then tor-launcher/Tor/pluggable transports
could be used for the usual applications that can be torified. And when
the user wants to start Tor Browser, it would just connect to the
already running tor-launcher/Tor/pluggable transports (if not already
I think you are interpreting too much into "system Tor". To my
knowledge, this term has been used for Linux "sudo apt-get install tor"
like approaches or installing Tor as a daemon/service on Windows. It
doesn't mean, automatically each and every program gets torified. Such
endeavors are separate projects and not part of this proposal.
These are already existing secondary issues. The Tor package is already
available as standalone for Windows for experts as system Tor. If they
use it and mess up, it's up to them. Being able to use TBB as "system
Tor" wouldn't make this situation better or worse.
We have some more ideas on how to implement this, such as in very short
- "ship folders that contain the add-ons rather than xpi's"
- "add this application.ini to the TBB package's tor-launcher folder"
- "fix path auto detection when run through iceweasel --app"
Then it could be started
iceweasel --app
or so.
We don't have a working proof of concept yet. But we might be able to
break this down into ~5 relatively small, non-intrusive changes or so.
Not trivial to figure out, if you're not into the tor-launcher code
base, but also not rocket science. ;)

@_date: 2015-02-02 23:58:02
@_author: Patrick Schleizer 
@_subject: [tor-talk] How to make TBB useable as "system Tor", as Tor, 
Being able to use the tor-launcher graphical user interface is what this
proposal is for.
By asking on this list, we were hoping for advice on where/how in
tor-launcher's source code one could best make these modifications to
reach this goal. I should have probably posted this on on tbb-dev rather
than tor-talk.

@_date: 2015-02-05 00:24:19
@_author: Patrick Schleizer 
@_subject: [tor-talk] corridor, a Tor traffic whitelisting gateway 
I don't think so. Looks like rustybird [Or someone else? Unlikely?]
deleted the whole account. See  - down as well.
Here is a copy:
Get your copy as long it lasts.

@_date: 2015-02-06 22:41:46
@_author: Patrick Schleizer 
@_subject: [tor-talk] Using Tor Hidden Services as Time Source 
Hello, I a developer of an anonymity-centric distribution. Called
Whonix, it's similar to TAILS but optimized for virtual machines.
We need to use a source to calibrate our system clock. For obvious and
non-obvious reasons, that source can't be NTP. The way we do it at the
moment is to fetch HTTP headers over SSL from trusted servers and use
the timestamp data.
We want to get rid of SSL and make use of the strong security properties
of Tor's end-to-end encryption for Hidden Services in order to safeguard
against clearnet SSL MITM attacks, which are within reach of powerful
Our plan is to contact hidden service operators, adding multiple
trustworthy hidden services to the list for both redundancy and load
distribution. Our estimated user base is 5000. The requests will only
involve fetching an HTTP header from the server, similar to `curl --head
Before simply implementing this feature and hoping Tor handles the load
without issue, we'd like expert (deep knowledge of Tor internals,
network size, paths, etc) and (hopefully) official responses to our idea.

@_date: 2015-02-09 16:19:34
@_author: Patrick Schleizer 
@_subject: [tor-talk] Trustworthy Tor Hidden Services? 
What web servers do you consider trustworthy, to take great care of
their visitors' privacy, that are stable and that get great amounts of
traffic, and most important, are reachable over .onion as a Tor Hidden
Please post them here.
Background... For distributed, authenticated, Tor friendly NTP
alternative (sdwdate), a number of Tor hidden web servers are required.
(Time will be extracted from http headers.)
The purpose of this post is to ask for suggestions of suitable web servers.
What web servers do you consider trustworthy, to take great care of
their visitors' privacy, that are stable and that get great amounts of
traffic, and most important, are reachable over .onion as a Tor Hidden
(The whole discussion about network time synchronization is off topic in
this thread, but you could open separate threads to discuss other aspects.)

@_date: 2015-02-09 23:05:49
@_author: Patrick Schleizer 
@_subject: [tor-talk] Trustworthy Tor Hidden Services? 
Indeed. That is too much of a requirement.
Good one.

@_date: 2015-02-09 23:05:58
@_author: Patrick Schleizer 
@_subject: [tor-talk] Trustworthy Tor Hidden Services? 
Griffin Boyce:
Forgot to say, they need to be for public use.
Good one.

@_date: 2015-02-12 13:30:49
@_author: Patrick Schleizer 
@_subject: [tor-talk] Using Tor Hidden Services as Time Source 
Hi Roger!
Roger Dingledine:
Indeed. This is something I am aware off. We're currently require the
time must be correct enough for Tor to start with. And then use the time
from hidden services for fine tuning and keeping the time current in the
long run. And for that use case, fetching time from hidden services
works well enough.
For the chicken-and-egg problem, there are more improvements to come in
future, that do not depend on using hidden services. Either using middle
of valid-after / valid-until and/or asking the user for the first rough
time fix and/or in future [when these features you speak about below are
added] asking Tor what the time is.
My primary concern was overloading the Tor network. But after having the
Tor network survive the millions of Tor clients by the botnet attack (
), and other much higher traffic hidden services use (C&C), I think it
was good to ask, but a non-issue.
Looking forward to it!

@_date: 2015-01-05 14:59:48
@_author: Patrick Schleizer 
@_subject: [tor-talk] How much of SSL CA protected traffic is read by NSA etc. 
Could you please explain how to interpret Jacob Appelbaum's talk at
31c3? [1]
See also. [2] [3]
Is (almost) all traffic that is protected by the usual SSL CA's browser
encryption being monitored by NSA and friends?
[2]  (slide 22, 34, 36)

@_date: 2015-01-07 13:34:47
@_author: Patrick Schleizer 
@_subject: [tor-talk] How much of SSL CA protected traffic is read by NSA 
Michael O Holstein:
Did he say so directly some other time?

@_date: 2015-01-24 16:07:47
@_author: Patrick Schleizer 
@_subject: [tor-talk] How to make TBB useable as "system Tor", as Tor, Vidalia, 
We would like to use TBB as "system Tor". Using TBB not just as
integrated browser bundle, but as as Tor, Vidalia (Tor GUI), pluggable
transports replacement on the system level. For any application. Not
just the browser.
- Most, latest technology for censorship circumvention, i.e. pluggable
transports such as meek, scamblesuite, fte, etc. will not be packaged
for Debian anytime soon.
- Pluggable transports are due to their nature too dynamically evolving.
There is a giant gap between availability of a pluggable transports and
installability from stable distributions such as Debian.
- Vidalia has been deprecated. There is no nicely looking, maintained
way to easily configure Tor and bridges anymore besides the tor-launcher
- TBB comes with the tor-launcher add-on, which is a well maintained GUI
for configuration and troubleshooting of Tor and all sorts of the latest
and greatest pluggable transports.
- TBB comes with recent versions of Tor.
- TBB is built reproducibly.
Current Problem
Think of the trac ticket as a generalized, non-hacky, robust solution
that can be merged into torproject mainline some day. You got any ideas
for that?
Also... Do you have any shortcuts in mind on how one could implement
this in any quicker, more hacky way?

@_date: 2015-01-25 04:51:29
@_author: Patrick Schleizer 
@_subject: [tor-talk] How to make TBB useable as "system Tor", as Tor, 
I know this.
This feature wouldn't make anything worse for regular TBB users. Just
those who would like to use it as "system Tor" would be free to do so.
That's what additional SocksPort's and stream isolation are for.
won't apply anymore, because of...
Tor Browser should set SOCKS username for a request based on first party

@_date: 2015-01-26 19:31:13
@_author: Patrick Schleizer 
@_subject: [tor-talk] How to make TBB useable as "system Tor", as Tor, 
He can use a daemon - but then he can not easily use tor-launcher as
configuration interface and neither use the greatest (and working!)
pluggable transports for circumvention. This is a limitation and this is
what this thread is about.

@_date: 2015-01-26 19:33:29
@_author: Patrick Schleizer 
@_subject: [tor-talk] How to make TBB useable as "system Tor", as Tor, 
carlo von lynX:
Thanks! :)
Tails has the same issue. They're also lagging behind the latest (and
working!) pluggable transports, maybe also because there is no
easy/maintainable way to reuse those pluggable transports from the TBB
That is:

@_date: 2015-01-26 19:45:08
@_author: Patrick Schleizer 
@_subject: [tor-talk] How to make TBB useable as "system Tor", as Tor, 
I am aware of that. This feature wouldn't make anything worse for anyone.
They don't.
This is unrelated here. The idea is not to even need start Tor Browser.
In other words:
Being able to use the components, tor-launcher, Tor and pluggable
transports that come with the TBB tarball for system use on Debian. For
use without or with the Tor Browser. Being able to use these components,
without being forced to run Tor Browser.
As for "why" please refer to the "why" part of my original post.

@_date: 2015-01-31 17:50:42
@_author: Patrick Schleizer 
@_subject: [tor-talk] corridor, a Tor traffic whitelisting gateway 
Gavin Wahl:
Corridor also supports connecting to normal Tor relays (not bridges) only.
I don't think so, but happy to be proven wrong.
You might be interested in this comparison, that includes corridor:
Full disclosure:
I am a maintainer of Whonix.

@_date: 2015-07-25 16:49:35
@_author: Patrick Schleizer 
@_subject: [tor-talk] Can TCP Sequence Numbers leak System Clock? 
Is it possible to derive and/or estimate the system clock by observing
TCP sequence numbers?
Jacob Appelbaum [1]:
then hash it. Yet another way to leak the system clock to the network.
As I understand the paper 'An Improved Clock-skew Measurement Technique
for Revealing Hidden Services' [2] (6/23 = pdf page 3), it implies that
TCP sequence numbers can leak the system clock.
Is this the case or does that paper mean something else?
On the other hand, I've read the claim "The kernel embeds the system
time in microseconds in TCP connections.", but I haven't found the code
in question to confirm, that this is so. Any idea?
Was also recently raised on Tor's issue tracker. [3]
More resources: [4] [5]
[1] [2] [3] [4]

@_date: 2016-08-22 18:59:00
@_author: Patrick Schleizer 
@_subject: [tor-talk] Advanced Deanonymization Attacks 
A number of advanced deanonymization attacks. These do not just apply to
Whonix, but any anonymity system. Some are also general security issues.
Rather than exploiting bugs in the hypervisor to break out, some of
these attacks rely on the design of the underlying hardware to bypass
privilege separation boundaries and extract (or leak) sensitive
information to the network. No need for alarm, there are many
qualifications to this and details in the listed tickets on proposed
countermeasures. We are interested in cooperation to better assess the
performance impact of the planned fixes.
- Keystroke Deanonymization: [1]
- Advanced Attacks Meta ticket: [2]

@_date: 2016-02-09 23:42:22
@_author: Patrick Schleizer 
@_subject: [tor-talk] [Secure Desktops] [Tails-dev] Persistent Tor start 
[quoting you in full since this mail was eaten by the whonix-devel list
for some reason even though I manually allowed it]
The simplest answers to give it are "same as Tor default", "same as
Debian system Tor" and/or "same as TBB". Since you can install Debian
and Tor on USB or TBB and USB, then be on travel, The Tor Project has
decided to keep entry guards across geographical location. The would
imho be the best [as closest to TPO] solution that any Tor focused
distribution can do.
I'll rephrase this below.
day 1
1) Tails user regularly goes to physical place A that provide [free] WiFi.
2) The name of the wifi is FreeWifi832458252823523 with MAC address "A".
The user uses the regular way to set up a WiFi connection. Network
Manager etc.
3) Now, Tails would remember FreeWifi832458252823523 and assign entry
guard A.
day 2
3) Tails user goes to the same physical place A that provide [free] WiFi.
2) The name of the wifi has changed to FreeWifi358235892435 with mac
address "B". The user uses the regular way to set up a WiFi connection.
Network Manager etc.
3) Now, Tails would remember FreeWifi358235892435 and assign entry guard A.
This is the behavior I expect from most users. And this is what I meant
by 'users will click through whatever hoops required to make the WiFi
connect again'.
The entry guard selection would now be influenced by by the provider of
the [free] WiFi. And I think such an adversary capability is something
as we agree that is to be avoided.
To make the attack better, the adversary could decide to tear it down.
The user would likely recognize this as networking would fail. Then the
user would likely look into Network Manager scan results and click the
next FreeWifi[somelongnumberhere].
To have location aware code, you need to gather location data. WiFi
names, signal strength, MAC addresses are not suited to conclude the
current location as this information can be influenced by adversaries.
You perhaps would have to gather such data from GPS. [I don't know if
there are attacks against it that are related here.] But I guess most
devices where Tails is running nowadays don't have GPS.
So you would have to ask the user for its location. But usability wise
such questions are awful.

@_date: 2016-02-22 11:52:53
@_author: Patrick Schleizer 
@_subject: [tor-talk] [Tails-dev] [Secure Desktops] Persistent Tor start 
I mistyped. Here is the correct version.
day 1
1) Tails user regularly goes to physical place A that provide [free] WiFi.
2) The name of the wifi is FreeWifi832458252823523 with MAC address "A".
The user uses the regular way to set up a WiFi connection. Network
Manager etc.
3) Now, Tails would remember FreeWifi832458252823523 and assign entry
guard A.
day 2
3) Tails user goes to the same physical place A that provide [free] WiFi.
2) The name of the wifi has changed to FreeWifi358235892435 with mac
address "B". The user uses the regular way to set up a WiFi connection.
Network Manager etc.
3) Now, Tails would remember FreeWifi358235892435 and assign entry guard B.
I mistyped. Entry guard B.
You quoted me! Glad that I was heard! :)
Or perhaps consider asking the tor-talk (-dev) mailing list in order to
get more input.

@_date: 2016-01-02 22:36:13
@_author: Patrick Schleizer 
@_subject: [tor-talk] Persistent Tor start in Tails vs location aware Tor 
Persistent Tor state would be a good improvement. Could be the first
iteration. It would make Tails less fingerprintable and more secure for
people staying in the same location and/or not carding about
But I think location aware Tor entry guards (LATEG) are wrong headed.
The topic of LATEG is so difficult to explain to the user, that as you
plan, you cannot add it the the UI. Perhaps buried under an advanced
setting, but that's not worth so much. So it cannot be manual by
default. Only automatic. Which brings me to the issue.
There is a reason, why Tor picks a Tor entry guard and sticks to it. By
changing it more often than Tor would do, you are subverting the reason
for using Tor entry guards in the first place. In a sense, you are to a
small degree thereby becoming a Tor developer, and modifying Tor's relay
choosing algorithm.
I wonder, if the whole LATEG thing would not be much better implemented
in Tor itself. If so, then any (further) research of the entry guard
topic would still apply to Tails, and not to Tor only.
The documentation advice for advanced users caring about AdvGoalTracking
could be to use obfuscated [private] bridges and to alternate
them per travel location.
Or perhaps you might be able to explain in tor-launcher /
anon-connection-wizard [1] [2] [3] the LATEG / AdvGoalTracking issue.
spoof only the MAC address of the router to reuse a given Tor state;
they also have to spoof the SSID which is visible to the user and might
be detected as malicious. [...]
I find it unlikely, that users might judge an often changing SSID
malicious. FreeWifi832458252823523 vs FreeWifi358235892435. How many
users are going to remember that? I would guess, they would just click
through whatever hoops required to make the WiFi connect again.
[1] [2] [3] python rewrite of tor-launcher

@_date: 2016-01-03 17:20:14
@_author: Patrick Schleizer 
@_subject: [tor-talk] OFTC and Tor 
What are your experiences with OFTC and Tor blocking recently?

@_date: 2016-01-05 13:41:08
@_author: Patrick Schleizer 
@_subject: [tor-talk] OFTC semi-permanent Tor Blocking 
Created a ticket for this.
move away from OFTC to new functional, Tor-friendly IRC network

@_date: 2016-01-05 13:42:29
@_author: Patrick Schleizer 
@_subject: [tor-talk] OFTC semi-permanent Tor Blocking 
Please suggest Tor-friendly IRC networks.
Ideally ones, that would welcome the Tor community and actively
ensure/prioritize keeping it functional for Tor users.

@_date: 2016-01-06 16:03:48
@_author: Patrick Schleizer 
@_subject: [tor-talk] OFTC semi-permanent Tor Blocking 
Do you use it as developer to developer only chat?
Or do you use it as public chat room / IRC replacement also?

@_date: 2016-01-07 21:35:29
@_author: Patrick Schleizer 
@_subject: [tor-talk] OFTC semi-permanent Tor Blocking 
Comment (by yawning):
Is there an IRC network that won't start blocking Tor connections when
the usual suspects get unhappy and decide to spam/DoS the IRC

@_date: 2016-07-07 22:57:00
@_author: Patrick Schleizer 
@_subject: [tor-talk] Tor routing algorithm questions 
scenario A)
Let's assume someone's Tor client picked an entry guard on IP
AAA.BBB.CCC.EEE. And then [without knowing and/or by chance] tried to
make a torified connection to [1] IP AAA.BBB.CCC.EEE.
- Would Tor use that entry guard to establish the connection?
- If so, wouldn't that open up for an end-to-end corelation attack?
- Does it make a difference if the torified connection is to
AAA.BBB.CCC.EEE or AAA.BBB.CCC.EEF?
difference scenario B)
Let's assume someone using WiFi with IP WWW.XXX.YYY.ZZZ starts Tor for
the first time. Its Tor client picked an entry guard on IP
AAA.BBB.CCC.EEE. Now, the user leaves that WiFi and uses another Wifi
with IP AAA.BBB.CCC.EEE or AAA.BBB.CCC.FFF.
- Would Tor be clever enough to move on to another entry guard?
- What if the user was using a bridge on IP AAA.BBB.CCC.EEE? Would to be
refusing that bridge?
Does and if so in how far does Tor take the users external IP address as
well as its destination IP addresses into account?

@_date: 2016-07-08 11:44:00
@_author: Patrick Schleizer 
@_subject: [tor-talk] using a VPN, 
It is possible to host Tor relays [any... bridges, entry, middle or
exit] behind VPN IPs using VPN port forwarding. This is an interesting
way to contribute to Tor while not exposing oneself to too much legal risk.
scenario 1)
* a) User uses VPN IP A on the host, thereby using it as it's first relay.
* b) User's Tor client happens to pick a Tor exit relay running on VPN IP A.
* Conditions a and b match at the same time. The user is now using the
same IP as first and last proxy.
--> By using the VPN the user did not get more, but less secure.
different scenario 2)
* a) User sets up a VPN inside Whonix-Workstation. Thereby that results
in user -> Tor -> VPN -> internet. Using VPN IP A.
* b) A Tor entry guard is being hosted on VPN IP A.
* Conditions a and b match at the same time. The user is now using the
same IP as first and last proxy.
--> By using the VPN the user did not get more, but less secure.
This opens up for end-to-end corelation attacks. Ones that would not
have been possible without using the extra tunnel link. These attacks do
not require a global adversary or colluding ISPs but simply the provider
of one server and a bit of bad luck.
If you think this is unlikely, I am not sure about this. In an economy
with a deep labor division, ones are providing the service to host
servers (VPS etc.). Others provide VPN services and rent such servers.
I conclude that it is very difficult to benefit from extra tunnel links.
One would have to very cleverly choose a provider that does not support
port forwarding or otherwise does not use servers/IPs that are being
reused by others for the purpose of hosting Tor relays or bridges. Very
cleverly choose the location of its VPN and perhaps use bridges for
finger location control.
Perhaps choosing providers that provide private IP addresses in the
sense that these are not shared with others?
But even then, even if that was sorted out, the if extra tunnel-link
improve or decrease anonymity is controversially disputed:
- [tor-talk] Tor routing algorithm questions
Roger Dingledine:

@_date: 2017-04-09 14:07:00
@_author: Patrick Schleizer 
@_subject: [tor-talk] How to use Tor Browser for security not anonymity? How 
1) How can one easily hack TBB to use clearnet? [1] (idea [2])
2) How can one enable cookies to persist in TBB?
3) How can one re-enable the Firefox password manager in TBB so one can
store passwords?
To archive that I've disabled private browser and tinkered with lots of
torbutton Firefox config settings to no avail. Could you please kindly
advice on how to archive that?
Tor Browser is better hardened than regular Firefox and over time, it
will be even better hardened, even sandboxed.
For clearnet browsing where Tor is either not required or creating a
mess (such as online banking), it would be awesome if one could use Tor
Browser without going through Tor.
I guess it's very safe to assume, the most users won't use TBB
exclusive. They also want to use clearnet. But the value of a super
hardened secure browser TBB is somewhat reduced when then using a
non-hardened browser for clearnet use, which could lead to system
Of course this TBB hacking for clearnet use would for now only be advise
able for advancement users to not mess up a Tor Browser actually using
Tor vs a Tor Browser actually using clearnet. Would be up to oneself to
have some protections in place such as using a dedicated VM or computer
for that purposes so that one won't accidentally confuse one browser
with another.
[1] I hear, at some point in future, TBB will no longer have TCP
compiled in, and only use unix domain sockets. That's awesome for TBB
use with Tor, but makes TBB use with clearnet hard. Long term a solution
to redirect TOR_SOCKS_IPC_PATH to clearnet would be needed.
[2] Idea how to hack TBB to use clearnet.
We could set these environment variables:
export TOR_NO_DISPLAY_NETWORK_SETTINGS=1
export TOR_SKIP_CONTROLPORTTEST=1
export TOR_SKIP_LAUNCH=1
export TOR_SOCKS_IPC_PATH=/path/to/unix-domain-socket-file
then use socat to redirect to unix domain socket file to 9150.
On 9150, we could have a local ssh server running
sudo apt-get install openssh-server
and then use ssh to open a local socks port forwarding to our local ssh
server, which then would use clearnet.
sudo apt-get install openssh-client
ssh -D 9150 user at 127.0.0.1

@_date: 2017-02-06 16:10:00
@_author: Patrick Schleizer 
@_subject: [tor-talk] Transparent proxy and Torbrowser 
Transparent torification for Tor Browser is discouraged. It breaks Tor
Browser's per-tab stream isolation, since there is no Tor SocksPort
adhering socks user name.
There is no more Vidalia. It's been deprecated for a while now. What you
are referring to is probably tor-launcher, a Tor Browser add-on, the Tor
connection wizard. Not to be confused with torbrowser-launcher.
Long term, TCP is going to be removed from Tor Browser. This is for leak
protection purposes. By then Tor Browser will only use Tor SocksSocket
(unix domain socket). To make it future proof, you are better off using
SocksSocket - unless you then want to compile Tor Browser yourself with
TCP support.
We at Whonix use something remotely similar to what you are attempting.
The  gives you an
idea how you can use the Tor Browser Bundle to use system Tor with an
already existing SocksSocket file. All using environment variables
without any TBB file level modifications required.
It's Tor, not TOR.

@_date: 2017-02-06 16:18:00
@_author: Patrick Schleizer 
@_subject: [tor-talk] Transparent Proxy with iptables 
A ticket was created just recently by me for that.
Tor TransparentProxy documentation: add IPv6 support / port to nftables
Can you edit
please or if you are shy create a new torproject wiki page? I think that
is the best way to get most exposure and input over time.
Best regards,

@_date: 2018-08-07 10:17:00
@_author: Patrick Schleizer 
@_subject: [tor-talk] Whonix 14 has been Released 
Hash: SHA512
After more than two years of development, the Whonix Project is proud
to announce the release of Whonix 14.
Whonix 14 is based on the Debian stretch (Debian 9) distribution which
was released in June 2017. This means users have access to many new
software packages in concert with existing packages such as a modern
branch of GNuPG, and more. [1][2][3]
**Major Changes and New Features**
Whonix 14 contains extensive security and usability improvements, new
features and bug fixes. For a detailed description of these and other
changes, please refer to the official release notes. [4]
* Rebased Whonix on **Debian stretch** (Debian 9).
* Whonix 14 is **64-bit** (amd64) only - 32-bit (i386) images will no
longer be built and made available for download. [5]
* The new **Anon Connection Wizard** [6] feature in Whonix simplifies
connections to the Tor network via a Tor bridge and/or a proxy.
* The Tor pluggable transport **meek_lite** [7] is now supported,
making it much easier to connect to the Tor network in heavily
censored areas, like China. [8]
* **Onioncircuits** are installed by default in Whonix. [9]
* Tails' **onion-grater** program has been implemented to enable
**OnionShare, Ricochet and Zeronet** compatibility with Whonix. [10]
* **Onion sources** are now preferred for Whonix updates/upgrades for
greater security.
* Reduced the size of the default, binary Whonix images by
approximately **35 per cent** using zerofree. [11] [12]
* **Updated Tor** to version 3.3.7 (stable) release to enable full v3
onion functionality for both hosting of onion services and access to
v3 onion addresses in Tor Browser.
* Created the **grub-live package** [13] which can run Whonix as a
**live system** on non-Qubes-Whonix platforms. [14]
* Corrected and hardened various **AppArmor profiles** to ensure the
correct functioning of Tor Browser, obfsproxy and other applications.
**Known Issues**
* Desktop shortcuts are no longer available in non-Qubes-Whonix.
* OnionShare is not installed by default in Whonix 14 as it is not in
the stretch repository. [15] It can still be manually installed by
following the Whonix wiki instructions [16] or building it from source
code. [17]
* Enabling seccomp (Sandbox 1) in /usr/local/etc/torrc.d/50_user.conf
causes the Tor process to crash if a Tor version lower than 0.3.3 is
used. [18] [19]
While there may be other issues that exist in this declared stable
release, every effort has been made to address major known problems.
Please report any other issues to us in the forums, after first
searching for whether it is already known.
  **Download Whonix 14**
Whonix is cross-platform and can be installed on the Windows, macOS,
Linux or Qubes operating systems. Choose your operating system from
the link below and follow the instructions to install it.
  **Upgrade to Whonix 14**
Current Whonix users (or those with 32-bit hardware) who would prefer
to upgrade their existing Whonix 13 platform should follow the upgrade
instructions below.
  **What’s Next?**
Work on Whonix 15 is ongoing and interested users can refer to the
roadmap to see where Whonix is heading. [20]
Developer priorities are currently focused on easing the transition to
the next Debian release due in 2019 (“buster”; Debian 10) and
squashing existing bugs, rather than implementing new features.
We need your help and there are various ways to contribute to Whonix -
donating or investing your time will help the project immensely. Come
and talk with us! [21]
[1] [2] [3] [4] [5] Whonix 13 users with 32-bit systems can however upgrade their
platform by following the available wiki instructions, rather than
download new Whonix-WS and Whonix-GW images.
[6] [7] [9] [10] [11] [12] VirtualBox .ova and libvirt qcow2 raw images. The Whonix-Gateway
is reduced from 1.7 GB to 1.1 GB, while the Whonix-Workstation is
reduced from 2 GB to 1.3 GB.
[13] [14] grub-live is optional and requires the user to first enable it
[15] [16] [17] [18] [19] [20] [21]

@_date: 2018-11-21 14:27:00
@_author: Patrick Schleizer 
@_subject: [tor-talk] Whonix 14 with XFCE or CLI for VirtualBox released! 
**Platform Support**
Since Whonix can run inside VirtualBox, Whonix can be run on top of
Windows, Mac or Linux.
Whonix is also available on top of Qubes, called Qubes-Whonix.
**Major Changes**
Previously Whonix was only available with KDE desktop environment.
This release makes Whonix available with XFCE desktop environment.
Therefore Whonix gets more responsive, boot faster and uses less system
This release also makes a separate flavor of Whonix CLI available.
Whonix without a desktop environment, with a virtual console only.
**Download Whonix for VirtualBox**

@_date: 2018-10-24 09:42:00
@_author: Patrick Schleizer 
@_subject: [tor-talk] derive onion v3 key from mnemonic seed phrase? 
is it possible to derive an hidden service onion v3 private key from a
mnemonic seed [1]?
[1]
