
@_date: 2013-12-04 10:57:36
@_author: James Marshall 
@_subject: [tor-talk] Any risks with another application using Tor's SOCKS 5 
I asked this before but didn't get a response:
Is there any risk with another local application using Tor's SOCKS 5
interface?  I heard a vague comment that it wasn't recommended, but I
haven't heard exactly what the risks are, if any.
This is for CGIProxy, which can use SOCKS 5 to provide a clientless
front-end to the Tor network (clientless in the sense that it doesn't
require an installation on the browsing machine).  This could significantly
increase the potential user base of Tor, since many users can't or don't
want to install anything on their browsing machine.
SOCKS 5 is insecure if the client and server are on different hosts and
GSSAPI isn't used, but are there any problems if they're on the same host?
If there are no risks to doing this, then perhaps it should not be
Thanks a lot!  Links to previous discussions welcome.  I'm curious about
even small potential risks, including any in using CGIProxy.  If I don't
hear any response this time, I'll assume it's safe to use Tor like this.

@_date: 2013-12-04 11:59:27
@_author: James Marshall 
@_subject: [tor-talk] Any risks with another application using Tor's SOCKS 
Thanks for the response.
SOCKS 5 insecurity:  If you use username/password authentication (as Tor
does), the username and password are sent in the clear.  That's one reason
not to open the SOCKS 5 port to the world.  Another reason might be that a
user is unable to modify proxy settings, e.g. in an Internet cafe.
I've never used GSSAPI authentication, but my understanding is that SOCKS 5
is secure if you use it.
Corrections always welcome.

@_date: 2013-12-04 16:51:18
@_author: James Marshall 
@_subject: [tor-talk] Any risks with another application using Tor's SOCKS 
Thanks for the link to TBB's design document-- very useful.  I haven't read
it all, but I'm looking at section 2.2, "Privacy Requirements":
1) "Cross-Origin Identifier Unlinkability"-- so do sites with CORS or
Content-Security-Policy: not work through Tor?  CGIProxy supports CSP but
not CORS yet; I could add a flag to disable those two technologies.
2) "Cross-Origin Fingerprinting Unlinkability"-- this led me to read
section 3, "Adversary Model" and section 3.3, "Adversary Capabilities -
Attacks", and to review section 4, "Implementation".  CGIProxy handles some
but not all issues, but I believe it could be extended to cover the rest
(it can trap access to any JS or DOM property or method, for example).
3) "Long-Term Unlinkability"-- yeah, this has to be handled at the browser
end; fortunately, most browsers offer "private browsing" options, though I
imagine those would be disabled in a typical Internet cafe in China.
By "install" Tor, I mean even copying a file.  This is relevant when e.g.
it's easier to transmit a URL than a piece of software to the user (via
radio/TV, via email when attachments are blocked, etc.).  Also, some users
may be wary of running Tor or another tool locally, if e.g. there's
monitoring software running (though this could arguably detect browser
accesses to sites with CGIProxy too).  Finally, even the minor trouble of
putting something on a USB stick might discourage some users.  Consider
that many (most?) in China don't care about being censored.  So I still
maintain that using CGIProxy is easier than installing and using anything
that requires software on the client side.
I'm also curious how Tor software gets into the hands of users in the first
place.  Hand-to-hand is best of course, but it seems like many users would
need something like CGIProxy or another circumvention tool to initially
obtain the Tor software.
Absolutely, a user of CGIProxy has to trust the proxy operator!  But the
same is true with Tor exit nodes too (except for SSL traffic), and there
the user has no chance to know the exit node operator.
Note that I'm not trying to pit CGIProxy against Tor.  I think they're very
different tools, and each is better in certain situations.  I see this as a
useful case of them working together, though, if any risks are ironed out.
Thanks again,

@_date: 2013-12-05 11:09:57
@_author: James Marshall 
@_subject: [tor-talk] Any risks with another application using Tor's SOCKS 
No worries, I understand that.  I was just responding to the text in that
section, which seems to be just about local storage.
Interesting, thanks.  I absolutely agree that self-regulation as a
principle doesn't work, in this case the self-regulation by servers.  One
of the biggest points of anonymity is to deal with a potentially malicious
server, after all.
Yeah, I think Tor and CGIProxy each address privacy in fundamentally
different ways.  CGIProxy relies on trust between the user and the proxy
owner, and Tor tries to be safe without that trust relationship.
Yes, that's exactly the model.  Like I say, for some potential users it's
easier to obtain a URL than a software package.
I think you want to be really careful about describing the security
Since the beginning, CGIProxy has relied on a trust relationship between
the user and proxy owner (though I haven't always made that as clear as I
should have).  The idea is that there are many independent instances of
CGIProxy running, each serving a circle of trusted people.  So if we assume
that trust, then the proxy owner won't spy on the users.
If we're talking about a large circumvention network using CGIProxy (e.g.
run by some company or NGO), then the proxy owner may be a stranger to the
user, and the trust relationship relies on the good public reputation of
that proxy owner.
This doesn't guard against spies breaking into the server and replacing
CGIProxy with malware; that's a problem with just about all (?) forms of
proxies, though I think Tor is much safer from this than the rest because
of its multi-hop approach.  But yeah, proxy privacy relies on server
If I'm missing something, then please let me know!

@_date: 2013-11-06 11:45:53
@_author: James Marshall 
@_subject: [tor-talk] Dangers of using Tor client as SOCKS 5 proxy from 
I recently added SOCK 5 client support to CGIProxy, and it can now act as a
front-end to a Tor client on the same machine.  I hear this isn't
recommended, but I'm trying to find out any specific security risks of
doing so, so I can address them.  Can you think of any risks?  Why is this
setup not recommended?
This might be useful to give a clientless interface to the Tor network, if
a user can't or doesn't want to install anything on their browsing machine
(e.g. Internet cafes, fear of malware).  Using the Tor Browser Bundle isn't
an option in these situations.
I know SOCKS 5 is insecure without GSSAPI, but if both ends of the SOCKS 5
connection are on the same machine, is there any risk?  Are there tools
that can spy on local connections?
I'm always interested to hear of any other security risks with CGIProxy
too.  For the record, it safely supports JavaScript and Flash, and prevents
any direct connection between the user and the destination server.  The
next release supports and uses the Content-Security-Policy: header to
ensure that, on top of what the program already does.
Thanks for any thoughts.  No idea too small.  Links to other discussions

@_date: 2013-11-17 15:46:11
@_author: James Marshall 
@_subject: [tor-talk] New to TOR 
If you have an account on a Web server somewhere, one of several solutions
is to install CGIProxy for a simple way to look like you're coming from
another IP address.  Feel free to contact me privately if you have
But yeah, as others have said, you'll likely need a new email address and
identity.  Working things out with the site's webmasters is probably the
best solution.
Not trying to be self-promotional on the Tor list, it's just my usual
advice for this situation.  :)

@_date: 2014-02-07 12:55:47
@_author: James Marshall 
@_subject: [tor-talk] Pissed off about Blacklists, and what to do? 
As others have pointed out, the fact (?) that Tor users are no more likely
to abuse may not matter as much as the *perception* that they are.  However
unfairly, the perception of something often carries the day more than the
facts, and should be addressed when possible.
At the risk of sounding self-promotional again:  I've touted using CGIProxy
as a clientless front-end to the Tor network, but what if, as one technical
solution here, someone used Tor to access a server running CGIProxy in
order to access sites that blacklist Tor?  In other words, switch the order
from what I suggested before.  It seems that this would get the anonymity
protection of Tor, but would not be blacklisted as long as the destination
server didn't blacklist the CGIProxy server.
Does anyone see any risks in that?  (Again, CGIProxy definitely relies on a
trust relationship between the user and the owner of the CGIProxy instance.)
Note that Hulu doesn't currently work through CGIProxy, but I can
prioritize fixing that if there's demand.
