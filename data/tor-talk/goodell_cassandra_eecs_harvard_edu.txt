
@_date: 2004-10-07 08:19:24
@_author: Geoffrey Lewis Goodell 
@_subject: smokeping - or your RTT from tor26 
Increasingly, Internet service providers are getting into the habit of
filtering ICMP ECHO packets.  The reasoning is something to the effect
of: "Two widespread worms happen to use pings prior to probing.  By
blocking pings, we can reduce infection and thus save money.  Since our
goal is to save money, this is what we will do.  98% of our customers
use the Internet only to browse the plethora of HTTP servers running on
port 80, and thus ping is not a vital part of our business model."
Sure, this sucks.  It breaks path MTU discovery; it makes diagnosing
network errors difficult.  But not everyone is in control of the
upstream routers.
For example, you will not hear from cassandra or serifos.  I wish that
this were not the case, but the fascists who run the upstream connection
from the particular network on which those two machines lie follow the
sort of braindead reasoning I outlined in the first paragraph.  I
apologize on their behalf, and frankly I am a bit embarrassed by their
behavior.  But as I said earlier, there is nothing that I can do.

@_date: 2004-09-01 14:33:26
@_author: Geoffrey Lewis Goodell 
@_subject: Limiting possible last hops 
Note that Google, for example, uses DNS in such a manner to ensure that
the actual host you are using is a function of your location in the
network.  One problem I can imagine is that perhaps you would like a way
to tag packets to indicate that some of them want to use the constrained
set of egress points while others do not, and that it would be nice if
you could do this without restarting the server or changing the state of
the tor node.  What do people think of the idea that egress point
constraints could be metadata associated with the packets as they
traverse the Tor network?  Also, what do people think of the idea that
special DNS names could be used to impose such constraints, like using
" for the hostname of
hosts that you want to reach via a certain constrained set of ExitNodes?

@_date: 2004-09-01 16:53:09
@_author: Geoffrey Lewis Goodell 
@_subject: Open Proxy Monitors 
The risk I worry about is that IRC operators will develop technology to
create a list of onion routers and publish the list.  Internet service
providers will use this list to shut down operators of Tor nodes
systematically, despite the fact that nobody seems to care about what
ordb says about open mail relays, because they will be pressured by
governments and intellectual property rights owners, since anonymity
threatens their interests.

@_date: 2005-04-15 10:19:14
@_author: Geoffrey Goodell 
@_subject: TOR dying 
Thanks for your report.  I have also been running into the same problem,
and I submitted it as a bug report:
My suspicion is that the problem is related to the fact that both rodos
(my server with the problem) and spoon (presumably your server with the
problem) are among the very fastest, with allocation of the most file
I also suspect that you and I are both running the ancient version of
libevent that exists in the form of a Debian package.  Perhaps if we
could pester Niels Provos nicely, he might be inclined to give us
something that does not have the rare bug exposed by fast Tor servers.
;)  Anyway, just a thought.
Please add more details on the Flyspray page if you have more to give.

@_date: 2005-04-04 23:59:30
@_author: Geoffrey Goodell 
@_subject: tor v0.1.0.2 rc - Problem connecting to news servers 
Hi Konstantine,
Generally speaking, you can only connect to a particular port via Tor if
your Tor client is able to use a node configured to "exit" to that
particular port.  Whether a given Tor node is configured to exit to a
particular port is a matter of policy.  The right-hand side of this
table shows the exit policies for each Tor node for a sampling of ports.
Note that News is port 119, and that presently there are only three Tor
nodes that exit to port 119.  Of those three, one is too slow to use.
When you only have two nodes to choose from, you are likely to run into
problems such as nodes being maxed out, either by bandwidth or by CPU.
It is unsurprising given this circumstance that you were unable to
connect to port 119.
If you believe that Tor should allow connections to port 119, then you
should run a Tor node with a policy that supports this.  However, the
reason that Tor administrators generally choose to not exit to port 119
(and the reason why Tor developers chose not to allow connections to
port 119 by default) is the potential for malicious parties to abuse Tor
to send spam.
Please let us know if you have further questions.  We hope that your
experience using Tor for other applications has been more successful!

@_date: 2005-04-18 22:53:55
@_author: Geoffrey Goodell 
@_subject: Tor as a component of a cohesive anonymizing OS 
As a starting point, I offer "edgeproxy", which is the HTTP proxy that I
wrote (i.e., derived from one of the Perl Cookbook examples) in order to
address the needs of Blossom (HTTP Host field substitution, also munging tags
like A and IMG).  It is not much, and it only deals with GET and POST
requests at present, but it might be worth a look.

@_date: 2005-04-19 10:34:00
@_author: Geoffrey Goodell 
@_subject: (FWD) New Hidden Service 
This sounds great, but the service seems to be inaccessible presently.

@_date: 2005-04-05 13:37:10
@_author: Geoffrey Goodell 
@_subject: tor v0.1.0.2 rc - Problem connecting to news servers 
For the record, your (ADSL?) connection (512/128) should be just fine
for a Tor server.  It might not be the fastest server out there, but it
would certainly help.

@_date: 2005-04-06 10:00:29
@_author: Geoffrey Goodell 
@_subject: Middleman nodes listed as exit nodes 
This is correct.  I originally intended for the script to be used
primarily to display exit policy, though now it is also used to display
network information, uptime, throughput, nickname, and country as well.
Perhaps we should change the title to "Tor Node Status"?  I am hesitant
to change the name of the script, since people have written scripts to
depend upon it.

@_date: 2005-04-06 15:48:28
@_author: Geoffrey Goodell 
@_subject: reconsidering default exit policy 
This is quite clearly because making a particular policy the default
confers confidence, on the part of both EFF and the Tor developers.
We are the Tor node operators.  We must not lurk in shadows.  We must be
condfident that what we are doing is reasonable, proper, legal, and
above all the right thing to do.  It is this confidence, not a slowly
accruing army of users, that will win the minds of those who like to
believe that they control the control points.

@_date: 2005-04-13 12:03:21
@_author: Geoffrey Goodell 
@_subject: country banning 
A side note: it might be interesting to support having exit policies
that use hostnames rather than CIDR prefixes; I suspect that many people
(though perhaps not alexyz at uol.com.br) like to implement blocking
address ranges by whatever reverse-resolve DNS says the hostname is.  Of
course, the risk is that this could greatly add to the complexity of
checking exit policies or make exit policies larger and more unwieldy.
But what do people think?  (Personally, I am not sure that this is a
good idea, but I think that it is worth considering.)

@_date: 2005-02-01 13:57:53
@_author: Geoffrey Goodell 
@_subject: tor block list 
You can also view a list of tor nodes, their addresses, and whether or
not they exit to port 6667, at this URL:

@_date: 2005-02-02 23:50:20
@_author: Geoffrey Goodell 
@_subject: questions of morality 
A more appropriate question to ask would be: "do the positive benefits
of Tor deployment outweigh the negative effects?"
The answer to this question is yes.  Tor is about separating identity
from routing information.  It is the conflation of routing information
with identity that has resulted in both (a) violation of user privacy
and (b) development of systems that rely on fundamentally ineffective
methods for achieving security.
By bringing users and service providers to contend with the ultimate
reality that identity cannot be derived from routing information, Tor
addresses both (a) and (b), leading to enhanced privacy and more
realistic security models.

@_date: 2005-02-01 01:08:52
@_author: Geoffrey Goodell 
@_subject: hostile node anonymity attack scenario 
A more interesting question to ask might be, "what happens if a client
creates N independent connections through the network, over a long
period of time so that circuits are not reused?"  If a malicious
operator possesses only three nodes, and N is sufficiently large (i.e.
greater than n*(n-1)*(n-2), where n is the number of Tor nodes), then
chances are, the attacker would be able to break the anonymity of at
least one connection...

@_date: 2005-02-03 13:34:05
@_author: Geoffrey Goodell 
@_subject: Tor Network response slowing to zero 
I concur.  Traffic filtering is qualitatively less draconian than
traffic filtering; we should reserve traffic blocking for well-known
ports corresponding to services that have special problems (e.g. 25).

@_date: 2005-02-01 01:08:52
@_author: Geoffrey Goodell 
@_subject: hostile node anonymity attack scenario 
A more interesting question to ask might be, "what happens if a client
creates N independent connections through the network, over a long
period of time so that circuits are not reused?"  If a malicious
operator possesses only three nodes, and N is sufficiently large (i.e.
greater than n*(n-1)*(n-2), where n is the number of Tor nodes), then
chances are, the attacker would be able to break the anonymity of at
least one connection...

@_date: 2005-02-11 09:50:49
@_author: Geoffrey Goodell 
@_subject: statistics 
It is quite interesting that a majority of Tor connections are
ostensibly from Windows machines, considering that there are so few
Windows machines serving as Tor servers:
zermelo.eecs.harvard.edu:~ % wget -O -
" | grep -A 1 "^router" | awk
'{print $5}' | grep "[A-Za-z]" | sort | uniq -c | sort -nr
    104 Linux
     12 FreeBSD
      8 Unknown
      6 OpenBSD
      2 NetBSD
      2 Darwin
Note that Windows machines refer to themselves as "Unknown", so there
are probably eight of them.  Closer examination reveals that four of the
eight "Unknown" routers are unresponsive.  This suggests to me that
perhaps Windows users are running into the problem observed by spy1 on
 and his intuition that this may be an effective deterrent to the
proliferation of Windows Tor nodes is probably accurate.

@_date: 2005-01-25 13:38:57
@_author: Geoffrey Goodell 
@_subject: Wikipedia Manifesto 
If Wikipedia wants to block Tor, then Wikipedia should go right ahead
and do so.
Wikipedia uses the popular but outmoded strategy of allowing anyone to
wreak havoc on its resources, relying upon backups to recover content
and audit trails based upon IP addresses to deter potential vandals and
force Internet Service Providers to issue smackdown when necessary.
The age in which IP addresses can be used as meaningful authenticators
is doomed; the age in which authentication must be based upon end-to-end
agreement is upon us.
IP addresses were never intended to be used for anything other than
routing.  But, as Stewart Brand might say, systems generally adapt to
the convenience of their users.  People discovered that in many cases,
the remote IP address of connections corresponded to either a specific
user or a specific administrative realm who could reasonably be relied
upon to take responsibility for the user.  Since the Internet is mostly
hierarchical, both in terms of routing and in terms of addressing, this
strategy usually worked without too much collateral damage, hence
technologies like rlogin, hosts.equiv, content filters in the middle of
the network, IP blacklists, abuse at domainname addresses, etc.
However, IP addresses are only about routing.  The fact that routing
address is often tightly correlated with identity means that most of the
time, addresses can be used to associate specific individuals with
specific behavior.  Most of the time, network-layer middleboxes that
perform content filtering work.  Most of the time, three-way handshakes
seem to do the right thing.  In an overly emotional and highly zealous
defense of the vast multitude of easily implemented systems that rely
upon IP addresses as makeshift authenticators, some individuals and
groups have raised objection to the idea that we should only be able to
treat IP addresses as simple instructions to routers indicating the link
upon which to forward a packet.
Ultimately, the designers of such systems have conveniently ignored the
fact that given three nodes {A, B, C}, if A can talk to B and B can talk
to C, then B can talk to C on behalf of A.  This is the salient
characteristic of a Proxy.  Network protocols are not about Internet
links between well-specified computers; network protocols are about
channels between communicating parties, who may not be particular
computers and may not be computers at all.  Generally speaking, there is
no way for a party to differentiate between a particular partner in
communication and a proxy.
We can rely upon the cryptographic assumptions that suggest that using
all of the computers in the world and any computation techniques known
to humankind, the likelihood of breaking strong encryption within the
next million years is infinitessimal.  We can rely upon conventions,
such as the proper use of private keys and end-to-end cryptography, to
provide some measure of authentication.  Nevertheless, there will always
be some people who deliberately or accidentally disclose their private
keys; there will always be some cellular telephones that have the
service provider perform the SSL handshake.  Note that the cryptographic
assumptions are qualitatively weaker than the assumptions necessary to
support the effectiveness of memory-bounded functions or other
computational payment techniques as a means of authenticating that a
particular party made a particular commitment of resources.  In light of
our knowledge of Proxies, such techniques are heuristics at best and
perhaps even ludicrous in many of the cases for which they have been
Tor (and Blossom, for that matter) do not introduce Proxies to the
world.  Proxies already exist.  Tor provides a means by which the use of
proxies can be organized and standardized in a manner that provides some
anonymity benefits.  Organizations such as Wikipedia that desire to
believe that ours is a world without Proxies cannot rest in the comfort
of their misguided assumptions.  They can deliberately implement
blacklisting to create a standoff, which may certainly promote their
objectives in the interim, but ultimately the problems created by
Proxies are not about to disappear.  We need only consider the vast
literature describing widespread system compromise and techniques IRC
network operators and mailhub administrators are using to fight what is
ultimately a rising tide.
It is not possible for Tor or any other system to solve the problems
associated with abuse by Proxy.  In order for rightfully concerned
organizations to attain the protection that they desire, they must
implement registration systems that associate behavior with real users,
in a manner that does not rely upon routing information.  For those who
argue that this inevitability will lead to the de-anonymization of the
Internet, consider that some services are rightfully anonymous and
others are not.  Most uses of IRC were never intended to be anonymous.
Some are, and those uses will continue to exist.  Communication between
clients and brokers shall require registration.  Simple web browsing
shall not.
Individual users have suffered greatly at the hands of those who use
routing information to discern information about their identities.  All
sorts of organizations, from advertising agencies to governments to
terrorist organizations, have access to information that simply is none
of their business.  Tor seeks to bring the world one step closer to
ending misuse of routing information.
Geoff Goodell

@_date: 2005-01-25 16:21:08
@_author: Geoffrey Goodell 
@_subject: What happened? 
The proportion of high-bandwidth nodes has also decreased considerably.

@_date: 2005-01-25 16:22:29
@_author: Geoffrey Goodell 
@_subject: What happened? 
Actually, the number of nodes in the "unresponsive" category seems to
have increased substantially... I blame "hibernation."

@_date: 2005-01-27 10:19:08
@_author: Geoffrey Goodell 
@_subject: Reusing Exit Nodes? 
This may provide you with an English version of Google, but this alone
does not ensure that it is the same Google that you would have reached
had you resolved  in the US and connected from a US-based
IP address.
If you do not believe me, you need only look at the gratuitous links to
the "standard" local search option corresponding to your exit node.  You
need only make a search to find that the advertisements (if not the
results!) are tailored to the local region corresponding to your exit

@_date: 2005-01-07 17:59:20
@_author: Geoffrey Goodell 
@_subject: [QUESTION] Banned host names 
Hi Daniel,
It does not happen consistently, but it does happen sometimes.  It is
possible and reasonable that some Tor nodes are banned from accessing services
for various reasons (for example, the host may be behind a
restrictive firewall, or normal users of the host (the operator, perhaps)
have caused the host to be banned, or other Tor users have caused the
host to be banned.  There is no way to avoid this.
Ultimately, it is up to freenode (and other resource providers) to
determine whether they want Tor users or not.  Tor is not masking its
presence in any way.  If Freenode hates Tor and believes Tor to be an
evil-open-proxy, then Freenode has the privilege to ban it just as it
would ban any user.

@_date: 2005-07-06 07:45:00
@_author: Geoffrey Goodell 
@_subject: I'm seeing someone else's localhost.localdomain 
If you are really interested in how we can use this phenomenon...

@_date: 2005-06-04 19:56:14
@_author: Geoffrey Goodell 
@_subject: Sorbs 
Hi Markus,
Do you have any concrete examples or evidence of SORBS demanding a
donation to remove servers from their published lists?  That might be an
interesting question from a legal perspective.

@_date: 2005-06-05 17:04:09
@_author: Geoffrey Goodell 
@_subject: Sorbs 
What makes Matthew Sullivan so important that he can tell you what you
can and cannot do with your Tor nodes?

@_date: 2005-06-05 17:14:57
@_author: Geoffrey Goodell 
@_subject: Sorbs 
The situation is more complex than this, unfortunately.  If even one
organization subscribes to a blacklist, then there exists an argument
that an ISP, in general, can provide better email service by acquiescing
to the demands of the blacklister.  It is a network effect, plain and
simple.  Does the ISP in this case really have a choice about whether to
pay the blacklister?  I'd say no.

@_date: 2005-03-02 21:22:03
@_author: Geoffrey Goodell 
@_subject: What good is tor for webbrowsing, if your ip address is not hidden 
Are you using Privoxy?  Are you instructing Privoxy to use Tor?

@_date: 2005-03-21 18:49:30
@_author: Geoffrey Goodell 
@_subject: Accounting and Hibernation Features 
The man page is quite clear, and I believe that this is to what the FAQ
refers.  Perhaps we should edit the FAQ to clarify this point.  Please
let me know what you think.

@_date: 2005-03-21 18:49:30
@_author: Geoffrey Goodell 
@_subject: Accounting and Hibernation Features 
The man page is quite clear, and I believe that this is to what the FAQ
refers.  Perhaps we should edit the FAQ to clarify this point.  Please
let me know what you think.

@_date: 2005-03-02 21:22:03
@_author: Geoffrey Goodell 
@_subject: What good is tor for webbrowsing, if your ip address is not hidden 
Are you using Privoxy?  Are you instructing Privoxy to use Tor?

@_date: 2005-03-02 23:17:12
@_author: Geoffrey Goodell 
@_subject: What good is tor for webbrowsing, if your ip address is not hidden 
I am not sure about the lists; your mail was not received.
First, verify that your privoxy config contains this line:
forward-socks4a / localhost:9050 .
(do not forget the dot!)
(or whatever your Tor SocksPort is if it is not 9050.)
When you have verified this, please visit this page and check what it
says for REMOTE_ADDR and REMOTE_HOST.
Those fields should correspond to a Tor node.

@_date: 2005-03-04 10:39:13
@_author: Geoffrey Goodell 
@_subject: "cracks" via tor 
You operate spoon, yes?  I would be more worried that you were serving
as an exit node for Usenet traffic.  But of course, we must all choose
our battles.  In any event, filtering by port is a heuristic only and is
prone to both false positives and false negatives, as I am sure you are
Regarding DMCA, I recommend that you consider this template:
(ignore the link to receive the document from tor.eff.org.)
The DMCA safe harbor provisions should actually protect you in this
case, or so EFF believes.
For the record, in response to two DMCA notices, I presented this
template to members of the Harvard General Counsel, and they were
satisfied.  I suspect that the reaction of MIT lawyers will be similar.
Remember that Tor is a system with substantial benefits both to research
and to privacy.  If institutions such as MIT do not support this, then
who will?

@_date: 2005-03-04 17:49:37
@_author: Geoffrey Goodell 
@_subject: exit node only server 
You provide a rant, I provide a screed:
You are confused.  Most significantly, Tor is a routing infrastructure,
not a content distribution network, and as such its design constraints
resemble those corresponding to routing infrastructures rather than
content distribution networks.  If all of the routers in the Internet
organized themselves around a "tit-for-tat" model, there would be no
Internet: small ISPs who effectively leech content from large ISPs would
not be able to participate, and that would be that.  To solve this
problem, ISPs exchange money.  There is no alternative to exchanging
something of value out-of-band (e.g. customer payments), since as far as
Internet routing is concerned, the smaller ISP has nothing to provide to
the larger ISP other than what it implicitly provides by connecting its
customers to the larger ISP.
In the case of peer-to-peer content distribution networks, one can make
the argument that individual peers are both producers and consumers of
content, in a generic sense, and that inasmuch as this is the case, it
may not be unreasonable to deploy bartering mechanisms to balance
exchanges between participants.  The case with routing infrastructures
is less obvious.  Not only does an individual ISP not necessarily
derive benefit from an eager volunteer willing to take some of its
traffic, but the entire notion that what an ISP should contribute to the
Internet should be equivalent to what it obtains from the Internet is
What is a "resource" in this context?  With BitTorrent the definition is
clear: a resource is content demanded by the network.  With Tor, the
definition is less clear: users want anonymity in the abstract and
router bandwidth in the concrete, but not every client is positioned to
provide a contribution.
There are reasons why permanent or longstanding servers are more
valuable to the Tor network than ephemeral client machines.  Not least
among these reasons are that many Tor users like TCP connections that
persist for a while and are not disconnected because someone shut off a
laptop in an Internet cafe somewhere.  Also, it is not clear that the
asset that the Internet cafe user is providing is actually beneficial to
the network, particularly if the connection is asymmetric.
Not only is the claim about reducing legal exposure dubious, but it is
unreasonable to expect that all Tor clients can run servers.  Not all
clients are in the position to run servers.  Consider the large
multiplicity of Tor users whose hosts are unreachable since they are
behind NATs or firewalls, or those who are subject to regimes with
serious penalties for forwarding traffic through Tor.  It seems wrong to
relegate such users to a lower tier of service; to a large extent it is
these users for whom Tor is designed!
Somehow managing to forward data to a Tor node not well-situated to be a
server does not provide increased benefit to the client making the
request.  This is a critical point of difference between the case of
content distribution networks and the case of routing infrastructures: a
file is a file, but bandwidth is only a means to an end, and bandwidth
alone does not provide what a user (or even the network) really needs.
With a content distribution network, one can argue, as BitTorrent does,
that a client acquires a resource useful to the network as it is downloading
a file from a peer, and that that resource can immediately be offered to
other nodes on the network as a contribution.  An analogous argument is
not possible in the context of Tor.
Furthermore, there is no method of accounting for bandwidth provided by
various peers in the network, which is necessary in order to verify that
a node is actually contributing properly.  Remember that a node must not
only accept traffic but also forward traffic, a task that is at least as
burdensome, and a node that provides bandwidth does not necessarily
guarantee that a client has a better experience.  Accounting for proper
routing is hard not only because the client does not interact directly
with each bandwidth provider but also because the routers cannot
properly verify that their peers are not misbehaving in the absence of
some centralized credit system.  This means currency, not bartering.  In
the real world, banks facilitate exchange of currency, and money markets
provide a platform for exchanging currency among banks.  Tor is not
about to implement a system this complex under any circumstance.
In addition to theoretical reasons why this "tit-for-tat" architecture
is inappropriate in the Tor context, there are practical reasons as
well.  For one thing, while traffic in content distribution networks is
more or less continuous, traffic in general Internet routing networks is
quite bursty.  This makes mutually balancing traffic in a pairwise
manner difficult.  Furthermore, Tor peers tend to establish ephemeral
connections to (effectively all) other Tor peers in order to provide
specific anonymity benefits.  Trying to mutally balance traffic for each
of these connections would either jeopardize the anonymity or fail
These are nice platitudes, but the analogy between content distribution
networks and Internet routing infrastructures does not extend this far.
It is nice to argue about the reasons for this, but ultimately it comes
down to a fundamental incompatibility.
I dare you to say this in an objective manner.
Think harder next time.

@_date: 2005-03-04 17:49:37
@_author: Geoffrey Goodell 
@_subject: exit node only server 
You provide a rant, I provide a screed:
You are confused.  Most significantly, Tor is a routing infrastructure,
not a content distribution network, and as such its design constraints
resemble those corresponding to routing infrastructures rather than
content distribution networks.  If all of the routers in the Internet
organized themselves around a "tit-for-tat" model, there would be no
Internet: small ISPs who effectively leech content from large ISPs would
not be able to participate, and that would be that.  To solve this
problem, ISPs exchange money.  There is no alternative to exchanging
something of value out-of-band (e.g. customer payments), since as far as
Internet routing is concerned, the smaller ISP has nothing to provide to
the larger ISP other than what it implicitly provides by connecting its
customers to the larger ISP.
In the case of peer-to-peer content distribution networks, one can make
the argument that individual peers are both producers and consumers of
content, in a generic sense, and that inasmuch as this is the case, it
may not be unreasonable to deploy bartering mechanisms to balance
exchanges between participants.  The case with routing infrastructures
is less obvious.  Not only does an individual ISP not necessarily
derive benefit from an eager volunteer willing to take some of its
traffic, but the entire notion that what an ISP should contribute to the
Internet should be equivalent to what it obtains from the Internet is
What is a "resource" in this context?  With BitTorrent the definition is
clear: a resource is content demanded by the network.  With Tor, the
definition is less clear: users want anonymity in the abstract and
router bandwidth in the concrete, but not every client is positioned to
provide a contribution.
There are reasons why permanent or longstanding servers are more
valuable to the Tor network than ephemeral client machines.  Not least
among these reasons are that many Tor users like TCP connections that
persist for a while and are not disconnected because someone shut off a
laptop in an Internet cafe somewhere.  Also, it is not clear that the
asset that the Internet cafe user is providing is actually beneficial to
the network, particularly if the connection is asymmetric.
Not only is the claim about reducing legal exposure dubious, but it is
unreasonable to expect that all Tor clients can run servers.  Not all
clients are in the position to run servers.  Consider the large
multiplicity of Tor users whose hosts are unreachable since they are
behind NATs or firewalls, or those who are subject to regimes with
serious penalties for forwarding traffic through Tor.  It seems wrong to
relegate such users to a lower tier of service; to a large extent it is
these users for whom Tor is designed!
Somehow managing to forward data to a Tor node not well-situated to be a
server does not provide increased benefit to the client making the
request.  This is a critical point of difference between the case of
content distribution networks and the case of routing infrastructures: a
file is a file, but bandwidth is only a means to an end, and bandwidth
alone does not provide what a user (or even the network) really needs.
With a content distribution network, one can argue, as BitTorrent does,
that a client acquires a resource useful to the network as it is downloading
a file from a peer, and that that resource can immediately be offered to
other nodes on the network as a contribution.  An analogous argument is
not possible in the context of Tor.
Furthermore, there is no method of accounting for bandwidth provided by
various peers in the network, which is necessary in order to verify that
a node is actually contributing properly.  Remember that a node must not
only accept traffic but also forward traffic, a task that is at least as
burdensome, and a node that provides bandwidth does not necessarily
guarantee that a client has a better experience.  Accounting for proper
routing is hard not only because the client does not interact directly
with each bandwidth provider but also because the routers cannot
properly verify that their peers are not misbehaving in the absence of
some centralized credit system.  This means currency, not bartering.  In
the real world, banks facilitate exchange of currency, and money markets
provide a platform for exchanging currency among banks.  Tor is not
about to implement a system this complex under any circumstance.
In addition to theoretical reasons why this "tit-for-tat" architecture
is inappropriate in the Tor context, there are practical reasons as
well.  For one thing, while traffic in content distribution networks is
more or less continuous, traffic in general Internet routing networks is
quite bursty.  This makes mutually balancing traffic in a pairwise
manner difficult.  Furthermore, Tor peers tend to establish ephemeral
connections to (effectively all) other Tor peers in order to provide
specific anonymity benefits.  Trying to mutally balance traffic for each
of these connections would either jeopardize the anonymity or fail
These are nice platitudes, but the analogy between content distribution
networks and Internet routing infrastructures does not extend this far.
It is nice to argue about the reasons for this, but ultimately it comes
down to a fundamental incompatibility.
I dare you to say this in an objective manner.
Think harder next time.

@_date: 2005-03-04 17:53:48
@_author: Geoffrey Goodell 
@_subject: Fw: Re: Hi-help 
No, there is no way around this problem short of convincing EFNet
operators to allow Tor nodes.  The list of Tor nodes is publically
available; this is how Tor works.  If they want to ban users of Tor,
that is their prerogative.  A similar situation arose with Wikipedia.
Find my argument here:

@_date: 2005-03-07 09:19:31
@_author: Geoffrey Goodell 
@_subject: PHP exploit from your IP 
I do indeed administer serifos.eecs.harvard.edu, which serves as a Tor
exit node.
I know nothing of these attacks, and as far as I can tell,
serifos.eecs.harvard.edu is not compromised.  I conclude that all
attacks on your web server appearing to originate from
serifos.eecs.harvard.edu are actually originating from the Tor network.
This conclusion seems likely.
Tor is an anonymity system designed to separate routing information from
identity.  Even if I were to log all connections through Tor, which I do
not, I would at best be able to provide the IP address of the previous
Tor router in the chain, not the originating IP address.  This is by
design; if I could provide routing information for the origin of the
datagram, then Tor would be broken.  For more information, please refer
to the following URL.
I appreciate your concern, but this service and others are intended to
be publically available.  (Though please let me know if you know of
something that allows arbitrary command execution.)
Geoff Goodell

@_date: 2005-03-07 18:54:57
@_author: Geoffrey Goodell 
@_subject: Fw: RE: proxy testing 
The privoxy config file that you attached STILL does not contain this
forward-socks4a / localhost:9050 .

@_date: 2005-03-10 17:52:43
@_author: Geoffrey Goodell 
@_subject: reconsidering default exit policy 
Choosing an appropriate default exit policy is vital to Tor, since
roughly 60% of Tor exit nodes use the default exit policy, unmodified,
and most of those who modify the exit policy probably do not rewrite from
scratch, but simply prepend new lines to the default policy.
The current default policy can be viewed in the "SERVER OPTIONS" section
of the Tor manual, under "ExitPolicy":
Note that this policy rejects everything under 1024 by default, with a
few specific exceptions, chosen very conservatively.  I propose that we
configure our default exit policy to match how we have been describing
our exit policy all along anyway: "accept most things; reject a few
ports most likely to lead to spam, Internet abuse, or misuse of Tor
network resources."
This in mind, here is my proposal:
# reject private networks (no surprises!)  My understanding is that you
# might want to eliminate the 127.0.0.0/8 line if your kernel
# short-circuits connections to local services and if you want those
# services to be available to Tor users who happen to choose your Tor
# node as an exit... someone please correct me if this is wrong.
ExitPolicy reject 0.0.0.0/255.0.0.0:*
ExitPolicy reject 127.0.0.0/255.0.0.0:*
ExitPolicy reject 10.0.0.0/255.0.0.0:*
ExitPolicy reject 172.16.0.0/255.240.0.0:*
ExitPolicy reject 192.168.0.0/255.255.0.0:*
ExitPolicy reject 169.254.0.0/255.255.0.0:*
# reject ports officially used for protocols that were never meant to be
# anonymous (e.g. email, usenet) because of the spam risk, thus reducing
# our worry that the world would associate Tor with pro-spam advocacy.
ExitPolicy reject *:25
ExitPolicy reject *:119
# reject ports officially used for poorly-designed protocols that are
# always attacked by script kiddies.
ExitPolicy reject *:135-139
ExitPolicy reject *:445
# reject ports commonly used by widely-adopted P2P filesharing programs.
# Tor does not take a stand on the ethics or legality of P2P
# filesharing, either in theory or in practice.  We have simply observed
# that encouraging P2P filesharing presently makes our network less
# useful to those for whom Tor was designed.
ExitPolicy reject *:1214
ExitPolicy reject *:4661-4666
ExitPolicy reject *:6346-6429
ExitPolicy reject *:6881-6999
# accept EVERYTHING else.  Tor should be open by default: that is our
# attitude; our formal policy statement should reflect that attitude.
ExitPolicy accept *:*
What do people think?

@_date: 2005-03-10 19:24:55
@_author: Geoffrey Goodell 
@_subject: reconsidering default exit policy 
This has nothing to do with DNS resolution.  The point is that some
kernels short-circuit packets destined to IP addresses corresponding to
other interfaces of the machine.  If I had such a kernel, and one
network interface configured as 140.247.62.119, then all packets
destined to 140.247.62.119 would be short-circuited to the loopback
I am not sure how to characterize which kernels have this "feature" and
which do not.

@_date: 2005-03-11 09:29:43
@_author: Geoffrey Goodell 
@_subject: reconsidering default exit policy 
Your argument is that we can filter these without hurting the Tor
network, and generally speaking you are probably right.  However, we
should require POSITIVE reasons to filter, not NEGATIVE reasons not to
filter.  There is a subtle difference.  In particular, I do not believe
that there would be any advantage to filtering these ranges, i.e. I
cannot think of a plausible attack-with-lawsuits resulting from not
filtering these blocks.
Tor should adopt the most liberal policy that avoids making the general
population angry, not the most conservative policy that allows essential
functionality to continue.  Thus, we should not filter address ranges
because their IANA-decreed owners hate us, and we should not filter
address ranges because they are reserved for some functionality that we
do not think is necessary for the Tor network to transit.  These excuses
are insufficient.
The difference between a "bastard operator from Hell" and a
"good-natured operator" is not so much a matter of the particular
filtering policies they set.  It is that the former believes in
filtering by default, and the latter believes in filtering only what
needs to be filtered.  In the presence of doubt, let's not filter.

@_date: 2005-03-19 16:08:49
@_author: Geoffrey Goodell 
@_subject: disappearing nodes 
I recently made the observation that despite the fact that new nodes
join the Tor network at a reasonable rate, other nodes disappear from
the Tor network as well, such that the total number of Tor nodes in the
system remains relatively constant.
I have also noticed in particular that while the number of nodes in
Germany seems to be increasing over time, the number of nodes in the
United States seems to be decreasing over time.  While a few months ago
there were roughly eighty US nodes, now there are fewer than sixty.
My question, particularly (but not exclusively) to American Tor node
operators is: what factors have influenced your decision to remain a
participant in the Tor network?  If you have shut down your node, then
why have you done so?
Roger and I can think of several possibile reasons why you (Tor node
operators) might allow your nodes to disappear from the system:
1. You lose interest in the Tor project.
2. You become disillusioned with the goals of the Tor project.
3. Tor crashes too often to be useful to you personally.
4. Managing an installation of Tor is too difficult to be worth your
5. Your ISP threatens to terminate your Internet access contract if you
do not stop running Tor.
6. Blacklisting by Tor-unfriendly Internet resource providers (such as
Wikipedia or Google Groups) is unpalatable to you.
7. Tor crashed while you were not looking, and you forgot about it or
otherwise failed to restart it.
What are your thoughts?  Which of these possible explanations are most
relevant in your case?  Am I missing some other explanation, perhaps?

@_date: 2005-05-25 18:48:03
@_author: Geoffrey Goodell 
@_subject: distribution of per-port traffic across exit nodes 
Suppose that there are three routers (A, B, C), all with equal capacity.
Router A is configured to exit to port A, router B is configured to exit
to port B, and router C is configured to exit to both ports.  Suppose
also that traffic through the Tor network is evenly distributed between
ports A and B.
How will Tor distribute exit traffic across these servers?  In
particular, will router C receive more exit traffic overall simply
because it has a more liberal exit policy (e.g. routers A and B each
receive 1/4 of the total traffic), or will routers A and B take up more
of the slack since they have more conservative policies (e.g.  routers A
and B each receive 1/3 of the total traffic)?

@_date: 2005-05-29 09:47:27
@_author: Geoffrey Goodell 
@_subject: FW: I still do not understand... 
I think that it is worth mentioning that I am already working on one
such alternate topology.  My PhD thesis research (Blossom) includes
using .exit notation, "NoPublish 1", and the controller interface to
extend Tor to arbitrary connected topologies.
The default topology provided by the Tor network is a fully-connected
mesh, i.e. Tor presumes that all routers should be able to use the
Internet to reach each other directly.  This means, among other things,
that pairs of Tor servers cannot exist across NATs, certain
overly-restrictive firewalls, or core routers that filter traffic
destined to one server or the other.  Despite our better efforts, the
Internet becomes increasingly "fragmented" in this way, often as
businesses and ISPs decide that breaking the end-to-end principle is the
most convenient way to increase their degree of control over network
So, we use Tor not so much for the anonymity properties (though arguably
such properties provide us with a stronger sense that fragmentation will
not occur within the Blossom network), but instead for the inherent
property that we can use Tor to see the world from the perspective of a
particular Tor node somewhere far away in the Internet.  This ability
provides a means by which we can conveniently design a system for
transporting TCP traffic that has properties of locality, universal
access, and distributed management.
Please let me know if you find this interesting or have any questions.

@_date: 2005-05-30 13:44:34
@_author: Geoffrey Goodell 
@_subject: Banned from Slashdot 
Under what circumstances would Slashdot be forced to ban reading from
Tor?  It seems to me that the only way in which reading can be abusive
is a packet storm, and the throughput of Tor is simply insufficient to
accomodate this sort of abuse.
Tor does not in any way examine the application-layer contents of the
TCP streams it transports.  Thus, it would not be possible for Tor to
recognize an HTTP request, put it on hold for a moment, transmit an
additional HTTP request, wait for the response, use the response to
check to see if the particular HTTP request it received meets the
specified criteria, and then either drop or send the original request.
However, it might be interesting to design an HTTP proxy to be
positioned between the browser and Tor such that the proxy requests the
policy statement from the target webserver via Tor and then issues the
HTTP request if the policy is satisfied.  Of course, this would be
opt-in; the webserver could still expect to see requests that do not
conform to policy.  On the other hand, in this case the webserver
maintainer would have a stronger argument for rejecting requests from
all Tor nodes that do not conform to policy.  I suppose that whether
this is or is not valuable is debatable.

@_date: 2005-05-17 12:12:14
@_author: Geoffrey Goodell 
@_subject: Filtering out attacks? 
This is an interesting research problem.  Perhaps the Google experience
varies because Google is delivering content based upon IP address or to
which particular Google server a client connected.  Perhaps the Google
experience varies because certain ISPs between Tor exit nodes and Google
servers are filtering or modifying requests.  Perhaps the Google
experience varies because the Tor exit node has a personal firewall that
filters or modifies requests to Google.
In any of these cases, Tor, as an anonymizing network agnostic of which
exit nodes it chooses for a connection outside of published (or even
verified!) exit policy, is powerless to prevent these subtle differences
in content delivered.
Perhaps a potential solution would allow clients to make a more
well-informed decision about which exit nodes to choose when trying to
access particular resources.  I am not quite sure how this should be
implemented.  A naive way might be to have users try explicitly making
connections via certain exit nodes and publishing their success...
