
@_date: 2006-02-14 23:01:09
@_author: Marvin Preuss 
@_subject: Error creating network socket: No buffer space available 
Hash: SHA1
today i opened my tor node for exit ports 80 and 443. Since then i got
this here in my logs:
Feb 14 21:19:52.426 [warn] connection_connect(): Error creating network
socket: No buffer space available
Feb 14 21:19:52.426 [warn] connection_connect(): Error creating network
socket: No buffer space available
Feb 14 21:19:52.426 [warn] connection_connect(): Error creating network
socket: No buffer space available
and so on. where could be the problem? it just showed up since i put the
exit police away from just to be a middleman. my config looks like this now:
ExitPolicy reject 0.0.0.0/8:*
ExitPolicy reject 169.254.0.0/16:*
ExitPolicy reject 127.0.0.0/8:*
ExitPolicy reject 192.168.0.0/16:*
ExitPolicy reject 10.0.0.0/8:*
ExitPolicy reject 172.16.0.0/12:*
ExitPolicy accept *:80
ExitPolicy accept *:443
ExitPolicy reject *:* # middleman only -- no exits allowed
thats whats new in the torrc. any help would be awsome. a other question
would be if there is anyway to test if the exit policys really work on
the nodes....
- -marvin

@_date: 2006-02-15 06:18:28
@_author: Marvin Preuss 
@_subject: Error creating network socket: No buffer space available 
Hash: SHA1
Hi Roger,
It is a Debian Sarge.
Yes it is. Ok i think there is the failure. It needs more descriptors
when im a ExitNode? I mean ok cause i need to connect to all the tor
servers and to the "Website" or where someone want to go. Or im wrong?
thank you for your fast answer..its just too sad it doesnt work.

@_date: 2006-02-18 08:04:15
@_author: Marvin Preuss 
@_subject: Error creating network socket: No buffer space available 
Hash: SHA1
Hi Peter,
i think that is it :) sad but i just can run a middlename node. But that
is better then nothing i guess :) Thanks.

@_date: 2006-02-01 17:15:35
@_author: Marvin Preuss 
@_subject: Strange error 
Hash: SHA1
sometimes i get this error on my tor node...sometimes and sometimes
not...but maybe someone can tell me what it means:
Feb 01 12:02:32.339 [err] directory.c:276: directory_initiate_command:
Assertion dir_port failed; aborting.
and its tor version: 0.1.0.16-1~~sa under debian sarge.
it just makes me think. cause when i need to check everyday if it runs
or not..thats not so useful. thanks already

@_date: 2006-02-03 09:56:38
@_author: Marvin Preuss 
@_subject: Strange error 
Hash: SHA1
Hi Peter,
im really glad to hear this. then i will wait for the fix. i was just
thinking its my fault somewhere between myconfig.
I just did that. so i hope it runs more stable then :) thank you for all
your help. you helped alot.
- -Marvin

@_date: 2006-02-01 19:16:13
@_author: Marvin Preuss 
@_subject: Strange error 
Hash: SHA1
Hi Peter,
thank you for your fast question...i hope we can get this here working.
there is a core file for eachtime this happend already...but from
today...gdb gives me that:
(gdb) bt
  0x401e47c1 in kill () from /lib/libc.so.6
  0x40166771 in pthread_kill () from /lib/libpthread.so.0
  0x40166a7b in raise () from /lib/libpthread.so.0
  0x401e4554 in raise () from /lib/libc.so.6
  0x401e5a88 in abort () from /lib/libc.so.6
  0x0806d7cb in directory_initiate_command (address=0x82df438
"85.25.66.203", addr=1427718859, dir_port=61376,
    platform=0x823eac0 "Tor 0.1.0.16 on Linux i686", digest=0x114
, purpose=1 '\001',
    private_connection=1, resource=0x0, payload=0x0, payload_len=0) at
  0x0806d3d5 in directory_initiate_command_router (router=0x4016cd00,
purpose=1 '\001', private_connection=0,
    resource=0x0, payload=0x0, payload_len=0) at directory.c:225
  0x080855ec in consider_testing_reachability () at router.c:407
  0x08078e96 in run_scheduled_events (now=1138532431) at main.c:706
  0x080791e4 in second_elapsed_callback (fd=-1, event=1, args=0x0) at
 0x401b5c79 in event_base_priority_init () from
 0x401b5f65 in event_base_loop () from /usr/lib/libevent-1.1a.so.1
 0x401b5dcb in event_loop () from /usr/lib/libevent-1.1a.so.1
 0x401b5cb0 in event_dispatch () from /usr/lib/libevent-1.1a.so.1
 0x0807967b in do_main_loop () at main.c:953
 0x0807a365 in tor_main (argc=0, argv=0x0) at main.c:1620
 0x0808df4b in main (argc=0, argv=0x0) at tor_main.c:19
 0x401d0e36 in __libc_start_main () from /lib/libc.so.6
 0x0804bf81 in _start () at ../sysdeps/i386/elf/start.S:102
i hope this helps...that its really from that time it failed. let me
know if you see something strange in it.
okidoki...here. i paste everything not just the server config.
 Configuration file for a typical Tor user
 Last updated 22 July 2005 for Tor 0.1.0.13.
 (May or may not work for older or newer versions of Tor.)
 See the man page, or  for more
 options you can use in this file.
# On Unix, Tor will look for this file in someplace like "~/.tor/torrc" or
# "/etc/torrc"
# On Windows, Tor will look for the configuration file in someplace like
# "Application Data\tor\torrc" or "Application Data\\tor\torrc"
# With the default Mac OS X installer, Tor will look in ~/.tor/torrc or
# /Library/Tor/torrc
 Replace this with "SocksPort 0" if you plan to run Tor only as a
 server, and not make any local application connections yourself.
SocksPort 0 # what port to open for local application connections
SocksBindAddress 127.0.0.1 # accept connections only from localhost
 192.168.0.1:9100 # listen on a chosen IP/port too
 Entry policies to allow/deny SOCKS requests based on IP address.
 First entry that matches wins. If no SocksPolicy is set, we accept
 all (and only) requests from SocksBindAddress.
 accept 192.168.0.1/16
 reject *
 Allow no-name routers (ones that the dirserver operators don't
 know anything about) in only these positions in your circuits.
 Other choices (not advised) are entry,exit,introduction.
AllowUnverifiedNodes middle,rendezvous
 Logs go to stdout at level "notice" unless redirected by something
 else, like one of the below lines. You can have as many log lines as
 you want.
 Send all messages of level 'notice' or higher to /var/log/tor/notices.log
 notice file /var/log/tor/notices.log
 Send only debug and info messages to /var/log/tor/debug.log
 debug-info file /var/log/tor/debug.log
 Send ONLY debug messages to /var/log/tor/debug.log
 debug-debug file /var/log/tor/debug.log
 To use the system log instead of Tor's logfiles, uncomment these lines:
 notice syslog
 To send all messages to stderr:
 debug stderr
 Uncomment this to start the process in the background... or use
 --runasdaemon 1 on the command line.
 1
 Tor only trusts directories signed with one of these keys, and
 uses the given addresses to connect to the trusted directory
 servers. If no DirServer lines are specified, Tor uses the built-in
 defaults (moria1, moria2, tor26), so you can leave this alone unless
 you need to change it.
 18.244.0.188:9031 FFCB 46DB 1339 DA84 674C 70D7 CB58 6434
C437 0441
 18.244.0.114:80 719B E45D E224 B607 C537 07D0 E214 3E2D 423E 74CF
 86.59.21.38:80 847B 1F85 0344 D787 6491 A548 92F9 0493 4E4E B85D
 The directory for keeping all the keys/etc. By default, we store
 things in $HOME/.tor on Unix, and in Application Data\tor on Windows.
 /var/lib/tor
 The port on which Tor will listen for local connections from Tor
 applications, as documented in control-spec.txt.  NB: this feature is
 currently experimental.
 9051
 This section is just for location-hidden services  Look in .../hidden_service/hostname for the address to tell people.
 HiddenServicePort x y:z says to redirect a port x request from the
 client to y:z.
 /var/lib/tor/hidden_service/
 80 127.0.0.1:80
 /var/lib/tor/other_hidden_service/
 80 127.0.0.1:80
 22 127.0.0.1:22
 moria1,moria2
 bad,otherbad
 This section is just for servers  NOTE: If you enable these, you should consider mailing your identity
 key fingerprint to the tor-ops, so we can add you to the list of
 servers that clients will trust. See
  for details.
 Required: A unique handle for this server
Nickname xsteadfastx
 The IP or fqdn for this server. Leave commented out and Tor will guess.
Address 85.25.66.203
 Contact info that will be published in the directory, so we can
 contact you if you need to upgrade or if something goes wrong.
 This is optional but recommended.
 xsteadfastx  You might also include your PGP or GPG fingerprint if you have one:
ContactInfo 1234D/8EC5DE83 xsteadfastx  Required: what port to advertise for tor connections
ORPort 9001
 If you want to listen on a port other than the one advertised
 in ORPort (e.g. to advertise 443 but bind to 9090), uncomment
 the line below. You'll need to do ipchains or other port forwarding
 yourself to make this work.
 0.0.0.0:9090
 Uncomment this to mirror the directory for others (please do)
DirPort 9030 # what port to advertise for directory connections
 If you want to listen on a port other than the one advertised
 in DirPort (e.g. to advertise 80 but bind 9091), uncomment the line
 below. You'll need to do ipchains or other port forwarding yourself
 to make this work.
 0.0.0.0:9091
 A comma-separated list of exit policies. They're considered first
 to last, and the first match wins. If you want to *replace*
 the default exit policy, end this with either a reject *:* or an
 accept *:*. Otherwise, you're *augmenting* (prepending to) the
 default exit policy. Leave commented to just use the default, which is
 available in the man page or at  Look at  for issues you might encounter if you use the default exit policy.
 If certain IPs and ports are blocked externally, e.g. by your firewall,
 you should update your exit policy to reflect this -- otherwise Tor
 users will be told that those destinations are down.
 accept *:6660-6667,reject *:* # allow irc ports but no more
 accept *:119 # accept nntp as well as default exit policy
ExitPolicy reject *:* # middleman only -- no exits allowed
BandwidthRate 30 KB
BandwidthBurst 100 KB
AccountingStart day 12:00
AccountingMax 500 MB
i hope you can help me with it...thank you already. maybe for a
workaround i could disable the dirport...but thats just my idea :)

@_date: 2006-01-27 16:17:24
@_author: Marvin Preuss 
@_subject: Question about the DirServer 
Hash: SHA1
im new here so first a big Hi to everyone :)
Since two days i run a little tor server now and i just have some
question about the DirServer. What is when a Server dont exist no more?
is there a time out when the server gets deleted from the list? or they
just always stay in the list and just get marked as offline? thanks
already :)

@_date: 2006-01-30 15:55:11
@_author: Marvin Preuss 
@_subject: Question about HiddenServices and... 
Hash: SHA1
...Server configuration :) Hi,
so i have two questions. the first one is about hidden services. when i
set up a hidden service can it point to a other url except localhost? i
just saw the example with google but im still not sure about it. so i
need to have my webserver running somewhere and i need to have tor
running somewhere. on which port the tor needs to listen to that things
are working? 9050 from outside? cause i would have it running behind nat.
and the other question is about BandwidthBurst for my tor server. i dont
understand it exactly what this is doing. i would be really helpful for
every help :)
best wishes

@_date: 2006-01-31 07:25:37
@_author: Marvin Preuss 
@_subject: Question about HiddenServies (sorry when twice) 
Hash: SHA1
Sorry if i sent this twice but i think i was always sending this to the
wrong email adress. to or-talk at seul.org. but i think it should be
 And if im wrong then im sorry for spamming this list :)
im just pretty new in here :)
so i have two questions. the first one is about hidden services. when i
set up a hidden service can it point to a other url except localhost? i
just saw the example with google but im still not sure about it. so i
need to have my webserver running somewhere and i need to have tor
running somewhere. on which port the tor needs to listen to that things
are working? 9050 from outside? cause i would have it running behind nat.
and the other question is about BandwidthBurst for my tor server. i dont
understand it exactly what this is doing. i would be really helpful for
every help  :)
best wishes

@_date: 2006-01-31 19:27:33
@_author: Marvin Preuss 
@_subject: how to confirm that tor is working? 
Hash: SHA1
that means that port 25 is not allowed as exit port on your server. this
is default (as i know) cause people could use tor to send spam emails.
thats why it should be rejected. and the * means.....from everyone. so
port 25 from everyone gets rejected as exit point.

@_date: 2006-01-31 20:33:11
@_author: Marvin Preuss 
@_subject: Question about HiddenServices and... 
Hash: SHA1
Hi Roger,
that was exactly what i like to hear :) and i just tried it and it
works. My own hidden service :) but thank you for your answer and
everything. Thanks,
