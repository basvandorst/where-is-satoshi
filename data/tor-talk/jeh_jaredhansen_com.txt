
@_date: 2007-12-17 14:09:59
@_author: Jared Hansen 
@_subject: Tor gives "resolve failed" errors even when IP address is supplied 
I've been using Tor for some time, but recently ran into problems when
I started running it on my Linksys NSLU2 (running Unslung
V2.3R63-uNSLUng-6.8-beta).  I'm running version 0.1.2.17 of Tor, the
latest version for which there is a compiled ipkg package.  (I'm
posting even though I know there's a newer version of Tor because I've
had trouble with libevent when trying to compile from source, so I've
had to use the compiled ipkg.  Plus, I never had this problem with any
previous version, though I never tried any previous version on an
Anyway, I seem to be unable to get any webpages through Tor.  I am
using privoxy as a SOCK4a proxy to send traffic through Tor, and Tor
is receiving the requests (that much is apparent from the Tor logs).
The log keeps telling me that there is a resolve failure, which is
strange, because tor-resolve seems to work just fine.
I tried sending an ip address directly, but Tor still gave a "resolve
failed" error and didn't complete the request.
I have attached
(1) my torrc file
(2) the php code for the simple Tor client class I wrote to send
requests via Tor.  I emphasize that this works just fine on other
platforms so I don't think it's a problem with the code; I'm just
posting it for completeness (and in case anyone wants a simple
implementation of a class that filters requests through Tor).  Also
the php code that instantiates and uses that class - as you can see,
Tor shouldn't even be trying to resolve anything (right?), since I'm
giving it an IP address in the first place.
(3) the portion of my tor log that shows what happens when I run the
php scripts in (2) - Tor is humming along and thinking everything's
fine, but it throws a "resolve failed" error whenever it actually
tries to fetch something.
First I thought that Tor was just having DNS problems - but since
tor-resolve works, and since I have the same problem even when I
manually supply the IP, I don't think that's it.
Can anyone help me figure out what's going on here?  Thanks very much
in advance; I appreciate any assistance.
