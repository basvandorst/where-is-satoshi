
@_date: 2004-12-23 21:39:37
@_author: Ferdinand O. Tempel 
@_subject: Tor running on mipsel 
I'm rather new to this tor thing, but I figured I'd let you people know
anyway: I managed to crosscompile Tor to mipsel so it now runs on my
linksys (WRT54GS) wireless router/AP. For those interested, I have ipkg
packages available[1] for installation on the OpenWRT[2] firmware.
It was a bit of a chore given the pretty, uhm, broken build process
which doesn't really support crosscompiling, but I managed it anyway.
Next up is privoxy.
BTW, I love this project, keep up the good work.
[1] [2]

@_date: 2004-12-23 23:09:34
@_author: Ferdinand O. Tempel 
@_subject: Tor running on mipsel 
Well, this particular model has 32MB of RAM available, from which part
is used for volatile stuff like /var and /tmp. I'm currently running
with ~11,8MB free memory and it's declining as I write this email. I
guess I need to monitor it for a while to see how it behaves. I *think*
I have tor running as a server now, but since I'm pretty new to this all
I still have to figure out stuff, like how to check on such details.
I do see the following error in syslog though:
Dec 23 22:34:50 10.164.10.1  Tor: connection_dir_client_reached_eof():
Received http status code 503 from dirserver. Failing.
Is that important?
If memory usage goes through the roof, I can always try to run tor in
client mode to see how that goes. Is there a way to limit tor's memory
usage, of would that require redesign of said buffer handling? By the
sound of it not a bad idea anyway.
I'm no autotools expert, so I'll be glad to stay out of that :-)
I can however give you a hint on what I had to change:
The generated ./configure script does a check on the existance of
openssl by compiling a chunk of C. This check is surrounded by another
check on a variable "$cross_compiling", and is that variable is
set ./configure spits out a nice error about not being able to check for
openssl when crosscompiling. My solution was to edit configure.in so
that the bit which actually does the check never makes it into the
configure script. This is ugly of course, it would be better to
accompany --with-ssl-dir with something like --disable-ssl-check. If I
would know how, I'd provide a patch :-)
Second problem is that somewhere in the code there's a check for a
define, NULL_REP_IS_ZERO_BYTES. This too is checked by the configure
script, but it can't figure out the proper value by itself. My solution
is to explicitly  it to 1 in orconfig.h.in. Another ugly
solution, but hey, that's my level of expertise I'm afraid :-)
All the rest is just setting paths to the right include files.

@_date: 2005-01-04 08:44:56
@_author: Ferdinand O. Tempel 
@_subject: Tor running on mipsel 
Quoting Niels Elgaard Larsen :
Yeah, that's mine. Don't use it, it's broken. If you try to run the binary it'll
error out. I'm going to retry soon as I now know it can be done :-)
That would indeed remove the need for something like privoxy which apparently is
rather slow and memory hungry to run on a linksys router. I'll keep you posted.
Ferdinand O. Tempel
This message was sent using IMP, the Internet Messaging Program.

@_date: 2005-01-13 08:19:50
@_author: Ferdinand O. Tempel 
@_subject: Tor exit nodes by country 
Quoting Mike Perry :
I, like any geek in town, like statistics and numbers and all that.
But doesn't all this statistics keeping kinda mitigate the use of tor
altogether? Publicizing all the (location) information of all the exit and
intermediate nodes makes it very easy to attack those nodes and their owners
would one like to. One of the key selling points of this kind of network is
anonymity. Shouldn't that also count for the nodes and exit points in some way
(I know it won't be that easy to achieve technically)?
Just a thought.
Ferdinand O. Tempel
This message was sent using IMP, the Internet Messaging Program.

@_date: 2005-01-03 17:45:58
@_author: Ferdinand O. Tempel 
@_subject: Tor running on mipsel 
Too bad I haven't succeeded in getting privoxy to compile (well, link
actually) for mipsel. But apparently someone else managed to; someone
found a package here:
I've emailed the maintainer address listed in the package description,
but no answer yet. Oh well.
Yes, you can. I never heard about it before you mentioned it, but it
looks interresting enough to have a look at.
On a side note, I've been running tor on my linksys router for a while
now and it seems to behave quite nicely. No excessive memory usage
(averages around 8MB in total), though I'm still not sure my setup is
actually used in the whole greater scheme of that onion stuff. Is there
any way to get status information from the tor processes, like usage,
handled packets, etc?
