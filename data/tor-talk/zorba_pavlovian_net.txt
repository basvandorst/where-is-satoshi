
@_date: 2005-12-18 07:32:34
@_author: Ben Wilhelm 
@_subject: [rishab@dxm.org: Re: [silk] inside the Great FireWall...] 
What happens if your central coordinator - the one assigning circuits - is compromised?

@_date: 2005-12-22 06:50:41
@_author: Ben Wilhelm 
@_subject: recent tor stream timeout errors... 
Personally, the P2P aspects are one of the large reasons I'm interested in this. I haven't actually used Tor for P2P for a very long time, but if Tor were to somehow remove all P2P traffic from its network I'd probably shut my servers down and move on to something else.

@_date: 2005-12-22 12:41:21
@_author: Ben Wilhelm 
@_subject: recent tor stream timeout errors... 
I probably should've explained why I made my point - there seem to be a few people on this list who take the position of "file sharing is bad, and everyone on the network hates it". I'm just taking the opposite position - there's at least one person on here that finds the file sharing applications, and the anonymity-for-legal-and-illegal-purpose-both, to be the interesting part. :)
I think you guys are doing a pretty good job, BTW, and if I had more free time I'd volunteer to help with the coding. But, I don't. :/

@_date: 2005-12-24 16:45:00
@_author: Ben Wilhelm 
@_subject: P2P wanted? 
The issue with hashcash is that it gives massive advantages to anyone with huge zombie botnets, and guess who's most likely to have those? Malicious users. (Sigh.)
It's almost an anti-improvement. :P

@_date: 2005-12-14 01:29:55
@_author: Ben Wilhelm 
@_subject: Google 403 error pages 
Implementation difficulty versus benefit, perhaps. I seriously doubt Google has hundreds of engineers sitting around bored waiting for a project to work on - implementing this would take time away from implementing other things.

@_date: 2005-06-09 22:07:41
@_author: Ben Wilhelm 
@_subject: Massive Legal Spam 
Dude. Stop spamming the mailing list. I'm perfectly fine with reading seven emails on this subject, but seven emails consisting entirely of dense legal text and brief corrections, sent by a single person, all of which could have been trivially compiled into a *single* email, is just plain annoying.
(If someone wants to smack me down and say "no, this is perfectly fine for this list", go for it, but I know I'd be annoyed if this was on a mailing list I admined ;) )

@_date: 2005-05-25 16:02:13
@_author: Ben Wilhelm 
@_subject: distribution of per-port traffic across exit nodes 
. . . and, just to throw another wrench into the mix, what happens if port B doesn't actually get any traffic? Do routers A and C split it evenly, or do they assume port B will get equal traffic, thus sticking A with 2/3 of the traffic and C with 1/3?
And, more to the point, is there any way to collect bulk port usage data from nodes without destroying anonymity? Because that seems to be the ideal solution to this, but not without unfortunate side effects.
(And another question on top of this - should all traffic be considered

@_date: 2005-05-26 11:45:42
@_author: Ben Wilhelm 
@_subject: Memory use 
It also uses a metric ton of CPU power when it's under heavy load. I've had it saturate the entire CPU, and I think it stops transmitting data in those situations too. It's spending a lot of that in a giant linear-time search through a bunch of strings, and when I get some free time I'm going to try to speed that up to O(log n) or a hash table or something, and send the patch in if it seems stable and good.

@_date: 2005-05-26 12:24:21
@_author: Ben Wilhelm 
@_subject: Memory use 
0.1.0.5 and 0.1.0.8 both show this behavior. I haven't been doing anything heavy since post-0.1, so I don't know if it's gotten "better". This is acting as a client, although I've noticed it devours quite a lot of CPU when acting as a server also. Mostly I'm concerned about the client right now. :P

@_date: 2005-05-13 01:51:56
@_author: Ben Wilhelm 
@_subject: Lots of connections 
I've been playing with stressing Tor out recently. I've encountered some rather weird and suboptimal behavior. If you hit it with a lot of connections simultaneously it starts spitting out "Giving up on unattached conn (60 sec old)." errors (and those numbers go up dramatically if you *really* stress it badly :P) From browsing the source, it looks like that's its way of saying "I don't have enough open Tor routes, and I'm having trouble getting more fast enough, so I'm going to start dropping connections". And, yes, it does appear to be dropping connections.
Which is obviously not really ideal.
Is this diagnosis accurate? If so, is it on the list of Things That Should Be Fixed, or is this low priority/unimportant? And if this diagnosis isn't accurate, what's going on? :)
(One thought, from going over in my mind what it looks like - they also come in clumps often, and that's when the numbers start getting big. Maybe something is blocking for long periods of time that you're not expecting, and that's just making it time out when it should be handling the load no problem? Its CPU usage doesn't seem to be high.)

@_date: 2005-05-13 15:58:38
@_author: Ben Wilhelm 
@_subject: Load ~40 on 2.6.10, Lots of connections 
So, as a followup to my Lots of Connections thread - I left it up overnight and came back in the morning, and it was eating the entire CPU and dropping basically every connection. Sounds familiar to this as well. :P I'm using Tor 0.1.0.5rc on WinXP SP1. It was doing the same "giving up on unattached conn" error with nice big numbers (90s+).
Curiously, mine was using all of *one* CPU, but not two - I've got SMP.

@_date: 2005-11-19 08:45:41
@_author: Ben Wilhelm 
@_subject: Hey guys, here is another (great?) idea 
What if you're in a location where you can't contribute - behind a firewall, for example? Should they be required to pollute the server list with useless data?
For that matter, what if you already *have* a server located elsewhere running 24/7, like I do, but don't want to run it from home for legal

@_date: 2005-10-17 22:31:10
@_author: Ben Wilhelm 
@_subject: Broadband Reports: Tor Network Bogged Down by P2P 
So, um, how exactly do you track how much bandwidth each user is using on a network whose sole goal is anonymization?
And then let's associate that information with a server that's supposed to have an admin email contact available.

@_date: 2005-10-18 03:00:03
@_author: Ben Wilhelm 
@_subject: Broadband Reports: Tor Network Bogged Down by P2P 
No, because as a midpoint node, you have no way of knowing where the data is coming from or going to - besides "the computer that just connected to you" and "the computer that you're about to connect to".

@_date: 2006-12-27 14:11:50
@_author: Ben Wilhelm 
@_subject: MyFamily issues 
I am having some trouble setting up MyFamily properly. I've found my fingerprint without any issue - it looks like "DD91 7584 0D14 450F A3F9 482C 22AC 83B8 D861 E802" - but when I try to add it to the torrc in the obvious way:
MyFamily DD9175840D14450FA3F9482C22AC83B8D861E802
I get the following error:
Dec 27 14:03:31.002 [warn] Failed to parse/validate config: Invalid nickname 'DD9175840D14450FA3F9482C22AC83B8D861E802' in MyFamily line
Suggestions? Right now I have two servers running without MyFamily, which isn't ideal, but I'll fix it as soon as Tor lets me :P

@_date: 2006-12-27 16:58:29
@_author: Ben Wilhelm 
@_subject: MyFamily issues 
That did it. Perhaps the wiki should be updated?  doesn't mention needing a dollar sign at all, but I can't figure out how to change it myself, so someone else oughta deal with that. :)
Thanks :)

@_date: 2006-01-31 10:36:12
@_author: Ben Wilhelm 
@_subject: how to confirm that tor is working? 
> and the * means.....from everyone. so
 > port 25 from everyone gets rejected as exit point.
Backwards - the * means to everyone. Obviously, if we knew who was sending us the packets, it would defeat the entire purpose of Tor. This lets you set up certain IP ranges so packets can't be sent to them (commonly, localhost and other LAN IP blocks - occasionally, Tor-disliking sites like Slashdot or Wikipedia.)

@_date: 2006-01-17 10:24:49
@_author: Ben Wilhelm 
@_subject: You think you can hide your ip? 
I've got my home network set up so that my "Tor-browsing box" simply isn't allowed to go out to the internet. I've got a second computer that runs Tor, and *it's* allowed to connect out. The browsing box has to connect through it to get to the Internet in any way, which leaves me neatly immune to the whole thing.

@_date: 2006-07-03 07:06:32
@_author: Ben Wilhelm 
@_subject: low bandwidth utilization 
Or perhaps you're running Tor under VMWare? It turns out VMWare is absolutely awful at keeping the system clock sane, and it can easily create weirdnesses like this.

@_date: 2006-05-15 15:36:59
@_author: Ben Wilhelm 
@_subject: Some legal trouble with TOR in France + 
"Yeah, so we disabled child porn like you asked, but we're not willing to do anything about piracy, death threats to government officials, cybercrime, or that mob ring running all their communications through our system. Yeah yeah, I know, the mob ring is responsible for the death of a dozen officers. Can't do anything. Well, I mean, we could, obviously. But we don't want to. Sorry! Let me know if you find any more child porn sites though!"
That will go over *real* well.
The line is drawn. The line is that Tor does not censor. That's the only line that makes sense, because everything else requires subjective judgement that many would not be able to agree on.
If you don't want your internet connection to be used anonymously, for *anything*, then don't run a Tor exit node. It's impossible to block subjects on a case-by-case basis anyway - the exact thing Tor was built to prove! - and I'd rather not waste our coders' time on that.

@_date: 2006-05-11 14:50:08
@_author: Ben Wilhelm 
@_subject: Improvement of memory allocation possible? 
Does your allocator actually return memory to the OS? Many don't, and in my (admittedly brief) look through the source, I don't remember seeing a custom allocator.
If it doesn't return memory to the OS, it'll just sit at its maximum allocated size for all eternity, despite not using much of this memory. (Although your buffer-shrinking would help reduce that

@_date: 2006-05-13 15:13:53
@_author: Ben Wilhelm 
@_subject: Some legal trouble with TOR in France 
I will admit that I'm not quite sure what the fear is with this - reformatting it makes sense in case they installed evil software, but there's no reason to burn it or securely wipe it or whatever if you think that's all that's wrong with it.
I suppose they could technically have installed a hardware monitoring device, but I find it very *very* unlikely that they will have bothered. What's the chance that they'd have that kind of an expert on staff? I'd say, open it up, disconnect cables, see if they've added anything to the cables, reconnect it all, reformat the hard drive, and stop worrying about it.
I mean, okay, they *could* have installed a new hard drive controller chip with a built-in cellular antenna to broadcast your credit card details to the Illuminati. But they could also hire a ninja to break into your house at night, steal your cat's food, and hide your TV remote. (Or, for that matter, install a new controller chip.) At some point you just have to say "this is silly" and stop being paranoid.

@_date: 2006-11-17 06:44:49
@_author: Ben Wilhelm 
@_subject: satellite delay (was: Re: [or-talk] Re: Win32.Trojan.Agent appear 
You're imagining the following situation (C: client, S: server):
C: Send me the next packet.
S: Okay, here it is.
C: Send me the next packet.
S: Okay, here it is.
C: Send me the next packet.
In reality, it's more like this:
S: Here's packet 0.
S: Here's packet 1.
S: Here's packet 2.
S: Here's packet 3.
S: Here's packet 4.
S: Here's packet 5.
S: Here's packet 6.
C: I've received packets 0 through 4 correctly.
S: Here's packet 7.
S: Here's packet 8.
S: Here's packet 9.
S: Here's packet 10.
S: Here's packet 11.
C: I've received packets 5 through 8 correctly.
S: Here's packet 12.
S: Here's packet 13.
S: Here's packet 14.
S: Here's packet 15.
S: Here's packet 16.
C: Please resend packets 12 and 14.
S: Here's packet 12 again.
S: Here's packet 14 again.
S: Here's packet 17.
S: Here's packet 18.
S: Here's packet 19.
S: Here's packet 20.
S: Here's packet 21.
C: I've received packets 9 through 18 correctly.
TCP is very complicated, but is designed to keep sending a large amount of data even under high lag.
Now, as for HTTP, yes, there's going to be one "lag cycle" just based on the fact that you request a webpage and *then* you request the contents. But HTTP is designed so that you can request a ton of items simultaneously or in series, so you can just download the main webpage, start requesting images on it while the main webpage itself is still downloading, and parallelize as much as possible.

@_date: 2007-01-10 12:51:33
@_author: Ben Wilhelm 
@_subject: more letters from the feds 
I run one at home, but it's on a dedicated IP, within a virtual machine.   I wouldn't want to run one off any IP I actually personally used (I like being able to use Slashdot and Wikipedia, and I have IRC channels that have some security based on my IP :P) but I don't mind having it segmented off onto a separate IP.
Plus, this way when they say "hey tor.pavlovian.net was downloading child porn" I say "I have never once used that IP for anything of my own". Honestly, I don't think getting that letter about a colo server would be any better than getting one at home, so hey. :)

@_date: 2007-01-11 05:56:22
@_author: Ben Wilhelm 
@_subject: more letters from the feds 
I use 20kb because I've got 45kb upstream, and I've got my router set up with QOS so the Tor traffic doesn't interfere at all. (And, presumably, so I don't interfere with it.)
I should point out that I have since run into one small issue with hosting locally - several IRC servers blacklist Tor server IPs. One of these servers was pulling the list off somewhere that also blacklists entire /24s including exit servers, and was using that mode, so my home computer was banned since it was a Tor IP. Luckily I know several IRCops, asked around, and that server no longer does that anymore ;) but it was a mild inconvenience.
So, life isn't perfect running a Tor server.
