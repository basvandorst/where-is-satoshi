
@_date: 2005-12-07 13:59:25
@_author: Matt Ghali 
@_subject: Multi-root DNS is real. 
besides yet more beautiful unicode-related desaster, the article
  points out that there are by now different DNS roots in the internet,
  and which one you reach depends on your client IP address.
There may well be thousands of "roots" on the internet, but at least so far, there has been almost no buy-in from caching server operators willing to point at these "alternate roots".
I could configure my nameserver to serve '.' authoritatively with any data I want in a couple of minutes, but the signifigance of me doing so (other than to myself) would be zero.
Whether or not your resolver hits an 'alternate root' depends not on your IP address, but what nameserver your resolver is using. As of now I do not believe any regional ISPs have drank the alt-root In any case, the sky is not falling this week; and your dns query will almost certainly be answered by a nameserver delegated from the root zone served by root-servers.net, unless you have intentionally configured them not to.
--matt at snark.net------------------------------------------<
              The only thing necessary for the triumph
              of evil is for good men to do nothing. - Edmund Burke

@_date: 2005-11-24 20:17:04
@_author: Matt Ghali 
@_subject: ATTN: for-profit Tor operators 
We've been thinking a lot lately about how to fund Tor development,
  since EFF ran out of money for us last month.
That is sad news, I was considering becoming an EFF "supporter" via monthly donations last week, but got distracted with work. I am glad that I didn't have a chance to go through with the process, as tor was one of the specific projects I was interested in contributing to.  --matt at snark.net------------------------------------------<
              The only thing necessary for the triumph
              of evil is for good men to do nothing. - Edmund Burke

@_date: 2005-11-04 12:40:47
@_author: Matt Ghali 
@_subject: DNS block in place at 151.8.40.35 (molly) 
i think there is, now the tor traffic is not filtered. If it will   happen again (i'll take an eye on this) i'll move the 2 services   on different machines
I respectfully request that until you are more positive about what you are doing with exit traffic, you consider not running an thank you,
--matt at snark.net------------------------------------------<
              The only thing necessary for the triumph
              of evil is for good men to do nothing. - Edmund Burke

@_date: 2005-10-22 10:19:24
@_author: Matt Ghali 
@_subject: Publicizing Hidden Services 
As it stands, it's almost impossible for most Tor users to even   discover that hidden services exist, or that they can use Tor for   anonymous publishing and internet services.
  Thoughts?
I thought that was why they were called "hidden services".
--matt at snark.net------------------------------------------<
              The only thing necessary for the triumph
              of evil is for good men to do nothing. - Edmund Burke

@_date: 2005-10-22 10:19:24
@_author: Matt Ghali 
@_subject: Publicizing Hidden Services 
As it stands, it's almost impossible for most Tor users to even   discover that hidden services exist, or that they can use Tor for   anonymous publishing and internet services.
  Thoughts?
I thought that was why they were called "hidden services".
--matt at snark.net------------------------------------------<
              The only thing necessary for the triumph
              of evil is for good men to do nothing. - Edmund Burke

@_date: 2005-10-24 11:19:28
@_author: Matt Ghali 
@_subject: (FWD) Re: Dirserver believes your ORPort is unreachable 
RFC1918 ranges do not include networks that are unnassigned by RIRs.
Networks documented in 1918 will *never* be assigned.
If you are fltering on netblocks unassigned by registries, you should be aware of when they do become allocated/assigned, or stop doing that.
  I figured out what my problem was.  It seems that the old rfc1918   reserved for much more than the 10, 172, and 192 networks as seen   here   My firewall   was blocking rfc1918 private/reserved address spaces according to   the old implementation that providers seem to be allocating   addresses to nowadays.  One of the directory servers is on an old   reserved address space and my firewall was keeping it from seeing   my or.
  --   Eugene Armstead, Jr.
  Armstead Enterprise
  W:    E:  eugene at armsteadent.com
--matt at snark.net------------------------------------------<
              The only thing necessary for the triumph
              of evil is for good men to do nothing. - Edmund Burke

@_date: 2005-09-30 11:15:51
@_author: Matt Ghali 
@_subject: tor traffic ratelimiting 
I was on the phone with my ISP today, and as an aside, the engineer mentioned that my 768k upstream was pegged at 105% capacity. I was surprised, and a little freaked out, since nothing should be generating that much traffic.
I killed tor while we were on the phone, and he confirmed that almost all traffic on the link dissapeared. I am quite concerned, because I have the following statements in my torrc:
BandwidthRate 64 KB
BandwidthBurst 128 KB
from these settings I expect that tor should never be using the majority of my available bandwidth- but it seems it is.
Am I missing something here, or has the ratelimiting code been quietly broken?
--matt at snark.net------------------------------------------<
               The only thing necessary for the triumph
               of evil is for good men to do nothing. - Edmund Burke

@_date: 2005-09-30 11:55:27
@_author: Matt Ghali 
@_subject: tor traffic ratelimiting 
doh. noobed. Thanks for the cluebat! :)
  -----BEGIN PGP SIGNED MESSAGE-----
  Hash: SHA1
  You followed in my mis-steps upon setting up my first node.
  kB (kilo-byte - the big 'B') does not equal kb (kilo-bit - the little    'b').  Tor bandwidth limiting is measured in Kilobytes, bandwidth is    measured in Kilobits.
  If you are trying to keep bandwidth burst to 128kb, then you will    need to set your BandwidthBurst to 16KB.  (16 KB x 8 bits/byte = 128kb)
  Along the same line, your BandwithRate should be 8KB if you wish to    rate limit to 64kb.
  Hope this helps!
  Robert
--matt at snark.net------------------------------------------<
              The only thing necessary for the triumph
              of evil is for good men to do nothing. - Edmund Burke

@_date: 2006-01-28 16:41:05
@_author: Matt Ghali 
@_subject: Running a Tor exit node on an academic network? 
The funny thing is, more than a year ago, it became a violation of UC policy to use weak authentication methods such as relying on IP addresses. Like elsewhere in the UC, though, ineptitude and ignorance are coddled, and so life goes on- until someone walks off with a laptop containing personal information on thousands of students and staff..
Suffice it to say that UCB is in the intersection of academic and state beaurocracies. The effect seems to be multiplicative, instead of additive.
--matt at snark.net------------------------------------------<
               The only thing necessary for the triumph
               of evil is for good men to do nothing. - Edmund Burke

@_date: 2006-01-28 16:41:05
@_author: Matt Ghali 
@_subject: Running a Tor exit node on an academic network? 
The funny thing is, more than a year ago, it became a violation of UC policy to use weak authentication methods such as relying on IP addresses. Like elsewhere in the UC, though, ineptitude and ignorance are coddled, and so life goes on- until someone walks off with a laptop containing personal information on thousands of students and staff..
Suffice it to say that UCB is in the intersection of academic and state beaurocracies. The effect seems to be multiplicative, instead of additive.
--matt at snark.net------------------------------------------<
               The only thing necessary for the triumph
               of evil is for good men to do nothing. - Edmund Burke

@_date: 2006-01-31 11:50:09
@_author: Matt Ghali 
@_subject: choosing a syslog facility other than 'daemon' 
Funny you should reply now- I spent the morning hacking on autoconf and friends, so configure can be used to select a log facility; and also, a useful method to point configure at libevent not located in I suspect that a "nicer" way to support other log facilities would be to add support in config.c; which I may do instead, given the time. Of course, given the lack of interest, I suspect that compile-time would be good enough.
I will make sure to send diffs if/when I get them working.
--matt at snark.net------------------------------------------<
               The only thing necessary for the triumph
               of evil is for good men to do nothing. - Edmund Burke

@_date: 2006-01-23 21:02:05
@_author: Matt Ghali 
@_subject: choosing a syslog facility other than 'daemon' 
Is there a user-friendly way to ask tor to log to a different facility than 'daemon'? IE, something that does not involve editing the source and recompiling :)
--matt at snark.net------------------------------------------<
               The only thing necessary for the triumph
               of evil is for good men to do nothing. - Edmund Burke

@_date: 2006-07-13 18:37:06
@_author: Matt Ghali 
@_subject: DNS Server question 
Are the bbnplanet admins aware you plan to colo a tor server on their network? Or are you using their anycasted caching resolvers without permission?
--matt at snark.net------------------------------------------<
   Moral indignation is a technique to endow the idiot with dignity.
                                                 - Marshall McLuhan

@_date: 2006-11-05 11:23:48
@_author: Matt Ghali 
@_subject: Tor and NNTP 
There is a fundamental flaw in this assumption that will cause you problems with a much larger user set than just tor users. Your assumptions on a 1:1 mapping of users to ip addresses also break for populations behind NAT. Sometimes entire organizations or networks appear to the public internet as a single set of proxy/NAT addresses, and your accounting method breaks for this set as well.
While explicitly permitting Tor routers is a step in the right direction, you're going to run into the same problems with natted users, and that will be a tougher nut to crack.
good luck,
--matt at snark.net------------------------------------------<
   Moral indignation is a technique to endow the idiot with dignity.
                                                 - Marshall McLuhan

@_date: 2006-11-05 11:23:48
@_author: Matt Ghali 
@_subject: Tor and NNTP 
There is a fundamental flaw in this assumption that will cause you problems with a much larger user set than just tor users. Your assumptions on a 1:1 mapping of users to ip addresses also break for populations behind NAT. Sometimes entire organizations or networks appear to the public internet as a single set of proxy/NAT addresses, and your accounting method breaks for this set as well.
While explicitly permitting Tor routers is a step in the right direction, you're going to run into the same problems with natted users, and that will be a tougher nut to crack.
good luck,
--matt at snark.net------------------------------------------<
   Moral indignation is a technique to endow the idiot with dignity.
                                                 - Marshall McLuhan

@_date: 2006-09-05 10:41:55
@_author: Matt Ghali 
@_subject: Earthlink's broken DNS affecting Tor nodes? 
IIRC, OpenDNS does the same sort of "Lie on NXDOMAIN" foolishness that Earthlink has started doing, which is what the original poster was trying to escape.
Doesn't ORSN use an alternate-root scheme where there's no real guarantee you're getting the same answers anyone using the one true root would get? I might be conflating my alternate-root quacks here, but I seem to recall their root delegations differ from the real --matt at snark.net------------------------------------------<
   Moral indignation is a technique to endow the idiot with dignity.
                                                 - Marshall McLuhan

@_date: 2006-09-04 13:10:10
@_author: Matt Ghali 
@_subject: Earthlink's broken DNS affecting Tor nodes? 
yes, it is a bad thing. the easiest thing to do (if you are running tor on a unix box) is to install BIND 9 as a caching nameserver, and configure your resolver library to use BIND instead of your ISP's nameservers (man resolv.conf).
Most modern unix distributions come with BIND 9, and just require you to enable them somewhere like /etc/rc or /etc/sysconfig.
Anyone running tor should consider doing this, as you'll be making name resolution almost an order of magnitude faster; in addition to not having to trust nameservers configured to lie by a marketing If you're running Windows; well, good luck.
--matt at snark.net------------------------------------------<
   Moral indignation is a technique to endow the idiot with dignity.
                                                 - Marshall McLuhan

@_date: 2007-02-11 13:47:20
@_author: Matt Ghali 
@_subject: gathering tor traffic stats 
--matt at snark.net------------------------------------------<
   Moral indignation is a technique to endow the idiot with dignity.
                                                 - Marshall McLuhan

@_date: 2007-03-25 12:22:12
@_author: Matt Ghali 
@_subject: Is this a Tor exit node connecting to me? 
Please consider returning a different A record for the first query type to allow differentiation between exit nodes and middlemen. Returning 127.0.0.2 for exit nodes and 127.0.0.3 for middleman nodes will allow sendmail dnsbl configurations to easily do the 'right' --matt at snark.net------------------------------------------<
   Moral indignation is a technique to endow the idiot with dignity.
                                                 - Marshall McLuhan

@_date: 2007-03-25 19:50:49
@_author: Matt Ghali 
@_subject: Free Software and Torpark (was: Ultimate solution) 
Perhaps what you are looking for is full support for RFC 3514.
Best of luck.
--matt at snark.net------------------------------------------<
   Moral indignation is a technique to endow the idiot with dignity.
                                                 - Marshall McLuhan

@_date: 2007-03-27 12:58:10
@_author: Matt Ghali 
@_subject: Is this a Tor exit node connecting to me? 
While sendmail's default dnsbl() FEATURE, as well as Spamassassin's check_rbl_sub() do not have the flexibility to append the port information to the query (IE, seeing if the connecting host is in the list _and_ is allowing exits onport 25), it could possibly be easy to add similar functions that do.
The problem is that they aren't shipped by default, and the dnsbl lookup functions that do will likely be (ab)used to check the tor dnsbl and make decisions based on simply whether a host is present.
Possibly the easiest and friendliest way to cope would be to provide additional dnsbl views by port for interesting ports; perhaps zones such as 25.exit.dnsbl.zone or 80.exit.dnsbl.zone. This would allow existing software to easily perform a lookup without risking the binary good/bad problem.
Not sure what's relative to the query source here. We're presumably looking to see if a host is a tor node and whether it's policy allows exit of an arbitrary port, right? None of that AFAIK is dependent on who's asking.
It would also be computationally hard :)
--matt at snark.net------------------------------------------<
   Moral indignation is a technique to endow the idiot with dignity.
                                                 - Marshall McLuhan
