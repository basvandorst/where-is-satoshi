
@_date: 2014-04-15 00:47:21
@_author: Aymeric Vitte 
@_subject: [tor-talk] browser fingerprinting 
Yes, of course js is not at all the cause of the problems described in this thread, strange that this very wrong idea is still popular.
JS can not prevent you from hacking yourself if you like which is what the links provided here are about.
That's even the contrary, you can not hide js code, whatever obfuscation means you are using it's very easy to see what it is doing.
But you can run js code as a standalone app, ie without loading the code from the outside and using third parties to check that you have the correct one, because loading the code is the only issue about js.
Assuming that js devs are following good practices, if the code is sandboxed and you can not access js objects via other means (like DOM nodes) then there is no way you can hack into it.
And for sure js can not access anything on your computer outside of the browser's world (ie outside of what you have authorized it to access)
This is what I have tried to explain for this project here  (Distributed anonymous P2P based on Tor protocol inside browsers, so a js app)
Le 14/04/2014 20:43, Roger Dingledine a ?crit :

@_date: 2014-04-18 11:30:27
@_author: Aymeric Vitte 
@_subject: [tor-talk] Programming language for anonymity network 
Without any hesitation: js + nodejs (note: I am not part of the node's team)
- the code is very reduced and transparent, difficult to backdoor including nodejs itself
- js is familiar but not trivial as many people think
- works on any platform, can even be browserified (see links below) --> note: that's not part of your criteria
- libraries are huge and great
- performances are great, especially with streams2 --> note: that's not part of your criteria
- security is ok, it can be affected by outside modules (like openssl), maybe the buffer model (which is not allocating memory upon creation for performances reasons) can be problematic but you can override native objects
- nodejs is easy to audit (assuming that modules like V8 can be audited), you can override node's functions/objects if you like
- your app is easy to audit, no compilation steps
- very easy to install, for contributions and use
- community is huge, nodejs is stable enough for production, the only small defect from my standpoint is that the upgrade process is sometimes not totally square for now.
Do you have links to your project?

@_date: 2014-04-18 11:54:00
@_author: Aymeric Vitte 
@_subject: [tor-talk] Programming language for anonymity network 
Redefining anything in js is visible as "your nose on your face", as well as importing silently anything, whatever obfuscation/minification means are used it's trivial to check.
But here you do not have necessarly to import things and/or libraries, you can package everything with your app so you control your package and nothing can come from the outside or be injected.
Node is not an enormous platform with tons of dependencies, easy to check.
My opinion...
You should bring node to FF OS :-)
Le 18/04/2014 11:34, David Rajchenbach-Teller a ?crit :

@_date: 2014-04-19 11:39:04
@_author: Aymeric Vitte 
@_subject: [tor-talk] Programming language for anonymity network 
Le 18/04/2014 19:48, Nick Mathewson a ?crit :
It seems like you are describing something like nodejs here, no?
If you don't like low-level node code or you don't trust it or things are missing or you can not do it efficiently with js or you don't want to use js for strategic pieces, you can do your C++ modules with node and link them with high level js. This approach might restrict the use of the code to some platforms and not open it to others like browsers, ff os, chrome...

@_date: 2014-08-03 10:14:09
@_author: Aymeric Vitte 
@_subject: [tor-talk] Onionoo Down/Overwhelmed? 
Indeed Onionoo is "quasi down" since some days, most of requests time out, I sent an email yesterday to Karsten...
Le 03/08/2014 02:25, Michael Wolf a ?crit :

@_date: 2014-08-13 23:56:05
@_author: Aymeric Vitte 
@_subject: [tor-talk] Wired Story on Uncovering Users of Hidden Services. 
Le 13/08/2014 23:01, Anders Andersson a ?crit :
No kidding, js can break browsers now...
No and you are wrong
and the color of your shirt
Are you serious in your answer?

@_date: 2014-08-15 00:48:08
@_author: Aymeric Vitte 
@_subject: [tor-talk] Wired Story on Uncovering Users of Hidden Services. 
I am "defensive" because you seem to make a general case of something that can only happen in case of browser's/OS bug, and conveying to Tor users that they should not use js is a non sense, you make believe them that intrinsically js can easily leak their ip and/or mac addresses, which is wrong, this can happen under extraordinary circumstances that have nothing to do with js, here a windows/ff bug, which could have been a css attack or whatever.
Le 14/08/2014 11:06, Anders Andersson a ?crit :

@_date: 2014-08-15 22:11:27
@_author: Aymeric Vitte 
@_subject: [tor-talk] Wired Story on Uncovering Users of Hidden Services. 
Definitely yes, that's a perfect summary of the situation, unfortunately, despite of Tor devs efforts, browsing the web is too dangerous but the Tor browser can provide you a relative anonymity, if you "don't do stupid stuff" indeed.
Le 15/08/2014 01:18, Mirimir a ?crit :

@_date: 2014-08-15 22:32:10
@_author: Aymeric Vitte 
@_subject: [tor-talk] Wired Story on Uncovering Users of Hidden Services. 
I would love to think that it's not impossible but it seems to be, whatever documentation exists (which most of Tor users will not read), it can not predict OS and FF hazards, even if the Tor Browser forbids everything that is potentially dangerous (and in that case most of the sites will just not work still without insuring you are safe), one alternative is to fetch (like peersm), not to browse but then the use is Le 15/08/2014 18:31, Joe Btfsplk a ?crit :

@_date: 2014-08-31 00:28:06
@_author: Aymeric Vitte 
@_subject: [tor-talk] I have a quick question about security of tor with 3 
Two is probably enough, assuming the first one does not know it is the first one, ie is not triggered by a CREATE_FAST request.
Le 29/08/2014 09:55, John Doe a ?crit :

@_date: 2014-08-31 12:51:35
@_author: Aymeric Vitte 
@_subject: [tor-talk] I have a quick question about security of tor with 3 
OK, I still think two hops makes sense in the context of Peersm for example (target phase with WebRTC), the basic circuits are using two peers but can be extended to others, there is no concept of guards and I believe it's not easy for bad peers to continuously return compromised peers since they must be close to the requesting peer and they can not choose their ID/fingerprint, which are ephemeral.
And I still think it does matter somewhere that the first node knows it is the first one, because it knows for sure the IPs it could potentially Let's imagine the Tor network is choosing 2 or 3 nodes, the first node would not be able to know it is the first one (because it does not know if the path is 2 or 3 nodes), it could check that the IPs are not belonging to the Tor network and then find out that it is the first one, but these IPs could be secret bridges, so it might not be really sure it is the first one.
But maybe the benefit of such proposal (if proven safe) would be too small in the context of the Tor network compared to the traditionnal three nodes selection.
I don't really get since the begining the concept of the CREATE_FAST cells and their systematic use when it's not mandatory for an advantage that does not really seem fantastic, except for bridges, I think I read that you are getting rid of it but did not keep the link, thanks if someone can forward it to me (something more detailed if this exists than what is in the spec "The CREATE_FAST handshake is currently deprecated whenever it is not necessary.")
Le 31/08/2014 00:40, Roger Dingledine a ?crit :

@_date: 2014-07-03 10:18:52
@_author: Aymeric Vitte 
@_subject: [tor-talk] High-latency hidden services (was: Re: Secure Hidden 
Maybe one day, something like Peersm combined with [1] in order to follow/or use [2] and [3] (don't focus on google developing this here, these concepts are the only way to really secure a web page)
Basically you fetch the web page with something like Peersm, then retarget it in a sandboxed context (sandboxed window like Caja or node-dom inside browsers can do), so the website appears inside your browser like a standalone widget/gadget (and certainly not an iframe) and then you parse the links and fetch the resources with the same techno used by Peersm (ie Tor protocol inside the browser).
Once you have captured the initial web page, you can do all this offline and queue the fetching.
This must work without hacking inside the browser, unfortunately you can not easily say to the browser "fetch everything using 'my secure function'".
It's very difficult to do but not impossible and some advanced features will not work due to the same origin policy but that's not an issue for the intended use.
Coming back to the origin of this thread, it's more easy to use Peersm as it is and have some kind of distributed P2P hidden services with difficult end to end corelation possibilities, even if we don't advise to use it to do strange things.
[1] [2] [3] Le 03/07/2014 07:04, grarpamp a ?crit :

@_date: 2014-07-04 12:52:35
@_author: Aymeric Vitte 
@_subject: [tor-talk] High-latency hidden services 
If I understand correctly the question here is not about browsing but fetching something that you don't need immediately for offline reading and that you download with high latency using different circuits.
That's easy to do, if you take Peersm again, it's easy to send several random requests to different circuits requesting part of the resource to the website and then store them asynchronously, you can request the pieces in the order you like and when you like, you can retrieve them from the website or the peers if they have it.
Le 04/07/2014 03:31, Mirimir a ?crit :

@_date: 2014-07-09 10:38:14
@_author: Aymeric Vitte 
@_subject: [tor-talk] High-latency hidden services 
According to your description you intend to reconsitute the page removing eventually what can be dangerous, this is very difficult to do (assuming that you want this page to behave like a real one and not like opening something similar to offline/mypage.html from your disk and assuming that you want to use the browsers as they are, ie not using plugins/extensions and not hacking into the code), I have described how it can be done in [1]
But finally, if the interesting information are some resources to be fetched from this page, then [2] does apply and is from far much more easy to do.
You can look at [3] to [6] which are projects to fetch/parse a page on server side (headless browser, handling js too) and extract things from it, the same principles apply on browser side for what people want to do here, when the fecthing is coupled to [7] it does provide anonymity, whether on browser or server side.
[1] [2] [3] [4] [5] [6] [7] Le 08/07/2014 22:21, The Doctor a ?crit :

@_date: 2014-07-12 00:47:14
@_author: Aymeric Vitte 
@_subject: [tor-talk] Putting the "Tor" back in Torrent 
I had a kind of same thoughts for the Peersm project at the begining, but it can not fly.
The Tor network is far too small for P2P applications and you (we) are not addressing the same threat at all, so even if you expand it I don't see the rationale of doing such.
Therefore, the idea is more to build something based on the Tor protocol rather than using absolutely the Tor network, ie building another network based on the Tor protocol concepts, personnaly I would not envision one second to use something like hidden services.
Of course, the fact that the Tor network is there can help, in the context of Peersm project it's only supposed to be used for web fetching, which is supposed to be marginal.
Please take a look at  , popcorn-like side effect of Peersm project, working incredibely well, not related directly to this discussion for now but maybe later...
Le 11/07/2014 23:12, Helder Ribeiro a ?crit :

@_date: 2014-07-12 15:48:56
@_author: Aymeric Vitte 
@_subject: [tor-talk] Putting the "Tor" back in Torrent 
Le 12/07/2014 06:58, Zenaan Harkness a ?crit :
No, I would not advise this, whatever Helder's arguments are, this can not work, even if you  get a lot of peers that expand the network you will still have the bottleneck of the Tor nodes, which are not numerous enough, managed by a centralized system as you mention, not compatible at all with a real P2P system.
What can work is a separate P2P network (maybe) based on the same concepts (maybe --> again, I would not take the model of hidden services)
For Helder & team, did you really test up to now what it takes to establish (good) circuits in the Tor network and do you have an idea of the "real-time" average number of nodes that are behaving correctly? And performances, lifetime of the circuits?

@_date: 2014-07-29 11:00:13
@_author: Aymeric Vitte 
@_subject: [tor-talk] Spoofing a browser profile to prevent fingerprinting 
If think the issue is quasi unsolvable, unless you request "the Web" to revert to something clean and remove whatever it has invented to track and fingerprint you, that's not really an issue about js, that's an issue about major specifications leaded by major companies specifying what fit to their needs.
Or unless you use something like  it was designed to defeat all forms of tracking/fingerprinting with the fake domain concept and hide your destination even with https.
Since it takes control over the whole web page, the js interactions are sandboxed with a script to "tame" the page, a prototype was working but maybe it's a bit too complicate...
Le 29/07/2014 02:10, Joe Btfsplk a ?crit :

@_date: 2014-07-29 19:09:57
@_author: Aymeric Vitte 
@_subject: [tor-talk] Spoofing a browser profile to prevent fingerprinting 
Sorry, I forgot to say: it's not operational, it was working but I stopped it after a crowdfunding campaign which turned to be a flop, meaning that nobody cares.
But the concepts still stand, even if complicate, the requirements were that it should work without disturbing the browser's behavior or hacking into it (so it works from any browser) and the basic principles were that there was no point of tracking you on a fake domain, here it does not really depend on how many people are using it, you just behave like a normal user on a non existing domain.
An issue was that people need to set the proxy settings to the server that is relaying the data, so not very user friendly...
Probably the video demo was more self explainatory, I will put it back on yt and provide the link
I think now that it was too complicate but maybe some inspiration can come from it.
Le 29/07/2014 18:40, Mirimir a ?crit :

@_date: 2014-07-29 22:22:42
@_author: Aymeric Vitte 
@_subject: [tor-talk] Spoofing a browser profile to prevent fingerprinting 
Le 29/07/2014 19:19, OpenPGP a ?crit :
In theory yes but you will then have a kind-of TBB fingerprint. It was designed to have the Tor protocol inside browsers so they do the Onion Proxy by themselves without the need of a local server, the browser intercepts itself with the complicity of a server only passing information related to the fake domain using SSL/TLS, the rationale for this "self-interception" is that you can not tell to the browser "please send everything you want to fetch through the Tor circuits I have set up with the Tor network on websocket x", so the messages are going through the normal socks proxy interface with the fake domain and coming back through websockets (via socks proxy too) and then are redirected through the websockets Tor circuits established with the ORs with the real domain which is then protected by the Tor protocol.
For fingerprinting, in one word, you will have the one of a normal browser, so likely to be unique but subject to change and be unique again, but not a fingerprint that could be linked to the Tor Browser.

@_date: 2014-07-29 22:33:24
@_author: Aymeric Vitte 
@_subject: [tor-talk] Spoofing a browser profile to prevent fingerprinting 
Please see my previous answer, the fingerprint will be the one of a normal browser, not the Tor browser, so like when you are using a normal browser, a unique fingerprint that changes, so finally you are not unique at all.
I was thinking at that time to add some fingerprint "spoofing" features, not sure it's a good idea since you might end up with different people having the same fingerprint, then recognizable, the best is to be temporarly unique I believe.
Le 29/07/2014 19:33, Mirimir a ?crit :

@_date: 2014-07-29 23:16:33
@_author: Aymeric Vitte 
@_subject: [tor-talk] Spoofing a browser profile to prevent fingerprinting 
The video is back here Not sure I was clear in my previous answers, your fingerprint will be the one of a normal person, not the one of someone that is trying to anonymize himself even if you are indeed anonymizing yourself.
Le 29/07/2014 22:33, Aymeric Vitte a ?crit :

@_date: 2014-07-30 23:27:14
@_author: Aymeric Vitte 
@_subject: [tor-talk] Finding relay Sybils / Groups [re: 
Le 30/07/2014 20:10, grarpamp a ?crit :
Probably not.
We see in the description of this attack some subtle details, along with a list of papers/studies.
The problem is that the Tor network is really too small in terms of efficient nodes, so if you add the proper amount of efficient nodes a correlation attack seems easy without any subtility.
Taking Guards and Exit nodes, asking Onionoo you get something like 1000 for each (version > 2.3.0).
Testing them you were used to get 500 for each (ie really working at instant t).
Filtering on bandwitdth > 2 MBps for Guards, you were used to get 250  Among the remaining number of exit nodes it's not rare that some have some specific exit policies, ie exiting nothing, so a not negligible number to be banned.
Trying this right now gives (unexpectedly) only 121 Guards (> 2MBps) and 130 Exit nodes, really working.
Behind these numbers, the issue is still how to add efficient nodes not controlled by the same people, maybe it could be envisioned to evolve to a more decentralized system where small nodes can be efficient.

@_date: 2014-06-04 15:51:20
@_author: Aymeric Vitte 
@_subject: [tor-talk] how to stream videos using Tor 
Le 03/06/2014 16:29, nobody a ?crit :
These are demo buttons and input for links on the web site, only "click here to use it" button works and redirect you to the app, maybe we should change/clarify this.
Yes, thanks to advise, there was an unfortunate (and forgotten) end of May deadline for some old testing purposes, it's corrected.

@_date: 2014-06-05 23:50:13
@_author: Aymeric Vitte 
@_subject: [tor-talk] Yet another OpenSSL vulnerability 
Le 05/06/2014 18:34, Nick Mathewson a ?crit :
So let's ask the question : what's the absolute necessity of SSL/TLS in the Tor protocol?
Self-signed certificates are used, the certs cells mechanism just insures that you are talking to the one with whom you have negociated the TLS connection with.
But this one can be the MITM itself.
A bridge/first node, accessed via "clear" created_fast cell over SSL/TLS can be the MITM too.
It's not a big problem since in both cases they will not know what happens next or what they are relaying.
Then, what SSL/TLS does really protect here?
You can disguise the SSL/TLS traffic with obfsproxy, but again what's the use of SSL/TLS if you need to hide it?
You need to hide it because it's SSL/TLS, easy to detect and block, then why not using/hidding a non SSL/TLS traffic? Much more difficult to detect.

@_date: 2014-06-09 00:35:43
@_author: Aymeric Vitte 
@_subject: [tor-talk] Onionoo docs JSON parser? 
Maybe The output is an array with json elements, and it's testing the nodes too.
This version is a bit old, maybe you can take some inspiration or I can update to the latest version if there is an interest.
Le 08/06/2014 20:50, grarpamp a ?crit :

@_date: 2014-06-12 10:31:18
@_author: Aymeric Vitte 
@_subject: [tor-talk] Please try and test bundles with the "meek" 
Even if the idea of hidding the SSL/TLS destination is interesting (reminds me [1] somewhere) I find the concepts/implementation a bit strange.
In the list of "ideas" I would suggest (not related to the reflector principles directly but related to something that might make the connection to Tor nodes more difficult to censor, ie using a localhost talking the browser language):
- like [2], that's a background OP process connecting to the Tor nodes using ws (+SSL/TLS), supporting the socks interface to undertake the requests from the browser
- or [2] in the future that will talk webrtc too, the intent for [2] with webrtc will be to discuss with browsers (which are "Tor" nodes too for our project) but it could talk to usual Tor nodes if they understand webrtc (see [3] for a short explaination, unless what is stated at the begining of the thread the signaling servers are not required as highlighted at the end)
[1] [2] [3] Le 12/06/2014 06:44, David Fifield a ?crit :

@_date: 2014-06-12 10:39:12
@_author: Aymeric Vitte 
@_subject: [tor-talk] Please try and test bundles with the "meek" 
"unless what is stated..." --> "despite of what is stated..."
Le 12/06/2014 10:31, Aymeric Vitte a ?crit :

@_date: 2014-06-18 11:20:58
@_author: Aymeric Vitte 
@_subject: [tor-talk] Fwd: Tor-architecture 
Le 17/06/2014 19:00, prashant kumar a ?crit :
Strange, normally you do the contrary, understand the architecture and look at the code after.
Start reading the specs, Regarding the Tor code, probably the most relevant is here:  and here:  , and if you want to look at something more simple to understand and much more compact (but not complete since it's the initial version) you have

@_date: 2014-06-19 14:05:09
@_author: Aymeric Vitte 
@_subject: [tor-talk] Follow-up - Re:  how to stream videos using Tor 
I looked in more details what is doing youtube and how to stream it with the Tor Browser safely, first you must:
- make sure that flash is deactivated (default TBB setting)
- make sure that history and cookies are deactivated (Options/Privacy, default TBB setting), clear everything
- make sure that all types of local storages are deactivated, surprisingly it seems that there are no options in FF to block all types of local storage and the Tor browser allows to use localStorage, not allowing history seems to block some local storage but not always: about:config dom.storage.enabled false (and dom.indexedDB.enabled false, default TBB setting)
- personnaly I would clear (Options/Advanced/Network) and disable the cache completely about:config browser.cache.memory/disk.enable false
Not sure why the last two ones are not the default settings in TBB, maybe the Tor Button/noscript are doing something here but do not prevent youtube to use the localStorage (when noscript is temporarily disabled for example, see below, if you have some doubts you can check the localStorage from yt page using the web console: localStorage  click on the object and display its properties, or use firebug This will force youtube to use the html5 player and make it difficult to fingerprint you, the get_video_info, get_video and videoplayback sequences do not send (for now) other information (like timezone, userid, etc) than the IP of the exit node, other tracking messages can probably not send a lot to fingerprint you.
Then you must temporarily allow the page with noscript.
With these settings youtube will provide an url for the video that will be streamed in the html5 video tag, when FF will support the Media Source Extensions API, adaptive streaming will apply to the video/audio like in Chrome.
As discussed earlier in this thread another alternative is to proxy VLC to Tor (localhost:9150) and stream the yt link, only the IP address of the exit node and the fact that you are using VLC (which can make it easy to fingerprint you) will be known.
Or use Peersm but unless there is an interest it is not foreseen for now to do specific changes to allow adaptive streaming from direct yt urls.
Le 04/06/2014 15:51, Aymeric Vitte a ?crit :

@_date: 2014-06-19 18:55:29
@_author: Aymeric Vitte 
@_subject: [tor-talk] Should DOM storage really be enabled by default in 
That's exactly what I pointed out in my follow-up email regarding yt Given that there are no options to disable it or ask for permission in FF, given that FF behaviour is unclear regarding how it is managed (for example blocking 'offline storage' by clicking on the icon on the left of the url + more information/permissions seems to have no effect) and given that it is used by many sites to store cookie-like stuff, I really think it should be disabled.
I would disable the cache too since it can give some information that you already visited the place and when.
Le 19/06/2014 18:15, Joe Btfsplk a ?crit :

@_date: 2014-06-19 19:03:05
@_author: Aymeric Vitte 
@_subject: [tor-talk] Should DOM storage really be enabled by default in 
The problem will be that sites such as Mega will not work any longer with TBB but it's not logical to forbid indexedDB and allow localStorage (and sites such as Mega should better use indexedDB rather than Le 19/06/2014 18:55, Aymeric Vitte a ?crit :

@_date: 2014-06-20 00:25:17
@_author: Aymeric Vitte 
@_subject: [tor-talk] Should DOM storage really be enabled by default in 
Le 19/06/2014 20:51, Georg Koppen a ?crit :
So it's there until you close your browser, that's far enough to track you and expose you.
That's not specific to DOM storage, it just follows the same origin policy like all W3C/WHATWG APIs
That's really strange, why don't you just disable it like cookies, indexedDB, etc?
It has no impact on anything except storing things without your consent, it's obsolete and dangerous, some sites are storing sensitive js code into it, it's not unlikely (and very easy) to hack into it if by any chance you leave your browser 2mn, Tor users should not be exposed to this.

@_date: 2014-06-20 11:00:49
@_author: Aymeric Vitte 
@_subject: [tor-talk] Should DOM storage really be enabled by default in 
Le 20/06/2014 10:15, Georg Koppen a ?crit :
Could you please provide a direct link for both?

@_date: 2014-06-20 11:22:58
@_author: Aymeric Vitte 
@_subject: [tor-talk] Should DOM storage really be enabled by default in 
Le 20/06/2014 10:44, Georg Koppen a ?crit :
So the logic is: we accept non third party cookies, therefore we accept localStorage and we suppose localStorage is disabled for third parties.
The problem is that if you block all cookies (like a Tor user should be doing visiting sites like yt), the localStorage remains available and bypasses cookies blocking, if you take yt, you can see things floating in localStorage like yt-remote-device-id {id, creation_date, expire=creation_date+1 year}, even if ephemeral (from your design) it persists until you close your browser
And what's the point of allowing localStorage if you allow non third party cookies?
There are bugs and unclear behavior of what happens in the main page or in iframes, that's usual, everybody knows thhis, unclear behavior between different options settings, and unclear behavior of blocking options when they exist.
Your examples are the perfect illustration of this, I think at least the users should be clearly aware of the risks and have the option to block As I mentioned previously any type of local storage is much more dangerous than the usual cookie-like uses, even if we should disregard the cases where you are hacking yourself, we can not ignore the fact that your local storage can be easily accessed by someone else if you give him a chance
I am waiting to read your design document but from my standpoint in the frame of the Tor Browser it should be clearly blocked.

@_date: 2014-06-20 19:17:13
@_author: Aymeric Vitte 
@_subject: [tor-talk] Should DOM storage really be enabled by default in 
So to summarize, localStorage is following strictly the cookie policy, the Tor Browser does not save it to the disk and has implemented a patch for this and to fix the FF bug for third party localStorage.
But localStorage is not only about cookie-like uses.
I understand that the philosophy is not to break the sites as far as possible, now I don't see what is so valuable in DOM storage to desserve these efforts (given that for cookie-like uses it's useless since it only works when cookies are activated, for other uses localStorage is dangerous and anyway indexedDB should be preferred now, and indexedDB is not active in Tor Browser) and to take the risk to let it active, you are still at the mercy of a FF bug, so personnaly I would deactivate it by default and offer an option in the Page Info/permissions (which does not exist in FF), or a global option (always ask, etc), most of the users absolutely don't know that things are stored, even if it's on a temporary basis for the Tor browser.
Le 20/06/2014 16:49, Georg Koppen a ?crit :

@_date: 2014-06-23 09:48:28
@_author: Aymeric Vitte 
@_subject: [tor-talk] how to stream videos using Tor 
There are two reasons right now why Peersm can not work with the Tor Browser, and the two reasons are linked: minimum release of FF should be 26, indexedDB storage must be activated (and working correctly). FF version for Tor Browser is 24 and indexedDB is deactivated in the Tor We are going to modify a few things so it works with the Tor Browser (partially, you won't still be able to store data but you will be able to stream when Mozilla has implemented [1] and the Tor Browser has the corresponding FF version, so unfortunately not tomorrow despite of the fact tha Mozilla is actively working on it)
Anyway, it's not advised to use the Tor Browser for Peersm app since the Tor protocol is inside the browser and the threat model is completely different from the Tor Browser since Peersm app is fecthing data, not Using Peersm with the Tor Browser will make that the Peersm Tor protocol websocket connections are proxied to Tor instead of reaching directly a Tor/Peersm bridge, so performances will be uselessly impacted.
The only "risk" not using the Tor Browser is that we know your IP address when you load the code, that's one of the reasons why there will be a standalone version of Peersm (see [2] but it's not finished, no technical difficulties, just a lack of time, another one being that for technical reasons we can not use https to load the code, see [3] to know Now, if you feel more comfortable, you can proxy the latest versions of FF or Chrome to Tor as explained in [4]
[1] [2] [3 [4] Le 22/06/2014 19:39, nobody a ?crit :

@_date: 2014-03-20 13:33:04
@_author: Aymeric Vitte 
@_subject: [tor-talk] Tor implementation in JavaScript / FirefoxOS 
Maybe time to subscribe to this list...
As Andreas wrote, there is the node-Tor [1] project, it's implementing the OP and OR inside browsers, as well as on any js platform like node. It's fully working, it does implement some other protocols on top of the Tor protocol used for example for Peersm project [2], it is used too for the Peersm clients and Websocket bridges [3], it can of course connect to the Tor Websocket bridges (flash proxy), it implements whatever necessary Tor, SSL/TLS, ws, socks, etc in js, ORDB1 to 3 are live in the Tor network.
The target of Peersm is to have the peers (ie browsers) implement the Tor nodes using WebRTC.
So the Onion proxy is inside the browser, then the question is: how can I browse things with the OR inside the browser? You can easily fetch things connecting to a Tor or Peersm bridge via Websosckets but how to The idea is of course to get rid of the traditional SOCKS proxy, whose configuration can be a bit painfull for some and depends on the platform, this was the concept of [4], but definitely too much complicate and not very user friendly for something that is implemented inside browsers, then supposedly easy to use.
So the question remains, you should have a means to say "I am loading  direct all the requests that this page is loading as you would do it using SOCKS to one of the x circuits I have established with the Tor network"
This might look quite strange, but maybe something like createObjectURL('example.com html code', reference to the transport supporting my Tor circuits (ws, webrtc))
[1] [2] [3]  and [4]

@_date: 2014-03-20 14:03:07
@_author: Aymeric Vitte 
@_subject: [tor-talk] Fw: Tor implementation in JavaScript / FirefoxOS 
It would be easy to build a js onion proxy (outside of the browser that time) with node-Tor.
Assuming that FF OS does support proxy settings and node-like features (TCP sockets at least), I took a (maybe too) brief look to FF OS and dit not find the detailed API documentation.
Great, thanks! I think there is a feeling that it is somehow an
"enterprise" feature, and so is often left out.
Otherwise, will dig more into porting Tor to "Gonk":
and perhaps providing Tor native as an optional update package:
The real question is, can Tor run in the background as a general service
to multiple apps (as on Android), or will it have to built into each app
(like on iOS).

@_date: 2014-03-20 14:33:33
@_author: Aymeric Vitte 
@_subject: [tor-talk] Fw: Tor implementation in JavaScript / FirefoxOS 
To be more precise, it's already there (with node), you just have to install It supports websockets, socks and websockets over socks, bridge function and onion proxy, so people can use the bridges (Peersm project) with the Tor browser.
As people might notice, node-Tor is not open source for now, but there is a specific licence that allows to do what I wrote above, people are harassing me about this, it will be open source once reasonably funded.
Le 20/03/2014 14:03, Aymeric Vitte a ?crit :

@_date: 2014-03-20 15:52:56
@_author: Aymeric Vitte 
@_subject: [tor-talk] Tor implementation in JavaScript / FirefoxOS 
Thanks, indeed if it's about fetching and REST requests, node-Tor fits perfectly, cryptocat, globalleaks, hidden services/tor2web (no browsing??),
The fact is that I am convinced that the right approach is a serverless one and the app inside the browser so you don't have to install anything and it's working on any platform.
This does not prevent to have some "facilitators" doing the same as background processes on node, ff os, etc
If you have some time take a look at  , complete serverless anonymous P2P using the Tor protocol (so a distributed Tor network inside peers), unstoppable, technically we are not far from it.
It's now easy to build whatever you like on top of node-Tor, there is only one difficulty: browsing, how to direct the requests to the Tor circuits that the app has established?
It's a bit of a paradox, the most complicate works but this "simple" thing does not exist (OK, it's not so simple but this would just be like proxying to the Tor circuits in a sandboxed container, like iframe but we don't like iframes, that's why I am sketching something based on createObjectURL) , maybe members of browsers vendors on the list here have some ideas...
Le 20/03/2014 13:54, Nathan Freitas a ?crit :

@_date: 2014-03-20 16:12:23
@_author: Aymeric Vitte 
@_subject: [tor-talk] Fw: Tor implementation in JavaScript / FirefoxOS 
The initial code (a bit old now) is under the standard MIT license.
The rest is under a modified MIT license which removes the rights to modify, merge, sublicense, and sell, but you can use, distribute, etc
For those who want to see the code I guess it's trivial to deminify it, only minified versions are public for now because no time to clean But as everybody know here it's very easy to see what a js code is doing, minified or not.
And the magic of js and node (and us) makes that it's only a 360 kB file (10000 "normal" code lines) which I estimate could be divided by two for the size once more things are available inside browsers
  (WebCrypto, TextEncoder/Decoder, etc)
Le 20/03/2014 14:39, Nathan Freitas a ?crit :

@_date: 2014-05-19 21:49:33
@_author: Aymeric Vitte 
@_subject: [tor-talk] General questions about Tor proxy 
Le 19/05/2014 04:54, Roger Dingledine a ?crit :
The small relays do not help, that's for sure, except for bridges maybe, now where is documented the path selection?
Because, without any research work, it's obvious that selecting big relays does expose you to several nodes in the path controlled by the same entity, therefore deanonymizing you.

@_date: 2014-05-26 09:23:15
@_author: Aymeric Vitte 
@_subject: [tor-talk] how to stream videos using Tor 
You can use Peersm  (see the streaming demo video  and the starter links  to stream/download anonymously from Peersm or bittorrent networks or the web.
Even if not recommended for "normal" use you can use the TBB with Peersm (I don't know what's the current FF version of the official TBB, you need FF>=26 for Peersm, if not see Le 26/05/2014 07:06, John Henry a ?crit :

@_date: 2014-05-26 09:37:23
@_author: Aymeric Vitte 
@_subject: [tor-talk] how to stream videos using Tor 
Precision: until FF has implemented the Media Source Extension API you need to use Chrome for streaming.
Right now you can not stream directly from a youtube url (because you don't access directly an audio/video file) but if there is an interest we can do it.
Le 26/05/2014 09:23, Aymeric Vitte a ?crit :

@_date: 2014-05-27 09:10:33
@_author: Aymeric Vitte 
@_subject: [tor-talk] tor-talk Digest, Vol 40, Issue 47 
Le 26/05/2014 22:24, Joe Btfsplk a ?crit :
If you stream a yt video outside of the TBB or Peersm not using something that eventually proxies the traffic to Tor, you can be sure that there are tons of tracking stuff, that's why we did not implement it for now, it's a mess to catch the audio/video flow among all what is sent to yt.

@_date: 2014-05-27 19:34:45
@_author: Aymeric Vitte 
@_subject: [tor-talk] tor-talk Digest, Vol 40, Issue 47 
Le 27/05/2014 16:45, Joe Btfsplk a ?crit :
Yes, unless VLC fails to proxy everything to the socks proxy
I made a quick test (socks 127.0.0.1:9150 with TBB OP), it's working but indeed VLC fails to proxy everything, we see direct http requests to yt, probably a VLC bug.
"tons of tracking stuff" is an euphemism in the case of yt, the audio/video will play if yt receives what it expects after the yt "handshake" (get_video_info), and this looks like this:
GET The ip address will not be yours but other params have to be analyzed.
Conclusion: do not use VLC as it is or wait for FF to have implemented the MSE API, according to google yt uses MSE for most HTML5 playbacks

@_date: 2014-05-27 20:02:47
@_author: Aymeric Vitte 
@_subject: [tor-talk] tor-talk Digest, Vol 40, Issue 47 
Correction: I had something else open during the test, apparently VLC does proxy correctly the requests.
Le 27/05/2014 19:34, Aymeric Vitte a ?crit :

@_date: 2014-05-28 11:32:46
@_author: Aymeric Vitte 
@_subject: [tor-talk] how to stream videos using Tor 
Why Netflix and why anonymously? You can stream anonymously torrents with Peersm.
Le 27/05/2014 21:25, John Henry a ?crit :

@_date: 2014-05-28 14:27:58
@_author: Aymeric Vitte 
@_subject: [tor-talk] how to stream videos using Tor 
What "video" link? If you are talking about the yt demo video, then it follows yt rules, there is no flash in peersm.
Le 28/05/2014 13:55, mick a ?crit :

@_date: 2014-05-28 18:17:26
@_author: Aymeric Vitte 
@_subject: [tor-talk] how to stream videos using Tor 
Demo or/and promo, as people see it. That's a known problem, we don't really have the choice today (is this not a yt video that I can see on your site?), now you can consider 'using' (pejorative sense) these kind of services, none of these things or similar ones will ever appear inside peersm.
Le 28/05/2014 17:08, mick a ?crit :

@_date: 2014-05-29 02:01:46
@_author: Aymeric Vitte 
@_subject: [tor-talk] how to stream videos using Tor 
Le 28/05/2014 21:02, mick a ?crit :
What difference it makes (personal blog/website, "promoting")? But I am not sure that focusing of this point is very interesting for the list.
Maybe you missed the initial question of this thread, which was: can we stream yt using the TBB? The answer is: not always, then can we stream yt using something else related to Tor anonymity? The answer is: maybe, or for sure using projects related to "Tor usage" like [ but extending the concepts.

@_date: 2014-11-01 12:39:59
@_author: Aymeric Vitte 
@_subject: [tor-talk] Cloak Tor Router 
Probably it's useful to put the kickstarter link:  I would say that the presentation is less "marketing oriented" than the anonaflop, after a quick look, maybe the look of the box and its size does not appear obvious to the potential pledgers.
And probably you know already the drawdbacks of such approach, so from my standpoint some minimal rules should be added not to fool the users but this will make the device less interesting for them, like: only allow https traffic, do not run Tor over Tor (ie if the user is using the Tor Browser then set the proxy to the box), only allow Tor Browser FF, etc
But that's not my point, can such device run nodejs and did you ever try it/compare it with the traditional approach? The interest is that nodejs packages/apps are much more light than usual C/C++ packages, as efficient or more, especially on such configurations probably.
Potential applications (among tons of possible ones) see the links below: node-Tor (Cloak with a much smaller package), Peersm clients/bridges [1] (permanent background processes in the box, like bittorrent clients in ISP boxes), torrent-live (find/block/track monitoring spies + maintain a real time blocklist bittorrent client)
[1]

@_date: 2014-11-02 11:52:48
@_author: Aymeric Vitte 
@_subject: [tor-talk] Cloak Tor Router 
Le 02/11/2014 04:10, Lars Boegild Thomsen a ?crit :
I don't know how anonabox did to attract so many people so quickly, I guess they have some contacts in the press and blogs, this campaign was something like an organized "gang" attack, unfortunatley this might have rendered people skeptical now for your campaign.
Maybe you should highlight it more in the presentation, so potential backers see it right away, as well as a simple drawing showing how to connect to the box easily, suggestions...
The balance is not easy to find I think, as everybody knows anonymizing you wrongly will lead to the contrary.
The rule could be "everything that is using SSL", if not the exit nodes can MITM you
Your TV media device that you mention in another answer is a good example, I have the same issue (what is this thing sending outside?), and people will have more and more the issue with the raise of connected/ott devices, then the box could allow to easily block whatever device too, which would be connected to your box, not to the ISP box. I have tried to discuss a little bit with some ISPs about putting in the boxes the project examples I gave, but at a certain point of time I felt like I would have to pay something, while my intent was the contrary, so beside the anonymity aspects there is definitely an interest of devices such as Cloak.
Regarding the prng topic, an idea that I have in mind since some time is to use the Tor protocol itself to gain entropy (not tested, neither proven secure), establishing Tor circuits is not trivial and a lot of unexpected things can occur as far as I have observed with node-Tor, which produces numerous events not predictable at all I believe.
I don't see how, unless the box can detect that it is Tor traffic, which is not supposed to be easy, and then route the message directly without using the Tor circuits, changing the proxy settings to the box looks to be the right solution, but it is not very user friendly
Tor over Tor is establishing Tor circuits over Tor circuits, ie the exit nodes will establish them, which is quite inefficient
Interesting, that's cool that you did consider it and shows that the project is not only about packaging Tor is some small hw, I don't know with what apps you did test it but probably some optimization can be made for the gc issues, and the whole nodejs might not be required, I will contact you off the list to see what can be done (if you have time of course, probably busy by the campaign right now)

@_date: 2014-11-07 17:29:23
@_author: Aymeric Vitte 
@_subject: [tor-talk] Cloak Tor Router 
And 5 "do not send anything outside", no? Usually you can restrict with your ISP box but can you trust it?
What happens if you connect directly your PC to the Cloak with a cable?
Maybe the concept of several wifis is good but I don't see it very usable, not sure what would be the security requirements for this but assuming that I am trusting my local network why not a simple web interface where you can configure the same for any device connected to the box:
- do not allow anything outside
- allow all traffic outside Tor
- force everything through Tor (warning: close your bittorrent clients)
option: the Cloak could detect the bittorrent traffic
- force eveything through Tor except torrents
- force ssl through Tor, non ssl outside
Le 05/11/2014 05:19, Lars Boegild Thomsen a ?crit :

@_date: 2014-11-07 19:07:15
@_author: Aymeric Vitte 
@_subject: [tor-talk] Cloak Tor Router 
Le 07/11/2014 18:18, hellekin a ?crit :
Yes but again we are not talking about strong anonymity here (unless for a browsing use with the Tor browser and the proxy set to the box), question of usability again by people not familiar with this (but I forgot to mention the http nowhere option, and if users set it then will they understand that all non ssl traffic is blocked?), some thoughts are:
- for a normal user is it better to have the non ssl traffic mitmed by the exit nodes or should it go outside?
- torrent traffic goes automatically outside
- non ssl websockets (like Peersm's where we have ssl (+Tor) over ws and not the contrary) do not go through Tor, so again you are not using Tor over Tor

@_date: 2014-11-07 19:24:54
@_author: Aymeric Vitte 
@_subject: [tor-talk] Cloak Tor Router 
Le 07/11/2014 19:07, Aymeric Vitte a ?crit :
- if some devices or apps (like browsers) are sending dubious stuff outside, it's likely to be ssl one (like [1]) so you can not know what it is, I have not checked yet what my Chromecast is doing, it's in the TODO list
[1]

@_date: 2014-11-07 19:46:24
@_author: Aymeric Vitte 
@_subject: [tor-talk] Cloak Tor Router 
Le 07/11/2014 19:24, Aymeric Vitte a ?crit :
This makes me think too that project [1] [2] could resurrect with a Cloak, the Cloak would replace the servers used to intercept itself. Quickly explained the principles are that the browser is intercepting itself with the complicity of servers, it then changes the URLs (sent and received in the page) to a fake domain and navigates on the fake domain via the Tor network, nobody can know outside of the browsers what are the real domains, even for ssl (the server name is the fake domain).
[1] [2]

@_date: 2014-11-09 12:03:04
@_author: Aymeric Vitte 
@_subject: [tor-talk] Cloak Tor Router 
Answering your different emails at once:
- anonathing indiegogo: incredible... you can be sure that these guys are cheating on the crowdfunding campaign, as far as they can
- configuration: as you say the less needs to be configired, the better, but I am not sure we will reach a consensus of what should go through Tor and what sould not, as we can see in this thread people have different opinions
- cable connection: I think this is required, then minimum configuration is needed
- "do not send anything outside" wifi: I think it is required too
- all TCP through Tor: you say that it's difficult for the Cloak to detect SSL vs non SSL, but you are proposing a SSL only wifi, so the Cloak is supposed to know how to do this, no?
- all SSL through Tor, non SSL outside: I think I would choose that option myself by default for the reasons explained previously (see my latest answer, stupid traffic going outside will necessarily be ssl, my ws example does apply too for Tor flash proxies relayers)
- bittorrent: yes that's definitely an issue I think, I suppose the Cloak does relay the UDP traffic, I don't know what happened for your test but of course if UDP does not work nothing will happen, bittorrent trackers (which people should not use at all) and DHT are using UDP, the bittorrent protocol is using TCP and uTP (UDP), as far as I know it tries to establish both and breaks the TCP connection if uTP is successfull, I don't know really what is the most use, as far as I have seen both are used equally, but I did not study this precisely, maybe some other people can give inputs here. It's unlikely that the seeders are blocking the exit nodes, so once the bittorrent protocol establishes TCP connections with the peers in the swarm through Tor, there are no reasons that it does not work.
- maybe that's another reason to use "my" default, since the Cloak can not recognize bittorrent traffic it would go outside automatically
- as previously mentioned I will contact you off the list (when I have time) for the other topics.
Le 09/11/2014 10:27, Lars Boegild Thomsen a ?crit :

@_date: 2014-11-12 15:27:15
@_author: Aymeric Vitte 
@_subject: [tor-talk] anonabox : the Tor hardware router 
Le 12/11/2014 14:20, Derric Atzrott a ?crit :
I don't think there is any "hazard" in what they are doing, but probably they don't feel they sould expose themselves to this list since they explain that they are already very well connected to the Tor community:
"He also volunteers for the Tor support forum the Tor Stack Exchange, and is an admin for the official Tor project discussion page on LinkedIn."
Still amazed that some blogers are recommending this, apparently they promise to send them a box.
Seriously when will these guys be stopped? They have lied enough, the Tor project should say something (or are you really connected to them as they claim?)

@_date: 2014-11-18 17:35:53
@_author: Aymeric Vitte 
@_subject: [tor-talk] Tor router requirements / best practices [was: Cloak 
I am not sure we are talking about the same thing, or at least we see it differently, I don't see very well what would be the use of a box acting as a bridge, it would mean that the OP is inside your device while the box is supposed to anonymize (as far as it can) or block the traffic from any devices on the local network.
I don't see very well what would do the captive portal too (why port 80 "...to design a secure pairing system between Tor Browser and a Tor router ..."
"In this mode, the Tor router could actually act as a defense-in-depth mechanism that would block all non-proxied traffic, providing additional protection against browser or other remote exploits, by only allowing properly Tor-configured application traffic to exit onto the Tor network."
OK for browsing, but then you would block all the traffic for apps or devices that you can not proxy.
As I see it the interest of such a box is to centralize the traffic of whatever connected object you have and decide if it should be blocked or routed through Tor or not.
I don't see an ideal design but I think the box could have as simple interface where for any connected device the user can choose:
block (default yes)
if not blocked:
ssl : block/Tor/not Tor - default Tor
non ssl: block/Tor/not Tor - default not Tor
With the pairing system mentioned above where the user would use the FF Tor browser if available on the device with the proxy automatically set to the box and where the box would let go through Tor the traffic that is proxied to it independantly of the above rules except if the device is blocked.
Still the user would have to do some configuration but that does not look complicate.
This assumes that you trust your local network.
Le 17/11/2014 19:35, Rusty Bird a ?crit :

@_date: 2014-11-24 12:41:39
@_author: Aymeric Vitte 
@_subject: [tor-talk] Propsal for decentralization of the Tor network 
Le 24/11/2014 04:03, Cari Machet a ?crit :
That's what can be deducted from some papers but this is really a shortcut, like "the bittorrent network is less secure with the DHT than with trackers", funny statement...
I must add some technical faqs following some questions I had but an example of a decentralized anonymous p2p system is what I have specified in [1], some concepts are new, I don't see it in any paper, the peers/content discovery system has several layers, not only the DHT, the keys are ephemeral and the nodeIDs are directly related to them, I believe this makes really difficult for the attackers to position themselves in the network, but since the content is not advertised by the peers that have it but by others, while difficult it's probably feasible for an attacker that has the possibility to control a large part of the space to attract the peers to a fake/evil content.
The system answers a specific constraint coming from WebRTC: the peers need to be introduced by a third party, but after the initial bootstrap they can introduce themselves directly.
Could some of this apply to the Tor network? Probably, the best way to know is just to try it.
[1]

@_date: 2014-10-14 12:37:39
@_author: Aymeric Vitte 
@_subject: [tor-talk] Tor Relay Smartphone App 
Le 14/10/2014 09:55, Lunar a ?crit :
A bad idea that is doing good on Kickstarter...
I don't see very well the difference with the Onion Pi, except that it's unclear what code they are using or I missed it (there is a link to a 41 KB gz 'complete' code, this looks quite small so probably they are using the Tor project code) and there are no warnings about the insecure aspects of its use as you mentioned.
Anyway, I still think the universal solution is the javascript Tor protocol inside browsers, browsers would perform the Onion Proxy and connect to the Tor relays using WebSockets, everything that is fetched by a page is redirected to the WebSockets (like for example everything is redirected to the Socks interface when you specify it, the messages would be encrypted by the Onion Proxy and sent to the Tor circuits over WebSockets ), unfortunately while the rest exists and is working (node-Tor) this last point is completely undoable today.
This would work on any device, mobile or not, with the associated level of security because this would not eliminate the need of the Tor browser features and probably some confinement/security features would need to be studied between the page and the ws OP, maybe similar to  new methods to enforce privacy inside browsers with principles of code confinement and labels between origins, using what exists today, postMessage with workers and iframes (clever use of it for In addtion browsers will be able to perform the OR function too, so will be Tor relays, as previously mentioned in this thread if the bandwidth of the device is bad the interest can be quasi null unless some multipath possibilities are available, but given the number of browsers in the world it could be interesting to scale Tor.
So, it's probably worth studying the possibility with browser vendors (and standards), ie to solve this question: how to pass all the traffic to a given interface (here the ws OP)?

@_date: 2014-10-22 22:37:51
@_author: Aymeric Vitte 
@_subject: [tor-talk] Orbot/Tor talk at MIT tomorrow 
The global solution, I think, is the one described in [1], the onion proxy inside browsers, if the researchers of the cowl project succeeded (easily because some of them belong to Mozilla and Google) to bypass years of useless specifications (explaining at the same time that what is currently being specified is "not enough", ie of no use) to have it implemented in FF and Chrome, then why not the Tor people?
Good talk
[1] Le 22/10/2014 18:06, Nathan Freitas a ?crit :

@_date: 2014-09-01 11:38:40
@_author: Aymeric Vitte 
@_subject: [tor-talk] I have a quick question about security of tor with 3 
Restoring the right subject for this thread...
Maybe in the context of the Tor network it would not be very useful and safe but probably there is still an interest that the first node does not know it is the first one, not sure it's really possible for the Tor network since as you mention it's probably not very difficult for a node to find out that it is the first one.
Le 31/08/2014 22:54, Charles Thomas a ?crit :

@_date: 2014-09-01 23:20:02
@_author: Aymeric Vitte 
@_subject: [tor-talk] Micropayment embedded in circuit building? New idea? 
First question is: why do you want people to pay for relays? That's probably one of the best way to deanonymize you.
Second is: why apparently you only envision to use/scale the Tor network, and not the Tor protocol for a P2P system? Knowing that the Tor network is absolutely not designed at all for P2P capabilities, whether it's about torrents, telephony, etc
Corollary is: Peersm project ([1],[2]), a P2P system using the Tor protocol (and, marginally, the Tor network for non P2P exchanges, ie web Please see comments below.
[1] [2] [3] Le 01/09/2014 15:44, carlo von lynX a ?crit :
You don't have to pay, if the P2P system is efficient, please see below.
Why your physical area? To give a chance to locate where you are? The latency of the Tor network is different from the latency of a P2P system using the Tor protocol
Just replace it with a DHT based routing system where references to peers are ephemeral and the distance to peers have nothing to do with your location but allows you to detect compromised ones.
And make sure that the peers can not freeride (unlike the bittorrent protocol [3]), ie they must participate to the common P2P effort, which is the case for peersm concepts since you get referenced by others
Please see above (DHT and ephemeral IDs for peers), the P2P system should not mimic the Tor network, no guards concepts or such.
I don't think it needs a lot of research, everything is already there (then please feel free to redirect EC to peersm).
If we forget about encryption/anonymity I think the peersm concepts could apply to bittorrent itself, those that are advertising/relaying something are not those that have it but might know someone that has it or someone that might know someone else has it, making difficult to know who is seeding what and who is requesting what.
And, despite of the fact that research seems to have wrongly given up with P2P studies, it appears (to me at least) obvious that even if some uses can be questionnable, the global strength of the P2P system can allow non questionnable uses, like legacy streaming, telephony, etc, without the need to pay anyone in the loop, basically the "bad use" is boosting the "good use"

@_date: 2014-09-03 00:49:50
@_author: Aymeric Vitte 
@_subject: [tor-talk] Micropayment embedded in circuit building? New idea? 
I read the proposal (and your other comments), but sorry, without even talking about payment issues here, who can be the thousand of relays in city and millions ("If such a new Tor network had a millions of relay nodes") in your physical area (that you should pick up as you wrote "it would be reasonable and safe to pick all relays within my current physical area", leading to the conclusion that all hops are in your physical area) ?
That's why I was assuming that you were obviously talking about a P2P system, but following strictly the Tor network rules (except the replacement of the dir servers by a DHT based system, which indeed is not so simple but not so complicate neither), the example of peersm is not about js or about highlighting it, but about a P2P system based on the Tor protocol not behaving very exactly like the Tor network (and yes the site requires js, not talking about the app which is a js one...)
And I was assuming that the peers are not mobile phones only but any other devices that have an interest in the network ("allowing this to run phone calls or torrents").
But OK, the issue of "how to make pay an anonymous user for services on top of/or related to an anonymizer network without deanonymizing him" is valid for plenty of use cases, including mine, I have not taken a look into this for now.
Le 02/09/2014 22:37, carlo von lynX a ?crit :

@_date: 2014-09-04 13:47:12
@_author: Aymeric Vitte 
@_subject: [tor-talk] BBC Horizon: Inside the Dark Web 
I don't think the Tor network is planning to scale to that extent and is designed for this, but I might be wrong.
Le 04/09/2014 12:16, Johan Pouwelse a ?crit :
Peersm ([1],[2]) can stream and download torrents anonymously since some time already with the complicity of ([3]), similar to Tribler somewhere but different, phase 1 (with servers) is implementing all what is required, including "hidden seeder", we are currently finalizing the integration of a module [4] from Telecom ParisTech allowing to adapt on the fly the files to adaptive streaming inside browsers, and then we will move to the target phase (no more servers) using WebRTC
We can read in the TF article:
"We hope all developers will unite inside a single project to defeat the forces that have destroyed the Internet essence."
Of course for the goal but all projects do not address necessarily the same threat, probably they can cooperate
"We really don?t need a hundred more single-person projects on ?secure? chat applications that still fully expose who you talk to,? Pouwelse says"
Not sure what you mean here, projects such as Peersm don't have 10 years of research, dozens of searchers/phd people and 4 ME fundings from EC, probably the concepts are still perfectible (like Tribler's ones) for the threat it addresses but it does not mean they were not discussed with other research people and inspired from research papers.
For example I took some inspiration from one of yours [5], unfortunately I still have an issue with the pieces validation, probably it's not the place to discuss this, but the paper remains vague regarding the "asymmetric crypto" used, and in my case I am not going to add 64 bytes of overhead given the size of the pieces and have a signature operation each time, the idea is something more light that can insure that the piece "might" be OK difficult enough to fake.
Regarding Tribler it would be great to have a single spec updated, it's difficult to reconciliate what is up to date and what is not (and what it is doing exactly as well as what is doing the current trial, as far as I understand the hidden seeder is not implemented).
[1] [2] [3] [4] [5]

@_date: 2014-09-09 13:45:18
@_author: Aymeric Vitte 
@_subject: [tor-talk] What should our 31c3 talk be? 
Le 09/09/2014 02:05, Roger Dingledine a ?crit :
Of what exists today, from my standpoint flashproxies and meek [1] are the most disruptive/interesting, and probably easy to sketch to a non technical audience.
Of what will exist, maybe CloudTransport as mentioned in another post, and freedom.js-like solutions.
What is librtc? I did not find anything about it.
As far as I understand, with freedom.js browsers can only communicate one way with the backend processes, they can not be triggered unless they implement themselves a backend process or unless they maintain continuously connections with backend processes, which seems unlikely, or unless there is a facilitator to do such like with flashproxy.
That's why I still think there is room for a WebRTC solution where we have local clients running a headless browser (chrome app, knowing that Tor public might not be enclined to use a chrome-based app) or a node.js (node-webrtc, node-webkit) solution, or another one supporting WebRTC, acting as a Tor node and discussing with browsers to relay the traffic and/or act as other Tor nodes (which is very exactly what Peersm/node-Tor is doing), the context is different but this is similar to what is being discussed in [2].
[1] [2]

@_date: 2014-09-22 17:44:32
@_author: Aymeric Vitte 
@_subject: [tor-talk] Article: Best Alternatives to Tor 
Funny article indeed...
But the homework was not so good, he forgot Peersm (!!), and we learn that Peerblock is free, but the article forget to mention that the blocklists are not free :-), so Peerblock without blocklists is probably not very efficient...
And when we look at the blocklists that's not very convincing... I have collected during this summer a lot of supposed spies via [1], it seems that the total is converging now but still new supposed spies are coming, I have to analyze this when I have time, one obvious focus will be to understand how well known non spies end up in the blocklist... and if all Tor exit nodes (+VPNs) are there.
[1] Le 22/09/2014 16:19, Elrippo a ?crit :

@_date: 2015-04-23 13:02:14
@_author: Aymeric Vitte 
@_subject: [tor-talk] SIGAINT email service targeted by 70 bad exit nodes 
Le 23/04/2015 06:08, Roger Dingledine a ?crit :
Yes, you should use SSL/TLS and you and/or your users run the very excellent "interception detector" Of course to be maximally efficient the tool should be installed on your site and it should be modified not to change the proxy settings (and then be compatible with the Tor browser, which unfortunately is currently not the case), because if the mitm is not stupid it can see that the destination IP in the socks message does not match your domain.
It can be tried with the secret "abcd" (abcd.sigaint.org)

@_date: 2015-04-30 23:14:24
@_author: Aymeric Vitte 
@_subject: [tor-talk] Full integration with bitcoin (suggestion / feature 
I did not read this thread completely but keep it in my TODO list.
Your analysis is correct but can be summarized in one sentence: using bt
over Tor is a non sense because the size of the Tor network is
completely ridiculous compared to the size of the bt network.
As ridiculous as using bt over a VPN, which the bt VPN trolls don't like
to hear.
Disabling the DHT and allowing trackers only is at the opposite of any
privacy protection, because trackers are trivial to monitor and fake,
it's a little bit more difficult with the DHT, but still easy for
someone that can crawl it.
I have tried to explain all this in the FAQs here:
 and here: and related study, which for once does not focus on trackers and
monitoring the users, but focuses on the DHT and monitoring/blocking the
monitors, showing also how easily you can protect using the DHT only,
assuming that your bt client is willing to (like torrent-live)...
Tor does not handle UDP but you can tunnel UDP through Tor to some SOCKS
proxies, which, again, is ridiculous but just works.
And, again, a possible solution is the Peersm project (which before
using the DHT does envision new means for peers/content discovery) or
something similar, a P2P using the Tor protocol, not the Tor network.
Le 30/04/2015 22:18, Speak Freely a ?crit :

@_date: 2015-12-15 22:24:05
@_author: Aymeric Vitte 
@_subject: [tor-talk] Ordering a .onion EV certificate from Digitcert 
For what use exactly? ie why people should want a TLS certificate for a
.onion, which by definition is something not tied to an official
"domain", like anything that has no other choice than using self-signed
Something can be done to verify that someone owns the .onion "domain"
and probably we should study this (for letsencrypt for example) and get
rid of this notion of "domain" which is obsolete, please take a look at
this thread
(follow the previous posts if you have time, this addresses the very
same problematic, including letsencrypt), still not convincingly
answered (despite of the fact that the W3C obviously does not follow its
security policy for WebRTC), since people there seem to find a kind of
funny the Tor protocol but, happier for the planet, succeeded to secure
it with a fb .onion certificate.
Le 15/12/2015 17:09, Fabio Pietrosanti (naif) - lists a ?crit :

@_date: 2015-12-16 11:54:09
@_author: Aymeric Vitte 
@_subject: [tor-talk] Ordering a .onion EV certificate from Digitcert 
Whether we follow the logic completely (all TLS with valid certificates)
and we have a solution for all cases, whether we don't, and currently
the W3C folks don't (WebRTC example) and forbid other things not
explaining clearly why.
I will not start a CA model discussion again, but the unanswered
question in the thread was: what can ws with https hurt exactly and why
are we obliged to use insecure http with ws? Knowing that the benefit of
wss over the Tor protocol is null and that the future of browsers is
certainly not to continue discussing with good old websites.
So the subsequent question was: what can we do for browsers to discuss
with entities that can't have valid certificates?
Maybe it's out of the scope of this discussion but if this "all TLS"
trend is confirmed flashproxy is going to have a problem too.
Le 16/12/2015 11:14, Ben Tasker a ?crit :

@_date: 2015-12-16 14:18:39
@_author: Aymeric Vitte 
@_subject: [tor-talk] Ordering a .onion EV certificate from Digitcert 
This one that was in my initial reply:
Le 16/12/2015 12:07, Andreas Krey a ?crit :

@_date: 2015-02-04 14:47:17
@_author: Aymeric Vitte 
@_subject: [tor-talk] "Confidant Mail" 
Just for the story about startssl, unlike Confidant Mail which should use https, I think, despite of the fact that they don't trust it, like all of us, it's still better than nothing, I have explained several time here why we could not use https to retrieve the Peersm code.
There was an artifice where the js code was retrieved using https inside a http page with an additional key mechanism, which of course is of a little use but still better than nothing again.
Now when it came the time to renew this startssl certificate some months ago, unfortunately the Peersm site was tagged as infected by Google safebrowsing during some days, then startssl did not want to renew the I contacted Google safebrowsing's team since it's impossible that the Peersm site got infected by anything else than the Peersm app code itself (or Google itself via yt) where I think I know why safebrowsing's AVs could have possibly detected wrongly a problem, so I asked them to rescan the site to identify the issue or to confirm to startssl that there were no problems.
It did not work up to now, then I gave up with the SSL certificate, it just failed because safebrowsing was wrong and because startssl's procedures are based on this, they told me that they were obliged to do so, but at the end that's another kind of censorship because a tool (safebrowsing) can be wrong, I hope letsencrypt will not reproduce this.
Le 04/02/2015 13:27, CJ a ?crit :

@_date: 2015-02-12 15:20:27
@_author: Aymeric Vitte 
@_subject: [tor-talk] atlas / onionoo platform search? 
See also It's closed currently but maybe adding some search options could help unloading onionoo (and personnaly I still would like an option to get the onion keys)
Le 12/02/2015 15:11, Josef 'veloc1ty' Stautner a ?crit :

@_date: 2015-02-24 12:25:27
@_author: Aymeric Vitte 
@_subject: [tor-talk] Monitoring and blocking the bittorrent monitoring spies 
This is a study based on the DHT only which shows how to find/track/block real-time the bittorrent monitoring spies, how to set methods to protect the bittorrent users and make their use of the bittorrent network much more private, how to create/maintain a dynamic blocklist and possibly how to set a more fair relationship between the users and the copyright holders.
The abstract and begining of the study is here: At the begining of the study the assumptions were:
- the spies are millions
- they do legal things
- they can prove that you downloaded a torrent
- no methods inherent to the bittorrent protocol exist to stop them
- no methods can exist to protect the privacy of the users
At the end it is:
- what are doing the spies is very questionable from a legal standpoint
- they are hundreds, or a couple of thousands, not more
- they cannot prove anything
- a simple change in the bittorrent protocol would defeat them all
- some efficient means can be used to protect the users and could be implemented in any bittorrent client without disturbing anything
The method to create and maintain the dynamic blocklist is explained here: But it might not be enough and it is recommended to combine it with:
The method to protect the users is explained here: The technical details, code and installation details for the anti-spies/private bittorrent client are here: A less technical general presentation is available here: PS1: it's under consideration whether the optional 'total freerider' feature should be the default or not, because, of course, this one does disturb the network, but this is not the key feature here.
PS2: while it's obvious that protecting the bittorrent users might not please some people, unexpectedly we have to fight with the VPN folks too, who argue that blocklists cannot work and don't realize that, despite of some advantages, using a VPN just consists in destroying the magic of the bittorrent network. The blocklist here is determinist and its accuracy is just a matter of processing capabilities, combined with the privacy methods it becomes extremely unlikely to encounter a monitor.
PS3: indeed, the methods might block by mistake some peers that are not spies, but this is completely marginal given the size of the bittorrent PS4: no, the monitors are not using the Tor network (unless they tunnel udp through Tor to some proxies, which would seem completely absurd).
PS5: yes, financing would be appreciated to support this work (and related projects Peersm, node-Tor) and to disclose the full study.

@_date: 2015-01-03 19:37:51
@_author: Aymeric Vitte 
@_subject: [tor-talk] Cryptographic social networking project 
Le 03/01/2015 14:19, carlo von lynX a ?crit :
Right, it's inept to think that the Tor network will ever scale to 1M nodes or more and to build something on top of it based  on this assumption, the Tor network is not done for this.
But it's not inept to use the Tor protocol for a P2P network, assuming that you don't have to reuse the very same Tor network concepts, most of them do not apply as explained in [1]
And it's not inept to think that you can have all this inside your browser, it's already there and secured (Peersm project [2])
And no, you do not necessarily need a relay router (Peersm project again).
[1] [2]

@_date: 2015-01-06 23:11:39
@_author: Aymeric Vitte 
@_subject: [tor-talk] New Software: P2P filesharing designed to use Tor 
Apparently you are misinformed, of course there are no other P2P filesharing projects using the Tor network, because it can just not work, the Tor network is too small and not done for this.
But there are other anonymous P2P filesharing projects using the Tor protocol compatible with torrents like Peersm, Tribler and other projects not related directly to torrents, which provide quite a lot of serious technical details unlike your project.
And despite of all the merits of the WebTorrent project, it has nothing to do with anonymity, Tor or onions, and can't neither work with them.
Le 06/01/2015 18:02, Full Name a ?crit :

@_date: 2015-01-21 14:04:50
@_author: Aymeric Vitte 
@_subject: [tor-talk] Yelp blocking Tor users from viewing entire site 
It would be interesting to know if sites like Yelp/Craiglists are more afraid of anonymity and possible spam/trolls than crawlers.
If they cannot detect a crawler using Tor, then they cannot detect any other crawler, like a crawler switching IPs as mentionned in another post, using vpns or proxies, etc
So in that case it's useless to block Tor, because Tor network's size is not really significant compared to other means that crawlers have, probably they just choosed the easy way as well as crawlers might have chosen the easy way too (use Tor), blocking Tor so they have solved one But in fact they have solved nothing if they are not protected against crawlers, and if they are protected the protection would be something like blocking the IP or sending a captcha.
Maybe the exit nodes could implement an anti-crawler feature, even if the crawler is switching among 1000 exit nodes I think it's feasible to fingerprint it in the Tor network finite space, I don't know if there are studies about this, an efficient crawler can never behave like a human being or a normal browser.
This might sound like a kind of censorship but that's probably not the goal of the Tor network to crawl and spam the web, the exit nodes that would have removed the feature would just get blocked.
Le 20/01/2015 21:24, Roger Dingledine a ?crit :

@_date: 2015-01-22 13:53:04
@_author: Aymeric Vitte 
@_subject: [tor-talk] Which PTs shall we prioritize for inclusion in Tails? 
Le 22/01/2015 00:36, Roger Dingledine a ?crit :
In the context of Peersm I am giving some thoughts that it can not be, but I am interested by other opinions, what if WebRTC is blocked?

@_date: 2015-01-29 23:36:23
@_author: Aymeric Vitte 
@_subject: [tor-talk] WebRTC to uncover local IP 
Le 29/01/2015 22:20, isis a ?crit :
I thought that the Tor project team had already a strong knowledge of WebRTC since recently we saw that the future might be flashproxy combined with uProxy (then WebRTC) to do something unstoppable.
Some time ago I made [1], this drawing is supposed to explain simply how WebRTC works and at that time just leaded to the conclusion that the signaling servers are the perfect MITM and that the STUN servers can correlate the connections, then the IPs.
But the signaling servers are not mandatory finally, WebRTC peers can introduce each others, but you still need some servers accessed usually via WebSockets to bootstrap the process, these are the concepts of projects like Peersm (which at the same time solves the issue of WebRTC DTLS self signed certificates) and WebTorrent.
I did not study it deeply but in the strict context of the current Tor Browser, I think that nothing is safe in WebRTC, and it should be entirely disabled.
Another more interesting idea that I have repeatedly posted without getting any feedback would be to allow to set the browser's proxy to an interface, like WebSockets or WebRTC.
Example: let's take the proxy auto config mechanism, the pac file (let's forget about the security aspects to retrieve it here) which contains findproxyforurl is sandboxed and executed inside browsers, it is called by the proxy and returns an url.
Instead of returning an url, you could have the Tor protocol inside the pac file (so sandboxed too) and it could return an Object, the Tor protocol would establish circuits via WebSockets or WebRTC with the Tor network or between browsers, the proxy would use the Object to write to those circuits and read from them (like a duplex stream The interest would be to have Tor on any device, I am not saying that the pac file could be a solution, that's just an example of how this could work based on what exists today, now still remains the issue of implementing all of what the Tor Browser is doing, but it's still interesting to study, it certainly applies to projects mentioned above and plenty of others, now or later.

@_date: 2015-01-30 13:17:13
@_author: Aymeric Vitte 
@_subject: [tor-talk] WebRTC to uncover local IP 
Indeed, thanks, the link is But looking at it since this drawing is now out of its context I am afraid that it could be somewhere confusing.
This was an attempt to see how to combine WebRTC signaling with an anonymizer network, in order not to be mitmed by the signaling server (ORDB in the drawing) Alice and Bob need to encrypt their IP:port, which means that they should share a secret, know each other, etc, which is difficult and not very realistic.
I think the concepts of WebRTC with an anonymizer network are better explained now here: But this project can only fetch, not browse, that's why I am thinking to something like the proxy concepts explained below.
Le 29/01/2015 23:58, Christian Gagneraud a ?crit :

@_date: 2015-11-19 15:45:28
@_author: Aymeric Vitte 
@_subject: [tor-talk] Carnegie Mellon Staying Quiet For FBI? So Launch A 
Apparently 1 MUSD is the entry ticket for transparent "federally funded"
research at CMU:
Le 19/11/2015 06:18, grarpamp a ?crit :

@_date: 2015-11-24 12:02:30
@_author: Aymeric Vitte 
@_subject: [tor-talk] [guardian-dev] Freenet and PLUTO 
Le 22/11/2015 06:33, grarpamp a ?crit :
This site looks to be down since days... archived link to the article:
That's very vague, would be interesting to know more about it.

@_date: 2015-10-06 23:47:40
@_author: Aymeric Vitte 
@_subject: [tor-talk] Torrents real-time and dynamic blocklist 
Most of the study is now here:
 but some parts remain
For those that don't like the 'paid' aspect of the blocklist, see the TF
"One word about the "paid" blocklist that we forgot to mention since
some feel uncomfortable with this, you can use torrent-live and the
"findspiesonly" option to create your own blocklist free of charge, but
depending on your processing capabilities you would then probably create
blocklists for targeted torrents, it's explained in section "Why do we
need you to get the dynamic blocklist" of FAQs
Le 18/09/2015 00:03, Aymeric Vitte a ?crit :

@_date: 2015-10-09 19:05:08
@_author: Aymeric Vitte 
@_subject: [tor-talk] Torrents real-time and dynamic blocklist 
Le 09/10/2015 02:49, sh-expires-12-2015 at quantentunnel.de a ?crit :
There is, the concept of fake infohashes is not an invention of myself
but what the study highlights regarding the DHT and what the study
defines to protect, I have not seen it anywhere else as well as the
dynamic blocklist.
I don't get very well what the rest of your post has to do with the
study... There are a lot of details in the TF article's comments.
Anyway I don't think that's really of the interest of this list except
that some exit nodes operators might envision to use something like the
dynamic blocklist, if some are often bothered by notices/letters we can
propose a trial to see if the list is adapted, which we think it is.

@_date: 2015-10-13 08:46:38
@_author: Aymeric Vitte 
@_subject: [tor-talk] Torrents real-time and dynamic blocklist 
Well, please read the study and comments from others before posting, some had the same "doubts" and "snake oil"/"paying" concerns (torrent-live is open source and you can build your blocklist free of charge), they are addressed there
Does it happen that exit nodes get notices? Yes
We are not talking about port 6881 or > 50000, we are talking about dynamically blocking TCP connections to bt dangerous spies
And no, the method can not be fooled/flooded like this
Le 13/10/2015 01:59, sh-expires-12-2015 at quantentunnel.de a ?crit :

@_date: 2015-09-17 12:09:41
@_author: Aymeric Vitte 
@_subject: [tor-talk] Torrents real-time and dynamic blocklist 
Is now available on This might be of some interest for some people operating some exit nodes
and receiving notices because some others unwisely use the Tor network
for torrenting, the blocklist oscillates between 10/20K IPs please see
at the end of the presentation below.
There is an annual fee to access the blocklist in order to finance this
work, make it evolve and finance our other privacy oriented projects.
But people can also create their own blocklist free of charge using the
findspiesonly option of torrent-live, as explained in "Why do we need
you to get the dynamic blocklist?" section of the FAQs
"The blocklist comes from the study we made since one year "Monitoring
and blocking the bittorrent monitoring spies" (abstract and summary
here:  this does not
apply to copyright matters only but all kind of monitoring.
Global explainations are available in the FAQs:
 and more technical details how it works
The common belief is that blocklists do not work, which is true in
general, this dynamic blocklist works, it has been tested since a few
months with some people used to get DMCA notices at least once a month,
so far they did not get any longer DMCA notices.
It can not insure 100% that you will not encounter a spy but it does
decrease quite a lot this risk, personnally we think it's enough to make
sure that the spies will not detect you, but cannot prove it firmly for
now, only empiric use will tell it.
The only case that the blocklist can not defeat is the one of a spy
behaving normally or quasi normally in a swarm, as shown in some
research papers, this is possible but unlikely, unless you are not a
"normal" person and some people are really targeting you or you are
seeking for very sensitive information monitored by some authorities.
The dynamic blocklist oscillates between 10 and 20 K IPs, which is not a
lot, filtering the spies to reduce this number is just a matter of
processing capabilities, that we will increase if we get some fundings,
we think that the dangerous spies are no more than a few hundreds and
certainly less
than 3000."

@_date: 2015-09-18 00:03:50
@_author: Aymeric Vitte 
@_subject: [tor-talk] Torrents real-time and dynamic blocklist 
Le 17/09/2015 20:02, grarpamp a ?crit :
Strange selection of the original post and this link was not there
You must be kidding
 I say nothing more
Just say that you don't understand the interest, or just don't
understand it, or just challenge it instead, it's of the interest of
plenty of people, including Tor exit nodes people.

@_date: 2016-02-22 14:11:13
@_author: Aymeric Vitte 
@_subject: [tor-talk] Is it possible to use Tor without showing a Tor IP 
Even when you know what you are doing there can be some funny side
effects, this is really specific and not entirely related to the
original problematic of this thread but just shows that you can't master
everything even when you think you do, and anybody I believe can one day
make mistake while setting up the vpns, tor, proxies tunnels, router
conf, etc (a bit like users messing up with the Tor toggle mode when it
existed), please see
"It has to be noted that the method works for whatever combination of
VPNs, anonymizer networks (like Tor) or proxies the peers are using."
Sorry for the brief description, maybe more later for those that are
Le 21/02/2016 21:30, Scfith Rise up a ?crit :

@_date: 2016-02-24 12:08:36
@_author: Aymeric Vitte 
@_subject: [tor-talk] Tor for everyone; 
I am not sure neither to understand the interest of the system.
Why should it be better than systems such as Namecoin?
Why this (umpteenth) concept of discussing using hidden services
(unlikely to be usable by normal people) on a small network like Tor?
How do you prevent name squatting/spoofing?
Maybe missing something but interested by the problematic, currently
working on Le 24/02/2016 00:22, Allen a ?crit :

@_date: 2016-02-27 12:34:50
@_author: Aymeric Vitte 
@_subject: [tor-talk] Tor for everyone; 
100% OK with Zenaan
Maybe slow too but this model would need another validation step (like
sites' CA verification via an external system, blockchain for example)
Which seems useless, the concept of CA is obsolete, in addition the
future for ID management can't be centralized.
I have evoked the problem already, the web is imposing strange
limitations due to the CA system (for example you can't "downgrade" a
https connection using ws) for entities that can't have valid
certificates, for example a WebRTC peer or a Tor router.
So I believe the right model would be to have a peerID system
management, a peerID can be a peer, a server, a website, so can be
called entityID too, in a decentralized system like a blockchain.
Then instead of CA validation, this system can be used to validate IDs,
for the web and/or between peers, then people can build services on top
of this, like a P2P network inside browsers using the Tor protocol to
exchange data, access sites, etc, and other services on top of this like
messaging, chat, etc
Le 26/02/2016 23:47, Zenaan Harkness a ?crit :

@_date: 2016-02-27 19:43:11
@_author: Aymeric Vitte 
@_subject: [tor-talk] Tor for everyone; 
Le 27/02/2016 13:18, Guido Witmond a ?crit :
No, a DHT stores some data about something referenced by something
looking like a hash
When you retrieve the data you can do whatever you like, of course it's
better to implement the required mechanisms to prevent others from
spoofing data.
I am not sure to fully understand your CA signature model, why can't you
store [name,public key,CA-signature,CA-key,CA-name]?
In my previous answer the P2P system on top of the peer/entityID system
would implement peer discovery based on a DHT but not only, peers can
discover each others based on information they get from other peers they
are connected to.
Back to the DHT they could register [peerID, public key, how to reach
peerID] or to match your case [peerID, public key,
entityID,entityID-signature, entityID-key], where peerID is the
fingerprint of the public key, on the closest nodes from peerID, where
the nodeIDs (closest nodes where is stored the data) can be the
fingerprint of temporary keys (like onion keys), so people can't chose
their nodeID and fake the DHT.
The peerID info would come from matching a name in something like a
blockchain (where entityID are referenced too), where you can store as
many IDs as you like (and in your case if I understand correctly map
peerIDs with entityIDs).
So what's the benefit of a CA model here?

@_date: 2016-02-28 15:27:16
@_author: Aymeric Vitte 
@_subject: [tor-talk] Time for p2p, content addressed, 
Mass Surveillance, Sabotaging Traffic
Please see That's very summarized but is not a vague idea at all, it does not
reinvent the wheel but just tries to mix the best of what exists and
introduces new concepts.
Basically the system is a p2p network inside browsers using WebRTC and
the Tor protocol between peers (same principles as Peersm, peers are
connected to others via two hops and the circuits can be extended to
others making quite difficult for a peer to even know what role it is
playing while relaying data), handling digital IDs and peers/content
discovery (cf some examples given in the Eccentric thread), allowing to
build services on top of it, among those Tor traffic relayed by
browsers, making it impossible to block/captchatized by Cloudflare & co.
It is obvious that p2p networks can't work without a sufficient numbers
of peers, so there are some ideas too to motivate the peers to run
browser's instances in background to sustain the network.
Not all answers are available since this is part of a study for which I
am currently writing a proposal in order to fund it, not sure the
funding attempt will work but people can encourage it they find it
Le 28/02/2016 00:25, Zenaan Harkness a ?crit :

@_date: 2016-01-18 12:03:12
@_author: Aymeric Vitte 
@_subject: [tor-talk] Multicast Onion Services for video-streaming? 
It seems similar to what Peersm project ( intends
to do via node-Tor (
In its current form browsers are connected to Tor nodes, as well as
Peersm clients (
who are bridging to the bittorrent network.
Despite of the several encryption/hash computation for each Tor packet
we get a rate of 2 Mbps which is normally enough to stream (but we limit
this rate to 1 Mbps currently), the limitation comes more from the
transcoding of the files to adapt them so they can be played by browsers
Currently you get data anonymously from one peer, not several ones, it's
obvious that the Tor network is too small to implement a P2P network on
top of it.
So the final phase
is designed to be a P2P network with browsers as peers communicating via
WebRTC using the Tor protocol but not the Tor network.
Another (complementary or different) idea could be that browsers are
connected to Tor nodes using Websockets (like Peersm phase 1) and
implement a complete Tor relay (not only the Onion proxy function as
Peersm is doing), then relaying data with other browsers and exiting
whether in the clear (like uProxy) or to the Tor network via Websockets
One of the issues of this model is the limitation induced by the upload
bandwidth of the peers, so a traditional Tor connection should use
different circuits and peers to exchange data, and not only one circuit,
which implies some modifications of the Tor protocol.
Le 17/01/2016 13:08, Fabio Pietrosanti (naif) - lists a ?crit :

@_date: 2016-07-02 12:17:26
@_author: Aymeric Vitte 
@_subject: [tor-talk] Design of next-generation Tor systems 
Le 01/07/2016  14:02, carlo von lynX a crit :
Maybe we can continue off the list since the discussion is going into
specific details not related to Tor
I did read the paper before and looked at the presentation again. It's
very different from what torrent-live (securizing the bittorrent DHT for
the users' privacy but inherently, if used correctly, the bittorrent DHT
already secures the routing for attacks described in the presentation)
and Convergence are doing (explained here
 but for
Convergence you should replace the notion of file hash by the notion of
In gnunet, when the DHT is used the path for data goes through the node
that stored the data and as far as I understand the ID used for the
nodes in the DHT is the peerID of the nodes (not the same in Convergence
the DHT nodeIDs are the fingerprint of their temporary onion keys, not
their long term peerID), I find it a bit strange since it might be
possible for a node to force the traffic to go through him for a given
peerID (not easy since it cannot choose his peerID but still possible),
but probably this is foreseen, and the path is then a bit "indirect"
too, but why not, will keep this in mind too
I don't remember having seen a lot in design papers regarding
freeriding, that's at least as important as classical attacks,
freeriders can just stop the network, for example if a lot of people
were to use torrent-live then the bittorrent network would just stop working
Yes but as we know this does not protect anything
Ok but I guess the virtual users don't have the content that the non
virtual users are looking for
Bigger I don't know since we are talking about the bittorrent users here
but serious yes, maybe "more to come" will come, this is going together
with the study  and
this is for sale at least to fund this more than two years work
(scandalous, I know... should be free of charge of course)
Is gnunet really multicast? The distribution tree is composed of rdv
points and messages from one point to another go through different paths
composed of rdv points

@_date: 2016-07-09 11:52:16
@_author: Aymeric Vitte 
@_subject: [tor-talk] Anyone got the sourcecode for "CensorSpoofer" 
Reminds me somewhere  (see Details for the specs),
not IP spoofing here but domain name spoofing
But probably both systems are difficult to scale since specific third
party servers/proxys are required
Le 08/07/2016  01:13, Flipchan a crit :

@_date: 2016-06-01 12:31:13
@_author: Aymeric Vitte 
@_subject: [tor-talk] Ntop nDPI 1.8 with enhanced Tor protocol dissector 
I think this is similar to the problematic highlighted in this thread
I read the paper several time but unfortunately could not find what was
new or disruptive
As already stated I don't get that we get stuck on this model of things
tied to a (stupid) domain, verification through the (stupid) domain and
current certificates format, for the global web problematic and future
(ie browsers acting as nodes), and this DPI easy example
But maybe the "at the moment" remark on the above link gives some hope,
the approach could be to link the entities to an entityID (to which we
can add a .thing extension if people like it but it's of no use) that
can be checked via decentralized blocklist/wot/reputation systems/keygen
or combination of them, and then probably this can be used with
letsencrypt, and probably SOP can be enforced the same way with
entityIDs instead of domains, nobody is working on this?
Le 01/06/2016 ? 08:30, Roger Dingledine a ?crit :

@_date: 2016-06-02 23:03:18
@_author: Aymeric Vitte 
@_subject: [tor-talk] Tor (and other nets) probably screwed by Traffic 
Yes: Let's imagine that one Tor circuit reaches a P2P network (here browsers)
and is splitted between different peers (UDP) circuits before
reasynching to a relay or end point, then the reconciliation from the
source to the end point is quite unlikely
Le 02/06/2016 ? 18:29, grarpamp a ?crit :

@_date: 2016-06-03 11:57:56
@_author: Aymeric Vitte 
@_subject: [tor-talk] Tor (and other nets) probably screwed by Traffic 
Le 03/06/2016 ? 07:43, grarpamp a ?crit :
Yes and different upload bandwidth of the peers make the timing
correlation even more difficult
Here we could have some packets that are lost by the peers, because of
UDP, because a peer left and broke a P2P Tor circuit, etc, then the
packets must be resent and x bytes sent is then not equal to y bytes
received, more generally it could be possible to send consciously
several time the same packets who will be dropped by the reasynching end
point, still x bytes sent will be equal to x bytes received at the end
point but not further, that's one of the topics of the project, to be

@_date: 2016-06-03 13:40:13
@_author: Aymeric Vitte 
@_subject: [tor-talk] Tor (and other nets) probably screwed by Traffic 
Or the peers could randomely drop some packets, did not think strongly
about it for now, but why not
Le 03/06/2016 ? 11:57, Aymeric Vitte a ?crit :

@_date: 2016-06-06 12:44:59
@_author: Aymeric Vitte 
@_subject: [tor-talk] A possible solution to traffic correlation attacks, 
Le 06/06/2016 ? 00:43, Paul Syverson a ?crit :
"Let M be the message to be sent. We will encrypt the message with a
public key shared by all members of a layer. Given that the layers are
set up in advance and known to all, such a key can be generated by a
trusted third party or by electing a leader to do it"
Looks a little difficult to set in practice, and expensive in terms of
processing, no?
I have suggested something here
The split of a Tor circuit into n Tor circuits is not originally thought
to protect against traffic correlation attacks but because the upload
bandwidth of the peers is likely to screw up the efficiency of an
incoming Tor circuit, so the idea is to split the circuits and split the
Again I have not studied it but then we can think that the timing of
packets becomes unpredictable, that it is difficult to compromise the
peers to perform active attacks, that unpredictable events might happen
like a peer leaving and breaking one of the splitted Tor circuits and
that adding some additional mechanisms like dropping randomely some
packets (or sending dummy ones) might probably render any traffic
correlation much more complicate.
I suppose that some papers exist about this (?)

@_date: 2016-06-09 12:59:40
@_author: Aymeric Vitte 
@_subject: [tor-talk] Bittorrent starting to move entirely within 
Le 09/06/2016 ? 06:52, grarpamp a ?crit :
Missing something here or why do you post those old links without
mentioning newer projects?

@_date: 2016-06-10 00:11:56
@_author: Aymeric Vitte 
@_subject: [tor-talk] Bittorrent starting to move entirely within 
I don't care at all what you think about "my stuff" and your completely
wrong appreciation/description of it, I was not referring to this only
Apparently you are trying to revive some old concepts that just can't
work with bittorrent
"Which is why bittorrent is moving into the overlays", please clarify
what you mean, why popcorn time shows up here, why you posted this
Le 09/06/2016 ? 18:21, grarpamp a ?crit :

@_date: 2016-06-10 13:19:57
@_author: Aymeric Vitte 
@_subject: [tor-talk] Bittorrent starting to move entirely within 
Le 10/06/2016 ? 09:49, grarpamp a ?crit :
Purchase? Where did you see that we propose something to purchase?
Our only "clearnet" activity is related to protect the bt users
( and we indeed sell the dynamic
blocklist for an exaggerated price of 10E/year, the goal being to
increase our processing capabilities/servers and possibly intersect the
lists from different places to make it the shortest possible
Spam? So I should not be talking about my stuff?
You are reducing the concepts to something marginal. Peersm (Peer Shared
Mesh technology) are global concepts not only used for file sharing
(please see  it's used too
by other people like crypto currency projects) that have nothing to do
with clearnet
In the case of the file sharing project there is indeed a "clearnet"
bridge to the bt network, which is optional and supposed to be temporary
because as you know starting a p2p network with nothing inside just
leads to a p2p network without peers, so a non p2p network or easy to
I think there has been enough discussion about running bt over Tor or
imagining some uses combined with hidden services. If the idea is to use
the real Tor network it will never work, if the idea is to build a
separate one (like Peersm) then it might work, assuming that you of
course do not reuse the bt protocol (or you might end up with
 , yes
you will dislike it again, undisclosed for now) and probably give up
with the hidden services idea replacing it by something else (like Peersm)
Sorry, reasking the question, if you wanted to highlight some
significant changes showing that bt is moving to anonymous stuff then I
am really curious to know what it is, coming back to popcorn time some
forks have apparently some ideas to integrate node-Tor but as far as I
know that's only for application/code/API/updates retrieval (and
node-Tor is not open source for now, except the first commit, but we
make exceptions sometimes when people come to us with non
aggressive/dubious thoughts and when we have time to handle it:

@_date: 2016-06-17 12:41:51
@_author: Aymeric Vitte 
@_subject: [tor-talk] Bittorrent starting to move entirely within 
Le 17/06/2016  06:55, grarpamp a crit :
Even if an interesting move as you described (ie onions + onioncat) I
don't really think that it can scale to the extent required by a bt p2p
network, I don't think either that using hidden services is a good
solution to reach peers, and is it not an issue to have potentially
plenty of new nodes (peers) relaying the Tor traffic and decreasing the
efficiency of the Tor circuits due to their upload bandwidth?
I don't know, I gave some other thoughts, let's take bitcoin that you
quoted, as far as I know it does not have any built-in features to
defeat correlation/tracking but apparently inherently defeats it

@_date: 2016-06-17 23:20:16
@_author: Aymeric Vitte 
@_subject: [tor-talk] Bittorrent starting to move entirely within 
Le 17/06/2016  12:51, Zenaan Harkness a crit :
That's what I am saying, move bt to anonymous, more traffic, increasing
nodes, this will never happen with the Tor network

@_date: 2016-06-18 12:07:01
@_author: Aymeric Vitte 
@_subject: [tor-talk] Bittorrent starting to move entirely within 
Le 18/06/2016  02:01, Zenaan Harkness a crit :
For plenty of reasons: Tor is centralized, in order for others to extend
circuits toward a Tor node it must be declared in the centralization
system and therefore will get traffic (you can advertise a ridiculous
bandwidth to limit this but you will not stop it), then quality of the
circuits would be degraded by the bandwidth of the peers and their
instability (coming in and leaving), peers could act as bridges or just
"freeride" but then it seems difficult to reach them and/or will get
blackisted, monitoring of the Tor network to prevent and defeat attacks
will become much more difficult, etc, under that conditions it's
difficult to imagine a few thousands of nodes scale to hundred of
millions of peers like bt, and it's difficult to imagine that the Tor
project will collaborate with this, the Tor network is designed to
browse the web not to support a p2p system

@_date: 2016-06-18 12:11:48
@_author: Aymeric Vitte 
@_subject: [tor-talk] Bittorrent starting to move entirely within 
Le 18/06/2016  01:49, juan a crit :
Anonymity is not required to defeat monitoring, cf
 , even better than trying to hide,
cf which as usual can lead to the very contrary than expected

@_date: 2016-06-21 13:28:12
@_author: Aymeric Vitte 
@_subject: [tor-talk] Question for those who say "Tor is pwned" 
Le 21/06/2016  06:19, Paul Syverson a crit :
Probably you are referring to the paper mentioned in
which indeed as I commented does not look realistic to implement, then I
suppose that the answer to my question is no
Would be interested to know what are those thoughts (on or off the list)
and/or get possible links to them

@_date: 2016-06-22 12:41:35
@_author: Aymeric Vitte 
@_subject: [tor-talk] Question for those who say "Tor is pwned" 
Not a specialist with gnunet (how does peers discovery works with
gnunet?) but one question can be: if you are using onion routing then
why are you using gnunet?
I would put a bemol on the (generally widely propagated) statement that
a DHT is necessarily insecure and not resistant to sybil attacks, in the
Peersm case the nodeIDs are temporary and related to the onion keys of
the peers (so sybils can not position themselves where they like in the
DHT, which from some research is maybe not enough but makes sybils' work
difficult for sure), they expire after each session, the DHT does not
contain direct information about the peers but what the peers know about
others (ie what the rdv points know about how to reach others), in
addition the peers are informing themselves directly about what they
know (the rdv point to reach this peerID and/or the introduction point
to establish WebRTC connections between two peers), the DHT is used only
if nothing is known about a peer, so sybils should invade both layers
which seems quite unlikely.
As a corollary your section "Onion routing the secushare way" is similar
to Peersm, as well as the concepts that 3 hops are not required (2 for
Peersm), indeed a peer can't know its position in the path, in addition
for Peersm the peers are acting as rdv points AND peers, and circuits
can "extend" from a rdv point to others (A wants to reach D, B knows
from C that C knows how to reach D, the path goes through two rdv points
B and C, each point being connected via two hops), so they can't even
know if they are serving the data as the first rdv point acting as a
peer, relaying it as the first rdv point, or relaying it as the nth rdv
point, or serving it through n rdv points
Tor in his current form will never allow to do p2p, as commented here
the only fact that nodes will not extend to nodes that are not
registered in the directories just makes this impossible, but as your
onion routing solution or mine show we don't need it.
Le 21/06/2016  19:39, carlo von lynX a crit :

@_date: 2016-06-22 12:47:43
@_author: Aymeric Vitte 
@_subject: [tor-talk] Question for those who say "Tor is pwned" 
Thanks, will keep this in mind
The question was the one in the link provided below regarding potential
research exploring some ways to defeat trafic correlation splitting the
Tor circuits (maybe somewhere similar to your semi-synchronous concept)
Le 21/06/2016  18:48, Paul Syverson a crit :

@_date: 2016-06-23 13:16:55
@_author: Aymeric Vitte 
@_subject: [tor-talk] Design of next-generation Tor systems 
Le 22/06/2016  14:38, Paul Syverson a crit :
But the Tor network itself is moving to this with for example
flashproxy, snowflake and maybe uproxy
Maybe the right distinction is centralized vs decentralized

@_date: 2016-06-23 14:08:13
@_author: Aymeric Vitte 
@_subject: [tor-talk] Design of next-generation Tor systems 
Hi Carlo, please see the comments/answers below
Le 22/06/2016  13:46, carlo von lynX a crit :
Did not get very well the presentation but OK it is using a DHT designed
to be secure
The question was why using a gnunet system with its own encrypted
concepts if you are using onion routing but then you have of course to
build something on top of it, so why not using gnunet indeed with onion
Rereading it yes but the first read gave me the impression that DHT
systems were excluded
Peersm does not use the concepts of onion or hidden services, peers have
long term IDs (probably managed with a blockchain/wot system, TBD) and
temporary ones (their nodeID for the DHT based on their temporary onion
keys), like Tor relays in fact, peerIDs are stored in the DHT by those
who know how to reach them and/or how to perform peer introduction to
them, but peerIDs are also directly sent to the nodes they are connected
to through the Tor protocol (who then register them in the DHT), the DHT
is used only if nobody you are connected to knows anything about the
peer you want to reach
Some bridges are used to bootstrap the process
Trying to work on the Convergence project including Peersm, it does not
intend to reinvent the wheel but is trying to merge the best of what
exist + new concepts
A remote control tool for Tor?
I see things like Ricochet as something like a workaround that cannot
scale and use the hidden services for something that it has not been
designed for
gnunet-fs has probably not 200 M peers and associated content, probably
not an interface as easy to install and use than bt clients... people
are trying to use what is easy and sometimes attempt to protect, by
mistake in the case you mention
As stated above I did not get very well the presentation (don't
understand in the examples how one guy can block the whole DHT for
example), Convergence/Peersm DHT is a specific one designed for WebRTC
but probably if we want to compare some models for more security/privacy
of a DHT maybe  and the study
 can be of some
interest ("securizing" probably the most insecure one, the bittorrent
DHT, and suggesting some changes in the protocols)

@_date: 2016-06-27 13:00:14
@_author: Aymeric Vitte 
@_subject: [tor-talk] Design of next-generation Tor systems 
Le 25/06/2016  13:54, carlo von lynX a crit :
Probably it is, but as stated I did not understand very well the
presentation, is there some paper or more detailed document about it?
It's similar indeed, I believe each system designed for
privacy/anonymity have similarities, maybe something different with
Convergence/Peersm is that no direct routes are established toward the
peers and data are relayed by rdv points to which the peers are
connected via two Tor hops, but one might finally consider that the
routes through the rdv points are direct ones, another difference is
that peers do not advertise themselves in the DHT, others are doing it
for them, one idea behind this (other than countering sybil attacks) is
to make sure that the peers cannot freeride
I did not get this, what do you mean? What peers outside of what Tor?
A bit like everything starting with a G for normal users :-)
Neither works and/or achieves its goal, perfect example is
Maybe if one day we can add Tor nodes apart from the centralization
system (like inside browsers as Convergence is proposing), if not it has
to be separated

@_date: 2017-03-17 14:59:05
@_author: Aymeric Vitte 
@_subject: [tor-talk] BitPay seems to be rejecting payments via Tor 
What do you want to do exactly?
Le 17/03/2017  12:39, Moritz Bartl a crit :

@_date: 2017-09-04 13:40:39
@_author: Aymeric Vitte 
@_subject: [tor-talk] Is there any societal use in Bitcoin? 
I think that you are mostly right except that it's not uninteresting at
all for normal people to evade the banks dictatorship, delays and fees
(what are you buying with this? what for? wiretransfer will take one
week + absurd taxes not even knowing where it's coming from, etc, etc)
and except that an interesting part of bitcoin-like networks are
contracts, now how can normal people set contracts remains very
mysterious and does not appear to be a priority, as well as what kind of
contracts can be set finally, I was thinking to create some specific
contracts but this is not possible (at least with btc)
For the part you describe you are even too nice, the blockchain
networks, as they are today, are everything but decentralized, even
smaller than the centralized Tor network, it's funny too see how the
community thinks necessary each time they mention those networks to say
"the P2P network", they are not P2P networks at all, with some
exaggeration we could say that they are just networks controlled by a
dozen of miners and a dozen of devs, the ensemble being surrounded by
many conflicts of interest, until the full nodes can really be
decentralized, which is certainly not the current trend
And they are wasteful, maybe a good combination would be to create a new
proof of something that would use the existing resources (disk space,
cpu, etc on existing machins for example) in order to motivate people to
host the blockchain or part of it (among others) instead of accumulating
new hw and energy to mine with rewards and fees only going to miners,
unfortunately a very few care about this kind of proposals
Le 31/08/2017  13:07, carlo von lynX a crit:

@_date: 2017-09-04 18:31:25
@_author: Aymeric Vitte 
@_subject: [tor-talk] Is there any societal use in Bitcoin? 
Le 04/09/2017  18:04, grarpamp a crit:
Indeed and replacing swift is anyway more the job of Stellar or Ripple
than bitcoin
Unfortunately I think they are for now, for reasons already explained
and I believe that prices are manipulated too, maybe this is linked to
 "Then we can now easily forecast the
price of Bitcoin and become rich", this if for fun right now and I
should continue it but the answer at the end is that the very same thing
did reproduce again, and does reproduce whatever external event occurs,
always the same thing...
Yes, this does not contradict my previous argument but we can see that
volatility is evaporating with time

@_date: 2017-09-04 18:38:26
@_author: Aymeric Vitte 
@_subject: [tor-talk] Is there any societal use in Bitcoin? 
I don't really see people use Taler in Africa, as mentioned in my
previous email can't Stellar or Ripple do what you want?
I was talking about bitcoin contracts too, not only ethereum, contracts
don't have to be necessarily linked to money
For me the non societal aspect for btc is more due to the proof of
nothing for everybody (except miners)
Probably we will be told soon that we are going off topic for this list...
Le 04/09/2017  15:07, carlo von lynX a crit:

@_date: 2018-09-09 12:47:13
@_author: Aymeric Vitte 
@_subject: [tor-talk] Node-Tor and a misinformation "paper" 
I just got aware of this "paper" If you seek for "node-Tor" you will find that it is talking about a
"user" or an "owner" of a certain node implementing node-Tor, apparently
a complete idiot, who incidentally is myself (the author of node-Tor in
fact), but the "paper" did not even deem necessary to mention me,
neither to include the links to the project, neither to ask me about
some review/comments, neither to tell me about this "paper"
Quasi everything that is stated in this "paper" regarding node-Tor is
false, even funny
I contacted Filiol & co (note: not new, we are in contact since years)
one year ago to clarify:
- why is my node-Tor node in their bridges list? (partial answer: it
wrongly registered during years in Tonga... but then it should not be
seen as a bridge any longer, it's not a bridge)
and then I noticed (which explains why my node wrongly appears in their
bridges list and why Filiol & co's method to discover bridges looks not
to be 100% correct):
- why other nodes can now extend circuits to node-Tor node while it
failed to register in the authorities? (I had not checked since a long
time and it appeared that my node could not register for some reasons,
and then others should not have extended circuits to it), this one is
problematic, it should not be possible (or at least it was not working
like this before)
This node is used only for the Peersm project, it can only extend
circuits from the websocket OR interface (ie from the browser js OP) and
is forbidden to extend anything from the standard OR port (on purpose,
which does not really impact anything for Tor since it is advertising a
ridiculous bandwidth then unlikely to be chosen and anyway not as
unstable as many Tor nodes, it just answers that it is hibernating in
this case), those limitations can of course be removed for other uses of
node-Tor than Peersm
As wrongly stated in the "paper" it can't act as an exit node because
this basic feature is just not implemented (on purpose), and, wrong
again, it it used with standard browsers, not the Tor browser (via the
ws js OP inside browsers again, as a matter of fact the non ws OR does
not work with the standard Tor Browser OP due to unimplemented directory
 using
the Tor browser's specific features is of no use for the Peersm project)
I will not elaborate further, the Tor people know about this node
(because unlike what the "paper" is stating they did question
periodically some aspects and we are in contact since years), quasi
everything is wrong and biased in this "paper" regarding node-Tor which
renders questionable the entire credibility of the whole thing, I will
ask them to remove this part, it is absurd to conclude that the fact
that anyone can add a custom node is insecure, of course anybody
following the protocol and the rules can
node-Tor is not "only fifteen hundred code lines" (how Filiol & co can
think that it is doing all what it does with 1500 lines?) but much more
(16000 which makes 160000 in C/C++), but somewhere light compared to the
Tor code since it is in js (nodejs/browsers), the whole code is not
public/open source but could be should someone fund it (before it's
potentially lost for everybody, see
 which
is very modest compared to the dev effort, despite of many requests I
have granted only one free license so far to one project)

@_date: 2019-10-24 18:02:42
@_author: Aymeric Vitte 
@_subject: [tor-talk] node-Tor is now open source in clear (and modular) 
Please see  and This is a javascript implementation of the Tor protocol on server side
(nodejs) and inside browsers, please note that it is not intended to add
nodes into the Tor network, neither to implement the Tor Browser
features, it is intended to build projects using the Tor protocol from
the browser and/or servers (most likely P2P projects), the Onion Proxy
and Onion Router functions are available directly inside the browser
which establishes circuits with other nodes understanding the Tor
protocol (so it's not a "dumb" proxy), but it can of course establish
circuits with the Tor network nodes (see
 and act as
a Tor node
It is financed by NLnet via EU Horizon 2020 Next Generation Internet
Privacy & Trust Enhancing Technologies, now open source under a MIT
license and we made it modular, it is fast (extensively tested when
video streaming was there, especially with bittorrent or ORDB concept)
and the total unminified code
( is only 1
MB (so ~600 kB minified) which is quite small for what it does, this is
not a browser extension/module but pure js
Possible next steps are to implement elliptic crypto and connections via
WebRTC Snowflake (peersm2 above uses WebSockets a bit the way flashproxy
was working, ie implementing the ws interface on bridges side), as well
as integrating it with "Discover and move your coins by yourself"
( for anonymous blockchain search and
anonymous sending of transactions from the browser

@_date: 2019-10-30 13:00:12
@_author: Aymeric Vitte 
@_subject: [tor-talk] Cryptocurrency: Overlay Networks, Privacy Coins 
============================== START ==============================
This is the very purpose of the node-Tor project which can be integrated
to anonymize other protocols on servers side and inside browsers
It is one step ahead since years :-)
Le 30/10/2019  12:05, grarpamp a crit:

@_date: 2019-09-02 10:19:19
@_author: Aymeric Vitte 
@_subject: [tor-talk] Discover and move your coins by yourself - Browser 
Please see  this is a merge
of former bitcoin-transactions and bitcoin-wallets nodejs modules and is
now a secure standalone offline js webapp inside browsers:
It is financed by NLnet via EU Horizon 2020 Next Generation Internet
Search and Discovery call
So the initial dev fees have been removed and the code is now open
source and provided in clear under a MIT license
The intent is to provide all the necessary tools for anybody to discover
and manage their coins, as well as making transactions by themselves,
without having to sync a full node or as an alternative to wallets when
people don't understand where their coins are (we saw quite a lot of
confusion for people not understanding at all how to find their coins
and to what keys their addresses did relate in case of multisig, segwit
and now bech32)
It's somewhere bitcoin-cli outside of bitcoin core more easy to use and
not restricted to its own wallet, available for any bitcoin based coins
It's not a remake of iancoleman's tool but of course some features
overlap, as well as for other existing tools, we did extend all of this
inside one tool with no limitations (for example some tools do not
accept "invalid" bip39 seeds, or bip32 seeds, etc)
Summary of features for any bitcoin based coin:
- create transactions
- decode transactions
- verify transactions
- convert/map addresses (including bech32)
- create/map wallets (bip32,39,44, etc), wallets recovery (missing/wrong
words) and check
- decode/create multisig redeem scripts
- pubkey/privkey mapping , conversion and formats
- sign/verify messages
Comments/suggestions and forwarding to relevant places/lists welcome
Next project funded the same way is to release in clear and open source
node-Tor ( in ~2 months, a javascript
implementation of the Tor protocol on server side and inside browsers

@_date: 2020-02-25 16:36:32
@_author: Aymeric Vitte 
@_subject: [tor-talk] node-Tor - phases 4 and 5 
Please see the current status here:
Quick reminder: this is a javascript implementation of the Tor protocol
inside nodes and browsers
Phase 4 (evented pipes) has been developped (self funded) but is not
fully tested/released, however the doc is here:
 it allows
to simply anonymize any protocol piping it to the Tor protocol
We were about to implement phase 5 (elliptic crypto, Tor v3 features and
WebRTC) but are running out of funding, while we have self funded the
vast majority of this project since 2012 we can't continue (thanks to
NLnet for supporting phases 1 to 3) and are looking for funding to
complete this work (cf above link)
The timing is supposed to be now because restarting such a project in
months or years is not trivial and despite of the huge efforts for the
refactoring/update/cleaning of the initial code and split into modules
it's probably still difficult to use/integrate/modify (see
 it will become quite easy
if the project goes to its targeted phase
The code is subtle and minimal, it represents only 1MB browserified not
minified, so 500kB minified, which is quite small for what it does with
zero external dependencies, redevelopping everything from scratch would
be long and difficult
Some examples of what node-Tor does (as nodes or inside browsers using
bitcoin | node-Tor | bitcoin (via stdin/stdout or using IPC)
Of course the Tor protocol itself might not be enough and each project
might have to design the full anonymization system (peer discovery,
introduction, etc) but they can rely on node-Tor to implement the Tor
protocol (not to be misunderstood again with the Tor network)
It does implement direct p2p via the Tor protocol or via RendezVous
(RDV) points using also Tor protocol hops to connect to them, the peers
advertise what they have or do using a hash to the RDV points they are
connected to, please see
Example: by convention a bitcoin node could advertise a hash of "Satoshi
Nakamoto" to tell it is a bitcoin node, then bitcoin nodes will connect
to each others via RDV points or several Tor protocol hops requesting
this hash, they can also connect directly via several hops for well
known bitcoin nodes that don't need to hide themselves but want to hide
to whom they are connected to, which can be wallets too, for example to
hide who originated a transaction
Since peers are implementing both direct p2p and RDV functions (both via
Tor protocol hops), and can extend to other peers as peers or RDV points
again, it becomes difficult to understand who is doing what and how many
hops finally are used between the peers (suggested setting for p2p is 2
hops instead of 3 for a Tor protocol circuit, knowing that the number of
hops can extend via RDV points)
This is the current design and can of course be adapted
It would look logical that this techno is integrated natively one day
inside browsers, again it must not be misunderstood with what the Tor
Browser is doing (with many specific features inside the browser itself)
and is not a replacement for it, this is different but could be used
also by the Tor network with browsers acting as real Tor nodes (a bit 
la Snowflake but not only relaying messages via WebRTC, implementing the
Tor protocol inside browsers), or uproxy-like for those that remember it

@_date: 2020-05-30 13:05:12
@_author: Aymeric Vitte 
@_subject: [tor-talk] Wahay: Mumble + Onion Service 
Looks good but a bit "heavy" you don't really need a RDV point, neither
to use the Tor network, maybe one day conferencing services can be
anonymized using: sip.pipe(node-Tor) or wahay.pipe(mumble).pipe(node-Tor)
With RDV points or without since the pipe method is implemented on
client and serving side, ideally the relay nodes would be the peers
(browsers, mobiles, desktop clients or servers)
Maybe take a look also at: "A universal and generic architecture to anonymize any application or
protocol and turn it into an independent decentralized p2p network
inside browsers and servers, with browsers acting as servers"
Le 29/05/2020 ? 23:25, Rafael Bonifaz a ?crit?:
