
@_date: 2009-08-04 12:23:36
@_author: Damian Johnson 
@_subject: Project Introduction: ARM 
Hi, throughout the summer I've been on a project called 'arm' (anonymizing
relay monitor). It's a terminal monitor for Tor relays providing
bandwidth/cpu/memory usage, relay configuration, event log, connection
details, etc. The project is intended for command-line aficionados, ssh
connections, and anyone stuck with a tty terminal for checking their relay's
status. More information (including screenshots) is available at '
 If this strikes your fancy you can snag a copy of the
project with:
svn co I hope others find it a handy utility. It should be stable so if you manage
to make it crash (or have a feature request) then please let me know! Email
is best but I'm also usually on the Tor irc channels (my nick is 'atagar').
However, I'm about to head off to the PETS conference so I might be a little
slow to respond the next few days. Cheers! -Damian

@_date: 2009-11-24 18:05:00
@_author: Damian Johnson 
@_subject: AN idea of non-public exit-nodes 
Interesting idea, but seems like it could be pretty dangerous. If an
attacker was able to figure out the subset of Tor users taking advantage of
these special exits and ran one themselves then correlation probably
wouldn't be too difficult. In addition, abuse issues makes finding exit
operators a lot harder than bridges so you probably wouldn't get the vast
number of volunteers needed for the current bridge distribution tactics.

@_date: 2009-10-04 20:43:24
@_author: Damian Johnson 
@_subject: arm, TorCtl, and FreeBSD 
The most recent version tries to resolve the pid with pidof, netstat, then
ps. The only issue I'm aware of at the moment for arm on BSD/OSX is that
their versions of netstat are different from Linux so the connections page
won't show you anything. Someone's suggested using lsof as a fallback (it's
supposed to be more portable), which I'll look into at some point. Cheers!

@_date: 2009-09-15 18:03:28
@_author: Damian Johnson 
@_subject: Measure TOR server traffic 
Also, the arm monitor tallies up the BW events (bandwidth usage reported by
tor) to provide the totals for the duration that it runs. Cheers! -Damian

@_date: 2010-08-08 20:43:13
@_author: Damian Johnson 
@_subject: Consensus Reports List 
Hi, recently I wrote a script for daily consensus summary emails to help
avoid issues like the Planet Labs incident a while back. See the following
for an example (if you're viewing it as a plain text email you're gonna be
missing most of the content). It's currently available via the list at:
If you'd like to join but don't have a google account then let me know (it's
only necessary for joining via the web interface).
The script that generates it is available at "
 Most of
the information is pretty self explanatory, but here's a description:
- The counts are the total number of relays in the category, new are relays
with a fingerprint we've never seen before, and bandwidth is the sum of the
new relay's observed bandwidths.
- Total bandwidth (the blue column) is the total network capacity (sum of
all relay's observed bandwidth) and the deltas throughout the day.
- An exit is defined as any relay with an accept policy before the
- I only wanted relays put into a single bucket (no double counting) so
exits with the guard flag are counted as exits (not guard) since that tends
to me the more important metric for nefarious activity.
- The script sends an alert if 20 new exits or 50 Mbit/s of new exit
bandwidth appear between consensuses, otherwise it's just a daily summary.
It starts cropping result at a week of data.
- The attached archive has details on the relays that appear in each time
period (fingerprints, ip, or port, bandwidth, flags, and the exit polcy) for
investigations in case anything looks fishy.
If you have suggestions for improving it then please let me know. Cheers!
---------- Forwarded message ----------
 Greetings from your friendly consensus monitoring daemon. At present
there's no breaches to report. See below for a summary of consensus
  * Guards* * Middle* * Exits* * Total*  * Date:* * Count: * *New: * *
Bandwidth: * * Count: * *New: * *Bandwidth: * * Count: * *New: * *
Bandwidth: * * Bandwidth: *  * 2010-08-08 * * 315* *0* *0 bits/s* * 624* *27
* *8 MBit/s* * 921* *115* *27 MBit/s* * 4.82 GBit/s*   23:00:00  305 0 0
bits/s  628 0 0 bits/s  911 3 739 KBit/s  -21 MBit/s   22:00:00  319 0 0
bits/s  626 2 475 KBit/s  956 11 3 MBit/s  -24 MBit/s   21:00:00  334 0 0
bits/s  625 0 0 bits/s  1014 6 826 KBit/s  +27 MBit/s   20:00:00  333 0 0
bits/s  629 2 424 KBit/s  1025 6 2 MBit/s  +11 MBit/s   19:00:00  337 0 0
bits/s  627 1 51 KBit/s  1007 7 1 MBit/s  -36 MBit/s   18:00:00  338 0 0
bits/s  630 1 685 KBit/s  1001 4 1 MBit/s  +7 MBit/s   17:00:00  343 0 0
bits/s  623 5 2 MBit/s  1017 2 0 bits/s  +3 MBit/s   16:00:00  336 0 0
bits/s  627 3 591 KBit/s  994 5 1 MBit/s  +16 MBit/s   15:00:00  332 0 0
bits/s  622 1 416 KBit/s  966 6 1 MBit/s  -28 MBit/s   14:00:00  334 0 0
bits/s  622 2 731 KBit/s  986 0 0 bits/s  +23 MBit/s   13:00:00  335 0 0
bits/s  619 0 0 bits/s  974 7 2 MBit/s  -6 MBit/s   12:00:00  334 0 0 bits/s
 624 0 0 bits/s  963 4 1 MBit/s  +6 MBit/s   11:00:00  329 0 0 bits/s
619 2 609
KBit/s  944 8 2 MBit/s  +14 MBit/s   10:00:00  315 0 0 bits/s  623 1 0
bits/s  926 3 512 KBit/s  -7 MBit/s   09:00:00  305 0 0 bits/s  618 1 275
KBit/s  898 3 279 KBit/s  +10 MBit/s   08:00:00  305 0 0 bits/s  623 0 0
bits/s  857 5 1 MBit/s  +4 MBit/s   07:00:00  292 0 0 bits/s  624 0 0 bits/s
 853 5 1 MBit/s  +10 MBit/s   06:00:00  287 0 0 bits/s  625 1 90 KBit/s  825
10 3 MBit/s  -5 MBit/s   05:00:00  286 0 0 bits/s  629 0 0 bits/s  808 4 750
KBit/s  -4 MBit/s   04:00:00  286 0 0 bits/s  625 0 0 bits/s  814 3 813
KBit/s  +751 KBit/s   03:00:00  286 0 0 bits/s  631 2 417 KBit/s  813 4 1
MBit/s  -34 MBit/s   02:00:00  288 0 0 bits/s  625 1 576 KBit/s  827 1 420
KBit/s  -10 MBit/s   01:00:00  302 0 0 bits/s  617 1 165 KBit/s  854 3 576
KBit/s  +3 MBit/s   00:00:00  303 0 0 bits/s  620 1 447 KBit/s  873 5 1
MBit/s    * 2010-08-07 * * 313* *0* *0 bits/s* * 617* *24* *6 MBit/s* * 914*
*102* *23 MBit/s* * 4.85 GBit/s*   23:00:00  304 0 0 bits/s  633 1 419
KBit/s  888 6 999 KBit/s  -13 MBit/s   22:00:00  309 0 0 bits/s  635 1 441
KBit/s  922 4 160 KBit/s  -22 MBit/s   21:00:00  316 0 0 bits/s  625 2 268
KBit/s  955 10 2 MBit/s  -199 KBit/s   20:00:00  320 0 0 bits/s  617 2 664
KBit/s  955 4 1 MBit/s  -2 MBit/s   19:00:00  332 0 0 bits/s  614 0 0 bits/s
 969 7 1 MBit/s  +10 MBit/s   18:00:00  329 0 0 bits/s  612 0 0 bits/s  969
4 875 KBit/s  -4 MBit/s   17:00:00  331 0 0 bits/s  608 2 341 KBit/s  993 6 2
MBit/s  +8 MBit/s   16:00:00  329 0 0 bits/s  607 0 0 bits/s  981 7 2
MBit/s  -18
MBit/s   15:00:00  332 0 0 bits/s  616 1 493 KBit/s  984 8 952 KBit/s  -2
MBit/s   14:00:00  329 0 0 bits/s  620 2 432 KBit/s  973 4 1 MBit/s  -688
KBit/s   13:00:00  328 0 0 bits/s  614 1 0 bits/s  961 1 410 KBit/s  +4
MBit/s   12:00:00  321 0 0 bits/s  617 1 209 KBit/s  964 4 916 KBit/s  -14
MBit/s   11:00:00  322 0 0 bits/s  609 0 0 bits/s  956 3 714 KBit/s  +9
MBit/s   10:00:00  326 0 0 bits/s  613 1 289 KBit/s  938 9 3 MBit/s  +14
MBit/s   09:00:00  315 0 0 bits/s  623 2 397 KBit/s  910 2 385 KBit/s  +16
MBit/s   08:00:00  307 0 0 bits/s  613 0 0 bits/s  880 4 1 MBit/s  +5 MBit/s
 07:00:00  300 0 0 bits/s  619 1 381 KBit/s  856 2 454 KBit/s  +337 KBit/s
 06:00:00  299 0 0 bits/s  617 2 713 KBit/s  844 3 1 MBit/s  +979 KBit/s
 05:00:00  286 0 0 bits/s  621 2 885 KBit/s  832 5 764 KBit/s  +9 MBit/s
 04:00:00  297 0 0 bits/s  606 2 160 KBit/s  820 1 578 KBit/s  -7 MBit/s
 03:00:00  287 0 0 bits/s  619 0 0 bits/s  826 4 1 MBit/s  -45 MBit/s
 02:00:00  299 0 0 bits/s  615 1 0 bits/s  837 1 440 KBit/s  -4 MBit/s
 01:00:00  301 0 0 bits/s  614 0 0 bits/s  868 2 423 KBit/s  +1 MBit/s
 00:00:00  301 0 0 bits/s  626 0 0 bits/s  874 1 0 bits/s    * 2010-08-06 *
* 315* *0* *0 bits/s* * 610* *21* *4 MBit/s* * 913* *88* *19 MBit/s* * 4.90
GBit/s*   23:00:00  310 0 0 bits/s  629 0 0 bits/s  909 4 387 KBit/s  -8
MBit/s   22:00:00  319 0 0 bits/s  628 1 0 bits/s  920 6 2 MBit/s  -10
MBit/s   21:00:00  326 0 0 bits/s  614 1 272 KBit/s  951 9 2 MBit/s  -28
MBit/s   20:00:00  335 0 0 bits/s  609 1 61 KBit/s  985 7 1 MBit/s  +2
MBit/s   19:00:00  336 0 0 bits/s  608 3 733 KBit/s  984 1 236 KBit/s  +13
MBit/s   18:00:00  331 0 0 bits/s  606 1 160 KBit/s  982 4 1 MBit/s  -8
MBit/s   17:00:00  332 0 0 bits/s  611 5 600 KBit/s  975 6 904 KBit/s  -21
MBit/s   16:00:00  327 0 0 bits/s  603 1 160 KBit/s  978 7 631 KBit/s  -17
MBit/s   15:00:00  329 0 0 bits/s  607 0 0 bits/s  966 0 0 bits/s  +1 MBit/s
 14:00:00  326 0 0 bits/s  615 1 182 KBit/s  958 3 0 bits/s  -275 KBit/s
 13:00:00  323 0 0 bits/s  611 1 0 bits/s  936 3 432 KBit/s  +3 MBit/s
 12:00:00  322 0 0 bits/s  610 1 408 KBit/s  935 6 1 MBit/s  +5 MBit/s
 11:00:00  313 0 0 bits/s  612 2 446 KBit/s  921 7 2 MBit/s  +16 MBit/s
 10:00:00  314 0 0 bits/s  601 0 0 bits/s  909 4 861 KBit/s  -5 MBit/s
 09:00:00  309 0 0 bits/s  603 1 418 KBit/s  894 9 2 MBit/s  +6 MBit/s
 08:00:00  299 0 0 bits/s  610 0 0 bits/s  844 2 579 KBit/s  +8 MBit/s
 07:00:00  297 0 0 bits/s  610 1 529 KBit/s  831 2 423 KBit/s  -517 KBit/s
 06:00:00  298 0 0 bits/s  605 1 160 KBit/s  819 2 637 KBit/s  -13 MBit/s
 05:00:00  286 0 0 bits/s  611 0 0 bits/s  815 3 203 KBit/s  +2 MBit/s
 04:00:00  296 0 0 bits/s  602 0 0 bits/s  821 3 870 KBit/s  -32 MBit/s
 03:00:00  297 0 0 bits/s  606 0 0 bits/s  844 0 0 bits/s

@_date: 2010-11-30 22:31:21
@_author: Damian Johnson 
@_subject: Arm Release 1.4.0 
Hi. After over a year it's about time that I announced an arm release
so here it is! What's new since August of 2009 [1], you ask? Lots. The
project has been under very active development, continuing to add
usability improvements to make relay operation nicer and less error
prone. If you're really curious what I've been up to this last year
then it's all available in the change log [2].
For those unfamiliar, arm is a terminal monitor for Tor relays and, to
a growing extent, end users. It provides:
 * resource usage (bandwidth, cpu, and memory usage)
 * general relaying information (nickname, fingerprint, flags,
 * event log with optional regex filtering and deduplication
 * connections correlated against tor's consensus data (ip, connection
types, relay details, etc)
 * an editor to quickly alter Tor's configuration
 * torrc configuration file with syntax highlighting and validation
and quite a bit more via a curses interface. For screenshots and
downloads visit:
Peter and I are currently working on getting its debs in shape so
hopefully this'll soon be available via repositories for Debian and
Ubuntu too. RPM builds are available, though I don't have a test
system so beware: there be dragons (possibly).
If there's any python hackers out there interested in dabbling in a
bit of Tor UI development, then I'd love to have some company.
Suggestions, bug reports and feedback are also be very welcome.
Cheers! -Damian
[1] [2] To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-12-10 10:32:08
@_author: Damian Johnson 
@_subject: Arm Release 1.4.0 
Fantastic - thanks Fabian! The patch looks perfect. I'll apply it
either after work today or tomorrow morning.
Yup, sounds like a bug. Until recently arm had just been for relay
usage so I probably missed this when writing the connection panel.
I'll change it when applying the patch.
Makes sense. So if both the source and destination are private IPs
(10.*, 172.16.* - 172.31.*, 192.168.*) then skip the private ->
external translation for the display, right?
I'm still trying to get my head around the rest of this bit. From an
UI perspective doing location1 -> location2 -> location3 entries will
be pretty difficult. Also, I've never run into this use case so I'm
not quite sure what you're describing. Oh well, maybe things will be
clearer after a bit more coffee.
Good point. I'll change that too.
Actually, neither of the BSD resolvers were added (that was the Linux
sockstat entry). I'll add them both.
The psutil library [1] uses lsof as its default connection resolver
for FreeBSD so I'd like to get a working fallback for it. However,
from Hans' feedback earlier it sounds like there's issues with jails
so I'll use it as a last resort.
The command I'm now using for Linux is:
lsof -nPi -p  | grep ".*(ESTABLISHED)"
However, like sockstat it probably omits the ESTABLISHED tags from
results. If so, this will need a workaround. On Linux the following
looks right:
lsof -nPi -sTCP:ESTABLISHED -p  | grep "" | grep TCP
Does this to the trick? For some reason there was a UDP connection
included despite the -sTCP part, hence the extra grep. The lsof man
warns that "State  names  vary with UNIX dialects" so it might expect
a different keyword.
If there aren't any concerns between the resolvers then we should
default to whatever performs the best. When you run at the debug level
(arm -e 1) it provides the runtime for system calls (sockstat,
procstat, lsof, etc) so they should be easy to compare.
Cheers! -Damian
[1] To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-12-12 10:39:42
@_author: Damian Johnson 
@_subject: Arm Release 1.4.0 
I don't recall. It was on amunet and I'll retest this once the relay's
back up to speed (we recently switched ISPs so it'll take a few weeks
for the BW authorities to send more traffic our way again).
I'm sorry, btw, for not applying the patch yet. There was an issue in
that it would introduce a couple unnecessary system calls every time
the path prefix was fetched, but the trivial fix (caching the results)
would mean potentially having the wrong jail path if the connection
singleton changes. While addressing this I found a couple other issues
I'm also trying to address (unrelated to the patch) so it'll probably
be a few more days before I have another tarball to be tested.
Cheers! -Damian
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-12-13 19:31:50
@_author: Damian Johnson 
@_subject: Arm Release 1.4.0 
Hi, I've uploaded a new tarball to:
Besides a modified version of Febian's patch to autodetect FreeBSD
jails it most notably includes...
- A replacement for the connection test function (which was a pita in
my humble opinion). The new script [1] provides the resolver runtimes,
a check if all the resolvers match, and a better method of dumping the
connection results. If you modify the bsd resolvers then this should
provide a nice sanity check that it's working as expected.
- I forgot to account for the dns resolution exits do on behalf of the
clients. The resolvers need to include UDP connections so, on *nix,
they're now:
 - netstat -np | grep "ESTABLISHED /"
 - sockstat | egrep "\s*.*ESTABLISHED"
 - lsof -nPi | egrep "^\s*.*((UDP.*)|(\(ESTABLISHED\)))"
 - ss -nptu | grep "ESTAB.*\"\","
I'm guessing, for the FreeBSD resolvers, that sockstats already works
and procstat just needs the 'grep TCP' to be removed (or maybe
replaced with 'egrep "(TCP|UDP)"'). Is that right?
Hm. Sounds like basic client connections (ie, things like firefox
connecting to tor via the SocksPort). However, I tried running TBB and
arm didn't list any of those connections. This is what I'd expect
since the connection resolution is only fetching tor connections. Am I
missing something here?
Regardless, I made a couple changes to address issues that have been
brought up (socks connections and listing external addresses for
private ip range connections - see lines 332-334 and 363-364 in
src/interface/connPanel.py [2]). But without a working repro case I
can't promises that this'll do the trick.
Great, it's happy with that on Linux as well so I'm now using:
lsof -nPi | egrep "^\s*.*((UDP.*)|(\(ESTABLISHED\)))"
and including it among FreeBSD resolvers as the last fallback.
Yikes, that's quite the difference. It's pretty bad on Linux too (ss
is worse, but netstat and sockstat tend to run around 20% faster).
Awesome, thank you!
Cheers! -Damian
[1] [2] To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-12-02 17:27:54
@_author: Damian Johnson 
@_subject: Arm Release 1.4.0 
The lsof command issued by arm [1] is:
lsof -nPi | grep "\s*.*(ESTABLISHED)"
I'd be happy to work with you to provide a fix, if you'd like. Once
upon a time I tried to use VMs to troubleshoot FreeBSD and Gentoo
issues (thus far they're the only platforms to give arm any trouble).
However, either VirtualBox, those OSes, or the combination of the two
made this a colossal pain in the ass. Trying to wrangle even the most
basic functionality out of those systems chewed up dozens of hours so
that's definitely *not* a road I'm going down again.
What I'll need from you is the following:
- A command that, when executed as the tor user, produces connection
results filtered to tor's connections.
- Example output.
- Be available to test a potential fix.
If you're up for that then I'm glad to have the help! Lets take
further discussion of this off the list. I don't think this is
generally of interest to the rest of the tor community. -Damian
[1] To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-12-01 00:14:31
@_author: Damian Johnson 
@_subject: Arm Release 1.4.0 
Arm should work just fine under BSD with the exception of the
connection listing.
The problem there is that FreeBSD's netstat lacks the flag to list the
pids associated with connections (so I can't narrow the list to tor
connections), ss is a completely different program (a spreadsheet
application instead of connection resolver), and lsof either had
similar issues, though I don't recall exactly what. If you know a
method of getting the connections for a given process under FreeBSD
then I'm all ears. :)
That said, everything else (bandwidth graph, logging, configuration
editing, etc) should work just fine. -Damian
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-12-03 12:21:53
@_author: Damian Johnson 
@_subject: Arm Release 1.4.0 
Perfect! I'll try to provide a fix for you to test later today or tomorrow.
Nope. Jesse just finished an ebuild for Gentoo:
and I'm working with Peter on a deb. But thus far no one has
volunteered to do a bsd port.
On Fri, Dec 3, 2010 at 11:34 AM, Fabian Keil
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-12-04 19:49:58
@_author: Damian Johnson 
@_subject: Arm Release 1.4.0 
Hi all. I've checked in the resolver fixes (thank Fabian and Hans!)
and a test tarball is available at:
I've added both of the commands you mentioned as fallback resolvers.
On Ubuntu procstat doesn't exist but sockstat does, so I've also added
handling for its Linux version too:
atagar at fenrir:~$ sockstat | egrep "tor\s*3475.*ESTABLISHED"
atagar   tor    29672    tcp4   192.168.0.3:36511    :9001
 ESTABLISHED
atagar   tor    29672    tcp4   192.168.0.3:45906    :9001
 ESTABLISHED
atagar   tor    29672    tcp4   192.168.0.3:60202    :4430
 ESTABLISHED
atagar   tor    29672    tcp4   192.168.0.3:34600    :9001
 ESTABLISHED
For BSD I'm using the following commands:
sockstat -4 | egrep '\s*' | grep -v '*:*'
procstat -f 'pgrep ' | grep '' | grep -v '0.0.0.0:0'
The purpose of these greps is to only get established connections and
to filter by the pid (in case there's multiple tor instances).
To test please do the following:
1. Run arm at its debug runlevel ("arm -e 1")
2. Arm defaults to the bsd resolvers if os.uname() matches "FreeBSD".
Please look for an entry like the following in your logs (it'll be
near the start):
18:50:00 [ARM_INFO] Operating System: FreeBSD, Connection Resolvers:
sockstat (bsd), procstat (bsd)
if it doesn't match that then let me know what it says.
3. Go to arm's second page and press "u" to bring up the resolver
options. Regardless of the OS detected it will have:
* auto
* netstat
* ss
* lsof
* sockstat
* sockstat (bsd)
* procstat (bsd)
4. Select one of the bsd options. If it doesn't work then the results
will be unchanged (ie, if options were already listed then they'll
still be listed so don't trust that, please still check the following
step for both).
5. Go back to the log. You'll see an entry like:
18:16:31 [ARM_DEBUG] system call: sockstat -4 | egrep 'tor\s*29672' |
grep -v '*:*' (runtime: 0.03)
Problems come in two flavors. Either the command resulted in an error, like:
18:15:40 [ARM_INFO] system call (failed): procstat -f 'pgrep tor' |
grep '29672' | grep -v '0.0.0.0:0' (error: 'procstat' is unavailable)
in which case please let me know what the error is, or it doesn't
provide any results:
18:15:55 [ARM_INFO] No results found using: sockstat -4 | egrep
'tor\s*29672' | grep -v '*:*'
in which case please try the command on its own and let me know how I
screwed up the greps.
Sorry, I'm not following. Why is a for-each loop necessary? Process
and connection resolutions are the most costly lookups arm currently
does. A netstat resolution, for instance, takes around 30-40 ms on my
system and is performed every five seconds. Arm tries to be a
lightweight application so running multiple system commands to do each
lookup isn't really an option.
That said, from the link you provided it looks like this isn't
necessary. What arm currently attempts is:
lsof -nPi | grep "\s*.*(ESTABLISHED)"
If FreeBSD has an equivalents for the flags (n = prevent dns lookups,
P = show port numbers (not names), i = ip only) then please show me
what its output looks like and I'd be happy to add it as another
fallback resolver.
What order should sockstat, procstat, and lsof be attempted in? Are
any of them preferable due to jails over the others?
Nope, not necessary at all. But the more connection resolvers
available for FreeBSD the more likely arm will be able to fall back to
something that works.
Cheers! -Damian
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-12-06 10:25:39
@_author: Damian Johnson 
@_subject: Arm Release 1.4.0 
Hazaa, many thanks for the patches! Committed with the exception of
sockstat2 (see below).
Netstat, lsof, etc doesn't include a notion of the directionality of a
connection, so I'm using the local port to determine if it's inbound
or outbound. If it matches the ORPort or DirPort then it's inbound,
otherwise it's outbound (line 323 of the connPanel.py [1]). Do you
know a smarter way of handling this?
I'm familiar with Linux's chroot jail environments (where this works),
but not that details of what the bsd counterpart does.
Sorry, I'm not following. Why isn't the tor connection leaving the
system? I'm using the results of 'GETINFO address' which tends to be a
lot more helpful than showing the ip on the local network (though I
can include an option to display the local address instead if you'd
See the "features.pathPrefix" entry in the sample armrc [2]. It's
specifically for jail environments (arm will otherwise also be failing
to find tor's state, log file, and some other resources used to
prepopulate data). If you have a suggestion for an automatic method
for determining the jail path then I'm all ears.
I'm attempting to read the torrc from the location Tor reports (via
'GETINFO config-file'), using the features.pathPrefix as... well, a
path prefix. I'm not familiar with a method of getting the jail path
for Linux jails. Is this information available for bsd jails?
I'm happy to help with a patch to autodetect for bsd jails if you have
a suggestion for how.
Arm is in svn (repository links are available on the site [3]). If
others start hacking on arm with me and prefer git then I have no
objection to moving. Until then, however, svn is what I'm most
familiar with.
Many thanks for the patches! Lacking the pid will mess with most of
the system commands so this is *very* helpful.
That was from the failed pid resolution. I attempted to use the
PidFile, pidof, netstat, and ps to resolve the pid (see getPid in
torTools.py [4]) though as the patch points out these all fail on
Aren't the *:* connections unestablished? From the output given earlier:
_tor     tor        4397  8  udp4   172.27.72.202:53      *:*
_tor     tor        4397  9  tcp4   172.27.72.202:9051    *:*
_tor     tor        4397  12 tcp4   172.27.72.202:54011   [scrubbed]:9001
that seemed to be what it meant. Arm might choke on the asterisks (it
expects numeric port numbers), but including with the commit...
Nice catch!
Is there any advantage to having both sockstat commands? This will
probably just confuse users so I'm holding off on this one for now.
This works beautifully under Linux too, so I'm making it the secondary
resolver (after the PidFile and before pidof), this way bootstrapping
on BSD won't churn through system calls that are doomed to fail.
This one's BSD only due to the -4 flag, so keeping it as the last fallback.
By the control port IP address? If there's multiple tor instances on
the same system then they'd all have the same IP.
Again, many thanks for the patches! -Damian
[1] [2] [3] [4] To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-12-06 18:26:10
@_author: Damian Johnson 
@_subject: Arm Release 1.4.0 
Sorry, I'm not sure if I'm following. You're saying that the check
should essentially be:
if (localPort == ORPort or localPort == DirPort):
  # treat as an inbound connection with the external ip
  # this is part of arm's current behavior
elif (localPort == SocksPort and OS == FreeBSD):
  # treat as an inbound connection with the internal ip (ie, what's
reported by sockstat)
  # this is new to fix the issue you mention
  # treat as an outbound connection
  # again, part of arm's current behavior
... right? If not, could you please clarify?
If you set "features.pathPrefix /path/to/jail" in your armrc then it'll read:
like you wanted. Again, if you have an approach for arm to detect that
(a) Tor exists in a BSD jail and (b) what its path is then I'd be
happy to make it work by default instead.
Cheers! -Damian
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-12-06 20:04:24
@_author: Damian Johnson 
@_subject: Arm Release 1.4.0 
Hm, I'm still a little confused what jails have to do with the tor
SocksPort (this should only concern client tor usage). Maybe Fabian
can clarify the proper handling for BSD use cases.
When starting up arm tries to read tor's log file and bandwidth
entries from its state file. If arm doesn't know about the jail then
it won't be able to prepopulate these values either. Besides that arm
should be happy without direct access to tor's files. Is there a
reason reading jailed files directly is discouraged?
John mentioned that for him connection resolution doesn't work in the
new arm tarball (arm_bsdTest2.tar.bz2). Hans, Fabian: can either of
you confirm, and if so what sort of issue is the log indicating?
Also, there was interest mentioned earlier in a BSD port. Anyone
interested in taking up that gauntlet? :P
Cheers! -Damian
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-13 16:04:07
@_author: Damian Johnson 
@_subject: getinfo circuit-status 
Not sure about the first question (my guess would be either multiple
circuits are built for added bandwidth or for complimentary exit
policies - docs or someone else could answer this).
As for the second question, I'm assuming that entries using nickname
(verses a fingerprint like
"$4F0826FA4C325C3CAA0054A6E023E566302C20C7") have the named flag and
hence won't have a problem with ambiguity. Unfortunately the
control-spec is a little tight lipped on this point so don't blame you
for wondering about it. Cheers! -Damian
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-14 22:02:43
@_author: Damian Johnson 
@_subject: Path-spec - fast circuits 
+1. I was kinda floored at the logic behind 'since this attack hasn't
been used in the wild it should be ignored' but... for each their own.
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-01-19 08:28:51
@_author: Damian Johnson 
@_subject: Path Selection 
Hopefully I've got these right...
Are the choices of the ORs in the path all based on the advertised bandwidth
At the moment weighting is based on advertised bandwidth (with the exception
of the entry and exit selection which has special constraints, of course).
Mike's currently looking into using observed bandwidth instead.
Do the directory servers select which nodes can be Guards (Is there a
Yes. The stable relays are favored to be guards (there might be some other
criteria too...).
Does the individual client select a few Guards from the valid list of Guards
An OR being marked as Stable is really just a matter of it staying up and
Mostly. There's other considerations, for instance if accounting limit is
enabled then you won't be eligible for the stable flag.
Cheers! -Damian

@_date: 2010-01-30 14:17:26
@_author: Damian Johnson 
@_subject: Best with limited bandwidth - relay or bridge? 
Exit relays are definitely the most useful (thanks for running one!).
However, it's preferable to have a fast relay for part of the month rather
than a slow relay always available so I'd suggest using AccountingMax rather
than RelayBandwidthRate/Burst to stay below your provider's cap. Cheers!

@_date: 2010-07-02 07:16:12
@_author: Damian Johnson 
@_subject: Using "Authority Servers" (directory authorities) as Entry Nodes? 
No. The directory authorities determine the consensus. They are not capable
of figuring out what relays you've picked from it for your circuits.
I'm kinda confused why you want to use them for your entry nodes. Setting
StrictEntryNodes this way harms your anonymity since you're only making use
of a tiny subset of the tor network for the first hop (most clients pick
among a few guards for their hop, not directory authorities, and anything
that differentiates you from other tor users is bad). -Damian

@_date: 2010-07-21 08:28:43
@_author: Damian Johnson 
@_subject: tor-proxy.net is official proxy site of TOR? 
No, it's not related to tor and be aware that the design (shown in their
FAQ) looks like you're sending your traffic via this "Tor-Proxy.net" thing,
which means you're trusting them in the same fashion as a single hop proxy.

@_date: 2010-06-14 11:03:27
@_author: Damian Johnson 
@_subject: shadowserver.org 
Maybe, but if this shadowserver site is being incommunicado then I wouldn't
put much confidence in their findings.
Stop the activity on your exit node that is causing them to lodge reports?
Very bad advice. Snooping on exit traffic (or tampering it in any way) are *
highly* discouraged.
On Mon, Jun 14, 2010 at 10:46 AM, Al MailingList <

@_date: 2010-03-10 21:24:54
@_author: Damian Johnson 
@_subject: =?ISO-8859-1?Q?Re=3A_=5BRFC=5D_Campaign_=BBBuy=2FSponsor_a_relay=2E=AB?= 
While I understand your concern I disagree since we're already in this boat.
I'm currently running a relay with Comcast as my ISP, and if I was going to
run an exit I'd go back to the past list correspondence about low-hassle
(tor friendly) hosting solutions. In both cases my ISP or hosting provider
are seeing the traffic of hundreds of tor relays. They're the points of
potential mass data aggregation we should be concerned about for this sort
of large scale eavesdropping, not necessarily the relay's operators.
Hence, as long as any hosting entity properly set the 'Family' parameter, I
think we should welcome this sort of hired-relay-operation. The proper
countermeasure for this problem (imho) would be to grant relays an implied
family based on geoip data and known ISP/hoster ip ranges (ie, don't make my
circuit through multiple relays hosted by Comcast or, say, in the US).
Just my two cents... cheers! -Damian

@_date: 2010-03-10 21:42:07
@_author: Damian Johnson 
@_subject: =?ISO-8859-1?Q?Re=3A_=5BRFC=5D_Campaign_=BBBuy=2FSponsor_a_relay=2E=AB?= 
StrangeCharm and I just had an interesting conversation about this. In
short, while this suggestion would diversify trust it would also reduce the
entropy of node selection. Not sure which is more important (I'd suspect the
former, but could be argued). Cheers! -Damian
(09:30:17 PM) StrangeCharm: hey
(09:31:44 PM) Me: hey there
(09:31:57 PM) StrangeCharm: i just read your or-talk posting
(09:32:06 PM) Me: ah - thoughts?
(09:32:46 PM) StrangeCharm: if we have a small number of really large
families, don't the potential anonymity sets get much smaller?
(09:33:29 PM) Me: we already have that situation (say, 500 with comcast, 300
with centurytell, 100 with dreamhost, etc)
(09:34:09 PM) Me: if we're worried about relay operators as the point of
failure then yes, big networks like this are bad
(09:34:52 PM) StrangeCharm: you're suggesting that we already have these
large 'families', over which end-to-end observation is possible, they're
just not well marked?
(09:34:57 PM) StrangeCharm: (and therefore evaded)
(09:35:04 PM) Me: yup
(09:35:55 PM) StrangeCharm: i see.
(09:36:56 PM) StrangeCharm: i take it that you'd argue that we should
protect against possible surveillance by known groups, whether or not we
think it's occurring, even if it has some mild privacy deficits elsewhere?
(09:38:10 PM) Me: don't follow what you mean by mild privacy defects - but
yes, tor's designed to distribute trust (ie, that no one in the network can
hurt you) and distributing the trust some more is a good thing
(09:38:55 PM) StrangeCharm: well, if we recommend that nobody connects
through multiple comcast nodes, the anonymits sets are smaller
(09:41:04 PM) Me: Hmmm, I see what you mean - yea, you might have a point
(though I think we're we're more interested in diversified trust than
greater entropy of node selection). We'll see what the tor devs think.
(09:41:30 PM) StrangeCharm: they tend to have good intuitions about these
sorts of things
(09:41:36 PM) Me: Mind if I post this conversation on the thread? It brings
up a good point.
(09:41:47 PM) StrangeCharm: go right ahead
(09:41:49 PM) Me: thx

@_date: 2010-03-23 17:26:00
@_author: Damian Johnson 
@_subject: New GETINFO option, "bytes" 
Thanks Anders! You're right - this is a highly requested piece of
information (dozens of times at least this year). If this makes it into the
control spec it might be nice to include an option for the total bytes
downloaded/uploaded verses since the last reset (sighup). Regardless,
keeping my fingers cross that something like this makes it in. Cheers!
PS. This option was included in a proposal that's currently in limbo, which
might give a possible option name:

@_date: 2010-03-06 15:42:12
@_author: Damian Johnson 
@_subject: Full bandwidth is not used. 
Nope, arm just gives a running total of the BW events (ie, if you restart
arm the totals will revert to zero). At the moment I'm unaware of a method
of getting the total bandwidth besides tallying it (though it's included in
a proposal that's currently being batted around on or-dev).
Cheers! -Damian
On Fri, Mar 5, 2010 at 2:54 PM, Paul Menzel <
paulepanter at users.sourceforge.net wrote 1.4K bytes in 39 lines about:
 see
 router
 current
 now

@_date: 2010-03-07 12:09:11
@_author: Damian Johnson 
@_subject: Full bandwidth is not used. 
Unfortunately the state doesn't provide a complete bandwidth history - if
you check on line 1168 of src/or/rephist.c you'll see:
 NUM_TOTALS (NUM_SECS_BW_SUM_IS_VALID/NUM_SECS_BW_SUM_INTERVAL)
This is used later when writing to the state (line 1441 of the same file) -
honestly I'm green enough with C that I got lost pretty quick once it
started juggling smart lists and buffers around but I'll take the comments
at their word ;)
This is why I don't use it to populate past bandwidth data in arm. Cheers!
On Sun, Mar 7, 2010 at 3:16 AM, Paul Menzel <

@_date: 2010-05-15 18:37:54
@_author: Damian Johnson 
@_subject: [GSoC] Improving Snakes on a Tor 
Hmmm... so we aren't interested in having a clearer definition of what makes
up a bad exit? From the following I thought this is something we were
interested in John looking into:
"On the bright side though, it's looking good that we'll be able to get a
google summer of code student to revive Mike Perry's "Snakes on a Tor"
project, and hopefully that means we will a) have some automated scans
looking for really obviously broken relays, and *b) build a clearer policy
about what counts as badexit and what doesn't, so we can react faster
next time.*" [0]
This strikes me as something very easy he could do to both:
1. start integrating with the community more (all the gsoc students have
been very quiet so far, hence I'm trying to encourage him to spark a
discussion on or-talk)
2. it'll provide ideas of things that SoaT can look for later for both
misconfigured and malicious exits
I agree that we should try and either fix or find safe ways of using bad
exits, and that using SoaT to try and protect the network from all the evils
exit relays can dish at us is an arms race we'd lose. However, for many of
the nastier active attacks like sslstrip I don't see why we should be waving
the white flag right away. Cheers! -Damian
[0]

@_date: 2010-05-18 07:33:14
@_author: Damian Johnson 
@_subject: [GSoC] Improving Snakes on a Tor 
Hi John. Here's a couple more past discussions concerning bad exits:
JustaNode (ssl mitm?) -
 at freehaven.net/msg11540.html
spacecowboy (content injection?) -
 at freehaven.net/msg10998.html
There's currently four relays marked as a bad exit according to
Misconfiguration - *networkcc958ca* / *netwroke421d2a*
Not really sure why... kinda weird since it's not configured to be an exit
anyway (Reject */*)
Misconfiguration (DNS)
Cheers! -Damian

@_date: 2010-05-19 10:02:11
@_author: Damian Johnson 
@_subject: Reducing relays = reducing anonymity ? Tortunnel. 
Never heard of it before, so doubt it.
Is tortunnel evil since it maybe hacks Tor-cirucits to reduce the number
We discourage people from reducing the circuit length since it cripples the
anonymity tor provides, makes exit nodes more tasty targets since they can
correlate users to exit traffic, etc. There's been several discussion of
this in the archives.
Where is the security/anonymity reduction since tortunnel also uses
It's equivalent to using a single hop proxy.
Can Tor itself reduce the number of relays (like tortunnel) ?
No, nor do we want it to.
Cheers! -Damian

@_date: 2010-05-01 14:55:53
@_author: Damian Johnson 
@_subject: [GSoC] Improving Snakes on a Tor 
Hi there John - glad to have you working with Tor! We're really anxious to
see where you go with this project since, as exemplified by the recent
incident with PrivacyNow [0], we're currently pretty miserable about
noticing and flagging bad exits.
Unfortunately our definition of a bad exit is pretty vague [1]:
  "BadExit" if the router is believed to be useless as an exit node
    (because its ISP censors it, because it is behind a restrictive
    proxy, or for some similar reason).
An easy place to start would be to solicit input on or-talk for a better
definition and enumerable attributes we can look for. Some obvious starting
ones would be ssl stripping, certificate tampering (checking for differences
like the Perspectives addon [2]), and bad DNS responses. I'd imagine Scott
Bennett would be glad to jump in with some more ideas. :)
Also, have you thought about setting up a site or blog where people can
check how things are coming along? Here's what I did when doing GSoC with
the SIP Communicator project: Again, glad to have you and looking forward to working with you this summer!
[0] [2]

@_date: 2010-05-20 07:03:24
@_author: Damian Johnson 
@_subject: Answer by perfect-privacy.com Re: perfect-privacy.com, Family  
The trick is that both parties need to list each other as family for this to
work. As per the man page..
"When two servers both declare that they are in the same 'family'..."
The attacker would need to be listed in every other relay's torrc for the
attack you described to work. I'm pretty sure listing relays you don't
control has no effect. -Damian

@_date: 2010-05-20 07:06:13
@_author: Damian Johnson 
@_subject: Answer by perfect-privacy.com Re: perfect-privacy.com, Family  
Oops, apologies - didn't realize this had already been answered. (a pox upon
thread forking...)

@_date: 2010-05-21 09:20:42
@_author: Damian Johnson 
@_subject: Some sites recognize TOR 
This is not something to be 'fixed', see:
and search for "You should hide the list of Tor relays, so people can't
block the exits." (sorry about the lack of an anchor, guess it was lost in
the move to trac). Cheers! -Damian

@_date: 2010-05-21 09:24:00
@_author: Damian Johnson 
@_subject: Some sites recognize TOR 
Doh! My stupidity, sorry. Here's the anchored link:

@_date: 2010-05-02 09:47:07
@_author: Damian Johnson 
@_subject: GSoC Introduction - Extending Tor Network Metrics 
Hi GD. I'd imagine the acronym in this case is very well known to most
people here, since it's the location of the tor irc channels. It's also
plenty unique and search able - if it was an alternative definition of, say,
'SOAP', then I'd fully agree with you. -Damian

@_date: 2010-11-24 23:17:12
@_author: Damian Johnson 
@_subject: Active Attacks - Already in Progress? 
Hi Theodore.
The reason the operators of the largest tor relays (Blutmagie,
TorServers, and Amunet) operate multiple instance is because this is
the best way in practice for utilizing large connections. Robert and
others are right and you should call people out if they operate
multiple relays without setting the family entry. However, both of the
relays you cite [1][2] not only have their families set, but contact
information too so you're perfectly able to ask them if you have
In particular Moritz, the operator of TorServers, both discussed his
plans to get funding for running large relays on this list [3] and
with several of us at PETS. I for one am thilled he's had success with
Lastly, it sounds like you're discussing a Sybil attack. This sort of
threat is the reason I wrote a script for monitoring the consensus and
sending alerts when large additions to the tor network are made. You
are more than welcome to keep an eye on this too by subscibing to the
script's email list [4]. Also, this script has discovered this type of
attack in the past, so your concerns are certainly understandable. For
details see the bit about trotsky on the bad exits wiki [5].
So in short, we are well aware of this sort of attack and your
vigilance would certainly be welcome. However, please try to
investigate relays a bit and contact their operators before worrying
too much about them. Cheers! -Damian
[1] [2] [3] [4] [5] To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-10-12 08:04:57
@_author: Damian Johnson 
@_subject: tor-ramdisk 20101011 released for i686 only 
One option for providing feedback on the health of the relay would be arm (
 with the following config changes to keep with the aims
of tor-ramdisk:
# would prevent any connection related information from being queried
startup.blindModeEnabled true
# crops log messages after a day
features.log.entryDuration 1
This would provide the user with:
- ps information (cpu/mem usage, uptime)
- basic relay information (fingerprint, flags held, version, etc)
- config (currently loaded torrc)
- the last day's worth of logs
- graph of the bandwidth usage
The last two give a very good indication for if the relay's working right or
not. If this is too much information then I'd be happy to augment arm to
meet your needs. Cheers! -Damian

@_date: 2010-09-10 07:39:31
@_author: Damian Johnson 
@_subject: gratuitous change blocks upgrade to 0.2.2.15-alpha :-( 
Just a heads up that there *has* been torrc validation in arm for quite some
time now. Warnings about this issue (unused entries due to duplicates) have
been given since release 1.2.2 (11/8/09, so bit less than a year now). I
just tested and it has been giving warnings about ExcludeNodes all this time
(root cause is that only entries with LINELIST and LINELIST_S in
src/or/config.c can be duplicates).
If others have ideas for additional validation I can do on user's torrc
files then I'd love to know. Cheers! -Damian

@_date: 2011-04-04 09:34:18
@_author: Damian Johnson 
@_subject: [tor-talk] Arm Release 1.4.2 
Hi, the next release of arm is now available. This one was focused on
a full rewrite of the connection panel, improving its maintainability,
performance, and (best of all) features. When rendered, the panel's
baseline cpu usage is less than half of its previous incarnation,
along with providing far more information...
- Full paths for your currently active Tor circuits
- Identification of the applications attached to your socks, hidden
service, and control ports
- Identifying exit connections and the common uses for ports they're attached to
- Much better accuracy in identifying client and directory connections
- Expanded path information when there's space available (thanks to Fabian Keil)
... and many, many more enhancements and fixes. For the full list see:
Also, thanks to pyllyukko arm is now on slackbuilds.org so there's
simple install options available for:
Debian, Ubuntu, Gentoo, Arch Linux, and Slackware
As always, screenshots and downloads are available from the project's homepage:
Cheers! -Damian

@_date: 2011-04-06 09:43:35
@_author: Damian Johnson 
@_subject: [tor-talk] A question about TOR behavior 
Are you basing this off connection results (netstat, lsof, ss, etc)?
If so, you're probably being confused by directory fetches which are
done over 1-hop circuits to directory mirrors. If you'd like to dig in
further then I'd suggest giving arm a shot [1][2] - this will attempt
to correlate the connections tor makes against consensus data.
Cheers! -Damian
[1] [2]

@_date: 2011-04-20 08:20:42
@_author: Damian Johnson 
@_subject: [tor-talk] built-in tor2web functionalities into TOR? 
You still haven't answered intrigeri's question - in what way are you
suggesting that tor2web is "implemented in Tor"? Are you suggesting
for Tor exits to accept external connections on port 80/443 to deliver
the service? If so, then there's quite a few problems. Off the top of
my head there's...
- How would non-Tor users find the set of exits providing the tor2web service?
- This would consume exit relay bandwidth which is already constrained.
- These exit operators would be accepting a huge risk of being shut
down. We're already subjected to legal threats and actually hosting
all HS content would be much, much worse. Iirc tor2web already
blacklists hidden services they get complaints about and we do *not*
want to be forced to dabble in any form of censorship.
tor2web provides a great service, but I don't see why it belongs in
Tor itself. -Damian

@_date: 2011-08-01 09:25:47
@_author: Damian Johnson 
@_subject: [tor-talk] Getting Vidalia to Talk to Existing Tor Instance 
To start with does the tor instance open a control port?
For bandwidth monitoring on headless instances arm
( is the more common solution. To set it up
- 'apt-get install tor-arm' and if that doesn't work fetch the tarball
from the download site above
- Try arm and if it doesn't run then you probably need to open a
control port. To do this...
Add the following to your torrc (it's most likely located at /etc/tor/torrc):
ControlPort 9051
CookieAuthentication 1
Reset tor with "pkill -sighup tor"
Cheers! -Damian

@_date: 2011-08-17 11:23:11
@_author: Damian Johnson 
@_subject: [tor-talk] Setting up a Tor relay on the hosting server. 
Lets start with: what OS and do you have root on this box? If it's, for
instance, a debian based distro then that makes the setup a lot nicer.
On Wed, Aug 17, 2011 at 9:57 AM, William Wrightman <

@_date: 2011-08-17 16:33:02
@_author: Damian Johnson 
@_subject: [tor-talk] Setting up a Tor relay on the hosting server. 
This depends on who you go with. Most VPS providers will give you root, but
some specialized hosting providers don't and set up the services for you.
The easiest setup would be to get a Debian server with root then follow the
first option on:
Tor will be a system service so you just need to modify the torrc, sighup
(or restart) tor, and then you should be all set. The main trick is finding
a hosting provider that lets you handle the abuse complaints that come with
running an exit...
Bit of a shameless plug, but arm ( is a monitor
you can ssh in and use to configure or check the health of your relay. It
also has a wizard that can make a torrc for you:
There shouldn't be any need to use cron.
Thanks for running a relay! -Damian
On Wed, Aug 17, 2011 at 2:20 PM, William Wrightman <

@_date: 2011-08-18 11:24:51
@_author: Damian Johnson 
@_subject: [tor-talk] The project "tormail" 
Is there a limit on the password length? If not then the recent xkcd
comes to mind...

@_date: 2011-12-14 09:58:41
@_author: Damian Johnson 
@_subject: [tor-talk] New arm version doesn't show connections 
Hi Stephan. This is the first that I've heard of connection panel
issues related to upgrading. Here's some things to check...
- When connection resolution fails several times arm falls back to
another connection resolver, logging a notice as it does so. Do you
have any connection related log messages?
- I don't recall if this is the case with Debian or not, but many
platforms require that you have the same permissions as the tor
process to see its connections. In this case you'd do that by running
'sudo -u debian-tor arm'.
- If all else fails you can try running 'python
resolvers to see which should be working or not.
Cheers! -Damian

@_date: 2011-12-14 12:09:30
@_author: Damian Johnson 
@_subject: [tor-talk] New arm version doesn't show connections 
Hmm, I wouldn't expect that. I'll try running a sanity check against
that version later.
That's showing that it is finding results (and quite a few - looks
like a busy relay). Queries are taking 1.4 seconds so my sinking
suspicion is that it's somehow timing out. No obvious causes for this
come to mind in the code though. The relay I have at home is much
smaller so drumming up a test case may be problematic - I'll try
adding sleep commands during connection resolution to see if that does
the trick.
Oops, my bad on that one. I very rarely use the test script so it's
pretty brittle.
Cheers! -Damian

@_date: 2011-12-14 13:50:59
@_author: Damian Johnson 
@_subject: [tor-talk] Did we decide about bad exits ? Where does 
Yes, though neither of the relays that were flagged for that reason
are still around.

@_date: 2011-12-15 09:00:18
@_author: Damian Johnson 
@_subject: [tor-talk] New arm version doesn't show connections 
Thanks all for the report. Reproed the issue and it's caused by a new
feature tor introduced...
... uggg.
You can work around this by setting "DisableDebuggerAttachment 0" in
your torrc. I'll change arm later to disable the connection page when
this is on and warn the user about it.

@_date: 2011-12-17 13:14:27
@_author: Damian Johnson 
@_subject: [tor-talk] New arm version doesn't show connections 
Hi Stephan. In your case this definitely sounds unrelated to the tor
change. When you mentioned that the connection page is blank is it
completely empty or just missing the inbound/outbound connections?
For debugging the next step would be to run arm as "arm --debug" for a
minute or so, then please send me the file created at '~/.arm/log'
(stripped of anything you consider to be private, of course).
Sorry that arm's giving you difficulties! -Damian
PS. A little more information about the tor ptrace thing. Tor is
setting PR_SET_DUMPABLE to zero which changes the /proc//fd
dr-x------ 2 root   root   0 2011-12-17 12:02 fd
This breaks connection resolution via directly querying proc contents
(since we can't get the socket file descriptor -> inode mappings). It
also causes lsof to be missing tor results.
As for other resolvers like netstat and ss, they still show tor's
connection results but they're missing the PID/process name
information. For instance, here's a result for arm followed by one for
atagar at morrigan:~/Desktop/arm$ netstat -np
tcp        0      0 127.0.0.1:37633         127.0.0.1:9051
ESTABLISHED 2346/arm
tcp        0      0 10.59.0.135:34184       188.165.26.254:9001
ESTABLISHED -
atagar at morrigan:~/Desktop/arm$ ss -nptu
Netid  State      Recv-Q Send-Q               Local Address:Port
          Peer Address:Port
tcp    ESTAB      0      0                        127.0.0.1:37633
             127.0.0.1:9051   users:(("arm",2346,3))
tcp    ESTAB      0      0                      10.59.0.135:41699
          85.25.145.98:9001

@_date: 2011-12-18 11:36:46
@_author: Damian Johnson 
@_subject: [tor-talk] New arm version doesn't show connections 
Thanks, Stephan and I have been talking off-list and it sounds like
there's a few gotchas braking the connection resolution besides the
tor change...
- proc contents on some platforms have a layout I wasn't expecting -
guess it's not as standardized as I thought
- non-proc resolvers in his case are failing due to both the LANG
environment variable (translating 'ESTABLISHED') and having a full tor
path rather than just the base name
I'm a little surprised that this feature has been around so long
without these issues coming up before. :)
As for the tor change, I've reopened the ticket for it...

@_date: 2011-12-21 14:25:47
@_author: Damian Johnson 
@_subject: [tor-talk] On verifying security of Tor Routers idea 
I'm not too eager to jump into this discussion but just a thought:
what about making this opt-in via Tor Weather? Relay operators already
subscribe for status notification emails there, so port scan results
could be another type of notice. -Damian

@_date: 2011-12-21 16:10:45
@_author: Damian Johnson 
@_subject: [tor-talk] On verifying security of Tor Routers idea 
Please do not send a mass-email to all relay operators, especially
while you're still in a planning phase. This seems pretty obvious, but
I wanted to make sure that it was clear - relay operators share
contact information to be notified of issues with their relay, not
threatened with a port scan.
The idea has been pretty controversial so if you would like to gather
more opinions then I'd suggest the tor-relays@ list.

@_date: 2011-12-28 08:08:00
@_author: Damian Johnson 
@_subject: [tor-talk] Tor Deprecation Notice 
Hi all. As per ticket 4788 [1] we'll soon be removing relays that are
out of date and no longer safe to run, which includes anything older
than version 0.2.1.30. When I last checked this included 257 relays
[2] and I've already notified the 107 of those that had contact
information available.
If you're running one of those relays then you'll need to upgrade to
keep operating. Sorry about the inconvenience and thanks for running a
relay! -Damian
[1] [2]

@_date: 2011-02-22 07:36:05
@_author: Damian Johnson 
@_subject: [tor-talk] some common ground on the gatereloaded topic 
Yes, it just effects the defaults. As a client you can do whatever you
want. This was discussed almost a month back in this thread.
Relevant snippet:
Despite its name, the BadExit flag really isn't a big whoop - the
relays are still perfectly usable for guard and middle hop positions.
They just aren't seeing exit traffic any longer.
No, the flag effects the default behavior for clients. Clients pick
nodes with the BadExit flag for the middle or guard positions, but
never as an exit.

@_date: 2011-02-01 15:31:29
@_author: Damian Johnson 
@_subject: Is "gatereloaded" a Bad Exit? 
Relays have an option to allow single hop connections through them,
which is off by default. If relays *do* set this and allow single hop
circuits through themselves then Tor clients by default avoid them for
*any* usage in their circuits. Here's the description from the man
page [1]:
ExcludeSingleHopRelays 0|1
This option controls whether circuits built by Tor will include relays
with the AllowSingleHopExits flag set to true. If
ExcludeSingleHopRelays is set to 0, these relays will be included.
Note that these relays might be at higher risk of being seized or
observed, so they are not normally included. Also note that relatively
few clients turn off this option, so using these relays might make
your client stand out. (Default: 1)
In short, there's no proof that these relays are bad but we avoid them
because they're riskier (hopefully the parallels with the current
discussion are obvious).
A sybil attack is where a huge number of relays operated by a single
entity appear with the goal of doing bad things (for instance
operating the first and last circuit hops to correlate traffic).
Again, during that incident we didn't have proof that the seven
hundred Trotsky relays appearing out of the blue were bad - we
invalidated them because they were highly suspicious, lacked contact
information, and had no family entry set.
In both of those cases we took harder measures based on suspicion of
malicious intent than we are with these plaintext-only relays. Despite
its name, the BadExit flag really isn't a big whoop - the relays are
still perfectly usable for guard and middle hop positions. They just
aren't seeing exit traffic any longer. -Damian
[1] To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-02-01 16:14:08
@_author: Damian Johnson 
@_subject: Is "gatereloaded" a Bad Exit? 
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-02-14 07:18:15
@_author: Damian Johnson 
@_subject: Is "gatereloaded" a Bad Exit? 
Same. Mike gave some good reasons for flagging them weeks ago and I've
yet to see much else besides ranting that seems to ignore most of this
thread. -Damian
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-01-28 15:04:24
@_author: Damian Johnson 
@_subject: Shewstring v1.0.0 release! 
That's because it's a hidden service. Here's the tor2web page:
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-01-30 00:43:28
@_author: Damian Johnson 
@_subject: arm: NameError: global name 'bin' is not defined 
Damn, looks like the bin function is new in Python 2.6:
Thanks for the catch. In the future please file a trac ticket rather
emailing everyone on or-talk. Cheers! -Damian
On Sun, Jan 30, 2011 at 12:25 AM, Paul Menzel
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-01-30 01:35:51
@_author: Damian Johnson 
@_subject: Is "gatereloaded" a Bad Exit? 
The five relays Mike mentioned have been flagged as BadExits [1].
Adding them to your ExcludeExitNodes isn't necessary. -Damian
[1] To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-01-30 11:30:14
@_author: Damian Johnson 
@_subject: Is "gatereloaded" a Bad Exit? 
There's no point in putting relays flagged as BadExit into your torrc
since your client will already avoid them. However, if you want a
listing of the bad exits then it's available at:
As for the previous discussion of if plaintext-only exits warrant the
flag, here's my bit to add to the discussion:
We already filter exit nodes based on suspicion by defaulting
ExcludeSingleHopRelays to true (the reason for that being that single
hop exits are more likely to be passively monitoring data). We also
invalidated the trotsky relays without proof of malicious intent (a
suspected sybil attack when over seven hundred identical relays
appeared out of the blue). I'm a little in favor of flagging
plaintext-only exits, though I agree that it sucks when flagging
doesn't have a smoking gun.
Cheers! -Damian
On Sun, Jan 30, 2011 at 10:58 AM, Orionjur Tor-admin
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-01-07 23:37:54
@_author: Damian Johnson 
@_subject: Arm Release 1.4.1 
Hi everyone. The next version of arm (1.4.1) is available including
the proc querying enhancements, Fabian's BSD compatibility patches,
and numerous other improvements:
Updates to the packages and repositories will be staggered a week
(just in case issues are discovered over the next new days). Feedback
and bug reports are always welcome! -Damian
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-07-17 00:26:09
@_author: Damian Johnson 
@_subject: [tor-talk] Arm 1.4.3 Release 
Hi all. A new release of arm ( is now
available. This completes the codebase refactoring project that's been
a year in the works and provides numerous performance, usability, and
stability improvements...
* Relay Setup Wizard
Setting up a relay can be tricky for new users. In headless
environments this means navigating Tor's massive, user unfriendly man
page and even when Vidalia's an option it makes relatively poor exit
configurations. Starting arm before Tor now provides instructions for
auto-generating a good relay setup...
  a. Selection for what you'd like to be
        b. Picking your relay options
        c. Confirmation for the configuration it's making
      * Menu Interface
All of arm's capabilities are now available via a simple menu interface.
* Arm Gui Prototype
Over this summer Kamran Khan has been working on a GTK frontend for
arm as part of Google Summer of Code. The initial prototype is ready!
* Performance Improvements
Several arm and TorCtl performance fixes providing a 83% faster
startup time, 12% lower memory usage, and instantaneous shutdown.
* Improved Platform Support
Vastly better support for Mac OSX. Arm has also been backported to
Debian Squeeze and Ubuntu Lucid / Maverick.
* ... etc
Options for requesting a new identity, shutting down Tor, reconnecting
if Tor's been restarted and many, many bugfixes.
Cheers! -Damian

@_date: 2011-06-10 13:47:17
@_author: Damian Johnson 
@_subject: [tor-talk] Python TorCtl development 
tor-dev would be best. Mike is the author and maintainer of the
package, and I do a little work with it too. -Damian

@_date: 2011-06-18 16:04:12
@_author: Damian Johnson 
@_subject: [tor-talk] ControlPort "read-only" access? 
Nope. Jake suggested adding this feature around a year back and I'd
love to have it too, but it's never been implemented. Patches welcome.

@_date: 2011-06-18 17:51:41
@_author: Damian Johnson 
@_subject: [tor-talk] ControlPort "read-only" access? 
Not that I'm aware of. It was mentioned in:
"> Second, Jake made a great point that at present if a malicious party
Ah - I'm sorry, I should have been clearer! I meant to suggest another
control port _entirely_:
SafeControlPort Port
SafeControlListenAddress IP[:PORT]
This would mean that you could expose a second control port that is
designed to give generalized, rounded, perhaps even delayed statistical
information to a visualization engine. The first I had in mind was arm
but there could be useful stuff for mrtg or another graphing program. I
don't need or want my graphing programs to have the ability to control
Tor - I just want to get some data out to help me manage my relay.
With that said - I don't think it's a good idea to focus on such a
feature at this time. Work on getting the statistics to your controller
first. When you have a good case for the features being available in a
different, more safe way, you can make it happen."

@_date: 2011-03-05 11:46:57
@_author: Damian Johnson 
@_subject: [tor-talk] some common ground on the gatereloaded topic (fwd) 
Those relays will accept exit traffic so, if you use a controller to
manually build a circuit through them it should work just fine.

@_date: 2011-03-18 22:06:57
@_author: Damian Johnson 
@_subject: [tor-talk] Blocking Shadowserver honeypots 
Hi Alexander. Thanks for running a relay!
I haven't seen any complaints about this with Amunet. The exit policy
doesn't accept hostnames (nor wildcards in them) so your best bet is
probably to just reject connections to their current honeypots and add
more if you keep getting complaints. Here's what robtex reports for
the sinkhole subdomains:
so ExitPolicy reject 74.208.15.160, reject 74.208.15.97, reject
74.208.164.166... etc
Cheers! -Damian
PS. We also have a tor-relays list you might find a bit more helpful
for this sort of question:

@_date: 2011-03-19 11:24:10
@_author: Damian Johnson 
@_subject: [tor-talk] Blocking Shadowserver honeypots 
That would be up to the authority operators, but probably not. If you
have contact info set on the relay then we'd ask what's up before
setting the BadExit flag.
Blocking destinations via iptables is definitely less desirable than
doing it via the exit policy since the former doesn't inform Tor
clients that you're unwilling to handle the traffic (the connections
simply fail). That said, if you both included the current honey pots
in your exit policy *and* an iptables rule to cover any future
sinkhole IPs I'd highly doubt anyone would mind (just please be sure
to have the contact info set in case there's concern).
Cheers! -Damian

@_date: 2011-05-12 19:53:57
@_author: Damian Johnson 
@_subject: [tor-talk] How to choose guard node? 
No. There's a set of relays with the 'guard' flag and your client
picks three at random from this pool.

@_date: 2011-05-12 19:57:51
@_author: Damian Johnson 
@_subject: [tor-talk] How to choose guard node? 
Ack! Sorry, mistype - yes, it is the same _pool_ but you make a random
selection so not everyone uses the same guards. -Damian
(sorry about the extra email, shouldn't have taken a moment longer
before hitting send)

@_date: 2011-05-17 18:26:35
@_author: Damian Johnson 
@_subject: [tor-talk] Use KiXtart to change identies 
Never heard of them. If it can talk to the control port to send a
NEWNYM signal then yes. But in the unpleasantly likely event that this
is for SEO or the like, please keep in mind that usually a new
identity != new IP and circuit creation places a high burden on the

@_date: 2011-05-18 07:49:02
@_author: Damian Johnson 
@_subject: [tor-talk] Use KiXtart to change identies 
It's a local socket, which you'd connect to like the following with python:
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.connect((controlAddr, controlPort))
As for NEWNYM, see the following:
Cheers! -Damian

@_date: 2011-05-24 13:51:42
@_author: Damian Johnson 
@_subject: [tor-talk] Where can I find the used circuit information? 
This is provided via the control port so here's three options...
- In Vidalia, on the bottom of the map page, it has a section called
"Connection" with comma separated lists of relays in your circuits.
- Arm shows this on the connections page. Pressing enter gives you
details on the relay.
- With a control connection run "GETINFO circuit-status" as per...
Cheers! -Damian

@_date: 2011-11-21 07:14:35
@_author: Damian Johnson 
@_subject: [tor-talk] What happen if one create 2000 exit nodes for 6 
Hi Fabio. What you're describing is a sybil attack. An attacker
definitely *wouldn't* get a majority of the exit traffic for those
destinations - clients weigh relay selection by heuristics reported by
the bandwidth authorities. Those authorities take a long time to warm
up to new relays, so it would take quite a bit of uptime before they'd
start seeing a substantial chunk of traffic.
Also, we'd get an alarm and cut them out of the consensus, for an example see...
short summary: 747 exits suddenly appeared and were dropped from the consensus
That said, smaller and slower sybil adversaries could go undetected so
if you see something fishy then let us know! -Damian

@_date: 2011-10-06 07:21:36
@_author: Damian Johnson 
@_subject: [tor-talk] [SPAM] Please vote for Torservers so we get 1000 Euro 
Done and good luck. :)
-1 for the gpg hassling. Worst case scenario is an evil Moritz
impostor puts out a fair bit of effort to harvest some email
addresses. Oh nos!
If he wanted to sign his messages then fine, but this is hardly critical.

@_date: 2011-10-14 20:47:24
@_author: Damian Johnson 
@_subject: [tor-talk] Block certain countries exit? 
In your torrc use the following options:
ExcludeExitNodes {it}
StrictNodes 1

@_date: 2011-09-14 14:35:48
@_author: Damian Johnson 
@_subject: [tor-talk] Selecting exit node by state - possible? 
Nope. The geoip db distributed with tor only narrows down by country so
you'll need to feed the exit ips into one that's more precise. There's also
a small chance that a relay's ip differs from where you'll egress so you'd
need to check for that too if it's important. -Damian

@_date: 2011-09-25 20:21:17
@_author: Damian Johnson 
@_subject: [tor-talk] Arm 1.4.4 Release 
Hi all. A new release of arm ( is now
available. Besides the normal batch of bug fixes and minor features
this includes an interactive interpretor for raw control port
This is intended to be a tool for developers, highly knowledgeable
operators, and anyone that would like to learn about Tor's control
protocol. It provides usability improvements like tab completion and
history scroll-back, along with IRC style interpretor commands...
* /help - provides usage information for all of the tor/interpretor
commands and tor's configuration options
* /info - queries relay information via fingerprint, nickname, or IP address
* /find - searches the backlog for the given regex
* /events - displays any events that we've listened for
* /write - dumps the interpretor backlog to a file
This can both be used via a new page in the curses interface and as a
standalone prompt by running "arm --prompt"...
Hopefully I'm not the only person that finds this to be useful! -Damian
PS. Jesse, Spider.007, and pyllyukko: Tor is now hosting a mirror of
the arm tarballs at...
This should, of course, be a little preferable for Gentoo, Arch Linux,
and Slackware since it provides SSL using their cert. Thanks again for
maintaining arm on those platforms!

@_date: 2012-04-05 07:56:36
@_author: Damian Johnson 
@_subject: [tor-talk] SAFECOOKIE 
'Safe cookie' is a new controller authentication method that nothing
yet supports (and probably won't for a long while since it's
considerably harder than either of the prior auth methods). I have a
plan to add support for it to stem...
Then, when arm is migrated to stem, we'll have support for this.
However, this probably won't happen for a long while (many months). In
the meantime I would suggest using password authentication. There
should be a torrc option for using normal cookie auth but I'm not
spotting it offhand...

@_date: 2012-04-05 08:21:40
@_author: Damian Johnson 
@_subject: [tor-talk] SAFECOOKIE 
Sorry about this, it's actually my bad. Code that I wrote for torctl
and copied into arm raised an IOError when it encountered an
unrecognized authentication method. According to Robert you should
have both SafeCookie *and* normal Cookie authentication but the former
is making arm choke.
Fixed this in arm...
It should be working now if you use the version from git...
git clone git://git.torproject.org/arm.git
I wanted to hold off on making another arm release until I'd done the
stem migration but I'll probably need to before that simply for all of
the fixes...
Cheers! -Damian

@_date: 2012-04-12 09:05:32
@_author: Damian Johnson 
@_subject: [tor-talk] SafeCookie / ARM 
Evidently telling tor to use cookie auth makes it accept both normal
and safe cookie auth, triggering this issue.
No worries. It's very easy, in the package that you cloned simply run
'sudo ./install'.
atagar at morrigan:~/Desktop$ cd arm
atagar at morrigan:~/Desktop/arm$ sudo ./install
That will copy the resources to /usr/share/arm.
Cheers! -Damian

@_date: 2012-04-21 19:31:02
@_author: Damian Johnson 
@_subject: [tor-talk] Tor-Arm Menu Key? 
Hi Matt. The menu key is 'm', it's mentioned below the header panel
(with the buttons for help, quitting, etc).
Cheers! -Damian

@_date: 2012-04-25 09:26:07
@_author: Damian Johnson 
@_subject: [tor-talk] Controller password - ARM 
Hi Eric. Arm should only be prompting you for a password if tor is
requiring it to authenticate. Couple questions...
* Do you have a 'HashedControlPassword' in your torrc? If so then
that's why. If not then are you sure that tor is using the torrc that
you think that it is? You can try starting tor via "tor -f
* If you're sure that you don't have a password set then you can dig
deeper by running telnet, then typing "PROTOCOLINFO"...
atagar at morrigan:~$ telnet localhost 9051
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
250-PROTOCOLINFO 1
250-AUTH METHODS=NULL
250-VERSION Tor="0.2.1.30"
250 OK
250 closing connection
Connection closed by foreign host.
The important bit is the "AUTH METHODS". That will have 'NONE',
'COOKIE', 'SAFECOOKIE', and/or 'HASHEDPASSWORD'.
If it just has 'HASHEDPASSWORD' then that's your issue - tor has been
configured to require password authentication. If it has multiple then
arm will attempt the others first then fall back to the password. Let
me know if this is the case since it's a little curious that it isn't
working automagically.
Cheers! -Damian

@_date: 2012-04-29 12:52:19
@_author: Damian Johnson 
@_subject: [tor-talk] Arm Release 1.4.5 
Hi all. A new release of arm [1] is now available which includes
numerous fixes of mounting importance [2]. In particular this corrects
several issues around arm's connection panel, terminal glitches due to
disruption of the curses module by readline [3], and incompatibility
with tor's new development releases [4][5].
This release does not include any new features, nor are any planned in
the near future. Most of my attention is going to stem right now
[6][7], and my next foray into arm will be to work with Ravi to
migrate it to the new library this summer [8]. That said, if you
encounter any problems then let me know! -Damian
[1] [2] [3] [4] [5] [6] [7] [8]

@_date: 2012-02-02 12:57:28
@_author: Damian Johnson 
@_subject: [tor-talk] the wiki is dangerous for end users [was: TBB Users: 
The wiki articles vary widely in terms of the TLC they get. I have a
few that I watch out for (arm [1], stem [2], and bad relays [3]) and
the good/bad isps gets a lot of activity [4]. The rest have mostly
collected dust since they were written.
Correct. If you care about a part of the wiki then take ownership and
make it good. If no one cares about a particular wiki page then it
falls out of date and sucks. At present not many people care about the
False. Trac has an rss feed for the updates and Karsten set up an
email list to be notified of changes [5]. For the last year I've
looked at most of the edits that go by, and others possibly do too.
Cheers! -Damian
[1] [2] [3] [4] [5]

@_date: 2012-02-04 18:15:13
@_author: Damian Johnson 
@_subject: [tor-talk] Tor security on EC2 
Not at present. However, Tor Cloud is only bridge instances so a
family wouldn't matter (they're only used for the first hop).

@_date: 2012-02-20 16:07:37
@_author: Damian Johnson 
@_subject: [tor-talk] tor debian repository for non x86 arch? (arm) 
Hi tagnaq, from what I was aware of it's in there...
That said, I'm not quite sure where it's located.

@_date: 2012-02-28 11:54:37
@_author: Damian Johnson 
@_subject: [tor-talk] LeaseWeb disconnects Tor exit node for forum "spam" 
Hi. Please add this to...
Reports like this are what it's there for.

@_date: 2012-01-06 16:10:38
@_author: Damian Johnson 
@_subject: [tor-talk] TorVPN new instructions in tor wiki, 
I've never tried it but I'm pretty sure this is what you're looking for...

@_date: 2012-03-06 16:40:25
@_author: Damian Johnson 
@_subject: [tor-talk] How to contribute / takeover a sub project? 
I'm not sure what you mean by 'taking over' the project. Besides
having a copy of the source archived in svn we aren't associated with

@_date: 2012-03-11 14:34:39
@_author: Damian Johnson 
@_subject: [tor-talk] aggregate traffic relayed? 
The following is a simple script for using TorCtl to print all of the
tor BW events. You could tweak it to sum the events instead and keep
track of it across tor restarts.

@_date: 2012-03-14 19:10:04
@_author: Damian Johnson 
@_subject: [tor-talk] Trusted source? 
Personally no. But if you're using a whole image that you don't trust
then a trojaned tor should be the least of your worries.
But that said even if it's signed, they claim to be based on Ubuntu.
The version of tor from those repositories is very likely to be out of
date anyway.

@_date: 2012-03-16 11:13:02
@_author: Damian Johnson 
@_subject: [tor-talk] Functioning Google scraper / search engine? 
Incorrect. With Duckduckgo JS is optional. This wasn't always the
case, and they changed it to make people like us happy.

@_date: 2012-03-21 11:48:04
@_author: Damian Johnson 
@_subject: [tor-talk] Orbot: GSoC Project 
Hi Rajat. I'm not following - Orbot is a project but it doesn't have
any ideas listed in the section below it. This is because the
project's maintainers (Guardian) probably won't be taking part in GSoC
this year. -Damian

@_date: 2012-03-21 14:01:20
@_author: Damian Johnson 
@_subject: [tor-talk] Orbot: GSoC Project 
I'm not positive, that is why I'm cc-ing the project maintainer
(Nathan). But he has given indications that they won't be taking part.

@_date: 2012-03-31 11:31:40
@_author: Damian Johnson 
@_subject: [tor-talk] Participate in Google Summer of Code 2012 
This isn't especially relevant to tor, but what *is* relevant is that
we're participating in GSoC too. ;)
Interested in coding on Tor and getting paid for it by Google? If you
are a student, we have good news for you: We have been accepted as a
mentoring organization for Google Summer of Code 2012 [1] together
with The Electronic Frontier Foundation! Woo!
Here are the facts: The summer of code gives you the opportunity to
work on your own Tor-related coding project with one of the Tor
developers as your mentor. You can apply for a coding project related
to Tor itself or to one of its many supplemental projects [2] (as well
as for an EFF-related project [3]). Your mentor will help you when
you're stuck with your project and guide you in becoming part of the
Tor community. Google pays you 5,000 USD for the three months of your
project, so that you can focus on coding and don't have to worry about
how to pay your bills.
Did we catch your attention? These are your next steps: Go look at the
Google Summer of Code FAQ [4] to make sure you are eligible to
participate. Have a look at our ideas list [5] to see if one of those
projects matches your interests. If there is no project on that list
that you'd want to work on, read the documentation on our website [6]
and make up your own project idea! Come to  on OFTC [7] and
let us know about your project idea. Communication is essential to
success in the summer of code, and we're unlikely to accept students
we haven't heard from before reading their application. So really,
come to the IRC channel and talk to us!
Finally, write down your project idea using our template [8] and
submit your application [9] to Google until April 6, 2012 [10].
We are looking forward to discussing your project idea with you!
[1] [2] [3] [4] [5] [6] [7] [8] [9] [10]
