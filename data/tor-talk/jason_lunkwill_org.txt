
@_date: 2005-12-20 20:12:38
@_author: Jason Holt 
@_subject: Voting for nym 
There's no point in writing a proxy if it'll still require support on wikipedia's end.  To be zero-barrier, the proxy would have to:
* maintain a table of "nymuserXX" wikipedia logins
* automatically login to wikipedia using the one corresponding to the connecting nym user
* prevent the client from logging out or doing other things that would let them hide behind the nym proxy using anything other than their assigned I'm not sure exactly how blocking registered users works; if we're lucky, misbehaving users would get their "nymuserXX" account blocked, but other nym users coming from the proxy would still be fine.  If we're not (and I think this is actually how it works), then once a user got blocked, the proxy's IP would also get blocked to keep the misbehaver from simply logging out and continuing to vandalize.  This would make the proxy quite useless.
Such a proxy would have a number of other significant drawbacks:
* whereas the existing MediaWiki patch provides cryptographically strong pseoudonymity with less than 20 lines of code, the proxy would run over http, where the "nymuserXX" logins could be sniffed and used by others (and subject to abuse by the proxy admin as well)
* it could easily turn out to be more complicated and bug-prone than the entire rest of the system
* the proxy would be a single point of failure
* making nym opt-out instead of opt-in increases the risk of wikipedia being impatient with abuse (and being more likely to block the proxy entirely)
I'm not sure what to do next with nym; my list post didn't garner a single response, and while the proposal page did get 5 "for" votes, it doesn't seem to be enough to spur the wikipedia community into action.  I don't personally use tor very often, so perhaps others could make a more impassioned argument to wikipedia.  Or perhaps we can start elsewhere to gain some practical experience with nym before we ask a huge site like wikipedia to hop on board.
The Gentoo wiki/forum (as well as a Knoppix site) uses MediaWiki, and somebody even asked here about using it through tor.  We could set up a tor-related MediaWiki with enforced pseudonymity (perhaps as a hidden service), and it might not be too hard to interface nym with other services (such as blogging Mostly I'm waiting to see what people actually care about.
 						-J

@_date: 2005-12-02 00:51:21
@_author: Jason Holt 
@_subject: Voting for nym 
Rather than the elected Wikipedia officials deciding on proposals directly, the modus operandi seems to be to take a vote among the users.
So if you want to support (or detract from) nym being adopted for Wikipedia, visit this page and edit the "Vote" section at the bottom with your vote:
Discussion on the proposal can be found here:
If you can't edit pages because you use tor, you can email me and I'll post your comments or vote accordingly.
 					-J

@_date: 2005-11-19 10:13:41
@_author: Jason Holt 
@_subject: nym-0.5.1 released 
I just discovered that the javascript client was completely broken. nym-0.5.1 fixes this:
 						-J

@_date: 2005-11-29 23:45:58
@_author: Jason Holt 
@_subject: use of routing information in anti-fraud mechanisms 
I've submitted the patch, but the coders don't seem very enthusiastic about including it.  I think the next step will be to approach the wikipedia bureaucrats with a proposal.  That would be easier for me if more people tried the demo and emailed me with feedback, so I could argue that a significant userbase is ready to use the feature if adopted.
 						-J

@_date: 2005-11-30 11:10:11
@_author: Jason Holt 
@_subject: Authentication using nym (fwd) 
Discussion of the proposal will, I assume, happen at the link below.  The text of the proposal itself is here:
 						-J
---------- Forwarded message ----------
I just added this proposal:
I assume that's the best place to discuss it, but if it's more appropriate for this list, let me know and I can redirect.
==Executive summary==
* I've built a software package called nym which could be used to allow users of anonymizing networks and shared-IP networks like schools to edit Wikipedia. Privacy would be preserved, yet admins would still be able to block IPs of * The software includes patches to WikiMedia, which I have submitted to MediaWiki's patch-review system.
* Wikipedia needs to decide whether to accept my proposal and patches. The patches are small and easy to implement; mainly it's a question of whether the admins are willing to try it out.
 						-J

@_date: 2005-11-07 00:12:50
@_author: Jason Holt 
@_subject: nym-0.5 released 
nym-0.5 is now available from:
Most notably, this release fixes a bug whereby the client code didn't check that returned signatures are valid.  Thus, a token server could "tag" clients by returning invalid signatures which the CA would then detect.
A preprint of an academic paper on nym is also now included in the distribution as well.
 						-J

@_date: 2005-10-13 01:17:09
@_author: Jason Holt 
@_subject: nym-0.3 released 
Hacking MediaWiki to map client certificates to IP addresses turns out to be quite trivial.  nym-0.3 includes the 17 line patch, as well as the security fix proposed by cyphrpunk.  The live demo at erg.no-ip.org now includes a live, patched MediaWiki called NymWiki.
  If you want to be able to edit wikipedia through tor, I suggest you try out the code and email me, so that we can make a case that there's actual demand for inclusion of the patches.
 					-J

@_date: 2005-10-13 04:54:15
@_author: Jason Holt 
@_subject: nym-0.3 released 
You're welcome!  Thanks for being grateful; there's nothing worse than writing something and then being ignored.
 				-J

@_date: 2005-10-02 00:13:02
@_author: Jason Holt 
@_subject: nym-0.2 released (fwd) 
As the great Ulysses said,
   Pete, the personal rancor reflected in that remark I don't intend to dignify
   with comment. However, I would like to address your attitude of hopeless
   negativism.  Consider the lilies of the g*dd*mn field...or h*ll, look at
   Delmar here as your paradigm of hope!
   [Pause] Delmar: Yeah, look at me.
Okay, so maybe there's no personal rancor, but I do detect some hopeless negativism.  Or perhaps it's unwarranted optimism that crypto-utopia will be here any moment now, flowing with milk and honey, ecash, infrastructure and multi show zero knowledge proofs.  Maybe I just need a disclaimer: "Warning: this product favors simplicity over crypto-idealism; not for use in Utopia." Did I mention that my code is Free and (AFAIK) unencumbered?
The reason I have separate token and cert servers is that I want to end up with a client cert that can be used in unmodified browsers and servers.  The certs don't have to have personal information in them, but with indirection we cheaply get the ability to enfore some sort of structure on the certs. Plus, I spent as much time as it took me to write *both releases of nym* just trying to get ahold of the actual digest in an X.509 cert that needs to be signed by the CA (in order to have the token server sign that instead of a random token).  That would have eliminated the separate token/cert steps, but required a really hideous issuing process and produced signatures whose form the CA could have no control over.  (Clients could get signatures on IOUs, delegated CA certs, whatever.)
(Side note to Steve Bellovin: having once again abandoned mortal combat with X.509, I retract my comment about the system not being broken...)
Sure, there's no reason for one entity not to run all three services; we're only talking about 2 CGI scripts and a web proxy anyway.  Or, run a CA which serves multiple token servers, and issues certs with extensions specifying what kinds of tokens were "spent" to obtain the cert.  Then web servers get articulated limiting from a single CA's certs.
It buys not having to strap hacked-up code onto your web browser or server. Run the perl scripts once to get the cert, then use it with any browser and any server that knows about the CA.
Great, you guys work up an RFC, then an IETF draft, then some Idemix code with all the ZK proofs.  In the meantime, I'll be setting up my 349 lines of perl/shell code for whoever wants to use it.  Whoops, I forgot the IP-rationing code; 373 lines.
Actually, if all you want is complaint-free certifications, that's easy to put in the proxy; just make it serve up different identifiers each time and keep a table of which IDs map to which client certs.  Makes it harder for the wikipedia admins to see patterns of abuse, though.  They'd have to report each incident and let the proxy admin decide when the threshold is reached.
There's that hopeless negativism again.  Do you want a real solution or not? Because I can think of at least 2 ways to solve that problem in a practical setting, and that's assuming that your assumption about MediaWiki being limited to 4-byte identifiers is even correct.
Sure.  I always meant for the gateway to exit on a public IP address.  The reason to make it a hidden service is to keep n00bs from forgetting to turn on tor when they talk to the proxy.  Thanks for clarifying, though.
 							-J

@_date: 2005-10-02 02:14:38
@_author: Jason Holt 
@_subject: nym-0.2.1 released (live demo available) 
I now have a live server available for those of you who want to play with a "real" nym tokenserver/CA/webserver.  This process constitutes running three scripts and installing the client cert.  Details in the README:
(Please be nice to erg.no-ip.org).
If enough people email me privately after trying it out, I'll proceed to the next phase, which will be working with the wikipedia guys to create a proxy server which should enable tor users to anonymously contribute but allow admins to block misbehaving IPs.
 					-J

@_date: 2005-10-02 06:05:47
@_author: Jason Holt 
@_subject: nym-0.2.1 released (live demo available) 
Many network devices allow changing the MAC address in software, and even if they didn't, there's no standard way to find out someone's MAC address from a more-or-less unbiased party (like an ISP).
 					-J

@_date: 2005-10-21 09:22:34
@_author: Jason Holt 
@_subject: nym-0.4 released (now includes Javascript) 
The most notable feature in this release of nym is that you can now use nym entirely from your web browser:
Until someone figures out how to create client certificate requests in Javascript, the CA will have to do so instead (or, you could generate the request on a separate machine and paste it in with a trivial hack).  This means the CA will know your certificate's private key; this is bad if you want to make sure you can never be impersonated.  It's actually good if you want deniability, since you can always claim that the CA chose to impersonate you.
There are other miscellaneous bugfixes which break compatibility with earlier Sources (including the javascript client) are available here, as always:
 					-J

@_date: 2005-10-22 10:20:40
@_author: Jason Holt 
@_subject: nym paper preprint 
I've finished a first draft of an academic paper on nym:
nym is a straightforward application of blind signatures to create a
pseudonymity system with extremely low barriers to adoption.  Clients use
an entirely browser-based application to pseudonymously obtain a blinded
token which can be anonymously exchanged for an ordinary TLS client
certificate.  In the appendix, we give the complete Javascript application
and the necessary patch to use client certificates in place of IP addresses
in the popular web application MediaWiki.
 					-J

@_date: 2005-10-01 05:38:17
@_author: Jason Holt 
@_subject: Pseudonymity for tor: nym-0.1 (fwd) 
Sure.  Idemix and Private Credentials have been around for years.  But they're a patent minefield and not something I can code up in 2 days.
 							-J

@_date: 2005-10-02 06:13:30
@_author: Jason Holt 
@_subject: nym-0.2.1 released (live demo available) 
Thanks for the additions!  I knew about yes, but not about yes "".  You'll be credited in the next changelog. If this thing actually catches on, I'll probably take you up on your kind offer to help with hosting and whatnot.
 					-J

@_date: 2005-10-02 22:23:50
@_author: Jason Holt 
@_subject: nym-0.2 released (fwd) 
Hopeless negativism.  I limit by IP because that's what Wikipedia is already doing.  Sure, hashcash would be easy to add, and I looked into it just last night.  Of course, as several have observed, hashcash also leads to whack-a-mole problems, and the abuser doesn't even have to be savvy enough to change IPs.
Why aren't digital credential systems more widespread? As has been suggested here and elsewhere at great length, it takes too much infrastructure. It's too easy when writing a security paper to call swaths of CAs into existance with the stroke of the pen.  To assume that any moment now, people will start carrying around digital driver's licenses and social security cards (issued in the researcher's pet format), which they'll be happy to show the local library in exchange for a digital library card.
That's why I'm so optimistic about nym. A reasonable number of Tor users, a technically inclined group of people on average, want to access a single major site. That site isn't selling ICBMs; they mostly want people to have access anyway. They have an imperfect rationing system based on IPs. The resource is cheap, the policy is simple, and the user needs to conceal a single attribute about herself. There's a simple mathematical solution that yields certificates which are already supported by existing software. That, my friend, is a problem we can solve.
I like the idea of requiring combinations of scarce resources. It's definitely on the wishlist for future releases.  Captchas could be integrated as well.
Thanks for pointing that out! Shouldn't be hard to fix.
Oh, I think I see. The k-smooth sha1(r) values then become "bonus" tokens, so we use a large enough h() that the result is too hard to factor (or, I suppose we could make the client present properly PKCS padded preimages).  I'll do some more reading, but I think that makes sense.  Thanks!
 						-J

@_date: 2005-10-29 20:05:37
@_author: Jason Holt 
@_subject: Wikipedia and Tor - a solution in the works? 
We're ahead of you on this one.  I wrote nym to solve this problem:
It limits pseudonym creation by the same criteria that wikipedia uses, scarcity of IP addresses.  Then you swap your blinded, scarce token for an SSL client certificate, and MediaWiki uses that instead of an IP address to block you if you misbehave. There's even a javascript client so you don't have to install any software on your machine:
I also wrote a very simple patch for MediaWiki to accept the client certs issued by nym:
And a paper that describes in detail how nym works:
I've prodded them to accept the patch several times now.  Perhaps they'd take us more seriously if we started using the "vote" feature on the bug report  					-J

@_date: 2005-10-31 08:41:06
@_author: Jason Holt 
@_subject: Wikipedia and Tor - a solution in the works? 
If we're talking about pseudonymity in general, the most natural formulation is that nyms are merely unforgeable.  So for example, Lucky Green has a published PGP key, and an excellent reputation under his pseudonym.
Wikipedia is willing to permit pseudonyms issued under an ideal constraint of 1-per-person, which they approximate using IP addresses.
Quite correct.  (Well, nym assumes you'll trade your token for a more convenient client certificate, but it's basically isomorphic since tokens map 1-to-1 with certificates).
A reasonable proposition, although other configurations are possible.  Each service can run its own token/CA servers, or they can aggregate.  Aggregation is good for user privacy, isolation is good for control (eg., wikipedia can tell the token server not to hand tokens to already-banned IPs).
Cyphrpunk proposes using the more recent credential architectures which reduce inter-transaction linkability without compromising server ability to ban. They're really neat, but complicated and patent encumbered.
 					-J

@_date: 2005-10-03 11:02:54
@_author: Jason Holt 
@_subject: Hooking nym to wikipedia 
Thanks to everyone who has contributed feedback, cyphrpunk in particular. Here are my thoughts on connecting nym to wikipedia.  I'll take feedback here first, then approach the WikiMedia folks.
* I believe the best solution would be for wikipedia to do the following:
   - Run an SSL server (optionally using a self-signed cert) which requires
     client certificates.  This is a 4-line addition to the httpd.conf.
   - Apache (already) automatically sets an environment variable identifying
     the client certificate used.  MediaWiki would map this to a random state
     variable equivalent to its IP identifier.
   - When admins wish to block an "IP", they follow the usual procedure, which
     has a special case for the special identifiers which adds the
     corresponding cert to a CRL instead of modifying the IP blacklist.  The
     client will no longer be able to connect to the SSL server.
   - Optionally, wikipedia can also send its list of perma-banned IPs to the
     (externally operated, but wikipedia-specific) token server, which will
     then refuse to serve those IPs.
* Alternatives to this approach involve someone else setting up such an SSL server as a reverse proxy for en.wikipedia.org and communicating a special identifier to wikipedia along with the proxied data in some combination of HTTP headers and cookies. I quite like the simplicity of these approaches, which could also allow avoiding certificates entirely by allowing users to trade a token directly for a cookie.  But now the header/cookie is subject (on the proxy->wikipedia link in particular) to eavesdropping, forgery and all the other things SSL is designed to prevent.  So ideally, wikipedia would allow an SSL connection from the proxy, and might as well just accept the client certs or tokens directly.  Also, if we eliminate certs, tokens would then have to be kept around and treated as secrets in case the user needs to get cookies issued onto other browsers or refreshed when a browser chooses to delete the cookie. Certs, OTOH, have a public cert that can be passed around, and come in a standardized file that has browser-supported passphrase en/decryption * Incidentally, making my apache-ssl (1.3) server reverse-proxy (impersonate, essentially) en.wikipedia.org is ridiculously simple.  In the httpd.conf:
   # Inside the  block:
         ProxyRequests Off
         ProxyPass /          ProxyPassReverse / And in the modules.conf:
   LoadModule proxy_module /usr/lib/apache/1.3/libproxy.so
 							-J
(Side note to Damian Gerow: our mail servers refuse to talk to each other; my admin claims pandora.afflictions.org is reporting its IP as 10.9.22.67 (an unroutable IP), which makes a validity test fail.  We'll have to find a side

@_date: 2005-10-03 11:48:48
@_author: Jason Holt 
@_subject: Hooking nym to wikipedia 
More thoughts regarding the tokens vs. certs decision, and also multi-use:
* Client certs are a pain to turn on and off.  If you select "ask me every time" before sending a client cert, you have to click half a dozen "OK"s per page.  (This could be mitigated by having Wikipedia only use the SSL server for edits, since they're not blocking article viewing anyway, just editing.) If you tell the browser to send the certificate automatically and then forget about it, other SSL sites can silently request it, which is particularly bad if you're not using tor just then.
* Using tokens directly at site login time avoids the client cert hassles. However, evil web servers could then collect tokens (nyms) for use at other sites, suggesting that each server should run its own token server.  But now each server has a (potentially short) list of client IPs, whereas a centralized token server would provide better concealment.  Obviously, if wikipedia is the only site that ever bothers to use nym, this is a moot point.
* Lack of forward secrecy is indeed an issue, since our metaphorical Chinese dissident must keep around her cert to continue using it, which if discovered links her with all her past activities.  This is a problem even if Wikipedia maps each client cert to a particular random value for public display, since the attackers can simply use the stolen cert to make an edit on wikipedia and then check to see if the identifier comes up the same.
If Wikipedia generates a new random ID for each edit, then attackers have to access Wikipedia internals to map the IDs back to the cert, but then, so do Wikipedia admins when they want to assess a user's pattern of (bad) behavior. Note that SSL does not (IIRC) encrypt certificates, so a passive network eavesdropper can associate client certs with the random IDs.  (Do the ephemeral modes hide the certs?)
A related approach that thwarts the network eavesdropper would be to issue a series of certificates which expire one per interval (hour/day/whatever, trading privacy against the hassle of managing lots of certs).  Then our dissident uses each cert in turn, securely deleting it after it expires.  The CA keeps a list recording all the certs issued to the same user, and when Wikipedia wishes to ban a user, the CA revokes all the unexpired certs for that user.  The CA also securely deletes expired certs from its lists, so that if compromised, it has merely the same list of certs found on the client machine, and is likewise devoid of any reference to certs used in prior Of course, there are nifty cryptographic solutions to the problem of revoking repeat offenders without linking activities of good users.  Private Credentials and Idemix are the two best known examples, but both are complicated and patent-ridden.
 							-J

@_date: 2005-10-04 13:08:16
@_author: Jason Holt 
@_subject: Hooking nym to wikipedia 
Just for tor users.
I agree that client certs are a pain, as are keyloggers and being shot for using tor.  You've got me stumped there.  Maybe we just need a better hypothetical end user, like someone who likes using tor and doesn't want to shut it off when editing Wikipedia.
 					-J

@_date: 2005-10-05 13:23:42
@_author: Jason Holt 
@_subject: Hooking nym to wikipedia 
Since MediaWiki is Free, it should be easy to install from CVS and make our own testbed Wiki for whatever approaches people want to play with.  Then we can simply submit patches.  meta.wikipedia.org has contact info for the  						-J

@_date: 2005-10-07 07:57:11
@_author: Jason Holt 
@_subject: Wikipedia proposal 
I just posted this to wikitech-l:
There has been a lot of discussion lately on the or-talk list about
how to let tor and other anonymizing proxy users edit wikipedia without
allowing vandals free rein. Several straightforward approaches have been
proposed, such as holding edits in escrow pending approval by a trusted
user, and requiring anonymizing network users to login before posting.
The latter idea in particular could easily be abused, since abusers can
create a new account for each edit.
Roger Dingledine, tor's author, suggested creating a pseudonym service
using a cryptographic construction called blind signatures:
Basically, Alice can generate a token, mathematically blind it
(obscuring its value), have it signed, then unblind the signature.
Anyone can verify that the signature on the token is valid, but nobody,
including the signer, can link the blinded value Alice had signed with
her unblinded token.
I implemented such a scheme which works as follows:
* Alice creates and blinds a token, then submits it to a token server
for signing.  Optionally, the token server may have a list of IPs banned
from wikipedia, and refuse to sign Alice's token if her IP is on the list.
* The token server signs the blinded token, then records what IP address
Alice used so that she can't obtain multiple tokens per IP address.
Later, this will allow us to block Alice's IP address if she misbehaves,
just as Wikipedia admins currently do, except that now it'll work even
when she connects via tor.  Token rationing could also be done based
on other (more or less) scarce resources, including email addresses,
captchas, CPU-intensive tasks or even money, just as I'm sure has been
proposed for the vanilla wikipedia.  The advantage of blind signatures is
that tokens can be recorded and blocked without revealing the potentially
sensitive underlying resource (such as a personal email address or
IP address).
* Alice can now turn on tor and present her token to wp, without revealing
her actual IP address.  This token takes the place of the IP address
record currently stored along with article edits, and can be blacklisted
just the same way that IPs are banned.
* However, I implemented an intermediary step which has several
advantages.  Instead of presenting her token to wp, Alice generates an
essentially empty client certificate and presents it via the tor network
to a certificate authority (CA) for signing, along with the signed token.
The CA records that the token has been "spent" (preventing her from
receiving multiple certs per token), then signs her cert just as Verisign
would sign a server SSL certificate. Since she connects via tor, the CA
doesn't learn her real IP address.
* Alice installs the client certificate in her browser, then connects
to a special wp server running an SSL server that demands valid client
certificates from our CA.  That configuration takes only 4 lines in my
apache-ssl server's httpd.conf.  Apache automatically sets environment
variables which identify the client certificate, and which can be used
in place of the REMOTE_ADDR variable currently used to record users'
incoming IP addresses when marking page edits.  Blocking a client cert
would then be just as easy as blocking an IP address.
All of Alice's edits will be marked with that identifier unless she
obtains a new IP address (or other scarce resource) and repeats the
process to obtain another certificate.  Later, features can optionally
be added which will allow her to have separate identifiers for each edit
(protecting her in case, say, her repressive government confiscates her
computer in order to find out if she wrote a particular article they
disagree with).
I have already released code to implement this system, with the exception
of the wp-specific code. I sent the proposal to both the or-talk lists
and the cryptography list at metzdowd.com on Monday. Next I'd like your
comments, before I dive into the mediawiki code (or find someone willing
to help with this part).  Once the feature is complete, we can set up a
live test wiki for people to bang on, before we consider implementation
on the live wp servers.
                                               -J

@_date: 2005-10-11 06:10:43
@_author: Jason Holt 
@_subject: FBI cracking down on "obscenity" 
More obscenity crackdowns: FBI shuts sex text site, court rules against adult The FBI raided the home of an erotic text website owner Friday:
     The website, red-rose-stories.com, posted a notice on its home page announcing the raid and warning customers that the FBI now has access to all past customer information.
     \u201cI am sorry to inform all interested parties that Red Rose Stories is a DEAD site,\u201d read a statement posted on the website by operator Rosie. \u201cThe FBI has suceeded [sic] in closing me down. I am being charged with 'OBSCENITIES' and face charges for having posted such stories. Our stories are NOT protected speech. Please, please, be careful out there.\u201d
     The stories in question, according to the website\u2019s announcements, include no images or videos, but describe acts of bestiality, urination, scat, BDSM, slavery, threesomes, orgies and sex with children.
Link. In related news, a judge struck down the first amendment defense put forth by two adult video stores charged with selling "obscene" hardcore

@_date: 2005-10-01 02:18:43
@_author: Jason Holt 
@_subject: nym-0.2 released 
nym-0.2 is now available at:
My tor server is currently down, so I can't set up a public trial of this, but perhaps someone else will.  This release makes the following improvements:
* Tokens are now issued one-per-IP to clients via a "token" CGI script. Tokens are still blindly issued, so nobody (including the token issuer) can associate tokens with IP addresses.  The list of already-served IPs could be periodically removed, allowing users to obtain new pseudonyms on a regular basis.  (Abusers will then need to be re-blocked assuming they re-misbehave).
* A token can be used to obtain a signature on a client certificate from a separate "CA" CGI script (potentially on a different machine).  Tokens can only be "spent" to obtain one cert.  Code to make a CA, client certs and have the certs signed is included.
* The CA public key can be installed on a third web server (or proxy) to require that users have a valid client certificate.  Servers can maintain a blacklist of misbehaving client certs.  Misbehavers will then be unable to access the server until they obtain a new token and client cert (via a new My proposal for using this to enable tor users to play at Wikipedia is as 1. Install a token server on a public IP.  The token server can optionally be provided Wikipedia's blocked-IP list and refuse to issue tokens to offending IPs.  Tor users use their real IP to obtain a blinded token.
2. Install a CA as a hidden service.  Tor users use their unblinded tokens to obtain a client certificate, which they install in their browser.
3. Install a wikipedia-gateway SSL web proxy (optionally also a hidden service) which checks client certs and communicates a client identifier to MediaWiki, which MediaWiki will use in place of the REMOTE_ADDR (client IP address) for connections from the proxy.  When a user misbehaves, Wikipedia admins block the client identifier just as they would have blocked an offending IP address.
 						-J

@_date: 2005-09-29 01:49:26
@_author: Jason Holt 
@_subject: Pseudonymity for tor: nym-0.1 
Per the recent discussion regarding tor and wikipedia, I've hacked together an implementation of the basic system from Chaum, Fiat and Naor's 1990 "Untraceable Electronic Cash" paper.  This system allows CAs to blindly issue tokens (or "coins") which can then be "spent" elsewhere.  It runs in perl, and comprises a CA, nym-maker, client application and auth checker (for the The tarball is here:
Of course, it's useless at the moment since it gives out tokens indiscriminately (and probably has massive bugs), but if anyone actually cares about this idea, it will be (more or less) easy to do the following:
* Put up a sample CA and server that people can use (potentially as hidden * Make the CA issue only one token per email address, or one token per IP address, one per computational puzzle, one for every $20 mailed in...
* Automatically expire CA keys and generate new ones on a regular basis (rather than bothering with CRLs)
* Instead of randomly generated tokens, have the CA sign an actual X.509 cert request, which will then become a perfectly valid X.509 cert useful as a client-side cert in unmodified browsers and web servers
* Create some sort of aid for maintaining server-side (or CA) blacklists of improperly behaving users
* Check to see if the protocol is actually still secure and properly Comments welcome.
 						-J

@_date: 2005-09-29 23:32:48
@_author: Jason Holt 
@_subject: Pseudonymity for tor: nym-0.1 (fwd) 
Actually, it was just the closest paper at hand for what I was trying to do, which is "nymous accounts", just as you say.  So I probably shouldn't have referred to "spending" at all.
My thinking is that if all Wikipedia is trying to do is enforce a low barrier of pseudonymity (where we can shut off access to persons, based on a rough assumption of scarce IPs or email addresses), a trivial blind signature system should be easy to implement.  No certs, no roles, no CRLs, just a simple blindly issued token.  And in fact it took me about 4 hours (while the conversation on or-talk has been going on for several days...)
There are two problems with what I wrote. First, the original system is intended for cash instead of pseudonymity, and thus leaves the spender a disincentive to duplicate other serial numbers (since you'd just be accused of double spending); this is a problem since if an attacker sees you use your token, he can get the same token signed for himself and besmirch your nym. And second, it would be a pain to glue my scripts into an existing authentication Both problems are overcome if, instead of a random token, the client blinds the hash of an X.509 client cert.  Then the returned signature gives you a complete client cert you can plug into your web browser (and which web servers can easily demand).  Of course, you can put anything you want in the cert, since the servers know that my CA only certifies 1 bit of data about users (namely, that they only get one cert per scarce resource).  But the public key (and verification mechanisms built in to TLS) keeps abusers from being able to pretend they're other users, since they won't have the users' private keys.
The frustrating part about this is the same reason why I'm getting out of the credential research business.  People have solved this problem before (although I didn't know of any Free solutions; ADDS and SOX are hard to google -- are they Free?).  I even came up with at least a proof of concept in an afternoon. And yet the argument on the list went on and on, /without even an acknowledgement of my solution/.  Everybody just kept debating the definitions of anonymity and identity, and accusing each other of anarchy and tyranny.  We go round and round when we talk about authentication systems, but never get off the merry-go-round.
Contrast that with Debevec's work at Berkeley; Ph.D in 1996 on "virtual cinematography", then The Matrix comes out in 1999 using his techniques and revolutionizes action movies.  Sure, graphics is easier because it doesn't require everyone to agree on an /infrastructure/, but then, neither does the tor/wikipedia problem.  I'm grateful for guys like Roger Dingledine and Phil Zimmerman who actually make a difference with a privacy system, but they seem to be the exception, rather than the rule.
So thanks for at least taking notice.
 						-J

@_date: 2006-01-04 20:41:17
@_author: Jason Holt 
@_subject: Voting for nym 
Most ISPs don't use a single outgoing IP address, and I've never seen anyone contact an external authority to have a user blocked; we just take care of it on wikipedia itself.
I've been doing a lot of "RC Patrol" lately (watching the list of edits for vandalism), and frequently high school students will try to turn the article about their high school into a message board ("l33tdud3 wuz here, peace to all my h0m13z"...).  Standard practice for vandalism is to put increasingly dire warning messages on their "user talk" page (which displays a "You have new messages" message when they next view a page), then request one of the wikipedia admins to block them if they continue.  When their username is blocked, their IP is also automatically blocked.  High schools often come through a proxy with a single IP, and there's a standard notice that eventually gets added to the IP's talk page if both good and bad edits show up over time.  It puts admins in a more difficult position, because blocking the IP also blocks the good users, and they'll try to be more lenient, but the process is ultimately the same.  I've seen individual users vandalize multiple pages per minute, and by the time an admin gets around to blocking them, I've spent 20 minutes cleaning up after them.  Nobody's going to wait around for an email response when something like that's happening.  I can hit the "recent changes" link all day long and stay continuously busy repairing vandalism (and warning users) even without the prolific vandals that require continuous I agree that Jimmy is an excellent advocate to have.  Maybe somebody else can get him interested again. I've emailed him several times without a response, although for all I know his spam filter is eating my messages.
 						-J

@_date: 2006-06-21 23:12:53
@_author: Jason Holt 
@_subject: Privoxy and cache headers 
Does privoxy filter out the modified-since headers browsers use to check if a page is modified before downloading?  If not, the timestamp could be used to identify repeated page accesses as coming from the same browser.
 						-J

@_date: 2006-03-10 20:41:50
@_author: Jason Holt 
@_subject: DNS leak check 
It could be worthwhile to include an option to block IP-only connection requests.  Paul could leave it turned off so he can still connect by numeric IP, but more paranoid users who never do such things could turn it on as a safety feature.
 						-J

@_date: 2006-05-07 04:17:42
@_author: Jason Holt 
@_subject: Tor & DNS Requests 
I didn't realize that.  I set up an internal-only server because my organization didn't like where people were exiting to, but the way they were monitoring the network was by sniffing DNS requests.
 					-J

@_date: 2006-05-19 17:41:19
@_author: Jason Holt 
@_subject: Speak of the Devil 
But, think of the children!  Won't *somebody* think of the children???
 						-J

@_date: 2006-09-01 21:34:43
@_author: Jason Holt 
@_subject: Better key negotiations 
Why would we use this instead of plain-vanilla Diffie-Hellman?
 						-J

@_date: 2006-09-18 20:51:15
@_author: Jason Holt 
@_subject: Using Gmail (with Tor) is a bad idea 
Where does that happen?  When I go to gmail.com I get redirected to an https login page.
 					-J

@_date: 2006-09-01 21:34:43
@_author: Jason Holt 
@_subject: Better key negotiations 
Why would we use this instead of plain-vanilla Diffie-Hellman?
 						-J
