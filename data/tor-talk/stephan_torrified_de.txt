
@_date: 2007-06-02 15:09:35
@_author: Stephan Lichtenhagen 
@_subject: Directory mirror and BandwidthRate/BandwidthBurst 
I'm running the node 'communicator' and upgraded from 0.1.1.25 to 0.1.2.14 last week. Since then I've been wondering why my node didn't want to deliver the directory listing anymore - even at times when the used bandwidth was _way_ below the configured maximum bandwidth of 1MB/s ("HTTP/1.0 503 Directory busy, try again later").
After some experimenting I think I stumbled upon the answer: it seems to me that tor tries to deliver the whole directory listing (roughly 2.6MB) in one second. At least that seems to be the needed bandwidth tor is calculating for that transaction. Thus you need to have configured a BandwidthRate or BandwidthBurst of at least 2.6 MB/s to be able to deliver directory listings (even more as the network of tor nodes grows).
Is this working as intended? If it is, then please add a hint about this to the documentation. But in my opinion it would be sufficient to deliver the directory listing in 5 or 10 seconds, reducing the needed bandwidth Btw: would it be possible to (g)zip the directory listing before delivering it? That would cut the file size down about 50%. Cheers, Stephan

@_date: 2007-06-04 18:30:00
@_author: Stephan Lichtenhagen 
@_subject: Directory mirror and BandwidthRate/BandwidthBurst 
So my fault was that I used the wrong URL to check if the new tor version worked correctly? If everything was that simple to fix. ;-)
Thank you for your explanations,

@_date: 2013-08-16 22:15:38
@_author: Stephan 
@_subject: [tor-talk] Newbie question regarding exit policy 
sorry for the (hopefully) trivial question, but I couldn't find an answer in the FAQ. I just set up a relay node (Tor 0.2.3.25/Debian package). I don't want to have an exit node (yet), so I added "ExitPolicy reject *:*" to my torrc.
But - being a little bit paranoid ;-) - I would have hoped to see a confirmation regarding the configured exit policy in the log-files. Unfortunately even setting the loglevel to debug doesn't show me what kind of tor node I am running. Am I looking in the wrong place? Is there a way to see the active exit policy?
If there isn't yet, I would like to propose an easily understandable summary of all active exit ports for the log-file. Something along the lines of:
- Tor configured as relay/middleman only. No exit ports allowed.
- Tor configured as an exit node. Allowed ports are: 80, 443, ...
- Tor configured as an unrestricted exit node. Connections to all ports

@_date: 2013-08-16 23:18:08
@_author: Stephan 
@_subject: [tor-talk] Newbie question regarding exit policy 
That's exactly what I was searching for - and much more. :-)

@_date: 2013-08-18 21:10:18
@_author: Stephan 
@_subject: [tor-talk] =?utf-8?q?Multiple_ORPorts=3F?= 
I'm still trying to understand some of the configuration options. The documentation says the ORPort statement may occur more than once. Initially I understood that as a way to open multiple ports for the benefit of users behind restrictive firewalls.
Indeed tor does bind to every single port I configured that way (even ipv6). But it seems only one (the first) port gets published. The other ports just stay unused.
Is it meant to behave that way? Do I have to pick one ("the right") port for every user?
How long does it take until my advertised bandwidth is really used? After three days still less than 1/30 of the configured bandwidth is used. Is this some kind of reputation thing with new relays or do I have a problem with my configuration (or my ISP)?

@_date: 2013-09-06 23:17:31
@_author: Stephan 
@_subject: [tor-talk] =?utf-8?q?Why_does_tor_open_UDP_ports=3F?= 
I'm a little bit confused as to why tor opens two UDP ports (one ipv4 and ipv6 each) on my server. The port numbers seem to be random. The output from 'netstat -lnup' is as follows:
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
udp        0      0 0.0.0.0:41512           0.0.0.0:*                            8456/tor
udp6       0      0 :::36206                :::*                                 8456/tor
After a little search I suspected those ports to be used for DNS functionality - but the config option "DNSPort 0" in my torrc did not deactivate those ports and the socks proxy is disabled as well. Furthermore I would have expected such ports to be opened for local connections only, but they accept connections from the whole wide world So why does tor open those ports?

@_date: 2013-09-07 01:19:33
@_author: Stephan 
@_subject: [tor-talk] =?utf-8?q?Why_does_tor_open_UDP_ports=3F?= 
Maybe I should have added some information about my server. Oops! :-)
I'm running a relay-node on a dedicated Linux box (Debian Wheezy/64bit). Those two 'strange' UDP ports are opened on both the current stable version and the latest alpha version of Tor.
My server is running fine(*) even with those UDP ports firewalled off. So they cannot be essential - but I'm still curious about their purpose.
(*) Well - if the switch from stable to alpha stopped those crashes, that is. Time will tell ;-)
