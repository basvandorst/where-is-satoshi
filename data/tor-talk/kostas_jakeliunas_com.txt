
@_date: 2013-08-20 19:59:28
@_author: Kostas Jakeliunas 
@_subject: [tor-talk] Upgrading an obfsbridge to the latest alpha on git 
A few days ago, George posted an invitation for obfsproxy operators to
upgrade their Tor software to the latest version on the master branch in
the Tor git repo. [1]
I'm running a low traffic obfsbridge on a raspberry pi, the whole thing is
rather experimental in its nature already, so decided to try just that.
Presumably everyone for whom this might be relevant already knows these
things much better than myself, but since they might be applicable to
all/some Debian users (raspberrypi + raspbian/debian users for sure), i'm
outlining a couple of snags that can maybe be avoided. Previously I ran
0.2.4.15-rc compiled from deb-src
( main); I
think it'd have been the same if a precompiled
package had been used. I'd still like to be able to manage Tor via init
scripts with as little change as possible, etc.
   - after make && make install, do a whereis tor; in all likelihood, your
   new version will be at /usr/local/bin/tor, old one at /usr/sbin/tor etc.;
   /etc/init.d/tor will be using /usr/sbin/tor, so need to change the DAEMON
   key there
   - torrc-defaults will have different values in different distro packages.
   cd /usr/local/etc/tor; if there's no torrc there: sudo ln -s
   /etc/tor/torrc (presumably that's where you kept your torrc before;
   ~/.torrc should work in any case)
$ git clone  && cd tor
$ ./autogen.sh
if it complains about no aclocal (et al.):
$ sudo apt-get install automake && ./autogen.sh
$ ./configure
$ make
$ sudo make install # or, just use it like that (Tor binary is in src/or/)
If you're using service tor {start,stop,reload,etc}:
$ /usr/sbin/tor --version; /usr/local/bin/tor --version
$ grep DAEMON= /etc/init.d/tor
The latter will likely point to /usr/sbin/tor, which might be outdated
(check above).
If that's the case, change that line in init.d/tor to point to the new Tor
executable /usr/local/bin/tor - that's where it *should* be; if you don't
like that, change
BINDIR = /usr/local/bin
in Tor's Makefile and make install again.
The Debian Tor packages seem to like to assume torrc will be placed in
from /usr/local/etc/tor, which is where the new Tor executable will look
for it.
This is probably an insanely ugly way of dealing with these snags, but if
anyone is reserved to upgrade because of things like that, maybe this'll
help someone..

@_date: 2013-08-21 13:43:46
@_author: Kostas Jakeliunas 
@_subject: [tor-talk] [tor-relays] Upgrading an obfsbridge to the latest 
Ah! debuild && dpkg -i. Yes, that's the cleaner way to do it for sure,
thanks. There's no reason why this shouldn't work with the latest branch, I

@_date: 2013-08-26 14:59:56
@_author: Kostas Jakeliunas 
@_subject: [tor-talk] About time to make BitTorrent work over Tor, 
AFAIK the most obvious issue with this (among more subtle side-channel
attack / decloaking problems) is network scalability. Total relay bandwidth
available is, while seemingly increasing in general, very limited given
such use cases. [1] How does one scale BitTorrent on top of that? It's
probably not the right way to look at it. Perhaps try delving into, for
example, GNUnet [2, 3], which is explicitly designed to be compatible with
your use cases (probably). There are bound to be interesting problems and
possible solutions there.
But perhaps there's still some discussion to be had. I'm sure this has been
discussed myriads of times, however - maybe it's worth trying to browse
through the mailing list archives.
[1]: [2]: [3]: 0x0e5dce45 @ pgp.mit.edu

@_date: 2013-06-18 11:27:06
@_author: Kostas Jakeliunas 
@_subject: [tor-talk] Until there's a REAL effing way to communicate, 
Totally out of the blue, but if there were a forum which also had a simple
way of subscribing to threads and sub-forums so that one could receive
emails and *respond* by replying to the special email address used for
relaying them the message, would that be something worth considering?
(Perhaps it's too late and so on, simply wondering.)
"tor-talk" could then be, for example, a sub-forum, while would also
effectively act as a mailing list which could be subscribed to. Current
subscribers could be transparently transferred to the new system, which
would act all the same: the semantics of posting to the mailing list and
receiving messages would be the same. Hence the solution would be scalable
in the sense that if other projects were to switch to such a system, one
would only need to subscribe to appropriate developer etc. mailing lists /
sub-forums to be able to follow and participate in the main development
etc. threads.
Such a system would allow for many nice options, including easy forking,
hopefully: for example, I suppose some folks on tor-talk etc. may dread the
idea of an influx of lame comments, piggybacking on threads featuring
specific discussions ("how do i download tor" in the middle of some
concrete discussion thread and so on). The additional 'forum thread'
functionality could be leveraged so that one could mark posts as 'OT' /
derailing (as in, just a click in the forum (each email/reply could include
a permalink to the forum) by a mod / approved member). The post(s) would
then be automatically moved to a separate thread, and an appropriate
message would be automatically posted with links to the thread etc. People
following the old thread in question could easily (un)subscribe to/from the
new OT thread (reply to the automatically posted email informing of thread
fork if in mailing list, or click a button if in forum view), so that those
interested in the OT topic(s) could continue following the new thread, but
others only interested in the to-the-point thread (on e.g. tor-talk) would
not have to waste time reading a myriad of confused / OT messages.
AFAIK, there's no such solution at present, at least for something which
would effectively implement a mailing list allowing for active
participation and even moderation from the email side of things. But it
sounds doable, and might turn out to be a great benefit to the broader
world of open source and so on. A project idea? :)

@_date: 2013-06-18 19:20:23
@_author: Kostas Jakeliunas 
@_subject: [tor-talk] Until there's a REAL effing way to communicate, 
That's what I was thinking as well. But depending on the existing
software/tools at hand, the joint solution might involve some rather
hideous hacks; the result might be difficult to maintain / extend later on.
(I simply try to visualize the codebases for the forum software that I've
worked/tinkered on; ideally, the mailing list functionality would be a
clean forum plugin module, but writing a clean addon solution might end up
being a difficult task; but in the end, I've limited experience, so don't
know.) Though not necessarily of course.. I'll post a message if I find
something interesting along these lines / end up hacking an abonimation;
it's an interesting approach / line of thought for sure.

@_date: 2013-05-20 18:39:43
@_author: Kostas Jakeliunas 
@_subject: [tor-talk] Question about possible increased risk of censorship 
Hi all,
has there been any discussion/research whether Tor bridges are more likely
to get blacklisted in censored areas if they'd been first run as simple
internal relays? The idea being, if a censorship system is fishing for Tor
nodes so they can be blacklisted on a per-IP-address basis and an internal
relay later on becomes a bridge but is using the same external IP address,
I suppose it is possible that it might get automatically blacklisted. Say
I'm a censor and I'm blacklisting all IPs found in the published
consensuses. I discover that someone is trying to connect to an IP
previously found on a consensus (and I recall all previous IPs) - I do not
do DPI - and simply block the connection due to IP address match. In this
case, it doesn't matter if the bridge could be found via bridgeDB, or if
it's doing pluggable transports. Any known cases/reports where this is
likely to have happened?
The reason I'm asking is, I've been running an internal Tor relay and am
considering making it to be an obfsproxy bridge; it would be the same IP
address. Perhaps this is inefficient, i.e. it is likely to have already
been blacklisted in many censored/important areas? I suppose it's also an
interesting question in itself, and it would be interesting to do some
experiments e.g. using OONI.
Thanks for any input

@_date: 2013-05-20 19:54:30
@_author: Kostas Jakeliunas 
@_subject: [tor-talk] Question about possible increased risk of censorship 
(China) be caught relaying via cellphone and sat connection.
Most likely to find services such as tor they are using NMAP scans of
ports, the best solution is to use a VPN in a non-restrictive region then
relay tor. So during port scans tor wont show rather your just using a VPN.
Agree - thanks. However, I was not asking as a Tor user, but rather as a
relay operator - what is the most efficient way for me to run a relay, when
it is known that it's part of the (previous) consensus(es). 'Efficient'
here means censorship-resistance-focused set of constraints - perhaps it
would be best to avoid trying to be a bridge, etc.

@_date: 2013-05-20 20:31:23
@_author: Kostas Jakeliunas 
@_subject: [tor-talk] Question about possible increased risk of censorship 
It's a dedicated box with a static IP, so I know for sure it's the same
one. But TorCloud for a {private,whatever} bridge sounds like a good idea!
bridges anyway (and I would assume that this applies to other
oppressive countries as well).
Indeed.. as I take it, obfsproxy (some or other) pluggable protocols seem
to still work for China users (though not sure anymore of course).. in any
case, the situation is, as I understand, more or less how I expected it to
be. Thank you!

@_date: 2014-04-11 18:56:03
@_author: Kostas Jakeliunas 
@_subject: [tor-talk] Hidden service may be compromised 
i wonder how hard it would be to try and fetch *all* of a hidden service's
descriptors (not "try and fetch the first one i can get"), and then to
compare them.
one would either need to patch tor itself, or one could do it via Stem, but
they would need to do the fetching itself via a tor circuit. might be a
useful diagnostic tool/thingie, hm.
0x0e5dce45 @ pgp.mit.edu

@_date: 2014-04-11 19:09:31
@_author: Kostas Jakeliunas 
@_subject: [tor-talk] Hidden service may be compromised 
To attempt to actually answer your question (don't count on this answer
though, at all..) in a mostly amateur fashion: if your hidden service's
long term identity private key is stolen, it might be used to create
descriptors about that hidden service that point to a different set of
introductory points (relays used by clients in the initial phase of trying
to reach a hidden service), behind which a different server is hiding.
Since they (thieves) have your HS private key, they can then full well
pretend to be the HS that you've been running, and the clients would not
I'm not sure, but I think that any experiments with this kind of attack
have been minimal to nonexistent [a niche for investigation!] The
speculation would be that if this happens and someone else tries to
advertise a HS under the same address, it's more or less a matter of chance
which descriptor is actually fetched by clients trying to reach that
address. Sometimes they would reach one point and sometimes another; they
would think both attempts would be valid. If the bogus hidden server is
down / nothing is listening behind it (no actual application (e.g. web
server)), connection attempts would simply fail at the last phase. (This
reminds me to publish a very primitive and tiny script that tells you which
point of the connection to a HS fails (intro point / rendezvous /
application-level server), I guess this is a valid incentive to do so..)

@_date: 2014-04-11 19:43:41
@_author: Kostas Jakeliunas 
@_subject: [tor-talk] Hidden service may be compromised 
towards "problems on your end", yeah. Maybe try to reproduce with a way to
ensure that any responses actually from your services (e.g. a hidden
service may run a web server with a self-signed certificate (not that one
should do this normally), and you could check each time you try to connect
- to see if the fingerprint for the certificate remains the same - the one
you actually have on the web server. Maybe there are easier and quicker
ways.. and not sure if this would prove anything, at all: it would be best
to try all six hidden service descriptor directory servers responsible for
the HS address in question[1], to see if any return a rogue descriptor for
your HS address.)
Hopefully there's a more practical and easier approach/explanation from
[1]: relevant reading material:
section 1.4)

@_date: 2014-02-11 16:23:51
@_author: Kostas Jakeliunas 
@_subject: [tor-talk] Obfsproxy on Raspberry Pi 
Hi Patrick,
`apt-cache search pyptlib` finds one 'python-pyptlib' for me - this is my
deb  wheezy main contrib
non-free rpi
deb  wheezy main
deb-src  wheezy main
afaik you don't need to `apt-get source` - just use `apt-get install`. But
if you want the latest obfsproxy (0.2.4, the one which includes
scramblesuit), you might want to try pip, the 'alternative python package
manager' (the package name is 'python pip'; you can then install obfsproxy
using 'sudo pip install obfsproxy').
I might be misusing things/commands, though.
Kostas / wfn
0x0e5dce45 @ pgp.mit.edu

@_date: 2014-02-11 16:39:15
@_author: Kostas Jakeliunas 
@_subject: [tor-talk] Obfsproxy on Raspberry Pi 
Sure thing, but obfsproxy will work just fine (incl. via `apt-get
install`.) As for installing tor itself, you're right, I forgot to mention
this. One can use `apt-get source` and then compile it themselves[1], which
is more cumbersome than just `apt-get install`; trying to install a binary
version of tor from the repos will indeed not work due to arch mismatch,
due to Raspbian not being very clever with naming things.

@_date: 2014-03-12 23:17:58
@_author: Kostas Jakeliunas 
@_subject: [tor-talk] traffic down 
Udo, did you mean 1d1dnt3d1th3c0nf1g (one "t" less somewhere in the middle
(I just searched for "1d1dnt", which will cover 1d1dnt3d1th3c0nf1g)

@_date: 2014-05-05 02:09:09
@_author: Kostas Jakeliunas 
@_subject: [tor-talk] Publishing Dangerous Data and Opinions 
This is a very naive position. Snowden did you Tor[1] to communicate
with Greenwald et al. In a sense, the "initial contact" dilemma is a
very universal problem indeed, and one which is ignored by many
proposed *-systems that naively assume some kind of PKI[2] is already
in place.
Or, if you're referring to the overall premise of Wikileaks etc.,
there are ongoing efforts[3] to abstract the process so that there
would be a (in a sense, market-)place for whistleblowers to pick
journalists who will receive their info.
[1]: not the best kind of sources (at all), but pretty OK as far as
secondary/tertiary sources go:
 *  * [2]: [3]: e.g.
