
@_date: 2004-08-25 16:49:46
@_author: Dave Vehrs 
@_subject: A small how-to - request for comments 
An alternative configuration for Fetchmail for those that prefer to
start it on a per user basis.
Add the following to the users .bashrc:
  CONF_FILE="$HOME/.fetchmailrc"
  PID_FILE="$HOME/.fetchmail.pid"
  FETCHMAIL="/usr/bin/fetchmail"
  TSOCKS="/usr/bin/tsocks"
  function FetchMailAlive () {
    if test -f $CONF_FILE && test -f $FETCHMAIL; then        if test -f $PID_FILE; then         if ! kill -0 `cut -d \  -f1 $PID_FILE` 2>/dev/null; then
          eval $($TSOCKS $FETCHMAIL)
          echo New FetchMail started. >&2
        fi
      else           eval $($TSOCKS $FETCHMAIL)
        echo New FetchMail started. >&2
      fi
    else
      echo Fetchmail not installed or configured properly. >&2
    fi
  }
  # Call it
  FetchMailAlive
Then it checks for a running fetchmail daemon everytime a new shell
is openned and starts one if needed.
Dave V.
On 16:47 Aug.25.2004, Thomas Sj?gren said:
