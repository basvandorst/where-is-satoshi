
@_date: 2007-11-30 23:35:23
@_author: Scott Bennett 
@_subject: BSD/etc Tor servers? (was Re: Tor takes too much RAM) 
I've been running my tor server on FreeBSD, currently 6.3-PRERELEASE.
For a long time, I had never seen it use more than 60K - 70K.  At present,
I'm running 0.2.0.12-alpha, and right now top(1) shows tor taking 92488 KB
total, with a resident set of 91876 KB (which may be rather larger than the
actual working set, given that there is 582 MB free in the system.  So it's
a bit bigger than it used to be, but I've never seen the huge amounts that
some people have reported on the list.  It seems to average about 80KB/s to
90KB/s with bursts up to maybe 190 KB/s.
     However, I would be interested in knowing why I see this:
-rw-------  1 _tor  _tor    365907 Nov 30 23:10 cached-consensus
-rw-------  1 _tor  _tor  39096827 Nov 30 23:11 cached-descriptors
-rw-------  1 _tor  _tor    174297 Nov 30 23:17 cached-descriptors.new
The cached-descriptors file contains *six* differing descriptors for my tor
server, five of which are obsolete.  What gives?  Are the obsolete descriptors
taking up memory in the tor address space?  Seems to me that 1300 - 1700 tor
server descriptors should not require over 37 MB, but if they appear multiple
times, I suppose that would account for the waste.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-09 23:42:22
@_author: Scott Bennett 
@_subject: tor26 missing certificate messages today 
This afternoon my tor server began logging the following messages:
Dec 09 15:10:18.474 [notice] We're missing a certificate from authority tor26 with signing key 0000000000000000000000000000000000000000: launching request.
Dec 09 15:11:19.530 [notice] We're missing a certificate from authority tor26 with signing key 0000000000000000000000000000000000000000: launching request.
Dec 09 15:12:18.357 [notice] We're missing a certificate from authority tor26 with signing key 0000000000000000000000000000000000000000: launching request.
These messages continued at the rate of approximately one per minute until the
final one:
Dec 09 16:03:08.509 [notice] We're missing a certificate from authority tor26 with signing key 0000000000000000000000000000000000000000: launching request.
     Does anyone know the reason for these messages?  And the reason why they
eventually stopped appearing 53 minutes later?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-11 17:39:54
@_author: Scott Bennett 
@_subject: possible DoS attack? 
In the last couple of days, I've noticed my tor server maxing out the
transmit side (~110-~115 KB/s) of my ADSL while typically using <10 KB/s of
the receive side, usually for long periods of time.  Curious about this oddity,
I began looking at netstat output more frequently to see what was up.  What I
found that seemed out of the ordinary was many dozens of connections to my
directory mirror port from 83.103.38.65 (fastweb65.ietnet.net), most with
32 KB or more in the output queue for the ethernet interface.  Occasionally,
these mostly go away for a while, and the transmit rate begins to fluctuate
more normally between <10 KB/s and, say, 60 KB/s, as traffic begins to adapt
to the increase in available bandwidth.  Often these breaks in the demand by
fastweb65.ietnet.net last no more than a couple of minutes before
fastweb65.ietnet.net resumes connecting and demanding directories at its
previous pace.
     83.103.38.65 does not appear in my cached-consensus or cached-descriptors*
files, so these are not simply tunneled directory connections from random
sites getting funneled through one tor server in Italy.
     Can anyone tell me whether this is legitimate activity or whether I should
begin blocking it at my router to encourage it to go away?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-13 04:15:20
@_author: Scott Bennett 
@_subject: Best Hardware for TOR server.. 
On Thu, 13 Dec 2007 08:31:43 +0100 Eugen Leitl      I've had problems with every Linksys router I've dealt with so far,
but mainly with wireless service.  The built-in DHCP server, when presented
with a request from a machine to which it has already issued a lease, fails
to recognize that that machine is a current leaseholder and to issue it a
copy of the existing lease.  Instead, it denies the request.  This is a
worse problem for Windows than for FreeBSD in that Windows is far more
likely to decide it has lost contact with a Linksys wireless router than
FreeBSD is.
     Comcast's speeds seem to depend upon overall traffic load in the
neighborhood, varying from ~300 KB/s at busy times to ~900 KB/s at off
times for reception, and varying from ~40 KB/s to ~90 KB/s for transmission.
     The providers in the U.S. are not at the forefront, obviously.  Unlike
France, Japan, etc., an intermediate-speed, asymmetric model is used for
residential service in the U.S.  If you have, say, $1200/month to blow, you
can get a T3 line and call yourself a business, but then you need a much
classier modem+router to deal with it.
     Not necessarily so.  We saved a small amount per month by providing
a modem and router ourselves.  Comcast's equipment was returned to them, and
they stopped billing for it.
     I don't know of any problems of that sort, but if you're planning to
stay with Comcast a year or more, you'd be better off providing your own
equipment and saving the $4 - $8 per month per item yourself.  Ten to twelve
months of that pretty much pays for the equipment, and then you still own
the equipment at the end.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-13 10:33:45
@_author: Scott Bennett 
@_subject: Best Hardware for TOR server.. 
On Thu, 13 Dec 2007 06:38:02 -0800 (PST) "Eric H. Jung"
     Then perhaps Verizon at last is trying to catch up with the state of
things in those other countries, but it is decidedly not there yet.  I have
an ADSL line, whose speeds vary from 5.5 to 6.9 Mb/s receive and from 0.9 to
1.0 Mb/s transmit.  That's the best available for home users in a Chicago
suburb housing the second largest university in Illinois.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-14 09:34:36
@_author: Scott Bennett 
@_subject: Best Hardware for TOR server.. 
On Fri, 14 Dec 2007 10:09:28 -0500 Michael Holstein
     Thank you.  You just brought forward the thing that has been eluding
my recollection since this thread started.  Linksys routers do not have
enough memory for the NAT table to run a tor exit server, and they do not
handle a table overflow condition gracefully.  What happens when a SYN goes
out at a time when the table is full is that the connection never happens,
which is reasonable enough, but when table entries have later been freed,
outbound connections continue to fail.  This remains the situation until
the router has been rebooted.
     In my experience, a Linksys router on a Comcast connection may run for
days before the above described situation occurs, but OTOH, it may only run
for an hour or two before it happens.  It is conceivable that the same might
occur for a middleman-only server, but far less likely because connections
to the outside will normally be far fewer, given that many circuits, each
with perhaps multiple streams, may be funneled through a single TCP connection
with its corresponding NAT table entry.  In the case of an exit server, every
stream that exits needs its own NAT table entry.
     FWIW, a *BSD or LINUX system running as a router with natd(8) on it
will have no such problem because it doesn't suffer from the memory
limitation.  The same might also be true for Windows, but I shudder at the
thought of trusting Windows as a router/firewall, and I don't know what is
available as a NAT server in Windows.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-14 09:57:35
@_author: Scott Bennett 
@_subject: Best Hardware for TOR server.. 
On Fri, 14 Dec 2007 10:37:48 -0500 Jay Goodman Tamboli      When I used Comcast, I ran tor first as a middleman and later as
an exit, but I've never allowed port 80 exits.  I allow 443 and scads
of others, but not 80.  Although it's probable that the most heavily
used port by tor exit traffic is port 80, it's also the one most likely
to bring the tor exit server operator complaints.  Leaving TCP port 80
open for exit service behind a Linksys router also means that the
Linksys NAT table overflow *will* happen very soon after the server's
descriptor starts getting distributed to clients. :-(
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-14 10:30:56
@_author: Scott Bennett 
@_subject: Best Hardware for TOR server.. 
On Fri, 14 Dec 2007 17:20:17 +0100 Eugen Leitl      I have no idea.  I have no experience whatsoever with installing other
firmware into an electronics store-bought router.  The behavior I described
was for a stock Linksys router.
     Actually, I don't know.  My guess is that the allocation routine is
crap, so that once it has failed, it will always fail.  But you're right, it
is possible that an overflowed table never has entries deleted again, which
would also cause allocation failures from then on.
     I was not referring to an embedded system, but rather to an operating
system on a full computer system with virtual memory.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-01 00:42:38
@_author: Scott Bennett 
@_subject: Maintanance of TOR for FreeBSD 6.2 
On Fri, 30 Nov 2007 16:17:37 -0800 (PST) "Mr. Blue"      Wrong list.  Try freebsd-ports at freebsd.org.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-19 02:46:04
@_author: Scott Bennett 
@_subject: another seeming attack on my server's DirPort 
A little while ago, I added another filter rule to the router here to
stop an apparently endless, rapid-fire series of directory requests hitting
my tor server's DirPort from 125.35.9.66, which appears to be in China.  The
last time I reported this type of thing, you may recall, it came from a site
in Italy.  The symptom, like the last time, was that output rate on my
machine's main Ethernet interface was running steadily around the transmit
rate limit imposed by my ADSL line.  dig(1) shows:
; <<>> DiG 9.3.4-P1 <<>> -x 125.35.9.66 any
;; global options:  printcmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NXDOMAIN, id: 63929
;; flags: qr aa rd ra; QUERY: 1, ANSWER: 0, AUTHORITY: 1, ADDITIONAL: 0
;; QUESTION SECTION:
;66.9.35.125.in-addr.arpa.	IN	ANY
;; AUTHORITY SECTION:
9.35.125.in-addr.arpa.	10800	IN	SOA	ns.bta.net.cn. root.ns.bta.net.cn. 2006020501 28899 7200 604800 86400
;; Query time: 351 msec
;; SERVER: 66.225.32.4
;; WHEN: Wed Dec 19 02:40:29 2007
;; MSG SIZE  rcvd: 96
     Is anyone else having this kind of trouble, regardless of the apparent
origin(s) of the attack(s)?  I don't mind legitimate requests for directory
service tying up all or nearly all of my available output bandwidth, but I
do object to morons conducting a DoS attack to keep others from getting
directory service from my tor servers directory mirror.  If others are also
finding their tor servers being hit like this, then perhaps we need to think
up an automated way to deny directory service to abusers in order to put a
stop to such activity.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-19 04:11:52
@_author: Scott Bennett 
@_subject: another seeming attack on my server's DirPort 
On Wed, 19 Dec 2007 09:55:41 +0100 (CET) "Marco Bonetti"
     Well, you seem to be getting ahead of things here, which would have
been more apparent if you hadn't deleted all the context.  I would like
to know first before worrying about automating a remedy whether anyone
else is experiencing the same problem.  If my tor server is the only one
being attacked, then the problem may not rise to the necessity of an
automated solution.  If anyone else is seeing this problem, please let
us know.
     Also, you didn't identify the scripts to which you refer clearly
enough that I have any idea what they might be.  What do they do?  Where
can they be found?
     Up till now, I've only added two filter rules on the router to block
anything from the two offending /24 nets from getting into my LAN.  Keeps
the LAN traffic down, as well as the outbound link traffic.  Very simple,
no checking of protocol, port, or destination IP address required, etc.
But it does require my presence to notice something fishy going on, check
it out more carefully, and then add a filter rule.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-20 21:32:46
@_author: Scott Bennett 
@_subject: another seeming attack on my server's DirPort 
On Wed, 19 Dec 2007 09:11:02 -0500 Michael Holstein
     Thanks, but I'm using pf under FreeBSD 6.3-PRERELEASE.  At present, I'm
block *all* inbound packets at the router from the two offenders noticed so
far.  I'm not really doing much with pf at the moment, but I intend to whenever
I get around to setting up a particular tor configuration that will need some
redirection to work right.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-20 21:35:28
@_author: Scott Bennett 
@_subject: another seeming attack on my server's DirPort 
Sure.  I'll do that the next time I see it happening.  Meanwhile, though,
I'm leaving the blocking rules in effect for the two offenders I've already
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-20 21:39:01
@_author: Scott Bennett 
@_subject: [Part OT] Traffic shaping [Was: another seeming attack on my server's DirPort] 
Yes, I could do that sort of thing with my system, too, but the point
is to eliminate the bogus traffic, not simply to accommodate it at reduced
service levels.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-20 21:45:30
@_author: Scott Bennett 
@_subject: another seeming attack on my server's DirPort 
On Wed, 19 Dec 2007 13:44:09 -0800 "Kyle Williams"
     No, but throughput surely slows down because it has to compete with the
directory mirror outflow.
     I have no idea.
     It is usually less than one day, thanks to the crappy ISP I signed up
     If we all did that, then where would we get directory service?
     I still don't understand the thinking of those people.  I have no reason
to believe that the Chinese government is allowing the NSA to control IP
addresses allocated to, and served inside, China.  It makes no sense at all,
and leads me to conclude that the whole list is worthless.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-20 23:53:35
@_author: Scott Bennett 
@_subject: another seeming attack on my server's DirPort 
On Thu, 20 Dec 2007 13:11:15 +0000 Mike Cardwell      Nope.  No web servers at all.  In fact, tor is the only service I've
made available to the outside world.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-23 10:20:47
@_author: Scott Bennett 
@_subject: [OT] more from Cryptome on NSA, Windows firewals, mail services 
The article is at
(Beware of linewrap in URL above.)  Because it's from Cryptome, the same folks
who think the NSA controls large banks of IP addresses in places like Red
China, perhaps the article should be taken with a hefty grain of salt.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-04 10:06:30
@_author: Scott Bennett 
@_subject: BSD/etc Tor servers? (was Re: Tor takes too much RAM) 
On Tue, 4 Dec 2007 09:53:40 -0500 Roger Dingledine      Okay.  I guess I had the naive idea that there would be no more than
one networkstatus per directory authority at any given time.  Oh, well.
     The sooner, the better, IMO.
     I wasn't asking about real memory.  mmap() maps a file into the address
space, though, so it could well account for the apparent memory usage as
shown by top(1) (SIZE field) or ps(1) (VSZ field in FreeBSD), which was the
point I was trying to make.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-04 16:14:17
@_author: Scott Bennett 
@_subject: storage privacy (was: Nice quiet, private, anonymous life??) 
On Tue, 04 Dec 2007 22:13:08 +0100 "Alexander W. Janssen"
     On a FreeBSD system, it is trivial to encrypt a swapping/paging area.
I simply changed the entry in /etc/fstab from
and rebooted.  From that moment forward, my swap partition has been encrypted.
     I'm not a LINUX user, but I would be surprised if there were not some
similar facility in LINUX, but I haven't the foggiest notion how one would get
Windows XP to encrypt its swapping/paging file or even whether Windows XP has
that capability.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-12-07 12:58:25
@_author: Scott Bennett 
@_subject: storage privacy (was: Nice quiet, private, anonymous life??) 
On Fri, 07 Dec 2007 22:44:23 +0600 "Vlad \"SATtva\" Miller"
     Thanks for the information.  That's yet another way in which Microslop
appears to have failed to keep up with the times.  OTOH, it fits their
longstanding practice of being weak on security issues to create a bigger
niche market for security software vendors.  Someday I'd love to see their
internal records that would show whether they get kickbacks from those
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-07-15 17:05:52
@_author: Scott Bennett 
@_subject: active connections when hibernating 
On Sun, 15 Jul 2007 09:22:00 -0700 "Michael_google gmail_Gersten"
     Okay.  I don't know what tor is "supposed to" do about existing server
connections and circuits when a SIGHUP results in ORPort being closed.
However, I can see why the continuing operation of the client side of tor
would make it desirable to maintain any currently open connections to its
chosen entry guards.
     ORPort is the advertised port, and Address is the advertised address,
whereas ORListenAddress specifies the actual IP address and port that the
socket is bound to.  It is possible to advertise a port via the server's
descriptor that differs from the one the server is actually using.  For
example, in FreeBSD if you use IPFW or PF, you can translate the address
and/or port on incoming packets to whatever you want them to be, thereby
routing them to your tor server at whatever port it is using.
     Perhaps it's publishing its descriptor (i.e., sending the descriptor
to an authority).
     There are three values published in the descriptor.  The first and
second come from BandwidthRate and BandwidthBurst, possibly overridden by
MaxAdvertisedBandwidth, in the configuration file.  The third value is the
actual "high water mark" in the last x seconds (24 hours, IIRC).  Note that
BandwidthRate defaults to 3 MB/s, and BandwidthBurst defaults to 6 MB/s.
     Huh.  Now that you mention it, I've suspected the same thing, though
I've never checked it out very closely.  Maybe Roger Dingledine could
comment on whether this is actually the intended behavior and why it is or
is not.
     Do you mean ssh through tor?  Or just ssh direct connections?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-07-16 05:48:41
@_author: Scott Bennett 
@_subject: active connections when hibernating 
Thanks for the reply.  Yes, that is what I had hoped was the case.
     Ah.  Thank you.  So there is a one-hour threshhold of idle time for
halting the preemptive circuit creation process.  That can be a little bit
inconvenient the next time you try to access something through the tor
client, but I suppose it does save a chunk of server time and bandwidth.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-07-03 17:51:14
@_author: Scott Bennett 
@_subject: two unseemly tor behaviors 
Do you think that they prefer to have their server crash, rather than
to issue an error message and continue operations?  And that such behavior
benefits the worldwide community of tor users?
     Most of the changes that I make while tor is running are to a) bandwidth
rate limits and b) exit policies.  A day or two ago, I was revisiting the list
of port numbers for which I'm willing to offer exit service.  After adding at
least 30 or 40 ports to that list, I sent SIGHUP to tor, and it immediately
exited with an error message about a semicolon instead of a colon in one of
the lines I had added/changed.  More than 60 exit circuits alone were broken
without any warning to those using them.  I have no idea how many circuits
were broken that did not exit from my server.  What would have been the harm
in simply rejecting the one ExitPolicy line in error?  Or in ignoring the
whole torrc as offered to tor at that time?  The error message issued would
have enabled me to fix the bad character and resubmit my changes to tor without
disrupting any operations at all.
     To keep those who feel that reliability is not nearly as important as
beating the server operator and users of circuits through it over the head with
crashes, how about an option to promote such crashes or to continue operations
after logging messages about the rejected torrc line or file?  That would
settle the issue and would allow those of us who want to to do our parts to
keep the tor network running smoothly.
     My own experience contradicts that.  I frequently find downloads that have
quit early, saying that they are "done", but when the downloaded file is
checked, its size is only a fraction of the size it ought to be.  I count
myself as one of those who await the day when connections through the tor
network become vastly more durable/reliable than they are now, which is the
main reason I always change ShutdownDelay from the trivial default to a much
longer time period.
     Further, the tor documentation itself says that a given TCP connection
is lost when a circuit is broken.  tor does *not* build a new circuit and
restart or continue the operation that was terminated.  When you think about
it, tor *couldn't* do that unless it understood the protocol in use that ended
early and had been monitoring its progress.  In many cases, tor would also have
to keep track of loginids and passwords in order to repair and continue the
interrupted traffic on a rebuilt circuit.  *New* traffic does go over new
circuits after circuits fail, but the traffic that was going at the time of
failure does not.
     There may be some types of downloader clients that will retry an operation
that has ended prematurely, as you suggest, but it is quite apparent that
Firefox's built-in downloader does not, and tor itself does not.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-07-20 15:58:07
@_author: Scott Bennett 
@_subject: What happens when I shut down my Tor-server? 
On Tue, 17 Jul 2007 19:53:12 +0200 "Alexander W. Janssen"
     Sorry about the delay here, too.
     Yes.  I saw that shortly after I posted it, and I followed up with the
     Okay, so no SMTP, DNS, FTP, ssh, or other inbound traffic should occur.
Then I have no idea why your system would be getting probed on other ports.
SYN packets should only be arriving for your tor's ORPort (and DirPort if
     The attempts to connect to your ORPort are probably legitimate.  Once
the descriptor on the directory servers (all of them) stops showing your
tor as "running", many hours might still pass before the last active tor
client or server fetched a new copy of the directory from a directory server.
Until everyone has a directory copy that doesn't list your server as "running",
connection attempts will probably continue come in, though the more time
passes, the fewer clients and servers will have an outdated descriptor for your
server, so connection attempts should gradually slow to a trickle.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-07-21 01:59:11
@_author: Scott Bennett 
@_subject: Tor takes too much RAM 
On Fri, 20 Jul 2007 23:39:45 -0700 Ben Wilhelm      How can you tell that it is?  The display of numbers above doesn't seem to
show the important figure, namely, the working set size for tor.  The rest of
what tor allocates in user space is irrelevant.  Kernel space allocations that
are page-fixed (in slang, "wired [down]") are important, but those that are not
fixed shouldn't usually matter either.  What, for example, does the "used"
column above mean?  Is that the total virtual memory allocated to a particular
process?  To all processes?  Or is it just the page frame memory currently in
use by a particular process?  By all processes?  Even top(1) gives more useful
information than your "free" command.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-07-21 02:16:31
@_author: Scott Bennett 
@_subject: Blocking child pornography exits 
On Sat, 21 Jul 2007 03:03:40 -0400 "Ron Wireman"      Surely you jest!  It is not a function of the tor project to periodically
search and evaluate the entire worldwide web to maintain a data base of sites
that do not meet your requirements.  If there are sites for which you wish to
deny exit service, then you are welcome to put them into your ExitPolicy
statements in your torrc file yourself.  That's why the ExitPolicy statement
exists, i.e., so that you can establish your own exit policy.
     Laziness?
     No hay de que. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-07-21 02:47:21
@_author: Scott Bennett 
@_subject: Blocking child pornography exits 
On Sat, 21 Jul 2007 03:26:22 -0400 "Ron Wireman"      Well, because you top-posted, rather than inserting your comments
into the message to which you responded, it's not clear to me which part
of that message you didn't understand.
     I'm curious to know how you have determined that to be the case.
     Please give an example of how either EFF as an organization or the
tor software project blocks either spam, a form of pollution of USENET
newsgroups, or massmail, which is what you most likely meant.  AFAIK,
neither EFF as an organization nor its tor project do anything of the
sort.  The closest thing I can think of that the tor project does is to
redistribute someone else's package (i.e., privoxy) as part of a self-
installing software bundle that includes tor, privoxy, and TorButton
for MS Windows systems.  But that's just a courtesy convenience for
Windows users, the vast majority of whom are not particularly savvy
about installing or maintaining networking software packages.  privoxy
is not produced by the tor project.
     Again, you're are suggesting that an anonymizing software project take
on a several-hundred-million-dollar-per-year morality (or law, depending upon
what country you live in) enforcement project.
     Look.  You have the tool to set your own exit policy in the ExitPolicy
statement(s) in the torrc file.  If you think that's too much work, then don't
run an exit server.  Your exit policy is your responsibility.  Don't expect
others to figure out what sort of policy you want and then to expend enormous
amounts of resources to implement it for you.
     And, seriously, please don't top-post.  It makes the thread difficult
to follow.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-07-21 03:12:16
@_author: Scott Bennett 
@_subject: Tor takes too much RAM 
On Sat, 21 Jul 2007 00:33:28 -0700 Ben Wilhelm      Thanks.
     Ah.  So free(1) is a LINUX thing...
...as is /proc/meminfo.
     Does LINUX have vmstat(8)?  Or swapinfo(8)/pstat(8)?  In any case,
it must have ps(1), which should give some sort of breakdown of what tor
is using.
     So how was your system affected?  Was there heavy paging going on?
Or worse, swapping?  Those are what one would expect when there is a lot
of contention for the available page frames.
     Yes, that did look like a pretty bad memory leak.  I'm running 0.1.2.14
on a FreeBSD 6.2-STABLE system and have yet to observe any such problem, so
I guess I've gotten off even easier.  Right now it's using ~33.5 MB, though
I've sometimes seen it using as much as ~47 MB.  I don't see it climb higher
than that, though, and those sizes don't cause a problem on a 1 GB system.
Right now, Xorg is using 190 MB virtual, but the working set is only 83.4 MB.
     Maybe some option is active in tor when it's compiled under LINUX that has
a memory leak bug.  If that option is not used under other operating systems,
then users of other systems wouldn't see the problem.  I know the memory
leak(s) in Firefox cause me a lot of grief.  Maybe it has been fixed in the
new version (0.1.2.15)?
     Best of luck with it.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-07-21 04:46:23
@_author: Scott Bennett 
@_subject: Tor takes too much RAM 
On Sat, 21 Jul 2007 01:30:46 -0700 Ben Wilhelm                                        ^    ^
     *Any* swapping is bad, definitely.  The FreeBSD vmstat doesn't show
swapping, but it does show paging:
[hellas] 136 % vmstat
 procs      memory      page                   disk   faults      cpu
 r b w     avm    fre  flt  re  pi  po  fr  sr ad0   in   sy  cs us sy id
 3 0 0  347452 320948  316   0   0   0 305  32   0  449 2026 1591 55 15 31
     Not so.  A memory leak is a bad thing.  It is likely to affect smaller
systems, like yours, sooner than larger systems, like Olaf's.  Some programs
suffer from another problem that causes similar symptoms, namely, poor
garbage collection algorithms.  The result is similar in that one ends up with
lots of memory allocated, very little of which is in use.  What is in use ends
up scattered throughout the allocated memory, leading to access patterns that
are pathological in a virtual memory system.  I don't know which might be the
problem in this case.
     So 136 MB is probably a good approximation to the working set size, given
the page frame contention problem you've described.
     Well, a "vmstat 2", for example would print out a fresh line every two
seconds, which would show you the swapping activity, if any.  Not sure how you
would display paging activity.  FreeBSD also has systat(1), which has a number
of updating displays from which to choose, including its own idea of vmstat,
which shows all sorts of memory, paging, and swapping statistics, as well is
interrupt counts, namei() activity, and some baskic CPU and I/O statistics.
It's really invaluable for keeping track of what is going on inside a system.
     Very strange.  Let us know how 0.1.2.15 acts.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-07-21 05:20:00
@_author: Scott Bennett 
@_subject: Blocking child pornography exits 
On Sat, 21 Jul 2007 04:49:17 -0400 "Ron Wireman"      Well, it isn't, unless perhaps you've been using tor yourself to view
such web sites.  You would need to have process logs from a large enough
number of exit servers (or their ISPs) in order to find out the addresses
of sites accessed via tor.  Then you would have to look at those sites
yourself in order to find out what was on them.  I'll grant that you could
do reverse DNS lookups to eliminate places (e.g., NY Times web site) that
obviously aren't what you're looking for.  If you had ISP logs, then the
full HTTP requests would be there, which would save you some time and would
show exactly which pages had been fetched from each site.
     But unless you already had a list of the kind of sites you're worried
about, you could spend hundreds of person-years checking out all those web
     Not AFAIK.  It blocks exits for whatever ports you tell it to block exits
for.  The sample torrc that comes with the package has several example lines
that you can uncomment or that you can simply use as examples for syntax when
writing your own ExitPolicy statements.  One of those may be an "ExitPolicy
reject *:25", but it starts out, IIRC, having only an "ExitPolicy reject *:*"
statement uncommented for those who want to dabble in running a middleman-only
     On the contrary, it's like anything else:  take personal responsibility
for your own actions.  Don't look at child pornography web sites.  If
you are concerned about exits from your tor server, then establish an
appropriate exit policy.  If that means you decide to "reject *:*" (i.e.,
not run an exit server, then so be it.  I don't know why you have thus far
failed to set up an exit policy that you consider to be appropriate.
     How so?  Does Chuck E. Cheese provide free Internet access?  I'm sorry,
but you've lost me here.  I don't see how viewing web sites through tor
turns criminals loose in restaurants.
     Looking back through the above, I see four times that the use of
the ExitPolicy statement has been pointed out to you.  You appear to
have ignored it and are still demanding that someone else do it for
you.  I've had enough, so no more replies from me on the matter.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-07-21 11:52:09
@_author: Scott Bennett 
@_subject: Blocking child pornography exits 
On Sat, 21 Jul 2007 06:42:04 -0700 Ben Wilhelm      Okay, I wasn't aware of that.  How many servers do you think might have
no uncommented ExitPolicy statements?  As I pointed out before, the sample
torrc has "ExitPolicy reject *:*" uncommented, plus a few examples that are
commented.  People who make no changes to the exit policy section of the
sample torrc will run their servers as middleman servers.  So the question is,
how many servers are running as exit servers with the hard-coded default
exit policy in effect?
     Looks reasonable.
     Of course.  tor's raison d'etre is certainly not to encourage snooping
at the content of transmissions.
     It's worth pointing out that PGP and GPG could be used, as well, to
further the interests of child pornographers, yet that is not a reason to
call for code to be added to those programs to look for child pornography
in the files they process.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-07-03 06:50:50
@_author: Scott Bennett 
@_subject: two unseemly tor behaviors 
I just subscribed to this list, so if the matters I bring up in this
message have already been discussed and settled, please just let me know
the results.
     There are two behaviors of tor running as a server that have been
bothering me.  The first is the response to SIGINT w.r.t. the ShutdownDelay
value set in torrc.  (I currently run 0.1.2.14, in case it matters, but the
bahaviors I'm complaining about here have been unchanged for at least several
releases of tor.)  After SIGINT is received, tor refuses to allow the creation
on new circuits through it, so the number of circuits begins to decrease by
attrition.  However, even if all circuits have been closed and traffic has
decreased to zero, tor does not exit until ShutdownDelay seconds have passed
since receipt of SIGINT.  Is there some legitimate reason for this?  I mean,
if I need to shut down a server, I usually want to take care of that reason
and then get the server back up again ASAP.  I usually keep ShutdownDelay set
to about 20 minutes in hopes that most/all activity through the server will
cease, so that the shutdown will not break circuits belonging to other people
     The ShutdownDelay behavior is a nuisance, but the other behavior that
has been irritating me is really unforgiveable.  When SIGHUP is received to
cause tor to reread torrc, if any errors are found, tor exits very
gracelessly, leaving circuits broken and users around the world disgusted
with tor as being unreliable software.  I cannot think of any excuse for this.
If an error occurs during the parsing of torrc, the error messages should be
logged, but either the offending line(s) of torrc should be ignored or the
updated torrc as a whole should be ignored and the configuration left unchanged
until the next time SIGHUP is received or until tor is next started.
     A few days ago, I fetched the page at torstat.xenobite.eu.  To my surprise,
it listed not a single tor server as stable.  A document recently appearing at
tor.eff.org (I think the one on the v3 directory protocol may have been it)
said that from now forward tor servers will have to be up and running for 30
days to be considered stable.  Having the tor servers crash from typos in the
updates to torrc can make it difficult to have "stable" servers.  Can this be
easily fixed?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-07-03 12:33:04
@_author: Scott Bennett 
@_subject: two unseemly tor behaviors 
Okay.  Thank you for the reply and the information.  I don't know when
I'll have a chance to dig into tor source code, but if I do, I'll take a look.
Seems like it ought to be something fairly simple to do.
     I'm sorry, but I cannot agree.  How is crashing a running server better
than somebody missing a message?  After all, sending SIGHUP is a manual
operation anyway, so it is reasonable to assume that the person doing it is
already paying attention to what he/she is doing, including watching the log.
Leaving the configuration unchanged strikes me as a far better thing.
Immediately at best (the case of someone paying attention) or eventually at
worst (someone not paying attention) the person involved will learn of the
error this way, too, but without inconveniencing all those users whose circuits
get broken at present.  Also, logging the error messages is *not* silently
ignoring the errors.  tor actually seems to be pretty good about logging
intelligible error messages.  "Silently ignoring" would mean *not* issuing
error messages.
     I think anyone who has been patiently waiting for a download to complete
over tor circuit that creeps along at the common tor circuit speed of ~3KB/s
would appreciate more reliable circuits that give a better chance that the
download *will* complete, rather than die 90% of the way through because
someone typed a semi-colon instead of a colon in torrc.
     Okay, that is a useful tool, and I will try to remember to use it in the
future.  However, it still provides no direct protection to a running tor
server or its current circuits against typos.
     Oh.  Okay.  Thanks for the link to your explanation.
     It does some.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-07-14 03:57:48
@_author: Scott Bennett 
@_subject: active connections when hibernating 
On Fri, 13 Jul 2007 14:59:44 -0700 "Michael_google gmail_Gersten"
     But those are client-side connections.  When routers connect to other
routers, they tend to keep those connections open.  As I understand it,
this not only avoids the unnecessary overhead of tearing down and setting
up new connections to the same places repeatedly, it provides another
obstruction to anyone trying to do traffic analysis.
     BTW, please do *not* top-post.  It makes it much more difficult to
follow the discussion in a thread.  Use an editor, and intersperse your
comments/responsses in the appropriate places.
     Again, that shouldn't be true of router-side connections.
     The client is supposed to continue to maintain some circuits, so
that some will be ready for use anytime the client should come to need
them.  Because circuits are old after ten minutes, no new connections
are made through them, and they are torn down when the last connection
through them is closed.  In order to keep circuits available, the client
therefore must keep building new circuits from time to time to replace
the ones that get aged and closed.
     Then perhaps there is something wrong with your network connection
that it breaks all circuits from time to time.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-07-14 16:26:23
@_author: Scott Bennett 
@_subject: What happens when I shut down my Tor-server? 
On Sat, 14 Jul 2007 20:49:24 +0200 "Alexander W. Janssen"
     From the man page:
       Tor catches the following signals:
       SIGTERM
              Tor will catch this, clean up and sync to disk if necessary, and
              exit.
       SIGINT Tor clients behave as with SIGTERM; but Tor servers  will  do  a
              controlled  slow shutdown, closing listeners and waiting 30 sec-
              onds before exiting.  (The delay  can  be  configured  with  the
              ShutdownWaitLength config option.)
Skipping your questions, I pose the following ones.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-07-14 16:36:09
@_author: Scott Bennett 
@_subject: What happens when I shut down my Tor-server? 
^^^^^^^^^^^^^
                          ^^^^^^^^^^^^^ I guess I can't read either.  Should
                                        have read "ShutdownWaitLength".  Sigh.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-01 01:29:05
@_author: Scott Bennett 
@_subject: peculiar 0.2.0.9-alpha behavior this a.m. 
On Wed, 31 Oct 2007 23:30:05 -0400 Nick Mathewson      Sure.
     Okay.  However, unless the problem recurs while that is going on,
I'm not sure what help it will be.  Keep in mind that it has only happened
on my system once so far with *any* version of tor that I've run, so it's
quite possible that it may never happen again.
     How about also logging whatever made tor decide that the information
was out of date in the first place?  The first sign of the problem was the
log message:
Oct 31 02:51:21.091 [notice] Our directory information is no longer up-to-date enough to build circuits.
That doesn't tell me what the triggering event was.  Had it just downloaded
a network status document that caused it to believe that the information was
too old?  What timestamp did it use from whatever source to determine that
the information was out of date?
     Thanks much!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-17 11:48:45
@_author: Scott Bennett 
@_subject: court trial against me - the outcome 
On Sat, 17 Nov 2007 12:26:07 -0500 "Wilfred L. Guerin"
 top-posted, so as to make it more difficult
to understand what he was referring to:
     I thought Mirko made it perfectly clear.  He has been running an
exit server.  Some credit card fraud artist did his/her thing via that
exit node, providing stolen identity information to amazon.de, which
logged the IP address of the exit node.  The exit node operator, Mirko,
was then accused of committing the fraud.  The court was uninterested in,
and/or incapable of comprehending, explanations of why Mirko was as
innocent as his ISP.
     What the hell are you writing about?  Just go back and reread
Mirko's description of what happened.  You might also read some tor
documentation before spouting off like that.
     As reiterated above, the source IP address from which amazon.de
and the prosecution claim that the fraudulent transaction originated
was, in fact, not the true source, but rather Mirko's exit server's
IP address.  (Note that it is an IP address, not an "ip".)
     Define "mixer".  In terms of computer software, "mixer" to me means
a program that allows one to control volumes of audio inputs and outputs.
     Don't top-post.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-05 00:57:33
@_author: Scott Bennett 
@_subject: "Our directory information is no longer up-to-date enough to build circuits." problem logged 
This problem has now recurred twice for me with 0.2.0.9-alpha.  The first
time I had forgotten to set the log level to "info", so I didn't get the
information that Nick wanted.  This time, though, I got it.  If Nick or Roger
will let me know a) how much of the log before the first problem message
appeared they would like to see and how much after and b) where to send it, I
can send that much of the log as a gzip-ped attachment.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-19 20:30:59
@_author: Scott Bennett 
@_subject: 20090101... -> Dnemark 
On Mon, 19 Nov 2007 16:12:04 -0800 (PST) algenon flower
     Good grief!  How wide a window do you type in?
     Not exactly.  If you think back a bit, you may recall, for example, that
France banned the use of any encryption that did not provide a back door for
the government.  In the U.S., the trend was certainly in that direction, but
our hero (or should I say, "savior"), Phil Zimmermann, made that avenue much
more difficult and less practical for this government.  There are plenty of
other anti-privacy nastinesses that first appeared (outside of outright
tyrannies like the remaining communist countries) in Europe.  Nevertheless,
you would be justified in recognizing the U.S. government as the most powerful
and dangerous crime syndicate on earth today and aiming for privacy from its
eyes in order to achieve adequate privacy from all other eyes.
     PGP, tor and associated programs, and the whole group of SSL-based
utilities (including, obviously, the SSH-oriented utilities) are wonderfully
complementary, but still incomplete.  We still need, for example, modifications
to sendmail and Sendmail.mc to allow sendmail to a) run as a tor hidden
service, knowing its own address to be a .onion address and b) recognize and
correctly route mail addressed to .onion addresses.  The latter may require
writing another delivery agent to which sendmail would pass .onion-addressed
messages, but it might not be too difficult to modify an existing one, say, the uucp/uucpd package, to do the job.  Such a setup would allow mail to travel
Because the .onion mail box sites would all be offered via tor's hidden
service facility, mail could enjoy the best anonymity available.  If the
persons using such facilities were also to use PGP encryption for their
messages, then it would be possible to set up entirely hidden email exchanges
(i.e., hidden from outside eyes on the Internet at large, as well as the eyes
of the hidden service providers).
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-20 08:32:38
@_author: Scott Bennett 
@_subject: server incorrectly believes IP address has changed 
I restarted my tor server a couple of hours ago, and since then, it has
been acting very peculiarly.  Here are the notice-level log file entries since
startup.  Note that I deleted cached-descriptors and cached-descriptors.new
after shutting down tor and before shutting down the system several hours prior
to this startup.
Nov 20 06:29:05.896 [notice] Tor 0.2.0.12-alpha (r12518) opening log file.
Nov 20 06:29:05.903 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Nov 20 06:29:10.660 [notice] Your Tor server's identity key fingerprint is 'MYCROFTsOtherChild 0232 2050 5A55 0D6F DF0C 20FF 7C48 E66B A06A 49A6'
Nov 20 06:29:17.629 [notice] I learned some more directory information, but not enough to build a circuit: We have only 0/1314 usable descriptors.
Nov 20 06:29:20.027 [notice] I learned some more directory information, but not enough to build a circuit: We have only 2/1314 usable descriptors.
Nov 20 06:29:21.525 [notice] I learned some more directory information, but not enough to build a circuit: We have only 49/1314 usable descriptors.
Nov 20 06:29:22.491 [notice] I learned some more directory information, but not enough to build a circuit: We have only 98/1314 usable descriptors.
Nov 20 06:29:23.550 [notice] I learned some more directory information, but not enough to build a circuit: We have only 149/1314 usable descriptors.
Nov 20 06:29:24.726 [notice] I learned some more directory information, but not enough to build a circuit: We have only 198/1314 usable descriptors.
Nov 20 06:29:25.751 [notice] I learned some more directory information, but not enough to build a circuit: We have only 252/1314 usable descriptors.
Nov 20 06:29:26.006 [notice] I learned some more directory information, but not enough to build a circuit: We have only 252/1314 usable descriptors.
Nov 20 06:29:26.909 [notice] I learned some more directory information, but not enough to build a circuit: We have only 302/1314 usable descriptors.
Nov 20 06:29:27.859 [notice] We now have enough directory information to build circuits.
Nov 20 06:29:27.981 [warn] Nickname list includes 'yourd0f670b45a' which isn't a known router.
Nov 20 06:29:37.281 [notice] Tor has successfully opened a circuit. Looks like client functionality is working.
Nov 20 06:29:37.282 [notice] Now checking whether ORPort 66.225.36.5:995 and DirPort 66.225.36.5:443 are reachable... (this may take up to 20 minutes -- look for log messages indicating success)
     Note that the above address was incorrect.  The correct address was, and
still is, 66.225.42.30.  It has not changed since before the system was
Nov 20 06:30:33.280 [notice] Your IP address seems to have changed. Updating.
Nov 20 06:30:51.123 [notice] Self-testing indicates your ORPort is reachable from the outside. Excellent. Publishing server descriptor.
Nov 20 06:30:56.775 [notice] Performing bandwidth self-test...done.
Nov 20 06:30:59.538 [notice] Self-testing indicates your DirPort is reachable from the outside. Excellent.
Nov 20 06:31:39.584 [warn] We just marked ourself as down. Are your external addresses reachable?
Nov 20 06:55:32.625 [notice] We tried for 15 seconds to connect to '[scrubbed]' using exit 'Unnamed'. Retrying on a new circuit.
Nov 20 06:55:47.924 [notice] We tried for 15 seconds to connect to '[scrubbed]' using exit 'Unnamed'. Retrying on a new circuit.
Nov 20 06:56:06.538 [notice] We tried for 15 seconds to connect to '[scrubbed]' using exit 'fissefjaes'. Retrying on a new circuit.
Nov 20 06:56:54.155 [notice] We tried for 15 seconds to connect to '[scrubbed]' using exit 'TFTor'. Retrying on a new circuit.
Nov 20 06:56:54.157 [notice] Tried for 121 seconds to get a connection to [scrubbed]:80. Giving up.
Nov 20 06:57:04.521 [notice] We tried for 15 seconds to connect to '[scrubbed]' using exit 'Unnamed'. Retrying on a new circuit.
Nov 20 06:57:04.525 [notice] We tried for 15 seconds to connect to '[scrubbed]' using exit 'Unnamed'. Retrying on a new circuit.
Nov 20 06:58:39.288 [notice] We tried for 15 seconds to connect to '[scrubbed]' using exit 'TorNetwork'. Retrying on a new circuit.
Nov 20 06:58:44.334 [notice] We tried for 15 seconds to connect to '[scrubbed]' using exit 'TorNetwork'. Retrying on a new circuit.
Nov 20 07:15:04.708 [notice] Your IP address seems to have changed. Updating.
Nov 20 07:15:28.734 [notice] Self-testing indicates your ORPort is reachable from the outside. Excellent. Publishing server descriptor.
Nov 20 07:30:19.742 [notice] Your IP address seems to have changed. Updating.
Nov 20 07:30:38.206 [notice] Self-testing indicates your ORPort is reachable from the outside. Excellent. Publishing server descriptor.
Nov 20 07:30:49.831 [notice] Self-testing indicates your DirPort is reachable from the outside. Excellent.
Nov 20 08:00:49.710 [notice] Your IP address seems to have changed. Updating.
Nov 20 08:01:06.195 [notice] Self-testing indicates your ORPort is reachable from the outside. Excellent. Publishing server descriptor.
Nov 20 08:20:49.474 [warn] Your server (66.225.36.5:443) has not managed to confirm that its DirPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
     Note that it has reported using the wrong address again.  The address
shown is the one that was in use before the system was shut down several hours
earlier.  (I use the free service of dyndns.org to yield the current IP address
for the host+domain name coded in the torrc file.)
     I'm going to shut tor down and restart it, but it would be really nice to
know what went wrong and how to avoid it in the future.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-20 13:52:43
@_author: Scott Bennett 
@_subject: server incorrectly believes IP address has changed 
On Tue, 20 Nov 2007 16:59:24 +0100 Csaba Kiraly      As stated in the text you top-posted, if you had read it, I specified
a host+domain name in torrc.  That host+domain name combination is updated
at dyndns.org upon system startup and within ten minutes of any change.  I use inadyn to test and update the dyndns.org name server data base.
     I run FreeBSD 6-STABLE.  There is no entry in /etc/hosts because
before querying name servers.  An entry in /etc/hosts for the chosen
host+domain name combination at dyndns.org would defeat the purpose of
using inadyn and the dyndns.org service.  Although I have not spent time
to familiarize myself with the tor source code, especially since I have
yet to encounter written documentation of its internal structure, I am
not an idiot.  I have also been doing UNIX system administration for two
     nslookup is a pain in the butt.  I normally use dig.  In any case,
as stated in the text that you ignored, the IP address had not changed.
Therefore it had not been altered at dyndns.org.  And, yes, I did check.
The address had not changed at dyndns.org, and it had not changed here.
The ADSL modem+router's log showed only the initial PPPoE exchange that
resulted from plugging it in.  If the IP address had changed, all of that
would have had to appear in the modem+router's log.
     tor has now been up and running for just over five hours since I
stopped and restarted it because of the problem.  There has been no
recurrence during this time.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-20 15:34:16
@_author: Scott Bennett 
@_subject: server incorrectly believes IP address has changed 
On Tue, 20 Nov 2007 20:37:25 +0000 Robert Hogan      Actually, according to the documentation, the guessing he referred to
happens when "Address" is not provided in torrc, which is quite a different
matter from specifying an Address in host+domain name form.
     cached-routers and cached-routers.new are not the file names used in
0.2.0.12-alpha, but rather cached-descriptors and cached-descriptors.new, and
 ->     I restarted my tor server a couple of hours ago, and since then, it has
 ->been acting very peculiarly.  Here are the notice-level log file entries since
 ->startup.  Note that I deleted cached-descriptors and cached-descriptors.new
 ->after shutting down tor and before shutting down the system several hours prior
 ->to this startup.
     Yes, the ISP has a limited list of IP addresses that it assigns, so the
same addresses do recur frequently.  In this case, I noted,  ->Nov 20 06:29:37.282 [notice] Now checking whether ORPort 66.225.36.5:995 and DirPort 66.225.36.5:443 are reachable... (this may take up to 20 minutes -- look for log messages indicating success)
 ->
 ->     Note that the above address was incorrect.  The correct address was, and
 ->still is, 66.225.42.30.  It has not changed since before the system was
 ->rebooted.
     I thought the point of specifying a host+domain name in the "Address "
line was to get tor to *look it up in the name server net*.
     In that case, I apologize.  I took offense at the comments that appeared
to ignore what I had written, while taking a very condescending tone and
assuming I hadn't done the obvious checking before posting.
     And it is still running with no sign of trouble.  However, it occurs
to me that when I stopped tor and restarted it in hopes of getting rid of
the bad behavior, I neglected to re-delete cached-descriptors and
cached-descriptors.new, so perhaps the aberrant activity is related to
starting up and finding no cached-descriptors* files.  I have often deleted
them before starting tor in order to reduce the volume of long-obsoleted
descriptors.  tor doesn't seem to replace the old ones with the new ones,
but rather tends to accumulate a large number of obsolete descriptors before
eventually partially cleaning up the files.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-20 23:55:46
@_author: Scott Bennett 
@_subject: server incorrectly believes IP address has changed 
On Tue, 20 Nov 2007 22:31:24 +0000 Robert Hogan      It wasn't.  I got rid of cached-routers{,.new} after installing the first
version that used the new names.
     I still don't understand why tor did *not* look it up while starting.  If
it had looked up the name, it would have gotten the correct address.
     BTW, it is still running fine since I restarted it at 08:33 this morning
to get rid of the weird behavior, which I did without again deleting the
cached-descriptors{,.new} files.  What exactly does tor do differently about
its own address when those files are not present at startup?  I.e., what is
it doing differently in that situation that it fails to look up the IP address
Address mars.thruhere.net
that is in the torrc file while starting up?
     Note to Robert Hogan:  the copy addressed to you of my previous
message bounced.  Here are the errors, indented by a blank:
    ----- The following addresses had permanent fatal errors -----
     (reason: 550-Verification failed for )
    ----- Transcript of session follows -----
 ... while talking to roberthogan.net.:
 >>> DATA
 <<< 550-Verification failed for  <<< 550-Called:   131.156.68.41
 <<< 550-Sent:     RCPT TO:
 <<< 550-Response: 550 5.7.1 ... Access denied
 <<< 550 Sender verify failed
 550 5.1.1 ... User unknown
 <<< 503-All RCPT commands were rejected with this error:
 <<< 503-Sender verify failed
 <<< 503 Valid RCPT command must precede DATA
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-21 09:11:36
@_author: Scott Bennett 
@_subject: tor server thinks IP address changed twice when it did not change 
This a.m. my miserable ISP did its daily thing of forcing a disconnection
and re-login of the router here, and as usual, a different IP address was
assigned.  The relevant entries in /var/log/messages are:
Nov 21 06:30:17 hellas INADYN[1162]: I:INADYN: IP address for alias 'mars.thruhere.net' needs update to '66.225.36.39'
Nov 21 06:30:17 hellas INADYN[1162]: I:INADYN: Alias 'mars.thruhere.net' to IP '66.225.36.39' updated successful.
     Within a few minutes, tor noticed, too:
Nov 21 06:40:38.063 [notice] Your IP address seems to have changed. Updating.
Nov 21 06:40:43.366 [notice] Self-testing indicates your ORPort is reachable from the outside. Excellent. Publishing server descriptor.
Nov 21 06:40:59.339 [notice] Self-testing indicates your DirPort is reachable from the outside. Excellent.
Nov 21 06:41:45.066 [notice] Performing bandwidth self-test...done.
     However, a while later and completely unnecessarily, tor did this:
Nov 21 07:56:52.311 [notice] Your IP address seems to have changed. Updating.
Nov 21 07:56:53.403 [notice] Self-testing indicates your ORPort is reachable from the outside. Excellent. Publishing server descriptor.
Nov 21 07:57:55.025 [notice] Your IP address seems to have changed. Updating.
Nov 21 07:57:59.599 [notice] Self-testing indicates your ORPort is reachable from the outside. Excellent. Publishing server descriptor.
Nov 21 07:58:02.279 [notice] Self-testing indicates your DirPort is reachable from the outside. Excellent.
Nov 21 07:58:16.929 [notice] Have tried resolving or connecting to address '[scrubbed]' at 3 different places. Giving up.
Nov 21 07:58:16.965 [warn] We just marked ourself as down. Are your external addresses reachable?
     Meanwhile, the connection was good the whole time, tor traffic was being
relayed, and the IP address remained unchanged since the previously noted
event.  In the slightly more than an hour that has passed since the weirdness
occurred between 07:56 and 07:59, tor has continued to run, answering directory
requests and passing traffic.
     So it looks like there is a bug involved here, and it apparently does
not depend upon starting up with no cached-descriptors* files.  Does anyone
working on tor development recognize these symptoms?  Or is this something new?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-21 20:25:40
@_author: Scott Bennett 
@_subject: tor server thinks IP address changed twice when it did not change 
Thanks for writing back.
     That's what it looks like, except that a) it didn't change, and b) even
if it had, it would take up to ten minutes for inadyn to check it, find it had
changed, and then update the name servers, and then tor would take several more
minutes to notice that the name resolved to a new address.  ~61.5 seconds is
just not long enough.
     The thing is, if the address really had changed, all the open connections
would be dead meat, just as happens every time my f***ed up ISP forces a
disconnection and then assigns a new address when the router reconnects. :-(
     The only reason I thought it might be related was that 0.2.0.12-alpha
began screwing up right away when it was started without those files, and
at the time at least, it didn't screw up right away when started with those
files.  Apparently, that was just a matter of coincidental circumstance.
     Hmmm...yes, it looks like there are five NS RRs for it.
     Well, the only problem with that is that the TTL on the A RR is only
60 seconds, so the wrong address should not have been returned more than
an hour after inadyn had updated the address on the name servers.
     I have no idea.  It did it two runs in a row, but once was right away,
and once was nearly a day after startup.
     Okay.  I have it logging at "info" for now.  I hope it does it soon,
though, because even info-level logging is quite voluminous, as I discovered
on 0.2.0.9-alpha's "out of date" problem.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-05 07:03:14
@_author: Scott Bennett 
@_subject: "Our directory information is no longer up-to-date enough to build circuits." problem logged 
Oh, good.  Glad to know that.
     I don't have subversion installed and have never used it, so I think
I'll wait for the next snapshot.  Will "info" still be the log level needed
to get the information you and Nick want?  It's awfully verbose, so if the
new logging stuff you've added is tied to the message about an out-of-date
directory, could it maybe be issued at the "notice" level?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-28 19:22:46
@_author: Scott Bennett 
@_subject: court trial against me - the outcome 
On Mon, 26 Nov 2007 16:46:03 -0800 "F. Fox"      Where did you get that idea?  In all countries with juries modeled upon
or descended from the English common law juries, nullification is still an
option available to juries.  Moreover, it is the *duty* of jurors to exercise
it in appropriate situations.  The U.S. is a special case of such countries
in that an acquittal is final and unreviewable by any court.  The "no double
jeopardy" clause of Amendment VII to the Constitution for the United States
of America was put there to prevent retrials of charges against persons for
which those persons have been acquitted, an abuse that still goes on today
in Canada and England.  Nevertheless, jury nullification is a legitimate
duty of jurors in standing between the state and the individual, in which
the state must get the permission of a cross-section of the populace to
administer punishments, to prevent abuses, even in countries where the state
can keep retrying its victims with jury after jury until it finds a jury that
will convict.  The delays and expense involved can keep an innocent person
alive at least that much longer and may eventually cause the state to give up
its prosecution of the charge(s) against that individual.
     Colonial juries often protected colonists against the Crown's abuses,
which lead to creation of courts of admiralty (known today as administrative
law courts, now unconstitutional yet upheld by the U.S. Supreme Court), which
did not use juries.  I gather that such courts resemble the court that Mirko
faced in Germany.  I don't know enough about Germany's judicial system to know
whether any trials there use juries of peers today, but it is noteworthy that
the 1500-year-old English tradition of trial by peers was brought to England
by the Saxons.  If it no longer survives in Germany, then that is tragic.
     In any case, tor server operators in the U.K., the U.S. of A., Canada,
and Australia need to be informed of their rights should they ever serve on
juries.  Although a prosecutor might eliminate them from a jury trying a case
against another tor server operator, it is entirely possible that the
prosecutor might not think to ask the potential jurors whether they knew about
tor.  It is also in the interests of tor server operators in these countries
to help spread the information about jurors' rights throughout the general
populations to increase the chances of getting at least one informed juror
selected to serve as a juror in any particular trial of a tor server operator.
     Naturally, the peoples of the various countries have their own views of
the laws of their countries, and those views may agree or disagree with the
views of prosecutors in those countries.  Where juries of peers are trying
the cases, juries have the power and the duty to correct the prosecutors.
In the U.S., juries successfully undermined the Fugitive Slave Act, alcohol
prohibition, and other abuses by refusing to convict, thereby refusing to
confirm the actions of the Congresses that had passed those Acts.  If this
option is not available to the people of Germany, then they may wish to
reconsider, and possibly revise, the current form of their judicial system.
     After all, governments only legitimately exist to serve the People.
When and where they are not serving the People, they are obviously
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-29 19:05:00
@_author: Scott Bennett 
@_subject: court trial against me - the outcome 
On Thu, 29 Nov 2007 13:10:43 -0700 mark485anderson at eml.cc wrote
     Agree with what?  Some context would help here.
     Laura Kriho was definitely victimized by both judge and prosecution.
My recollection is that she was not jailed for more than a few hours at
most, but that memory could be faulty.  The judge took many months to get
around to issuing a decision.  Colorado law places a time limit upon judges
for such decisions.  If the time limit is exceeded, the law says the judge
forfeits his/her salary for that quarter and must return the money to the
state.  AFAIK, Judge Nieto never returned the money and is probably guilty
of defrauding the state of Colorado or some similar charge, but he will
not likely ever be prosecuted or removed from office for his offenses.
     As tyranny advances, it becomes more painful for those who would
resist it.  If the tyrants are not corrected, then eventually their policies
toward resisters become so draconian that a majority of the people finds
the situation intolerable.  What happens next after that is always a gamble.
Like going to the dentist to get the cavities filled before they get so bad
that they necessitate extracting the teeth, it is better to resist like
Laura Kriho did when resisting is not life-threatening than to let the
situation deteriorate to the point where the situation *becomes* life-
     You will recall that the Founders left us four boxes to use in defense
of our freedom, right?  There are many countries wherein the People are
denied all of those boxes, so we in the U.S. are among the fortunate.  It
is up to us to use those boxes as needed and as appropriate.  Box  appears
to have been circumvented at last by one branch of the War Party, and the
other branch is undoubtedly beside itself with desperation to gain the use
of the same technology.  That still leaves us boxes  and  to use for
now.  tor is one technology that helps us to hang onto that first box.  PGP
is another.
     I hope that we don't have to open box  but it may well be that
some individuals have already opened it once or twice in recent years.  We
do have the historical record of the Battle of Athens that occurred shortly
after the end of World War II, so we know that it has happened on a larger
scale within living memory as well, but that sort of thing really has to be
the last resort.  Use tor, and stay informed!
[stepping down from box                                   Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-06 00:19:44
@_author: Scott Bennett 
@_subject: no traffic? 
While logging at "info" per Nick's request for the out-of-date directory
bug in 0.2.0.9-alpha, I saw thousands of the second message above.  I'm running
0.2.0.9-alpha on FreeBSD 6.2-STABLE.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-06 07:17:30
@_author: Scott Bennett 
@_subject: first hop to entry node, encrypted? sorry for trivial question 
On Tue, 6 Nov 2007 10:12:58 +0000 Dave Page      The above is incorrect.  tor, whether client or server, expects
incoming connections to be encrypted.  tor's client side expects SOCKS
for incoming connections, and SSL is used elsewhere.
     The connection from a web browser does not go to tor, but rather
to some intermediary, e.g., privoxy.  That intermediary uses SOCKS,
preferably 4a (tor doesn't yet support 5), to connect to tor.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-06 14:53:32
@_author: Scott Bennett 
@_subject: first hop to entry node, encrypted? sorry for trivial question 
Oops.  I must have gotten my brain in backward when I posted the response
that Dave Page  was asking about above.  I should
have just gone to sleep.  Sorry about that.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-01 06:46:11
@_author: Scott Bennett 
@_subject: peculiar 0.2.0.9-alpha behavior this a.m. 
On Thu, 1 Nov 2007 11:17:48 +0100 Fabian Keil
     I ran "portinstall -vP vidalia".  The port version is 0.0.11_1.  That
may be somewhat dated.  I haven't run portsnap since the freeze for X.org 7.2.
6.9 runs okay, and I didn't feel like subjecting myself to the kind of
quagmire that dozens of other people were reporting on -ports after 7.2 was
made the current version.  I'm still waiting for FreeBSD 6.3 to be released,
so I can run the upgrade to 6.3, which will supposedly take care of all the
X.org update stuff for me without all the pain.
     The ports system in FreeBSD always seems to be FreeBSD's Achilles's Heel;
i.e., it's very fragile and has broken on me more than once since moving to
6.x.  Even so, that has been an improvement over 5.x, where once it broke, it
stayed broken until I did a clean installation of 6.1.
     That will have to wait for 6.3-RELEASE on my system.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-07 17:10:55
@_author: Scott Bennett 
@_subject: "Our directory information is no longer up-to-date enough to build circuits." problem logged 
On Wed, 07 Nov 2007 18:28:45 +0100 "vikingserver at gmail.com"
     Another top-poster.  Sigh.  I'm leaving in the content you deemed
irrelevant as context (i.e., Roger's message) for your message because I'm
interested in getting the problem resolved.  It has already crippled my tor on
at least five occasions in the very short time that 0.2.0.9-alpha has been out.
     It doesn't look like mine, either.
     Right, and the "learned more info" message looks like:
Nov 04 21:50:42.351 [notice] I learned some more directory information, but not enough to build a circuit.
The message above doesn't say anything about having only so many out of so many
more descriptors.
     Maybe he could take another look.  I still have a info-level log file
saved in case he or you would like some or all of it.  Another difference
is that the "no longer up-to-date" message only occurs at most once per
execution of tor, the startup messages notwithstanding.  The example in the
bug report mentioned above shows that message repeating only a few minutes
after the first problem occurrence.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-08 07:02:53
@_author: Scott Bennett 
@_subject: suspicious log warning messages 
Last night my tor server logged some unexpected messages.  I've waited
about twelve hours to see whether any relevant discussion appeared on this
list.  Thus far, it hasn't, so I'm posting them here in hopes that someone
will explain what he/she was doing.
Nov 07 17:31:22.181 [warn] Unable to load consensus directory dowloaded from server '86.59.21.38:443'
Nov 07 17:33:23.059 [warn] Unable to load consensus directory dowloaded from server '86.59.21.38:443'
Nov 07 17:43:32.514 [warn] Consensus includes unrecognized authority 'ides' at 216.224.124.114:9030 (contact Mike Perry ; identity 27B6B5996C426270A5C95488AA5BCEB6BCC86956)
Nov 07 17:43:32.515 [warn] 1 unknown, 0 missing key, 1 good, 0 bad, 1 no signature, 2 required
Nov 07 17:43:32.516 [warn] Not enough good signatures on networkstatus consensus
Nov 07 17:43:32.532 [warn] Unable to load consensus directory dowloaded from server '128.31.0.34:9001'
Nov 07 18:14:04.693 [warn] Unable to load consensus directory dowloaded from server '86.59.21.38:443'
Nov 07 18:25:14.831 [warn] Consensus includes unrecognized authority 'ides' at 216.224.124.114:9030 (contact Mike Perry ; identity 27B6B5996C426270A5C95488AA5BCEB6BCC86956)
Nov 07 18:25:14.831 [warn] 1 unknown, 0 missing key, 1 good, 0 bad, 1 no signature, 2 required
Nov 07 18:25:14.832 [warn] Not enough good signatures on networkstatus consensus
Nov 07 18:25:14.845 [warn] Unable to load consensus directory dowloaded from server '128.31.0.34:9001'
Nov 07 18:27:15.752 [warn] Consensus includes unrecognized authority 'ides' at 216.224.124.114:9030 (contact Mike Perry ; identity 27B6B5996C426270A5C95488AA5BCEB6BCC86956)
Nov 07 18:27:15.752 [warn] 1 unknown, 0 missing key, 1 good, 0 bad, 1 no signature, 2 required
Nov 07 18:27:15.753 [warn] Not enough good signatures on networkstatus consensus
Nov 07 18:27:15.764 [warn] Unable to load consensus directory dowloaded from server '128.31.0.34:9001'
Nov 07 18:37:27.649 [warn] Unable to load consensus directory dowloaded from server '86.59.21.38:443'
Nov 07 19:07:56.753 [warn] Consensus includes unrecognized authority 'ides' at 216.224.124.114:9030 (contact Mike Perry ; identity 27B6B5996C426270A5C95488AA5BCEB6BCC86956)
Nov 07 19:07:56.754 [warn] 1 unknown, 0 missing key, 1 good, 0 bad, 1 no signature, 2 required
Nov 07 19:07:56.754 [warn] Not enough good signatures on networkstatus consensus
Nov 07 19:07:56.766 [warn] Unable to load consensus directory dowloaded from server '128.31.0.34:9001'
Nov 07 19:25:13.710 [warn] Unable to load consensus directory dowloaded from server '86.59.21.38:443'
Nov 07 19:27:16.812 [warn] Unable to load consensus directory dowloaded from server '86.59.21.38:443'
Nov 07 19:37:24.203 [warn] Consensus includes unrecognized authority 'ides' at 216.224.124.114:9030 (contact Mike Perry ; identity 27B6B5996C426270A5C95488AA5BCEB6BCC86956)
Nov 07 19:37:24.204 [warn] 1 unknown, 0 missing key, 1 good, 0 bad, 1 no signature, 2 required
Nov 07 19:37:24.205 [warn] Not enough good signatures on networkstatus consensus
Nov 07 19:37:24.221 [warn] Unable to load consensus directory dowloaded from server '128.31.0.34:9001'
No more messages of this sort have appeared since the last one shown above.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-11-08 22:47:13
@_author: Scott Bennett 
@_subject: suspicious log warning messages 
On Thu, 8 Nov 2007 10:28:30 -0500 Nick Mathewson      Fair enough.  I'm glad it was all in a good cause. :-)  Thanks, Nick,
for clearing that up.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-10-01 01:48:23
@_author: Scott Bennett 
@_subject: funneling a wireless net's outbound connections through tor 
On Mon, 01 Oct 2007 03:33:46 +0200 Juliusz Chroboczek
     I am going to do that and as soon as I can figure out how to do it
     Thank you for your opinion, but it was not particularly relevant to
what I posted.
     First, please reread what I wrote.  I will be providing a *free
wireless access* service to my neighbors.  Even if I tell them *nothing*,
they will be better off than without the service.  They do not even have
to know that it is going through any sort of anonymizing process.  Just
the fact that they will have a free, if rather pokey, service available
will be an enhancement to my neighborhood.
     Second, tor 0.1.2.2 and up are designed to do this.  See the torrc
line called TransPort.  tor 0.2.0.1 and up are designed to do this without
the earlier necessity of providing a name service proxy.  See the torrc
line called DNSPort.
     Third, you didn't even ask whether I might have already given some
thought to the matter of educating/informing my neighbors about how their
TCP connections and name server queries will be reaching the Internet and
how responses will be returned from the Internet.  I have been planning
this service for quite some time.
     Fourth, my primary motivation for running my neighbors' connections
through tor is to protect *me* from whatever *they* are doing.  The fact
that routing their connections through tor should also give *them* some
protection is a purely secondary benefit.
     I am now in the process of trying to get it to work.  If anyone knows
the answers to the questions I posted, I would still appreciate your
     That would defeat the purpose of providing free wireless TCP access
to the Internet.
     My HTTP proxy is privoxy and will continue to provide service only
to me.  It is quite possible that I will never have any direct
communication with many of my neighbors, so requiring them to reconfigure
their applications, which may include more than mere web browsers, to use
an HTTP proxy is out of the question.  It also would not be of any use
to network applications that do not use HTTP.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-10-01 10:03:54
@_author: Scott Bennett 
@_subject: funneling a wireless net's outbound connections through tor 
On Mon, 01 Oct 2007 15:19:26 +0100 Mike Cardwell      If they go to a coffee shop or other location with free wireless
access, their traffic is also subject to being modified, but at *any
and every* hop between their computer and the destination, unless they
use end-to-end encryption anyway.
     Of course.  But in my intended setup, the only places that could
happen would be in my equipment, the exit node, the destination, or the
hops between the exit node and the destination.  It's not going to happen
in my equipment because I don't do that sort of thing and wouldn't have
the time or energy to devote to it even if I did do that kind of thing.
That leaves the exit node, the destination, and the hops between them.
     If the traffic does not go through tor, then those things could
happen at any of the up to 32 hops normally allowed for a TCP connection.
I do not see how reducing the number of potential points of attack
increases the risk.
     So could anyone along the path of an ordinary, unencrypted TCP link.
Some governments apparently do this sort of thing already, most likely
including the U.S. government.
     I see.  The elitist approach to limiting use of damned good software.
Reminds me of David Sternlight claiming that there was no reason for anyone
to use PGP and therefore people shouldn't bother with it.  It was ridiculous
on its face, yet he persisted in trolling the PGP news groups with it for
years.  Do you work for the NSA by any chance?  (Like you would really say
so if you did.  Right.)
     Then perhaps you should get permission to update the tor web pages and
documentation.  After all, we wouldn't want all that general web browsing
traffic to help hide traffic that certain governments really don't want
hidden.  And I'm sure that Roger Dingledine et al. really don't want to
promote widespread use of all their hard work for something so mundane as
general web browsing.  Feh.
     Again, if someone knows the answers to the questions I've now
posted twice, please advise.  I know I can probably figure it out by
trial and error, but it would be messy, and I don't have a spare
computer at present to do that properly.  Testing it from the same computer
runs into problems with routing tables, arp responses from the wrong
interfaces, etc.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-10-14 04:36:54
@_author: Scott Bennett 
@_subject: Library Defeats Tor Followup Addl Info 
Well, at least *you* haven't changed:  you're still top-posting.
     Actually, we were responding primarily with questions, not answers
at all, in many cases in an attempt to get you to post the information
with which you should have begun the thread.  I continue that effort
     I'm not clairvoyant, so I can't read the error messages you got from
here unless you post them.
     That having been said, however, I will mention that the administrator
of this system graciously blocks most source addresses of massmail when
a) there is no functioning abuse or postmaster address at that source,
b) there is no valid MX RR for the source, or c) the source comes from
a part of the world that is currently a disaster area of massmail sources
for which reporting the massmail is nearly always a completely wasted
effort.  Attempts to send mail to users on this system from addresses so
blocked normally result in some sort of error message being returned to
the sender that provides a clue as to why the mail is being rejected.
     At least some of the people on this list do not live according to
the same schedule you live by and may have different obligations upon
their time than you have.
     Yes, that is typical.  So either wait to start tor until after you do
that, or ignore the messages that are issued up until your session is
authenticated via their web server.  I generally do the latter in those
     The private network address of the ISP's name server is usually used
as a forwarder address, and that address gets passed to your computer in
the DHCP lease.  I've forgotten exactly how to go about setting a permanent
address under Windows XP, but it should be fairly easy to do.  If you haven't
figured it out by the next time I shut down my FreeBSD system and boot WinXP,
I'll dig around in it to see what has to be changed.
     The slowdown is most likely the wait for the six-second timeout (or
however long it may be these days) before trying the next name server in
the list.  So the trick to doing that is to find the way to restrict the
DHCP client's ability to change the name server list and to set the name
server list only to those addresses you have chosen.
     Do not assume, though, that bypassing their chosen name server means
that you are safe. In the U.S., for example, an unconstitional (which is
to say, "illegal under the Supreme Law of the Land") Act of Congress
requires ISPs to keep logs of all name server queries, as well as HTTP
requests, so they are likely to log all outbound port 53 traffic, regardless
of its destination.
     Also, the /WINDOWS/system32/drivers/etc/hosts file is not the location
you're looking for.  What you need to look for is the WinXP equivalent of
a UNIX /etc/resolv.conf file.  (I've forgotten where it is or even if it is
in only one place; a quick search of my WinXP system did not turn up a file
by that name, so I'll try looking into it a bit more after I get some sleep.
I've been up about 27 hours at the moment, and it's getting hard to focus
on the screen.:-)
     Possibly.  However, if you can find the WinXP equivalent of
then you should be able to avoid sending queries to the library's name
server(s).  And if your proxy server(s) can use SOCKS4a or SOCKS5 in
connecting to tor, then the query resolutions can be obtained via the
tor network itself.
     {Already covered above.]
     Looks good.
     The above questions are, I think, still waiting to be answered.
     The second question, namely, *which* operating system, still awaits
an answer.
     This question still awaits an answer.
     This question still awaits an answer, but may no longer be important.
     I understand you to be using Firefox, though you have not specified
which version.
     FWIW, soon I intend to stop replying to top-posted followups, at least
in most cases, except when I choose to delete all of the previously posted
material that the top-poster has clearly deemed irrelevant as context for
his/her followup.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-10-01 11:13:11
@_author: Scott Bennett 
@_subject: funneling a wireless net's outbound connections through tor 
On Mon, 01 Oct 2007 16:35:29 +0100 Mike Cardwell      ...and anyone running a destination site being accessed with or
without tor, and anyone with a wireless card in a laptop in the same
public location, etc.
     Governments are incomparably more dangerous than any 13-year-old or
even ISPs.  Also, given the number of teenagers who have cracked well
funded web servers, I'd say that said teenager is still not out of the loop
without tor.
      That line would certainly be in character for Sternlight.
     I understand it fine.  I just evaluate the dangers differently from
you.  Not using tor at all is far more dangerous in my view.
     If it worries you so much, then I guess you need to convince the tor
development team to remove the support for TransPort and DNSPort.  Maybe
you should also get them to stop making tor freely downloadable from the
tor.eff.org web site, perhaps limiting downloads only to people who have
passed a course on subjects you deem pertinent, so that the great unwashed
will be "protected".
     Yet again, I'd appreciate any *helpful* information regarding my two
questions.  It would save me a lot of headaches getting to it by trial and
     BTW, I didn't come up with the idea to provide wireless service to
neighbors via tor.  I first read about it on this list, IIRC, where the
person posting the start of that thread had an old 802.11b router that he
wanted to put to use rather than add to his paperweight collection or
whatever.  I've been thinking about it ever since I first read it here.
People on this list seemed to have no problem with the idea then.  And this
time, although a couple of people have voiced their dislike of the idea,
no convincing arguments have yet been presented against the idea.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-10-30 23:57:22
@_author: Scott Bennett 
@_subject: Email sent through Tor, Problem 
On Wed, 31 Oct 2007 03:28:38 +0000 Faqeer ALI     [remainder of unnecessary garbage deleted  --SB]
     Look.  They have been asking you a question that is very simple to
answer, and you continue to obfuscate.  You need to know, at most, two
addresses to answer the question:  the IP address assigned to your system
by your ISP's {DHCP, PPPoE, PPPoA, etc.} server and the address of the
exit server used by your tor client to connect to hotmail.com's web interface
for mail.  The question is then answered by checking to see whether either
of those addresses matches the address in the header you have been claiming
reveals your IP address.  That's all they have been asking you to do.  Please
do that, or else stop wasting time and bandwidth on the list.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-10-31 03:38:18
@_author: Scott Bennett 
@_subject: some civically irresponsible exits? 
The documentation that comes with tor rather strongly suggests that exit
servers should have exit policies rejecting the SMTP port (25).  The tor
sample torrc includes this rejection as well.  This rejection of exits to
port 25 would seem to be a Very Good Thing (tm) in light of the rapidly
growing waste of Internet bandwidth in the form of massmail.
     Nevertheless, I decided a few minutes ago to take a peek at reality by
playing with the "exitlist" python script in tor-0.2.0.9-alpha/contrib.  Using
one of the IP addresses for the system on which I get most of my email, I get:
Script started on Wed Oct 31 03:27:42 2007
hellas # cat cached-descriptors*|exitlist 131.156.58.41:25|sort -n -t \. hellas # exit
Script done on Wed Oct 31 03:31:20 2007
     If any of the operators of tor exit servers at IP addresses in the
above list are subscribed to the or-talk list, I would be very interested
to know your reason(s) for providing exit service to massmailers.  It should
be noted that such practices tend to make system administrators who might
otherwise be sympathetic to tor users into avowed enemies of the tor network.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-10-31 12:24:11
@_author: Scott Bennett 
@_subject: peculiar 0.2.0.9-alpha behavior this a.m. 
[WARNING:  I've included a *lot* of log entries in this note, interspersed
with my observations and comments, so it is quite long and finding my remarks
will require careful scanning.]
     Among the various windows I keep open in X, I usually have one open for
to display them).  Early this a.m. I was startled to see suddenly appear the
following after /var/log/tor/notices.log had been silent for about twelve
Oct 31 02:51:21.091 [notice] Our directory information is no longer up-to-date enough to build circuits.
Oct 31 03:03:40.827 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:03:44.227 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:05:54.303 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:06:04.881 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:06:05.788 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:06:07.634 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:20:47.606 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:20:52.109 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:20:52.452 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:20:52.961 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:35:34.688 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:35:36.741 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:35:38.253 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:35:41.936 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:46:23.371 [notice] Tried for 120 seconds to get a connection to [scrubbed]:80. Giving up. (waiting for circuit)
Oct 31 03:49:32.305 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
     At this point, the two operations that had been trying to make connections
via the client side of tor failed.  I tried to trigger fetching a new directory
by sending a SIGHUP:
Oct 31 03:50:07.449 [notice] Received reload signal (hup). Reloading config.
Oct 31 03:50:07.514 [notice] Tor 0.2.0.9-alpha (r12180) opening log file.
Oct 31 03:50:07.515 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Oct 31 03:50:07.515 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Oct 31 03:50:43.108 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:50:59.337 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:50:59.734 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:51:00.324 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:51:00.582 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 03:51:00.844 [notice] I learned some more directory information, but not enough to build a circuit.
     tor often gives up a little too soon, so I tried again:
Oct 31 03:54:36.937 [notice] Received reload signal (hup). Reloading config.
Oct 31 03:54:37.019 [notice] Tor 0.2.0.9-alpha (r12180) opening log file.
Oct 31 03:54:37.024 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Oct 31 03:54:37.024 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Oct 31 03:55:10.687 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 03:57:51.575 [notice] Tried for 120 seconds to get a connection to [scrubbed]:80. Giving up. (waiting for circuit)
Oct 31 04:07:11.865 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:07:14.915 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:07:15.758 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:07:16.986 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:07:18.166 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:07:36.604 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:15:25.256 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 04:21:35.618 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:21:39.717 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:21:40.003 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:21:40.724 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:21:48.729 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:30:06.639 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 04:32:10.497 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:32:12.700 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:32:28.314 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:32:29.753 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:32:30.490 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 04:32:46.235 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:32:46.269 [notice] Tried for 121 seconds to get a connection to [scrubbed]:22. Giving up. (waiting for circuit)
Oct 31 04:32:48.065 [notice] I learned some more directory information, but not enough to build a circuit.
     I think it was at this point that I commented out "TunnelDirCons 1" to
see if that would help.  It didn't.
Oct 31 04:33:27.468 [notice] Received reload signal (hup). Reloading config.
Oct 31 04:33:27.506 [notice] Tor 0.2.0.9-alpha (r12180) opening log file.
Oct 31 04:33:27.507 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Oct 31 04:33:27.507 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Oct 31 04:35:48.917 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 04:36:44.038 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:36:49.051 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:36:51.498 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:36:52.241 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:36:55.695 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:36:57.063 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:37:32.755 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:37:47.504 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:37:54.934 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:38:06.177 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:38:24.898 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:38:38.167 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:39:28.196 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:40:04.041 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:41:12.912 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:41:35.135 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:41:46.091 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:42:19.571 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:42:52.537 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:43:13.710 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:44:09.192 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:44:42.050 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:45:03.472 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:45:15.105 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:45:26.749 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:45:59.982 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:46:11.349 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:46:26.169 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:47:39.834 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:47:49.654 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:48:40.582 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:48:53.625 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:49:11.845 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:49:41.115 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:51:35.295 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:52:01.944 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:52:51.400 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:52:51.728 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:53:11.379 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:53:26.939 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:53:42.337 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:53:43.225 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 04:59:31.645 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 05:05:58.680 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:05:59.164 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:07:35.998 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:07:42.081 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:07:44.548 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:07:45.168 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:08:02.309 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:10:25.229 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
     At this point, I left a while(1) loop running, attempting to tor-resolve
a name to an address once every six minutes, and I went to sleep.
Oct 31 05:18:17.736 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 05:22:50.552 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:22:57.022 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:22:57.986 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:23:06.046 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:23:09.743 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:26:20.773 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 05:34:23.469 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 05:38:46.573 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:38:57.968 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:38:59.666 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:39:06.626 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:39:07.189 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:39:25.081 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:42:26.480 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 05:50:29.998 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 05:53:17.036 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:53:21.874 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:53:37.296 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:53:54.158 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:54:36.663 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 05:58:33.058 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 06:04:36.258 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 06:04:36.891 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:06:36.948 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 06:08:08.350 [notice] Your IP address seems to have changed. Updating.
Oct 31 06:08:18.136 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:08:18.648 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:08:18.887 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:08:19.155 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:08:19.476 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:08:28.963 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:11:11.503 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 06:14:40.813 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 06:17:17.212 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 06:20:43.886 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 06:22:43.717 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 06:23:23.212 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 06:23:33.675 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:23:34.225 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:23:34.515 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:23:34.947 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:23:35.263 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:23:35.848 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:25:28.328 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:25:28.869 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:25:29.119 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:25:34.792 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:25:48.157 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:25:51.362 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:26:46.157 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:26:57.253 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:27:01.682 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:28:03.108 [notice] I learned some more directory information, but not enough to build a circuit.
     I have a customer-unfriendly ISP that insists on forcing a PPPoE logout
at least once every 24 hours, so the next few lines reflect the fact that a
new IP address was assigned to the router when it immediately logged back in.
Oct 31 06:28:08.889 [warn] Your server (66.225.36.3:995) has not managed to confirm that its ORPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 06:28:08.890 [warn] Your server (66.225.36.3:443) has not managed to confirm that its DirPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 06:28:46.825 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 06:29:08.586 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:30:04.418 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:30:46.751 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 06:35:12.551 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:36:49.940 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 06:38:48.375 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:38:49.019 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:38:49.350 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:38:49.726 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:38:49.750 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 06:38:55.663 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:39:01.304 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:39:01.502 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:39:01.981 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:39:11.272 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:40:19.529 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:44:52.946 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 06:46:52.436 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 06:48:08.650 [warn] Your server (66.225.36.3:995) has not managed to confirm that its ORPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 06:48:08.651 [warn] Your server (66.225.36.3:443) has not managed to confirm that its DirPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 06:52:55.603 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 06:54:01.550 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:54:02.056 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:54:02.375 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:54:02.683 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:54:12.161 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 06:54:55.603 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 06:55:46.295 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:00:58.770 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 07:02:58.010 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 07:08:10.444 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:08:10.464 [warn] Your server (66.225.36.3:995) has not managed to confirm that its ORPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 07:08:10.465 [warn] Your server (66.225.36.3:443) has not managed to confirm that its DirPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 07:08:10.781 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:09:01.190 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 07:09:10.722 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:09:11.650 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:09:12.071 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:09:12.365 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:09:12.622 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:09:24.912 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:11:01.356 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 07:17:04.643 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 07:19:04.642 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 07:24:35.386 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:24:36.155 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:24:36.451 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:24:36.796 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:24:37.232 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:25:52.490 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:25:52.719 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:25:52.876 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:25:53.082 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:27:07.198 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 07:28:08.171 [warn] Your server (66.225.36.3:995) has not managed to confirm that its ORPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 07:28:08.172 [warn] Your server (66.225.36.3:443) has not managed to confirm that its DirPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 07:33:10.455 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 07:33:45.589 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:35:10.902 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 07:39:50.855 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:39:51.598 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:39:51.918 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:39:52.257 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:39:52.582 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:41:14.100 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 07:41:21.019 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:43:14.475 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 07:48:08.161 [warn] Your server (66.225.36.3:995) has not managed to confirm that its ORPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 07:48:08.162 [warn] Your server (66.225.36.3:443) has not managed to confirm that its DirPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 07:49:17.834 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 07:51:17.795 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 07:55:05.148 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:55:05.742 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:55:06.115 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:55:06.441 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:55:12.755 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:55:23.008 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 07:57:20.954 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 07:59:20.698 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 08:05:23.857 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 08:07:23.088 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 08:08:08.656 [warn] Your server (66.225.36.3:995) has not managed to confirm that its ORPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 08:08:08.657 [warn] Your server (66.225.36.3:443) has not managed to confirm that its DirPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 08:09:47.811 [warn] Unable to load consensus directory dowloaded from server '86.59.21.38:80'
Oct 31 08:10:20.300 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:10:21.019 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:10:21.296 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:10:21.737 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:10:42.775 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:11:14.908 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:11:15.319 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:11:15.524 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:11:15.732 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:11:42.803 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:11:49.782 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:12:44.559 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:12:55.751 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:13:26.280 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 08:13:39.627 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:15:26.925 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 08:21:30.481 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:23:30.400 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 08:25:37.341 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:25:38.192 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:25:38.761 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:25:39.274 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:25:39.648 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:25:50.176 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:25:51.599 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:28:08.111 [warn] Your server (66.225.36.3:995) has not managed to confirm that its ORPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 08:28:08.115 [warn] Your server (66.225.36.3:443) has not managed to confirm that its DirPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 08:29:33.554 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 08:31:33.401 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 08:35:43.172 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:37:36.585 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 08:39:36.636 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 08:40:50.883 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:40:51.559 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:40:51.885 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:40:52.170 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:41:13.134 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:41:16.945 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:42:11.859 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:42:12.124 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:42:12.378 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:42:32.977 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:45:39.828 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 08:45:43.446 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:47:39.789 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 08:48:08.431 [warn] Your server (66.225.36.3:995) has not managed to confirm that its ORPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 08:48:08.432 [warn] Your server (66.225.36.3:443) has not managed to confirm that its DirPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 08:53:42.965 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 08:55:42.174 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 08:56:08.092 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:56:08.669 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:56:09.062 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:56:09.561 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:56:22.312 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:56:31.492 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 08:57:46.616 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:01:45.353 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 09:03:45.462 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 09:08:08.243 [warn] Your server (66.225.36.3:995) has not managed to confirm that its ORPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 09:08:08.244 [warn] Your server (66.225.36.3:443) has not managed to confirm that its DirPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 09:09:48.650 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 09:11:14.720 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:11:15.114 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:11:29.620 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:11:30.396 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:11:30.718 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:11:30.997 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:11:33.968 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:11:37.143 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:11:48.289 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 09:17:51.462 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 09:19:51.426 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 09:25:54.654 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 09:26:38.232 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:26:38.822 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:26:39.143 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:26:39.625 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:26:40.010 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:26:52.411 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:27:54.618 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 09:28:08.806 [warn] Your server (66.225.36.3:995) has not managed to confirm that its ORPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 09:28:08.807 [warn] Your server (66.225.36.3:443) has not managed to confirm that its DirPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 09:33:57.816 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 09:35:57.864 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 09:42:22.799 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:42:23.521 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:42:23.812 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:42:24.071 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:42:30.396 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:42:44.978 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:44:01.148 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 09:48:08.238 [warn] Your server (66.225.36.3:995) has not managed to confirm that its ORPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 09:48:08.239 [warn] Your server (66.225.36.3:443) has not managed to confirm that its DirPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 09:50:04.330 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 09:52:04.996 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 09:57:04.702 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:57:05.315 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:57:05.728 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:57:06.086 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:57:06.446 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:57:16.857 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 09:58:08.162 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 10:00:08.062 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 10:06:11.228 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 10:08:08.384 [warn] Your server (66.225.36.3:995) has not managed to confirm that its ORPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 10:08:08.384 [warn] Your server (66.225.36.3:443) has not managed to confirm that its DirPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 10:08:11.431 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 10:12:21.101 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:12:21.840 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:12:22.126 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:12:22.519 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:12:22.854 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:12:23.677 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:14:14.644 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 10:16:14.298 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 10:20:22.362 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:20:22.873 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:20:23.099 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:20:23.313 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:20:23.685 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:20:24.068 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:22:17.411 [notice] Application request when we're believed to be offline. Optimistically trying directory fetches again.
Oct 31 10:24:17.893 [notice] Tried for 120 seconds to get a connection to [scrubbed]:0. Giving up. (waiting for circuit)
Oct 31 10:27:34.741 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:27:35.292 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:27:35.559 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:27:35.874 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:27:36.164 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:27:36.583 [notice] I learned some more directory information, but not enough to build a circuit.
Oct 31 10:28:08.343 [warn] Your server (66.225.36.3:995) has not managed to confirm that its ORPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
Oct 31 10:28:08.344 [warn] Your server (66.225.36.3:443) has not managed to confirm that its DirPort is reachable. Please check your firewalls, ports, address, /etc/hosts file, etc.
     At this point, I woke up, noticed that there was no tor traffic on the
server, and checked my network connection and found it working (I logged into
another site with no difficulty), so I shut tor down and restarted it.
Oct 31 10:28:08.603 [notice] Catching signal TERM, exiting cleanly.
Oct 31 10:28:38.345 [notice] Tor 0.2.0.9-alpha (r12180) opening log file.
Oct 31 10:28:38.345 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Oct 31 10:28:41.925 [notice] Your Tor server's identity key fingerprint is 'MYCROFTsOtherChild 0232 2050 5A55 0D6F DF0C 20FF 7C48 E66B A06A 49A6'
Oct 31 10:30:17.733 [notice] We now have enough directory information to build circuits.
Oct 31 10:30:18.089 [warn] Nickname list includes 'aala' which isn't a known router.
Oct 31 10:30:18.096 [warn] Nickname list includes 'donk3ypunch' which isn't a known router.
Oct 31 10:30:18.103 [warn] Nickname list includes 'TheGreatSantini' which isn't a known router.
Oct 31 10:30:18.110 [warn] Nickname list includes 'mauger' which isn't a known router.
Oct 31 10:30:18.117 [warn] Nickname list includes 'paxprivoso' which isn't a known router.
Oct 31 10:30:18.124 [warn] Nickname list includes 'm00kie' which isn't a known router.
Oct 31 10:30:18.130 [warn] Nickname list includes 'hubbahubbahubba' which isn't a known router.
Oct 31 10:30:18.137 [warn] Nickname list includes 'soprano1' which isn't a known router.
Oct 31 10:30:18.144 [warn] Nickname list includes 'joiseytor' which isn't a known router.
Oct 31 10:30:18.144 [warn] Nickname list includes '$7A75AE3AD773FE68F12C3AC66B7283F6D5B075E8' which isn't a known router.
Oct 31 10:30:30.180 [notice] Tor has successfully opened a circuit. Looks like client functionality is working.
Oct 31 10:30:30.180 [notice] Now checking whether ORPort 66.225.36.3:995 and DirPort 66.225.36.3:443 are reachable... (this may take up to 20 minutes -- look for log messages indicating success)
Oct 31 10:30:48.612 [notice] Self-testing indicates your DirPort is reachable from the outside. Excellent.
Oct 31 10:31:27.103 [notice] Self-testing indicates your ORPort is reachable from the outside. Excellent. Publishing server descriptor.
Oct 31 10:31:33.289 [notice] Performing bandwidth self-test...done.
     And all has been well since the restart.
     I am mystified as to what went wrong that tor found itself unable to build
circuits, even though I could see that it was adding new data to
cached-descriptors.new quite frequently.  Did anything strange happen to the
directory authorities early this a.m. that might have induced this behavior?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-10-31 17:30:08
@_author: Scott Bennett 
@_subject: peculiar 0.2.0.9-alpha behavior this a.m. 
On Wed, 31 Oct 2007 21:59:53 +0100 "vikingserver at gmail.com"
     I should mention that I only use Vidalia when I run tor under WinXP,
which was not the case that produced the log messages.  I no longer run
tor in server mode under WinXP, only in client mode long enough to download
updates to security software.  My tor server runs under FreeBSD 6.2-STABLE.
I haven't succeeded in compiling Vidalia under FreeBSD, so I can't use it.
     ;-} Indeed, yet they don't seem to be any worse than the "stable"
versions.  Makes me wonder about the wisdom of maintaining two branches
of code that are effectively both production branches.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-10-01 09:03:29
@_author: Scott Bennett 
@_subject: funneling a wireless net's outbound connections through tor 
On Mon, 01 Oct 2007 10:06:50 +0100 Mike Cardwell      How will they be subject to any greater number of possible attacks
if their connections are funneled through tor than if they are not?  They
can go to any of several coffee shops in the area and use unencrypted,
completely unprotected, free or paid wireless services.  They just can't
do that at home.  If you see some way by which anonymizing their TCP
source addresses and their UDP port 53 (name service) packets' source
addresses when they access the Internet at home will cause them to suffer
more attacks than they will in any public location or, for that matter,
from a direct connection in their own dwelling if they had one, please
enlighten me.
     Aside from that, the only IP addresses that could conceivably be
discovered would either be the one temporarily assigned to my connection
or the one assigned on a private network by my wireless router via DHCP.
     In any case, I still would appreciate helpful information, so I'll
repeat my questions here, quoting from my original query:
->     dns-proxy-tor apparently uses the MAPADDRESS command via the tor
->control port, so it is also necessary to specify a VirtualAddrNetwork in
->torrc for dns-proxy-tor's use, so those instructions include an example of
->     However, I had been hoping to use DNSPort in torrc instead of running
->dns-proxy-tor.  Am I correct in thinking that I will not neet to specify a
->     A second question for someone who uses or has used pf under FreeBSD
->or OpenBSD involves the use of rdr commands to redirect the TCP connections
->from the interface connected to the wireless router's "WAN" port.  If the
->rdr changes the TCP or UDP packets' destination addresses to lo1's address
->(127.0.0.2), how does tor know what the original destination is supposed
->to be?  I didn't find anything in the tor documentation or elsewhere to
->explain this.
     Thanks!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-10-05 07:26:20
@_author: Scott Bennett 
@_subject: funneling a wireless net's outbound connections through tor 
Once again, the Internet has patched around a failure, and information
resumes its flow.  Thank you, tup!
     Yeah, that much I had gotten.  I only wanted it on a separate interface,
so that I could see traffic volume for the wireless router at a glance with
systat(1).  If it went via lo0, I would have no way to distinguish the wireless
traffic volume from all other loopback traffic.
     Ah.  Another undocumented command for use in torrc.  Thanks for the info!
     *Oh*.  Okay.  That makes it much clearer.  Thank you once more.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-08-31 22:01:21
@_author: Scott Bennett 
@_subject: bizarre connection list to tor's DirPort 
Using netstat or lsof, there are sometimes over 50 ESTABLISHED connections
to my tor server's DirPort from a single IP source address, which resolves to
Each such connection is usually displayed by netstat to have at least 32500
bytes in the send queue.
     I've checked the current cached-routers and cached-routers.new files and
have found no sign of either ignfwdnoi-nat.asia.csc.com or its IP address
(20.139.66.64) in either file, so it doesn't appear to be a valid exit server,
from which directory fetch requests might be appearing.
     Does anyone have an idea what might be going on?  I.e., is it something
legitimate?  Or should I treat it as an attack of some sort and respond by
blocking packets from that system at my router?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-12 03:45:03
@_author: Scott Bennett 
@_subject: How can I know my IP address geted by the website? 
The above method is not guaranteed to give the correct result either.
It will only do so if one's tor client is routing all current connection
requests throught the same circuit.  Because a client may have several active,
non-expired circuits to choose from at any moment, the connection to the
external service may not go through the same exit, much less the same circuit,
as the connection for which LinDu is interested in knowing the exit IP
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-13 02:56:41
@_author: Scott Bennett 
@_subject: end-to-end encryption question 
In  it says,
     I have a few questions about the above text.
a) Who translates the destination address to 127.0.0.1?  Is it the tor client?
   Or is it the exit server?
b) If I have "ExitPolicyRejectPrivate 1" in my torrc, does that prevent such
   end-to-end encryption?  If not, then does an "ExitPolicy reject *:*" at the
   end of my exit policy list count as "explicitly rejecting" such connections?
c) If "TunnelDirConns 1" tries to build one-hop circuits to directory servers,
   does "TunnelDirConns 0" result in direct, unencrypted links to directory
   servers?  Or does it result in the normal, three-hop link encrypted as far
   as the exit server, then unencrypted to the directory server?  Or does it
   result in an end-to-end-encrypted link to the directory server?  Do I need
   to have something like "ExitPolicy accept 127.0.0.1:[dirport]" ahead of the
   "ExitPolicyRejectPrivate 1" in my torrc to allow it?
d) If normal connections to directory servers are unencrypted at any point
   along the way, what is the procedure to get them to be encrypted from end
   to end?
     For obvious reasons, tor should not be getting directory information over
a connection that is not encrypted from end to end, even if everyone knows
exactly what the content of the directory information happens to be at any
given moment.  I'm trying to figure out the best way to make sure my tor only
uses end-to-end-encrypted connections, preferably going through a multi-hop
tor circuit.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-13 05:06:54
@_author: Scott Bennett 
@_subject: end-to-end encryption question 
On Thu, 13 Sep 2007 11:46:33 +0200 Peter Palfrader      Well, when I wrote that, one thing that was worrying me was a MITM attack.
After sending it, I remembered that the directory information would be signed
by an authority, which should infinitesimalize any chance of a MITM corruption
of the information going undetected.  But that still leaves open a somewhat
less dangerous situation in which the MITM always damages the information or
interferes with the connection somehow, creating a form of DoS, so that the
recipient cannot obtain valid directory information.  That would be a type of
DoS that would not, for example, trigger any alarms in a router or other
typical network monitor.
     There may also be some kind of profiling attack made possible simply by
observing the timing of when a tor gets directory updates, network status
documents, etc., though I haven't a good approach in mind for doing that.
     There was another fleeting thought or two, but they evaporated while I
was typing my original message on the matter.  If any come back to mind and
still seem interesting, I'll post them.
     It may be that there is no real threat here and that I simply engaged
fingers before engaging brain, but I've always had a dislike for the
possibility of being watched without my knowledge or permission.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-13 17:26:46
@_author: Scott Bennett 
@_subject: end-to-end encryption question 
On Thu, 13 Sep 2007 11:59:25 -0400 Nick Mathewson      Yes.  However, in the case of end-to-end encryption, the attacker
would first have to have a way to know with which packets to tamper,
which would mean the attacker would have to have cracked the tor system
entirely.  If the data in question travel all the way to their
destination through a tor circuit, then they are encrypted, mingled
with other tor traffic, and not obviously distinguishable from any
other packets traversing the tor network.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-13 17:43:46
@_author: Scott Bennett 
@_subject: end-to-end encryption question 
On Thu, 13 Sep 2007 12:07:08 -0400 Nick Mathewson      Okay.  That takes care of setups involving static, public IP
addresses.  Is there some way to take advantage of end-to-end
encryption here in cases where the tor server and the other service
are both on a private network behind a NAT server?  I.e., if the tor
server is at 192.168.1.3 ("Address 1.2.3.4") and a web server is at
192.168.1.4?  And what about the case in which they are both on
     Never mind.  The question was obviated by your response to a).
     Is that an undocumented torrc line?  Or is it just a 0.2.*.* feature?
(I'm running 0.1.2.16 at present.  I tried 0.1.2.17, but it kept crashing.
0.1.2.16 apparently has the same bug, but has crashed that way only once,
so I'm sticking with it for better stability at least until 0.1.2.18
comes out.)  I gather that that also implies that directory service exits
are not treated the same way other exits are treated w.r.t. the default
attempt to use an encrypted link all the way through the tor server that's
"close to" the tor directory server.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-14 00:17:10
@_author: Scott Bennett 
@_subject: server's listing in status documents vanished 
Something peculiar appears to be going on.  I came home and saw that
traffic on my tor server (MYCROFTsOtherChild) had diminished to almost zero,
though it had been quite busy when I left a few hours earlier.  I now see
also that it is no longer listed in any of the cached-status/* files.  The
server is still up and appears to be okay, but the authorities seem to have
lost all record of it.
     Does anyone know what could have happened?  I have to shut it down
shortly for other reasons, so I hope that later on when I restart it, it
will get noticed when it published its descriptor, but I'd like to know how
it disappeared from the status files while it was still up and running, so
I can keep that from happening again.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-14 13:28:45
@_author: Scott Bennett 
@_subject: Like to run TOR-Node 
On Fri, 14 Sep 2007 19:37:00 +0200 "TOR Admin (gpfTOR1)"
     That is apparently long out of date.  I've been running tor in
server mode off and on over the past year and have never seen it use
more than 300-400 connections at once, and it was a rare situation
for the count to get even that high.  Usually the count of open
connections has been under 200, often under 100.  A hard limit of
290 connections might be a problem on the sort of high-bandwidth
server Ricky intends to run, but it seems unlikely that he would
need 1024.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-14 14:12:44
@_author: Scott Bennett 
@_subject: Like to run TOR-Node 
On Fri, 14 Sep 2007 20:51:57 +0200 Eugen Leitl      One needs to be careful about certain kinds of jokes these days.
Here in the U.S. only a few years ago, a man in one of the Dakotas was
sentenced to 18 months, IIRC, in prison for cracking a joke in a police
station about a burning bush.  (Yes, our Constitutional republic is long
     Eugen, you might find interesting reading in a book titled _Unintended
_Consequences_ by John Ross.  The last time I bought a copy it cost about
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-15 17:57:51
@_author: Scott Bennett 
@_subject: Exclude nodes from certain countries 
Why would they waste their time?  They will have already gotten copies
of what they want as it traveled in the clear between its origin and the web
server.  Remember the news articles a while back about all those snoop boxes
in the locked rooms at AT&T?
     As noted above, if they want it, they will have already gotten it.  The
only reason to bother the web site operator(s) is for the general purpose of
     It's probably worth a few bucks to them to establish a sucker trap web
site, so maybe that's what he's doing.  The irony, of course, is that the
enemies of freedom, in particular, the domestic enemies referred to in our
Constitution, are funded at the expense of U.S. taxpayers.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-15 18:08:43
@_author: Scott Bennett 
@_subject: I break the silence: My arrest 
On Sun, 16 Sep 2007 00:32:27 +0200 "Alexander W. Janssen"
     There is already a web page, though perhaps not tailored specifically
for cops:
     Um...and that would be more useful how?  I thought the suggestion was
to provide them information that *would* convince the average cop not to
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-15 23:02:12
@_author: Scott Bennett 
@_subject: Exclude nodes from certain countries 
On Sat, 15 Sep 2007 21:39:17 -0400 "Ringo Kamens" <2600denver at gmail.com>
     This is getting to be really irritatingly frequent on this list.  Grrr...
C:	And it makes it confusing regarding which points you're referring
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-15 23:17:14
@_author: Scott Bennett 
@_subject: Exclude nodes from certain countries 
On  Sat, 15 Sep 2007 23:30:58 -0400 misc  wrote
     Please read the tor documentation.  If you think you've already done
that, please go back and read it again.  Once you understand the functions
of the directory authorities and the directory mirrors, take a few minutes
to browse through the files that tor maintains on your computer.  Note
especially the contents of the files named cached-routers and
cached-routers.new, and also the status document files in the cached-status/
subdirectory.  All should be clear to you after you do those basic things.
     Note that this is a user safety issue:  one should *not* use tor
without having gained first a minimal understanding of what tor is doing
and what it is not doing.  Without that understanding, a user is in grave
danger of assuming his/her anonymmity is being maintained when, in fact,
it may not be.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-16 01:25:51
@_author: Scott Bennett 
@_subject: Exclude nodes from certain countries 
Oh, my goodness!  And you've been *using* tor?  That's like walking
across Lake Shore Drive wearing earplugs and blindfolded. :-(  I never even
downloaded the first version I used until I had taken the time to read and
understand most of the documentation at tor.eff.org well enough to convince
myself that I could use it safely and even depend upon it to a satisfactory
     Sounds like wanting a guide to PGP that doesn't involve the reader
understanding the basics of public-key encryption.  Sigh...
     I'd strongly recommend that you start with the tor overview
document at
paying special attention to the cartoon describing how circuits are built,
which should begin to straighten you out on some of the other misconceptions
you've indicated regarding tor.  To learn about the process in greater detail,
continue reading at
     To understand how tor clients (and servers) know what choices of servers
are available, you need to read the directory protocol document(s) appropriate
to the version of tor you run.  For 0.1.2.1[67], read
 For 0.2.0.6-alpha, read the above and
And for earlier versions, *UPGRADE* to one of the above.
     To my knowledge, there is no _Tor_for_Dummies_ or _The_Complete
_Idiot's_Guide_to_Tor_ .  (Most of us are grateful for the documentation
efforts that Roger Dingledine et al. have made already.)  It's sophisticated,
complex software to provide services that are quite complicated and tricky
to achieve.  Knowing how to use it safely comes from understanding it
anyway, so you have a choice:
     Best wishes with whichever path you choose.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-16 07:16:10
@_author: Scott Bennett 
@_subject: I break the silence: My arrest 
On Sun, 16 Sep 2007 12:08:27 +0200 Thomas Hluchnik
     Please get with the program.  This is getting to be a real drag.  See
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-16 08:22:28
@_author: Scott Bennett 
@_subject: I break the silence: My arrest 
On Sun, 16 Sep 2007 09:06:25 -0400 "Ringo Kamens" <2600denver at gmail.com>
still didn't get it:
     Attention "Comrade Ringo Kamens":  Please read the above!!!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-16 08:59:23
@_author: Scott Bennett 
@_subject: I break the silence: My arrest 
On Sun, 16 Sep 2007 09:44:21 -0400 "Ringo Kamens" <2600denver at gmail.com>
     See evidence that others manage somehow below.  And couldn't you use a
pop3s client instead?  Encrypted links are the way, you know.
     Here's a fairly recent posting to the freebsd-ports list from someone
at a gmail.com account.  I've indented with ']' in this case.
]Message: 3
]Date: Wed, 12 Sep 2007 17:21:47 +0800
]From: leafy7382 at gmail.com ("Jiawei Ye")
]Subject: Re: compat-6x does not work when kernel has NO_KSE
]To: "Kris Kennaway" ]Cc: d at delphij.net, freebsd ports ]	
]Content-Type: text/plain; charset=UTF-8
]> How does symbol versioning affect this?  Are you saying that libmap no
]> longer works with pre-7 libraries?
]> Kris
]This is what happens when I try to run diablo-jdk15 on a
]symbol-versioned -current with NO_KSE kernel.
][leafy at business /usr/ports/java/diablo-jdk15]$
]/usr/local/diablo-jdk1.5.0/jre/bin/java -version
]Fatal error 'kse_create() failed
]' at line 444 in file /usr/src/lib/libpthread/thread/thr_kern.c (errno = 2)
]So I added this to /etc/libmap.conf (this will use libthr.so.3)
]libpthread.so.2 libthr.so
][leafy at business /etc]$ /usr/local/diablo-jdk1.5.0/jre/bin/java -version
]/libexec/ld-elf.so.1: /usr/lib/libthr.so: version LIBTHREAD_1_0
]required by /usr/local/diablo-jdk1.5.0/jre/bin/java not found
]I am not sure what is the correct way to fix this.
]-- ]"If it looks like a duck, walks like a duck, and quacks like a duck,
]then to the end user it's a duck, and end users have made it pretty
]clear they want a duck; whether the duck drinks hot chocolate or
]coffee is irrelevant."
     So apparently others with gmail.com accounts manage to post correctly.
Unless there is something unusual about your individual account, please
learn to use your email interface and editor(s).  Up until now, it has
been a pain to follow any thread to which you have posted a followup.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-04 14:45:45
@_author: Scott Bennett 
@_subject: tor 0.1.2.17 server died after only a few hours 
I switched from 0.1.2.16 to 0.1.2.17 this morning.  About 5 hrs. 20-odd
minutes later, tor wrote the following message to the notice log and exited:
Sep 04 14:06:29.140 [err] connection.c:2387: assert_connection_ok: Assertion connection_is_writing(conn) || conn->wants_to_write || (conn->type == CONN_TYPE_DIR && TO_DIR_CONN(conn)->is_blocked_on_or_conn) failed; aborting.
Does anyone know what caused this?  I can still switch back to 0.1.2.16 if
need be.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-16 17:44:36
@_author: Scott Bennett 
@_subject: Exclude nodes from certain countries 
Well, almost.  There is a sublety there in that "entry node" is not
exactly synonymous with "entry guard".  An entry node is simply the first
node of a circuit and can be any tor server currently accepting connections
on its ORPort.  If one's torrc contains "UseEntryGuards 1" or that value
is allowed to default to 1, then the tor client will limit the choices for
the entry node for a new circuit to tor servers marked "Guard" in a status
document.   But it sounds like you have the idea now.
     Yes, that would work, but might be a real pain to live with because of
all the delays you could encounter when tor tries to contact a server
blocked by your firewall and has to wait for the timeout before trying to
reach a different one.  "ExcludeNodes" would be much faster because tor
would know in advance not to bother connecting to those servers.  The problem
then becomes one of maintaining the list of excluded nodes.
     There is another option, though.  You can specify a list of "EntryNodes"
to use, as well as a list of "ExitNodes" in your torrc.  These lists would
be the pools from which servers would be chosen first for those circuit
positions.  If you set "StrictEntryNodes 1" and "StrictExitNodes 1", then
those will be the only ones that can be chosen.  You could choose a reasonably
sized list of servers that meet your criteria for entry or exit nodes, and
then just live with those, rather than trying to maintain a huge and
dynamic list of nodes to exclude.
     Can't help you there.  I know nothing about squid.
     I don't know Protowall either.
     You don't really have to worry about the middle nodes.
     Give "EntryNodes" - "StrictEntryNodes" and "ExitNodes" - "StrictExitNodes"
methods a try.  If you pick, say, 25 - 50 nodes with long uptimes, you should
be okay.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-04 15:23:56
@_author: Scott Bennett 
@_subject: tor 0.1.2.17 server died after only a few hours 
It just did it again after being up only a few minutes.  I've now reverted
to 0.1.2.16 and will stay with that until the next release comes out.  Sigh.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-04 18:43:02
@_author: Scott Bennett 
@_subject: ExitPolicy questions 
I have two questions regarding the torrc.sample file distributed in the
tor tar files and other package formats.
I have not looked at the tor source to find out what is hard-coded into the
default ExitPolicy, but if the two items above are not in the default, it
seems like they should be.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-18 01:01:20
@_author: Scott Bennett 
@_subject: [ANNOUNCE] Incognito CD/USB 20070824.1 released 
On Tue, 18 Sep 2007 07:35:06 +0200 Thomas Hluchnik
     Oh, for crying out loud.  Another top-poster.  What is it with the
people on this list that there are so many who are too damned lazy to edit
their followups properly?
     Hold on a bit.  Zitat von Ano Nymous  has yet to
show us any kernel messages, so we don't have a clue what's going on.  Or,
rather, we have several possibilities with no way to distinguish which one
might be the real problem.
     Such impatience.
     How about mentioning which card you have?  They do not all have the same,
or even similar, characteristics.  How about some kernel messages from your
system, as well as the X log messages about the card?
     It definitely is not.  I would recommend not following up to this list,
but you and/or Mr. Hluchnik are welcome to email me directly.  A more
appropriate place would be one of the LINUX lists or one of the lists for X.org
or XFree86, as the case may be.
     What is "incognito" in this context?
     Which X (i.e., X.org or XFree86) are you using and which version of it?
Did you ever configure by running "Xorg -configure" if you're running X.org?
(There's an equivalent thing to run for XFree86, but it has been so long since
I last did that that I don't remember exactly what it is.)
     At a minimum, you need to
     I can't imagine why you chose a tor list to post questions about LINUX
or X11.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-18 01:56:34
@_author: Scott Bennett 
@_subject: [ANNOUNCE] Incognito CD/USB 20070824.1 released 
On Tue, 18 Sep 2007 02:26:54 -0400 Roger Dingledine      For being "absent", you have been very frequently helpful. :-)
     Thank you, Roger.  I'll take a look shortly.
     The rudeness has been discussed before, namely, the laziness of some
people on the list to post followups in the normally accepted format, which
preserves a sequential record of previous information.  Top-posting destroys
that record's time sequence and makes it difficult for readers joining a thread
to follow what has been going on.  Another rudeness exhibited on this list is
completely omitting the record completely when following up (not applicable
in the instant case, of course, because you've included the parts to which
you were responding).  That some readers dislike both the inconvenience and the
rudeness involved in causing the inconvenience may be expressed bluntly with
     I interpreted the content of the original message in the thread as being
a question regarding driver support for a particular, though unidentified,
graphics card under X11 running on a LINUX system.  Incognito appeared to be
only an application whose request to X11 had failed due to X11's, or perhaps
the LINUX kernel's, failure to provide service to the graphics card.  It did
not appear, from the few messages included in the original posting, to be
related to any problem with Incognito itself.
     FWIW, I use FreeBSD 6.2-STABLE with X.org 6.9 and on occasion (grimacing
with distaste) Windows XP w/SP2.  My graphics card is a Mobility Radeon 9800
which apparently has the mobile version of the R420 chip.  AFAIK, all Radeon
cards have support under X.org as VESA devices, which can be used as a last
resort.  Radeon cards with model numbers above 9200 (R200-series GPUs)
generally have only 2-D acceleration using the radeon driver, though there is
apparently some experimental support for 3-D acceleration available for a few
old models with numbers slightly higher than 9200 (R300-series).  So I use the
radeon driver and get 2-D acceleration and 3-D support via the Pentium IV.  To
get this support under either LINUX or FreeBSD, the kernel must be generated
with the correct kernel driver, which the fglrx LINUX driver from ATi also
requires, and with the X11 driver (either radeon or fglrx) configured in
xorg.conf (or the equivalent for XFree86).
     Thus was the provenance of my diagnostic questions for the OP and the
author of the first followup.  I've been around some of these blocks already
and might well be able to help, but the or-talk list really doesn't seem to
be the place to proceed with that.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-18 02:09:07
@_author: Scott Bennett 
@_subject: [ANNOUNCE] Incognito CD/USB 20070824.1 released 
Uh, Roger...that's just the announcement I did see here, which tells me
what has been done to Incognito, but doesn't tell me what Incognito is nor
why it should be related to tor, vidalia, and so on.  Guess I'll have to
search the web on it...
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-18 03:06:53
@_author: Scott Bennett 
@_subject: time needed to register a serve 
Does anyone have a sense of the current processing delay in registering
a server?  I ask only because I sent off the registration information to
tor-ops at freehaven.net last Thursday evening, 13 Sept., and my server is still
showing up in the status documents without the "Named" flag in them.
     It's not a big deal; I'm just curious.  Processing of flight instructor
certificate renewals is now said to take more than six months, and the
certificates have to be renewed every 24 months.  (Your tax dollars at work,
of course. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-18 04:37:57
@_author: Scott Bennett 
@_subject: [ANNOUNCE] Incognito CD/USB 20070824.1 released 
On Tue, 18 Sep 2007 10:54:29 +0200 "Ano Nymous"      Ah.  Thank you.
     As noted previously, the few messages you posted before showed the
problem to be one of X11, and possibly LINUX kernel, support for your
graphics card, rather than of Incognito.  So, please, let's take this
off the list to private email.
     If your ATi card is only a year old and is not of an old model
(e.g., Radeon 9200), then the support you'll get with the native drivers
is quite limited, but is available and does work.  The recent R500-
series-based cards are, AFAIK, only supported as VESA devices.  The
R500-series core is apparently unrelated to the earlier, R100-R40 series
of cores, and thus the open source community has not yet devised an
appropriate driver.  Thanks to ATi's intransigence in refusing to
provide information to the open source developers, we still don't have
open-source support for hardware 3-D acceleration for chips that are
now over three years old, much less for the newer hardware.
     You haven't yet posted the configuration file or any of the other
stuff we would need to know whether you even have the fglrx driver
installed, much less are using it.  You may be using it with just the
VESA support.
     Here's the list of cards that the native radeon driver recognizes
as of X.org 6.9, though the more recent ones do not have support for
3-D hardware acceleration.  I haven't messed with 7.x yet, but am told
that no new Radeon support was added during the X.org reorganization
that occurred with 7.x.
(II) RADEON: Driver for ATI Radeon chipsets: ATI Radeon QD (AGP),
     Okay, but please just send them to me, and don't bother the or-talk
list with this stuff.
     I'm not a LINUX user and don't have a LINUX system handy, so we'll
have to work together on this.  First, try looking for the X configuration
file.  Look in /usr and /usr/local for a directory called something like
X11R6 or X11R7.  On my FreeBSD system with X.org 6.9, the configuration
file is in /usr/X11R6/lib/X11/xorg.conf.  (If you're running XFree86
instead of X.org, you'll have to hunt around a bit, but XFree86 is probably
a directory name somewhere in the path you're looking for.)
     The error messages you posted earlier should also have been written
to a log file.  Near the start of the messages on your screen should be a
pair of lines like
(==) Log file: "/var/log/Xorg.0.log", Time: Mon Sep 17 12:30:33 2007
(==) Using config file: "/usr/X11R6/lib/X11/xorg.conf"
which give you the paths of the two files we're looking for here.
Depending upon how your LINUX system handles console messages vs. graphics
stuff, you may be able (when X is not running) to do something like pressing
the "Fn" and "Scroll Lock" keys together and then using the "Page Up" key to
page back to where the startup messages appeared.  When you find the log
file, please send me its contents, beginning with the most recent startup of
X in the log file.  Also include the configuration file.
     If your system has the dmesg(1) command, please also send that, starting
with the last boot.
     My apologies to or-talk readers that we are *still* having this
off-topic discussion here.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-18 23:19:14
@_author: Scott Bennett 
@_subject: ExitPolicy questions 
I finally found time to follow this up a bit.
     On Wed, 05 Sep 2007 13:22:11 +0200 Juliusz Chroboczek
     After searching through old RFC's, I see that the address reallocation
occurred well before the 1991 date above.  I'm glad it happened, though I
obviously missed it.
     Probably a bit late now.  It was IBM's VM/XA, as I recall, and its
usage of 14.0.0.1 as localhost was probably begun before the address was
reallocated to a PDN.  I've been totally out of touch with VM/XA or VM/ESA
for more than a decade, but I'll assume for now that IBM changed its
localhost address to 127.0.0.1 long ago.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-19 00:41:14
@_author: Scott Bennett 
@_subject: end-to-end encryption question 
On Wed, 19 Sep 2007 01:07:18 -0400 Roger Dingledine      Hmmm...I could be mistaken, of course, but AFAIK a BSD kernel will
do no such translation.  By "modern OS" do you mean something like a pf
rule on a BSD system?
     Years ago, there was a bug that affected named that would sometimes
get hit if
nameserver 127.0.0.1
were in /etc/resolv.conf.  What would happen, IIRC, was that some program
on the localhost would query the name server via TCP instead of UDP, and
after named responded, the socket was never closed.  Because the
connection remained open, no other program could contact named on its TCP
port.  The workaround at that time was to put a different interface's IP
address into /etc/resolv.conf instead of 127.0.0.1.  That, of course,
added to traffic in both directions over that interface, but avoided use
TCP to localhost to reach named.
     As I understand what you are saying, that workaround would no longer
work in such a situation because something in the operating system (kernel,
pf, or whatever) would change the connection of the external address to
the loopback address anyway.
     I have to read up on writing pf rules anyway, so I'll keep my eye out
for how to write a rule to do that because I strongly doubt that the FreeBSD
kernel is going to rewrite addresses of its own volition.
     What I was asking there was, would the "reject *:*" at that point
reject the localhost connection?  But I see what you're saying now.  The
question remaining is how to accomplish the address translation (or even
just rerouting without translation) under FreeBSD.
     Okay.  Thanks for the better explanation of how the end-to-end stuff
is handled in tor.  On the premise that packets from a tor exit to an
external interface address on the tor exit server's hardware will be
readdressed/rerouted to localhost by some operating system component,
your explanation makes much more sense to me than the documentation alone.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-19 17:08:47
@_author: Scott Bennett 
@_subject: A Tor Typo 
On Wed, 19 Sep 2007 21:33:56 +0100 Dave Page      Actually, for English of the non-British variety (see below), that
isn't quite correct either.
                    ^ (adverb should not be hyphenated onto adjective --SB:-)
     Yes, that seems right for British English.  However, for English of
the non-British variety, it is indeed sound-dependent, but upon the sound
of the word for which the letter stands (e.g., "an hour", but "a hotel"),
not the sound of the name of the letter itself.  Thus, for non-British
English, the text that reads, "Tor is not a HTTP proxy" is written
correctly, but incorrectly for British English, as Dave Page noted above.
     None of this is really pertinent to tor matters, of course. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-20 19:04:28
@_author: Scott Bennett 
@_subject: No-mail mode for this list 
On Fri, 21 Sep 2007 09:26:28 +1000 "Steven Huf"  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     See the header above from your own message as it appeared on the list.
     And PLEASE DO NOT POST HTML TO EMAIL LISTS!!!
     Thank you.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-22 05:21:15
@_author: Scott Bennett 
@_subject: Load Balancing 
On Fri, 21 Sep 2007 15:06:39 -0700 "Michael_google gmail_Gersten"
     Unless the circuit becomes "old" or is closed by a server going down,
of course.  Also, there is at least the possibility, however unlikely,
that one or more of the subordinate fetches will take a different circuit
because of some peculiarity in the relationship between the page and the
item on the page, e.g., the page is on a non-tor-related web server and the
item on the page is on a web server "near" a tor server allowing local exits
to that web server.
     On modern CPUs, the encryption-decryption workload has to be a minor
factor in the performance of a circuit.  That is why NumCPUs > 1 makes so
little difference.  Performance for most circuits will be limited by the
network performance characteristics of their various servers and the
Internet paths currently connecting them.
     The above [1] seems correct as far as it goes, but it needs a bit
of tweaking because separate circuits originating in a particular client
are have a chance, and in the case of entry guard usage, a very high
chance, of sharing some tor server interconnections.  Tor servers normally
have no more than one open socket at a time to any other given tor server's
ORPort.  That socket may carry many circuit segments from different circuits
with no way to know, from the point of view of the tor server on either end
of the socket, whether any of those circuit segments originate from the same
client.  Each of those circuit segments may have many tunneled TCP streams
traversing it.
     Now back to those entry guards.  A client using entry guards picks a
few and connects sockets to their ORPorts.  As it builds circuits, all have
one of those entry guards as their first hop.  Therefore *all* circuits go
through one of those few (NumEntryGuards) sockets, and thus *all* tunneled
TCP streams also go through those few entry guards.  The default value of
NumEntryGuards is 3, so in that case, all circuits and all TCP streams
tunneled through them that originate from that user's browser will be split
across no more than three distinct first hops and are thus in competition
with each other for bandwidth to whichever entry guard(s) is(are) in use and
for bandwidth out the other side(s) of that(those) entry guard(s).  This
situation might also occur when UseEntryGuards = 0 because it is also the
same situation occurring whenever more than one tunneled TCP stream takes
a path sharing, at any hop, the same tor server as another tunneled TCP
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-05 02:28:27
@_author: Scott Bennett 
@_subject: tor 0.1.2.17 server died after only a few hours 
I can't believe this!  My 0.1.2.16 server just did the same thing!  And
that is after it ran fine for quite some time before trying 0.1.2.17 (this is
the first time 0.1.2.16 has acted up).  Here's the message:
Sep 05 02:09:33.960 [err] connection.c:2391: assert_connection_ok: Assertion connection_is_writing(conn) || conn->wants_to_write || (conn->type == CONN_TYPE_DIR && TO_DIR_CONN(conn)->is_blocked_on_or_conn) failed; aborting.
I really wish I knew what is going on and how to get it to stop.  I've never
looked into the tor source.  Can someone tell me what the message means?  Maybe
it will spur my recognition of some detail previously ignored as insignificant.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-23 06:06:32
@_author: Scott Bennett 
@_subject: Warning TorButton 1.1.7-alfa 
That kind of thing is only one of the reasons I do not use TorButton and
most likely never will.
     (You have a bad case of linewrap there, friend. :-)
     You could also try FoxyProxy, which I have used in the past, or
SwitchProxy, which I prefer use now.  (I used FoxyProxy for a while at a time
when SwitchProxy stopped working.  But then FoxyProxy came out with a version
that didn't work, and I was afraid I might have to go with TorButton.  But
SwitchProxy returned to the rescue with a newer, working version.:-)  These
two are both more versatile than TorButton in the sense that they allow you
to configure as many different proxies as you like and to switch between them
at will.  Each proxy can, of course, be configured with addresses that bypass
proxies entirely, too.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-23 06:14:14
@_author: Scott Bennett 
@_subject: Warning TorButton 1.1.7-alfa 
On Sun, 23 Sep 2007 13:10:28 +0200 Florian Reitmeir      Read it again.  His complaint, basically, was that TorButton had removed
his option to choose the functioning of various aspects of his browser usage.
     Last time I checked (a few hours ago now), TorButton was being distributed
as part of a bundle including tor and privoxy, as well, for the Defective OS.
Seems to me that discussion of bugs/misfeatures/whatever about software that
is distributed with tor from the tor web site is very much on topic for a tor
email discussion list.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-01 02:12:05
@_author: Scott Bennett 
@_subject: bizarre connection list to tor's DirPort 
Tsk, tsk.  Another top-poster, I see. ;-)  Not only that, but he posted it
twice, once as plain, ASCII text (correct) and once as HTML (inappropriate
for a mailing list).  Nevertheless, I do appreciate the quick response.
     On Fri, 31 Aug 2007 21:24:43 -0700 "Kyle Williams"
     Yes, indeed.
     My guess is that they would appear to be perfectly normal requests for
directory updates/downloads coming in and the appropriate directory information
in response going out.  The individual connections appeared to be fairly
ephemeral.  My thoughts ran along the lines of a DoS attack by attempting to
tie up server bandwidth by downloading lots of the same information repeatedly.
If so, then the attempt never came close to the bandwidth capacity, but it used
enough of it to attract my attention.
     A few minutes after I posted the query, I decided to block all packets
from that address, until I got some other opinions from this list.
     Unfortunately, I can't.  Around 1 a.m. CDT, my ISP apparently swapped out
their backup server for their main PPPoE (CHAP?) server, which had been damaged
in the recent floods.  When they did that, they broke all existing TCP
connections, and I had to restart my local DSL modem/router, which resulted in
a different IP address being assigned.  Sigh.  TBC Net isn't very good about
continuity of IP address assignment, as compared to, say, Comcast, which does
occasionally assign different addresses.  They both do it after outages like
this situation, but TBC is apt to do it with any new link up session.  So I
changed the address in torrc to the new one and SIGHUPped the server, but it
will likely be 12 - 24 hours before the new address gets around widely.  The
offending site likely doesn't have it yet, and I'm thinking I should leave the
filter rule in place on the router for tonight, so I don't have to stay up all
night to watch for a recurrence.
     [duplicate .signature and much HTML crap deleted  --SB]
     Thanks for the reply, Kyle.  Tomorrow I may remove the filter rule to
see what happens.  If the problem recurs, I can try tcpdump on that port to
see what's going on, but it's probably all according to the accepted directory
service protocol.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-26 05:32:07
@_author: Scott Bennett 
@_subject: dns_cancel_pending_resolve() message 
Yesterday I got a long string of messages over a ten-minute period
that looked like this:
Sep 25 08:15:09.412 [notice] dns_cancel_pending_resolve(): Bug: Address [scrubbed] is not pending (state 3). Dropping.
I'm running 0.2.0.7-alpha under FreeBSD 6.2-STABLE.  What does this message
mean?  Is there anything I should do about it?  Or just think of it as an
interesting curiousity whose likelihood of recurring will decrease as this
and earlier releases fade into disuse?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-26 16:08:03
@_author: Scott Bennett 
@_subject: dns_cancel_pending_resolve() message 
On Wed, 26 Sep 2007 17:43:30 +0200 Fabian Keil
     That yielded a page containing only the following message:
- Do request is invalid.
     However, I took a guess that the two "3D" character sequences were
word-processor control sequences and removed them, which appears to get
the page you intended that I see.  (This is a typical example of why text
editors, rather than word processors, should be used for email.)  Looks
like the bug has been around for a while, given that that report was for
0.2.0.2-alpha, so I won't worry about it.
     Thanks much for the information.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-27 00:32:43
@_author: Scott Bennett 
@_subject: dns_cancel_pending_resolve() message 
On Thu, 27 Sep 2007 01:05:06 +0200 Arjan      I do not use an email "client".  I use a standard SMTP mail application
that has been around almost forever:  UCBmail.  MIME is fine for those who
like it for private email, but it is totally inappropriate for mailing lists
unless its use is specified in a mailing list's "charter" or policy statement,
in which case subscribers know at the outset that they will need a MIME-capable
mail interface to participate fully.  Plain, ASCII text is the only format
normally appropriate for mailing lists and always has been, with the exception
of mailing lists on long-departed EBCDIC-based networks (e.g., BITNET).  It is
also far safer for many subscribers, especially those victimized by
Microsloth's excuses for operating systems.  (Fortunately, I do not have that
particular problem.:-)
     Well, if you're saying that the community of people subscribed to this
list is, on the whole, so discourteous as to ignore and generally consider
unimportant basic list etiquette for clear communication, then perhaps it's
time for those of us who disagree to unsubscribe and let the majority continue
to act as rudely as it likes with as many communication troubles as it can
create for itself.  It is my hope, and has been my impression thus far,
however, that most OR-TALK participants are not discourteous in the manner
that you seem to suggest, although there are almost certainly some who have
erred without realizing it for one reason or another.  It is because I tend
to assume initially that people who break basic list etiquette do so
unintentially that I point it out in hopes that they will not repeat whatever
they did.  When pointing out a problem results in no change in their behavior,
though, it does get discouraging.
     As noted above, I don't use an email client.  If I have to use MIME
to deal with special file formats, I use pine(1), which I really dislike,
but will use out of necessity.  I *never* post MIME to a mailing list.  Also,
a client-server arrangement is unnecessary for me to deal with a local mail
box and would simply add another potential point of failure.
     AFAIK, UCBmail inserts *no* comment headers at all, only the standard
SMTP headers.  I doubt that is likely to change at this point.  Nor do I feel
obligated in any way to use a USENET news reader-style mail interface to deal
with a mailing list.  If OR-TALK is someday bridged to a USENET news group,
then the threaded news readers like tin(1) and trn(1) will handle those
matters, but I see no reason to deal with special threading in a mailing
list, particularly one so low-volume as OR-TALK.  In fact, most of the
mailing lists I'm on arrive in digest form, which would probably defeat any
special threading software anyway.  (OR-TALK doesn't seem to be available
in a digest.)  I have no difficulty following topics, provided people format
their messages correctly (e.g., citing time, author, and appropriate text of
message to which one is responding, not top-posting, etc.)  This has remained
true throughout the more than two decades I've been reading articles from
mailing lists.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-27 19:52:30
@_author: Scott Bennett 
@_subject: Library Defeats Tor 
On Thu, 27 Sep 2007 20:35:58 -0400 Watson Ladd      Absolutely.  Check your privoxy configuration file to make sure its
first line is
forward-socks4a / localhost:9050 .
If you're using some other port than 9050, change that accordingly.  Other
programs, e.g. PuTTY, will need to be configured, too, if you use them.
In the case of PuTTY, each remote login site that you configure to be
proxied through tor will need to be set to use socks5 and to do DNS name
lookups at the proxy end (see "Proxy" under "Connection").
     Right.  Or socks5, though privoxy doesn't yet appear to support that.
     Most public wireless locations use no encryption at all.  In these
situations, things like tor and SSH are about the only significant privacy
protection most users have.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-27 20:52:35
@_author: Scott Bennett 
@_subject: Library Defeats Tor 
Yes, what?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-27 21:20:42
@_author: Scott Bennett 
@_subject: Library Defeats Tor 
Okay.  Good.
     About 2.5 years so far.
     I think the question posed here may reveal the answer.
     Yes, and I think that may be why Watson asked the question I noted
above.  Tor does its own name server queries for two purposes:  1) to
provide exit service when running in server mode, 2) to look up addresses
of other tor servers, regardless of mode.  These are normal operations
and reveal only those activities.  When you are using it in a public
location, I assume that it is running only as a client.  So that returns
us to the question of exactly what kinds of addresses is tor looking up?
Are they only the addresses of other tor servers?  Or do they also
include the addresses of the web sites you're trying to reach?
     Would you also please double check your browser configuration to
make sure it is forwarding everything through privoxy?  If you're using
a firefox plug-in module like Torbutton, switchproxy, or foxyproxy, have
you accidentally disabled the proxy?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-28 00:54:19
@_author: Scott Bennett 
@_subject: dns_cancel_pending_resolve() message 
I recall that, too, as well as the time before that when CompuServe
users first got limited SMTP access on the Internet.  I also remember the
barbarians-at-the-gates screams of protest, which, given the quality of a
lot of the writing in USENET up until that time, seemed to me a bit
inappropriate. ;-)
     But that is the point.  It shouldn't be argued about; it should
simply be followed.  I really do not understand the motivation for the
reactions I have been getting when I point out the problems.  The kind
of "etiquette" I've been referring to isn't Emily Post sort of etiquette,
but rather the practical methods to be followed in order to promote
clear communication, without which helping others and getting help from
others become unnecessarily difficult.
     "Etiquette" is probably a poorly chosen word for these things,
although consideration for others is still a motivation.  In any case,
someone else started the word's usage in this context and left us stuck
with it long before I ever used it for this stuff. :-)
     Again, UNICODE requires MIME or some other extension built on top
of plain ASCII.  It is neither generally necessary for mailing lists or
USENET, and it should not be used unless there is an established charter
or policy for the list or news group that clearly states (in plain,
ASCII text) that software supporting such extensions must be used for
full participation in the list or news group.
     I agree with you on those points.  However, the *speaking* of
natural languages isn't really relevant here.  Communication in visible
(i.e., written, typewritten, printed, electronic display) form is what
we were discussing.  As fewer and fewer participants bother to communicate
clearly, or conversely, as more and more refuse to, that ratio will
     What good is a list if people openly refuse to communicate clearly on
it?  People who want to communicate clearly will change their methods
of posting when the problems with how they post are pointed out to them.
Often this is the case with newcomers to mailing list participation.
People who don't give a dam about clear communication probably shouldn't
waste the time and bandwidth of those who do by posting to the list.
     As I wrote before in other words, if the noise level becomes great
enough on this list (or any other, for that matter) that the value of
the list to me falls too low, I will unsubscribe.  Meanwhile, as long
as the list is adequately valuable to me, I would like to continue to
try to keep it that way.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-28 16:35:38
@_author: Scott Bennett 
@_subject: funneling a wireless net's outbound connections through tor 
I'm trying to set up a free wireless service for those of my neighbors
within range of a little wireless router I have.  To keep things safe for
me and at least somewhat safer for them, I want to route all the outbound
connections from that router through tor using pf under FreeBSD 6.2-STABLE
(i386).  In order to keep such traffic distinguishable from my own local
traffic, I intend to route it to tor on a second loopback interface (lo1).
I've looked at instructions for doing something like this at
     dns-proxy-tor apparently uses the MAPADDRESS command via the tor
control port, so it is also necessary to specify a VirtualAddrNetwork in
torrc for dns-proxy-tor's use, so those instructions include an example of
     However, I had been hoping to use DNSPort in torrc instead of running
dns-proxy-tor.  Am I correct in thinking that I will not neet to specify a
     A second question for someone who uses or has used pf under FreeBSD
or OpenBSD involves the use of rdr commands to redirect the TCP connections
from the interface connected to the wireless router's "WAN" port.  If the
rdr changes the TCP or UDP packets' destination addresses to lo1's address
(127.0.0.2), how does tor know what the original destination is supposed
to be?  I didn't find anything in the tor documentation or elsewhere to
explain this.
     Thanks in advance!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-28 23:57:17
@_author: Scott Bennett 
@_subject: Fwd: Re: Library Defeats Tor 
What does your firewall software or other tool at your disposal have to
say about the TCP packets from your browser?  Do they go to privoxy?  And
where does it say that packets from privoxy go?  To your tor client?  Somewhere
     Just to confirm:  your firewall log shows that the UDP packets in
question are destined to some IP address and port 53?
     Your laptop, old though it may be, apparently has no trouble handling
wireless IP traffic, so I would bet that a sniffer storing, say, only UDP
packets to port 53 wouldn't overtax it.
     Because I don't know how that works in privoxy, I'll ask, does your
firewall allow you to block outbound UDP packets to port 53?  If so, what
happens if you block them that way instead of via privoxy?
     As long as your wireless interface (and its driver) can run in
promiscuous mode, a sniffer ought to work okay.  Some systems may well be
able to trap outbound packets without an actual sniffer.  On most/all UNIX
systems, you will need root privileges, too, to run tools like tcpdump(1).
     Actually, that's probably worth a shot, given recent postings by the
author of Torbutton.  It's also trivial to do if you have the Quick Java
and/or NoScript plugins installed in firefox.
     Cookies are just data.  They do not execute and therefore do not query
name servers, so I wouldn't think that would be worth bothering with.
     I guess that's the point:  we haven't experienced it, which is why
we've been asking questions to try to debug the problem.  Here are more.
     I keep having the feeling that what you think is happening differs from
what is actually happening and/or something misconfigured somehow is being
overlooked.  Please be patient with us.  We're trying to help figure out
what's going on, and you're the only one who can provide the observational
data that might lead to a solution.  If it seems like we are just grabbing
at straws so far, rest assured that we aren't there yet and can't get there
until we first have at least the basic facts of the case established.  ;-)
     Anyone else with pertinent questions, please join in!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-30 06:26:05
@_author: Scott Bennett 
@_subject: sequence of reachability testing for DirPort and ORPort 
When tor first starts up as a relay server and directory mirror on my
machine, it shows success for DirPort first and then for ORPort.  Upon
finding ORPort reachable, it publishes the server descriptor.
     But when a change of IP address is detected and tor checks again for
reachability, it shows success for ORPort first, publishes a descriptor
showing DirPort as 0, and then shows success for DirPort, but does not
publish an updated descriptor showing a non-zero DirPort.
     My questions are:
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2007-09-06 22:47:27
@_author: Scott Bennett 
@_subject: tor 0.1.2.17 server died after only a few hours 
On Thu, 6 Sep 2007 12:32:17 -0400 Nick Mathewson      Thanks very much, Nick.  A core file is still available if you
need it, but now that 0.1.2.16 has blown up, the file will be from that
version rather than the newer one.  I'll hang onto it for a week or two
in case you want it.
     That's interesting.  Would a comparison of the differences between
0.2.* and 0.1.2.1[67] in that section of code reveal any clues then?
     Actually, it's a beta, regardless of how it's labeled.  Alphas are
only tested in house.  Betas are released to the brave and/or foolish in
the outside user community.  Either way, your point is well taken and is
how I tend to see that sort of thing, too.  It's a gamble.  I spend enough
time babysitting the interaction of tor and my flaky-by-ISP's-design ADSL
link that I've been avoiding the "development" releases so far.  However,
if the "stable" releases are going to be acting up like this, it may not
make a difference, i.e., similar time commitments for the two lines of
released versions may be required.
     Ah.  Thanks for that tidbit. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-03-31 23:51:51
@_author: Scott Bennett 
@_subject: BOGUS AUTHORITY ALERT:  interesting cached-status/1A0999C05AE2B9A3CF474077F06060E91B3A847 file 
Okay.  I understood previously that the hard-coded ones would be expected,
but not that they would also be the only ones accepted.
     OTOH, it also means that my server will happily spread misinformation to
all servers requesting the status documents, and those adequately gullible will
accept the bad information, unless I have a way to prevent my server from doing
     But is there currently a way that I can, w.r.t. my torrc, "learn" from
the experience?  I.e., is there a way I can tell it to *reject* any such bogus
networkstatus documents regarding that "authority" in the future?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-02 10:54:38
@_author: Scott Bennett 
@_subject: clock jump in 0.2.0.23-rc, too 
No, I haven't.  Now that I think of it, I don't remember *ever* doing it
that way, probably because I had no reason to play around with it, and a reboot
would be required to change it and then again to change it back.  I suppose I
could also build a non-SMP kernel to try, as well.  The GENERIC kernel is a
non-SMP kernel, and it recognizes the two logical CPUs at boot time, but then
ignores cpu1 from that point on.
     Okay, but that sounds like an inordinate amount of hassle.  Also, I'm
running 6.3-STABLE, not 7.0-STABLE.
     Shortly after midnight, my Internet connection went down, and it didn't
come back up till about 10 a.m.  While the link was down and more than 21 hours
after I had disabled hyperthreading in the kernel, tor put out the following
Apr 02 02:01:22.178 [warn] Your system clock just jumped 115 seconds forward; assuming established circuits no longer work.
Apr 02 02:03:14.235 [warn] Your system clock just jumped 112 seconds forward; assuming established circuits no longer work.
Notice that, once again, the second message is timestamped the same number of
seconds later than the first message as the number of seconds complained of in
the second message.  I.e., no time actually elapsed between the two messages.
(Note also that these messages *always* say the clock has jumped *forward*,
never backward, which also argues against the idea of being whipsawed between
two out-of-sync clocks on a SMP system.)  It did this at a time that was about
14 - 16 minutes before ntpdate would next have been run by cron, and while the
network connection was down, meaning that ntpdate would not have changed the
time anyway, and while hyperthreading was disabled.
     So I reenabled hyperthreading because it clearly is not the problem.  All
the evidence suggests, but does not prove, that some change was introduced in
0.2.0.21-rc that is causing the problem.  The change might possibly have been
made earlier than that, but with the symptoms not appearing for some reason
until 0.2.0.21-rc.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-13 02:51:09
@_author: Scott Bennett 
@_subject: GSoC proposal 
On Fri, 11 Apr 2008 15:47:09 +0200 Baptiste      Again, that kind of thing appears to me to be very much opposed to the
purpose of tor.  Please don't do it.
     For TCP, yes, and the number of TCP connections currently open to each
TCP port.  tor does not, with one exception (see DNSPort and DNSListenAddres),
relay UDP packets.
     Why not?  It could be turned on/off via a line in torrc, I suppose, but
the overhead ought to be trivial enough that it could simply always be
     The raw data can best be collected inside tor; most such data would be
really difficult to collect any other way.  Presenting summarized data could
be handled by a monitor communicating with tor via tor's ControlPort, although
certain cumulative totals could be loggable by tor.
     De rien.  My guess is that most system administrator types with any
interest in tor would like to be able to see that information, at least upon
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-14 05:25:41
@_author: Scott Bennett 
@_subject: zero-knowledge protocols 
On Sun, 13 Apr 2008 20:05:07 -0400 "Rochester TOR Admin"
     Bzzzt!!  Bad example alert:  PETA is to ALF what Sinn Fein is to
the IRA.  Supposedly, it would be the other way around, i.e., PETA and
Sinn Fein (allegedly) avoid illegal activity themselves, but provide
above-ground propaganda to the world regarding their respective
terrorist sister organizations, which *do* act illegally.  Some tor
server operators may privately agree with the terrorist activities,
though I would sincerely hope that they are in the tiniest minority.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-20 05:17:01
@_author: Scott Bennett 
@_subject: server addresses 
It seems to me that there ought to be a way to advertise multiple IP
addresses for a tor server running on a machine that has multiple interfaces.
If multiple Address lines could be specified in torrc, however, that would
seem to cause a problem with the format of a descriptor in the directory.
This would allow some spreading of bandwidth over multiple links where they
are available, though it would not enable real balancing.
     Secondly, there ought to be a way to advertise a different address for
the DirPort from the address for the ORPort, which would allow the server
operator to separate the two kinds of traffic onto different subnets or
point-to-point links.  Perhaps a capability for multiple addresses for the
directory service would also be a good thing.
     At present, about the only things available like this are a) the various
*ListenAddress lines in torrc, which depend upon RDRs in a router somewhere,
and b) the OutboundBindAddress line, which actually is more likely to defeat
balancing than to aid in it.
     Comments?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-03 03:00:27
@_author: Scott Bennett 
@_subject: tor slow to respond to SIGINT 
A few minutes ago, I gave my tor server (0.2.0.23-rc) a SIGINT to begin
shutting down.  There was then a delay of somewhere between 50 and 60 seconds
before tor logged a message acknowledging receipt of SIGINT, all though it
occasionally logged other kinds of messages in the meantime.  I noticed
something like that the last time I shut it down, too, but that time it was
totally unexpected--I'd never seen tor take a full second before--so I didn't
watch the times.  This time when no log message appeared immediately, I looked
at my watch and then kept an eye peeled for the message to appear.  Something
very weird is going on here.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-03-31 23:58:10
@_author: Scott Bennett 
@_subject: "Your system clock just jumped" on Debian+VMware ESX 
On Mon, 31 Mar 2008 20:44:25 -0700 Lucky Greeen    [remainder deleted  --SJB]
     Thanks for the information.  I will keep it in mind in the event that
I ever run VMware.  The messages I've been getting, however, do not involve
backward jumps, just forward jumps, and do not stem from any sort of VM
software because I'm not running any VM software at present.  (None seems
to work on my system anyway.)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-24 14:43:08
@_author: Scott Bennett 
@_subject: clock jump error persists into 0.2.0.25-rc 
I compiled and installed 0.2.0.25-rc to try it out, and I'm sad to write,
it still has the "clock jump" problem and isn't usable:
Apr 24 06:22:18.784 [notice] Tor 0.2.0.25-rc (r14442) opening log file.
Apr 24 06:22:18.785 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Apr 24 06:22:18.990 [notice] Your Tor server's identity key fingerprint is 'MYCROFTsOtherChild 0232 2050 5A55 0D6F DF0C 20FF 7C48 E66B A06A 49A6'
Apr 24 06:22:19.432 [notice] This version of Tor (0.2.0.25-rc) is newer than any recommended version, according to the directory authorities. Recommended versions are: 0.1.2.19,0.2.0.23-rc,0.2.0.24-rc
Apr 24 06:22:26.870 [notice] We now have enough directory information to build circuits.
Apr 24 06:22:27.146 [warn] Nickname list includes 'yourd0f670b45a' which isn't a known router.
Apr 24 06:22:27.470 [notice] Self-testing indicates your ORPort is reachable from the outside. Excellent. Publishing server descriptor.
Apr 24 06:22:29.204 [notice] Tor has successfully opened a circuit. Looks like client functionality is working.
Apr 24 06:23:29.394 [notice] Self-testing indicates your DirPort is reachable from the outside. Excellent.
Apr 24 06:23:47.488 [notice] Performing bandwidth self-test...done.
Apr 24 06:43:39.007 [notice] Tried for 166 seconds to get a connection to [scrubbed]:80. Giving up.
Apr 24 06:43:39.007 [notice] Tried for 166 seconds to get a connection to [scrubbed]:80. Giving up.
Apr 24 06:43:39.007 [notice] Tried for 166 seconds to get a connection to [scrubbed]:80. Giving up.
Apr 24 06:44:05.625 [notice] Tried for 120 seconds to get a connection to [scrubbed]:80. Giving up.
Apr 24 06:44:05.625 [notice] Tried for 120 seconds to get a connection to [scrubbed]:80. Giving up.
Apr 24 06:44:06.627 [notice] Tried for 120 seconds to get a connection to [scrubbed]:80. Giving up.
Apr 24 06:49:24.328 [notice] We tried for 15 seconds to connect to '[scrubbed]' using exit 'kefiroid'. Retrying on a new circuit.
Apr 24 09:31:01.405 [warn] Your system clock just jumped 209 seconds forward; assuming established circuits no longer work.
Apr 24 09:37:12.059 [warn] Your system clock just jumped 117 seconds forward; assuming established circuits no longer work.
Apr 24 09:39:58.548 [warn] Your system clock just jumped 166 seconds forward; assuming established circuits no longer work.
Apr 24 09:42:16.878 [warn] Your system clock just jumped 138 seconds forward; assuming established circuits no longer work.
Apr 24 10:10:46.336 [warn] Your system clock just jumped 153 seconds forward; assuming established circuits no longer work.
Apr 24 10:14:54.156 [warn] Your system clock just jumped 165 seconds forward; assuming established circuits no longer work.
Apr 24 10:17:51.218 [warn] Your system clock just jumped 177 seconds forward; assuming established circuits no longer work.
Apr 24 10:19:35.515 [warn] Your system clock just jumped 104 seconds forward; assuming established circuits no longer work.
Apr 24 10:21:30.414 [warn] Your system clock just jumped 115 seconds forward; assuming established circuits no longer work.
Apr 24 10:23:17.673 [warn] Your system clock just jumped 107 seconds forward; assuming established circuits no longer work.
Apr 24 10:28:57.722 [warn] Your system clock just jumped 252 seconds forward; assuming established circuits no longer work.
Apr 24 10:35:04.234 [warn] Your system clock just jumped 213 seconds forward; assuming established circuits no longer work.
Apr 24 10:48:27.177 [warn] Your system clock just jumped 100 seconds forward; assuming established circuits no longer work.
Apr 24 11:30:51.929 [warn] Your system clock just jumped 133 seconds forward; assuming established circuits no longer work.
At the moment, I'm waiting for it to shutdown, so I can revert once again to
0.2.0.19-alpha, the last release that didn't have the clock jump problem.
Apr 24 14:28:06.232 [notice] Interrupt: will shut down in 1500 seconds. Interrupt again to exit now.
Apr 24 14:31:00.686 [warn] Your system clock just jumped 146 seconds forward; assuming established circuits no longer work.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-25 00:40:47
@_author: Scott Bennett 
@_subject: clock jump error persists into 0.2.0.25-rc 
That's possible.  Nevertheless, with 0.2.0.19-alpha and earlier, the
speculative interaction didn't happen, so it would seem to involve changes
made to tor since then.  That should limit the number of potential trouble
spot(s) to examine.  Even better, although I don't think I tried
0.2.0.20-rc, I know that 0.2.0.21-rc did have the problem, which further
reduces the changes made, though there may not have been any additional
changes to time-related code in tor after that, so later release changes
 might not make a difference in that regard.
     I'll ask out of curiousity, do you have NumCPUs 8 in your torrc?  I have
NumCPUs 2 in mine, a 3.4 GHz P4 with HT enabled.  I also build tor from source.
(With MAKEFLAGS set to -j5, it only takes a minute or so to build, IIRC.:-)
     Debug-level logs tend to be humongous.  Haven't used truss before, but it
looks like its output could be about that voluminous, too.  Is there somewhere
you'd like the results sent if I do run it that way long enough to collect some
evidence?  In the past when tor developers have asked me to do that for some
problem, I was unable to get a response to that question after I'd collected
the log output for them, so I'm hesitant to tie up that much space again unless
I know in advance what to do with it.                                    Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-25 03:41:05
@_author: Scott Bennett 
@_subject: clock jump error persists into 0.2.0.25-rc 
On Fri, 25 Apr 2008 02:59:03 -0400 Roger Dingledine      Yes, I know, but I should think that only a small part of those changes
would have used/been related to clock functions.  Were clock-related changes
made in many separate commits between 0.2.0.19-alpha and 0.2.0.20-rc?
     Not at the moment.  I wasn't aware of 0.2.0.20-rc until after
0.2.0.21-rc was available at the web site, so I never downloaded it.  If you
can tell me where to pick up a copy of it, I can give it a shot.
     Maybe.  It will depend upon whether I can successfully install
subversion and then find the time to figure out how to use it.  The former
may not be a problem.  One never knows with the ports subsystem in FreeBSD
until one attempts to install/upgrade a port or package.  That subsystem is
wonderful when it works right, but unfortunately it seems to be the only
truly fragile part of FreeBSD.  The latter depends upon what else I have
going on at the time.
     Yes, of course.
     It's not really a problem for me.  I just don't like running a tor
server that creates problems for anyone running circuits through it.
0.2.0.19-alpha still runs reliably and doesn't hallucinate clock jumps that
cause it to kill all existing TCP connections, even if it has some inoperative
features regarding hidden services.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-25 08:58:13
@_author: Scott Bennett 
@_subject: getting more exit nodes 
On Fri, 25 Apr 2008 11:15:51 +0200 Alexander Bernauer      Maybe I've forgotten something from early in the thread, but at the
moment I'm a bit mystified as to why "pseudo-exits" are worth anything.
They appear to be essentially just relay-only nodes, except with the
destinationward side of each circuit being unencrypted and therefore
less secure from an anonymity standpoint.  Adding unencrypted hops would
multiply the problems we already have with tampered exit nodes.
     If you want an extra hop in the circuits your client builds, you can
make that change simply enough yourself, and that will give you circuits
that are encrypted all the way to a genuine exit node.
     This whole pseudo-exit+client-exit stuff looks to me like it would
take a lot of coding and would provide a negative "benefit".
     Here's a more general idea.  The protocol for overhead communication
between servers and other servers and between clients and servers could
be expanded.  That way any running tor could negotiate with exit nodes to
establish whether the former were willing to provide a "limited exit" service.
This could be initiated by either side, but practically speaking, it might
best be implemented such that it were always initiated by the same side.
(My initial feeling here is that it would reduce overhead communication to
have the negotiation always initiated by the node volunteering limited exit
service.) If so, the exit node could add a descriptor for the former to a
directory internal to itself.  Clients building circuits to the exit node
could then obtain from the exit node a small directory of those descriptors
held locally by that exit node.  It could then choose an additional hop to
one of those volunteer limited exits or stick with the original exit node.
If the connection between the original exit and the volunteer limited exit
were broken or closed by either side, the exit could send a message along all
open circuits that were using the limited exit back to the originating
clients to inform them of the change, so that the clients could decide
what to do next.  The exit server would, of course, immediately delete
the descriptor for the lost limited exit node from its local directory
of currently connected limited exits.
     This obviously would also take a lot of work, but Roger, Nick, et al.
have already demonstrated their ability to map out the required protocol
designs for what they have produced already.  I'm very confident that they
could also come up with a next generation, generalized operational
communications protocol for tor instances to use with each other that would
include the capabilities of the more restricted communication protocol
already in use within the tor network.  Such a method would preserve intact
the tor philosophy and security and would merely add a highly flexible
facility to enhance the existing capability for automated reconfiguration
of the tor network.  It also would solve the problem of how to offer exit
service from behind a firewall to which the tor operator has no power to add
RDR rules to pass packets to the ORPort because the packets from the original
exit node would simply travel along the connection established by that
particular limited exit node.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-27 20:36:19
@_author: Scott Bennett 
@_subject: getting more exit nodes 
On Sun, 27 Apr 2008 13:57:34 -0700 "F. Fox"      I reject port 80, but let exits to hundreds of other ports through.
     I think the original proposal was, at least in part, an attempt to
provide a way to effectively get more exit servers by allowing people to
run exits who are unable to make an ORPort reachable due to firewall
restrictions over which they have no authority.  Their systems connect
to registered servers and would then be able to offer exit service.  (They
could also offer relay service by the same token, but that's irrelevant here.)
However, when connections to other servers are closed/broken, their services
are no longer available via the same routes.  The original proposal also
included an involuntary draft of any non-server (in the registered sense) that
connected to a registered server.  It also failed to provide encryption for
the final hop to the real exit, a serious failing that bothered many readers,
and removed some control over route selection from the client and placed it
instead with the "pseudo-exit".
     My counterproposal is essentially to expand/enhance the existing
communication between servers to allow would-be servers with insurmountable
firewall restrictions to offer their exit capabilities to the various servers
to which they connect.  The listing of such services would be kept locally in
those servers and deleted upon termination of the relevant connections.
Clients' route selection and construction routines could request from an exit
server (but in principle, could be any server) via fully encrypted paths the
queried server's local directory of extra hops to such local exit servers.
(N.B. that "local" simply means "directly connected"; i.e., "local" is used
here in a topological sense, not a geographical one.)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-03 08:43:16
@_author: Scott Bennett 
@_subject: tor privoxy etlservicemgr spytechphone 
On Thu, 3 Apr 2008 09:23:05 -0400 "joe shoemaker"      What is your exit policy?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-29 07:20:18
@_author: Scott Bennett 
@_subject: TOR+UN / Dept State / etc 
On Tue, 29 Apr 2008 18:15:24 +0700 "Wilfred L. Guerin"
     Just what we need.  Some people have way too much free time on
their hands.
     And now we return you to the subject of the list...
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-29 17:39:49
@_author: Scott Bennett 
@_subject: A way to allow firewalled exit nodes [Was: Re: getting more exit nodes] 
On Tue, 29 Apr 2008 14:50:15 +0100 Michael Rogers      Looks good to me.  And it eliminates the need for non-firewalled
servers to keep a separate, local directory of directly connected servers
like I was proposing, and that is very much better, IMHO.
     I don't see any real threat to anonymity along the line that you
mention.  The specially marked descriptors would represent *additional*
servers to the pool of existing servers to choose from in selecting a
route.  I agree that initially there might be a small risk involved when
the first few such firewalled servers appear on-line, but once the numbers
increase, that problem goes away.  When tor first came into use, the
number of exit servers must have been very small at first, but there are
so many now that the use of a minority fraction of the total server count
is not a significant risk factor.
     It looks to me as though we may have a design embryo already.  Perhaps
Roger and Nick could comment and give their thoughts on what else may be
needed for it.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-30 03:29:10
@_author: Scott Bennett 
@_subject: tor legal help in canada 
On Tue, 29 Apr 2008 23:50:01 -0400 krishna e bera      Your item 3) states, "My computer is running GNU/Linux and is not
infected with any malware or rootkits which might allow infringement
unbeknownst to me."  If you really believe such a confidently sweeping
statement, then I certainly would choose someone else to put in charge of
computer security.  :-)       Consider this alternative:  "My computer is running GNU/Linux and is
therefore not affected by malware or rootkits targeting Microsoft Windows
operating systems that might allow infringement unbeknownst to me."
     Can't help you there, I'm afraid.  I know little about Canadian law,
except that it lacks some critical constitutional protections found in the
U.S. Constitution.  (Not that that really matters here, I suppose, now that
our Constitution has been abandoned and our lawful government displaced by
the world's most powerful merger of crime syndicates.)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-30 08:15:37
@_author: Scott Bennett 
@_subject: DirPolicy 
Can someone tell me what the default value(s) is(/are) for DirPolicy?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-01 00:10:37
@_author: Scott Bennett 
@_subject: clock jump in 0.2.0.23-rc, too 
It appears that the "clock jump" problem does persist into 0.2.0.23-rc.
Here are the notice-level log messages since I started up the new version
this afternoon:
Mar 31 15:18:56.468 [notice] Tor 0.2.0.23-rc (r14173) opening log file.
Mar 31 15:18:56.468 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Mar 31 15:18:56.756 [notice] Your Tor server's identity key fingerprint is 'MYCROFTsOtherChild 0232 2050 5A55 0D6F DF0C 20FF 7C48 E66B A06A 49A6'
Mar 31 15:19:04.921 [notice] We now have enough directory information to build circuits.
Mar 31 15:19:05.311 [warn] Nickname list includes 'yourd0f670b45a' which isn't a known router.
Mar 31 15:19:11.443 [notice] Self-testing indicates your ORPort is reachable from the outside. Excellent. Publishing server descriptor.
Mar 31 15:19:15.489 [notice] Tor has successfully opened a circuit. Looks like client functionality is working.
Mar 31 15:20:09.312 [notice] Self-testing indicates your DirPort is reachable from the outside. Excellent.
Mar 31 15:21:25.926 [notice] Performing bandwidth self-test...done.
     [At this point, I SIGHUPped tor to reload torrc with "ExcludeNodes abutor"
Mar 31 16:12:18.016 [notice] Received reload signal (hup). Reloading config.
Mar 31 16:12:18.020 [notice] Tor 0.2.0.23-rc (r14173) opening log file.
Mar 31 16:12:18.021 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Mar 31 16:12:18.021 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Mar 31 16:42:39.312 [warn] Nickname list includes 'yourd0f670b45a' which isn't a known router.
Mar 31 22:30:27.110 [warn] Your system clock just jumped 101 seconds forward; assuming established circuits no longer work.
     So I now have one example of the same problem with the new release
candidate that was present in 0.2.0.22-rc.
     Does anyone have any ideas/thoughts/suggestions?  Are any others running
tor under FreeBSD 6.3-STABLE or any other FreeBSD release seeing these
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-04 03:53:00
@_author: Scott Bennett 
@_subject: Tor 0.2.0.22-rc is out 
On Fri, 4 Apr 2008 18:28:35 +1100 (EST) bao song     When you write, "all numerical IP addressed are
blocked", what do you mean exactly?  Numerical IP
addresses are, after all, the only way that TCP
connections of any kind do get made.  If all you have
is a host+domain name, you have to resolve it to an IP
address in order to establish a connection.  TCP and
IP know nothing about names.
     Also, SmartFilter would have to maintain a *lot*
of state information to keep track of the content of
all the resolver traffic and use a *lot* of CPU cycles
to use that state information to permit/deny forwarding
of SYN packets.  I doubt it could be done in any manner
that would be very practical for scaling up to a national
firewall's traffic load.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-04 04:31:09
@_author: Scott Bennett 
@_subject: Ubuntu Tor LiveCD: making your own with Remastersys 
However, at least some of your questions would be answered by a quick
look at what others have done, right?
     Attribution of quoted text (see below) is the accepted standard.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-01 03:08:29
@_author: Scott Bennett 
@_subject: BOGUS AUTHORITY ALERT:  interesting cached-status/1A0999C05AE2B9A3CF474077F06060E91B3A847 file 
On Tue, 1 Apr 2008 08:25:21 +0200 Peter Palfrader      I choose not to accept it as valid until someone like you or Roger or
Nick announces it as a new authority on this list or the or-announce list.
     I don't know why you think I'm not calm already.  In any case, why is
it fine that my tor server may be deliberately induced by an inappropriately
configured tor server elsewhere to give out bad networkstatus documents, even
if those networkstatus documents would be ignored by most/all other servers?
Even if it happens not to create a security breach, it still wastes bandwidth,
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-05 15:47:30
@_author: Scott Bennett 
@_subject: clock jump in 0.2.0.23-rc, too 
Here is some of yesterday's notice-level log from my tor (0.2.0.23-rc)
Apr 04 05:34:37.285 [warn] Your system clock just jumped 133 seconds forward; assuming established circuits no longer work.
Apr 04 05:43:23.629 [warn] Your system clock just jumped 140 seconds forward; assuming established circuits no longer work.
Apr 04 09:30:27.029 [warn] Your system clock just jumped 121 seconds forward; assuming established circuits no longer work.
Apr 04 09:35:30.627 [warn] Your system clock just jumped 104 seconds forward; assuming established circuits no longer work.
Apr 04 09:49:34.378 [warn] Your system clock just jumped 106 seconds forward; assuming established circuits no longer work.
Apr 04 10:00:42.032 [warn] Your system clock just jumped 111 seconds forward; assuming established circuits no longer work.
Apr 04 10:24:09.684 [warn] Your system clock just jumped 110 seconds forward; assuming established circuits no longer work.
Apr 04 11:17:36.702 [warn] Your system clock just jumped 126 seconds forward; assuming established circuits no longer work.
Apr 04 11:21:22.129 [warn] Your system clock just jumped 133 seconds forward; assuming established circuits no longer work.
Apr 04 11:25:26.342 [warn] Your system clock just jumped 163 seconds forward; assuming established circuits no longer work.
Apr 04 11:30:26.061 [warn] Your system clock just jumped 117 seconds forward; assuming established circuits no longer work.
Apr 04 11:33:36.188 [warn] Your system clock just jumped 126 seconds forward; assuming established circuits no longer work.
Apr 04 11:43:34.353 [warn] Your system clock just jumped 110 seconds forward; assuming established circuits no longer work.
Apr 04 11:49:46.641 [warn] Your system clock just jumped 112 seconds forward; assuming established circuits no longer work.
Apr 04 11:57:48.956 [warn] Your system clock just jumped 116 seconds forward; assuming established circuits no longer work.
Apr 04 12:08:02.819 [warn] Your system clock just jumped 122 seconds forward; assuming established circuits no longer work.
Apr 04 12:23:38.767 [warn] Your system clock just jumped 118 seconds forward; assuming established circuits no longer work.
Apr 04 12:27:52.359 [warn] Your system clock just jumped 193 seconds forward; assuming established circuits no longer work.
Apr 04 12:34:25.515 [warn] Your system clock just jumped 149 seconds forward; assuming established circuits no longer work.
     Each time one of those messages occurs, tor kills all its open circuits,
so you can see that it was being basically pretty useless as a server.  I gave
it a SIGINT to shut it down, and once again it took approximately *55 seconds*
to acknowledge receipt of SIGINT in the log.
Apr 04 13:16:18.867 [notice] Interrupt: will shut down in 1500 seconds. Interrupt again to exit now.
Apr 04 13:41:18.700 [notice] Clean shutdown finished. Exiting.
     Once the shutdown had completed, I swapped 0.2.0.23-rc for 0.2.0.19-alpha,
the last release that did *not* have the clock jump bug, to the best of my
recollection.  I have since given it a SIGHUP once to get it to change circuits
for me for a long download.
Apr 04 14:01:33.196 [notice] Tor 0.2.0.19-alpha (r13450) opening log file.
Apr 04 14:01:33.196 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Apr 04 14:01:33.767 [notice] Your Tor server's identity key fingerprint is 'MYCROFTsOtherChild 0232 2050 5A55 0D6F DF0C 20FF 7C48 E66B A06A 49A6'
Apr 04 14:01:34.177 [warn] Please upgrade! This version of Tor (0.2.0.19-alpha) is not recommended, according to the directory authorities. Recommended versions are: 0.1.2.19,0.2.0.22-rc,0.2.0.23-rc
Apr 04 14:01:42.424 [notice] We now have enough directory information to build circuits.
Apr 04 14:01:42.558 [warn] Nickname list includes 'yourd0f670b45a' which isn't a known router.
Apr 04 14:01:44.518 [notice] Self-testing indicates your ORPort is reachable from the outside. Excellent. Publishing server descriptor.
Apr 04 14:01:45.345 [notice] Tor has successfully opened a circuit. Looks like client functionality is working.
Apr 04 14:02:45.827 [notice] Self-testing indicates your DirPort is reachable from the outside. Excellent.
Apr 04 14:03:34.106 [notice] Performing bandwidth self-test...done.
Apr 04 20:15:05.533 [notice] Client asked for the mirrored directory, but we don't have a good one yet. Sending 503 Dir not available.
Apr 04 20:48:48.228 [notice] Received reload signal (hup). Reloading config.
Apr 04 20:48:48.233 [notice] Tor 0.2.0.19-alpha (r13450) opening log file.
Apr 04 20:48:48.234 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Apr 04 20:48:48.234 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Apr 04 20:48:48.666 [warn] Nickname list includes 'yourd0f670b45a' which isn't a known router.
Apr 04 21:21:11.997 [warn] Please upgrade! This version of Tor (0.2.0.19-alpha) is not recommended, according to the directory authorities. Recommended versions are: 0.1.2.19,0.2.0.22-rc,0.2.0.23-rc
     Those are all of the messages issued thus far, so 0.2.0.19-alpha has been
running with no problems for over 25 hours.  I will continue to watch the list
for news of a new release to try, but for now, the *-rc versions are quite
unusable as servers.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-06 01:21:07
@_author: Scott Bennett 
@_subject: clock jump in 0.2.0.23-rc, too 
I'm in a hurry to leave for a while, but will check these more carefully
later.  Some quick diffs didn't turn up anything in config.h.
     No, it seems to define HAVE_GETTIMEOFDAY twenty-odd times, but never
HAVE_FTIME, in each version.
     Thanks for taking a look at this.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-01 04:17:47
@_author: Scott Bennett 
@_subject: clock jump in 0.2.0.23-rc, too 
On Mon, 31 Mar 2008 22:49:05 -0700 Lucky Greeen      It's actually a hyperthreading 3.4 GHz P4.  FreeBSD supports such chips
as SMP systems, although it's really a single core with two logical CPUs vying
for pipeline slots.  Running systat's vmstat display with two-second updates,
the time interrupt counts for cpu0 and cpu1 hover around 2000 and are usually
equal.  Only rarely do they differ between them by more than a single interrupt
in each two-second interval, so it's difficult to imagine the kernel tolerating
an accumulated difference of over 100 K interrupts in the two counts occurring.
It's also hard to imagine how it could happen when there's really almost no
load on the system.
     I notice it refers to a problem in the LINUX x86_64 support for dual core
systems.  Mine is only hyperthreading-capable, not dual cored, and is only
a 32-bit chip, so I run FreeBSD's i386 versions, not the amd64 versions.
     Fascinating, indeed, but probably irrelevant to a single-cored, HTT-
enabled P4 chip.  sysctl reveals quite a few variables that are available on
such a system for the chip as a whole, but not for individual (logical) CPUs.
     Interesting thread.  Thanks.
     Here's a bit more information, the clue for which came from the second
URL's article above.
[hellas] 333 % sysctl kern.timecounter
kern.timecounter.stepwarnings: 0
kern.timecounter.nbinuptime: 751724079
kern.timecounter.nnanouptime: 5273
kern.timecounter.nmicrouptime: 353617
kern.timecounter.nbintime: 295482161
kern.timecounter.nnanotime: 157914288
kern.timecounter.nmicrotime: 137569526
kern.timecounter.ngetbinuptime: 2285019
kern.timecounter.ngetnanouptime: 18897431
kern.timecounter.ngetmicrouptime: 133591454
kern.timecounter.ngetbintime: 0
kern.timecounter.ngetnanotime: 70820
kern.timecounter.ngetmicrotime: 602672586
kern.timecounter.nsetclock: 4
kern.timecounter.hardware: ACPI-fast
kern.timecounter.choice: TSC(-100) ACPI-fast(1000) i8254(0) dummy(-1000000)
kern.timecounter.tick: 1
kern.timecounter.smp_tsc: 0
[hellas] 334 % sysctl hw.acpi
hw.acpi.supported_sleep_state: S1 S3 S4 S5
hw.acpi.power_button_state: S5
hw.acpi.sleep_button_state: S1
hw.acpi.lid_switch_state: NONE
hw.acpi.standby_state: S1
hw.acpi.suspend_state: S3
hw.acpi.sleep_delay: 1
hw.acpi.s4bios: 1
hw.acpi.verbose: 0
hw.acpi.disable_on_reboot: 0
hw.acpi.handle_reboot: 0
hw.acpi.reset_video: 0
hw.acpi.cpu.cx_lowest: C1
hw.acpi.acline: 1
hw.acpi.battery.life: 100
hw.acpi.battery.time: -1
hw.acpi.battery.state: 0
hw.acpi.battery.units: 1
hw.acpi.battery.info_expire: 5
hw.acpi.thermal.min_runtime: 0
hw.acpi.thermal.polling_rate: 10
hw.acpi.thermal.user_override: 0
hw.acpi.thermal.tz0.temperature: 55.5C
hw.acpi.thermal.tz0.active: -1
hw.acpi.thermal.tz0.passive_cooling: 0
hw.acpi.thermal.tz0.thermal_flags: 0
hw.acpi.thermal.tz0._PSV: -1
hw.acpi.thermal.tz0._HOT: -1
hw.acpi.thermal.tz0._CRT: 89.0C
hw.acpi.thermal.tz0._ACx: -1 -1 -1 -1 -1 -1 -1 -1 -1 -1
hw.acpi.thermal.tz0._TC1: -1
hw.acpi.thermal.tz0._TC2: -1
hw.acpi.thermal.tz0._TSP: -1
[hellas] 335 %
Now, I make no claim to knowing the significance of all of the above.  My
guess is that the value of kern.timecounter.hardware means that the kernel is
not using the TSC anyway, so the problem you describe above would not be what
is happening here.  Another guess is that kern.timecounter.hardware may be set
that way because kern.timecounter.smp_tsc is set to 0.  (The hw.acpi stuff
shows some examples of variables not duplicated for the two logical CPUs, e.g.,
cpu.cx_lowest and thermal.tz0.*.  There are some others hidden elsewhere, too.)
     How does it look to you?  BTW, I'm running FreeBSD 6.3-STABLE.  The
message your second URL pointed to is from 2004, and an awful lot of things
have changed since then.  (FreeBSD 7 includes many, many more changes,
including the change of default scheduler to the ULE scheduler, made reliable
at last for SMP operations, so if anything, 7.x is probably even less
vulnerable to the vagaries of various timer support mechanisms than 6.x, but
I'm not running that system yet.)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-04-01 04:58:22
@_author: Scott Bennett 
@_subject: clock jump in 0.2.0.23-rc, too 
On Mon, 31 Mar 2008 22:49:05 -0700 Lucky Greeen     [much deleted  --SB]
     Okay.  First off, here is the latest batch of messages.
Mar 31 22:30:27.110 [warn] Your system clock just jumped 101 seconds forward; assuming established circuits no longer work.
Apr 01 00:11:46.119 [notice] Tor has successfully opened a circuit. Looks like client functionality is working.
Apr 01 03:33:23.582 [warn] Your system clock just jumped 105 seconds forward; assuming established circuits no longer work.
Apr 01 03:35:44.206 [warn] Your system clock just jumped 141 seconds forward; assuming established circuits no longer work.
Apr 01 03:37:45.574 [warn] Your system clock just jumped 121 seconds forward; assuming established circuits no longer work.
Apr 01 03:38:43.885 [notice] Tor has successfully opened a circuit. Looks like client functionality is working.
Apr 01 04:15:30.446 [warn] Your system clock just jumped 110 seconds forward; assuming established circuits no longer work.
Apr 01 04:16:27.713 [notice] Tor has successfully opened a circuit. Looks like client functionality is working.
Apr 01 04:18:59.194 [warn] Your system clock just jumped 148 seconds forward; assuming established circuits no longer work.
Apr 01 04:21:19.749 [warn] Your system clock just jumped 140 seconds forward; assuming established circuits no longer work.
Apr 01 04:25:01.172 [warn] Your system clock just jumped 127 seconds forward; assuming established circuits no longer work.
     Right about this point--I don't know the exact time, but a date command
entered soon after showed Tue Apr  1 04:25:46 CDT 2008--I gave it a
However, another message soon arrived:
Apr 01 04:27:34.551 [warn] Your system clock just jumped 153 seconds forward; assuming established circuits no longer work.
Apr 01 04:29:33.772 [notice] Tried for 120 seconds to get a connection to [scrubbed]:80. Giving up.
Apr 01 04:29:56.323 [notice] Tor has successfully opened a circuit. Looks like client functionality is working.
So it would appear that the SMP issue is not operative here.
     Also, I'd like to reiterate that I never saw this behavior before running
0.2.0.21-rc, and now I've seen it with 0.2.0.22-rc and 0.2.0.23-rc.  I've been
using tor on my FreeBSD system since sometime in 2005 and as a server on the
same system since April 2007, well before 0.2.0.21-rc was made available.  I
don't know what is causing it, but it definitely is a problem.  I'll leave
hyperthreading disabled for a while to see what else happens, but eventually
I do want to turn it back on again.  Despite all the bashing by AMD fanatics,
hyperthreading really does get a lot more work done per core in a given time,
provided that work is broken into multiple threads or processes that are safe
to run in parallel.  It will be interesting indeed to see the difference in
throughput on Intel's forthcoming eight-cored chips for hyperthreading enabled
vs. disabled.
     Another tidbit of information is that I checked systat's vmstat display
once again after disabling hyperthreading and found that the total of ~4000
timer interrupts in each two-second interval are no longer split evenly between
cpu0 and cpu1.  Instead, all ~4000 interrupts occur on cpu0 and none at all
occur on cpu1.  Hmmm...I suppose I ought to comment out the "NumCPUs 2" line
in torrc until I reenable hyperthreading, but with the machine running at over
99% idle most of the day, it probably makes no real difference anyway.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-03-31 19:56:29
@_author: Scott Bennett 
@_subject: BOGUS AUTHORITY ALERT:  interesting cached-status/1A0999C05AE2B9A3CF474077F06060E91B3A847 file 
It has now been several hours since I posted a message about an impostor
authority.  Having received no response thus far from the list, I am reposting
the message below with a stronger Subject: line.  I'd also like to make the
additional comment that I would very much like to see a torrc line available,
similar to ExcludeNodes, that would allow individual tor operators to ignore
specific directory servers when those operators decide there is a problem with
those servers.  For example, "ExcludeAuthorities" would refuse to accept status
or consensus documents from the listed servers.  "ExcludeDirectoryNodes" would
refuse to contact the DirPort of each listed server.
   ---------------------------------------------------------------------
     This cached-status file begins with:
dir-source s15192785 212.227.86.59 9030
fingerprint 1A0999C05AE2B9A3CF474077F06060E91B3A847B
contact Random Person published 2008-03-29 09:54:11
-----BEGIN RSA PUBLIC KEY-----
-----END RSA PUBLIC KEY-----
The above lines are then followed by the usual "r" and "s" lines, but oddly
enough, no "opt" lines.  Usually I see three lines (one of each of the above)
for each router.
     However, looking for that IP address (212.227.86.59) in this section, I
find not "s15192785", but "abutor":
r abutor GgmZwFriuaPPR0B38GBg6Rs6hHs 4Oj8zvA0SAIoRuEI2y9MsGYsBk4 2008-03-28 21:07:43 212.227.86.59 9001 9030
s Authority Fast Stable Running Valid V2Dir
Notice the "Authority" flag in the "r" line above.  This flag does not appear
for this router in any of the other four cached-status files.
     So how do I block this bogus cached-status file and its illegitimate
"Authority" flag for a screwed up router with bad contact information?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-03-31 20:19:31
@_author: Scott Bennett 
@_subject: more clock jump messages from 0.2.0.22-rc 
0.2.0.22-rc continues to complain of clock jumps, even though I can find
no evidence that such have occurred.  Relevant background information includes:
Here are today's relevant messages from 0.2.0.22-rc:
Mar 31 06:36:26.955 [warn] Your system clock just jumped 115 seconds forward; assuming established circuits no longer work.
Mar 31 06:38:22.028 [warn] Your system clock just jumped 116 seconds forward; assuming established circuits no longer work.
Mar 31 06:40:17.083 [warn] Your system clock just jumped 115 seconds forward; assuming established circuits no longer work.
Mar 31 06:42:12.149 [warn] Your system clock just jumped 115 seconds forward; assuming established circuits no longer work.
Mar 31 06:44:07.205 [warn] Your system clock just jumped 115 seconds forward; assuming established circuits no longer work.
Mar 31 06:46:11.267 [warn] Your system clock just jumped 124 seconds forward; assuming established circuits no longer work.
     As you can see, the messages above began coming so fast that less than a
second elapsed between them.  (Add the number of seconds allegedly jumped to
the timestamp, and you'll see what I mean.)
     When the Internet connection was restored, the following appeared, due to
a new IP address having been assigned by the ISP's PPPoE server:
Mar 31 07:26:02.908 [notice] Your IP address seems to have changed to 66.225.36.50. Updating.
Mar 31 07:26:16.244 [notice] Self-testing indicates your ORPort is reachable from the outside. Excellent. Publishing server descriptor.
Mar 31 07:26:18.639 [notice] Tor has successfully opened a circuit. Looks like client functionality is working.
Mar 31 07:26:42.368 [notice] Self-testing indicates your DirPort is reachable from the outside. Excellent.
Mar 31 07:28:30.592 [notice] Performing bandwidth self-test...done.
Mar 31 08:15:03.840 [notice] Have tried resolving or connecting to address '[scrubbed]' at 3 different places. Giving up.
Mar 31 08:15:03.841 [notice] Have tried resolving or connecting to address '[scrubbed]' at 3 different places. Giving up.
Mar 31 09:48:15.771 [warn] Your system clock just jumped 115 seconds forward; assuming established circuits no longer work.
Mar 31 10:22:03.184 [warn] Your system clock just jumped 102 seconds forward; assuming established circuits no longer work.
Mar 31 10:30:44.870 [warn] Your system clock just jumped 123 seconds forward; assuming established circuits no longer work.
Mar 31 10:48:18.673 [warn] Your system clock just jumped 139 seconds forward; assuming established circuits no longer work.
Mar 31 12:20:13.316 [warn] Your system clock just jumped 116 seconds forward; assuming established circuits no longer work.
Mar 31 13:12:22.667 [warn] Your system clock just jumped 110 seconds forward; assuming established circuits no longer work.
Mar 31 13:34:31.505 [warn] Your system clock just jumped 144 seconds forward; assuming established circuits no longer work.
Mar 31 13:37:00.677 [warn] Your system clock just jumped 149 seconds forward; assuming established circuits no longer work.
Mar 31 13:57:56.749 [warn] Your system clock just jumped 161 seconds forward; assuming established circuits no longer work.
Mar 31 14:17:32.753 [warn] Your system clock just jumped 139 seconds forward; assuming established circuits no longer work.
Mar 31 14:48:46.974 [warn] Your system clock just jumped 122 seconds forward; assuming established circuits no longer work.
Mar 31 14:50:51.721 [warn] Your system clock just jumped 125 seconds forward; assuming established circuits no longer work.
     Server traffic, of course, had dropped to nearly zero at this point.
Figuring that restarting tor might, as I had previously observed, stop the
problem, I did so.  Restarting also allowed me to upgrade to 0.2.0.23-rc, and
thus far, the problem has not recurred.  However, unless the problem was
addressed in the changes made between 0.2.0.22-rc and 0.2.0.23-rc, the problem
is likely to return.
Mar 31 15:13:21.073 [notice] Interrupt: will shut down in 1500 seconds. Interrupt again to exit now.
Mar 31 15:16:39.914 [warn] Your system clock just jumped 145 seconds forward; assuming established circuits no longer work.
     I should add that there was an uncommonly long delay, at least 10 seconds
and probably more like 15, between my hitting the enter key with the second
"kill -INT `cat /var/run/tor/tor.pid`" command and the following message.  The
system was ~99% idle at the time.
Mar 31 15:18:05.510 [notice] Sigint received a second time; exiting now.
     If anyone else is seeing this weird clock jump message when no clock jumps
appear to be happening, please post any information you have about it to the
     Thanks much.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-01 01:00:11
@_author: Scott Bennett 
@_subject: Bug: improperly bound listen addresses? 
On Thu, 31 Jul 2008 21:31:40 -0400 grarpamp wrote without proper attribution of quoted text:
     Perhaps you would explain to us why you wish to be able to use
secured ports as client ports rather than server ports.  Your example,
port 53, is the port to which named binds.  The routines in resolv.conf,
of course, use whatever port the kernel assigns to them because they
are client routines, not the DNS server routines.  It's not at all
clear what you have in mind.
     Yes, that is because it needs to determine from time to time whether
the name server used by your system has been corrupted to hijack "no
answer" queries or queries for A RR's for certain popular web sites.  If
you have entered a host+domainname on the Address line in torrc, tor also
needs to be able to resolve that address.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-15 04:58:48
@_author: Scott Bennett 
@_subject: MaxOnionsPending questions 
The tor man page says,
Does "onionskins" in this context mean cells or cell payloads?  What is a
typical high water mark for the number of onionskins actually in a decryption
queue at one time?  Under what circumstances?  How can one find out what the
actual high water mark is for one's own tor server?  Is there a way to reset
the current high water mark to 0, so that one could find out usage levels on
a periodic basis?
     Thanks in advance for any answers or clues.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-05 04:42:12
@_author: Scott Bennett 
@_subject: SIGHUP without effect 
Hmmm...I see Hans has already followed up to Karsten, so I'll respond
by following up to Hans's message.
     On Tue, 5 Aug 2008 10:47:43 +0200 Hans Schnehl      Bugs are both reported and discussed on or-talk all the time.  That's
one of the more useful things about the list, IMO, and helps serve as an
early warning system.
     I first noticed that traffic had dropped to only a few, occasional
packets per second (not even every second).  I then checked the most recent
consensus and status documents and found that MYCROFTsOtherChild was missing
from them.  What log statements did you have in mind?  Perhaps something like
"Oops!  I forgot to upload an updated descriptor, so I'm going into hiding"?
It forgot to do it, so it had nothing to log.  That was the next thing I
checked.  If left unmolested, tor normally uploads a new descriptor to the
authorities about every eighteen hours, but if it forgets to do that, then
that's pretty much the death knell of its usefulness until it has been
restarted.  Giving it a SIGHUP at this point does not then cause a new
descriptor to be uploaded, apparently regardless of ExitPolicy changes.
     I suppose, but I thought there was a provision also for an update if
a considerable increase in bandwidth usage over the previously reported
value had happened.
     And that, I confess, is something I have sometimes done as well.  I do
not know whether that activity is at all correlated with tor's occasional
     Hans, the "missing" log messages aren't there because they were never
written to your log.  That's not due to any failure on your part.  tor simply
didn't do anything (about uploading a descriptor) that would have needed to
be logged.
     Again, I'm not at all sure that there is anything we could "do" to
reproduce the situation, though there is admittedly a chance that you could
be onto something about SIGHUP triggering a problem that doesn't become
noticeable till later on.  I just don't remember whether I had done that
before any of the times that tor failed to do the upload at the normal times.
     Likewise.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-05 04:50:13
@_author: Scott Bennett 
@_subject: SIGHUP without effect 
Hans seems to have trimmed the following from the beginning of Karsten's
message, so I'll address that part here.
     On Mon, 04 Aug 2008 10:35:00 +0200 Karsten Loesing
     AFAIK, yes.  However, see Hans's suggestion that using SIGHUP may
somehow result in the problem happening later on.
     At least eighteen hours. :-)  Beyond that, I see no pattern so far.
     No, I do not know how to cause it to happen.
     I've never seen it happen before now (0.2.1.2-alpha).
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-05 06:59:23
@_author: Scott Bennett 
@_subject: questions about MinUptimeHidServDirectoryV2 in 0.2.1.2-alpha 
The tor man page says,
My questions are, what is the justification for the default of 24 hours?  And
why have this particular option at all?  Why not instead have a "no longer
fresh/up to date" indicator somewhere, much like the fresh-until line for
consensus/status documents, so that a server that beomes disconnected or goes
down for only a brief time will remain available to provide hidden service
directory service as much of the time as possible?  Or, better yet, why not
simply handle this issue the same way that it is handled for normal directory
(mirror) service?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-18 02:31:19
@_author: Scott Bennett 
@_subject: ExitPolicy question 
I added a number of ExitPolicy statements to torrc recently that take
the full form of
However, when I try to fetch a web page from a that resolves to w.x.y.z (web server on port 80) by specifying
I get the common 404 due to the name not being resolved (as far as the
browser is concerned), and the info-level log from tor says things like
Aug 18 01:33:31.274 [warn] Requested exit point 'mycroftsotherchild' would refuse request. Closing.
(MYCROFTsOtherChild is my server's Nickname, and it's running 0.2.1.4-alpha.)
Is tor supposed to refuse to allow one to test one's own exit policies in
this way?  Or am I doing something else wrong?  Thanks in advance for any
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-18 08:25:53
@_author: Scott Bennett 
@_subject: Confusion about TorButton, Noscript, etc. 
NoScript handles everything indisdcriminately, IIRC.  QuickJava allows
one to disable Java, while enabling JavaScript.  NoScript then allows one
to disable JavaScript on a site-by-site basis, while Java is disabled for
all sites by QuickJava.  QuickJava puts two small buttons at the bottom of
a Firefox window, one for Java and one for JavaScript.  Clicking on a
QuickJava button toggles the enabled/disabled status of whichever feature
it controls, so if you need to override it momentarily, it's trivial to do
so and then toggle it back as soon as you've gotten what you need.
     I'm currently using old software:  Firefox 1.5.0.8, TorButton 1.4.0.01,
and SwitchProxy 1.4.  My NoScript is 1.7.8 and should be reasonably current
because it's still getting updated frequently.  I'm not at all happy about
the ancient Firefox, but I'm kind of stuck with this setup until I next
install a new FreeBSD release.  Looks like the FreeBSD team has begun talking
about 7.1 lately, so it might even happen before the end of the year.  (I
generally avoid x.0 releases, so have sat with 6.3 quite a while.  However,
my ports tree is stuck at over a year ago, so no Firefox or TorButton
updates. :-< )
     Anyway, QuickJava is a nice complement to NoScript.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-18 15:14:35
@_author: Scott Bennett 
@_subject: Paid performance-tor option? 
On Mon, 18 Aug 2008 12:44:44 -0600 macintoshzoom
     People connect to the coffee shops' wireless access points anonymously
in many cases and are given private IP addresses via DHCP.  Granted, some
coffee shops do have security cameras that *might* make it possible to
figure out which person's computer got which IP address by noting DHCP
server logs and viewing the tapes after the fact.  To do so would be so
expensive that it would only be done in cases where someone specific were
already being surveilled.
     But even if they knew which person got the IP address that opened
connections to tor servers, they still wouldn't know what that traffic
contained.  If the adversary agency were that serious about it, it would
simply do a black bag job and be done with it.
     [much political dogma deleted  --SB]
     So open the port on your exit server.  There's no technical reason
that you can't.  Most people don't do that because a) it can also open
the operator to endless legal hassles from powerful entities like RIAA,
law enforcement agencies, etc. and b) the P2P bandwidth in use over the
open Internet might well swamp the limited tor network bandwidth, thereby
rendering tor useless for everyone else.
     Nice attitude toward those who simply want to stay out of jail, not
have their computers and homes taken from them, etc.  Must be nice to have
all the power from which you appear to speak to defend yourself.  Keep in
mind that universities typically block known P2P ports on the open net,
anyway, for both legal and bandwidth reasons.  If their administrations
believed that a significant fraction of tor's bandwidth were being used
for P2P stuff, some of them might order their tor servers be shut down.
     Just out of curiousity, how much bandwidth are you currently donating
to the tor network?  Given that most people don't change routelen from 3
to a larger value, would 1/3 of the bandwidth that you contribute be
enough to cover your P2P needs?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-05 23:29:02
@_author: Scott Bennett 
@_subject: questions about MinUptimeHidServDirectoryV2 in 0.2.1.2-alpha 
On Tue, 05 Aug 2008 15:01:06 +0200 Karsten Loesing
     How is that different from the situation of normal directory mirrors?
     In other words, it is already covered by the "Guard" and "Stable"
flags from the authorities, right?
      It's very pretty, but, given the legend, which I assume denotes
uptimes in hours, the axis labels are not helpful.  What exactly do
"Directory Size" and "Time Index" refer to?
     I understand that, though it is also useful for the operators of the
current authorities should the policy change.  What I still don't see is
the need for a 24-hour delay before a server stops being only potentially
useful and becomes actually useful.  Earlier today the HSDir count was
down to only *4*.  How is it thus helpful to keep other servers from being
available for use?
     Not particularly at present, but I'll revisit your graph after I find
out what your labels mean.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-18 22:46:42
@_author: Scott Bennett 
@_subject: Paid performance-tor option? 
On Tue, 19 Aug 2008 09:04:25 +0700 Roy Lanek wrote, improperly quoting without attribution:
     Why, to the administration at the university (or the bosses at the
company) one works for or to one's ISP, of course.  Perhaps also to a judge.
Wasn't that obvious?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-18 23:34:40
@_author: Scott Bennett 
@_subject: descriptor bandwidth field questions 
When a server publishes its descriptor, it includes a "bandwidth" line
that has three fields.  The first two can be set by lines in torrc, and the
third is set by the server's recorded traffic levels in the preceding 24
hours or since the server started relaying traffic.  My questions are as
     My third item takes a bit of explanation.  The third bandwidth field
in the descriptor, which holds the high-watermark rate sustained for at
least 10 seconds in the preceding 24 hours can vary upward toward the
actual capacity of the server and its network connection or downward away
from the actual limiting data rate of the server and its connection to the
Internet.  If a server goes down and comes back up again, it seems quite
reasonable that the published "observed" (read:  actually used) bandwidth
should find a reasonable starting point, probably based upon the initial
bandwidth self-test results, adjusting upward from there asymptotically
toward the real limit thereafter.  However, it is unclear to me why
successive updates ought ever to diverge from that limit if the server has
not gone down and been restarted.
     A matter that should be considered here is the feedback effect of
publishing a server's actually used bandwidth at a time when the tor network
happens to be getting reduced traffic upon the allocation of circuits and
streams to the server during the next 18+ hours after publication.  In
other words, publishing a reduced bandwidth due to temporarily lower demand
may tend to discourage full use of actually available bandwidth in the
future, leading to publication of lower "observed" bandwidth again, leading
to reduced traffic being sent through that serverr, resulting in publishing
a low value again, and so on.
     If I missed something for 3), please point it out to me.  Thanks much!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-19 01:10:16
@_author: Scott Bennett 
@_subject: Paid performance-tor option? 
On Tue, 19 Aug 2008 11:45:52 +0700 Roy Lanek wrote, quoting me without attribution:
     Oh.  Okay.  Let me attempt to clarify.  First, let me say that I do
not know which country's/countries' environment(s) inform(s) your perspective,
so I will try to explain what a tor server operator here in the U.S. may well
be up against.
     tor server operators generally fall into one or both of the following
categories:  those who run their servers using their employers' resources
and those who run their servers using their own private resources.  Those
who use their employers' resources do so either with their employers'
official or tacit approval or without approval, in the latter case perhaps
following the ancient maxim that it is better to ask forgiveness than to
ask for permission.  In either situation, the server operator who wishes
to continue to be allowed to run the server should avoid drawing unwanted
management attention to the server.  Server activities that cause complaints
that may result in legal hassles for the employer are especially likely to
get the server shut down, and in some situations might even result in some
sort of disciplinary action against the server operator.
     A partial exception to this is likely to be found in academic
institutions and some kinds of non-profit and/or advocacy organizations.
Colleges, universities, and public research insititutions (DOE-operated
national labs excepted, of course), for example, have a strong traditional
streak of support for the freedoms of press and speech--yes, those very same
ones found in the first ratified article of amendment to our now discarded
Constitution--and may well be more likely than businesses to stand up for the
freedom of electronic communication fostered by tor, but that doesn't
mean that they would be happy about devoting their limited legal counsel
resources to defend an employee's pet tor server's configuration.  They
may also not wish to devote potentially 80% - 90% of their bandwidth
budget to people stealing copyrighted movies, etc., rather than to uses
that are normally part of the institutions' missions.  That may still go
on, of course, but not identifiably so if their is no open exit for it.
     tor server operators using their own private resources for their
servers face a related reality.  Most are running their servers on their
computers at home over an ISP's link to the Internet and are thus at the
mercies of their ISPs.  In many areas, there is only one ISP to choose
from, so if a tor server's activities cause the ISP to drop the customer's
service, that tor server is effectively shut down permanently.  Where more
than one ISP is available, service levels and prices typically differ from one ISP to the next.  If a server operator is currently getting the best
deal available in the area, then there is a strong incentive not to allow
one's exit server's activities to drop the account.
     In some countries, e.g., Germany, tor server operators have been
arrested and their equipment (and data!) have been confiscated because of
some of their servers' exit activities.  A typical home server operator
is not going to be well prepared to afford the time, stress, or money to
face such situations.
     I have no idea what that is about, much less how it is supposed to be
relevant to the discussion.
     No, to both questions.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-06 00:00:14
@_author: Scott Bennett 
@_subject: Bug: improperly bound listen addresses? 
^^^^^^^^^^^
     Sigh.  I see that once again I've written garbage while fading in and
out due to lack of sleep.  That should have said, "libresolv" (i.e., the
resolver library), of course.
     If you have named running, then putting 127.0.0.1 into resolv.conf
as a server should cause all queries to go to your named.  It should
only be necessary to specify a remote name server as a backup in case
your named crashes or becomes otherwise unresponsive.
     I think you're barking up the wrong tree here.  I don't know of
any way to tell the resolver routines to bind only to a particular
network interface for sending their queries.  If you really need to do
that, you need to have the source for the resolver library, so you can
build it with your own modifications.  AFAIK, tor uses the resolver
library, so adding a command line/torrc option like you're asking for
would have no effect.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-19 05:45:23
@_author: Scott Bennett 
@_subject: Paid performance-tor option? 
On Tue, 19 Aug 2008 15:49:50 +0700 Roy Lanek again quoted me without attribution:
     Is there some reason you don't write coherent paragraphs?  I really
cannot parse the above bit of your writing.  Try writing straightforward
sentences without embedded asides.  Put the asides into separate, complete
sentences instead.  That usually helps readers to overcome language translation
problems.  N.B. that I am not objecting to or contradicting what you're saying
above; rather I simply can't figure out what you are saying.  I see words and
punctuation, but they don't fit together into sentences.
     You're still not making sense.  I can't respond to whatever arguments
you may be making if I can't figure out what they are.  My apologies, but
I am definitely not telepathic.
     Why did you quote only snippets out of context from my earlier response
and quote them out of sequence as well?
     Yes, the U.S. is thoroughly screwed up, but that wasn't what I was
saying.  I was simply stating that what I was about to present was what a
tor server operator in the U.S. has to consider.  tor server operators in
other countries may have different things to consider.  Because I don't
know your life history w.r.t. where you have lived and worked with computers
and networking, I can't begin to relate the situation here to whatever you
may have encountered wherever you are.
     Oh?  In August or September 2000?  What event are you referring to?
     Where did you get an idea like that?  I don't recall anything about it
one way or another appearing in this thread.
     How advanced are you counting as elementary?  I got as far as ODE, time
series data analysis, and a M.S. in atmospheric sciences w/grad minor in
physical oceanography.  Is that enough?
     If you would stop ranting and raving long enough to make clear what's
bothering you, perhaps I could address it.  At present, it's not clear what
you're going on about, although I have some suspicions about the above.
However, if it doesn't pertain to issues regarding tor or network anonymity
in general, perhaps a continued discussion should happen off the list.
     Whatever it might mean for a planet to have a navel, I get the impression
you're more interested in a forum in which to vent some unspecified ire,
rather than to discuss tor.  As noted earlier, further discussion needs to
be removed from this list.  Here's another point:  entering into a comversation
assuming that the other participants are opposed to your views, rather than
finding out what they think or might know about something is not likely to
be terribly productive.
     See above.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-19 06:30:35
@_author: Scott Bennett 
@_subject: Paid performance-tor option? 
On Tue, 19 Aug 2008 13:17:58 +0200 Ansgar Wiechers      This I've discussed here before.  Demanding the use of threaded mail
readers is silly for a low-volume list and is not required in any case.
And I don't have one.  There's really no point in rehashing the rest of
the reasons.  Check the archives if you really care.
     OTOH, failure to edit responses properly simply makes comprehension
of the sequence of messages very difficult.  Keeping track of who said
what when text from previous messages is quoted without attribution is
like trying to read a story with some or all of the characters' names
removed, especially when there are lengthy conversations in the story.
     Quoting pieces of a message out of order should be done only with
adequate notification that that is what is going on and should only be
done for some good and specific reason.  Otherwise the rearrangement, too,
can lead to confusion.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-19 08:38:29
@_author: Scott Bennett 
@_subject: [OT]  mail interfaces (was Re: Paid performance-tor option?) 
On Tue, 19 Aug 2008 15:23:08 +0200 Ansgar Wiechers      Like I wrote before, check the archives if it really concerns you
so much.
     One more time, repeat after me:  Scott Bennett is *not* the system
administrator on this system and *cannot* install mail software onto it.
It is not a matter of my refusing to accede to your unreasonable demands
to do something I cannot do in order to pamper your lazy self.  I have no
trouble following the traffic on this list.  Maybe you should try reading
something easier if it gives you trouble.  Stop worrying about headers,
and start worrying about content.
     Now give it a rest, would you?  This list is supposed to be about tor,
for goodness's sake.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-19 20:37:31
@_author: Scott Bennett 
@_subject: Paid performance-tor option? 
On Tue, 19 Aug 2008 17:03:12 -0400 Michael Holstein
     That was the kind of thing I'd assumed would be obvious.  Thank
you.  I think my error may have been in assuming that it would be
obvious to anyone, without considering those who might never have a)
worked in the U.S. or b) tried to provide a public service on someone
else's money when the service isn't required by government.
     Ouch.  Sorry to hear it. :-(
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-19 22:46:55
@_author: Scott Bennett 
@_subject: Hidden Service Performance GSoC Project Report 
On Mon, 18 Aug 2008 19:30:25 +0200 Christian Wilms
     This looks like very helpful work.  Do you know when to expect it to
be incorporated into a future distribution of tor?
     Thanks for the good work!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-20 07:14:49
@_author: Scott Bennett 
@_subject: Update to default exit policy 
On Wed, 20 Aug 2008 11:34:41 +0100 Dawney Smith
     Port 587 is a mail submission port.  I'm not so sure about 465, though.
A comment that I had left for myself in my torrc prompted me to check it out
again to refresh my memory.  The lines pertaining to it in my /etc/services
          465/tcp     protocol over TLS/SSL (was ssmtp)
          465/udp     protocol over TLS/SSL (was ssmtp)
urd             465/tcp    # URL Rendezvous Directory for SSM
So I went back and dug it out (
urd             465/tcp    URL Rendesvous Directory for SSM
igmpv3lite      465/udp    IGMP over UDP for SSM
     Must be interesting.  I don't think I ever had to handle more than
somewhere between 20,000 and 30,000 users, so it was fairly simple most of
the time.  And, I mustn't omit, there was a very dedicated secretary down
the hall who dealt with things like forgotten passwords in between all her
regular duties. :-)
     Well, my server has had 465 open for a long time, but it is one of
the ones in the U.S. that you excluded above.  I don't know offhand whether
an exit to 65 has ever been used on my server, but I've gotten no complaints
about it to date, so I don't currently see it as a problem.
     I do keep 25 closed and basically for the same reason that I keep
6668-6999 closed.
     Fortunately for me, I don't need to do that at present, but given the
way of the world, I figure I probably will sooner or later.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-20 13:16:17
@_author: Scott Bennett 
@_subject: Bandwidth distribution (was: Re: AllowInvalidNodes entry, exit, ... ?) 
On Wed, 20 Aug 2008 18:19:40 +0200 Sven Anderson      Very nicely done.  I was just curious, though, what other flags you
used, if any.  Running?  Not BadExit?
     Thanks much for the graphs!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-07 03:49:17
@_author: Scott Bennett 
@_subject: exit node "tortila" adds material to www.barnesandnoble.com home page 
Here's a "heads up" about a German exit that adds material to at least
the  home page.  The culprit node's nickname is "tortila"
and has an IP address of 217.172.60.111.  The added material includes a green
background block at the top of the page that includes the following text:
0 zum Ausgangspunkt ihrer ?berzeugend argumentierenden Studie ?ber Gender und Konflikte. Sie bescheinigt den m?nnlichen Fachkollegen, auf beiden Augen "gender-blind" zu sein (S. 1). Mit zahlreichen Belegen dokumentiert sie, wie androzentrische Grundannahmen den Blick auf die komplexen Probleme in Kriegen und bei Friedensprozessen verzerren.
Gender als Analysekategorie
Demgegen?ber veranschaulicht die Autorin in insgesamt sechs Kapiteln, welchen Erkenntnisgewinn die systematische Integration von Gender in theoretische und empirische Friedens- und Konfliktstudien erm?glicht. W?hrend das erste Kapitel die Konzeption dieses ?berblickswerks erl?utert, konzentriert sich das zweite auf detaillierte Begriffsanalysen. Darauf sinnvoll aufbauend liefert das dritte Kapitel eine theoriegeleitete Reflexion der Interdependenzen zwischen Geschlechterkonzepten, Ethnizit?t, Nationalismus und Vorstellungen von kollektiver Identit?t. In
It also appears to try to run some JavaScript, but I have NoScript installed
in Firefox, so that didn't do anything.
     I don't know German, so I don't really know what it says, but I gather
from cognates that it is some sort of politically motivated message that gets
added to the home page.  I've now added "tortila" [sic] to my ExcludeNodes
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-21 08:44:07
@_author: Scott Bennett 
@_subject: xB Mail: Anonymous Email Client 
On Thu, 21 Aug 2008 09:29:49 +0100 Dawney Smith
     IANA has assigned port 465 to another function.  Why do you believe
that a conflicting use should be supported or encouraged?  I'd stick with
587 and 25 until such time as another mail port is assigned.  If you think
that might take forever, you could try campaigning for it, I suppose.  Of
course, if a campaign is successful, it might only take forever minus a
year or two. :-)
     Except for the aforementioned push to use the urd port for [S]SMTP,
the rest of the above seem good to me.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-21 09:47:18
@_author: Scott Bennett 
@_subject: xB Mail: Anonymous Email Client 
On Thu, 21 Aug 2008 15:31:06 +0100 Dawney Smith
     I see an explanation of what would be secure, which it certainly appears
to be.  I don't see an explanation of why that particular port (465) should
be used for mail when it has been assigned to another purpose.  After all,
should we use 995 for SSH?  That would be secure, too.
     Simply because they *is* a mail port.  I happen to want a smtps port,
too, but one has yet to be assigned.  Stealing a port assigned to another
purpose is not usually justified.
     I guess that's sort of the old "possession is 9/10 of the law"
attitude.  It may work, but also has unwanted consequences.
     100% agreed.  My concern is only over using a port for mail that
is already assigned to another service.  There are lots of unused, secured
ports (i.e., numbers < 1024) that could be reserved.  Actually, I have no
real idea how much bureaucratic red tape and delay is involved in getting
a port assigned to an obviously worthy function, so my pessimistic time
estimates in my previous message are just my grumbling about bureaucracy
in general.  Please forgive that.  But perhaps it's time to find out about
getting a port properly assigned to smtps.  (I can imagine sighs of relief
echoing around the world when the new assignment gets announced because it
*has* been needed for a long time.)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-07 05:19:22
@_author: Scott Bennett 
@_subject: exit node "tortila" adds material to www.barnesandnoble.com home page 
On Thu, 7 Aug 2008 11:59:34 +0200 Hans Schnehl      Weird.  My father used to tell me that his grandmother had a saying that
everyone served some purpose/function in the world, even if only to serve as
the bad example.
     Well, it was certainly a surprise to me. :-(  I quickly gave tor a SIGHUP,
waited 30-40 seconds until I saw that that circuit had been shut down and a
new one built, then tried again.  That time I got the page I expected.
     De nada.  It's a case of OR-TALK serving as an early warning system, as
I mentioned in another message, though in that one I was really thinking of
early bug warnings, rather than early bad exit warnings. :-}
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-22 07:00:02
@_author: Scott Bennett 
@_subject: Tor 0.2.0.30 is released 
On Thu, 21 Aug 2008 15:44:21 -0400 Roger Dingledine wrote on or-announce:
     [many wonderful things skipped  --SB]
     I gather the second item explains the disappearance of ~47% of the
servers between 21:30 GMT yesterday and 05:00 GMT today, as well as most
of the traffic going through my server (0.2.1.4-alpha).  The numbers have
come back by maybe a hundred servers or so since I got home at about 05:00
GMT, but it looks like a huge loss--hopefully very temporary!--of connectivity
and maybe bandwidth.
     If most other servers are experiencing big drops in traffic levels,
then the fact that tor updates its "observed" bandwidth downward as well as
upward when it publishes descriptor updates will also produce a huge illusory
loss of *apparent* (not real) bandwidth in addition to the real losses caused
by the cessation of v1 directory distribution by the authorities.  I assume
that this divergence of estimated bandwidth from actual bandwidth will
eventually be automatically corrected by tor, but I fail to see why it was
necessary in the first place.
     Publication of "observed" bandwidth updates ought to serve as successive
approximations of the actual bandwidth capacity of each server.  In most
cases, because a server's physical capability and that of its network
connection(s) tend not to change very often, allowing tor to reduce its
estimate below its previous estimate (since initialization, of course) seems
counterproductive.  If tor only changed the "observed" value when it had
grown since the last report with no intervening restart, then actual capacity
information about servers would be preserved intact through major events that
take a big bite out of tor traffic for a while, and that preservation of the
capacity information ought to speed recovery of the tor network as a whole by
aiding proper statistical allocation of circuit routes over the servers that
remain on-line during and after the events.
     Anyway, I'm only a little over half way through reading Roger's
announcement, and it looks just great!  I'll have to save the rest until
after I get some sleep, though. :-)  Thanks much to Roger, Nick, and all
the others who worked on the features and fixes in the 0.2.0.30 release!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-24 10:47:26
@_author: Scott Bennett 
@_subject: tor provided me first warning of corrupted ISP name servers 
Yesterday my tor server logged a message advising me of name server
problem at the Comcast name servers whose addresses are given via DHCP to
my computer upon connection to the Comcast network:
Aug 23 17:11:32.227 [notice] Your DNS provider gave an answer for "y75smsh5mk7ggb.test", which is not supposed to exist.  Apparently they are hijacking DNS failures. Trying to correct for this.  We've noticed 1 possibly bad addresses so far.
     During the night and wee morning hours, I encountered other problems
that were due to bad data being returned by one or the other of the two
Comcast name servers that are assigned by DHCP, such as "connection rejected"
messages from PuTTY when the destination was given as a host+domainname, while
good connections resulted when the same destination was given as an IP address.
The two servers in question are at 68.87.64.140 and 68.87.66.135.  Feel free
to query them yourselves.  If they haven't been restarted, they will almost
certainly answer any request for an A RR with 68.87.64.132, an address on the
Comcast network.  I also tried making my test queries from a system at the
nearby university, which is not on Comcast's network, directing the test
queries to each of the corrupted name servers.  The results were the same.
     This morning tor has logged more messages, including a notice that it
has stopped being an exit due to the corrupted name servers. :-(
Aug 24 09:48:48.821 [notice] Your DNS provider has given "68.87.64.132" as an answer for 11 different invalid addresses. Apparently they are hijacking DNS failures. I'll try to correct for this by treating future occurrences of "68.87.64.132" as 'not found'.
Aug 24 09:49:18.828 [notice] Your DNS provider tried to redirect " to a junk address.  It has done this with 3 test addresses so far.  I'm going to stop being an exit node for now, since our DNS seems so broken.
     An attempt to deal with Comcast by phone was fruitless.  The customer
"service" "technical" support representative who took my call was not
competent to understand the evidence I provided him, told me that the only
DNS query tool that he was allowed to use did not provide any way to direct
the queries to specific name servers, and said the procedure he was required
to follow several pointless steps of an official procedure first, the next
step of which involved rebooting *my* computer, rather than finding someone
there who could check and confirm or refute the evidence I provided *unless*
his call center received similar complaints from a large number of users.
     I next tried to report the problem by email to dnsadmin at comcast.net,
the address listed in the comcast.net. SOA RR.  That report, which contained
all the necessary evidence to prove that the two name servers in question
were, in fact, dishing out bad data, bounced with an error message claiming
that the bounce was happening because the message was not sent by a Comcast
customer.  (That was false, of course, but I sent it from this account at
the university here, and mail filters arne't smart enough to handle such
things correctly.)
     Finally, I sent a note complaining about the bounce and including a
copy of the original message to ccs_arin at cable.comcast.com, which I got
from the WHOIS data base  Thus far it hasn't bounced,
but thus far I have no evidence that anyone ever looks at messages sent
to that address.
     So.  If your tor server is on a Comcast link to the wider Internet,
check to make sure that those two DNS server addresses, 68.87.64.140 and
68.87.66.135, are not ones being used for any name resolution.
     Also, if anyone reading this knows of a way to get information in past
Comcast's peoplewall to the appropriate network and/or system adminstrator,
I would very much appreciate such person(s) letting me know how to do it.
     Thanks for any help or information you can provide.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-24 11:22:05
@_author: Scott Bennett 
@_subject: tor provided me first warning of corrupted ISP name servers 
On Sun, 24 Aug 2008 11:56:24 -0400 "Rochester TOR Admin"
     Wow.  What a bummer.  I hope those customers can find suitable
replacements and don't have contracts without a way out of them for corruption
of service.  Seems to me that Time-Warner is what should be blocked.
     In any case, I initially worried that the situation here was something
deliberate like hijacking to run everything through proxies or some such,
but when I discovered that the bogus answers were being given to everybody
by those servers, but not by *all* Comcast name servers, I concluded that
the problem is more likely a manifestation of one of those bugs in coding or, worse, design that have so often allowed name server caches to become
polluted by bad data received from other name servers.
     The frustrating part is that Comcast allows no rational reporting of
already gathered evidence to the people who could correct the problem.  I
guess I'll have to check into whatever Verizon offers around here.  It's a
bummer, though, for me because I just escaped my previous ISP, TBC Net
(tbc.net) a week and a half ago after putting up with their incompetence
and outright lies for months because of a contract I wasn't sure I could
get out of.  Each such ISP replacement is a significant upheaval for me to
deal with and also incurs a connection charge with the new ISP.
     While I'm at it, I want to mention that the customer "service"
"technical" support guy I talked with at Comcast's national call center didn't like the idea that I was running a tor server and claimed that it
violated the "terms of use" for Comcast residential service accounts.  I
got him off that subject to lead him through a troubleshooting process,
as opposed to his corporately scripted process, for a while, but I don't
know whether to expect some later problems from them over the fact that
I'm running a tor server.  I see plenty of comcast.net addresses in the
tor server directory, but have no way of knowing whether they are for
residential service or business service, for which the "terms of use" are
supposedly more liberal.
     All in all, a week and a half seems kind of a brief time in which
to have run into some many disillusioning issues with an ISP. :-(
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-24 12:03:13
@_author: Scott Bennett 
@_subject: Comcast DNS servers returning bogus information 
On Sun, 24 Aug 2008 11:37:04 -0500 Drake Wilson      Thanks for the URLs.  I check them out.
     Huh.  Funny you should mention that.  A Comcast guy was here yesterday
afternoon and told me that that wouldn't be a problem.  I had asked him
specifically about changing a MAC address because he had hooked his laptop
to the modem temporarily.  However, the drone on the phone early this a.m.
kept trying to tell me that I needed to "flush the cache"  by rebooting my
computer.  Each time I would ask him to tell me what cache he had in mind,
he responded that I had to "flush the DNS cache".  Each time, I explained
carefully that a) this is a UNIX system, not a Windows system, b) there is
no name server running on this system, so there is no cache, and c) that
the only caches that appeared to need flushing were the two name servers
at Comcast whose IP addresses I had already relayed to him.  Each time, it
made no impression upon him at all because within minutes the same issue
would be repeated.  Sigh.  He clearly is operating in the dark as to how
these things works and is simply following a routine as augmented by
previous experience with convincing [usually ignorant] Windows users to
go through the whole script with him before he is allowed to pass the
matter along to someone who just *might* know enough more to do a little
     The only problem is that that explanation doesn't explain why their
name servers give out the identically wrong information to computers
elsewhere on the Internet.  If you're curious, trying looking up almost
anyplace on the net, but with the query going to one of those two Comcast
name servers.  Then try it without explicitly querying those two Comcast
name servers to see what the correct answers are.
     There may still be some problem due to the new modem, but my best
reckoning is that the problem is corrupted data in those two name servers.
It doesn't look to me like anything done intentionally.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-24 13:10:35
@_author: Scott Bennett 
@_subject: tor provided me first warning of corrupted ISP name servers 
On Sun, 24 Aug 2008 19:08:57 +0200 Sven Anderson      Yes, those messages were issued by tor.  AFAIK, tor uses libresolv
for such queries.  The routines in libresolv look for nameserver statements
in resolv.conf to contact, which in this case bear the addresses of the two
corrupted Comcast name servers.
     Well, that's what the two Comcast name servers in question appear
to be doing.
   [sample query output deleted  --SJB]
     A really weak excuse for corrupting a host+domainname, IMO.
     Oh?  What is this new hole?  I haven't heard much lately about named(8)
or resolver routines in terms of current problems with them.
     Why would you do that?  Do you want your server to get labelled as
a BadExit?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-24 13:23:49
@_author: Scott Bennett 
@_subject: Comcast DNS servers returning bogus information 
On Sun, 24 Aug 2008 12:10:27 -0500 Drake Wilson      Yes, I understood your point the first time.  The problem is that
that explanation doesn't cover the responses to queries coming from
     I guess I don't understand.  The name server data are supposed to
be accurate in order for the Internet to function properly.  I found that
the two servers in question respond with the same address for every A RR
that is requested, without regard to whether the name and domain should
resolve to a Comcast IP address, an NIU IP address, or a UW Madison IP
address.  Further, they both give out that same wrong IP address on the
Comcast net for each of those queries, and they give them out that way
without regard to the source address of the query.  If they didn't want
to respond to such queries, they should do that by either forwarding the
query to an appropriate server for the domain queried or returning a no
answer response.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-24 14:04:55
@_author: Scott Bennett 
@_subject: Comcast DNS servers returning bogus information 
On Sun, 24 Aug 2008 12:30:10 -0600 "Kasimir Gabert"      Okay, this is my fault, I guess.  I neglected to mention that when
Comcast was here last week to hook up a modem and get me started, I wrote
down on paper the contents of the resolv.conf file after the DHCP client
had done its thing.  The two name server addresses given by DHCP then
are the same two given by DHCP now.  There hasn't been a change.  The IP
address assigned to my computer is also unchanged since it was originally
     Ah, if only.  But no, and if I hadn't left the above info out of
the earlier messages, he probably wouldn't have suggested that there had
been a substitution.  My apologies to Drake and to all others concerned.
     Now, I suppose Comcast might somehow have altered routing tables
somewhere to misdirect traffic for those name server IP addresses to some
substitute server, but it might be difficult to do that in a way that would
be safe for the rest of their operations.
     Anyway, it looks like tor will not resume advertising exit service
until Comcast admits to itself, if not publicly, that those two name
servers are corrupted, shuts them down, deletes their cache files, and
restarts them.  If the bad data have spread to any more of their name
servers, then they'll need to do the same thing to those.
     Meanwhile my server still seems to be doing a reasonably good business
as a middleman, so I'm going to get some sleep.  Later I may investigate
using the web-based email account they set up for me to see whether the
hostadmin address in the comcast.net. SOA RR will accept mail from there
instead of bouncing it when it comes from an outside (i.e., non-Comcast)
address, a behavior that clearly should be policed by the NIC but just as
clearly isn't policed by anyone.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-08 04:34:31
@_author: Scott Bennett 
@_subject: exit node "tortila" adds material to www.barnesandnoble.com home page 
On Thu, 7 Aug 2008 15:26:37 +0200 Steffen Schoenwiese
     I thought about that, but unfortunately no, because I don't have a tor
controller, so I have no way to choose the path.  I suppose maybe I could
force all connections to go through that node by using "StrictExitNodes 1"
and "ExitNodes tortila", though, so maybe I'll give that a shot at some point.
However, it may not tell me anything by now because the culprit, having read
my complaint on OR-TALK, may have stopped doing it until the heat blows over.
If you have a method that's easier to use and not so ham-handed as putting
stuff into torrc, perhaps you could try it and report your results back here.
     Thanks much!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-08 05:00:18
@_author: Scott Bennett 
@_subject: Bug: improperly bound listen addresses? 
Okay.  However, one of us is confused:  you keep referring to a
connection, yet the code you quoted above shows socket() called specifying
SOCK_DGRAM, which means UDP, a connectionless protocol.  named listens
on both the TCP port and the UDP port, but nearly all its traffic is UDP.
IBM mainframe systems are the only ones I've ever seen use TCP for everything
involving the DNS.  On UNIX systems, dig(1) and nslookup(1) use TCP for AXFR
zone transfers, IIRC, and presumably named itself does for zone transfers, but
I doubt anything else does (except maybe some crackers' code).
     Perhaps we could get Nick's and Roger's thoughts on that.  My guess,
though, is that their plates may still be overflowing with far higher
priority issues, though perhaps it could be added to the wish list for
the (probably far) future.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-08 16:29:31
@_author: Scott Bennett 
@_subject: exit node "tortila" adds material to www.barnesandnoble.com home page 
On Fri, 08 Aug 2008 09:09:28 -0400 Teddy Smith      Right you are.  I never use it and completely forgot about it.  Thanks!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-08 16:38:06
@_author: Scott Bennett 
@_subject: Abuse statistics 
On Fri, 8 Aug 2008 10:44:29 -0700 (PDT) Phil      You're joking, right?  Why on earth would he go to such hassle when all
he has to do is turn on info-level logging?  That gives you just port numbers,
but turning off safe logging will give you the rest.  Try it, and see for
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-09 01:28:20
@_author: Scott Bennett 
@_subject: exit node "tortila" adds material to www.barnesandnoble.com home page 
On Fri, 08 Aug 2008 09:09:28 -0400 Teddy Smith      First off, thanks again for the reminder.
     I tried   I still got a green
background block ahead of the real home page, but this time instead of German
text, the green block included something I can't decipher that is mostly in
some character set I don't recognize.  I've tried to copy and paste it into
this message, but each time I try to paste it, it kills the editor and breaks
my SSH connection.  But tortila did corrupt the page again.
     Whether the inserted stuff is due to a bug or is intentionally added makes
little difference.  tortila meets the description of a Bad Exit until such
time as it stops corrupting the data being passed inward or outward through
its exit service.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-10 17:55:59
@_author: Scott Bennett 
@_subject: Tor TransPort on OpenBSD? 
On Sun, 10 Aug 2008 14:16:06 -0600 macintoshzoom
 top-posted:
     Perhaps OpenBSD works differently in this regard, but in FreeBSD the
above will only last until the next reboot because the /dev directory is
cleared and repopulated during initialization according to the devices
found during kernel autoconfiguration.  To make such changes each time
the system boots, IIRC, one must make the appropriate changes to
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-10 18:11:38
@_author: Scott Bennett 
@_subject: Tor TransPort on OpenBSD? 
On Sun, 10 Aug 2008 13:06:24 -0700 Christopher Davis      Unless you desperately need the alleged airtightness of OpenBSD's
security, you might be better off with FreeBSD, which seems to have very
active development and porting teams.  Also, at present FreeBSD 7.0 is the
only system out there that gets really good performance on SMP systems when
there are more dispatchable processes/threads than processors.  On all
other systems, Windows included, total throughput declines as more
dispatchable processes/threads are added until a system is doing little
more useful work than could be done on a uniprocessor system.  FreeBSD 7.0
maintains total throughput in this situation at very near the theoretical
maximum, especially if the ULE scheduler is selected when the kernel is
     I must be missing something here.  Why does tor need access to /dev/pf
to use the TransPort feature?  I thought all that should be necessary was
to add a RDR to /etc/pf.conf and reload it.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-10 18:29:38
@_author: Scott Bennett 
@_subject: Tor TransPort on OpenBSD? 
On Mon, 11 Aug 2008 01:07:43 +0200 Hannah Schroeter      Oh.  Okay.  Thanks!  I must say that FreeBSD's way of handling /dev
really threw me at first.  It's more flexible than the old way, of course,
and is a better way because of the flexibility for a system that will be
used on a vast and widely varying set of hardware configurations, often
by not terribly knowledgeable users, but it does take a bit of getting used
to it.
     Ah, yes, a good point!  And the kind of thing one tends to overlook,
too. :-(
     Looks good to me.  But pf in FreeBSD is ported from OpenBSD, so I
expect that whatever is done to it in OpenBSD will be copied more or less
as is.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-02 01:37:46
@_author: Scott Bennett 
@_subject: geoip file open error message 
Yes.  Since it wasn't working anyway, I also followed the instructions
in the file to fetch a current copy.  FreeBSD's cut(1) doesn't accept -f0-3,
but changing it to -f1-3 produced output in the same format, so an updated
version of the file in the same format is currently in the location shown
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-11 04:35:22
@_author: Scott Bennett 
@_subject: tortila as a bad exit 
The latest consensus and status documents show that the exit node
nicknamed "tortila" still has the "Bad Exit" flag from only one authority.
I was wondering what criteria each of the authority operators use to decide
whether/when to assign the "Bad Exit" flag to a server's listing in their
authority server's status documents.  Thanks!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-11 23:30:20
@_author: Scott Bennett 
@_subject: tortila as a bad exit 
On Mon, 11 Aug 2008 07:08:13 -0400 Roger Dingledine      I'm not convinced.  It hasn't taken any 300 circuits for me.  It seems
to happen every time I have a circuit that exits via tortila.  It happens
with every destination web page.  It's not just port 80 either:  if I try
to use PuTTY for a ssh exit through tortila, I get an almost immediate SOCKS
error message, and the session window closes.  No login: prompt ever appears
before the window is shut down.  It does not seem random at all.
     Well, if the bug is at tortila, then you should be able to produce it
every time you try it.  Have you tried it yet yourself?
     If I notice anything new, sure, but I've added to my ExcludeNodes list,
so I don't see the problem unless I deliberately choose tortila as the exit
for a circuit.
     Meanwhile I would still like to know the answer to my question regarding
criteria for a Bad Exit flag to be assigned.  I gather that the various
authority operators are each free t decide by themselves the criteria they
will use, which is why I was asking for the information from each of the
authority operators.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-02 01:46:04
@_author: Scott Bennett 
@_subject: geoip file open error message 
I guess I should have written, "It was," rather than simply "Yes."
Sorry for any confusion there.
     I've also left the 644 permissions, but I've changed both the owner and
group to "_tor".  It still doesn't work and gives the same error message.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-08-12 05:52:14
@_author: Scott Bennett 
@_subject: tortila as a bad exit 
On Tue, 12 Aug 2008 11:29:56 +0100 Robert Hogan      Now that you mention it, I did see stuff for stevepavlima.com some of
the time, but not consistently.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-08 15:07:11
@_author: Scott Bennett 
@_subject: technical solution for censorship [was: UK internet filtering] 
On Mon, 08 Dec 2008 19:48:56 +0100 "Benjamin S."      You are referred to the tor project's web site at where the home page begins:
"Tor: anonymity online
     You may also find it worthwhile (for your own security in using this tool)
to peruse more of that page and of the rest of the site (besides how to get
onto this mailing list, which you appear to have accomplished already) before
beginning to use tor.
     That some people have found tor to be helpful in bypassing censorial
regimes' efforts is one of the nicer unintended consequences of tor's design,
but such use is fallout from, not motivation for, the design.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-09 02:53:26
@_author: Scott Bennett 
@_subject: technical solution for censorship [was: UK internet filtering] 
On Mon, 8 Dec 2008 16:21:47 -0500 "Gregory Maxwell"      Yes, all of that is helpful, as is spelled out on the tor project's web
pages.  But all of that is not the goal, but rather in aid of the goal.  This
is also quite clear on those same web pages.
     Those are *your* goal and view, but they are not the goal or view of
the project.  If you remain in any confusion over the goal of the project,
please go to the project's web site and read what is posted there.  It was
posted in order that interested persons might understand what the developers
are doing and why.
     Indeed I am.  And, although I use tor and run a relay primarily in aid
of the same goal as that of the project, I do not see that your goal is
detrimental to "society".  If you stop to consider that "society" is just a
label referring to many individuals, it may make it easier to understand
that anonymity in itself is not detrimental to those individuals, but rather
that it protects those same individuals
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-11 13:35:01
@_author: Scott Bennett 
@_subject: problem while trying to fetch 0.2.1.8-alpha 
I appear to be getting an SSL connection error when using wget(1) to
fetch 0.2.1.8-alpha using the links from the tor project's download page.
Here's what happens:
Script started on Thu Dec 11 13:12:24 2008
[hellas] 33 % wget   --13:13:02--             => `tor-0.2.1.8-alpha.tar.gz.asc'
Resolving  86.59.21.36
Connecting to  connected.
ERROR: Certificate verification error for  unable to get local issuer certificate
To connect to  insecurely, use `--no-check-certificate'.
Unable to establish SSL connection.
--13:13:03--             => `tor-0.2.1.8-alpha.tar.gz'
Connecting to  connected.
ERROR: Certificate verification error for  unable to get local issuer certificate
To connect to  insecurely, use `--no-check-certificate'.
Unable to establish SSL connection.
FINISHED --13:13:03--
Downloaded: 0 bytes in 0 files
[hellas] 34 % exit
Script done on Thu Dec 11 13:13:08 2008
     The http_proxy environment variable is set to "localhost.:8118" for
privoxy, but I now discover that the man page for wget(1) doesn't say what
wget does for HTTPS requests.  (There's no separate https_proxy variable.)
In the output above, though, it doesn't look like it's going through privoxy
to connect, in which case there would be messages about connecting through
localhost.:8118.  Regardless of whether a proxy is used, it looks like there
is some other problem.
     I've probably made some simple mistake, but if someone would clue me in,
I'd be grateful.  Thanks!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-19 17:30:26
@_author: Scott Bennett 
@_subject: Failed to hand off onionskin 
On Tue, 16 Dec 2008 18:44:58 -0500 Roger Dingledine      Roger missed mentioning (step two) that you can adjust the queue limit
yourself, e.g., by adding to torrc
MaxONionsPending 200
to double the default limit of 100.  Try 200, and if that takes care of it,
fine.  If not, set it to something higher.  It does increase tor's memory
requirement, but only by a small amount.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-19 17:45:20
@_author: Scott Bennett 
@_subject: Failed to hand off onionskin 
Several things happen when tor catches a SIGHUP that can eat CPU time
for a bit, including checking to see whether anything has changed that
would require publishing a new descriptor (e.g., checking to see if the
ExitPolicy specifications have changed) and building a new set of circuits.
     Most of tor's work seems to be done by a single thread, although one
can see occasional CPU usage by others.  Onionskin decrypting is handled
by NumCPUs threads.
     That is odd.  In my experience, tor has 4 + NumCPUs threads, except
right after a SIGHUP or during initialization.  I normally only see two
threads do any work, and most of it is done by one of those two.  Although
I run it on a P4 Prescott, it is HT-enabled, so I set NumCPUs 2.  Most
likely, the onionskin-decoding threads are used so infrequently that I only
see one in use at a time anyway.
     Are you seeing any significant paging activity on that system?  If not,
then I doubt that is the problem.  Even small amounts of paging activity
are not likely a problem.  Is that machine dedicated to tor?  Or is it also
running other jobs with large (relative to the real memory of the machine)
memory requirements?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-20 03:05:45
@_author: Scott Bennett 
@_subject: Failed to hand off onionskin 
No.  The error message you got meant that the queue overflowed and
one or more onionskins was/were lost because it/they could not be queued.
Increasing the queue limit to a high enough value means that none will be
lost, even if it takes a bit longer for your CPUs to get caught up.  Note
that you do not have to shut down your relay in order to make this change.
Just edit torrc, resave it, and send tor a SIGHUP.
     It isn't routing of onionskins.  It is decrypting of onionskins.
This is apparently done when a circuit is being extended (i.e., built).
Routing of cells is an independent concept and unfortunately does not
currently lend itself to parallel processing by tor. :-(  However,
onionskin decrypting involves a CPU-intensive public key system, whereas
encrypting and decrypting of cells uses a symmetric key system, which
involves comparatively lightweight processing.
     I recommend going with the high data rate.  That means the actual
peak data rates will be limited by your CPU speed, rather than the
data capacity of your Internet connection.
     [pet-peeve rant on]
     How about if people stop misusing the term "bandwidth" for data
transmission rates and capacities, which have nothing at all to do with
the {wavelength,wavenumber,frequency,period} bandwidths?  Slang popularity
is not justification for misuse of technical terminology.
     [pet-peeve rant off]
     As noted above, the onionskin processing is relatively time-
consuming, which is why it is possible on a high-data-rate system with
a not-so-fast CPU to have a backlog at times.  Don't worry about the
backlog.  The main thing is to avoid connection failures due to lost
     The delay ought to be trivial.  After all, your machine essentially
can dedicate a core to onionskin processing with unused time on the other
core available to help out.  If you've only seen the message once or a
few times, it can't be a huge problem.  Just increase the queue limit,
and see what happens.  My prediction is that you will notice no change,
but that you will also not get the error message again.
     As for having one core running at 85% - 100% CPU-bound, a good rule
of thumb is that a processor on a production system that averages higher
than 70% CPU-bound is due for an upgrade.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-20 03:22:53
@_author: Scott Bennett 
@_subject: Failed to hand off onionskin 
I am running FreeBSD ~6.3 (i386), but I see the thread counts stated
earlier when running it as a relay.  In client-only mode, I think there's
only one or two threads.
     Well, if the VM system isn't working hard, then the CPU speed would
be the main thing involved in lots of copying.
     It should be okay to let tor run at full capacity then.  FreeBSD's
scheduler should keep less demanding processes serviced better than tor
if tor is having the high CPU usage you mentioned before.  Reducing the
maximum data rates in torrc is intended to be used to leave some data
transmission/reception rate capacity unused by tor, so that it can be
used by other procdesses.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-20 16:37:06
@_author: Scott Bennett 
@_subject: Failed to hand off onionskin 
Ah.  Okay.  As long as the delays don't frequently reach the level that
circuit-building times out, it shouldn't be a problem.
     AFAIK and from one of Roger's responses to me many moons ago, the
onionskin processing occurs only when extending a circuit.  That is why
most relay operators never see the message you got, even though their
relays run with the default value of 100.  Because your relay advertised
such a high capacity, it got many such operations per second, apparently
with onionskins queued for decryption peaking at over 100.
     Um...that's a bit garbled, I think.  At the physical layer, which is
really the only place the term is truly applicable, bandwidth refers to the
degree of frequency spreading of a channel.  If the frequency bands (channels)
in use are too close together in the frequency spectrum, the bands overlap.
If the degree of overlap is too great, then the various channels's signals
cannot be distinctly resolved.  This is why government agencies that license
parts of the broadcast spectrum to radio, TV, and other types of stations
must assign only frequencies that are adequately spectrally separated within
a given reception area.  Better technology over the decades has made it
possible both to reduce the spreading and to improve sampling rates, which
have led to much greater packing of channels into the frequency spectrum
in the broadcast media and in material devices like computer cables, TV
transmission cables, etc.  For example, several decades ago, a good comm
radio for aircraft had only 120 channels, but now the same spectrum covers
720 channels.  The numbers today would likely be far higher were it not for
the obstructionist policies of the FAA and FCC in the U.S. because the
technology has been available for seeming ages already.
     In any case, bandwidth has nothing to do with the data transmission
capacity of a particular channel and nothing to do with tor.
     Yes.  It's slang and not really appropriate for technical material
about tor, including torrc.
     Well, then, OpenSSL has been identified on this list as a target of
opportunity.  You're welcome to have at it. :-)  Alternatively, you might
choose to run a separate copy of tor on each core, I suppose, but remember
to add the "MyFAmily" line to each of the torrc files.  If you have 100 Mb/s
connection to the outside world, you could probably tie it up fairly solidly
by running two or three tor processes.
     Ah, yes, with the state of affairs in the world today, an optimist
must surely be needed (somewhere:).
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-22 00:31:58
@_author: Scott Bennett 
@_subject: problem while trying to fetch 0.2.1.8-alpha 
Thanks for your quick response.  I apologize for taking so long to get
back to this matter.  I was sidetracked at a most inopportune moment and then
had to deal with an amazing deluge of email in order to get back down near
my disk quota limit. :-}
     On Thu, 11 Dec 2008 12:57:49 -0800 coderman      Beats me.
     Okay.  I'll have to look that option up in the man page.
     I've never used the openssl command before, so I guess I don't know
what is usual vs. unusual.  However, here's what I got.
Script started on Mon Dec 22 00:21:36 2008
[hellas] 95 % openssl s_client -connect  -showcerts
depth=0 /C=US/O=*.torproject.org/OU=GT86487530/OU=See  (c)08/OU=Domain Control Validated - RapidSSL(R)/CN=*.torproject.org
verify error:num=20:unable to get local issuer certificate
verify return:1
depth=0 /C=US/O=*.torproject.org/OU=GT86487530/OU=See  (c)08/OU=Domain Control Validated - RapidSSL(R)/CN=*.torproject.org
verify error:num=27:certificate not trusted
verify return:1
depth=0 /C=US/O=*.torproject.org/OU=GT86487530/OU=See  (c)08/OU=Domain Control Validated - RapidSSL(R)/CN=*.torproject.org
verify error:num=21:unable to verify the first certificate
verify return:1
Certificate chain
 0 s:/C=US/O=*.torproject.org/OU=GT86487530/OU=See  (c)08/OU=Domain Control Validated - RapidSSL(R)/CN=*.torproject.org
   i:/C=US/O=Equifax Secure Inc./CN=Equifax Secure Global eBusiness CA-1
-----BEGIN CERTIFICATE-----
-----END CERTIFICATE-----
Server certificate
subject=/C=US/O=*.torproject.org/OU=GT86487530/OU=See  (c)08/OU=Domain Control Validated - RapidSSL(R)/CN=*.torproject.org
issuer=/C=US/O=Equifax Secure Inc./CN=Equifax Secure Global eBusiness CA-1
No client certificate CA names sent
SSL handshake has read 1413 bytes and written 340 bytes
New, TLSv1/SSLv3, Cipher is DHE-RSA-AES256-SHA
Server public key is 1024 bit
    Protocol  : TLSv1
    Cipher    : DHE-RSA-AES256-SHA
    Session-ID: 1B6EBF7D38C391520888E3BF085A0B663FEAE077443BB94EF24FB9A9CBBFE4D4
    Session-ID-ctx:     Master-Key: 208566510E8BAE89CE5A06AA60F79AB34484F4B9F24D9559928BFDB6C646941DEF7EF828549F8A80630FEF4CA1B94C05
    Key-Arg   : None
    Start Time: 1229926920
    Timeout   : 300 (sec)
    Verify return code: 21 (unable to verify the first certificate)
302 Found
The document has moved here.
Apache Server at  Port 443
[hellas] 96 % exit
Script done on Mon Dec 22 00:22:41 2008
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-22 00:36:28
@_author: Scott Bennett 
@_subject: Failed to hand off onionskin 
Oh, okay, that probably explains the missing threads. :-)  I didn't
even think of that.  I suspect that most people running relays also use the
client facilities themselves, and that those who don't use the client stuff
probably don't bother to turn it off, which would leave those threads sitting
around though idle all the time after the first hour of operation.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-31 02:21:24
@_author: Scott Bennett 
@_subject: problem while trying to fetch 0.2.1.8-alpha 
On Sun, 21 Dec 2008 22:59:09 -0800 coderman      wget(1) fails to download the above because the certicate doesn't match.
:-[  So I used firefox to download it via the link from the root-certicates
page in the URL shown earlier above.  I then put the downloaded certificate
file into /usr/local/openssl/certs, though I simply guessed that that might be
the correct location.  Quite possibly, the correct location may be elsewhere.
     Nope.  Instead I get:
Script started on Wed Dec 31 02:12:49 2008
[[1mhellas[m] 97 % openssl s_client -CAfile Equifax_Secure_Global_eBusiness_CA-1.cer  -connect  -showcerts
35810:error:02001002:system library:fopen:No such file or directory:/usr/src/secure/lib/libcrypto/../../../crypto/openssl/crypto/bio/bss_file.c:104:fopen('Equifax_Secure_Global_eBusiness_CA-1.cer','r')
35810:error:2006D080:BIO routines:BIO_new_file:no such file:/usr/src/secure/lib/libcrypto/../../../crypto/openssl/crypto/bio/bss_file.c:107:
35810:error:0B084002:x509 certificate routines:X509_load_cert_crl_file:system lib:/usr/src/secure/lib/libcrypto/../../../crypto/openssl/crypto/x509/by_file.c:274:
depth=1 /C=US/O=DigiCert Inc/OU= Global CA
verify error:num=20:unable to get local issuer certificate
verify return:0
Certificate chain
 0 s:/C=US/ST=MA/L=Dedham/O=The Tor Project, Inc./OU=Anonymity Online/CN=*.torproject.org
   i:/C=US/O=DigiCert Inc/OU= Global CA
-----BEGIN CERTIFICATE-----
-----END CERTIFICATE-----
 1 s:/C=US/O=DigiCert Inc/OU= Global CA
   i:/C=US/O=Entrust.net/OU= incorp. by ref. (limits liab.)/OU=(c) 1999 Entrust.net Limited/CN=Entrust.net Secure Server Certification Authority
-----BEGIN CERTIFICATE-----
-----END CERTIFICATE-----
Server certificate
subject=/C=US/ST=MA/L=Dedham/O=The Tor Project, Inc./OU=Anonymity Online/CN=*.torproject.org
issuer=/C=US/O=DigiCert Inc/OU= Global CA
No client certificate CA names sent
SSL handshake has read 3770 bytes and written 340 bytes
New, TLSv1/SSLv3, Cipher is DHE-RSA-AES256-SHA
Server public key is 1024 bit
    Protocol  : TLSv1
    Cipher    : DHE-RSA-AES256-SHA
    Session-ID: 89F5EF1F3318F41224BB552C61488BB22F62392A95691DE739899583F3AD189C
    Session-ID-ctx:     Master-Key: 9E22C87904D89A2C672EE02955ADA754BB6E2797A37EDDF5E66257515AD8426C274FA0D4CCED54B8AAB1755519E7AB2D
    Key-Arg   : None
    Start Time: 1230711226
    Timeout   : 300 (sec)
    Verify return code: 20 (unable to get local issuer certificate)
302 Found
The document has moved here.
Apache Server at  Port 443
[[1mhellas[m] 98 % exit
Script done on Wed Dec 31 02:14:03 2008
     That fails as before.  Oh, well.  I guess I can fetch it in the clear. :-(
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-04 09:09:04
@_author: Scott Bennett 
@_subject: Exceeding connection limit 
On Wed, 3 Dec 2008 19:40:54 -0500 phobos at rootme.org wrote
     This appears to be a problem on many/all electronics store routers.
My suspicion is that these routers have fairly tight memory restrictions
and can support only small tables for state, NAT, and so forth.  Linksys
routers, for example, typically choke when their NAT/RDR capacity is exceeded,
refusing thereafter to allow any new outbound NATed connections until they
have been rebooted.
     All small routers I've used with tor when running a relay have never
allowed more than 200 - 400 simultaneously open connections.  I now have
my FreeBSD 6.3 system connected directly to the cable modem with pf handling
the RDRs, and the relay no longer encounters limits that low.  After the
relay has been running for several days, the number of connections has usually
slowly grown to hover in the 1000 - 1400 range.  I don't know why it stops
there, but it may just be a consequence of the limited transmission rate of my
Internet link.  It's certainly not due to memory or CPU speed limitations.
     I thought this issue had come up several times on this list already
and that a torrc option was now available to set a maximum number of
connections.  I don't see such an option in the 0.2.1.7-alpha man page,
however.  Perhaps it's one of those undocumented options.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-04 11:27:50
@_author: Scott Bennett 
@_subject: More info on my own tor problems 
On Thu, 4 Dec 2008 08:17:18 -0500 Praedor Atrebates      The problem may not actually be in the torrc file.  Check to see whether
you have a startup/shutdown script, perhaps run by /etc/rc on your system,
that specifies --user and --group.  If you do, try removing those arguments
from the command line that starts tor in the script.
     The error messages could be more accurate.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-05 05:38:44
@_author: Scott Bennett 
@_subject: Exceeding connection limit 
On Thu, 4 Dec 2008 00:10:11 -0500 Roger Dingledine      I note, however, that a newly started tor relay does *not* immediately
attempt to establish connections to all other relays currently listed in its
directory as "Running".
     It may once in a while, but the times that I've watched, only a few
connections were frequently transmitting/receiving anything.  Further, tor
regularly expires unused connections.  Perhaps an option to apply a more
aggressive expiration policy would help users stay within the limitations
of crippled operating systems like Windows.
     Amen.
     I still don't understand this.  I will try to find time to resume
reading those proposals, but the idea of running stream data over a protocol
with neither sequence preservation nor reliable delivery would be a good
thing goes against all of my experience.  For one thing, it would mean that
those things would involve wheel-reinvention inside tor to support those
characterstics of TCP not supported by UDP.  For another, an old example
quickly comes to mind: even on a local net, copying large files over NFS is
much slower than using rcp(1) or ftp(1) because NFS uses UDP, while the
latter use TCP.
     Has there been any discussion of planning for SCTP with tor at some
point?  It looks to me, though I still am reading up on it, as though it
might be a better way to go.  (See, for example,
for a quick overview of its features and benefits.)  My understanding is
that much of the code for it is already in FreeBSD 8-CURRENT, and other
operating system development teams must be working on SCTP implementations,
too, so it should start being available within another two to three years,
I should think.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-05 06:46:33
@_author: Scott Bennett 
@_subject: Exceeding connection limit 
On Fri, 05 Dec 2008 13:14:08 +0100 Dominik Schaefer      Really?  What about all of tor's internal communications for establishing
and tearing down circuits, streams, etc.?  Also, I guess I don't know enough
about tor's chosen encryption methods, so I have to ask, is any kind of hash
or other residue from encrypting the data in a cell used in encrypting the
data in any cells transmitted later?
     BTW, I know a lot of people seem to do it, but using OSI layer numbers
isn't really valid with an IP-based stack.  Not all layers are equivalent
between the two architectures.
     Yeah, I get that, but it seems to me that some sort of duplication of
overhead *is* necessary because tor's connections are *not* the same as the
connections tunneling through them.  Different interests are involved (i.e.,
tor's vs. the interests of the various unknown applications running connections
through tor's connections).  TCP over TCP indeed has performance problems,
but obviously it does work.  Using SCTP for tor's connections might be a
better way to support users' tunnels.
     The more I read about SCTP, the better it looks.  It has an option to
provide, effectively, RDP, which has never been implemented in the past, so
that is an obvious alternative to UDP to consider if one goes the unsequenced
route.  It allows multihomed connections, which allow increased data rates,
potentially quicker early responses while allowing better Internet routes
discovered later to be used to improve performance on already opened links.
Multistreaming is built into it.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-05 07:26:05
@_author: Scott Bennett 
@_subject: Chinese Internet cafes being forced to switch to Red Flag LINUX 
I wonder what sorts of spyware the Chinese government has built into
Red Flag LINUX that might affect tor or browser security.  See the article at
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-06 06:57:28
@_author: Scott Bennett 
@_subject: Commercial tor offering? 
On Fri, 05 Dec 2008 15:44:33 -0600 Arrakis      Testable, yes, but reproducible iff the initial conditions can be
reproduced.  For example, many physics experiments in laboratory settings are
reproducible for two reasons:  1) the experimental design is fairly simple
(as compared to physical systems in the natural environment), and 2) the
initial conditions can be reproduced as nearly identically as may be necessary
to obtain the same experimental result.  However, in many systems in the
natural environment, the experimental conditions are neither simple nor
humanly reproducible.  In such cases, one typically compares the observations
of condtitions at the time and location of the initial observation(s) and at
the time(s) and location(s) of some later observations with predictions of
those later observations made according to theory or hypothesis.
     The above is poorly stated.  Theoretical results, for example, do not
necessarily involve any such observations.  In many cases, they are simply
derived from the mathematical description of the variables in question and the
relationships between them.  The experimental results required to test
predictions based upon theory are, of course, empirical and usually
quantifiable, though sometimes qualitative results can be adequate to
refute/confirm a hypothesis.
     Again, in some cases, a theoretical analysis is plenty adequate to reveal
flaws in a design, and the time, effort, and expense of measurements can be
     Some tor relays are operated under similar circumstances, as can be seen
fairly readily in the torstatus pages and according to many postings to this
list in the past.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-06 08:56:19
@_author: Scott Bennett 
@_subject: [OT] theoretical (but probably never practical) quantum encryption flaw found 
It appears that a theoretical method of breaking quantum key distribution
has been found, there's no cause for alarm (yet:-) because it requires the use
of wormholes or some equivalent. :-)  The abstract looks intriguing, but the
paper was submitted to _Physical_Review_Letters_ only a month ago, so it will
be a long time, if ever, before it sees publication.
     If you're curious, see the abstract at
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-12-06 09:39:28
@_author: Scott Bennett 
@_subject: [OT] theoretical (but probably never practical) quantum encryption flaw found 
On Sat, 6 Dec 2008 16:27:16 +0100 Sven Anderson      There's also one for a .gz file of some source format (probably LaTeX
with some physics macro package(s)), but I couldn't get either one to work
(got "408 Forbidden").  I assumed then that perhaps it wouldn't be available
until after peer review or perhaps one had to have a loginid and password
to give the web server first.
     I never had a full course, just maybe two-thirds of a semester in a
survey course probably more like 20 years ago.  Too bad, though, because it
seemed pretty cool at the time. :-(  But from the abstract, it kind of looks
like a good understanding of quantum physics might not be enough.  A course
in general relativity, which isn't even offered in a lot of universities these
days, might also be necessary.  Anyway, it seemed like they came up with a
nifty idea, though it fortunately remains one for science fiction (for now).
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-02-08 02:45:04
@_author: Scott Bennett 
@_subject: another unusual connection 
On Fri, 08 Feb 2008 09:32:29 +0100 Dominik Schaefer      I've been reading these reports on this list carefully and with growing
alarm.  How is it that the reachability testing routine(s) fail to discover
that, upon connecting to the supposed new IP address on whichever TCP port the
tor server is using, it is *not connected to itself*?  I had been assuming all
along that the reachability testing would check for something so obviously
important.  Does DirPort reachability testing also fail to check the identity
of the server that answers its connection attempt?
     What does tor do if the server it tries to connect to, thinking that that
server is itself, uses a different TCP port?  The IP address in that case would
be reachable, but the tor server would not.
     It makes me wonder what other glaring holes may exist in tor's various
checking/testing routines.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-02-10 01:47:01
@_author: Scott Bennett 
@_subject: another unusual connection 
On Sat, 9 Feb 2008 10:39:46 -0500 Roger Dingledine      But, Roger, will the 0.2.0.19-alpha release at least confirm during
the reachability tests that it is talking to itself and not to some other
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-02-10 02:10:55
@_author: Scott Bennett 
@_subject: another unusual connection 
On Sun, 10 Feb 2008 07:54:06 GMT "Paul Ferguson"      Huh.  Nice of you to delete the attribution to Roger Dingledine.
     Is there some reason we should believe that you represent Trend
     However, given the obviously false information being provided by
anon-tor-proxy.maximator.org (212.112.242.159), could it please be
flagged as "Invalid" and "Bad Exit" by the directory authorities?
     We know that.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-02-12 02:35:13
@_author: Scott Bennett 
@_subject: Tor 0.2.0.19-alpha is out 
On Mon, 11 Feb 2008 22:36:51 -0500 Roger Dingledine      Looks wonderful, Roger!  Thanks, you guys, very much!  I've now
built it on my FreeBSD system and will fire it up the next time I restart
my tor server, which should be within a couple of days.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-02-15 19:16:48
@_author: Scott Bennett 
@_subject: OSI 1-3 attack on Tor? in it.wikipedia 
Looks like OR-TALK has moved up in the world enough that it has at
last acquired a troll.
     On Fri, 15 Feb 2008 12:42:59 -0800 (PST) Anon Mus
 wrote
      Please don't feed the troll, folks!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-02-01 00:47:46
@_author: Scott Bennett 
@_subject: About WLAN and monitoring.. 
On Thu, 31 Jan 2008 17:45:59 -0800 "F. Fox"      Stopping and restarting tor works, but it's severe overkill if you're
running vidalia.  Just click on "New Identity" instead.  It's much faster,
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-02-17 04:42:21
@_author: Scott Bennett 
@_subject: Invalid uptime warning messages 
At 10:00 p.m. my tor server began issuing a warning message about a
negative uptime:
Feb 16 16:30:26.059 [notice] Your IP address seems to have changed to 66.225.36.43. Updating.
Feb 16 16:30:31.007 [notice] Self-testing indicates your ORPort is reachable from the outside. Excellent. Publishing server descriptor.
Feb 16 16:30:49.556 [notice] Performing bandwidth self-test...done.
Feb 16 16:33:46.139 [notice] Self-testing indicates your DirPort is reachable from the outside. Excellent.
Feb 16 22:08:02.031 [warn] Invalid uptime "-19907"
Feb 16 22:09:01.581 [warn] Invalid uptime "-19907"
Feb 16 22:10:02.879 [warn] Invalid uptime "-19907"
Feb 16 22:11:04.153 [warn] Invalid uptime "-19907"
Feb 16 22:12:04.540 [warn] Invalid uptime "-19907"
Feb 16 22:13:05.834 [warn] Invalid uptime "-19907"
Feb 16 22:14:07.146 [warn] Invalid uptime "-19907"
Feb 16 22:15:07.441 [warn] Invalid uptime "-19907"
Feb 16 22:16:10.859 [warn] Invalid uptime "-19907"
Feb 16 22:17:09.581 [warn] Invalid uptime "-19907"
It has continued to issue these messages about every minute all through the
night so far.  What exactly is it complaining about?  An error in its own
uptime?  The system uptime looks valid to me.  What causes this to happen?
Is there a way to fix it while it's running?  Or does it just have to be
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-02-17 04:45:59
@_author: Scott Bennett 
@_subject: Invalid uptime warning messages 
Apparently, my contact lens blurred and I misread the time.  Obviously,
I should have typed 10:08 p.m.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-02-02 01:43:20
@_author: Scott Bennett 
@_subject: The use of malicious botnets to disrupt The Onion Router 
On Sat, 2 Feb 2008 01:57:01 -0500 "Ron Wireman"      Actually, there are benefits, some of which are even pointed out in
various web pages and/or documents available at   One
is that running a server helps to hide your client's traffic by mixing it
in with all the traffic relayed for others.  Another is that each server's
presence increases the overall capacity for traffic going through the tor
network, thereby providing support for even bigger crowds of packets and
circuits for your own to be concealed among.
     The problem of corrupted exit servers is indeed one that we should all
ponder until a solution may be found.  However, setting up, say, 1,000 hidden,
slaved, correctly configured tor servers via a bot net may be rather more
difficult to accomplish than you have fully considered.  Entry guards and
middlemen probably wouldn't be useful to an attack coordinator.
     Again, I think you may well be underestimating the manpower required to
install and configure lare numbers of tor servers.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-02-02 02:06:17
@_author: Scott Bennett 
@_subject: Not using slow circuits (was Re: Tor slow no matter what I do.) 
On Fri, 1 Feb 2008 19:47:34 -0500 Roger Dingledine      Perhaps there is a simpler quasi-solution here.  Right now the tor
documentation suggests that one consider running tor in server mode if
one has at least 20 KB/s bandwidth to spare for its operation.  Perhaps
changing that figure in the documentation--maybe doubling it?--and
publicizing the change on this list would gradually alleviate some of the
problem.  The tor network's average performance has improved considerably
in the two to three years I've been using it, so perhaps the possible
negative consequences of raising the recommended minimum bandwidth would
prove to be minor in practice.  In the U.S., one ISP commonly used for tor
servers is Comcast, which typically has a trasmit limit of about 50-55 KB/s
with occasional bursts to perhaps 90 KB/s for a few seconds.  Changing the
minimum bandwidth recommendation to 40 KB/s would be unlikely to eliminate
this large pool of server operators.  It's worth remembering that 20 KB/s
really only supports one not-very-fast stream at a time anyway.
     Also, a few countries already have fiber optics support to residences,
but more are converting to it.  This upgrade has finally begun in some
parts of the U.S.  Although it will be a while before it is available
everywhere in the U.S., fiber optics to residences is now available from
Verizon in some places and offers speeds up to a fully symmetric link at
10 Mb/s (on the order of 1 MB/s) in each direction for about US $65/month.
As that service becomes more widespread, I'd bet that a lot of tor server
operators will upgrade to it and allocate at least a large part of it to
their server(s).
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-02-02 02:20:03
@_author: Scott Bennett 
@_subject: Odd behavior: same entry/exit node + more 
On Fri, 1 Feb 2008 19:28:34 -0500 Roger Dingledine      Can a tor client use its own server side as a middleman?
     Really?  I thought it picked all nodes proportionally to the actual
bandwidth serviced in the 24 hours prior to the last published descriptor.
     Also, the documentation promotes the use of BandwidthRate and
BandwidthBurst for the purpose of limiting the bandwidth used by the
server.  Those values currently default to 5 and 10 MB/s, respectively.
That means that anyone who does not specify them in the torrc file is
likely to be "lying" by a *lot*.  Are there really so few server that omit
those lines from torrc that depending upon those values for load balancing
wouldn't cause a frequent misallocation of routes?  After all, as you
recently pointed out, the number of servers with available bandwidth that
high is still very small.
     Why would ICMP error packets of any kind go back to his machine rather
than to the exit node?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-02-03 00:41:33
@_author: Scott Bennett 
@_subject: Not using slow circuits (was Re: Tor slow no matter what I do.) 
On Sat, 02 Feb 2008 18:08:26 -0800 "F. Fox"      That works for connections coming into the server, but not for
outbound connections made by the server, so one can control only part of
the traffic that way.  Control over some of the connections initiated by
the server by managing the traffic to and from the most common choices
of remote ports, but there isn't a good way to do that for all remote tor
servers.  A further refinement might be to add specific QoS rules for the
short list of very high-bandwidth servers and for the directory authorities.
     Some Windows firewall software does allow identification of traffic
to and from specific application programs, but I'm not aware of any that
handle QoS that way.
     Indeed.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-02-01 02:13:23
@_author: Scott Bennett 
@_subject: about Tor in Linux 
I'll put in a plug for FreeBSD here, too.  tor builds and installs
with no modifications under FreeBSD 6.x and also seems not to have been
afflicted in any dramatic way by at least some of the various memory leaks
that have been identified on this list over the past several months.  It
hasn't caused any memory growth problem on my system yet in any version.
     When I was still updating my ports tree, it always built correctly
from the port.  I stopped updating the tree many months back when the
FreeBSD ports team froze the tree in preparation for the switch from X.org
6.9 to 7.2, so all versions of tor that I've installed since that time
I've built from the source tar archives available for download from the
tor web site.  It always builds correctly with no changes required at all.
The torrc should be modified to taste, of course, but that's true anywhere.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-02-03 18:22:31
@_author: Scott Bennett 
@_subject: New Tor distribution for testing: Tor Browser Bundle 
On Sun, 3 Feb 2008 22:19:54 +0100 "Michael Schmidt"
 top-posted:
     That seems a tad impractical for a portable tor bundle, don't you
think?  If you take your computer to your friendly neighborhood coffee
shop, I doubt that you will find them so friendly as to be willing to
reconfigure their wireless router to let you run tor in server mode at
all, much less as an exit server.
     And who would determine the exit policy?  The exit policy would
probably have to be hardcoded as well.
     Where were you thinking that these changes would be made?  In the
tor source tree?  Or would a modified tor be packaged into the bundle?
Perhaps with a different version/release number?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-02-03 18:53:11
@_author: Scott Bennett 
@_subject: New Tor distribution for testing: Tor Browser Bundle 
On Sun, 03 Feb 2008 16:37:20 -0800 Jacob Appelbaum                                  ^^^^^^^^^^^^^^^^^       ^^^^
     Please reread what he wrote.  He said, "hardcoded" and "must".  Now,
it's true that tor's self-reachability testing would keep it from actually
running as a server if the appropriate NAT and RDR rules weren't in place,
it does seem wasteful to have it continually trying to complete the test
in situations where it never can.  It would be much better simply to let
it run as just a client in those cases.
     There is also the ethical consideration of tying up the available
bandwidth in a private business's services provided to its customers, but
for the benefit of people scattered at unknown locations all around the
globe, rather than of those customers.
     But then those changes would not be hardcoded either, as the top-poster
     But a check box, by the top-poster's request, would have to do nothing,
so that the server mode with some unspecified exit policy would be a "must".
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-02-03 18:58:44
@_author: Scott Bennett 
@_subject: New Tor distribution for testing: Tor Browser Bundle 
On Sun, 3 Feb 2008 16:47:24 -0800 "Michael_google gmail_Gersten"
     Yes, that's another very important point.
     Requiring someone to run an exit server when all they need is a client
would seem quite out of line with the tor project's point of view as given
on its web pages, too.  They point out that even using tor only in client
mode still contributes to everyone else's anonymity by adding more traffic
to the mix (the "safety in numbers" effect).
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-07 14:05:00
@_author: Scott Bennett 
@_subject: What to do at IP number change? 
On Mon, 7 Jan 2008 20:55:36 +0100 Tom Hek      *Ten times per day?*  Please tell us again why it is you're bothering
to run a tor server if you also feel you have to hide its existence.
     That is true iff the Address line in torrc contains a host+domain name,
not an IP address, and the name server data base in question has been updated
to reflect the changed address.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-08 20:02:50
@_author: Scott Bennett 
@_subject: What to do at IP number change? 
On Tue, 08 Jan 2008 14:15:05 -0600 Jon McLachlan      Almost.  If you have an asymmetric broadband service and are not
specifying BandwidthRate or BandwidthBurst in torrc, then your tor server
is likely to top out around the transmission rate limit of your Internet
connection.  At this point, only input spikes would be visible.  When data
come in faster than they can go out, the cells just stay in an output queue
until they can be sent.  If this goes on over an extended period of time,
it will have at least a partial smoothing effect upon the inflow as well
due to TCP source quench packets being returned.
     Note also that spikes may occur for several other obvious reasons,
e.g., a new stream on a circuit going through your tor server that is used
for FTP, downloading large files (e.g., music or video or CD/DVD image
files), or NNTP batch transfers.  Spikes often have nothing to do with a
local client.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-09 00:45:18
@_author: Scott Bennett 
@_subject: What to do at IP number change? 
On Tue, 08 Jan 2008 22:32:23 -0600 Jon McLachlan      My computer spends many hours per day during which tor is the only
thing doing any significant volume of network traffic.  (The only other thing
accessing the net at those times that comes to mind is ntpdate running once
every hour, which is trivial.)  During that time, I see network traffic varying
widely, especially on the input side.  I'm not doing anything that accesses
the network at those times, so local use is not a factor.
     Actually, the presence of non-tor traffic would just make things more
difficult.  Remember that exit traffic bears no marks of distinction from
other locally generated, non-tor traffic.  Traffic generated by other machines
on the same local net as the tor server machine is not distinguishable by
IP address if the local net lies behind a NAT+RDR-serving router.  Traffic
identifiable by port number as being tor traffic appears simply as unidentified
tor traffic, but its flow rate may be determined as much by the total volume
of other traffic entering and leaving the local net as by the external and
local tor-related demand.
     My lousy ISP (TBC Net, Inc. at  cuts the connection at
least once a day, often more than once in a day.  Upon reconnection, the
IP address assigned has usually changed, but not always.  On the rare occasions
that the IP address has not changed, it sometimes happens that my tor server
will get marked as "stable" by the directory authorities in the directory
information.  After a disconnection and reconnection with the same IP address,
the traffic rebounds quickly.  As long as the server is not listed as "stable",
traffic varies a lot around the clock, but in those cases where it gets marked
"stable", the traffic tends toward a steady, maximum-output-rate load within
two or three hours of the "stable" listing in the directory.  In this case,
few, if any, output peaks are possible and output troughs are unusual.  Input
peaks and troughs are sometimes visible, but due to the maxed out output
bandwidth, little change appears in the output signal.  In order to see such
peaks and troughs, one would have to have access to the output queue lengths
and volumes on the tor server's machine and on any router connecting the local
net to the Internet.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-09 00:49:36
@_author: Scott Bennett 
@_subject: What to do at IP number change? 
+     On Tue, 08 Jan 2008 22:32:23 -0600 Jon McLachlan +>>      On Tue, 08 Jan 2008 14:15:05 -0600 Jon McLachlan +>>   +>>>     +>>>> Another point is that without a tor server my home would be vulnerable to traffic +>>>> analysis and a further point is that a tor server is more safe than only a client.
+>>>>   +>>>>       +>>> I think this depends largely on what type of traffic analysis we're +>>> talking about.  Traffic analysis, just looking at traffic, almost always +>>> divulges some level of information.  For example, if a local passive +>>> adversary simply watched a Tor Relay that was suspected to also contain +>>> a Tor Client, then one could imagine a simple traffic analysis as follows:
+>>> 1)  Establish running totals of all incoming and outgoing traffic from +>>> the machine.
+>>> 2)  Then, closely monitory when it is the case that the outgoing traffic +>>> level "spikes" or when the incoming traffic level "spikes" as they could +>>> indicate that a Tor Client was using the relay as an entry point.  How +>>> much it "spikes" could fingerprint a website ... or even be a +>>> maliciously modulated signal from an evil server might you might have +>>> connected to via your tunnel.
+>>> This exploits the behavior of a basic Tor Relay, in which everything +>>> that enters a relay must [immediately] leave that relay.  This traffic +>>> alone would generate what appears equal/average incoming and outgoing +>>> msgs.  Any spikes in the entering / leaving traffic is therefore +>>> probably not from the Tor Relay itself, but, from something else.  (or +>>> course, this ignorse dir service lookups, bridges, and prly a few other +>>> things).
+>>>     +>>      Almost.  If you have an asymmetric broadband service and are not
+>> specifying BandwidthRate or BandwidthBurst in torrc, then your tor server
+>> is likely to top out around the transmission rate limit of your Internet
+>> connection.  At this point, only input spikes would be visible.  When data
+>> come in faster than they can go out, the cells just stay in an output queue
+>> until they can be sent.  If this goes on over an extended period of time,
+>> it will have at least a partial smoothing effect upon the inflow as well
+>> due to TCP source quench packets being returned.
+>>      Note also that spikes may occur for several other obvious reasons,
+>> e.g., a new stream on a circuit going through your tor server that is used
+>> for FTP, downloading large files (e.g., music or video or CD/DVD image
+>> files), or NNTP batch transfers.  Spikes often have nothing to do with a
+>> local client.
+>>   +>Yeah, I guess I was making synchronized assumptions, haha :).  But, I am +>having trouble imagining circuit based Tor relay traffic causing +>"spikes" in the differences between total incoming traffic and total +>outgoing traffic - since, if there were large discrepancies between +>these two totals, it would more or less be a kind of measure on your own +>relay's lag.  In a low-latnecy system, one of the centric goals is to +>minimize this - and in Tor, I believe several design decisions were +>based around this.  So, even if things are async, it seems likely that +>(large, consistent) discrepancies between total incoming/outgoing +>traffic would prly be due to "other" local traffic that either +>originates or exits form the relay.  But yes, I was also assuming a +     My computer spends many hours per day during which tor is the only
+thing doing any significant volume of network traffic.  (The only other thing
+accessing the net at those times that comes to mind is ntpdate running once
+every hour, which is trivial.)  During that time, I see network traffic varying
+widely, especially on the input side.  I'm not doing anything that accesses
+the network at those times, so local use is not a factor.
+>strong local passive adversary that is able to distinguish between +>circuit relay traffic and all other (ignored) network traffic.
+     Actually, the presence of non-tor traffic would just make things more
+difficult.  Remember that exit traffic bears no marks of distinction from
+other locally generated, non-tor traffic.  Traffic generated by other machines
+on the same local net as the tor server machine is not distinguishable by
+IP address if the local net lies behind a NAT+RDR-serving router.  Traffic
+identifiable by port number as being tor traffic appears simply as unidentified
+tor traffic, but its flow rate may be determined as much by the total volume
+of other traffic entering and leaving the local net as by the external and
+local tor-related demand.
+     My lousy ISP (TBC Net, Inc. at  cuts the connection at
                                            ^^^
     The web site address above is incorrect.  It should be My apologies for the noise.
+least once a day, often more than once in a day.  Upon reconnection, the
+IP address assigned has usually changed, but not always.  On the rare occasions
+that the IP address has not changed, it sometimes happens that my tor server
+will get marked as "stable" by the directory authorities in the directory
+information.  After a disconnection and reconnection with the same IP address,
+the traffic rebounds quickly.  As long as the server is not listed as "stable",
+traffic varies a lot around the clock, but in those cases where it gets marked
+"stable", the traffic tends toward a steady, maximum-output-rate load within
+two or three hours of the "stable" listing in the directory.  In this case,
+few, if any, output peaks are possible and output troughs are unusual.  Input
+peaks and troughs are sometimes visible, but due to the maxed out output
+bandwidth, little change appears in the output signal.  In order to see such
+peaks and troughs, one would have to have access to the output queue lengths
+and volumes on the tor server's machine and on any router connecting the local
+net to the Internet.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-09 16:11:47
@_author: Scott Bennett 
@_subject: Missing key from authority? 
On Wed, 9 Jan 2008 22:22:54 +0100 Tom Hek      Have you been reading this list lately?  It has been reported here
numerous times already, so it's a known bug, but fairly harmless now that
there are enough v3 directory authorities to cover the situation.  You
will notice that the messages occur about once a minute and stop in less
than an hour.  Just ignore them.  The developers will get to it whenever
they have less pressing bugs to fix.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-09 23:24:26
@_author: Scott Bennett 
@_subject: What to do at IP number change? 
On Wed, 09 Jan 2008 19:31:02 -0800 "F. Fox"      You're missing the point w.r.t. killing circuits.  The SIGHUP to tor
has nothing to do with the circuits dying.  The circuits die because you
removed the IP address at your end of the TCP connections conducting those
circuits from the Internet.  It's the same as though your entire system had
crashed.  It does it to every other open TCP connection on your system routed
through the now defunct IP address at the same time, not just to tor's TCP
     Roger's other comments regarding the directory operations are things
you should gather from the documentation, too.  Perhaps it would be worth
your time to (re)read the basic documentation and also the document covering
each of the directory protocol versions.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-10 23:15:13
@_author: Scott Bennett 
@_subject: Pidgin and Gajim are both DNS-leaking, what IM-tool for Jabber are you using? 
On Thu, 10 Jan 2008 21:47:23 +0000 Robert Hogan      I'm assuming the patch is to get tsocks to do name resolution via a socks
proxy using 4a or 5.  If that is correct, where can I get the patch, please?
I'm running FreeBSD 6.3-PRERELEASE, but haven't updated my ports tree in months
(since before the X.org 6.9 --> 7.2 ports freeze), so I'll need to patch it
     Thanks in advance.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-16 20:18:28
@_author: Scott Bennett 
@_subject: how many connections are legitimate to a DirPort? 
How many simultaneous connections from a tor client to a directory
mirror's DirPort are legitimate?  Is more than a single such connection
necessary, and if so, why?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-17 01:42:25
@_author: Scott Bennett 
@_subject: how many connections are legitimate to a DirPort? 
On Thu, 17 Jan 2008 01:34:48 -0500 Roger Dingledine      That case doesn't explain what I'm seeing, though.
     This one would explain what I see from many IP addresses, but basically
they do it for a little while, then stop.  The problem cases are the ones
that keep doing it for long periods of time (say, hours), tying up my
transmission bandwidth.
     This one could also explain some of the seemingly innocuous cases, but
not the problem cases.
     Yes.  I don't see any obvious reasons that multiple connections would
send all the data any faster than a single connection would, but multiple
connections surely do incur a lot more overhead.  Furthermore, multiple
connections seriously reduce the savings from V-J header compression over
point-to-point links.
     I'm a little surprised that directory fetching is handled this way,
especially given how multiple streams and circuits are handled over single
connections between tor servers.  I would have expected directory streams
to be handled similarly.
     Well, some time back you asked me to give you the LOGINFO messages the
next time it happened, so I kept my eyes open, and the next time I saw it
happening, I saved the log file for you.  I then posted a note on this list,
asking whether you or anyone else still wanted to see it and if so, what to do
with it.  I got no response, so after a week or two I deleted it.  If you want
me to trap the LOGINFO data the next time again, I will, but please let me
know what to do with it once I have it.
     I'm currently trying to make up my mind whether to remove the filtering
rules from my router for the first three cases, from which I notice the packet
counts have gone down to nearly zero each time I've checked.  The one I added
for today's (Wednesday's) incident I'll leave in place for at least a few
Days until the frequent attempts cease.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-19 09:25:54
@_author: Scott Bennett 
@_subject: suspicions Chinese node name piracy 
Florian omitted your email address below, and I didn't save your original
message, so I couldn't copy you in on this.  I trust you will see it via the
     On Sat, 19 Jan 2008 15:03:51 +0100 Florian Reitmeir      I would have assumed that an extraordinarily high-capacity server like
your blutmagie would have been flagged "Named" in the status documents and
consensus document.  Did you never send in the information about it to get
the name reserved for your server?
     More peculiar is the fact that both your blutmagie and the Chinese one
are flagged "Unnamed", even though they clearly also have names in the same
status/consensus entries.  It seems to me, though, that this might be a case
where the directory authorities should remove the "Valid" flag from the entry
for the Chinese one and mark yours as "Named".
     What say ye, Geoff, Peter, Mike, Karsten?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-19 16:28:56
@_author: Scott Bennett 
@_subject: suspicions Chinese node name piracy 
On Sat, 19 Jan 2008 20:30:18 +0100 Florian Reitmeir wrote (and left out Olaf's email address again):
     Well, I don't like it at all.  I've just added to my torrc file:
# The following node is a Chinese impostor of the legitimate blutmagie.
ExcludeNodes $891BA086DEEABAD7FFB83F5541395328629CADC6
     Bummer.  However, this can be used as one more example of a reason your
legislative representative should revisit the new law(s) in Germany and get
rid of it/them.
     Or someone looked up the real blutmagie's descriptor and gave that
information to the cops, perhaps not even realizing that an impostor had come
into the picture.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-24 02:20:05
@_author: Scott Bennett 
@_subject: Hostname 
Why would you think that?  Have you bothered to read the documentation?
Please read the descriptions of the configuration statements in the torrc file,
in particular, the Address, ORPort, ORListenAddress, DirPort, and
DirListenAddress statements.
     Perhaps your difficulty is, instead, that your neighbor has neither given
you the authority to reconfigure his/her router nor made the reconfiguration
changes himself/herself?  Perhaps you have yet to ask the neighbor in question
whether he/she is willing to donate his/her bandwidth or potential liability
to legal hassles to your project?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-24 19:00:50
@_author: Scott Bennett 
@_subject: Hostname 
Well, that's true.  I guess I had missed your point.  Modern commodity
routers can do both port forwarding and NAT, so it shouldn't be a problem
for you as long as your neighbor is willing to let you use his/her resources
that way.
     The tor server has to be reachable from outside, of course, and it
does check for and require reachability before it will publish its
     The documentation of the configuration statements to which I previously
directed you should give you the information you need for configuring tor
properly once the router has been correctly configured to forward connections
from the outside to the tor server's port(s).
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-25 00:52:20
@_author: Scott Bennett 
@_subject: Child pornography blocking again 
On Thu, 24 Jan 2008 22:11:48 -0500 Kraktus      Are the electric utility companies required to block delivery of
electric power to sites blacklisted for child pornography?  How about
telephone companies?  City water and sewer services?  Of course not.
     Then why have you floated this non-starter again?  The first time
you brought it up on this list, the technical and ethical problems with
it were pointed out to you at great length.  You were also directed to
the use of "ExitPolicy reject" to deny exit service to sites you don't
like.  It was also pointed out that you are not obligated in any way
to provide exit service at all or even to run tor in server mode.
     The issue is long dead and should not have been reintroduced onto
this list.  By doing so, you have wasted the time of many people, not
to mention the bandwidth involved.  Please cease and desist.  Do not
bring it up here again.  Be advised that trolls are no more welcome on
OR-TALK than in any other forum.  If you have relevant, useful things
to discuss here, please bring them on, but stop wasting our time with
irrelevant things that have already been dealt with and laid to rest.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-26 05:36:21
@_author: Scott Bennett 
@_subject: directory authority/authorities need(s) updating? 
When I restarted my tor server a while ago. it surprised me with
Jan 26 04:25:08.406 [notice] This version of Tor (0.2.0.17-alpha) is newer than any recommended version, according to the directory authorities. Recommended versions are: 0.1.2.19,0.2.0.11-alpha,0.2.0.12-alpha,0.2.0.15-alpha
So I peeked at the cached-consensus file and the cached-status/* files.  The
cached-consensus file contained
client-versions 0.1.2.17,0.1.2.18,0.1.2.19,0.2.0.6-alpha,0.2.0.7-alpha,0.2.0.8-alpha,0.2.0.9-alpha,0.2.0.11-alpha,0.2.0.12-alpha,0.2.0.13-alpha,0.2.0.14-alpha,0.2.0.15-alpha,0.2.0.17-alpha
So far, so good, but then it had
server-versions 0.1.2.19,0.2.0.11-alpha,0.2.0.12-alpha,0.2.0.15-alpha
So what's the deal with 0.2.0.16-alpha and 0.2.0.17-alpha not being recommended
as servers?
     The cacned-status/* files also contained some oddities.  Some had only
two copies of the authority's IP address instead of a host+domainname followed
by an IP address.  One of them was for lefkada.eecs.harvard.edu, whose
cached-status file offered neither client-versions nor server-versions, even
though the cached-consensus file said it had come from this server and did
offer its not necessarily correct opinion of both.  The cached-status file for
tor.dizum.com also offered neither client-versions nor server-versions.  The
other authorities offered reasonable client-versions and server-versions.
     Would the people running the authorities please get this straightened out
ASAP?  It seems like a bad idea to have them in such disagreement.
     Thanks much!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-26 17:39:47
@_author: Scott Bennett 
@_subject: How to run an exit node and not getting raided by police? 
On Sat, 26 Jan 2008 17:37:37 -0500 Kraktus posted out of the blue with no context whatsoever:
     Just keep in mind that it would have to be a very small list because
the ExitPolicy syntax, probably for good reason, does not allow something
for example.  For one thing, this would require a name server query by the
exit server for every exit connection to port 80 because the IP address
would not be known prior to the exit connection attempt.  Would a tiny
whitelist get enough use to justify putting it into an exit policy?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-27 02:44:57
@_author: Scott Bennett 
@_subject: directory authority/authorities need(s) updating? 
Last night I reported here that the directory authorities are in
disagreement over client-versions and server-versions.  Tonight they are
still in disagreement.  The consensus documents still fail to list any
development branch versions later than 0.2.0.15-alpha as server-versions.
     When will the directory authority operators correct these two problems?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-27 13:44:38
@_author: Scott Bennett 
@_subject: Huh? 
Yes, that's what I've reported twice already on this list.  Thus far,
it appears that only Peter Palfrader has corrected the information that his
directory authority server dishes out.  The others are all still wrong and
in general disagreement with each other.
     This bug was pointed out by someone on this list recently, and Roger
Dingledine responded with his thoughts on how tor was probably fooling
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-27 13:52:19
@_author: Scott Bennett 
@_subject: directory authority/authorities need(s) updating? 
The latest consensus file appears to have 0.2.0.18-alpha listed as
a recommended server version, but not 0.2.0.16-alpha or 0.2.0.17-alpha,
even though it still lists 0.2.0.11-alpha, 0.2.0.12-alpha, and
0.2.0.15-alpha.  Also, the individual status documents are still in
considerable disagreement with each other.  Are the directory authority
operators getting careless?
     Welcome back!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-28 01:50:56
@_author: Scott Bennett 
@_subject: directory authority/authorities need(s) updating? 
On Sun, 27 Jan 2008 22:50:50 -0500 Roger Dingledine      Really!  How long does it take to see this leak?  Does the server have
to be doing anything in special (e.g., involved in hidden services, being
a directory mirror) to trigger the leak?  I've been running 0.2.0.17-alpha
since I first noticed in was available, at which time I think it had only
been available for a day or two.  I haven't yet seen the problem.  The
current instance on my machine has been running about 45.5 hours so far.
It appears to be using about 3 MB less right now than it was using around
nine hours ago.  As far as I can recall, its memory usage has been within a
few MB of what it has right now all the time.  It sometimes goes up a little,
and it sometimes goes down a little.  It has never given me cause to suspect
a leak.
     Does that mean that if one goes down, we can't get a majority opinion
on versions?
     Okay.  Thanks for the news.
     Okay.  I just got it late last night and haven't yet had a chance to
do anything with it beyond unpacking it.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-28 04:36:20
@_author: Scott Bennett 
@_subject: [OT] NSA to spy on rest of government, launch counterattacks at crackers 
Although this is off topic, it is closely related to the interests of
many on the list:
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-29 02:20:56
@_author: Scott Bennett 
@_subject: Tor operator raided in Finland 
On Mon, 28 Jan 2008 10:42:16 -0800 "F. Fox"      In the United States, knowingly giving false information to a federal
law enforcement officer is a felony, so as soon as they found out you had
deceived them, they would likely charge you with that crime.  Two of the
felonies with which Irving Lewis ("Scooter") Libby was charged and convicted
were such charges.  Similar laws exist in most/all states regarding false
statements made to state and local law enforcement officers.  Further, if
the statements are made in the course of a grand jury hearing, you may be
charged with another felony:  perjury.  Two of the charges against Libby
were for perjury before a grand jury.  The false statements may also result
in a charge of "obstruction of justice", the final charge made against Libby.
     It is clear that the Constitution and ratified amendments to it are
no longer in effect nationwide, though you may find them honored in some
courts.  Don't count on them, though.
     Be prepared to convince a judge or a jury that a) you really did
forget, b) that you really did misremember, and c) that those were the
reasons you gave the false information.  Or if you choose not to give
false information, start packing for a free vacation of indefinite length
at a military "resort" in Cuba.  Ready to "retire" so soon?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-29 13:16:43
@_author: Scott Bennett 
@_subject: Tor operator raided in Finland 
Sorry, but you're mistaken.  It's in the federal criminal code,
and Libby was convicted of violating it.
     That is a separate crime called perjury.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-31 00:40:57
@_author: Scott Bennett 
@_subject: New Tor distribution for testing: Tor Browser Bundle 
On Wed, 30 Jan 2008 00:52:18 +0000 "Steven J. Murdoch"
     I do hope that you, as well as others on this list who are developing
portable versions of tor and tor-related applications and bundles thereof,
are coordinating your efforts with the good folks at portableapps.com, who
have already assembled a significant collection of portable applications
suitable for burning onto CDs or flash drives, including Firefox,
OpenOffice.org, and many associated packages (extensions, utilities, etc.)
They even have a sort of "super  bundle" called PortableApps Suite that
contains ClamWin, Firefox, Gaim, OpenOffice.org, Sudoku, Sunbird, and
Thunderbird.  There is a "lite" version of the suite that substitutes
AbiWord for OpenOffice.org, and a "base" version whose OpenOffice.org is
a stripped-down version.  Check all this stuff out at
It would be a shame either to duplicate the efforts of others needlessly
or to keep your bundle(s) from the wider audience outside of the OR-TALK
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-02 22:48:08
@_author: Scott Bennett 
@_subject: Problems understanding and using Vidalia Network Map 
Almost.  However, if you watch the display changing as new circuits are
being built, you will note that the last node listed is simply the last one
added to the circuit.  Once circuit construction has completed, the last node
added is, of course, the exit node.  Individual connections exiting from that
node get listed right below the display of the circuit's route.
     A note to Ben:  you really desperately need to read the tor documentation.
It is most unsafe to use tor without first having read the its documentation.
Your question regarding the number of circuits displayed vs. the number of
connections you have open at one time is answered in the man page.  IIRC, your
question in your previous thread is also answered in the man page.  Please
stop using tor until you have taken the time to read what it does and how to
use it properly.  Note also that the man page is the standard operational
reference, but it is most definitely not the only piece of the tor
documentation that you need to be familiar with.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-02 23:23:32
@_author: Scott Bennett 
@_subject: Google becomes usefull for us again 
The problem, though, seems to be caused by users who think that word
processors, rather than text editors, are appropriate to use in composing
email messages.  Mailing list subscribers should *not* have to use such
workarounds in order to read messages posted to the list.
     Mine is 1920x1200, but that's irrelevant.  I read email with the old UCB
mail program in a PuTTY window set to 80 characters by 24 lines.  Old standards
die hard, which is just as it should be.  Note, for example, that email was
never dangerous to read until Microslop and others invented the super-duper,
GUIed, MIME-capable mail interfaces.  Text-based mail interfaces are still the
only really safe ones around.
     I also find it quite offensive when people post HTML to mailing lists.
It's hard on the eyes, and is nearly always a wasted duplication of the same
message included as text before the HTML.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-02 23:39:01
@_author: Scott Bennett 
@_subject: setting the minimum number of routers used in the network 
On Wed, 2 Jan 2008 09:36:40 +1100 "Cameorn Burns"
     Sigh.  From the freebsd-questions list, please read first:
 -> Date: Fri, 23 Nov 2007 08:05:59 -0500
 -> From: wmoran at potentialtech.com (Bill Moran)
 -> Subject: Re: top posting (off-topic)
 -> To: "Brent Jones"  -> Cc: freebsd-questions at freebsd.org
 -> Message-ID: <20071123080559.eda37a95.wmoran at potentialtech.com>
 -> Content-Type: text/plain; charset=US-ASCII
 ->  -> >  -> > I for one prefer top posting, as usually I have read a particular thread
 -> > enough times that I like to cut to the chase and read the new input
 -> > without having to scroll down, sometimes navigating an endless nesting
 -> > of >>>  For me, reading through top posted replies saves time and
 -> > effort.  If I happened to miss something in the conversation I can
 -> > scroll down to find it.
 ->  -> There are three reasons _not_ to top-post and to post inline, trimming
 -> your response intelligently:
 ->  -> 1) Top-posting does not scale up to large, complex emails.  It produces
 ->    incomprehensible responses when the conversation requires more than
 ->    a yes or no answer.
 -> 2) Stop thinking about yourself and realize that most messages read in
 ->    archives long after they were posted.  Top posted messages in archives
 ->    are a lot more difficult to parse, and usually require a lot of clicking
 ->    around to get back to earlier messages, etc.
 -> 3) RFC-1855 says so.
 ->  -> Most people who _honestly_ ask this question simply don't have a lot of
 -> experience with online discussions.  Take the advice of people who have
 -> been doing this for years and you look smart.
 ->  -> --  -> Bill Moran
 -> Then read below for a more useful answer to your question.
     The value 3 is hard-coded and as a *literal*, not even via a preprocessor
variable.  Search in circuitbuild.c for "routelen", and you'll find it.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-03 00:05:54
@_author: Scott Bennett 
@_subject: Google becomes usefull for us again 
I like   It gathers the results from several major search
engines into one set of pages for you.  I always use it via tor and have never
had any such hassles as the one described above.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-01-03 18:06:28
@_author: Scott Bennett 
@_subject: yet another DirPort attack 
This morning I found my tor server under attack once again via its
DirPort.  This time the offending IP address was 201.7.107.128, from which
there were 30-40 ESTABLISHED connections, each with ~31K-32K in their output
queues, and dozens more in TIME_WAIT, FIN_WAIT_1, or FIN_WAIT_2.  I gave tor
a SIGUSR2 and let it log its activity voluminously for several minutes,
while I added yet another packet-filtering rule to the router, and then
waited for the connections to disappear by attrition before sending SIGHUP.
     The resulting logged material consists primarily of lines like
Jan 03 08:44:56.560 [debug] conn_write_callback(): socket 31 wants to write.
Jan 03 08:44:56.629 [debug] conn_write_callback(): socket 82 wants to write.
Jan 03 08:44:56.681 [debug] conn_write_callback(): socket 89 wants to write.
Jan 03 08:44:56.709 [debug] conn_write_callback(): socket 121 wants to write.
Jan 03 08:44:56.739 [debug] conn_write_callback(): socket 39 wants to write.
Jan 03 08:44:56.790 [debug] conn_write_callback(): socket 42 wants to write.
Jan 03 08:44:56.913 [debug] conn_write_callback(): socket 52 wants to write.
Jan 03 08:44:56.943 [debug] conn_write_callback(): socket 88 wants to write.
Jan 03 08:44:57.033 [debug] conn_write_callback(): socket 99 wants to write.
Jan 03 08:44:57.172 [debug] conn_write_callback(): socket 46 wants to write.
Jan 03 08:44:57.174 [debug] conn_write_callback(): socket 46 wants to write.
Jan 03 08:44:57.174 [debug] conn_write_callback(): socket 89 wants to write.
Jan 03 08:44:57.302 [debug] conn_write_callback(): socket 114 wants to write.
Jan 03 08:44:57.363 [debug] conn_write_callback(): socket 39 wants to write.
Jan 03 08:44:57.363 [debug] conn_write_callback(): socket 39 wants to write.
Jan 03 08:44:57.364 [debug] conn_write_callback(): socket 39 wants to write.
Jan 03 08:44:57.364 [debug] conn_write_callback(): socket 39 wants to write.
Jan 03 08:44:57.473 [debug] conn_write_callback(): socket 82 wants to write.
Jan 03 08:44:57.516 [debug] conn_write_callback(): socket 122 wants to write.
Jan 03 08:44:57.519 [debug] conn_write_callback(): socket 43 wants to write.
Jan 03 08:44:57.554 [debug] conn_write_callback(): socket 121 wants to write.
These are interspersed occasionally with other messages, but nothing directly
related to the problem at hand in any way obvious to me.
     IIRC, it was Roger Dingledine who asked to me the last time this happened
to get debug-level log output the next time it happened.  What I need to know
now is what to look for in the output and/or where to send the output.
     FWIW, a short time after the addition of the filter rule halted the
spurious activity, I took a look at the statistics applicable to the three
rules I have thus far added to deal with these attacks.  The two older ones
had stopped only a handful each of packets in the last day or so.  The one I
had just added had blocked 3140 incoming packets from the time the rule was
added till I checked it a while later.  It has now been over nine hours since
the rule was added, and the router now shows a blocked incoming packet count
of 10,643 packets.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-07-21 23:49:16
@_author: Scott Bennett 
@_subject: browser footprint 
On Tue, 22 Jul 2008 05:24:22 +0200 "=?UTF-8?Q?Tom=C3=A1s_Arribas?="
     Is there some good reason for posting crap like the above to this list?
It's bad enough that some insist upon posting their message along with an
HTML duplicate, but at least there is usually some original text content.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-07-22 18:21:02
@_author: Scott Bennett 
@_subject: [OT] message formats (was: browser footprint) 
On Tue, 22 Jul 2008 14:02:10 +0200 Ansgar Wiechers      I'm using mailx(1), which is the SysV equivalent of UCBmail, the staple
of UNIX systems for decades.  It is safe, reliable, and either mailx or
UCBmail is found on just about every kind of UNIX still in use today.  It
handles mail headers and plain, ASCII text.  If you want to use other
character sets in private email, that's fine, but it's not appropriate to do
so on mailing lists.
     If I were using a news reader, e.g. tin or trn, to read and post to a
USENET news group about tor, that kind of thing would be handled by the
news reader.  However, I'm instead reading and posting to a mailing list
about tor.  Subject: lines are included, and quoted messages are cited and
indented properly.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-07-23 04:05:23
@_author: Scott Bennett 
@_subject: [OT] message formats (was: browser footprint) 
Then you should send your suggestion to Sun Microsystems, Inc., not
to me, because this particular implementation is the Solaris version.  You
may also want to suggest something similar to the FreeBSD development team
for UCBmail (likewise the NetBSD and OpenBSD teams) because that is included
in the base system just as mailx is with Solaris, and probably also to
the LINUX developers, though I don't use LINUX and do not know for sure
that they maintain a version of mailx.  It is indeed a UNIX standard, so
live with it.
     Tough.  All the extra fluff that has been added to email over the years
is yet another source of security headaches.  I choose to stick with an
interface that is tried and true, can be found on any UNIX system I use or
will likely ever use in the future, and presents no security risks at all.
     This list is about tor.  People posting to it should use a universally
accepted format, in this case, plain, ASCII text if they want to be
understood.  No MIME, just ASCII.  The places for other such things are
lists chartered specifically in another language, USENET news groups, web
pages for HTML and/or images, private email, and probably some others I've
     One of the nice things about the OR-TALK mailing list is that it is
generally a low-volume list, not a 50+ messages per day list (which I would
subscribe to in digest format or else look for a gatewayed version in USENET
anyway), so there is really no need for subject threading anyway.  It's a
good list.  Let's keep it that way.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-07-23 05:08:59
@_author: Scott Bennett 
@_subject: [OT] message formats (was: browser footprint) 
I do, thank you, but only when I need it to transfer non-ASCII file
types.  It's fine for private email, though it does introduce security
risks for many users, but it's still a bad idea for mailing lists.  Many
modern lists have scrubbers that remove all MIME attachments for that
     First, I am not the administrator of this system.
     Second, I am using this system until it dies.  Then I'll have to
find a different place to deal with email.  Until that happens, I have
no way of knowing which mailers will be available to me wherever I end
up.  If I switch interfaces, it will have to wait until then because I
see no point in doing it twice.
     In any case, there is no need for threading in OR-TALK, and the
character set should still be ASCII.
     I hope you enjoyed the review. :-)  Now let's stop this, and get
back to discussing tor-related matters.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-07-23 05:23:49
@_author: Scott Bennett 
@_subject: [OT] message formats (was: browser footprint) 
On Wed, 23 Jul 2008 12:00:58 +0200 Florian Reitmeir      You fail to mention which sort of UNIX you're looking at.
     The Solaris version doesn't support it, and there is no mention of
MIME in the man page for it.
     So what?
     As previously noted more than once, there is no support for either
non-ASCII character sets or MIME in the Solaris mailx.  See another
message for a practical reason for my not changing mailers at this time.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-07-23 17:54:49
@_author: Scott Bennett 
@_subject: [OT] message formats (was: browser footprint) 
On Wed, 23 Jul 2008 08:53:27 -0400 krishna e bera      Bullshit.
     Fine.  Start as many lists as you would like, each dedicated to a
language and character set of your choice.
     My point exactly.  Postings to this list are written in English, as
a rule, though there may have been a case or two where someone posted
something *in ASCII text*, who then got assistance off the list (i.e.,
by private email) by another subscriber who knew the language of the person
needing assistance.  If you want communication to be widespread, then you
should simplify the method of communication to the greatest common factor,
which is ASCII, not EBCDIC, not HTML, not unicode.
     Sort of like what you want me to do, right?
     I repeat:  I am not the administrator of this system.  Period.
     If someone posts a block of ASCII digits, as happened in the case
that prompted all of this discussion, I'm really not interested in
pursuing it further.  If the original poster wanted it to be legible
enough to be of potential interest to the widest audience on this list,
then the original poster would have sent it as ASCII text.  As it was,
it really looked like some massmailer had managed to hit the list and,
with a little luck, the list owner would attempt to block it in the
future.  Even the Subject: header contained junk, a common massmail
     Now please stop.  This is off-topic and should be unnecessary to
explain in the first place, just as the reasons for not top-posting
should be obvious.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-07-24 02:01:59
@_author: Scott Bennett 
@_subject: Is tor being slowed up to ~20ms per hop by TCP delayed ACK? 
My server is running under FreeBSD 6.3-STABLE on a Dell Inspiron XPS,
which has a 3.4 GHz P4 with HTT enabled and 2GB of memory.  My ISP
connection is an ADSL currently limited to ~4.56 Mb/s reception and ~698
Kb/s transmission.  tor input traffic varies from a few KB/s to, say, 180
KB/s, but peak average over 10 - 15 seconds is probably ~110 KB/s.  The
busier times usually have sustained rates running from 45 - 80 KB/s.  It
rarely gets up to such levels for more than a few seconds until after it
has been running long enough to get the Guard flag in consensus from the
directory authorities, but then may spend a lot of the time in that
activity range.  The server offers exit service for many ports, but not
port 80.  It also offers directory mirror service, so some of the limited
transmit bandwidth can be tied up by directory replies.  tor is configured
with NumCPUs 2 and has 6 threads most of the time.  When my system is
essentially inactive except for tor with its client side idle, top(1)
usually displays 99% - 100% idle time.  It occasionally drops lower by 1%
to 6% for as long as a few seconds, but no longer.  I don't know what it
tor is doing at those times that is different from the rest of the time.
Once in a great while, a couple of tor threads will chew up considerably
more, usually while incorporating cached-descriptors.new into
cached-descriptors.  Note that by using the system idle time as an
indicator, all overhead required by networking activities is already
included with the tor process's CPU time.  There is undoubtedly a certain
amount of time consumed by other, mostly idle processes in the system,
too, but that is so trivial that it can be safely ignored for the
conditions described above.
     So my impression of tor is that it is basically a highly network-bound
application, contrary to many other reports of high CPU consumption by tor
that I've read over time on this list.  It looks to me as though my system
would easily handle ten times my current available bandwidth while still
leaving 90% or more CPU time available for other activities.  Of course,
it would be fun to try it out on a connection with huge bandwidth available
for a few weeks to see whether those performance characteristics hold up,
but until fiber optics installed to residences is available to me and at a
rate affordable by me, which is not currently detectable on the horizon:-(,
I have no way of finding out.  But it does make me curious to know whether
my little machine could handle a load like that of blutmagie, for example,
if only it had a 100 Mb/s or faster connection. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-07-24 06:53:36
@_author: Scott Bennett 
@_subject: 0.2.1.2-alpha failing to upload descriptor updates automatically 
I'm running 0.2.1.2-alpha and have noticed a recurring problem.  It
appears that tor is sometimes not uploading a new descriptor on schedule.
Once this happens, it appears that it will *never* upload a descriptor
update on its own, though it can be tricked into doing so by making some
significant change in torrc, then giving it a SIGHUP.  I've been trying
to keep an eye on it and forcing it to update when the authorities stop
listing it in the consensus documents by commenting/uncommenting an
ExitPolicy line and giving it SIGHUP.
     Has anyone else experienced the same problem?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-07-30 11:37:34
@_author: Scott Bennett 
@_subject: geoip file open error message 
I'm running 0.2.1.2-alpha.  Whenever tor starts or reloads torrc in
response to a SIGHUP, I get a message like this:
Jul 29 07:35:58.028 [info] geoip_load_file(): Failed to open GEOIP file /usr/local/share/tor/geoip.
However, the file is actually present and was originally owned by root, group
wheel, with 644 permissions.  I tried changing the owner and group both to
_tor, but it made no difference.  I tried putting a symlink to it by the same
name ("geoip") into /var/db/tor.  Also no luck.
     I took a look at geoip.c, and it looks like fopen() is returning an error,
but it is not apparent to me what the problem is.  If anyone has an idea,
please let me know.  It doesn't seem to be a serious problem for my server
because it's not involved in any bridging operations, but it bothers me to see
the error message every time.  Thanks in advance.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-07-03 02:18:29
@_author: Scott Bennett 
@_subject: odd warning at shutdown 
I just shut down 0.2.1.1-alpha in order to boot Win XP for a while, and
then after rebooting FreeBSD, to try 0.2.1.2-alpha.  I got the following
messages, but have never seen the third one before.
Jul 03 01:37:02.282 [notice] Interrupt: will shut down in 1500 seconds. Interrupt again to exit now.
Jul 03 02:02:02.053 [notice] Clean shutdown finished. Exiting.
Jul 03 02:02:02.159 [warn] Still had some address policies cached at shutdown.
Can anyone tell me what it means, please?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-07-03 02:57:58
@_author: Scott Bennett 
@_subject: odd warning at shutdown 
Well, that's what it says it is, and that's how it was labeled
at the torproject.org web site.  That's about as sure as I can be
at this point.
     I have no idea.  It's the first time I've ever seen it, I think.
If I see it again, I'll post again.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-07-03 08:28:16
@_author: Scott Bennett 
@_subject: odd warning at shutdown 
Looks like 0.2.1.2-alpha also gives the weird message before shutting
down.  After starting it the first two times, I had to shut it down almost
immediately in order to shut the system down again.  Here are the log file
entries from the second shutdown.
Jul 03 05:51:51.772 [notice] Tor 0.2.1.2-alpha (r15383) opening log file.
Jul 03 05:51:51.794 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Jul 03 05:51:52.486 [notice] Your Tor server's identity key fingerprint is 'MYCROFTsOtherChild 0232 2050 5A55 0D6F DF0C 20FF 7C48 E66B A06A 49A6'
Jul 03 05:51:52.486 [notice] Bootstrapped 0%: Starting.
Jul 03 05:51:57.137 [notice] We now have enough directory information to build circuits.
Jul 03 05:51:57.137 [notice] Bootstrapped 80%: Connecting to the Tor network.
Jul 03 05:51:57.964 [warn] Nickname list includes 'yourd0f670b45a' which isn't a known router.
Jul 03 05:51:57.984 [notice] Bootstrapped 85%: Finishing handshake with first hop.
Jul 03 05:51:58.377 [notice] Bootstrapped 90%: Establishing a Tor circuit.
Jul 03 05:51:59.563 [notice] Tor has successfully opened a circuit. Looks like client functionality is working.
Jul 03 05:51:59.563 [notice] Bootstrapped 100%: Done.
Jul 03 05:51:59.563 [notice] Now checking whether ORPort 66.225.36.17:995 and DirPort 66.225.36.17:443 are reachable... (this may take up to 20 minutes -- look for log messages indicating success)
Jul 03 05:52:06.643 [notice] Self-testing indicates your DirPort is reachable from the outside. Excellent.
Jul 03 05:52:07.588 [notice] Self-testing indicates your ORPort is reachable from the outside. Excellent. Publishing server descriptor.
Jul 03 05:52:15.721 [notice] Performing bandwidth self-test...done.
Jul 03 05:52:41.909 [notice] Interrupt: will shut down in 1500 seconds. Interrupt again to exit now.
Jul 03 06:03:25.327 [notice] Sigint received a second time; exiting now.
Jul 03 06:03:25.400 [warn] Still had some address policies cached at shutdown.

@_date: 2008-06-01 15:26:05
@_author: Scott Bennett 
@_subject: multiple connections to ORPort from one IP address 
Oh, of course.  I guess I'm not really awake yet.  Thanks.  I didn't
think about schools, though, because most just assign unique, real IP
addresses from their class A or B zones.
     Yes.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-06-10 00:32:10
@_author: Scott Bennett 
@_subject: How do we defeat exit node sniffing? 
On Mon, 09 Jun 2008 20:51:10 -0700 Jack Straw      Okay, let me don a black hat for a bit to tackle this one.  Suppose
I can watch the traffic going into and out of the destination, where you
hold your account, an account that particularly interests me for reasons
unknown to you.  I've noticed already that the source addresses of the
connections coming in to access this account seem to bounce around the
globe from one connection to the next.  I might think you were traveling,
except that I see occasions where the access times that I've logged show
consecutive addresses that are too far apart geographically for the user
to have traveled between them in the time between those accesses.  E.g.,
one time the user accesses the account from an IP address in the London
metro area, and an hour later accesses it again, but this time from Delhi.
So I check more closely, comparing those IP addresses to various lists I
keep up-to-date copies of and...voila!  All of them are tor exit nodes!
Except, perhaps, this one IP address that might be someone's home computer
because it doesn't appear as an exit for the port in question in the
cached-descriptors list that I keep on hand, in which case, I've probably
found you.  OTOH, perhaps you run a tor exit node for that port, in which
case that method doesn't work.  But wait just a sec here...hmmm...the
last access was from a tor exit for the appropriate port, but then there
are no accesses after since that time over a week ago, but the user has
typically been accessing it at least every two or three days ever since
the account was opened.  I wonder...could the user have slipped up and
accessed the account without realizing that the access had not gone
through the tor network?  Perhaps he had disabled the use of tor in
his/her browser and forgotten to reenable it, in which case I've got you
located by IP address and can find out your street address quite easily.
Now maybe I don't have any real evidence to use against you for Vaterland
Security or FiBbI or wherever my blackhat character happens to work, but
maybe I have a girlfriend who works down the street at the IRS, who might
take an interest in the tax protest postings to various USENET groups
from your account.
     Dropping the black hat to return to normal self :-)...so in that
light, is your account tainted?  I would contend that it probably is if
Mr. Black Hat has been focusing on your account.  To the extent that I
may be doing by hand all the closer examination of your account accesses,
rather than using a completely automated process that simply delivers
these results to me, you might be able to cover the trail, especially if
you do run a tor exit node for the port in question, by doing something
like this after your little accident occurred:  roll a 20-sided die to
determine how many more times you will access the account via the tor
network before abandoning the account, so that the cessation of accesses
will not so obviously point to your IP address.
     I realize that may not seem to be much consolation, but you should
understand that all of this occurred to me while I was still reading
your message the first time.  It didn't take any real pondering to come
up with.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-06-10 03:31:54
@_author: Scott Bennett 
@_subject: How do we defeat exit node sniffing? 
On Mon, 09 Jun 2008 23:11:35 -0700 Jack Straw      [duplicate copy of previous postings deleted  --SB]
     [my quoted .signautre deleted  --SB]
     The only time invested was the time to edit the reply.  You're quite
     That was clear.
     In the more difficult case in which you do run an exit server for the
appropriate port, that small clue is the fact that you stopped using that
account, suggesting that you perhaps no longer trusted it, which is what
highlights the last IP address used as the one that may lead to you.
     But, you do see that it is much worse than that, right?  Unless you
did do something to hide the significance of your real IP address appearing
in Mr. Black Hat's logs of your account's accesses, like the example I gave,
then *you* *personally* are "tainted" because he now is pretty sure that
that IP address leads directly to *you*, whoever you may be, which he can
now pin down fairly quickly by finding out from your ISP your street address
and who has the ISP account at that address.  In other words, if you were up
to something Big Brother takes offense to, then your goose could well
*already* be cooked.  (You could perhaps get a lawyer to negotiate your
surrender while you remain in hiding somewhere and run a hidden service for
communication with that lawyer.  The lawyer might be able to work a deal for
you where they would be willing to forego the torture sessions at GTMO or
one of the secret prisons around the world and proceed immediately to your
execution by firing squad.  Best wishes. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-06-10 14:24:03
@_author: Scott Bennett 
@_subject: Tor-ramdisk 20080606 released. 
On Tue, 10 Jun 2008 14:06:57 -0400 basile      Just out of curiousity, why did you choose LINUX for this project?
If security is such a high priority, I would have thought that OpenBSD
would have been the operating system of choice.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-06-12 17:47:32
@_author: Scott Bennett 
@_subject: Time synchronization on tor servers and tor clients 
On Thu, 12 Jun 2008 18:00:38 -0400 basile      Did you check the log file(s)?  There were most likely at least
several complaints issued by tor.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-06-14 20:57:31
@_author: Scott Bennett 
@_subject: questions about bug in 0.2.0.20-rc 
I just came home and found tor had crashed.  I've been running 0.2.0.20-rc
lately, which is the first version with the clock jump bug, but it doesn't do
it very often.  However, after this crash, I'm back to 0.2.0.19-alpha for the
moment.  0.2.0.20-rc crashed with the following message in the info-level log:
Jun 14 19:23:08.176 [err] Bug: connection.c:1580: connection_buckets_decrement: Assertion num_written < INT_MAX failed; aborting.
My questions are:
     Thanks in advance.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-06-14 21:42:14
@_author: Scott Bennett 
@_subject: questions about bug in 0.2.0.20-rc 
On Sat, 14 Jun 2008 22:26:56 -0400 Roger Dingledine      Thanks, Roger.  Unfortunately, 0.2.0.2[12345]-rc are all unusable on my
system due to the clock jump problem.  I don't think I ever got around to
trying 0.2.0.2[67]-rc, but I hope to try 0.2.1.1-alpha shortly.  However, my
expectation at this point is that it will also be unusable for the same
reason, leaving me back at 0.2.0.19-alpha once again.  The release note
excerpts you've provided, though, at least let me know that that particular
TLS bug was introduced after 0.2.0.19-alpha, so that one shouldn't be any
further problem.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-06-02 19:48:42
@_author: Scott Bennett 
@_subject: relay tidbits... 
On Mon, 2 Jun 2008 11:23:24 -0700 "Kyle Williams"
     That is true, as far as it goes in the U.S.  The downside is that if you
examine and censor anything, then you become legally responsible for
*everything* that passes through your setup.  That means you become
responsible not only for examining *all* of it, but also for any actions you
may take, such as censorship, w.r.t. each message/connection.
     The generally accepted exception to the above is that a system
administrator is allowed in the case of error conditions to examine such
header information (e.g., SMTP message headers) and error messages to
determine the source of the problem and take corrective action.  The system
administrator, however, is *not* permitted to examine the contents of the
message itself beyond those headers.  In the case of SMTP mail, this is
essentially equivalent to U.S. postal regulations allowing the postmaster
or his/her deputies to examine the return and destination addresses on the
outside of the item (e.g., on an envelope or package), but not to open them
to view the contents.  There are now (illegal, IMO) exceptions made in the
U.S. under the current, criminal regime, but prior to that regime's accession
to the throne, a warrant issued by a judge on affidavit or oath of probable
cause was the rule.  There remains, too, the dim possibility that the old
rules will be restored once the current crime bosses are replaced.
     Actually, they are in trouble, and the Bush crime department (a.k.a.
the DoJ and the courts) keeps having to take the heat off them by claiming
"national security" or "state secrets" to dismiss the lawsuits against the
illegal actions of those companies.
     Again, in the U.S. if you do that at all, you become responsible for
doing it to all traffic through those same services on your system.
     Yes, Germany and France also have evil governments.  So what?
     Well, in the U.S. anyone thinking of taking your advice ought to read
the U.S. criminal code provisions resulting from the Electronic Computer
Privacy Act (or whatever it was called at the time).
     In most cases, they will take no action on their own initiative, but if
they receive a criminal complaint, they are required to investigate and
determine whether there is evidence of a crime having been committed.
     That's an important distinction, but only in the context of assuming
the responsibility for all your traffic, as noted above.                                       Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-06-02 19:58:15
@_author: Scott Bennett 
@_subject: multiple connections to ORPort from one IP address 
On Mon, 02 Jun 2008 13:26:36 -0700 "F. Fox"      All circuits (originating from the same tor process) using the same
entry guard should go through a single TCP connection.
     I guess that is indeed a possibility, though I would expect it to
be a rare exception, rather than a common situation.  Thanks for the
thought, which, like multiple clients running on separate systems behind
a NAT server, had escaped me.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-06-02 20:11:59
@_author: Scott Bennett 
@_subject: relay tidbits... 
On Mon, 2 Jun 2008 16:20:09 -0700 (PDT) Curious Kid
     Why do you think that helping to preserve a basic human right, such
as privacy, which is violated by most governments on the planet, not to
mention other criminal entities, is potentially "immoral"?  Just who the
hell do you think you are anyway?
     It surely does *not* sound like you give much thought to other
people's rights at all.  Maybe "Curious Kid", rather than "Thoughtful,
Responsible Adult" is a totally appropriate moniker.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-06-01 08:44:09
@_author: Scott Bennett 
@_subject: multiple connections to ORPort from one IP address 
I just noticed a case of six connections to my server's ORPort that all
came from the same IP address.  I'm trying to think of some legitimate reason
for more than one connection from a given IP address to a particular server's
ORPort, but haven't come up with any yet.  Any ideas out there?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-06-06 00:21:12
@_author: Scott Bennett 
@_subject: How do we defeat exit node sniffing? 
On Thu, 05 Jun 2008 21:49:05 -0700 Wesley Kenzie rudely top-posted (if you'll pardon that redundancy):
     As a previous poster has already reminded, it doesn't matter if the
entire path between the exit node and the destination is unprotected.  A
loginid and password could be compromised at any point between the exit
node and the destination.
     You're joking, right?  A school that operates with a publicly
"straight face" in getting a Co$ member for its president is going to be
embarassed if revealed as the operator of a corrupted tor exit?
     I assume you missed all the Summer of Code project descriptions and
discussions about exit scanners on this list over the last couple of
months.  Check the archives.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-06-01 15:08:33
@_author: Scott Bennett 
@_subject: multiple connections to ORPort from one IP address 
On Sun, 1 Jun 2008 10:51:33 -0400 Geoffrey Goodell
     Not sure here why you posted twice, but...
     How so?  Any tor process, whether client-only, server-only, or client-and-
server, needs no more than one open connection to a particular tor server's
ORPort.  What would a tor process making connections from behind a NAT server
have to do with whether there were only one connection or were multiple
connections?  One of us, I think, is missing the other's point, but I'm not
sure which one here.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-06-07 07:31:11
@_author: Scott Bennett 
@_subject: Tor server on NSLU2: ORPort unreachable 
That could be the problem right there.  Does the Address line in your
torrc currently match the actual IP address?  If not, then it means that
the test is trying to connect to an address that is not the address of
your router.  Whatever it is trying to connect to is most likely not
listening on 9001, so the connection gets denied, and the test fails.
     If you're dealing with dynamically assigned IP addresses, then you
need to set up a phony host+domainname at one of the organizations that
offers such a service.  Then you need to install a small client for updating
the address at their service whenever the address has changed.
     I use the service provided at no charge at dyndns.org and a free client
application called inadyn.  Works fine, though it's a little slow when the
address changes because inadyn only checks at checkip.org once every ten
minutes.  If the address has changed, it then sends the update to dyndns.org,
which then updates the A RR in the name server data base.  The A RR has a
TTL of 60 seconds, so the changes should get picked up quickly even when
cacheing name servers are in use.  The remaining delaying factor is that
once the A RR has been updated to reflect the new IP address, tor takes up
to ten minutes to notice that change and reinitialize everything.  Check the
web site at  for more information.  There are other services
out there, too, if you look for them.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-06-07 11:27:35
@_author: Scott Bennett 
@_subject: Tor server on NSLU2: ORPort unreachable 
Okay.  I didn't assume that from what you had written before.  I tried
letting tor guess the IP address, but the address it guessed was the private
address given to my machine by the DHCP server in the router. :-(  Putting
the router's address on the Address line in torrc worked okay, but each time
my crappy ISP forced the router's PPPoE session to be logged out, the router
would log right back in and be assigned a different IP address about 95% of
the time.  Waiting for me to notice what had happened and to change the
Address line was not only very slow, but also a royal pain, so I installed
inadyn from ports and set up the name mars.thruhere.net at dyndns.org.  But
if your setup is somehow guessing the external IP address correctly, then
more power to it and no need to bother with further automation of the
address change process.  Clearly in your case, that's not the problem
after all.
     I saw that there were some connections, but it's not clear what they
were from.  If the reachability test had not yet succeeded, then your server
had not yet published its descriptor to the directory authorities, so it
seems that the only connections coming in ought to be from your own server
trying to do the reachability tests.  Perhaps the other poster in this
thread, who speculated that the SSL handshakes were failing due to the
speed of your device's processor, may be onto something.
     Good enough.  If you ever run a tor server on a setup on which tor
does not guess the IP address correctly, it would be much better to install
a client application onto that system for updating a name server address
record (A RR) at someplace like dyndns.org than to use the builtin updater
in a router because the router version is like to be out of date or to go
out of date, whereas the applications get updated to match whatever changes
occur at the providing organization.  There's more information on that
available at those sites.
     Anyway, best of luck to you in getting it going.  Sorry I wasn't much
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-03-16 01:27:38
@_author: Scott Bennett 
@_subject: odd clock jump messages from 0.2.0.21-rc 
Something weird seems to be happening several times a day since
I installed 0.2.0.21-rc.  The tor traffic drops to nothing suddenly
and a message is logged claiming that the system clock has jumped
forward some number of seconds and that all circuits are assumed to
be unusable.  (That assumption seems to me unwarranted for relatively
short jumps of the system clock, but that's a separate issue.)  In any
case, I haven't spotted any other evidence in my system that the clock
has indeed suddenly jumped forward.  Only tor is claiming that it has.
     Here are today's notice-level messages, beginning at the end of
the startup.
Mar 15 07:57:26.644 [notice] Self-testing indicates your ORPort is reachable from the outside. Excellent. Publishing server descriptor.
Mar 15 07:57:29.385 [notice] Tor has successfully opened a circuit. Looks like client functionality is working.
Mar 15 07:58:22.455 [notice] Self-testing indicates your DirPort is reachable from the outside. Excellent.
Mar 15 07:58:30.017 [notice] Performing bandwidth self-test...done.
Mar 15 14:05:55.095 [warn] Your system clock just jumped 111 seconds forward; assuming established circuits no longer work.
Mar 15 14:09:16.939 [warn] Your system clock just jumped 109 seconds forward; assuming established circuits no longer work.
Mar 15 15:25:55.299 [warn] TLS error while renegotiating handshake with [scrubbed]: sslv3 alert handshake failure (in SSL routines:SSL3_READ_BYTES)
Mar 15 16:20:32.468 [warn] Your system clock just jumped 104 seconds forward; assuming established circuits no longer work.
Mar 15 17:06:24.256 [warn] Your system clock just jumped 100 seconds forward; assuming established circuits no longer work.
Mar 15 17:21:23.752 [warn] Your system clock just jumped 162 seconds forward; assuming established circuits no longer work.
Mar 15 18:03:05.677 [warn] TLS error while renegotiating handshake with [scrubbed]: sslv3 alert handshake failure (in SSL routines:SSL3_READ_BYTES)
Mar 15 18:37:02.495 [warn] TLS error while renegotiating handshake with [scrubbed]: sslv3 alert handshake failure (in SSL routines:SSL3_READ_BYTES)
Mar 15 20:28:14.438 [warn] TLS error while renegotiating handshake with [scrubbed]: sslv3 alert handshake failure (in SSL routines:SSL3_READ_BYTES)
Mar 15 21:10:36.735 [warn] Your system clock just jumped 116 seconds forward; assuming established circuits no longer work.
Mar 15 23:27:50.720 [warn] Your system clock just jumped 116 seconds forward; assuming established circuits no longer work.
     I don't recall seeing these messages prior to 0.2.0.21-rc unless I did
something that would change the system clock.  What has changed that could
possibly be affecting tor's mechanism for determining whether it has been
unexpectedly dormant?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-03-16 23:46:22
@_author: Scott Bennett 
@_subject: odd clock jump messages from 0.2.0.21-rc 
On Mon, 17 Mar 2008 00:12:06 -0400 Roger Dingledine      Interesting.  Such problems crop up frequently with VM systems, but
mine is running native.
     Several *hours*??  Yikes.  That's extreme.
     Is there some reason that tor assumes connections have died after
short clock jumps, rather than trying them to see whether they still work?
In fact, I'm not really clear why tor should assume that a clock jump
implies broken connections at all.  I can see that if one is running it
on a portable and puts it into standby mode, then the clock jump may be
a clue afterward that a suspension did occur, which probably means the
connections are dead.  But in any other circumstances, clock jumps would
seem to imply nothing at all about the status of connections.  Surely,
a test cell sent on each connection ought to reveal the current situation
without breaking active circuits when nothing is really wrong with them.
     No, but it's a hyperthreading CPU, and I've set the sysctl variable
to allow hyperthreading to be used by FreeBSD, so two logical CPUs are
in use.  NumCPUs 2 is set in torrc.  There is usually a clock interrupt
on each CPU every millisecond or so.  cron runs ntpdate once an hour, which
does not correspond to the messages logged by tor, so I doubt that that
could be what's causing them.  ntpdate only causes clock jumps when the
network time differs by more than 500 ms from the system time.  Otherwise
it uses adjtime(2), whose effects should not be detectable by tor or other
problem programs.
     It's FreeBSD 6.3-STABLE, so it's up to date for the 6.x releases.
I'm not convinced that I want to deal with 7.0's problems in order to get
its benefits, so I'll likely wait for 7.1-RELEASE (several months from now
at least) before moving on.  (7.0 is being extolled as the only OS currently
available to do efficient scheduling of loads across more than eight CPUs,
as well as many other improvements and new features.)
     No, it's a 1 GB machine and rarely ever puts anything into the swap
area.  A few days ago, I finally attempted the upgrade from X.org 6.9 to
7.3, which involved a huge amount of processing.  During that time, the
swap area usage peaked at about 80 MB, the highest by far I can recall ever
seeing in FreeBSD.  (Windows XP is another matter, of course, and can glibly
take 500-600 MB or occasionally more, but I only run tor as a client when
using Windows these days.)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-03-23 22:56:25
@_author: Scott Bennett 
@_subject: What does "bandwidth" mean in cached-routers? 
On Mon, 24 Mar 2008 09:11:40 +0800 "Jackie"      1316902 B/s / 1024 B/KB = 1286 KB/s + 38 B/s.  Isn't 1286 KB/s close
enough to satisfy you?  How would you prefer to see it displayed by
Vidalia instead?
     No, of course not.  Your circuit may well be only one of many circuits
passing through each of those routers.  The sum of the traffic over all
of those circuits passing through a router at a given time is what is
recorded as the "Bandwidth"--which was a really poorly chosen word to
refer to data transmission rates, but which also is now so firmly embedded
in the common parlance that there no hope of correcting it.
     You might improve your own client's performance at the expense of
the rest of the tor-using community's experience.  You might also reduce
the security of your client's anonymity.  It's much the same situation as
for those who wish to limit their client's choices of exit servers.
     In the future, please don't post MIME headers or HTML to mailing lists.
It's very wasteful and hard on the eyes, too.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-03-24 09:08:14
@_author: Scott Bennett 
@_subject: google 
On Mon, 24 Mar 2008 20:44:22 +0700 Roy Lanek      Huh.  Your request exited a server in a French-speaking country, so
Google redirected it to one of their French-handling servers, which gave you
the error message above.  Perhaps it recognized that your request was not
in French and leapt to the conclusions stated in the error message.
     What happens when, instead of specifying google.com (I never do this;
instead I specify google.us) and instead specify one of their servers in
a specific country where another language is spoken?  Using this method,
does it make a difference whether the language of your request matches the
language of the server's country?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-03-31 08:53:19
@_author: Scott Bennett 
@_subject: GSoC proposal 
I took a look at your document cited above and have a few comments.
First off, I am not interested in "per circuit" information, and I sincerely
hope that tor would refuse to provide such information via its controller
interface.  The very idea seems in opposition to the purpose of tor.
     Secondly, the kind of information I am interested in seeing would be
primarily focused upon server operations and performance, such as
     Best wishes for a successful project!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-03-31 16:11:14
@_author: Scott Bennett 
@_subject: interesting cached-status/1A0999C05AE2B9A3CF474077F06060E91B3A847 file 
This cached-status file begins with:
dir-source s15192785 212.227.86.59 9030
fingerprint 1A0999C05AE2B9A3CF474077F06060E91B3A847B
contact Random Person published 2008-03-29 09:54:11
-----BEGIN RSA PUBLIC KEY-----
-----END RSA PUBLIC KEY-----
The above lines are then followed by the usual "r" and "s" lines, but oddly
enough, no "opt" lines.  Usually I see three lines (one of each of the above)
for each router.
     However, looking for that IP address (212.227.86.59) in this section, I
find not "s15192785", but "abutor":
r abutor GgmZwFriuaPPR0B38GBg6Rs6hHs 4Oj8zvA0SAIoRuEI2y9MsGYsBk4 2008-03-28 21:07:43 212.227.86.59 9001 9030
s Authority Fast Stable Running Valid V2Dir
Notice the "Authority" flag in the "r" line above.  This flag does not appear
for this router in any of the other four cached-status files.
     So how do I block this bogus cached-status file and its illegitimate
"Authority" flag for a screwed up router with bad contact information?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-03-06 19:05:59
@_author: Scott Bennett 
@_subject: I am at my wits end, I cant register for account at digg.com using tor 
On Thu, 6 Mar 2008 13:50:56 -0700 defcon      FWIW, the American Library Association has a web site at Its privacy policy is at  and there
is also a link to some ALA political action pages at which includes links on the topics of National Security Letter oversight
legislation and anti-national ID legislation, as well as other interesting
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-18 08:15:21
@_author: Scott Bennett 
@_subject: USAF wants to violate federal criminal law 
For those who are interested in seeing how little difference in principle
there is between the U.S. government of today and that of Stalin's U.S.S.R. of
yesterday, check out the article at
which discusses the Air Force's desire to be able to take over any and every
computer on the net, regardless of where those computers may be.  They want
not only to be able to take control of those computers, but also to be able
to install undetectable spyware.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-18 10:09:44
@_author: Scott Bennett 
@_subject: USAF wants to violate federal criminal law 
Yes, yes, of course.  Although there does seem to be a fairly steady
flow of things that go undetected by all the major security packages for
Windows for quite some time before they get noticed and dealt with.  It's
worth noting that the BSD users and even LINUX users don't have Windows
users' problem of always having to watch where they step to avoid falling
through security holes.  In fact, pretty much any other operating system
seems to be orders of magnitude safer than Windows, so that isn't what
worries me.
     Do we know for certain that the feds haven't worked some deal with
the chip manufacturers?  (I think it's only reasonable to operate on the
assumption that Microslop may well have made a deal with them.  What I
want to know is whether uglier approaches will be used to violate federal
statute that might affect better operating systems.)  What can they have
built into things like keyboards, motherboard chip sets, even DIMMs and
other memory cards, that might escape notice indefinitely?  Are there
other potential methods?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-03 18:50:54
@_author: Scott Bennett 
@_subject: Bad exit? 
On Sun, 04 May 2008 00:12:30 +0200 Steffen Schoenwiese
     Did you try it with the $ ahead of the identifier?  I got a blank page
from the way you did it, too, but got something quite different when using
It gave me:
Accept-Language: ru,ru-RU;q=0.9,en;q=0.8
Accept-Charset: iso-8859-1, utf-8, utf-16, *;q=0.1
Referer: Connection: close
ail, email imprese, e-mail imprese, telefono, telefono imprese,
certificazione, certificazioni, certificazione qualit?, negozi,
e-commerce, e-business, export, esportazione, import, importazione">
<?w?g=?l?}??y?e?y{?l??~t??>?/??^??T?v>???c?????WR?S?Y??????1?W???G??????u??_^???kO??????????i?????OO??S???z?U9I?,/W?M?????fu?????;lign=center
height=23>le vetrine di infoimprese.it
dati dal Registro delle Imprese
CONZATO GEROLAMO
Sede legale
     Well, my guess is that you needed to put the dollar sign into the URL,
though I can't think of the reason, off the top of my head, for the blank page
when the dollar sign is omitted.
     Very interesting.  In any case, I've added it to my ExcludeNodes list,
using the dollar sign, of course. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-18 15:38:55
@_author: Scott Bennett 
@_subject: Ports 443 & 80 
On Sat, 17 May 2008 18:53:35 -0500 Nathaniel Dube      No, no, no.  You've misunderstood the documentation pretty thoroughly.
First, the firewall referred to is not your "software firewall" for Windows.
The final image file you list above shows that your router is allowing packets
through with address redirection but not port redirection.  Use the following
in torrc:
Address  [whatever your router's external IP address is]
ORPort 443
ORListenAddress 0.0.0.0:443
DirPort 80
DirListenAddress 0.0.0.0:80
Undo all the stuff you did in your Windows firewall that is displayed in the
other image files you mention above.  Now make sure that your Windows firewall
allows tor to receive packets on ports 443 and 80 and to transmit packets on
any port.
     That's all you need to do for the way you have your router configured.
     Why would you run something as root *before* you test it?  In any case,
if you're running Windows, "root" is sort of meaningless.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-18 15:43:55
@_author: Scott Bennett 
@_subject: USAF wants to violate federal criminal law 
On Sun, 18 May 2008 13:10:01 -0700 Ben Wilhelm      I really don't know how you got that from what I wrote.  I have never
claimed that any operating system was completely free of security problems.
I simply wrote that Windows has orders of magnitude more security problems
than LINUX or the BSDs, which is clearly the case.
     Please do try to read more carefully before you get your blood pressure
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-19 04:30:59
@_author: Scott Bennett 
@_subject: Tor server for port 443 
On Mon, 19 May 2008 04:31:42 -0400 "Grant Heller"      Any relay is helpful.  If you provide exit service to any ports at all,
it is an additional benefit.  Please do it.
     That said, you may also wish to browse through /etc/services if you are
on a UNIX/LINUX system to see which other ports are for services that you
might be comfortable providing an exit for.  (I don't remember where the
equivalent list is to be found on a Windows system.)  My situation is too
exposed and vulnerable at present for me to provide exit service for port 80,
but do provide it for many other ports on my server (MYCROFTsOtherChild --
look for its exit policy in your cached-descriptors file if you're curious).
I have not gotten any complaints about it from my ISP so far either.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-21 04:48:10
@_author: Scott Bennett 
@_subject: Tor server for port 443 
On Tue, 20 May 2008 18:21:44 -0700 "F. Fox"      Any idea why gmail uses 587 instead of the standard smtps port, which
is 465?  I wouldn't unblock an smtps port and for the same reasons I leave
the unencrypted smtp port (25) blocked.
     995, as you point out, is good for safe (for the server operator) exits,
as is 993 (imaps).  I think there are other harmless ones, too, like 123 (ntp,
though why would anyone bother to use it?:-), 989 (ftps-data) and 990 (ftps),
22 (ssh), 481 (ph), and doubtlessly some others.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-21 05:21:31
@_author: Scott Bennett 
@_subject: Tor server for port 443 
On Wed, 21 May 2008 11:02:11 +0100 Mike Cardwell      Huh.  Guess I'll have to look it up somewhere official then.  (wikipedia
is not authoritative, even if it may well have it right.)  I was going on
what it said in /etc/services on my FreeBSD 6.3 system, which is also not
authoritative by any means, but still ought to have been correct.  I checked
again, this time for 587, and it is listed as the service called "submission".
I had no idea that that referred to any service having anything to do with
email of any kind.  That prompted me to check the Solaris 5.8 system that I
use for email.  Its /etc/services doesn't list 465 at all, but also lists
587 as "submission".
     Okay.  I'll check into it and may end up adding 587 to my allowed exits.
Thanks for the tip.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-21 19:32:57
@_author: Scott Bennett 
@_subject: Tor server for port 443 
On Wed, 21 May 2008 12:04:30 +0100 Mike Cardwell      Thank you for that URL.  I've looked at it now and have bookmarked it.
     Now, if we keep 25 blocked, are we risking undoing the benefit from that
blockage by unblocking 587?  It turns out that I was rejecting exits for
port 465 and 587, so now I'm wondering whether it might be a Bad Thing to
accept exits to 587.  Also, the new allocation of 465 is for urd (URL
Rendezvous Directory for SSM).  Offhand, I don't know what SSM may be nor
whether accepting exits for this service would be okay.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-23 00:47:54
@_author: Scott Bennett 
@_subject: Router Flags 
On Fri, 23 May 2008 00:05:37 -0500 Nathaniel Dube      These have been explained in the documentation available at the
 web site.  Have you read it?  If you have read it and
still do not understand the explanations, please let us know.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-23 01:12:37
@_author: Scott Bennett 
@_subject: set up relay 
On Fri, 23 May 2008 15:53:21 +1000 Alto  top-posted:
     Ports cannot be "deleted".  Your statement is meaningless.  If you mean
that you either "closed" them in your router firewall by deleting or
deactivating the RDR and/or NAT rules regarding those ports on your computer,
then that means something.  Likewise, if you meant to say that you shut down
the program(s) listening on those ports, that also means something, but it
means something different from doing something on your router firewall.
     You ran PC Flank, which reported that your system appeared to be okay, so
shut down tor.  I guess I don't understand what problem you're asking about.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-26 18:38:29
@_author: Scott Bennett 
@_subject: clock jump bug(s?) update (was Re: security of systems using Tor < 0.2.0.26 [was: JanusVM ...]) 
On Mon, 26 May 2008 11:33:21 -0700 coderman      The only problem I have with that is the clock jump bug.  I finally did
figure out where to find a copy of 0.2.0.20-rc to download.  I ran it for
about a week until my system crashed last night.  During that time, the clock
jump message appeared only once, about two days into the run.  So I suspect
that the bug was introduced between 0.2.0.19-alpha and 0.2.0.20-rc.  However,
since the later releases all issue that message considerably more often, I
now wonder whether more than one change was made in different releases, but
resulting in the same external symptoms.  As long as it doesn't start doing
it more often, I'll stick with 0.2.0.20-rc for now.  0.2.0.21-rc through
0.2.0.25-rc are all unusable for servers as far as I'm concerned.  Unless
someone has identified the cause of and fixed this bug in 0.2.0.26-rc, I
think I should assume that it would be yet another waste of time to try it
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-26 20:15:45
@_author: Scott Bennett 
@_subject: Default Exit Policy 
On Mon, 26 May 2008 20:04:16 -0500 Nathaniel Dube      The function is already available.  See the ExitPolicy statement in
the documentation.  The developers have plenty enough to do already without
having to maintain other people's exit policies for them.  If that's too
much trouble for you, then don't run an exit.  Relay-only servers are still
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-06 06:28:59
@_author: Scott Bennett 
@_subject: Spoofing location - possible? 
This will be highly dependent upon a) the speed of each circuit you
get and b) how long the file being streamed is, relative to how long the
circuit remains operational.  If you're trying to get long files by HTTP
or HTTPS, it helps to add ports 80 and 443 to LongLivedPorts in torrc.
That reduces the (admittedly still huge) number of potential paths that
your client may choose from, but also reduces the likelihood that a router
along the path you're using will go down while you're using that path.
     Apparently.
     Yes.  Pick some U.S.-based exit nodes, and use the .exit notation you
referred to above.  It means choosing your exits by hand, rather than
letting tor do that, but it will get you to the exit you want, provided
that exit is running and reachable from your location.  If you're only
doing that when you want to get streaming video or audio, but you let tor
choose the paths for everything else, it shouldn't be that much of a hassle.
The U.S. has a large number of exits running at any given time, so you may
want to choose only exits with at least some fairly good bandwidth, say,
300 KB/sec or so.  In my experience, though, if the file is available for
download, it is much better to do that and then play the file locally than
it is to try to play it in streaming mode via tor.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-07 20:06:53
@_author: Scott Bennett 
@_subject: Tor On Private Network 
On Wed, 7 May 2008 20:48:57 -0400 "Ringo Kamens" <2600denver at gmail.com>
     I keep wondering why you don't post the contents of /etc/resolv.conf.
     Have you tried setting "ServerDNSDetectHijacking 0"?
     I'm not clear enough on your test setup to answer that, but it may
be something to do with the fact that your "authoritative" directory servers
are not the ones hard-coded into tor.
     Have you looked at making an alternate version of your system's
Note that ServerDNSSearchDomains may also be helpful, depending upon your
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-08 04:39:37
@_author: Scott Bennett 
@_subject: Spoofing location - possible? 
It doesn't bother me, but I certainly cannot speak for others.  The
main trouble is getting a long-lived circuit that is fast enough.  I have
had poor luck with streaming video/audio, particularly for speed, but then
I didn't limit the exit nodes.  Of course, restricting the list of exit
nodes doesn't prevent getting slow links/nodes earlier in the circuit.  I
don't know of an easy way to do that except for the exit nodes.  Trying to
get a long-lived circuit is aided, though not at all guaranteed, by adding
whatever port(s) you wish to use to the LongLivedPorts list.
     I have no idea what happened there.  After seeing your note, I tried
that site, too, and it told me I was connecting from MIT.  (I'm in
     privoxy is only useful for HTTP and HTTPS connections.  tor itself
accepts and deals with the .exit notation.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-13 19:06:04
@_author: Scott Bennett 
@_subject: Tor security advisory: Debian flaw causes weak identity keys 
On Tue, 13 May 2008 14:55:37 -0700 (PDT) Anon Mus
     Of course.
     If the earlier complaint on OR-TALK is, in fact, due to the Debian
error referred to in Roger's announcement, then I do indeed apologize.
At this point, however, that is not at all clear to me.
     Obviously, you thought wrong.  If I become aware that I have falsely
accused someone in public, I have no problem with making a public apology,
nor am I too chicken-shit to allow my own name to appear on items that I
post to mailing lists.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-14 04:07:21
@_author: Scott Bennett 
@_subject: Undeciperable message... 
On Wed, 14 May 2008 02:59:49 -0400 Roger Dingledine      I suspect that we will see a lot more of this over the next few days
as people discard their servers' old signing keys, causing new ones to be
generated that don't match the ones they registered with the authority
administrators.  New keys mean new fingerprints, of course.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-15 23:50:12
@_author: Scott Bennett 
@_subject: Reregister after key change? 
The onion key isn't the problem here.  tor changes onion keys every
so many days anyway and uploads a new descriptor when that happens.  It's
when you change the signing key that there is a problem because that is
the permanent key that is tied to the identity of your server in particular.
If a descriptor is sent to the authorities that has a different key for
your server, tor treats it as the descriptor for a new server that happens
to have the same nickname and IP address as the old server.  In other words,
to thinks that there are two servers claiming the same nickname.  If the
older one is marked as Named in the authorities' directories, then the new
server will likely be warned that its nickname is a duplicate of a legitimate
server and should probably be changed.                                   Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-15 23:54:41
@_author: Scott Bennett 
@_subject: lots of DMCA request's... (1/day) 
You could use ExitPolicy lines in torrc either to a) prevent exits to
the port(s) in question or b) prevent exits to those particular IP addresses
or, more specifically, to those IP address and port combinations.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-05-16 04:52:50
@_author: Scott Bennett 
@_subject: Reregister after key change? 
It's probably just as well.  If your system was one of those afflicted,
there's a reasonable chance that both keys were weak.
     If they aren't flagged as Named, then yes, they should eventually be
eliminated from the directory authorities' directories.  Because of the
older directory protocol's specification, that expiration probably is still
an irritatingly long time in the future, which is one more reason that the
effort by Roger et al. to identify weak keys and mark those keys' servers
as not Valid is so urgent.  Someone could conceivable crack a signing-key
and steal your server's (old) identity.  If it were still marked Valid,
then tor servers and clients the world over would accept the impostor.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-11-02 01:03:59
@_author: Scott Bennett 
@_subject: Problems starting relay 
On Sun, 2 Nov 2008 06:39:31 +0000 Geoff Down      Take some time out here to RTFM.  (Likewise to "madjon", who posted
thoroughly bogus directions in response to your initial posting.)  After
doing that, you may find that you understand enough of what you're writing
about that you can get it set up correctly.  If you can't get it to work
after RTFM, *then* come back to the list.  At least you'll better equipped
to pose your questions and understand the responses.  Thus far it is obvious
that you don't understand your own network setup and have yet to RTF tor M.
Until you've read the basics, all you're doing here is generating noise,
not helping your situation, and possibly mucking up your setup in ways that
may be hard to backtrack from.  A person who does understand his/her local
network setup may well be able to configure a basic relay successfully just
based upon the comments in torrc, though the man page might clarify a detail
here or there.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-11-14 19:33:50
@_author: Scott Bennett 
@_subject: Tor and Gmail 
On Fri, 14 Nov 2008 22:52:32 +0800 "Koh Choon Lin"      Why would you have JavaScript enabled in the first place?  Isn't that
kind of giving the whole ship away before it leaves the dock?  Especially
with sites like gmail?
     If you're using Firefox, I'd strongly advise installing the NoScript
plugin and making sure that web pages from gmail.com are blocked from
running any scripts.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-11-21 04:41:23
@_author: Scott Bennett 
@_subject: Problems with irc because of tor? 
On Thu, 20 Nov 2008 16:53:42 -0500 Praedor Atrebates                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     So what sent tor a SIGTERM?  Given receipt of a SIGTERM, what follows
appears to be normal enough.
     The question occurs to me whether if tor detects another tor process
running under the same user id, will it issue a SIGTERM itself either to the
other process or to itself to prevent conflicts (e.g., two tors bound to the
same ORPort, DirPort, etc.)?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-11-21 06:08:31
@_author: Scott Bennett 
@_subject: Tor 0.2.1.7-alpha is out 
On Thu, 20 Nov 2008 18:50:12 -0500 Roger Dingledine      Does "good general exit" mean a relay listed with an Exit flag in the
consensus and status documents?
     Does "what hosts it allows" really mean what its exit policy (hosts and
port combinations) allows?
     Does "expired certificate" refer to an expired relay descriptor?  If so,
does the above fix also have some means of checking the timestamps on the
queried directory servers' contents, so that, for example, a newly
reinitialized relay whose descriptor has been posted to the authorities but
has not yet been fetched by all directory servers will not be ignored because
the last descriptor held by two directory servers who are an hour or two out
of date do not yet have the new descriptor?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-11-05 04:59:47
@_author: Scott Bennett 
@_subject: Questions about bogon filtering [Was: Re: Firewall update (if you're filtering bogons)] 
On Tue, 04 Nov 2008 11:08:24 -0800 "F. Fox"      Ahem.  mars.thruhere.net (courtesy of dyndns.org) is the inadyn-adjusted
address for tor relay MYCROFTsOtherChild. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-10-31 20:50:20
@_author: Scott Bennett 
@_subject: German data rentention law 
============================== START ==============================
     On Sat, 1 Nov 2008 00:23:20 +0100 Sven Anderson      In what way?  Are you participating in a lawsuit and requesting an
injunction against the government to prevent it from enforcing the law
until after the court case has been decided?  Stashing hand grenades?
     Good grief, Sven!  Haven't you been reading this list during the
last couple of years?  The attitudes and reactions presented on this
list ought to be enough to convince anyone to take Roger's point for
     Not so.  First off, no one is suggesting not running tor.  The
choice many tor *exit* operators appear to be considering is to stop
providing *exit* service, nothing else.  Most of them would still run
tor as a relay.
     Secondly, the old adage that it is better to ask forgiveness than
to ask permission frequently will not keep you out of jail, while a
lawsuit to overturn enacted, but uncontitutional, legislation can usually
be handled without the plaintiff having to go to jail.
     The last I saw posted here, that fight hadn't been lost, so please
do not refer to it in the past tense that way.  The fight can go on with
or without exits in Germany.

@_date: 2008-10-19 01:44:15
@_author: Scott Bennett 
@_subject: German data rentention law 
On Sat, 18 Oct 2008 19:30:53 -0400 7v5w7go9ub0o <7v5w7go9ub0o at gmail.com>
     Doing that, however, *would* make it rather difficult for the same
machine--or another machine sharing the same IP address for a NAT'ed LAN
gateway--to run a web server supporting HTTPS connections.  That alone
should be sufficient reason not to change the default ORPort to 443.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-10-19 07:14:31
@_author: Scott Bennett 
@_subject: Default ORPort 443 [was: Re: German data rentention law] 
On Sun, 19 Oct 2008 09:35:13 +0200 Niels Grewe      Also good points.  Another is that an unprivileged user on a multi-user
system may wish to run a tor relay, which would require a few configuration
tricks, but should definitely be doable.  However, as you point out, an
unprivileged user ought not to be able to open a secured port, so the default
should not be a port in the secure ports range.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-10-21 03:37:56
@_author: Scott Bennett 
@_subject: GnuPG through Tor 
I don't think that is the issue here, but rather one of whether doing
so breaks or weakens one's anonymity.  For example, if Bob fetches an
infrequently fetched key (e.g., a key belonging to Lureen) and two minutes
later Lureen's in box receives an encrypted message via an anonymous remailer,
does knowing the IP address of the key fetcher is also Alice's IP address
help Charlie point the finger at Alice as being the source of the message?
     Yes.  If Charlie can quickly identify exactly who is communicating whith
whom, regardless of whether PGP/GPG is used, then he has a better idea of how
to deploy his other resources more effectively.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-10-29 18:28:42
@_author: Scott Bennett 
@_subject: FYI: ultimate security proxy with tor 
It definitely needs a proofreader.  The part you cited is only partially
intelligible, but it looks like it also needs to be written by someone who
knows what {,s}he is writing about.  (E.g., since when did tor become a
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-10-31 04:41:45
@_author: Scott Bennett 
@_subject: German data rentention law 
On Fri, 31 Oct 2008 10:14:21 +0100 Eugen Leitl      Does that mean you're willing to try it, Eugen? :)
     There is, or rather, there are, but it depends upon social and legal
traditions sadly lacking throughout much of Europe and other parts of the
world.  In the U.S., those traditions were reinforced by the process of
gaining independence from the British Crown and Parliament.  There is a
saying here that we defend our liberties with four boxes...
     Not to mention storing up lots of bullets, lest the Tree of Liberty
require a fresh feeding...
     In the U.S., such data retention legislation would be illegal itself.
That would not stop criminal legislators from passing it, though, as people
in the U.S. have had demonstrated clearly to them on a very frequent basis
for the last two decades.  This is one of the reasons why software like tor
and PGP (or GPG) are so important.  Big Brother must be stopped, and that
requires enforcement of our Bill of Rights by whatever means will work.  tor
and PGP are useful tools in enforcing Amendments I and parts of IV and V
under some circumstances.  If the People won't enforce them, then they won't
be enforced.  Expecting the courts to defend the Constitution has been a bad
bet from the beginning (a "fox-guarding-the-henhouse" scenario).
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-10-07 16:51:31
@_author: Scott Bennett 
@_subject: Abuse complaint 
I've occasionally had that pointed out to me by "customer service" or
"technical support" types at ISPs, too.  Something I've been doing lately that
seems not to be triggering that response is to refer to tor running on my
system not as a "server", but rather as a "relay" or "communications relay".
I haven't been using these labels long enough yet to be sure whether the lack
of admonishments is purely happenstance or is actually the result of using
the new labels, but it seems at least possible that not waving the word
"server" in their faces may keep them from thinking that it's a problem.
     When you think about it, you realize that damned few of the people taking
the support calls have any real idea what we're talking about.  Being aware
of keywords likely used in their corporate training sessions may help us to
avoid the tripwires.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-10-07 19:42:19
@_author: Scott Bennett 
@_subject: we seem to have another huge traffic reduction 
Over the last few days, the torstatus pages appear to have confirmed
what I see when I watch the activity of my tor server:  another precipitous
drop in traffic load over the entire tor network.  This is the second such
reduction in total traffic that we've seen in the past few weeks.  Are these
reductions due to some of the changes in the last few versions of tor?  Or
is something actually wrong in our network?
     I notice that 0.2.1.6-alpha fetches fresh consensus documents far less
frequently than 0.2.1.4-alpha and earlier did, typically only once about every
three hours instead of roughly hourly.  Getting rid of the old directory
protocol (0.1.0.x versions) seemed to be at least correlated with the earlier
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-10-09 02:44:19
@_author: Scott Bennett 
@_subject: another DirPort DoS attacker 
Well, that's not the most obscure bug I've ever heard of, but also
not an obvious one.
     Roger, this is wonderful news.  Thank you very much for taking the
time to track it down.  That's definitely a kind of traffic load that the
tor network does *not* need.  Because no other systems have harassed mine
in that fashion since the date of the message you cite above, I'm guessing
that the vast majority of tor users have updated beyond that version, but
it's also apparent that some have not.
     Okay.  Whenever you announce that the faked certs are in place, I'll
disable the pf rule and DirPolicy reject statement that are blocking that
site at present.  Thanks again.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-10-09 03:50:48
@_author: Scott Bennett 
@_subject: same first hops 
On Wed, 08 Oct 2008 20:50:28 -0700 "F. Fox"      Well, technically speaking, I guess that's true.  However, unless I'm
greatly mistaken, the exit end of a circuit will compress any data coming
into it to be relayed back to the client and will uncompress anything
arriving from the client to be sent out from the exit.  Given that the
attacker might observe data in the clear going into the exit or coming out
of it and could perform the same compression in order to know the length of
the encrypted data, the attacker might be able to pull that off.  Another
complication for the attacker to deal with is the fact that a link between
the client and an entry node may support multiple circuits, and each
circuit may support multiple streams, all of which are multiply encrypted
and whose data cells are commingled with the data cells of the others at
the client end with no obvious way of distinguishing between the cells
of one thread and the cells of any other thread traversing that particular
     However, in order to match the length up with whatever is sent/received
by the suspected client, wouldn't the attacker need to make an assumption or
two about the circuit length?  If so, then introducing randomly varying
circuit lengths ought to obfuscate things considerably for the attacker.
     Another possible way to complicate things for the attacker would be a
variant of something has already been proposed, namely, using multiple data
cell sizes within the circuit.  As I understand it, the suggestions so far
have been directed toward efficiency, e.g., sending long cells when there
are enough data to exceed the payload limits of short cells.  However, if
short cells were randomly used when there are enough data for long cells,
then the significance to the attacker of the distinction between long and
short cells would be somewhat reduced.  Tossing in occasional padding at
random to produce a long cell that might have either had only minimally
more payload than a short cell or even data for which a short cell would
have been adequate ought to augment the attacker's obstacles.  If more
than two cell lengths were used, then these techniques ought to become even
more effective against attackers.
     A third possibility might be to do at the tor level something that
is already supported at the data link level in the BSDs and perhaps LINUX,
namely, to use multiple physical links (circuits in the case of tor) to
split the traffic load of a data link (stream in the case of tor) across
multiple physical links.  The downside of this method, of course, is that
it multiplies the risk of a broken stream due to a tor node failure or
lower-level failure.  OTOH, it might also frequently and significantly
speed up large file transfers through tor.
     If a new feature were added to tor's internal protocol that would
allow handing off a thread from one circuit to another, then a further
enhancement could be made because it would be handled entirely at the tor
level.  For example, a thread supported by (i.e., spread across) multiple
tor circuits could be shifted across a frequently changing set of circuits
between the client and the exit server, all under the control of the tor
client.  For a fixed circuit length, such as the constant length of 3 that
is currently the standard in tor, the entry node and/or the middleman in
each circuit could be replaced from time to time.  A tor network that used
all of these methods (including variable-length circuits) ought to provide
a major nightmare (not to mention processing demands) for even a heavily
funded and equipped attacker to untangle by the use of timing/sizing
measurements.  (It might also be overkill, I suppose.:-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-10-09 07:33:49
@_author: Scott Bennett 
@_subject: same first hops 
On Thu, 09 Oct 2008 10:11:26 +0000 Anon Mus
     Does what already happen?  People attempting this sort of attack?  Who
knows, except for the putative attackers?  But given the illegal behavior of
the U.S. government under the current, criminal regime, I'd say it's likely.
If you further consider the fact that essentially *all* Internet traffic that
originates in, terminates in, or merely passes through any facilities in the
U.S. is captured by the U.S. government, this crime syndicate seems most
likely to have some success at such attacks if it wants to.  China is probably
alsoa good bet and for some of the same reasons.  Russia?  Maybe, but they
might not think it was yet worth their trouble.  The U.K.?  Also, maybe, but
keep in mind the requirement of being able to see both ends out of many, many
possible ends to circuits in order to have a chance of a successful attack.
Another possibility might be Japan, though that one strikes me as a tad
unlikely at this point.
     Or, if you were referring to how tor works, please see
I suppose I should clarify what I wrote above by pointing out that all
streams sharing a circuit share that circuit's onion, as opposed to having
a different onion for each stream.  But their data cells are, of course,
     I would rather set 4 hops as the low end of the route length because
of certain things that have been posted to this list in the past that suggest
that 3 is inadequate.  So I guess I'd go for 4 to 6 or 7 as a good range.
OTOH, from a randomization point of view, the more the better.  The downside
there, of course, is that each additional hop introduces one more potential
point of circuit failure, lengthens response times, and generally eats up
more capacity of the tor network.
     While we're on this subject, I'd like to point out a problem with tor's
current data rate capacity testing during server initialization.  In order
to get some initial observations of the available data rates over a server's
network connections, tor builds a few (3?) test circuits that make a loop
from itself into the tor network and then back to itself.  it
uses the normal route length to do this, which can give a drastically low
measurement.  A better way would seem to be to use a single hop, i.e., a
circuit that goes to one other relay and the back to its source.  That may
still provide a low estimate however, so the value obtained from a single
hop test probably ought to be doubled for use as an estimate of the data rate
capacity of the server that is being initialized.
     As I understand things, if you write your own controller, it can direct
the construction of circuits to any route length and sequence of nodes that
you wish to use.  However, I suppose something akin to the LongLivedPorts
directive in torrc might be useful to those of us who aren't likely to write
a specialized controller to specify certain ports for which the client side
of tor should use a different, specified route length when constructing new
     That is exactly what has been implemented (same size) and proposed (fixed
set of sizes--two to be precise) already.  That is partly why I mentioned it.
However, I don't think the random use of "wrong"-sized cells was proposed
before, a trick that could be considered as contrary to the cause of efficiency
for which the two-cell-size feature was proposed.  Obviously, only the client
and the exit could be deciding such things, while the middlemen would simply
be passing along whatever they were given because they could not know whether
some part of those cells were padding, much less how *much* padding were
present in a cell.
     Oh?  I guess I must have missed that.  Is there a particular proposal
number that I should look up to read about it?
     I don't really know anything about that, so I can't answer your
     For tor, though, something of the sort has been proposed, but in the
context of handling circuit failures or as a way of switching exits in
mid stream.  It seems to me that exits cannot be switched because of how
TCP works, but that any entry or middleman node ought to be replaceable for
a stream, provided there were some method for the client to direct the
changeovers.  It would also not be necessary to expire a circuit that a
stream were being moved off of, though it might first be necessary to build
a new circuit onto which to move the stream, perhaps using the same criteria
tor now uses for deciding when to build a new circuit to satisfy a request
for a new stream, as opposed to putting the new stream onto an existing
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-10-09 07:46:49
@_author: Scott Bennett 
@_subject: Geode: some more headaches for TorButton? :-P 
On Thu, 9 Oct 2008 04:32:16 -0700 (PDT) J B      Well, then send a complaint to yahoo that they have been censoring your
email.  That header appears on every message sent out on this list, so if
the headers are missing, it's because yahoo removed them (a stupid thing for
them to do, to be sure).
     How about just getting into the habit of saving the initial responses
you get from a mailing list server when you first subscribe?  That way you
always have the information at hand.  Instructions on how to unsubscribe were
included in a message sent to you confirming the fact that your email address
had been added to the list.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-10-09 07:51:33
@_author: Scott Bennett 
@_subject: Geode: some more headaches for TorButton? :-P 
And that none of your other plug-ins undo the setting.  Allowing that
kind of query to proceed strikes me as exactly the kind of thing that, say,
the Google tool bar might do.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-10-09 21:40:10
@_author: Scott Bennett 
@_subject: same first hops 
On Thu, 9 Oct 2008 19:23:48 +0100 Geoff Down      Were those nodes your entry guards by any chance?  Although tor initially
tries to build a few (3?) circuits, once they have expired and no longer have
any active streams in them, they get torn down *except* for the links between
your client and the entry guard nodes.  This not only improves security, but
also means that a new circuit already has the first hop connected when tor
goes to build that new circuit.
     Of course, that doesn't explain why those links disappeared after about
20 minutes, and right offhand, no other explanation comes to mind.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-10-10 13:27:21
@_author: Scott Bennett 
@_subject: unsubscribe 
On Fri, 10 Oct 2008 18:29:39 +0100 Geoff Down      All of that is basically unnecessary and irrelevant.  Nearly all modern
mailing lists that use an automated subscription process send an email message
to each new subscriber to confirm that the subscriber's attempt to subscribe
has succeeded.  Many use an intermediate step of an email exchange in which
the subscriber must confirm that he/she did, in fact, wish to subscribe (i.e.,
the subscription request wasn't faked by someone else).  In any case, the
confirmation message almost always includes instructions for unsubscribing
and often for modifying the subscription in other ways.  The OR-TALK list
is no exception.  Anyone with enough functioning neurons to use a computer
can see that they should keep a copy of the confirmation message containing
the instructions for getting off the list.  That's just common sense.  If
they aren't doing that, it's because they are generally inconsiderate and
expect the world to tie their shoelaces for them, wipe their butts for them
when they crap, etc.
     If I were the list owner, I would be tempted to leave them subscribed
but block their email address from being able to post to the list.  That way
they would still have to take some responsibility for getting what they want,
but could no longer harass my list.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-02 08:20:47
@_author: Scott Bennett 
@_subject: another DirPort DoS attacker 
A short time ago, I found that 212.205.53.212 had several hundred open
TCP connections to my tor server's DirPort, and very little relay traffic
seemed to be getting past all of that.  I've now taken steps to prevent such
connections from that IP address.  (That IP address has the hame
sahrsmtp03.cosmote.gr.)  Other tor server operators may (or may not) wish to
follow suit.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-12 06:07:00
@_author: Scott Bennett 
@_subject: HSDir and DirPort 
By the way, when I posted my recent call for more hidden service directory
servers, my instructions for enabling the option stated that the tor server
must be a normal directory server in order to offer hidden service directory
information.  I noticed that by yesterday morning, phobos had already proven
my statement false.  His server, nicknamed phobos as well, suddenly showed up
on the torstatus page with the peculiar little icon reserved for HSDir servers,
but no directory server icon and no DirPort listed.
     I'm unclear, though, as to whether turning on the HSDir service actually
does anything when there is no DirPort enabled.  My main uncertainty stems
from an unclear understanding of how tunneled directory connections work.  Do
such connections go through a circuit to a DirPort on some directory server
beyond an exit server?  Or do they simply go through a circuit to an OrPort
and get recognized as a tunneled directory request, rather than a circuit-
building operation?  Can anyone clarify this?
     Thanks for any answers.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-12 16:06:40
@_author: Scott Bennett 
@_subject: HSDir and DirPort 
I know the feeling.  Long history... :->
     Well, that does sound like a new approach.
     Maybe.  I'm still waiting to see if someone will notice and answer my
questions about how tunneled directory connections work.  If HSDir information
can be requested via a tunneled connection without using the other end's
DirPort, then DirPort shouldn't be required.  OTOH, if tunneled connections
just mean using a circuit to get to a DirPort, then yes, I would agree with
     :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-12 23:39:48
@_author: Scott Bennett 
@_subject: invitation to directory server operators 
I just checked the tortatus page, and it now lists 31 hidden service
directory servers or 2.55% of all currently listed tor servers!  That's
more than double the number listed at the time I first posted a call for
additional participation as HSDir-enabled directory servers.  We still
need another 80 - 90 HSDir servers to hit the target I [rather arbitrarily]
suggested the other night, but we are definitely off to a good start.
     A note to Karsten Loesing:  what to do you think about the response
so far?  Is it enough yet to get you to call off your dogs for a while
on that proposal until we see how many more directory server operators
will volunteer to offer hidden service directory services?  We are already
well above the six-server danger zone.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-13 01:30:48
@_author: Scott Bennett 
@_subject: invitation to directory server operators 
On Sat, 13 Sep 2008 07:39:39 +0200 Gitano <0xb8968b9e9190 at nurfuerspam.de>
     Why do you believe it doesn't work?
     Not that I am aware of.  There is, however, the requirement that your
server be up for at least 24 hours before the authorities will list a new
HSDir server with the HSDir flag set in the consensus and status documents.
If it hasn't been that long yet, please give it enough time.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-13 04:46:14
@_author: Scott Bennett 
@_subject: invitation to directory server operators 
On: Sat, 13 Sep 2008 09:01:34 +0200 Gitano <0xb8968b9e9190 at nurfuerspam.de>
     Probably not.  And even if it did, it would have to be something requiring
exactly the right timing.  And then it would all go to waste a short time
later when your system got disconnected and readdressed again.
     It is now nearly a month since I dumped an ISP that had proven to be
nearly unusable by mid April.  But the first complaint that I had was that
they forced a disconnection of the PPPoE session *at least* every 24 hours,
usually assigning a different IP address.  That meant any login sessions I
had open to other locations got broken without notification to either end,
and all open tor connections got broken without warning or notification to
either end (i.e., all TCP connections to anywhere else).  The ISP's employees
insisted that that was by deliberate design and intent, a totally intolerable
approach to customer service.  Unfortunately, I had signed a one-year
contract without having been informed that there would be one or more outages
each and every day of that contract.
     The new ISP is cheaper for the first six months, then somewhat more
expensive than the old ISP.  But, although there appear to be a few lingering
signal quality issues that cause trouble only very infrequently, the stress
and irritation of bad service is mostly gone.  The new ISP also is giving me
higher data rates than I had before, which is great.  Also, it appears that
even when the signal is lost or erratic enough to cause the modem to reset
itself and then reconnect, it seems to get the same IP address every time, so
there may be a pause of 60 - 75 seconds or so, but then everything seems to
resume with few, if any, broken connections.
     If you can find an ISP that doesn't force a disconnection and reconnection
every day, life will be much less unpleasant.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-13 06:18:51
@_author: Scott Bennett 
@_subject: invitation to directory server operators 
On Sat, 13 Sep 2008 12:31:34 +0200 Hans Schnehl      And some clarification for non-gringos:  in the U.S. the ADSL connections
are not dialup, but rather continuous connections usually provided directly
or indirectly by the telephone company monopolizing the local geographical
area.  Cable connections are also supposed to be continuous here.  The only
normal reason for outages is supposed to be hardware trouble.
     The catches are 1) that some ISPs, like the lousy one I used to pay (TBC
Net, Inc. -- tbc.net), buy large packages of ADSL service from another
provider, which may be the telephone company or it may be yet another service
repackager, and then they turn around and sell the service for individual
lines at a cheaper rate than the underlying physical service provider, and 2)
any level of this setup that requires authentication can use whatever method
it chooses.  My old ISP chose to use PPPoE session authentication logs as
some sort of input to its accounting system, and the accounting system needed
a record for every day or some such nonsense, so they forced new accounting
data to be logged at least every 24 hours by cancelling the PPPoE session and
requiring reauthentication upon reconnection.  Basically, it was one of those
setups designed by amateurs, maybe junior high school kids similar to the way
Microsoft appears to handle software design.
     Sounds awful.  Is there a cable-based ISP there?  You might have better
results that way.  Sorry to hear, as well, that the ADSL lines are dial-up
connections.  Bummer.
     Oh, well.  However, I do notice that German HSDir servers outnumber
those of all other countries at present, so *somebody* there is getting
better service.
     That must be before adjusting for inflation, right? ;-)  In this
country, the U.S.  Mint has not produced 0.5c coins since the mid-19th
century or perhaps earlier.  Now 1.0c coins are not worth picking up off
the ground, though if you good get 5 or 10 kg of them, you could sell
them for the copper, because the face value has dropped significantly
below the metal value.  Reading about precious metals coinage is like
reading something from Anderson's fairy tales nowadays.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-02 19:41:51
@_author: Scott Bennett 
@_subject: another DirPort DoS attacker 
On Tue, 2 Sep 2008 09:44:14 -0600 "John Brooks"      Yes, it is an exit for many, but not all, ports.
     I hadn't thought about the latency-testing angle, but it's conceivable,
I guess.  Mostly what it looks like is an attempt to a) clog the directory
mirror service and/or b) clog the whole Internet connection to my server.
     It's on 443.
     This is not the first incident I've reported.  (See archives for more
over the past year.)  Unfortunately, when I recently dumped the jerks that
I had been getting poor-quality service from for the past year, I failed to
write down all the filter rules I'd added to their router before I returned
it to them. :-]  There was rarely even a single connection attempt from any
of them anymore at that time, so I wasn't too concerned.  But that means I
now do not know whether this current trouble source is one of the older ones.
I don't recognize the host+domain name, though, so I suspect it is a new one.
     I would be very surprised to learn that my server is the only one being
hassled in this fashion, but I know there are many, many tor servers that
are not nearly as closely monitored for trouble by their operators as mine
is. :-)
     In the sense that it may not be something being done intentionally, I
certainly hope you are right.  However, the disruptiveness of the attacks
does worry me because a concerted, distributed attack *could* be made
deliberately by an adversary with enough bandwidth to cripple the whole
tor network's operation.  And such an attack could be carried out relatively
cheaply.  It takes only a tiny bit of attacker transmit bandwidth to open
hundreds or thousands of connections, but it takes a great deal of server
transmit bandwidth to respond to them all.  Given that an awful lot of us
are bottlenecked by the transmit side of asymmetric Internet connections,
it looks like a real possiblity.  Remember that I found 300-400 ESTABLISHED
TCP connections simultaneously from that one IP address, and new ones were
opening continually as fast as earlier ones were served and closed.  It
would be easy for someone to attack at least several servers at one time
from an inexpensive asymmetric link like ADSL, cable, etc., so someone
with real resources (e.g., government agencies) to have lots of small
computers with lots of cheap Internet connections could take a large
portion of us down in a matter of minutes and keep us that way as long as
they liked.  In that sort of attack, setting useful filter rules would be
nearly impossible because the source of the attack could be switched
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-02 20:13:22
@_author: Scott Bennett 
@_subject: authority system clock troubles? 
My notices-level log for the last six hours reads:
Sep 02 14:10:24.852 [warn] Received NETINFO cell with skewed time from server at 194.109.206.212:443.  It seems that our clock is ahead by 1 hours, 0 minutes, or that theirs is behind. Tor requires an accurate clock to work: please check your time and date settings.
Sep 02 14:25:09.100 [notice] Downloading consensus from 86.59.21.38 using /tor/status-vote/current/consensus.z
Sep 02 14:51:01.970 [warn] Received NETINFO cell with skewed time from server at 194.109.206.212:443.  It seems that our clock is ahead by 1 hours, 40 minutes, or that theirs is behind. Tor requires an accurate clock to work: please check your time and date settings.
Sep 02 15:26:08.372 [notice] Downloading consensus from 88.198.7.215 using /tor/status-vote/current/consensus.z
Sep 02 15:28:10.330 [notice] Downloading consensus from 86.59.21.38 using /tor/status-vote/current/consensus.z
Sep 02 15:34:23.180 [warn] Received NETINFO cell with skewed time from server at 194.109.206.212:443.  It seems that our clock is ahead by 2 hours, 24 minutes, or that theirs is behind. Tor requires an accurate clock to work: please check your time and date settings.
Sep 02 15:38:20.816 [notice] Downloading consensus from 216.224.124.114:9030 using /tor/status-vote/current/consensus.z
Sep 02 16:03:45.142 [notice] Downloading consensus from 128.31.0.34:9031 using /tor/status-vote/current/consensus.z
Sep 02 16:18:03.087 [warn] Received NETINFO cell with skewed time from server at 194.109.206.212:443.  It seems that our clock is ahead by 3 hours, 7 minutes, or that theirs is behind. Tor requires an accurate clock to work: please check your time and date settings.
Sep 02 17:04:41.073 [warn] Received NETINFO cell with skewed time from server at 194.109.206.212:443.  It seems that our clock is ahead by 3 hours, 54 minutes, or that theirs is behind. Tor requires an accurate clock to work: please check your time and date settings.
Sep 02 17:27:07.450 [notice] Downloading consensus from 128.31.0.34:9031 using /tor/status-vote/current/consensus.z
Sep 02 17:46:52.627 [warn] Received NETINFO cell with skewed time from server at 194.109.206.212:443.  It seems that our clock is ahead by 4 hours, 36 minutes, or that theirs is behind. Tor requires an accurate clock to work: please check your time and date settings.
Sep 02 18:04:44.873 [notice] Downloading consensus from 128.31.0.34:9031 using /tor/status-vote/current/consensus.z
Sep 02 18:40:09.854 [warn] Received NETINFO cell with skewed time from server at 194.109.206.212:443.  It seems that our clock is ahead by 5 hours, 30 minutes, or that theirs is behind. Tor requires an accurate clock to work: please check your time and date settings.
Sep 02 19:11:51.021 [notice] Downloading consensus from 128.31.0.34:9031 using /tor/status-vote/current/consensus.z
Sep 02 19:25:54.869 [warn] Received NETINFO cell with skewed time from server at 194.109.206.212:443.  It seems that our clock is ahead by 6 hours, 15 minutes, or that theirs is behind. Tor requires an accurate clock to work: please check your time and date settings.
Sep 02 20:02:40.898 [notice] Downloading consensus from 128.31.0.34:9031 using /tor/status-vote/current/consensus.z
It looks to me as though the system clocks on the machines running the moria1
and dizum directory authorities are set wrong.  My system's clock appears to
be fine, and the consensus fetches from the other authorities checked during
this time period also appear to be okay.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-24 21:55:49
@_author: Scott Bennett 
@_subject: torstatus sites aren't updating 
I confess that I've only checked three of the torstatus sites, but it
appears that they have stopped being updated.  torstatus.kgprog.com hasn't
been updated in many hours, and at least two others appear not to have been
for several days.  Does anyone know why?  And when the updates will begin
     Thanks in advance for any news.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-25 00:00:58
@_author: Scott Bennett 
@_subject: torstatus sites aren't updating 
On Wed, 24 Sep 2008 21:01:36 -0600 "Kasimir Gabert"      I didn't know about that one, but I'll bookmark it to check in the future.
     Hmmm...checking that one reveals two bugs in the version of the script
that it runs that are triggered when one happens to get a low-data-rate exit.
a link to get the full page.  That works, but then selecting any filtering
options or changing from the default sort order returns not the full results,
but again a truncated page of only the first 20 results with a link to get
the full results.  (See also bug 2) here.)  However, clicking on that link
yields once again the full, unfiltered list in the default sort order.  So
as long as one's connections to the site happen to be go through a low-data-
rate exit, one cannot get a full listing of filtered results or results sorted
in any order but the default sort order.
sorting, the statistics box at the bottom shows a result count (Routers in
Current Query Result Set) of 20 when the correct count is 40.  It appears
to be using only the number of results displayed on the truncated page.
     Thanks for checking on them.  Will they start updating again soon?
     Yes, it does appear to be current now, though it was either not current
or not responding (I don't remember which) when I posted my questions.
     Also, that one doesn't display or filter upon the HSDir flag, so I assume
it runs an older version of the script(s).
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-26 05:16:13
@_author: Scott Bennett 
@_subject: (micro)payments for anonymous routing in Tor? 
On Wed, 24 Sep 2008 03:44:39 -0400 "Josh Albrecht"      Relay operators already get an advantage that client-only users
don't have:  their own traffic is mingled into relay traffic at the
outset, often making it difficult for an observer to know that the relay
operator is even conducting any client operations him/herself.
     I have to comment here that all of the foregoing discussion gives me
the impression that implementing such a system would add considerable
overhead to the tor network.  If people are complaining about slowness
now, then why would anyone want to add to the overhead?  The total
throughput of the tor network would not be increased by a priority system,
and it's conceivable that it might be decreased a bit due to the extra
overhead, especially where that overhead incurs extra network traffic.
     Well, I don't know about any actual method of attack, but using such
a system would seem to reduce anonymity by partitioning traffic into traffic
belonging to those who can "pay" (relay operators) and traffic belonging to
those who cannot (non-relay (i.e., client-only) operators).  The two groups
are likely to be unequal in size, probably with the client-only group being
the larger of the two.  Thus the anonymity set is reduced in each group from
that of the original, overall population, with that reduced set size modified
in the relay operator group by a trade-off between relative anonymity and
performance based upon the data relay rates of their servers.
     Let's examine that last statement a bit closer.  Relay operators are
probably a small subset of the overall user population, so distinguishing
one's traffic as being that of a relay operator by getting a higher priority
for the traffic probably vastly decreases one's anonymity from the current
level.  However, the data rates among servers vary widely and are not
uniformly distributed.  Servers with published peak data rates
greater than, for example, 4,000 KB/s are very few in number.  Such a "paid"
system would essentially guarantee that the traffic of operators of those
servers would have a high priority all the time because they would be unlikely
ever to use much of their accumulated credit.  That means those folks could
download huge files, always at a high priority, which might make their traffic
more identifiable as being possibly/probablytheir traffic.  (This kind of
traffic analysis problem is really way out of my area, though, so I feel quite
in the dark as to how useful such distinctions might actually be to an
attacker with great resources at its disposal.)  Would the cost in anonymity
of running a high-data-rate relay encourage some operators to reduce their
servers' data rates artificially to keep their client-side traffic from
originating from such a shrunken anonymity set?  E.g., would blutmagie get
a RelayBandwidthRate of, say, 500 KB/s (i.e., < 10% of its typically published
peak rates) in order to improve the operator's anonymity?
     Meanwhile, the client-only users would get reduced anonymity and poorer
performance, but their anonymity, at least, is not reduced anywhere nearly as
much as that of the relay operators.  So the introduction of such a system
certainly makes the situation much more interesting, but not necessarily in a
way that makes tor's behavior any easier for users, naive or advanced, to
     As I hope I've shown above, that anonymity benefit would be partly lost.
I don't know offhand whether there would be some remaining incentive to
carry the "unpaid" traffic.  Perhaps the authorities would have to add a
test for that and apply some sort of penalty (e.g., another flag or perhaps
a refusal to distribute the descriptor).
     Frankly, at this point I don't think such a system of "payment" for
relay priority is worth the cost in either development time and effort or
anonymity and prospective user discouragement.  Many of the people in this
world who have the greatest need for the benefits of a system like tor are
also the people least likely to be able to run a relay without fear of
harassment or worse from the states that rule them.
     I started running a relay because I believe it's a good thing for all of
us.  It helps me, IMHO at least, and it helps others at the same time, so
what's to lose?  It's too bad that the Internet wasn't designed with such a
system built into it so that *all* traffic could have been handled in a
fashion similar to what tor does.  But back then, who knew?  We had to crawl
before walking.  So today we have to build on what we have, and maybe we'll
someday get there or somewhere near enough not to matter.
     The tor developers have, I believe, far more urgent matters to deal
with than creating a priority system, and I don't think any priority system
design has yet been shown not to have potential negative effects on the tor
community.  I'm not trying to discourage anyone (except possibly the tor
developers) from trying to dream up such a design, but the development team
should focus first on the things it knows need to be done.  Thus far, it
seems to me that they have been doing an admirable job of that and shouldn't
be diverted from continuing to do that.  They have already found and corrected
quite a few performance problems, and using tor now is usually a much better
experience that it was when I first started using it in 2005.  They have
already identified more such problems to be fixed, so let's see whether the
better performance from those changes will help to reduce the impatience that
drives the requests for a priority system before we worry about adding one to
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-28 01:45:19
@_author: Scott Bennett 
@_subject: How to strictly exclude exit nodes? 
On Sat, 27 Sep 2008 17:13:02 -0600 "John Brooks"      A circuit to a hidden service may indeed have four or more hops.
However, the client sees only the hops on the client's side of the
rendezvous and the server sees only the hops on the server's side of
the rendezvous.  Even the number of hops on the other party's side of
the rendezvous is unknown to the party that is curious.
     I'm not sure why a non-hidden-service circuit would have more than
the hard-coded default number of hops unless a controller has directed
the client in building that circuit.
     I agree.  It's his own fault.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-03 07:04:32
@_author: Scott Bennett 
@_subject: another DirPort DoS attacker 
Very interesting.  If one depends upon a DirPolicy to reject the attempts,
one will get a notice-level log message for each rejected attempt. :-(  So I
simply added a pf rule to block SYN packets for my DirPort from that IP
address.  I also added a DirPolicy line, but mainly to make sure that I would
be notified if it turned out that I had screwed up the pf rule and connections
were still getting through. :-)
     The vast numbers of connections per se didn't actually bring my server
down.  Rather, it was more likely the large numbers of packets in output
queues that tied up the transmit capacity of my cable link, thereby reducing
available relay capacity.  Once there is a big backlog of packets waiting to
be transmitted, I begin to see growing numbers of input queues with packets
waiting to be read by programs, including tor from its ORPort.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-03 07:15:05
@_author: Scott Bennett 
@_subject: authority system clock troubles? 
Hi Andrew,
     Yeah, I see I must have mismatched pairs of messages in my log before
I wrote that, leading me to think that both dizum's and moria1's were wrong,
so I guess I just added to the confusion.  There have been no new errors of
that sort logged in nearly eleven hours now, so I gather someone corrected
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-03 07:39:12
@_author: Scott Bennett 
@_subject: another DirPort DoS attacker 
On Wed, 03 Sep 2008 14:11:36 +0200 Dominik Schaefer      I have been unable to come up with a reason why any instance of tor
should ever need more than one open connection to the DirPort of another
particular instance of tor.  However, I think it was Roger who stated that
when tor is getting initialized and needs to get a lot of directory data
in a hurry, that it may have many open connections, each requesting a
separate, small portion of the directory.  He didn't say that that was
necessary for any particular reason, IIRC, just that that was how tor
currently worked.
     Frankly, I haven't yet thought of a justification for needing a TCP
connection to a DirPort that is separate from the ORPort, at least not
given the current state of tor.  If one could specify a "DirAddress" distinct
from Address, then it might make sense because then a computer with multiple
interfaces leading to the Internet would be able to separate the server's
relay traffic onto one interface and directory traffic onto another
     You lost me there.  How would NAT be involved?
     I should certainly hope not!  tor is a connection-hungry little
application, but not *that* hungry...at least, I don't think.  ;-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-06 06:37:09
@_author: Scott Bennett 
@_subject: why is tor traffic volume down the last few days? 
It appears to me that overall traffic volumes throughout the tor server
network have dropped steeply in the past few days.  My first hint of this
came three or four days ago and was the declining "bandwidth" numbers reported
by my tor server in its own descriptor updates.  However, repeated skimming of
the torstatus page shows lower "bandwidth" reports just about everywhere
except maybe for servers that normally report low traffic levels (say, under
40-50 Kb/s).
     Does anyone have an idea what might have caused this reduction in tor
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-09 05:15:15
@_author: Scott Bennett 
@_subject: peculiar server "bandwidth" posted by server "mnl" and possible new type of attack 
Over the last several days, a server nicknamed "mnl" has been posting
descriptor updates bearing highly suspect data rate information.  I have
contacted the person at the contact-info address, so he is aware that the
observed data rate (misnamed "bandwidth") reported in mnl's server descriptor
is probably inaccurate by a factor of 10 or greater.  His server has been
up for over a month, and IIRC, is usually a relay with a very high data rate
and therefore to be considered a significant benefit to the tor network's
overall performance.
     However, mnl has lately been claiming to have had ten-second peak rates
on the order of eight to ten times the peak rates typically published by
blutmagie, the extraordinarily high-rate server that is nearly always a big
chunk of the tor network capacity's foundation.  Here is the latest of mnl's
descriptors from my cached-descriptors file:
router mnl 159.149.71.27 9001 0 9030
platform Tor 0.2.0.30 (r15956) on Linux i686
opt protocols Link 1 2 Circuit 1
published 2008-09-08 14:41:50
opt fingerprint ABD3 8668 D3F4 76F5 0232 FEC0 B6DB 6550 EA43 EDD0
uptime 2781643
bandwidth 5242880 10485760 52239166
                           ^^^^^^^^ ---> ~48.8 MB/s (!)
opt extra-info-digest 791494258CFA222ABCA7CD60D41CBFA108275E36
-----BEGIN RSA PUBLIC KEY-----
-----END RSA PUBLIC KEY-----
-----BEGIN RSA PUBLIC KEY-----
-----END RSA PUBLIC KEY-----
contact cavok at filibusta.crema.unimi.it
reject *:*
-----BEGIN SIGNATURE-----
-----END SIGNATURE-----
     Nearly 49 MB/s seems a bit of a stretch.  The server's operator sent me
a note saying that the server is attached to the 1 GB/s campus backbone net,
but it is attached via a 100 Mb/s router, so the reported data rate is four
to five times the rate physically possible due to the router's limitation.
The server, according to its operator, is running on a 2.6 GHz P4, and its
descriptor says the machine is running LINUX.  Based upon postings quite a
while back from blutmagie's operator and from a few other operators of very
high-data-rate servers, it seems to me that a 2.6 GHz P4 (Northwood?) running
LINUX would not be capable of handling a load eight to ten times that of
blutmagie, regardless of its network connection's capacity.
     All of the above leads me to suspect two things.  One is that there may
be some bug triggered only under exceedingly odd conditions that leads to
reporting of data rates grossly out of line with reality.
     The second is that when a server claims such disproportionately high
capacity, the overall performance of the tor server network can be compromised.
This would happen due to the statistical method used for selecting nodes to
be ussed to construct a circuit, which is partially based upon reported, recent
(i.e., in the preceding 24 hours), peak data rates.  In other words, a server
reporting wildly high data rates distorts the PDF, such that an inordinately
high fraction of circuit routes worldwide will include that server, regardless
of whether that server can actually keep up with that workload.  If circuits
fail or fail to be built as a result of the overallocated errant server being
in those circuits' routes, the effect is merely to reduce to networkwide total
capacity of the tor network.
     That brings us back to something I've already posted on OR-TALK, namely,
the apparent slowdown in tor traffic that has reduced the traffic through my
tor server by at least 30% and, judging from the reduced peaks shown for a lot
of the high-volume servers listed on the torstatus page, the tor network at
large.  If this is actually what has been going on, then not only should the
bug be tracked down and killed ASAP, it serves as a call to rethink the method
of circuit route selection to find ways to prevent a reduction-in-throughput
attack that could be made by almost any creep by setting up a corrupted relay.
(mnl is not even an exit.)
     (deep breath) I want to state right now that I do not in any way
whatsoever suspect mnl's operator of any nefarious activity.  I believe that
he is at least as perplexed over his server's behavior as I am, especially
given other information he provided about events over the weekend.  I do not
have a clue what sort of bug in tor could cause a server to begin reporting
exaggerated data rates, but the majority of bugs fixed by Roger, Nick, et al.
are ones that I would never have imagined either.  Something weird is going
on, and we both want it figured out.
     This note is intended as a loud cry for comment.  I want urgently
to be told how I have it all wrong, am hysterical over nothing, that the
current tor network slowdown is due to something else (e.g., greatly reduced
user demand), and that the tor network is not vulnerable in the aforedescribed
manner.  Thanks in advance for any reassurance anyone can provide.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-09 07:24:03
@_author: Scott Bennett 
@_subject: peculiar server "bandwidth" posted by server "mnl" and possible new type of attack 
That would certainly be nice.  I hope it's so easy.
     Whew.  Thank you so much, Roger!  That's exactly the kind of thing
I wanted for reassurance.
     However...hmmm...how much disruption could, say, a dozen i486's on
10 Mb/s ethernet connections claiming to be 5 MB/s servers cause?  That
ought to be fairly cheap, well within the coffee budget of an NSA office,
for example.
     Sounds good.  I'll look forward to that.
     Yes, indeed.  That is something I've posted about twice recently and
gotten no responses.
     Actual changes in the physical capacity of a server and its connection
to the Internet are relatively rare events, most of which would involve a
restart of the tor server anyway.  The published actual usage (a.k.a.
observed "bandwidth" [jeez, what a misappropriated term that is]) is used
as a means of determining what that physical limit may be, which is then
used by clients everywhere.  Ideally, a sequence of such reports from a
server should constitute a successive approximation that converges on the
actual physical limitation.  However, in tor's current method of reporting
reduced values for reduced *usage* and having those reduced values then
understood to represent *capacity*, the series never converges.  So instead
of seeing a series of reported usages that increases asymptotically toward
the capacity, tor sees fictionally varying *capacities*.  The feedback you
mention would be fine if not permitted to create nonlinear responses.  This
problem could be eliminated by having tor always publish the greater of the
last published value and the highest value from the reporting period
(currently the previous 24 hours, right?).
     A second potential issue under the current implementation is that the
default sampling rate is 1.333.../day, so if there are shorter term, but
repetitive, variations (e.g., daily fluctuations), tor has no possibility
of detecting and recognizing them.  1.333.../day gives a Nyquist frequency
of .666.../day, so any normal oscillations in traffic volume that happen
faster than that (i.e., with a period shorter than 1.333... days = 32 hours)
cannot be detected, but *would* be aliased in the measured data, thereby
bollixing any mechanism put into tor to adapt to periodic changes.  This
situation also argues in favor of a linearization like what I proposed above.
     OTOH, this aspect might be handled differently.  For example, a separate,
more frequent measurement of peak data rate could be made.  In essence, the
15-minute totals reported in the old descriptors and now in the extra-info
documents could be used that way, though they would be up to 18 hours out
of date.  They aren't quite the same as 10-second peaks, so maybe those
could also be recorded in an extra-info or similar document.
     But the linearization method is much simpler and eliminates any need
to adapt to periodic changes in traffic loads.  It's also a server-side
change that clients don't need to be aware of in order to get the benefit.
The more servers reporting only monotonically increasing peak rates, which
approach the unknown-to-tor true capacity rates, the more accurate the
networkwide picture of capacity should be, and the better the overall tor
performance ought to be.
     What would have caused their to be fewer file-sharers?  Especially
now that fall semester has started, and students are back under the partial
concealment of the anti-RIAA defenses of their schools?  >:-} (I must have
missed something in the news...)
     A part of the cause may be what we've discussed just above because it
means the clients are basing their route selection upon server wildly varying
usages rather than on server capacities.  But that's obviously only a piece
of this problem.
     I can hardly wait.  I've wanted that kind of thing almost since I first
started using tor.
     Yeah?  Very cool! :-)  Hats off to whoever pulled that one off!
     I'm afraid I can't help there because there's only a handful of servers
for which I have any recollection of their previously typical rates.  You
would probably have a better chance of getting useful responses if individual
server operators would report that kind of thing about their own servers
because in most cases they are the people most likely to be familiar with
their servers' typical loads.  Too bad we don't have historical records of
the torstatus page contents.
     Roger, thanks again very much for your lightning-quick response.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-10 07:16:46
@_author: Scott Bennett 
@_subject: peculiar server "bandwidth" posted by server "mnl" and possible new type of attack 
On Tue, 9 Sep 2008 08:48:18 -0600 "Kasimir Gabert"      It appears that mnl was not actually down.  It may be experiencing
some network connection problems.  Its operator mentioned that he had
been unable to log into it over the weekend, but when he came in on
Monday, it was still running.  It had also reappeared on the torstatus
     Anyway, mnl is back, says it has been up 33 days, and is once again
at the very top of torstatus pages when those page entries are sorted
into descending order by "bandwidth".  I just sent a note moments ago
to its operator again, this time suggesting that he restart it to get
rid of the bogus numbers.  It seems fairly likely that mnl will never
trigger the same bug again anyway.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-10 08:28:40
@_author: Scott Bennett 
@_subject: peculiar server "bandwidth" posted by server "mnl" and possible new type of attack 
On Tue, 9 Sep 2008 02:10:05 +0200 Domenico Andreoli      No, or at least I don't think so.  What I was referring to is that most
of the trouble we've had from bad operators has taken the form of corrupted
exit servers, where what goes into or comes out of the exit is in the clear
and can be altered before it is sent where it is going.
     For this kind of attack, I suppose there might be some sort of advantage
to being only a relay and not an exit because route selection often prefers
non-exit relays for non-exit positions in a route, and a typical route has
two non-exit positions but only one exit position.  So the chances to bog
down performance might be a bit higher if the attacker focused on non-exit
     But Roger has already said that clients believe that no server really
handles more than 5 MB/s, so they trim any figures greater than that back to
5 MB/s.  If you had a dozen or two tor servers falsely reporting high usages,
each at 5 MB/s or more, it might make a mess of things because they would
distort the networkwide statistics, especially if those servers did not
identify themselves as all being members of the same Family.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-10 19:12:25
@_author: Scott Bennett 
@_subject: peculiar server "bandwidth" posted by server "mnl" and possible new type of attack 
On Wed, 10 Sep 2008 07:46:51 -0600 "Kasimir Gabert"      A footnote to the above is that a real attacker of this sort could perhaps
avoid notice quite a while longer by running a somewhat larger number of slow
servers that published bogus rates in the 1 MB/s to 4 MB/s range.  The rates
would thus appear to be valid to tor and on the torstatus page would scatter
attacker servers in with a substantially larger group of high-bandwidth, good
     Thanks.  I knew I had seen it frequently somewhere in the upper reaches
of the distribution.
     Oh, wonderful!  The graphs spanning different time scales look great,
but naturally make me wish for more. :-)  Would it be feasible to be able
to request graphs covering specific (i.e., starting date to ending date)
time periods?  Thanks for the good work.  I assume the new version of the
torstatus scripts will let us get graphs like the ones you've shown at the
link above.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-11 07:16:58
@_author: Scott Bennett 
@_subject: quick question 
My questions here are curiousity questions for me at present, so
there's no urgent need to know involved.
     Can a bridge offer hidden services?  If so, is there anything special
to do or watch out for in setting them up?
     Thanks for any thoughts on this.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-11 08:17:53
@_author: Scott Bennett 
@_subject: invitation to directory server operators 
To all tor server operators (except those who run hidden service directory
servers already):
     The torstatus page as of a few minutes ago says that there are currently
1292 tor servers, of which 596 are also v2 directory servers (46.13%).  If a
few directory servers comes on line or goes down, it's not likely to make much
difference to the tor network as a whole.  However, only 10 of those directory
servers are also hidden service directory (HSDir) servers (0.77% of total tor
servers).  Fortunately, the hidden services subsystem traffic is still
relatively low, so the load on hidden service directory servers is also still
     The problem here is one of reliability.  In the weeks since I began
paying attention, I have seen the count of hidden service directory servers
range from as high as 13 to as low as 6 or 7.  With only these few servers
involved, it would not be too difficult for hidden services to be shut down,
either by computer or network failures or by an attacker with large resources.
More people running hidden services directory servers would strengthen the
reliability of the hidden services feature of tor.
     For a long time, I was unaware that basic directory servers did not
automatically provide hidden services directories, too, but rather the hidden
service directory service was an optional service that could be provided at
the directory server operator's discretion.  Then it took a short time to
track down the means of activating hidden services directory service, which
turned out to be very easy, of course.
     Anyway, for those directory server operators who are willing to add
hidden services directory service to their ordinary tor directory server's
offerings, here's how to do it.  Note that your server must be configured
as a directory server.  Just add the following lines to your server's torrc
 The following line enables hidden service directory mirroring.
HidServDirectoryV2 1
(Or skip the comment line, and just add the second line, as you please.)
Then tell your tor server to reload its torrc file.  Within 24 - 25 hours
your server will begin operating as a tor hidden services directory server.
You probably won't even notice the difference in traffic loads on your tor
     There is already a proposal in the works to make hidden services
directory service the default for directory servers, which would probably
radically increase the number of HSDir servers, providing a solution to the
current vulnerability.  Maybe you can help render that change unnecessary,
freeing up some time for the developers to do other things.  I propose an
initial goal of raising that (frequently fluctuating) 0.77% to around 10%.
How about it, folks?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-12 04:25:30
@_author: Scott Bennett 
@_subject: quick question 
On Thu, 11 Sep 2008 14:38:38 +0200 (CEST) "Marco Bonetti"
     Hunh...okay.  That hadn't crossed my mind as a possibility, but now
that I think of it, I can't come up with a reason it couldn't work that way.
     Just wanted to know if there were any potential, but avoidable, pitfalls
that one should know about.  No, yes, and no, respectively.  Like I said,
they were curiousity questions.
     Right.  And that reminds me of an old question.  When tor starts up,
it logs a standard disclaimer about being experimental software, don't bet
your anonymity on it, and so forth.  Is there an intended release number or
date by which that disclaimer is expected to be changed or deleted from tor?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-12 05:02:38
@_author: Scott Bennett 
@_subject: invitation to directory server operators 
On Thu, 11 Sep 2008 22:20:01 +0200 Karsten Loesing
     One of the reasons I waited as long as I did was to see whether I could
find any reason that none of the developers had posted a call for directory
server operators to enable it.  Eventually, after thinking and exploring for
quite a while, I decided that it was probably just an oversight, or perhaps
deferred to limbo because the proposal was in progress.  But if the developers
had posted a long time ago the suggestion that I posted a day or so ago, then
there would probably never have been a reason to write the proposal in the
first place.  It looks to me like time and effort expended unnecessarily that
might instead have gone toward something more important.
     Oh.  Part of my reason for the call to service for people already
running directory servers was to *avoid* the need for such a change.  Not
all countries' laws and jurisprudences adhere to the "common carrier" concept,
as you know.  I'd much rather take care of the fragility problem through
voluntary contributions than to slide it with little fanfare into the defaults
for DirPort operations.
     You might better invest time in making the information about hidden
service directory service and how to enable it more prominent in the tor
     I really wish you would just cancel that.  I think the response in only
the first day since my message has been great, and it looks like changing the
default is very quickly becoming superfluous.  Because it also represents a
possible danger to server operators who will continue to be unaware of the
option, not to mention a change to its default operation, it seems unwise to
proceed with the change to the default in the code.  Please reconsider.
     I want to thank everyone who has turned on HSDir service since I posted
my message.  There are now 17 HSDir servers listed on the torstatus page,
so we are off to a good start toward eliminating the hidden service subsystem
fragility of too few HSDir servers for safety, and my expectation is that
more will continue to appear in the near future.
     Well, that much is good, IMHO.  But eventually the stable branch will
move beyond that, potentially creating additional risk for some server
operators around the world.
     Yes, please do, those of you who haven't already.  My proposed target
currently translates to ~130 HSDir-enabled directory servers, so we need
about another 110-115 to get there.  If hidden services become more popular,
then we might someday need more than one out of every ten tor servers to
provide HSDir service for performance reasons.  But one out of ten, if well
enough distributed around the world, ought to be adequate to eliminate the
fragility problem.  And as I hinted before, the extra load on my server, even
at times when it was one of only 7 running, was trivial.  If I hadn't been
following an info-level log for other reasons, I never would have been aware
that it was doing anything more than it had been before I enabled the HSDir
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-12 05:14:21
@_author: Scott Bennett 
@_subject: invitation to directory server operators 
On Thu, 11 Sep 2008 23:11:53 +0200 Lucky Green      I never saw it either, but it may predate my first dabblings with tor
(ca. 0.1.1.13, I think).  But I saw this HSDir item on the torstatus page
for selecting servers to be listed, so I tried it to see what it would
show.  A few servers came up, few enough, in fact, that I was a bit startled.
Then I looked at their entries in the consensus and status documents, where
I saw the HSDir flag on each, which prompted me to look at their descriptors.
After a few moments of browsing I saw the "opt hidden-service-dir" line in
each one, which I had never spotted in descriptors before.  By this point,
I was definitely intrigued.  After a bit of searching, I think I found the
option in the tor man page.  But no, I don't remember ever having been aware
of it either before going through that little treasure hunt.
     Exactly my thought as well.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2008-09-12 05:34:05
@_author: Scott Bennett 
@_subject: Tor's startup anonymity warning (was Re: quick question) 
============================== START ==============================
     On Fri, 12 Sep 2008 05:42:53 -0400 Roger Dingledine      Roger, thanks very much for taking the time to write this down.
I know someone who tried tor and gave it up within days, citing that
message as one of his reasons for doing so.  I'll forward your response
to him.
     Give me a few days to ponder it in odd moments.  (I'm pretty odd,
so I'll probably have some moments to spare for it.:-)  I'll write up
something short and post it here when I have something ready for potshots.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-01 06:59:22
@_author: Scott Bennett 
@_subject: descriptor lost by authorities? 
In the past several hours, traffic through my tor node has almost stopped.
The last time an exit was taken through my node was over three and a half hours
ago.  I see that the descriptor for my node, MYCROFTsOtherChild, is no longer
in the consensus document nor was it ever distributed back to my node in
directory updates.
     The relevant info-level log entries from the last two descriptor
updates posted are below.  Timestamps are for CDT.  The first update did work,
but the next one at roughly 18 hours later appears to have been ignored or
discarded by the authorities.  I would like to know why.
Mar 31 06:24:37.522 [info] directory_post_to_dirservers(): Uploading an extrainfo (length 1978)
Mar 31 06:24:37.562 [info] directory_post_to_dirservers(): Uploading an extrainfo (length 1978)
Mar 31 06:24:37.606 [info] directory_post_to_dirservers(): Uploading an extrainfo (length 1978)
Mar 31 06:24:37.618 [info] directory_post_to_dirservers(): Uploading an extrainfo (length 1978)
Mar 31 06:24:37.630 [info] directory_post_to_dirservers(): Uploading an extrainfo (length 1978)
Mar 31 06:24:37.642 [info] directory_post_to_dirservers(): Uploading an extrainfo (length 1978)
Mar 31 06:24:37.654 [info] directory_post_to_dirservers(): Uploading an extrainfo (length 1978)
Mar 31 06:24:38.106 [info] connection_dir_client_reached_eof(): eof (status 200) after uploading server descriptor: finished.
Mar 31 06:24:38.190 [info] connection_dir_client_reached_eof(): eof (status 200) after uploading server descriptor: finished.
Mar 31 06:24:38.624 [info] connection_dir_client_reached_eof(): eof (status 200) after uploading server descriptor: finished.
Mar 31 06:24:39.780 [info] connection_dir_client_reached_eof(): eof (status 200) after uploading server descriptor: finished.
Mar 31 06:24:39.867 [info] connection_dir_client_reached_eof(): eof (status 200) after uploading server descriptor: finished.
Mar 31 06:24:39.869 [info] connection_dir_client_reached_eof(): eof (status 200)
 after uploading server descriptor: finished.
Mar 31 06:24:39.937 [info] connection_dir_client_reached_eof(): eof (status 200) after uploading server descriptor: finished.
Apr 01 00:25:03.710 [info] directory_post_to_dirservers(): Uploading an extrainfo (length 1936)
Apr 01 00:25:03.711 [info] directory_post_to_dirservers(): Uploading an extrainfo (length 1936)
Apr 01 00:25:03.712 [info] directory_post_to_dirservers(): Uploading an extrainfo (length 1936)
Apr 01 00:25:03.713 [info] directory_post_to_dirservers(): Uploading an extrainfo (length 1936)
Apr 01 00:25:03.714 [info] directory_post_to_dirservers(): Uploading an extrainfo (length 1936)
Apr 01 00:25:03.715 [info] directory_post_to_dirservers(): Uploading an extrainfo (length 1936)
Apr 01 00:25:03.716 [info] directory_post_to_dirservers(): Uploading an extrainfo (length 1936)
     This doesn't seem like the kind of thing that the developers or directory
authority operators would pull as an April Fool's joke, so I thought I'd better
ask OR-TALK readers if they can explain what happened.  I'm running the
0.2.1.12-alpha version.
     Thanks in advance for any ideas on this.  I'll wait a few more hours
before attempting to force another update in case the authority operators or
developers need to investigate the matter on their systems first.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-27 23:57:17
@_author: Scott Bennett 
@_subject: 25 tbreg relays in directory 
On Mon, 27 Apr 2009 17:32:16 -0400 Roger Dingledine                                                                               ^
     I see I made a typo.  It should have read "tbreg" like I wrote in the
     Wow.  :-(
     It seems to me that it might have been better for them to have remained
     That brings up something that has bothered me for a long time.  When
tor discovers that its version doesn't match any in either client-versions
or server-versions, it currently writes complaints about it to the log(s),
but seems to do nothing further about it.  I'd like to see either of the
     The need for something like one of the above is especially strong, given
that both client users and relay operators may well never see log messages.
There are relays, some that have been up for a terribly long time, running
versions as old as 0.1.1.19-rc and 0.1.2.13.
     My preference of the two alternatives above would be the former because
it allows not only more flexibility, but also enables a distinction between
versions that are merely old and versions that are known to be very unsafe
(e.g., the LINUX openssl key generation problem of some months ago, the bug
that allowed exits to get confused about which streams were to be fed data
coming back from exit connections) that should be avoided at all costs.
     The latter alternative has the virtue of much easier and quicker
implementation, but at the cost of being far more restrictive than necessary.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-28 05:55:41
@_author: Scott Bennett 
@_subject: Version checking (was Re: 25 tbreg relays in directory) 
On Tue, 28 Apr 2009 03:01:30 -0700 (PDT) Tripple Moon
     Laying aside for the moment the matter of how the rest of the tor nodes
should determine the trustworthiness/credibility of the tor instance making
the announcement or even why the tor network, either as a "whole" or as
individual nodes, should care about the integrity of a client (!), how to you
propose to calculate a verification digest--a CRC would not likely be
considered adequately reliable--based upon the executable binary of software
     More secure and manageable for whom??  Big Brother?  Obviously not for
the supposedly anonymous tor user...jeesh.
     It doesn't, and it shouldn't.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-28 23:14:35
@_author: Scott Bennett 
@_subject: 25 tbreg relays in directory 
Those methods are all very nice, but do not address the clients' security
problems.  Warm and fuzzy feelings that tor node operators, who often do *not*
put contact information into their torrc files, will oblige do nothing to
enable clients to avoid nodes running versions that are known to be unsafe.
     Either of the options that I proposed here *would* address this issue,
and the issue is one that calls for a solution.  The first of the two options
I suggested would also make it possible to distinguish between old relays that
have security vulnerabilities for exit service but not for use as entry or
middle nodes and old relays that are insecure for any use.
     If other options to deal with the problem are on people's minds, please
speak up!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-29 00:41:01
@_author: Scott Bennett 
@_subject: 25 tbreg relays in directory 
I just took a closer look at the obsolete nodes.  A number of them are
medium- to very high-data-rate nodes, including some that peak at over
1 MB/sec.  Obsolete nodes peaking at over 1 MB/sec currently include, according
to torstatus,
     Now, frankly, I am not particularly worried about relays running 0.2.0.32.
The ones running any version in the 0.1.*.* series, however--and there are
118 of them showing in torstatus at present, including a 0.1.1.19-rc and a
0.1.2.9-rc that were restarted less than a day ago--should be ignored by
clients.  IIRC, there are known unsafe versions in the 0.2.0.x series that
should be ignored by clients.
     Nevertheless, the high-data-rate nodes running 0.1.x.x versions are of
great utility to the tor network, so I hope your efforts to contact operators
of obsolete relays will focus on these first.
     Looking at 0.2.1.x relays, the situation is not nearly as bad, which is
probably to have been expected because people following the development branch
are more likely to try to stay reasonably current and are also more likely to
pay attention to their tor log files.  (As the exceptions that prove the rule,
there are still some 0.2.0.x-alpha relays out there, though.)  I see
but there is also a low-data-rate Unnamed running 0.2.1.1-alpha.
     The core purpose of tor is to provide secure anonymity to the users of
tor clients, but tor clients currently are not equipped to bypass obsolete/
unsafe tor relays as identified by tor's developers.  This has bothered me for
a long time, and I hope it will be rectified one way or another in the next
stable and development versions.  Of the two options I suggested previously,
perhaps the next releases could use option b), which requires no changes to
the statements used at the beginning of the descriptor and consensus files
and no changes to torrc.  The more nuanced option a) could be added when
convenient to the -alpha versions, later to become part of the stable versions.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-29 05:49:49
@_author: Scott Bennett 
@_subject: Version checking (was Re: 25 tbreg relays in directory) 
On Wed, 29 Apr 2009 03:13:52 -0700 (PDT) Tripple Moon
     My apologies.  You did request that before, and I simply forgot.
It is accepted courtesy on most mailing lists to address a followup
both to the list and to the author of the article(s) being followed up.
When someone asks me to deviate from that standard, I am happy to
oblige, but just made a mistake in this case.  I will try to remember
better in the future.
     "Waifed"?  What language are you borrowing that from?  And what does
it mean?  "Waif" in English is a noun having a meaning that bears no
obvious connection to this discussion.
     Hmm...on the off-chance that you intended to type "waived", I think I
can see an intended meaning, although the use of the word is still incorrect
in this context.  Please keep in mind that tor is distributed in a number
of forms, one of which is source code that can be compiled on any version
of any system with a compatible C compiler and required libraries.  I
frankly doubt that anyone on this list or on the development team could
come up with the definitive, comprehensive list of such systems.
     An item I missed when writing the list above is that the required
libraries, which are independent of the tor project, of course, also
come in a wide variety of versions, architectures, and operating system
implementations and may have been compiled under a variety of different
C compilers and versions.
     If my speculation about your intended meaning is correct, then on the
face of it, your suggestion is outlandish.
     While simultaneously adding to his/her risk of breached anonymity?
While offering him/her no anonymity at all in obtaining an up-to-date version?
While still allowing, as another writer has pointed out (sorry, I've deleted
the message and have forgotten who wrote it) already, a tampered client to
send an unaltered copy for checking?
     The tor development team probably doesn't need to know that.  They
already make tor available in forms compatible with the most common systems,
while providing source code for those who need/want to make it work on their
own systems.  For example, tor is available in precompiled bundles for
Micro$lop Windows systems and Mac OS X systems.  It is also available in
forms for easy installation onto several kinds of LINUX systems.  For UNIX
systems other than Mac OS X, it is necessary to download the source and
compile it.  That includes *BSD systems, Solaris systems, and so on.
     I think you really need to spend more time thinking about the
ramifications of what you suggest before posting them.
     In case it is unclear to the casual reader, my statement above was
in reference to any sort of verification of clients any other part of the
tor network.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-29 06:19:21
@_author: Scott Bennett 
@_subject: Version checking (was Re: 25 tbreg relays in directory) 
On Wed, 29 Apr 2009 04:04:42 -0700 (PDT) Tripple Moon
     Thank you for the clarification.  I hope that the rest of what I wrote
in response to your previous message, as well as what a few others have
written, has made it clear to you why those arguments *cannot* be eliminated.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-30 02:15:02
@_author: Scott Bennett 
@_subject: ExcludeNodes doesn't work right 
About a day ago, I added a list of obsolete nodes, mostly running 0.1.*.*
releases, to my ExcludeNodes list in torrc.  One of those was TSL.  I still
see TSL being chosen for routes for circuits.  I've noticed such apparent
violations and commented upon them previously here.
     What I don't yet know is whether I might be misunderstanding what
ExcludeNodes is supposed to do, based upon my understanding of the tor man
page, which says,
ExcludeNodes node,node,...
       A  list  of  identity fingerprints, nicknames, country codes and
       address patterns of nodes to never use when building a  circuit.
       (Example:  ExcludeNodes SlowServer, $ABCDEFFFFFFFFFFFFFFF, {cc},
       255.254.0.0/8)
It seems to me that as soon as I send tor a SIGHUP after adding a node to
ExcludeNodes in torrc, tor ought to begin excluding it from future path
selections and ought also to remove it from its list of chosen entry guards
if it is in that list.  If my understanding of what ExcludeNodes is supposed
to do is incorrect, I'd very much appreciate someone letting me know and also
some advice as to how to accomplish real, immediate exclusion of the node from
any new circuits established by the client side of tor.
     Thanks for any information on this matter.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-06 13:00:16
@_author: Scott Bennett 
@_subject: tor with OpenDNS as default DNS, using Firefox+FoxyProxy 
On Sat, 4 Apr 2009 17:48:45 -0700 (PDT) Tripple Moon
     Yes, that is correct.  The exit relay is supposed to handle all
name-to-addresss resolution.
     You are running tor as a relay, as well as as a client?  Your 3) affects
only relay operations, of course, not client operations.  And, AFAIK, the only
relay operations affected are exit services, so unless you're running tor as
an exit relay, the stuff you did in 3) should effectively change nothing.
     Correct.
     You haven't mentioned your reason(s) for wanting to do such a thing.
I surmise that you do not intend to use tor for anonymity but rather for some
other end, such as tunneling through a firewall.  tor, however, is designed
with the aim of preserving anonymity, so it issues those messages to let the
user/operator know that some application *may* be breaking anonymity.  If
your aim is different from that of tor, you may just have to put up with the
messages.  Given that the messages are logged to a file, if anywhere, is that
a problem?  You don't *have* to look at them, after all.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-06 13:28:06
@_author: Scott Bennett 
@_subject: tor with OpenDNS as default DNS, using Firefox+FoxyProxy 
I just remembered another place that name resolution is involved, still
only for relays, but not necessarily exit relays.  If a hostname+domainname
specification is used on the Address line in torrc, tor will use the resolver
library locally to resolve its own address.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-01 07:51:52
@_author: Scott Bennett 
@_subject: descriptor lost by authorities? 
Good catch, Roger.  I had copied those lines from a
"tail -f /var/log/tor/info.log|fgrep pload" that I keep running in a spare
xterm.  I should have looked into this further before posting.  Looking at the
actual file, as well as /var/log/messages, I see lots of signs that my network
connection may have failed about an hour earlier.  Then /var/log/messages shows
Apr  1 02:14:35 hellas kernel: bge0: link state changed to DOWN
Apr  1 02:14:36 hellas kernel: bge0: link state changed to UP
after which the messages from inadyn(8) complaining that it can't check the
dyndns.org server stop appearing.  The DOWN-UP sequence suggests that Comcast
had a problem covering a wider area than just my connection, fixed it, and
caused a cable modem reset.
     If you still want it, I can send that part to you directly, but I doubt
there's much point in it now.
     Yes, that appears to be what happened in this case.
     That would be great to have!  Upon recognizing a failed upload at the
time of the attempt could cause a retry to be scheduled after a delay of
something less than an hour.  However, there is also another situation to
be looked for that would deal with the problem of the relay forgetting to
post.  Upon receiving a new consensus document more than one hour after the
relay was initialized, the relay should check to see whether its own entry.
If that entry is missing, the relay should immediately attempt to post a
descriptor with current values in it.
     Yeah, all the evidence this time points to a Comcast problem.  My
apologies to the list for the noise.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-12 23:46:40
@_author: Scott Bennett 
@_subject: tor with OpenDNS as default DNS, using Firefox+FoxyProxy 
On Sun, 12 Apr 2009 09:05:07 -0700 (PDT) Tripple Moon
     Okay.
     I think you may be confusing various operations that occur in differing
situations.  Your *tor* client will always attempt to resolve destination names
to addresses via a tor exit reached via a tor circuit.  (Other client software
will, I presume, do whatever it is built and/or configured to do.)  When
attempting to resolve a host+domainname given on the Address line of a torrc
file, a tor *relay* will use the resolver library, which will in turn use the
methods specified in the resolv.conf file named in the ServerDNSResolvConfFile
line in torrc.  A tor *exit* relay will also use this latter method to resolve
host+domainnames and reverse lookups.
     What precisely do you mean by "custom DNS-Servers"?
     If you do this, while simultaneously disabling the detection of name
service hijacking, your exit relay is subject to being given a "BadExit"
flag by the directory authorities.  OTOH, if you leave the hijacking detection
enabled, then tor will automatically update its descriptor at the authorities
to show that it has stopped offering exit service.
     Preventing access to destinations is only appropriately done via proper
specification of your restrictions in ExitPolicy lines in torrc.
     Faking the address resolutions is simply a characteristic of a bad exit
relay.  Faking the address resolution does not alter the tracking abilities
of web sites in the slightest.
     We definitely do *not* need the sort of corruption of service that you
wish to employ.  Please disabuse yourself of such notions.
     I can't make sense out of that at all.
     ??
     They are legitimate warnings in most cases and especially so in what you
appear to be doing.  For an application that uses predetermined IP addresses,
then the messages are indeed superfluous, but they are, after all, just
warning messages, not errors.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-13 00:01:29
@_author: Scott Bennett 
@_subject: tor with OpenDNS as default DNS, using Firefox+FoxyProxy 
On Sun, 12 Apr 2009 09:05:07 -0700 (PDT) Tripple Moon
     I missed this in my latest response:
     Those warning messages are caused by client-side code in tor in response
to requests made to its SOCKS port; they are not issued as a result of your
relay providing exit services.
     Providing such a page as a substitute for a response from the proper
destination is in itself justification for immediate classification of your
exit relay as a bad exit.  *Any* alteration/substitution of data qualifies the
culpable exit relay for a BadExit flag.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-13 12:00:41
@_author: Scott Bennett 
@_subject: exit counts by port number over 61 days 
I thought I'd post the results of a 61-day period of running my exit
node in case they are of interest to others and because some that seem
anomalous to me might then turn up explanations.  The first list is sorted
by port number, and the second is the same list resorted by exit count in
descending order.  Note that three port numbers (80, 1443, and 8080) are
greatly restricted, so those counts should not be considered significant
for many purposes.  If I've counted correctly, my exit policy allows exits
to a total of 328 ports, 10 of which do not appear to have been used during
the sample time period from 10 February 2009 to 12 April 2009.  The counts
are in the leftmost column.
Counts sorted by ascending port number
     492  port 2      compressnet         196  port 3      compressnet
     232  port 4           261  port 5      rje
     109  port 6            76  port 17     quota
    1067  port 20     ftp-data
   32621  port 21     ftp
    7991  port 22     ssh
     906  port 23     telnet
     375  port 33     dsp
 1178147  port 43     nicname whois
       3  port 48     auditd
      18  port 49     tacacs
      92  port 52     xns-time
    1461  port 53     domain
      53  port 54     xns-ch
     205  port 55     isi-gl
      23  port 56     xns-auth
      23  port 63     xns-auth
     121  port 66     sql*net
     993  port 70     gopher
     186  port 79     finger
    2712  port 80(*)  http
    8362  port 88     kerberos-sec
    3877  port 98     tacnews
    4195  port 101    hostname hostnames
     772  port 106    pop3pw 3com-tsmux
    1164  port 108    snagas
    1890  port 109    pop2 postoffice
   30767  port 110    pop3
     187  port 112    mcidas
      23  port 114    audionews
      32  port 115    sftp
      67  port 117    uucp-path
      23  port 118    sqlserv
   62010  port 119    nntp
     126  port 123    ntp
      29  port 126    unitary
      91  port 130    cisco-fna
      20  port 131    cisco-tna
       5  port 132    cisco-sys
       5  port 133    statsrv
      17  port 134    ingres-net
    1073  port 143    imap imap2 imap4
       5  port 144    NeWS
     286  port 150    sql-net
      13  port 152    bftp
      13  port 153    sgmp
      25  port 156    sqlsrv
       1  port 158    pcmail-srv
      29  port 160    sgmp-traps
      22  port 165    xns-courier
      67  port 170    print-srv
       5  port 174    mailq
      13  port 177    xdmcp
      16  port 178    NextStep
      76  port 179    bgp
     128  port 180    ris
     322  port 188    mumps
      21  port 189    qft
       8  port 194    irc
      10  port 209    qmtp
      65  port 210    z39.50 wais
       6  port 213    ipx
      22  port 215    softpc
       7  port 217    dbase
     128  port 221    fln-spx
     561  port 222    rsh-spx
      17  port 223    cdc
      83  port 246    dsp3270
       6  port 258    yak-chat
       8  port 262    arcisdms
       1  port 308    novastorbakcup
      89  port 345    pawserv
       1  port 346    zserv
      12  port 347    fatserv
      10  port 360    scoi2odialog
      66  port 389    ldap
      17  port 396    netware-ip
       4  port 401    ups
       4  port 402    genie
      11  port 406    imsp
  352350  port 443    https
      44  port 453    creativeserver
       1  port 454    contentserver
      26  port 455    creativepartnr
      20  port 457    scohelp
      24  port 458    appleqtc
      23  port 464    kpasswd kpasswd5
    1076  port 465    urd
       1  port 473    hybrid-pop
       2  port 475    tcpnethaspsrv
       3  port 488    gss-http
      82  port 512    exec biff comsat
      14  port 515    printer spooler
       6  port 517    talk
      16  port 518    ntalk
       2  port 519    utime unixtime
       7  port 523    ibm-db2
       5  port 524    ncp
       4  port 525    timed timeserver
       1  port 529    irc-serv
       2  port 531    conference chat
       4  port 532    netnews readnews
      10  port 537    netwall
      19  port 540    uucp uucpd
      59  port 541    uucp-rlogin
       7  port 543    klogin
      71  port 544    kshell krcmd
     129  port 545    appleqtcsrvr
      27  port 548    afpovertcp
     305  port 554    rtsp
      70  port 556    remotefs rfs rfs_server
    7119  port 563    nntps snntp
      18  port 564    9pfs
      53  port 565    whoami
       1  port 583    philips-vc
   20904  port 587    submission
     198  port 591    http-alt
      16  port 592    eudora-set
       5  port 607    nqs
      56  port 614    sshell
       4  port 636    ldaps sldap
       2  port 754    tell
      17  port 758    nlogin
       3  port 760    ns, krbupdate
       6  port 765    webster
      31  port 767    phonebook
       6  port 871    supfilesrv
      28  port 873    rsync
     106  port 989    ftps-data
     127  port 990    ftps
      69  port 992    telnets
    3508  port 993    imaps imap4
      10  port 994    ircs
   30626  port 995    pop3s
     824  port 1025   blackjack
   12187  port 1080   socks
      89  port 1085   webobjects
     154  port 1110   nfsd-status
      76  port 1127   supfiledbg
     105  port 1155   nfa
      35  port 1167   phone
      15  port 1347   bbn-mmc
      44  port 1348   bbn-mmx
      75  port 1351   equationbuilder
     249  port 1352   lotusnote
      29  port 1366   netware-csp
      33  port 1376   ibm-pps
      58  port 1396   dvl-activemail
      73  port 1397   audio-activmail
      44  port 1398   video-activmail
     117  port 1424   hybrid
      80  port 1426   sas-1
     470  port 1433   ms-sql-s
      42  port 1434   ms-sql-m
      28  port 1435   ibm-cics
      61  port 1436   sas-2
      66  port 1443(**) ies-lm
     177  port 1450   dwf
      38  port 1451   infoman
      21  port 1477   ms-sna-server
      62  port 1478   ms-sna-base
      41  port 1498   watcom-sql
     248  port 1501   sas-3
      89  port 1506   utcd
      60  port 1524   ingreslock
      28  port 1527   tlisrv
     144  port 1529   support prmsd gnatsd, coauthor
      70  port 1652   xnmp
     142  port 1661   netview-aix-1
     207  port 1662   netview-aix-2
      40  port 1663   netview-aix-3
      78  port 1664   netview-aix-4
      79  port 1665   netview-aix-5
     254  port 1666   netview-aix-6
      82  port 1667   netview-aix-7
     124  port 1668   netview-aix-8
      66  port 1669   netview-aix-9
      29  port 1670   netview-aix-10
      29  port 1671   netview-aix-11
      34  port 1672   netview-aix-12
    6214  port 1723   pptp
     318  port 2003   cfingerd
     159  port 2007   dectalk
     118  port 2014   troff
     156  port 2019   whosockami
     123  port 2026   scrabble
     303  port 2027   shadowserver
      75  port 2028   submitserver
     270  port 2032   blackboard
      48  port 2033   glogger
      64  port 2034   scoremgr
     106  port 2035   imsldoc
    6129  port 2041   interbase
      91  port 2049   nfsd nfs
      70  port 2105   eklogin
      96  port 2106   ekshell
     946  port 2108   rkinit
    1006  port 2401   cvspserver
     157  port 2600   zebrasrv
      45  port 2601   zebra
      27  port 2602   ripd
      41  port 2603   ripngd
      43  port 2604   ospfd
      49  port 2605   bgpd
      33  port 2606   ospf6d
      34  port 2628   dict
      26  port 2766   listen
      46  port 2784   www-dev
     117  port 3050   gds_db
      38  port 3264   ccmail
    2372  port 3333   dec-notes
    6833  port 3389   rdp
      36  port 3493   nut
     149  port 3653   tsp
      85  port 3690   svn
      50  port 4045   lockd
    1631  port 4321   rwhois
     609  port 4557   fax
      78  port 4559   hylafax
    9625  port 4672   rfa
    1477  port 5002   rfe
   23251  port 5050   mmcc
    5851  port 5190   aol
     548  port 5191   aol-1
      60  port 5192   aol-2
     203  port 5193   aol-3
     736  port 5353   mdns
     816  port 5432   postgresql
      36  port 5713   proshareaudio
     100  port 5714   prosharevideo
      63  port 5715   prosharedata
      95  port 5716   prosharerequest
     148  port 5717   prosharenotify
     629  port 5999   cvsup
    7516  port 6000   x11
    2205  port 6001   x11
    1274  port 6002   x11
     532  port 6003   x11
     314  port 6004   x11
     522  port 6005   x11
     222  port 6006   x11
     137  port 6007   x11
     186  port 6008   x11
     133  port 6009   x11
    2302  port 6010   x11, x1-ssh
     137  port 6011   x11
     227  port 6012   x11
     124  port 6013   x11
      76  port 6014   x11
     111  port 6015   x11
      43  port 6016   x11
      61  port 6017   x11
      93  port 6018   x11
      84  port 6019   x11
     300  port 6020   x11
     158  port 6021   x11
     107  port 6022   x11
     108  port 6023   x11
     155  port 6024   x11
     241  port 6025   x11
     121  port 6026   x11
     101  port 6027   x11
      77  port 6028   x11
      73  port 6029   x11
     152  port 6030   x11
     106  port 6031   x11
      85  port 6032   x11
      92  port 6033   x11
     121  port 6034   x11
     105  port 6035   x11
     294  port 6036   x11
      43  port 6037   x11
      75  port 6038   x11
      53  port 6039   x11
     107  port 6040   x11
      58  port 6041   x11
      71  port 6042   x11
      40  port 6043   x11
     119  port 6044   x11
     126  port 6045   x11
      64  port 6046   x11
      44  port 6047   x11
     280  port 6048   x11
      78  port 6049   x11
     153  port 6050   x11
     121  port 6051   x11
      58  port 6052   x11
      64  port 6053   x11
      24  port 6054   x11
      55  port 6055   x11
      40  port 6056   x11
     135  port 6057   x11
      39  port 6058   x11
     244  port 6059   x11
    5964  port 6060   x11
     167  port 6061   x11
      66  port 6062   x11
      55  port 6063   x11
     950  port 6110   softcm
     849  port 6111   spc
     111  port 6558   xdsxdm
     585  port 6660   [ircd]
     893  port 6661   [ircd]
   10995  port 6662   [ircd]
     337  port 6663   [ircd]
     293  port 6664   [ircd]
    1777  port 6665   [ircd]
    5358  port 6666   [ircd]
   78836  port 6667   ircd
     698  port 7010   afs3-resserver, ups-onlinet
     677  port 7100   font-service
     559  port 8021   ftp-proxy
      45  port 8080(**) bittorrent
    2540  port 9001   [tor-or]
    9437  port 9030   [tor-dir]
     ------------------------------------------------
Counts sorted by descending exit count
 1178147  port 43     nicname whois
  352350  port 443    https
   78836  port 6667   ircd
   62010  port 119    nntp
   32621  port 21     ftp
   30767  port 110    pop3
   30626  port 995    pop3s
   23251  port 5050   mmcc
   20904  port 587    submission
   12187  port 1080   socks
   10995  port 6662   [ircd]
    9625  port 4672   rfa
    9437  port 9030   [tor-dir]
    8362  port 88     kerberos-sec
    7991  port 22     ssh
    7516  port 6000   x11
    7119  port 563    nntps snntp
    6833  port 3389   rdp
    6214  port 1723   pptp
    6129  port 2041   interbase
    5964  port 6060   x11
    5851  port 5190   aol
    5358  port 6666   [ircd]
    4195  port 101    hostname hostnames
    3877  port 98     tacnews
    3508  port 993    imaps imap4
    2712  port 80(*)  http
    2540  port 9001   [tor-or]
    2372  port 3333   dec-notes
    2302  port 6010   x11, x1-ssh
    2205  port 6001   x11
    1890  port 109    pop2 postoffice
    1777  port 6665   [ircd]
    1631  port 4321   rwhois
    1477  port 5002   rfe
    1461  port 53     domain
    1274  port 6002   x11
    1164  port 108    snagas
    1076  port 465    urd
    1073  port 143    imap imap2 imap4
    1067  port 20     ftp-data
    1006  port 2401   cvspserver
     993  port 70     gopher
     950  port 6110   softcm
     946  port 2108   rkinit
     906  port 23     telnet
     893  port 6661   [ircd]
     849  port 6111   spc
     824  port 1025   blackjack
     816  port 5432   postgresql
     772  port 106    pop3pw 3com-tsmux
     736  port 5353   mdns
     698  port 7010   afs3-resserver, ups-onlinet
     677  port 7100   font-service
     629  port 5999   cvsup
     609  port 4557   fax
     585  port 6660   [ircd]
     561  port 222    rsh-spx
     559  port 8021   ftp-proxy
     548  port 5191   aol-1
     532  port 6003   x11
     522  port 6005   x11
     492  port 2      compressnet         470  port 1433   ms-sql-s
     375  port 33     dsp
     337  port 6663   [ircd]
     322  port 188    mumps
     318  port 2003   cfingerd
     314  port 6004   x11
     305  port 554    rtsp
     303  port 2027   shadowserver
     300  port 6020   x11
     294  port 6036   x11
     293  port 6664   [ircd]
     286  port 150    sql-net
     280  port 6048   x11
     270  port 2032   blackboard
     261  port 5      rje
     254  port 1666   netview-aix-6
     249  port 1352   lotusnote
     248  port 1501   sas-3
     244  port 6059   x11
     241  port 6025   x11
     232  port 4           227  port 6012   x11
     222  port 6006   x11
     207  port 1662   netview-aix-2
     205  port 55     isi-gl
     203  port 5193   aol-3
     198  port 591    http-alt
     196  port 3      compressnet
     187  port 112    mcidas
     186  port 79     finger
     186  port 6008   x11
     177  port 1450   dwf
     167  port 6061   x11
     159  port 2007   dectalk
     158  port 6021   x11
     157  port 2600   zebrasrv
     156  port 2019   whosockami
     155  port 6024   x11
     154  port 1110   nfsd-status
     153  port 6050   x11
     152  port 6030   x11
     149  port 3653   tsp
     148  port 5717   prosharenotify
     144  port 1529   support prmsd gnatsd, coauthor
     142  port 1661   netview-aix-1
     137  port 6007   x11
     137  port 6011   x11
     135  port 6057   x11
     133  port 6009   x11
     129  port 545    appleqtcsrvr
     128  port 180    ris
     128  port 221    fln-spx
     127  port 990    ftps
     126  port 123    ntp
     126  port 6045   x11
     124  port 1668   netview-aix-8
     124  port 6013   x11
     123  port 2026   scrabble
     121  port 66     sql*net
     121  port 6026   x11
     121  port 6034   x11
     121  port 6051   x11
     119  port 6044   x11
     118  port 2014   troff
     117  port 1424   hybrid
     117  port 3050   gds_db
     111  port 6015   x11
     111  port 6558   xdsxdm
     109  port 6           108  port 6023   x11
     107  port 6022   x11
     107  port 6040   x11
     106  port 989    ftps-data
     106  port 2035   imsldoc
     106  port 6031   x11
     105  port 1155   nfa
     105  port 6035   x11
     101  port 6027   x11
     100  port 5714   prosharevideo
      96  port 2106   ekshell
      95  port 5716   prosharerequest
      93  port 6018   x11
      92  port 52     xns-time
      92  port 6033   x11
      91  port 130    cisco-fna
      91  port 2049   nfsd nfs
      89  port 345    pawserv
      89  port 1085   webobjects
      89  port 1506   utcd
      85  port 3690   svn
      85  port 6032   x11
      84  port 6019   x11
      83  port 246    dsp3270
      82  port 512    exec biff comsat
      82  port 1667   netview-aix-7
      80  port 1426   sas-1
      79  port 1665   netview-aix-5
      78  port 1664   netview-aix-4
      78  port 4559   hylafax
      78  port 6049   x11
      77  port 6028   x11
      76  port 17     quota
      76  port 179    bgp
      76  port 1127   supfiledbg
      76  port 6014   x11
      75  port 1351   equationbuilder
      75  port 2028   submitserver
      75  port 6038   x11
      73  port 1397   audio-activmail
      73  port 6029   x11
      71  port 544    kshell krcmd
      71  port 6042   x11
      70  port 556    remotefs rfs rfs_server
      70  port 1652   xnmp
      70  port 2105   eklogin
      69  port 992    telnets
      67  port 117    uucp-path
      67  port 170    print-srv
      66  port 389    ldap
      66  port 1443(**) ies-lm
      66  port 1669   netview-aix-9
      66  port 6062   x11
      65  port 210    z39.50 wais
      64  port 2034   scoremgr
      64  port 6046   x11
      64  port 6053   x11
      63  port 5715   prosharedata
      62  port 1478   ms-sna-base
      61  port 1436   sas-2
      61  port 6017   x11
      60  port 1524   ingreslock
      60  port 5192   aol-2
      59  port 541    uucp-rlogin
      58  port 1396   dvl-activemail
      58  port 6041   x11
      58  port 6052   x11
      56  port 614    sshell
      55  port 6055   x11
      55  port 6063   x11
      53  port 54     xns-ch
      53  port 565    whoami
      53  port 6039   x11
      50  port 4045   lockd
      49  port 2605   bgpd
      48  port 2033   glogger
      46  port 2784   www-dev
      45  port 2601   zebra
      45  port 8080(**) bittorrent
      44  port 453    creativeserver
      44  port 1348   bbn-mmx
      44  port 1398   video-activmail
      44  port 6047   x11
      43  port 2604   ospfd
      43  port 6016   x11
      43  port 6037   x11
      42  port 1434   ms-sql-m
      41  port 1498   watcom-sql
      41  port 2603   ripngd
      40  port 1663   netview-aix-3
      40  port 6043   x11
      40  port 6056   x11
      39  port 6058   x11
      38  port 1451   infoman
      38  port 3264   ccmail
      36  port 3493   nut
      36  port 5713   proshareaudio
      35  port 1167   phone
      34  port 1672   netview-aix-12
      34  port 2628   dict
      33  port 1376   ibm-pps
      33  port 2606   ospf6d
      32  port 115    sftp
      31  port 767    phonebook
      29  port 126    unitary
      29  port 160    sgmp-traps
      29  port 1366   netware-csp
      29  port 1670   netview-aix-10
      29  port 1671   netview-aix-11
      28  port 873    rsync
      28  port 1435   ibm-cics
      28  port 1527   tlisrv
      27  port 548    afpovertcp
      27  port 2602   ripd
      26  port 455    creativepartnr
      26  port 2766   listen
      25  port 156    sqlsrv
      24  port 458    appleqtc
      24  port 6054   x11
      23  port 56     xns-auth
      23  port 63     xns-auth
      23  port 114    audionews
      23  port 118    sqlserv
      23  port 464    kpasswd kpasswd5
      22  port 165    xns-courier
      22  port 215    softpc
      21  port 189    qft
      21  port 1477   ms-sna-server
      20  port 131    cisco-tna
      20  port 457    scohelp
      19  port 540    uucp uucpd
      18  port 49     tacacs
      18  port 564    9pfs
      17  port 134    ingres-net
      17  port 223    cdc
      17  port 396    netware-ip
      17  port 758    nlogin
      16  port 178    NextStep
      16  port 518    ntalk
      16  port 592    eudora-set
      15  port 1347   bbn-mmc
      14  port 515    printer spooler
      13  port 152    bftp
      13  port 153    sgmp
      13  port 177    xdmcp
      12  port 347    fatserv
      11  port 406    imsp
      10  port 209    qmtp
      10  port 360    scoi2odialog
      10  port 537    netwall
      10  port 994    ircs
       8  port 194    irc
       8  port 262    arcisdms
       7  port 217    dbase
       7  port 523    ibm-db2
       7  port 543    klogin
       6  port 213    ipx
       6  port 258    yak-chat
       6  port 517    talk
       6  port 765    webster
       6  port 871    supfilesrv
       5  port 132    cisco-sys
       5  port 133    statsrv
       5  port 144    NeWS
       5  port 174    mailq
       5  port 524    ncp
       5  port 607    nqs
       4  port 401    ups
       4  port 402    genie
       4  port 525    timed timeserver
       4  port 532    netnews readnews
       4  port 636    ldaps sldap
       3  port 48     auditd
       3  port 488    gss-http
       3  port 760    ns, krbupdate
       2  port 475    tcpnethaspsrv
       2  port 519    utime unixtime
       2  port 531    conference chat
       2  port 754    tell
       1  port 158    pcmail-srv
       1  port 308    novastorbakcup
       1  port 346    zserv
       1  port 454    contentserver
       1  port 473    hybrid-pop
       1  port 529    irc-serv
       1  port 583    philips-vc
  (*)  Port 80 is restricted to a limited list of IP addresses.
  (**) Ports 1443 and 8080 are each restricted to a single IP address.
     The statistics above immediately bring the following questions to
mind, and I hope someone on the list can provide answers or reasonable
     I suspect that list readers will notice other oddities in the data
presented here.  Please feel free to discuss those, too.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-14 12:40:34
@_author: Scott Bennett 
@_subject: exit counts by port number over 61 days 
On Tue, 14 Apr 2009 15:06:22 +0200 Sven Anderson      That's kind of what I was thinking, too.  However, I'm reluctant to
close the port because it also be used legitimately.  What do you think?
     Hmm...very interesting.  Maybe I should close that one.
     I have no idea what they are using it for.  Does anyone still support
RFS?  A vendor perhaps?  If it might be legitimate, I'll leave the port open.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-16 01:12:52
@_author: Scott Bennett 
@_subject: exit counts by port number over 61 days 
On Wed, 15 Apr 2009 15:00:55 -0700 "F. Fox"      Okay, thanks for that.
     Right.  I think I'll hold off a bit longer to see what other comments
people may make here before I close that port.
     BTW, I am still very interested in reading any comments people may have
regarding patterns or anything else they notice in the exit counts that I
posted here.  I looked for the most obvious stuff, but there may be other
weirder stuff going on involving port numbers that had fewer, yet still
significant numbers of, exits.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-21 03:29:22
@_author: Scott Bennett 
@_subject: Information at exit node. 
On Tue, 21 Apr 2009 09:30:08 +0200 Brent Clark      For starters, the exit node has to have the IP address and port number
to which the stream wants a connection.  After that, the exit node sees all
data passing in either direction as part of the stream.  If those data happen
to be unencrypted, then anything embedded in the data can be collected.  This
latter is why the various recommended tor-related plug-ins for browsers have
been made available.  Each one performs many tasks, including attempts to
disable anything embedded in HTML, JavaScript, Java, etc. from being able to
report originating IP address information or other identifying inforemation
anywhere.  Please see, for example, the following warning.
See also the tor FAQ article, especially section 6, at
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-04-27 05:27:38
@_author: Scott Bennett 
@_subject: 25 tbreg relays in directory 
torstatus currently shows 25 different relays that are all named "tbreq"
and appear to be in China.  I wonder whether these are due to some benighted
user restarting tor after clearing its key files every time, or whether there
may be several that are all owned by one organization.  All but four are
marked as being "offline".
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-10 23:41:29
@_author: Scott Bennett 
@_subject: Comcast throws down gauntlet to residential accounts 
On Mon, 10 Aug 2009 15:09:23 -0400 Praedor Atrebates      That is a good attitude to take when you run a tor relay in a vicinity
where there is an adequate number of competing ISPs with diverse policies,
so that if one gives you trouble, you can quickly jump to another.  But I'm
afraid that where I live it will just get you disconnected from the Internet.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-02 21:45:23
@_author: Scott Bennett 
@_subject: copyright abuse through tor 
On Sun, 02 Aug 2009 20:27:21 +0200 Jirka Svoboda      This is very interesting.  I wonder what constitutes "an information
society" and "an information society service" in the legal senses used above.
     Unless one also lives under a government that dislikes dissent and
dissidents, of course. :-)  China and Iran are, unfortunately, not the
only ones.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-10 23:55:37
@_author: Scott Bennett 
@_subject: Comcast throws down gauntlet to residential accounts 
On Mon, 10 Aug 2009 15:33:10 -0400 Ted Smith      I believe you are.  Martin is correct in that the surest way to kill
freedom on the Internet is to apply socialist economics to it.  It is
probably also the best way to ensure governmental abuses of users of the
Internet (see, for example, communist China or Cuba and, in the most extreme,
North Korea, where the Internet doesn't really exist, for all practical
     What Martin misunderstood is what I object to, which is fraudulent
or otherwise deceptive marketing practices, as exemplified by Comcast.
Time-Warner may also soon join Comcast in this regard, if it hasn't already.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-11 00:14:55
@_author: Scott Bennett 
@_subject: unsubscribe or-talk 
On Mon, 10 Aug 2009 17:42:56 -0400 Michael Cozzi
     Actually, most/all of what he posted was a quotation without citation
of me from several weeks ago, IIRC, when yes, I had had a bad day.  However,
it doesn't matter whether a person is familiar with majordomo, listserv, or
other mailing list software.  What matters is whether they can read and
bother to do so.
     FWIW, I responded privately to the OP in the current case, quoting and
undercareting the header in question and asking him to unsubscribe himself.
He then wrote back, asking me how to do it!  So I wrote once again, stating
that I couldn't believe it, this time placing a large, vertical arrow below
the undercareting and pointing upward toward it.  That time he finally got
it.  Sigh.  If you can think of any excuse for that, I'd love to read it.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-11 00:31:26
@_author: Scott Bennett 
@_subject: Comcast throws down gauntlet to residential accounts 
Jon, Martin, et al.:  please stop double-posting.  There is only
one or-talk mailing list, even though it has two addresses.
     Thanks.  I would indeed like to switch to Verizon, which gets good
reviews around here for its Internet services.  The hangups for me are
the money involved and the fixed-term contracts.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-11 00:41:27
@_author: Scott Bennett 
@_subject: Comcast throws down gauntlet to residential accounts 
On Mon, 10 Aug 2009 20:48:10 -0400 Ted Smith Ted, please stop doing that.  Only one copy of each message need be
posted to the list.
     Time for you to do some research off the list.  Start by looking up
the definitions of the terms "positive rights" and "negative rights".
They are not interchangeable.  You will see that the former is actually
a misnomer referring to a power, not a right, of someone to violate the
latter of someone else.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-11 00:45:55
@_author: Scott Bennett 
@_subject: Comcast throws down gauntlet to residential accounts 
On Tue, 11 Aug 2009 07:54:22 +0300 "Robas, Teodor"
     How would slower speeds avoid Comcast's port scans?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-11 01:43:44
@_author: Scott Bennett 
@_subject: Comcast throws down gauntlet to residential accounts 
On Tue, 11 Aug 2009 01:10:41 -0400 Ted Smith      Am I, indeed?  Let me see now...would that Sweden and Estonia happen
to be the same Sweden and Estonia that are members of the European Union,
that lovely organization issuing various directives requiring member states
to institute legislation and regulation inimical to freedom on the Internet?
Like the legislation in Germany that has caused so much consternation on
this list?  As for Iceland, no, I'm not ignoring it, but I know nothing about
its Internet situation at present.  (But isn't this also the same Iceland that
has been uprooting and ejecting foreigners by virtue of revoking or refusing
to renew work visas en masse lately because their socialist programs have
run them so far into debt that they now have mass unemployment far exceeding
what is happening in the U.S. during the worldwide economic downturn?)
     BTW, do you remember when all of Finland's Internet access was funneled
through a single 56 Kbaud leased line, while mere universities all over the
U.S. were adding extra T1 lines to what they already had?  Worse yet, the
U.S.S.R.'s Internet access at that time was relayed through Finland, IIRC.
     I was using some of the strongest examples, of course, but I probably
could as well have referred to member states of the European Union, I suppose.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-15 17:33:27
@_author: Scott Bennett 
@_subject: How can I set going more one Tor daemons? 
Each instance will also need its own SocksPort and ControlPort.
     Running more than one sounds like a loss of some of the anonymity to
me, particularly if each user specifies different lists of nodes to be used
for various purposes.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-19 23:06:32
@_author: Scott Bennett 
@_subject: bad exit node 
The above is not a valid identifier.  It appears to be missing one
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-19 23:59:44
@_author: Scott Bennett 
@_subject: Scott made me do it. 
Hmmm...I'm not too sure that I should be blamed for this, but
     On Tue, 18 Aug 2009 23:26:44 -0400 Andrew Lewman      Thanks, Andrew, for posting these results.  They are certainly
interesting and helpful.
     To get back to your question of why we need a proxy between a browser
and tor, though, I would like to point out once again that privoxy has a
lot of good, rule-based filtering.  I especially appreciate the filters'
ability to block out well over 90% of the advertising on the web, while
leaving the viewer the options to see why an object on a page was blocked,
assuming that one can make heads or tails of the peculiar Martian dialect
in which the filter rules are written, and to go ahead and show the blocked
object anyway.
     I have not used polipo ever and therefore cannot make any intelligent
comments about its usefulness as an intermediate proxy.
     I think Kasimir's torstatus pages suffer from something quite similar.
     All of the above look good.  However, one obvious set of tests does
not appear above, namely, to test the use of the various proxies without tor.
This would allow more direct comparisons of the proxies' performance without
the circuit-dependent variability one sees when using tor.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-21 13:06:37
@_author: Scott Bennett 
@_subject: Scott made me do it. 
On Fri, 21 Aug 2009 09:44:33 -0400 Andrew Lewman      The longer it has been since a page was last fetched, the more likely
it is to have changed.  Long-term cacheing just means you'll never see the
changes until after you start a new session, which strikes me as very
undesirable behavior.  Where cacheing can pay off is in the page headers,
sidebars, etc. that tend to be repetitive features across many/all pages
at a particular web site that get fetched by their own URLs.  Cacheing of
whole pages is a waste of time at best and badly misleading at worst.
     Well, I suppose torbutton doesn't count as a proxy, but wouldn't it
fail the test you propose above?  Granted, torbutton filters at a content
level rather than at a URL/host+domainname level, whereas privoxy is active
on both levels, but torbutton does very effectively filter all sorts of
stuff most of us don't want to run in our browsers.  (I use both privoxy and
torbutton and find the combination very satisfactory.  They rarely leave much
for AdBlockPlus to trash.:-)
     When privoxy blocks an advertisement or a page, it leaves links that
allow the user to override privoxy's decision immediately and to see which
rules were involved in blocking the fetch.  In other words, it's not really
censoring, but rather editing for convenience.  Its filtering is also very
configurable, provided you're willing to devote the time necessary to learn
its very peculiar dialect of Martian (not as cryptic as the sendmail
configuration dialect perhaps, but still highly unattractive).
     And it's not as though the tor project didn't advocate the use of other
filtering packages already, like the NoScript and AdBlockPlus plug-ins for
firefox, although it's true that they are plug-ins and not proxies.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-21 20:15:14
@_author: Scott Bennett 
@_subject: Annoying loop situation 
On Fri, 21 Aug 2009 20:16:39 -0400 Roger Dingledine      Bob might try adding another plug-in to firefox, say, switchproxy or
foxyproxy.  (I think there's at least one other around, too, but I don't
recall its name.)  Having another plug-in that is really dedicated just to
choosing which proxy configuration should be active at the moment might
help him get around some of the problem.  These plug-ins also allow the
user to set up a variety of proxies/proxy configurations to choose from
while using firefox.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-22 08:01:26
@_author: Scott Bennett 
@_subject: Annoying loop situation 
On Sat, 22 Aug 2009 12:27:22 +0100 Bob Williams
     You could run two instances of privoxy if you like, each with its own,
separate configuration file, one of which forwards everything to tor's SOCKS
port and the other of which does not.  Then use switchproxy or foxyproxy or
some other similar plug-in to switch between the two instances of privoxy.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-04 03:26:27
@_author: Scott Bennett 
@_subject: Please help me test my hidden service 
On Mon, 03 Aug 2009 16:42:57 -0400 Ringo <2600denver at gmail.com>
     I trust that, once you have figured out how to make it work properly,
you will generate new keys for your currently not-so-very-hidden service,
now that you've identified the connection between the URL above and yourself.
     For that matter, it's probably best *not* to run most kinds of hidden
services on tor relays precisely because tor relays are well known through
the directory.  Running a hidden service on a client-only tor would be the
safest way because clients are not listed anywhere as such.  There might be
a place for running a hidden service on a bridge, but it would have to be
for something not terribly dangerous to the hidden service operator because
bridges *are* known to the bridge authorities and thus must be considered to
be listed somewhere.  Something like a web service that is also accessible
directly and publicly and that presents no known danger to its operator (e.g.,
the various tor status pages) can reasonably be run on a tor relay node,
a bridge, or a client.
     Best you learn how to protect your butt *before* opening it up to the
world, no?  Have you thought about running your service inside a jail or a
virtual machine?  That would make it much easier to wall it off from the
rest of your computer and home network.
     Again, a jail or a VM would help you contain any damage, and a backup
of the jail's or VM's environment would make it very easy and fast to
restore it to the way you set it up.
     A jail or a VM can certainly help you there by limiting the ability
of shell accounts to access the world at large, especially when combined
with the application of a decent packet filter on the host system.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-04 03:40:11
@_author: Scott Bennett 
@_subject: frequent empty/closed connections 
On Mon, 03 Aug 2009 09:21:53 -0400 The Doctor      Sometimes it takes several reload attempts to get it to work, though.
It also thoroughly bollixes automatically refreshed pages like the small
GOES East images I like to keep handy and updated to most recent half hour.
Any other automated accesses, such as through curl, wget, et al. are also
screwed when it happens.
     If someone has an idea of how to prove that the problem is in privoxy
and not in tor, I can try to file a bug report there.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-02 15:05:53
@_author: Scott Bennett 
@_subject: Issue creating a private tor network 
On Sun, 2 Aug 2009 19:12:11 +0200 Cedric Foll      Have you looked in the cached-consensus file on or1 to see whether
it shows at least three nodes that can be used to construct a circuit?
Make sure that what you think is your current tor network configuration
is matches that the client on or1 thinks it is.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-08-10 13:39:44
@_author: Scott Bennett 
@_subject: Comcast throws down gauntlet to residential accounts 
I'm not spitting nails now, so I guess I've calmed down enough to post
this message.  Friday, while waiting for Comcast to get its act together to
deal with registration problems involving the replacement cablemodem they
brought here (still not resolved), I received the monthly call from their
insecurity division, claiming that my computer was "infected with malicious
software".  Yeah, right.  I informed the person that their monthly harassment
calls about something they obviously knew nothing about were not appreciated.
To date, they have never provided so much as an IP address or a port number
that supposedly had been attacked in any way from my system.  The person then
claimed that my system had been "connecting to botnets", but was unable or
unwilling to support that claim with any evidence and unable or unwilling
to provide even a port number via which the alleged connections had been
made.  (All of the port numbers allowed in my exit policy are reserved port
numbers by IANA or are tor-related ports or are other special purpose ports
limited to particular IP addresses, so they are all legitimate.)  That leaves
only DoS attacks, and it is difficult for me to imagine conducting any
effective DoS attacks via tor because of slowness of doing anything over tor.
I repeatedly offered to close any exit ports that had been affected, but that
they would have to tell me which ones those were.  The person refused.  I was
also told that IP addresses of the supposedly attacked systems or of the
supposedly contacted botnets could not be provided to me either.  (It was not
clear whether the alleged complaints came from the alleged botnet operator(s)
or from the supposed targets of the alleged botnets, but it struck me as
bizarre that a botnet operator would file a complaint with an ISP alleging
interference with the botnet.  I'm quite suspicious that Comcast has made the
whole thing up out of thin air.)
     Next, the conversation took a turn in a different direction.  I was told
that port 443 (my relay's DirPort) was "open facing the Internet", i.e., that
a program was actually listening on that port via the interface that connects
to the cablemodem.  I was told that having *any* ports "open facing the
Internet" was a violation of Comcast's Acceptable Use Policy (AUP) for
residential accounts.  During this part of the conversation I told the person
to look at   This turned out to be a mistake, probably
because the web pages there have never been updated to replace the client-
server terminology with router terminology, so the person was immediately
convinced that I was running a "server", which the person claimed was a
violation of the AUP.  This means, of course, that one cannot even run sshd
on one's system to allow secure logins from other locations to one's own
computer.  I was told that I would need to upgrade to a Comcast business-class
account if I were going to run a "server", by which they meant having any
program(s) listening on ports accessable from the Internet.
     Please note that Comcast is now running port scanners against their
customers' IP addresses to determine whether anything is listening on any
ports at those addresses.  The person I spoke with did so while talking with
me, but had already seen port scan results before calling me.  I do not know
whether they scan the full range of possible port numbers or only a subset.
The person kept mentioning that 443 was "open", but never mentioned 995,
which was the ORPort and was getting the vast majority of the traffic.
     The net result of that conversation was that I had the choice of shutting
down my relay, MYCROFTsOtherChild, or having my account terminated for a
minimum of 12 months.  I chose the former, at least while I investigate other
options, of which there are only two or three at my location.  A minimal
Comcast business account will cost $60/mo. and require either a 12-month
contract with an installation fee of over $200 or a 24-month contract with
no installation fee.  However, the Comcast business service does not *yet*
have a monthly cap, whereas I've had to throttle my relay quite severely the
past several months due to Comcast's bait-and-switch of last year when the
service sold as being "unlimited" suddenly got a 250 GB/mo. cap imposed last
October.  (Currently, I pay $40/mo. + $3/mo. for cablemodem rental and have
no contract.)
     Verizon residential service is only available at my location if I also
buy their telephone service, the combination of which would cost ~$80/mo. and
also require a 12-month contract.  I have yet to get the details on Verizon
business-class service, but it seems unlikely to be any cheaper.  Verizon's
residential service does not currently have a cap, but I don't know whether
they prohibit listening on ports accessable from the Internet.
     I exist on a shoestring, and even an increase of $17/mo. will come out
of my food intake each month, which already averages about 1.5 meals/day.
If I can manage to revive MYCROFTsOtherChild in the near future, I will do
so, but I don't yet know whether that will be feasible, and it may take a
while to make it happen even it can be done.
     Meanwhile, I see my Comcast addresses of relays on the tor status page,
and I suspect that not all of them are on Comcast business accounts.  If you
are a tor operator on a Comcast residential account, be advised that your
relay's days on that account are probably numbered, so you ought to begin
looking for a different arrangement before they call to threaten you, too.
Now that Comcast has become one of the 800 lb. gorillas among ISPs in the
U.S., it has apparently become an enemy of Internet growth, probably to
preserve its market share without having to invest competitively to keep up
with growth.  They apparently do not run Quality of Service software on
their routers, which is part of the reason they think they need to have a
250 GB/mo. cap on residential accounts, the other part being their presumed
need to inhibit Internet growth.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-12-26 23:52:53
@_author: Scott Bennett 
@_subject: TOR and ISP 
On Sat, 26 Dec 2009 17:21:01 -0800 Seth David Schoen      On the contrary, in the United States, all ISPs are *required* by
statute to record all URL requests that can be detected passing from their
customers through their equipment.  I doubt that they provide this information
to private individuals, and doing so may well be prohibited by ECPA, but they
can be required to submit their logs of this information to statute
enforcement agencies.  (N.B.  I use the term "statute", as opposed to "law",
because any statute that is contrary ("repugnant" is the word used by the
Supreme Court) to the Constitution for the United States of America is not
and cannot be law.)
     The key here is that the ISPs not only cannot detect encrypted URLs,
they cannot detect what the user is doing, not even whether the user is
trying to connect to a port or is simply transmitting packets over an already
open connection or is closing a connection.  They cannot detect the
destination address or port number.
     If the OP had bothered to read any of the tor documention, he would have
known that this is fundamental to tor.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-12-27 01:09:16
@_author: Scott Bennett 
@_subject: TOR and ISP 
I failed to note that my reply to Seth's query below went only to him,
so I'll append it below.
     On Sat, 26 Dec 2009 22:59:53 -0800 Seth David Schoen      My recollection is that it was part of the nefarious USAPATRIOT Act,
though I could be mistaken on that.  IIRC, this was discussed on OR-TALK
a very long time ago.  If the archives had a search mechanism, it would
certainly make it easier to track old matters down.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-12-27 04:24:51
@_author: Scott Bennett 
@_subject: doesn't take long for the dmca's notices to start rolling in.. 
On Sun, 27 Dec 2009 04:26:05 -0500 Mike L      Have you asked your provider for a list of IP addresses that you should
exclude from your exit policy?
     Someone else can answer that, or you can dig through the archives to
find the companies mentioned on this list in the past.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-12-27 09:17:40
@_author: Scott Bennett 
@_subject: TOR and ISP 
Then you must have missed reading the Subject: line of the message. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-12-27 09:27:42
@_author: Scott Bennett 
@_subject: TOR is for anonymization; so how to add encryption as well? 
Please, please, please read the material at the torproject.org web site.
Then read the documentation.  The developers have put a lot of time and effort
into writing good documentation for us to read and understand.  An awful lot
of the questions you have been flooding our in boxes with, including the
questions in your message above, could have been avoided by your taking *your*
responsibility to read the documentation that has been provided to you.  Note
further that the bulk of the documentation was installed onto your own
computer as part of the tor installation.  Please read it.
     Once you have done your homework, people on this list will be much
happier to address any questions you still have after you do your part.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-12-28 21:12:10
@_author: Scott Bennett 
@_subject: Vidalia Bundle and RSS in Thunderbird 3.0 
On Mon, 28 Dec 2009 16:15:01 -0500 Andrew Lewman      Does Thunderbird perchance have a way to set the timeout to a different
     I thought that, pursuant to a discussion here last year or the year
before, the default exit policy was changed to allow the smtps port.  Did
that change not get made after all?
     Does it have a way to choose SOCKS 4A instead of SOCKS 5?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-12-06 23:22:01
@_author: Scott Bennett 
@_subject: [OT] web site for annual surveillance states conferences 
Here's some food for thought.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-12-08 06:07:03
@_author: Scott Bennett 
@_subject: US Customers: anyone helping me? 
Uh...hmmm...on what basis does Sun claim generation of "true" random
numbers?  Unless it includes a sample of some radioisotope and a timestamping
particle detector, why would hardware/firmware RNG output be any less
pseudo-random than software RNG output would?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-12-14 15:13:52
@_author: Scott Bennett 
@_subject: attempt from Taiwan to connect to my privoxy port 
The vast majority of illegitimate connection attempts blocked by pf on
my system come from mainland China.  Many are for ports 22 (ssh) and 23
(telnet), but they are often for other ports, too, many unregistered.  A bit
over a half hour ago, a new twist was logged:
2009-12-14 14:38:42.962522 rule 6.logscanners.0/0(match): block in on bge0: 60.244.101.74.12200 > 98.227.217.160.8118: [|tcp]
Are other tor users seeing connection attempts to their privoxy ports from
machines in other places?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-12-16 08:40:31
@_author: Scott Bennett 
@_subject: [OFF LIST] Re: attempt from Taiwan to connect to my privoxy port 
Be sure to note the date of the RFC, too.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-02-11 22:59:02
@_author: Scott Bennett 
@_subject: Some Bones to Pick with Tor Admins 
On Wed, 11 Feb 2009 20:16:08 -0500 Praedor Atrebates      Well, mailing list postings should not assume that subscribers to the
list use any particular email reader.  The best way to do that is to use
plain, ASCII text for mailing list postings.
     I am using mailx(1), but the cause of the problem is at your end, not
here.  You are the one posting entire paragraphs on single lines, after all,
not I.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-12 06:36:48
@_author: Scott Bennett 
@_subject: Some Bones to Pick with Tor Admins 
On Thu, 12 Feb 2009 07:12:22 -0500 Praedor Atrebates      Ah, I see.  LINUX bigotry somehow justifies your position that everyone
on a mailing list should use whatever practices they want without regard for
compatibility with the rest of the list's subscribers because all other
subscribers should magically be aware of your choice of software and usage
and comply with your choice, not to mention have authority to install such
software on systems where they get email, rather than use that greatest common
factor of all mail interfaces, plain ASCII text.
     Fine.  You top-post, too, so I should never have bothered to read, much
less respond to, your message in the first place.  I'll avoid that mistake
with your postings in the future.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-13 05:55:30
@_author: Scott Bennett 
@_subject: Tor speed 
What sort of speed limit do you refer to above?  The hardware limit?
The torrc limits?
     It doesn't really work quite like that.  Remember first that tor
packetizes everything into "cells", which are the tor protocol analog of IP
packets, so cells being sent out to other ORs are queued according to the
next OR.  Incoming cells arrive, go through any required encryption/decryption,
and get queued for the next place they are supposed to go.  tor attempts to
empty its output queues as fast as possible, but can only send just so much
across a connection before the next OR has to accept those arriving cells or
send back the equivalent of a "source quench" command.  A particular circuit
or a particular stream doesn't get prioritized relative to other circuits or
     I know nothing about what ISPs offer in your neck of the woods, but in
the U.S., nearly all Internet connections through ISPs are asymmetric and
have a reception capacity that is several times as great as their transmission
capacity.  If you have a similar situation, then the chances of your own use
of tor slowing down its performance when you are just web browsing are slim to
none because you will basically be using reception capacity that was not in
use before that.  When asymmetric links are used, tor tends to have very
similar average input and output rates.(*)
     Which node?  Yours?
     It sounds like you could use a brief review of statistics and probability
to understand why your traffic levels might fluctuate as much you you say they
do.  Also, there are serious problems with the way peak data rate statistics
are handled by both tor relays and tor directory authorities that result in
poor overall quality of the values published in the directories that, in turn,
leads to less than optimal distribution by clients of their circuits over the
nodes available at any given time.  In any case, a tor client uses the
perceived distribution of capacities among the various nodes in selecting the
sequence of nodes to be used in building a circuit, so even if the reported
statistics were much better, there would be quasi-random fluctuations in
traffic levels all the time.  My relay currently runs between ~60 KB/s and
~360 KB/s most of the time, once it has been up and running long enough, but
does occasionally spike above 500 KB/s.
     Any given stream in tor is subject to an entire hierarchy of potential
delays, some of which are even stacked one on top of another.  For example,
at the bottom level, there are potential bottlenecks in your local connection
to your Internet link, in that link to your ISP, in the series of hops from
your ISP to the other OR's ISP, and from that ISP to the OR at the other end
of that TCP connection.  Over that bottlenecked route your tor client builds
a circuit hop to that OR, so if the circuit being built is sharing that TCP
connection with other circuits, then it is subject to any bottlenecs at the
level below.  Your client then builds another circuit hop to the next OR selected for the circuit.  If the OR at the end of the first hop already has
a TCP connection open to the next OR, extending the circuit to the second OR
can proceed fairly quickly, yet still requires another onion skin to be
encrypted by your client and decrypted by that second OR.  However, if the
entry OR does not already have an open connection to the second OR, it must
make one before you client can talk to the second (middleman) OR.  That can
add delay, too.  Repeat all that for the third (exit) OR.  At each step of
the way, the circuit being built may have to conpete with other circuits
served over one or more of the TCP connections between ORs that your circuit
is traversing.  Worse, once your circuit has been built you may have multiple
streams sharing the circuit, which then may share hops with other circuits.
     So the competitions and overheads occur at pretty much every level of
the system.  There is apparently a plan to stop using TCP connections between
clients and ORs and between different ORs, using UDP instead.  By reinventing
TCP within tor, the proponent(s) believe they can achieve better overall
performance, even though they lose the basic operating-system level of support
for reliable delivery in the process and I think they lose one layer of
encryption, as well.  They may be correct about that, but I am still wondering
why UDP has been chosen over SCTP, which looks to me as though it would
provide just about anything alternative that might be useful in improving
throughput, reliable delivery, and signalling, but that is a question that
no one has responded to so far.
(*) An exception, of course, exists when a relay is also a directory server,
in which case, its transmission rate may often exceed its actual reception
because the actual reception rate is limited by how fast that input can be
relayed to the next OR or exited to a destination, and that transmission
rate limit is being shared with the directory service transmissions.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-13 07:27:10
@_author: Scott Bennett 
@_subject: Tor speed 
On Fri, 13 Feb 2009 05:56:44 -0600 Drake Wilson      True enough, but isn't SCTP supposed to handle many streams inside
a connection at once?  And it looks like it would also provide an
equivalent of RDP, which could be used for various kinds of signalling
between the two instances of tor that were connected, all within the
same connection.
     It's also true that network interfaces can only read/write one
packet at a time.  Your point is?
     Exactly.
     But I don't think reimplementing all of that over UDP is necessarily
the optimal way to go about it.
     Such as?  A list of pros and cons is the kind of elaboration I've
been hoping to get.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-03 19:04:16
@_author: Scott Bennett 
@_subject: Time Warner bad / VPS recommendations 
:-)  Indeed, although there would undoubtedly still be the hundreds of
thousands or millions of other services that would no longer be accessible
via tor.  I am also still pondering the implications/possibilities stemming
from something I had never pieced together from the tor documentation until
someone pointed it out on this list a while back:  hidden services can be
offered from client-only instances of tor; relay mode is not necessary to
run a hidden service.
     However, back to the OP's problem...were potential exit policy changes
suggested in the conversation(s) with Time-Warner?  Others on this list have
satisfied their ISPs by rejecting exits to the ports that were attacked, in
some cases, rejecting those ports only for certain IP addresses.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-15 14:56:41
@_author: Scott Bennett 
@_subject: Excludenodes not considered? 
On Sun, 15 Feb 2009 10:54:56 -0500 Nick Mathewson      A minor correction here:  whois works just fine for that purpose,
provided it is given an IP address, not a domain or host+domain name.
When you ask it about an IP address, it typically gives information
about the assignee(s) and about *all* of the address spaces allocated
to the same assignee(s), which can sometimes be a nuisance.
     BTW, in counting exits by port number, I typically see that the
most heavily used service is port 43, the "whois" port.  (I allow only
a few IP addresses on port 80, so it doesn't count.)  The second most
frequently used port is 443 ("https"), which I had expected to be in
first place, not second.  If anyone has ideas why exits to port 43 are
roughly twice as frequent as exits to 443, I'd be interested.
     That might be the OP's problem.  I know that on my FreeBSD 6.3
system, tor has never admitted to finding the file, even though it is
installed *and* I added at least one other link in a location where I
hoped tor might see it.  FWIW, I'm running 0.2.1.12-alpha.  However,
this version and 0.2.1.7-alpha, which was the last version I used,
do not issue the complaint that the file is missing upon startup, so
maybe the recent versions are indeed finding the file and just not
commenting on the matter.  If tor is finding the file now, I still
don't know whether it's finding the file in the installed location or
via an extra link that I made.  In any case, it doesn't seem to be an
impediment to tor functioning in any other respect, so I haven't really
worried about it much.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-15 15:13:03
@_author: Scott Bennett 
@_subject: Impressive Vacheron Constantin for a loved one 
On Sun, 15 Feb 2009 13:09:22 -0500 downie -    [remainder deleted  --SB]
     You didn't say which domain name you reported nor to whom you
reported it nor what you mean by "suspension".  According to the IP
address in the headers, the source domain name was veloxzone.com.br,
which has been blacklisted at  for many years
already for failure to provide properly functioning addresses for
"postmaster" and "abuse". It's also on the "dsn" list at the same
     BTW, I note that your address is at hotmail.com, a site that is
also on the "abuse" and "postmaster" blacklists.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-16 01:36:20
@_author: Scott Bennett 
@_subject: [OT]RE: Impressive Vacheron Constantin for a loved one 
On Sun, 15 Feb 2009 19:45:42 -0500 downie -      That clarified nothing.
     Once again, you've posted something meaningless to this list.  You
have not identified either the domain that you claim has been reported
or the alleged registrar for that domain.  The last time I responded to
your note, I pointed out that the IP address of the source of the junk
mail message was at veloxzone.com.br.  I trust you have not tried to
create trouble for one of the victims, namely, freehaven.net.  In case
you haven't noticed where the OR-TALK list is distributed from, you
ought to.
     FWIW, if you think an Internet Domain Name registrar is going to
de-list the domain name of an ISP for offenses committed from the
computer of one of that ISP's subscribers, then you have a small
learning experience ahead of you. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-16 09:38:42
@_author: Scott Bennett 
@_subject: use of SCTP in volunteer relay networks (a bit off-topic) 
On Fri, 13 Feb 2009 08:06:23 -0600 Drake Wilson      I see that someone has since responded to that by pointing out the
tor roadmap.
     Not at all.  It's what I asked for. :-)
     The above is, of course, true right now, but the problem may well
fade away over the next few years, now that SCTP is an official protocol
for the Internet.  W.r.t. electronics store routers, one only need note
the huge numbers of 802.11(draft)n devices being sold these days.  People
want the new stuff, even when there is no official standard and even when
most of those customers will not benefit from the higher data rates and
larger areas of coverage.  I'm not sure what to do about NAT, but how
would that be any different from the current situation?  As long as the
various packet filtering systems (pf, ipf, ipfw, ipfilter) are upgraded
to deal with SCTP, we ought to be able to handle that sort of thing
somehow.  So far, no one has been thinking about supporting SCTP over
SCTP [gasp!], just TCP over SCTP.  NAT also might prove pretty much
obsolete/unnecessary in IPv6, as well.
     There will undoubtedly be a transitional period while we wait for
people to upgrade their software, but that's true already with the move
to IPv6.
     That does sound nasty, but probably no worse than TCP over UDP.
     Yes, it's already in FreeBSD 7 and will probably be significantly
improved in FreeBSD 8.  I don't use LINUX, so I can't comment on that.
(LINUX folks, please chime in!)  I don't think OpenBSD has it yet, but
can't swear to it.  NetBSD I have no idea about.  It's reasonable to
assume that both will sooner or later if they don't have it now, especially
given the amount of code sharing that goes on between the different BSD
and MacOS X teams all the time.  (OpenBSD and NetBSD folks, please let us
know, too!)
     Even Micro$slop has to support protocols eventually, but yes, I
would expect problems from that quarter temporarily. :-(
     Thank you very much.  You're the first to respond to my queries
regarding SCTP as a possible addition to tor, eventually replacing TCP.
     Me, too. :-)
     On the contrary, I asked it here because of the current plans to
replace the current TCP-over-TCP setup in tor with a TCP-over-UDP
implementation.  SCTP looks so much more versatile and has so many
features that seem just what tor would need, that I raised the question
here about why the developers chose UDP for their roadmap instead of
SCTP.  It seems as though the switch to UDP would take quite a bit of
time anyway and would most likely require supporting the current setup
in parallel for some time to accommodate the transition once the new
setup were working.  SCTP ought to be more widely supported by then,
so why not choose it now instead of UDP, especially if tor might later
need to switch to SCTP anyway for performance or other reasons?
     Thanks again for your information.  All in all, it doesn't sound
nearly as bad a situation as I might have feared; rather it sounds much
more like the hangups are mainly over being among the early birds to
use SCTP.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-17 02:30:15
@_author: Scott Bennett 
@_subject: Geoip information 
On Mon, 16 Feb 2009 23:03:02 -0800 coderman      No need to double-post, coderman. :-)
     Thanks for point that out on the list.  Everything accepted in my
exit policy is listed in /etc/services as modified to conform to the official
list of allocated TCP ports, except for a few tor-related ports (reject *:9051,
accept *:9001, accept *:9030), and I wasn't aware that the geoip project had
appropriated a port for its own use.  I've now added
ExitPolicy accept 128.213.48.13:1443
to my torrc, and it has just now been published.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-17 03:00:57
@_author: Scott Bennett 
@_subject: Bittorrent 
Really?  I know that seems to be in accord with the received wisdom
on this list, but I, for one, no longer make that assumption.  For one thing,
my node spends most of the time handling somewhere between 15% and 50% of its
proven data rate capacity.  Occasionally it may sustain on the order of 70%
or 75% for up to a few minutes at a time.  Also, the torstatus page now
frequently shows many more nodes that have peaked at over 5,000 KB/s (14 the
last time I checked, which was a few hours ago), over 80 that have peaked
at over 1,000 KB/s, and over 120 that have peaked at over 512 KB/s.  Those
amounted to slightly over 10% of the total population of nodes on the torstatus
page at the time.  I'd happily wager that the majority of notes active at any
given time are underworked like mine typically is.  And the capacity of the
existing nodes seems to be increasing month by month, even if the total count
of active nodes seems now to hover mostly in a limited range of 900 - 1200
or so.
     I'm not encouraging people to make a habit of transferring lots of large
files through tor frequently yet, but if someone needs/wants to do so once in
a while, I think we can accommodate them.  Remember, too, that such transfers
provide quite a bit of cover traffic for those who need the cover.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-17 03:45:35
@_author: Scott Bennett 
@_subject: Whats the use of country.sh? 
On Tue, 17 Feb 2009 01:34:59 -0800 "Germershausen"
 double-top-posted:
     Please *stop* double-posting!
     The pot referring to what it thinks is the kettle, eh?
     This is really uncalled for, IMO, and helps nothing.  Please take it
elsewhere.  Besides, Olaf writes far more literately.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-17 03:59:54
@_author: Scott Bennett 
@_subject: another reason to keep ExcludeNodes 
I just read Roger's message from July 2006 on playing down the use of
ExcludeNodes and maybe eventually eliminating it.  I encountered a reason
to use it not long ago that doesn't seem to have been mentioned.  I noticed
that certain image files that are frequently updated and that I look at many
times a day were getting truncated at random points in the files.  After a
little bit of investigation it turned out that one particular relay was
always in a circuit that truncated those files, so I added it to my
ExcludeNodes list.  And voila' complete images from then on.
     I oppose elimination of ExcludeNodes.  I would appreciate a fix for the
bug whereby ExcludeNodes fails to remove an entry guard from use if it was
already a guard before it was excluded.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-17 13:05:09
@_author: Scott Bennett 
@_subject: another reason to keep ExcludeNodes 
Certainly, but that isn't possible when no valid contact information is
provided in the relay descriptor in the directory.  It also doesn't allow an
immediate solution to the problem for the user.  Notification and use of
ExcludeNodes are not mutually exclusive, after all.
     I have also excluded a number of nodes because some of their attributes
make me unwilling to trust their operators to be responsible tor operators.
Those assessments are, of course, my own opinion and are not to be imposed
upon anyone else via the mechanism of directory flags.  However, as the user,
I want to be able to avoid nodes that I don't want used for *my* circuits.
ExcludeNodes allows me to do that, the bug regarding entry guards
notwithstanding, and has no effect on tor's operation as a relay for other
users elsewhere.  That should be enough, it seems to me, to justify retaining
support for ExcludeNodes.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-17 16:32:09
@_author: Scott Bennett 
@_subject: another reason to keep ExcludeNodes 
On Tue, 17 Feb 2009 15:04:13 -0500 Roger Dingledine      In the particular case I was describing, the node that was consistently
appearing in the circuits that cut off files happened not to be an exit in
any of the failure cases.  IIRC, it was nearly always in a middleman position,
though I think there was a day when it was an entry guard.  (I don't remember
for sure that it was a guard.  This happened a couple of months or more ago,
and the details have gotten fuzzy since then.)  If it had been an exit for
those circuits, I would have tried excluding it only as an exit first before
eliminating it for all circuit route positions.
     Yes, indeed.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-18 05:19:22
@_author: Scott Bennett 
@_subject: Bittorrent 
I allow exits to over 300 ports below port number 10000.  However, an
important factor here is that I do not allow port 80 (HTTP) except for a small
set of IP addresses/address ranges, so my HTTP traffic is negligible.  At
present I only allow torrent exits to one of the FreeBSD download sites, which
has resulted in...hmmm...exactly *2* exit connections in the past *week*.  Big
     Well, that's what exit policies are for.  As far as relay traffic goes,
the more traffic my relay handles, the more useful my relay seems to be and
the better it makes me feel about running a relay.
     As has been discussed to death here many times already, there is no
way to inspect traffic prior to its exit without destroying the functional
protections of tor.  The bottom line is that you can refuse port 8080 exits
if you like, but you cannot even know whether you are relaying Bittorent
traffic inside the tor network, so you may as well ignore and forget the
idea and get on with enjoying your life. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-18 19:11:25
@_author: Scott Bennett 
@_subject: Bittorrent 
The port number, along with everything else passing through a circuit,
is encrypted between the client and the exit, so there is no way to see what
that port number might be *or even whether a port number is involved*.
     It appears that you do understand neither how tor works nor why it must
work that way to protect anonymity.  Please familiarize yourself with the
documentation available at the tor web site at      Every tor relay operator uses an exit policy, whether they use the
ExitPolicy statement(s) in torrc or not.  I don't happen to see that it is my
business, in general, what exit policies are used by other tor operators.
     As noted above and in the tor documentation, all information regarding
the user's proxied TCP connections through tor's SOCKS port is encrypted
from that point onward until it reaches an exit relay.  To determine the
destination port number of a proxied connection within the tor network would
require providing a way to decrypt information passing through the circuit.
Such decryption destroys both security and anonymity.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-18 20:13:31
@_author: Scott Bennett 
@_subject: Bittorrent 
On Wed, 18 Feb 2009 17:38:08 -0800 (PST) Martin Fick      This is an interesting idea that merits further discussion.
     But this last looks to me like a really bad idea for at least two
reasons.  One is that exits are also middle relays and sometimes entry
points or even entry guards into the tor network.  Biasing the scheduling
of tor toward lower dispatch priorities affects everything that tor does,
not just exit operations.  Secondly, if tor is sharing a busy system, a
reduced priority could well lead to timeouts for many of tor's activities
that would result in additional retries and/or failures that would not
otherwise have occurred.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-19 02:54:05
@_author: Scott Bennett 
@_subject: Bittorrent 
++>Did you ask others, why are they using ExitPolicies? I dont think so.
That is what I responded to above when I wrote that it wasn't my business
what exit policies other tor operators use.
     Okay, Marek, I apologize.  I did not understand from your earlier
postings that you were referring only to tor *exit* traffic, rather than tor
traffic at all stages of transit.  I don't see any showstoppers offhand for
plans to use, say, packet filter-based QoS support for exiting traffic.  It
is unclear to me whether attempting to use QoS support for external traffic
entering the exit for transmission back to the tor client would have the
desired effect if the filter-based QoS support is running on the same system
as the tor relay.  If the prioritizations are instead implemented on a
separate router through which the tor process's traffic passes, then they
ought to work as well as the output prioritizations.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-04 16:37:52
@_author: Scott Bennett 
@_subject: Time Warner bad / VPS recommendations 
You raise important questions:  how many tor relays currently listed
in the directory are running on hardware owned by the same entity?  And
how many of those are on hardware physically located at the same site?
Is it possible to get a three-hop circuit using relays that are ostensibly
being operated by different individuals, but which are all running on the
same physical machine because the operators all subscribe to the same
company's hosting service?
     It would be good to know whether such potentially serious vulnerability
to having entire circuits easily observable by a single attacker actually
exists already.  For example, how many hosting companies are operated by
the NoSuchAgency or its foreign counterparts?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-19 03:32:48
@_author: Scott Bennett 
@_subject: Bittorrent 
On Thu, 19 Feb 2009 01:24:40 -0800 "Germershausen"
     Clearly, that is exactly who he is.  Did you want him to be someone
else instead?
     My goodness.  What a remarkable demonstration of what Roger has been
saying for years, namely, that people of all professions and persuasions
need the anonymity that tor provides.  Here we can see that that "big tent"
applicability includes even would-be tyrants. :-}
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-19 04:05:59
@_author: Scott Bennett 
@_subject: Bittorrent 
On Thu, 19 Feb 2009 10:44:04 +0100 Olaf Selke      I would add that such behavior in itself would justify BadExit status.
     Correct on all points.
     And that is certainly your decision to make and not that of people like
Germershausen because it is *your* tor relay and *your* computer system, not
     What is it that keeps drawing control freaks out of the woodwork and
onto this list anyway?   Jeesh...
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-19 06:15:47
@_author: Scott Bennett 
@_subject: Moxie Marlinspike 
Thank you very much for pointing out yet another unscrupulous exit
operator.  I've just added
ExcludeExitNodes thoughtcrime,$1E6882D9AB86DA56C48BDE96698B8F8AF81FD707
to my torrc file.
     Very true, but then, lots of people simply don't know how to use the
Internet safely.  Lots of people don't bother to buy and use a paper shredder
to dispose of sensitive USnail safely.
     It's looks like a good idea, but what about pop-up blockers?  Maybe it
should be built into browsers, perhaps enabled as a configurable option turned
on by default.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-22 08:42:31
@_author: Scott Bennett 
@_subject: Switching Tor relay speed 
I think this is a situation many of us have encountered at one time or
another, though it hasn't come up on this list in quite a long time.  I've
mentioned here before that there are a number of serious problems with the
way tor handles data rate information, and your situation is directly related
to the problem of including the data rate information in the relay descriptor
published to the authorities, rather than through some separate, more
efficient reference method.  I keep hoping that sometime soon I will find the
time and energy to write something up that will describe each of the problems
I've thus far identified regarding reporting of data rates in tor and some
suggestions for correcting them, but other matters have kept getting in the
way of my doing that. :-(  In the meantime, a few notes applicable to your
situation in particular follow.
     The problem with frequent updates to the descriptor just to report changes
in the data rate information, whether a limit or an observation, is that each
update involves:
     Roger or Nick could answer the client update frequency question better
than I because I haven't dug around in the code to discover the algorithm used.
See above regarding frequent publication of relay descriptor updates.
     Again, please see above.  OTOH, if you have to do it, there is currently
not much you can do to avoid the costs. :-(
     Hmmm...now that I've written that brief list of thoughts above, I think
I'll save it as a tiny starting point for a more complete description of data
rate reporting problems, so you may see it again someday. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-22 16:01:46
@_author: Scott Bennett 
@_subject: Switching Tor relay speed 
On Sun, 22 Feb 2009 22:35:26 +0100 Lexi Pimenidis
     No one gets cut off when the rate is reduced.  In fact, if you've ever
tried reducing the rate with the BandwidthRate statement in torrc, you may
have noticed that the actual data rate takes a while to slow down to the newly
imposed limit.
     No, no, NO.  That means three times as many descriptor uploads to the
authorities, which is the small part, and then potentially twice as many
fetches of your relay's descriptor by every relay and active client around the
planet during the next couple of hours.  That is exactly the wrong approach.
Please read my previous followup.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-22 16:09:02
@_author: Scott Bennett 
@_subject: Switching Tor relay speed 
You're right; it certainly doesn't help.  It makes the situation even
     Note also that when you do a non-emergency shutdown of tor, it will
publish a new descriptor with a data rate of 0 to scare off any new attempts
to contact the relay that is quiescing.  (tor also closes its DirPort if that
was open.)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-22 16:27:55
@_author: Scott Bennett 
@_subject: Switching Tor relay speed 
Are you sure that wasn't just coincidence?  Rates zoom up and down all
the time.  It has been at least a year and a half since I last needed to do
that, but at that time it typically took several minutes to get the rate down
to somewhere near the new limit.  Even then, it was very inconsistent for a
while, perhaps until a large fraction of active clients had picked up the new
version of the descriptor.  I noticed further that BandwidthBurst was
frequently exceeded by a sizable percentage, which, as I read the man page,
should not happen.
     Well, it appears that the relay itself doesn't do a lot of enforcement
of limits.  Instead, it is the population of clients that simply choose not
to build circuits through your relay when it advertises low rates.  If you
look at the torstatus page at just about any time, you will see that there
are far more relays at the slow end of the rate spectrum than toward the
fast end, so the chances of a particular slow relay being selected for a
circuit's route are smaller than for a fast route, just as it should be.
Fewer circuits through your relay mean fewer chances that a client or relay
somewhere will need to connect to your relay in order to carry a circuit.
Having only, say, 200 - 300 connections instead of 2,000 - 3,000 connections
is part of the effect you're seeing.
     You really don't need to send an HTML copy of your message to the list.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-23 05:13:06
@_author: Scott Bennett 
@_subject: Switching Tor relay speed 
To rate limits: I worked on it today and it really changed immediately. Im
     Okay.  That's cool.
     Not necessary at all.  There have been hundreds of changes made to tor
since I last needed to impose rate limits, including some changes related
to rate limits.  I'll happily take your word that it now works more like
the man page says it should. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-23 11:26:52
@_author: Scott Bennett 
@_subject: aes performance 
On Mon, 23 Feb 2009 16:59:21 +0100 slush  wrote without
proper attribution (tsk, tsk):
                                                                ^^^^^^
     AES is a symmetric-key cipher, not an asymmetric-key cipher, so there
are no "public key" operations involved in AES encryption/decryption.
     The answer shown in the FAQ is poorly stated.  Rather than "Yes.", it
should have said, "Not very much.  It only makes much difference on extremely
high throughput systems, where onionskins may be queued for decryption far
faster than a single processor might be able to keep up with.  It also keeps
onionskin decryption operations from interfering with other tor processing by
moving those operations off of the core is handling the rest of tor's work."
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-24 05:37:47
@_author: Scott Bennett 
@_subject: Switching Tor relay speed 
On Sun, 22 Feb 2009 23:20:05 +0100 Lexi Pimenidis
     The status file doesn't get sent anywhere.  We were discussing descriptor
     In general, it is a small problem compared to the others involved in
data rate reporting.  It is also one that is automatically corrected after
the final step of your three-step process occurs.  Only the one step is
     First off, at most, two of the three steps will be picked up by any
instance of tor when they occur so close together in time, so one goes to
waste anyway.  Secondly, different instances of tor will get different single
descriptors of pairs of descriptors out of the three that your process will
upload, so there will be inconsistency of the information across the tor
network for one to three hours anyway, so there's no real improvement by
doing it three times instead of one.  The way the code is written, a three-
step process should do it by increments/decrements of >50% from the previous
descriptor anyway to avoid having the new descriptor ignored by the
authorities, IIRC.
     There were obviously many reasons for the succession of directory
protocol revisions, but performance and load on the tor network needed to
handle directory information appear to have been central reasons.  (See, for
example, the shuffling off of data not actually used for anything by tor
into extra-info documents.)  However, it looks like the problems with data
rate reporting will require yet another update to the protocol in order to
fix them. :-(
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-25 16:19:27
@_author: Scott Bennett 
@_subject: aes performance 
On Wed, 25 Feb 2009 22:59:14 +0100 Olaf Selke      Olaf, your system is one of 14 or 15 tor relays that routinely peak at
more than 5 MB/s.  You have, in the past, stated that it typically has ~5,000
established connections simultaneously.  I would guess that key exchange
operations on a system loaded like that must take up an awful lot of CPU time.
     My relay peaks at about 1/10 of blutmagie's peaks.  tor's primary CPU
percentage range seems to be 0% - 13% (2-second averages) on my 3.4 GHz P4
Prescott (which is also a Netburst chip).  Occasionally, it will consume more
than that for a brief time, sometimes as much as 30% - 40%, but those events
usually last only a couple of seconds.  Given these numbers, your figures seem
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-03 01:07:12
@_author: Scott Bennett 
@_subject: Time Warner bad / VPS recommendations 
On Mon, 02 Feb 2009 20:42:01 -0600 Matthew McCabe      Really?  When you sent Time-Warner a letter based upon
what was their response?  Did you counter with a politely stated promise
to file a formal letter of complaint with the FCC against Time-Warner if
they disconnect you without justification under your contract with them
or under their AUP?  You could point out in such a complaint that you had
abided by the contract and the AUP and had no recourse to another service
(assuming that no other service is indeed available).
     Are you giving up too soon?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-09 09:07:15
@_author: Scott Bennett 
@_subject: another BADEXIT found $8424E8653469B1EFF87E79E8599933A3BAF8FDB2 
An unnamed exit with fingerprint $8424E8653469B1EFF87E79E8599933A3BAF8FDB2
is redirecting HTTP port 80 to
where XX is the original URL.  I have not checked to see how it handles other
ports.  I do not know the significance of what looks rather like an IP address
in the middle of the redirection URL.
     I request that the authority operators flag it ASAP.  Verify it if you
like, but it did it to me on a random circuit and on a circuit using the
".exit" method after I began trying that on all of the exits of circuits I
currently had open.  I have now added it to the ExcludeNodes list in my torrc,
but I've noticed that tor doesn't always exclude what I tell it to exclude,
so I would appreciate prompt action on this.
     Thank you.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-09 09:36:45
@_author: Scott Bennett 
@_subject: another BADEXIT found $8424E8653469B1EFF87E79E8599933A3BAF8FDB2 
Yes, but unfortunately that relay ranks fairly high in terms of data
rates, so it attracts a lot of traffic. :-(  I see that the fingerprint has
changed since the first time I added it to my ExcludeNodes list.  I notice
also that both kangnam.megapass.net (121.138.6.100) and the IP address that
appears in the bogus part of the substituted URL are in South Korea, which
is one of the worst cesspools of crackers, massmailers, and other undesirable
types that plague the Internet.
     I hope that work is still progressing on automated detection and flagging
of BADEXITs.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-09 15:42:56
@_author: Scott Bennett 
@_subject: another BADEXIT found $8424E8653469B1EFF87E79E8599933A3BAF8FDB2 
On Mon, 9 Feb 2009 19:23:36 +0100 Ansgar Wiechers      Some time ago, a tor relay called "apple" appeared.  "apple" was found
to be a crooked exit relay in that it was replacing the URLs of its exiting
traffic with URLs of the form
where "OriginalURL" was the URL requested by whatever tor client built the
circuit using "apple" as its exit relay.  "apple" frequently restarted under
different IP addresses.  Its perfidy was reported here, and eventually [*ahem*]
the directory authority operators flagged it as a BADEXIT, so that tor clients
around the globe would avoid using "apple" as an exit.
     "apple" disappeared after that for a time, but now it's back.  It still
uses varying IP addresses, but has changed its private OR key, perhaps to avoid
recognition as a bad exit.  Unfortunately, there is no good way for the
software to recognize a corrupt tor operator, but it should be given a BADEXIT
flag for its *name*, as well as its new key, to force "apple"'s crooked
operator to change his/her relay's torrc file next time.  It isn't much, but
anything is a help.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-09 20:36:43
@_author: Scott Bennett 
@_subject: Time Warner bad / VPS recommendations 
On Thu, 5 Feb 2009 16:14:29 -0500 Praedor Atrebates      What you propose would qualify any exit doing it to receive a BADEXIT flag
from the directory authorities.  This kind of nonsense has been thoroughly
hashed out on this list in the past.
     tor is *already* an anonymizing proxy.  That is its *main purpose*.
     Please go read the tor man page again.  Specifically, you should reread
the material on the ExitPolicy statement in the torrc file.  The proper way
to prevent exits on port 80 is to use an ExitPolicy that rejects port 80 for
whatever destination IP addresses the operator wishes to reject from port 80
exits.  It really is not very complicated in concept or difficult to do.
     Well, *amen* to that!  Especially, given what our Congresscriminals
and Senilators are involved in today, namely, their theft of another several
hundred gigafedbucks from us for the benefit of their financially incompetent
and/or crooked friends in order to a) make sure the current depression gets
as deep as the Great Depression, and b) drag it out for an extra decade like
they did in the Great Depression, whose finale was America's involvement in
another world war, followed by another couple of years of depression.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-09 23:10:28
@_author: Scott Bennett 
@_subject: another BADEXIT found $8424E8653469B1EFF87E79E8599933A3BAF8FDB2 
On Mon, 9 Feb 2009 22:17:00 -0500 downie -      It means that you listed a router identified by that key fingerprint
that is not listed in the current directory information.  As Roger noted,
"apple" disappeared again sometime after I posted my warning this morning.
However, if apple's operator(s) follow(s) the pattern thus far established,
apple will be back again in the future, probably with a different IP address
and a different key (and fingerprint of that key).  If the BadExit flag at
the authorities has also been applied to the Nickname "apple", then there's
a good chance that it will be called something other than "apple" in that
incarnation, as well.  The operator(s) is(are) clearly unethical, and is(are)
just as obviously trying to duck BadExit flagging each time he/she/they
is(are) caught redhanded.
     I think it would be a useful modification for the authorities to be able
to flag IP addresses and address ranges with BadExit in addition to being
able to flag nicknames and key fingerprints.  That way, when a case like
"apple" arises, its career could be greatly hindered by flagging the /24's
of their ISPs.  Thus far, "apple" has appeared on only two or three subnets.
Flagging those subnets would limit such "bad reputations" to the "guilty"
parts of an ISP's available addresses, but could easily make it difficult or
impossible for the crooked operator(s) to return to exit hijacking without
changing ISPs.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-10 05:29:28
@_author: Scott Bennett 
@_subject: another BADEXIT found $8424E8653469B1EFF87E79E8599933A3BAF8FDB2 
On Tue, 10 Feb 2009 01:49:55 -0500 Nick Mathewson      That's very good news.  I gather that that ability involves one
or more of the various undocumented torrc statements.  Is there any
way for an individual tor user to take the initiative by excluding
nodes/exits by IP address or address range?  I would very much like
to exclude all the /24s that I can see that "apple" has used, for
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-10 06:19:35
@_author: Scott Bennett 
@_subject: Tor 0.2.1.12-alpha is out 
On Tue, 10 Feb 2009 04:54:29 -0500 Roger Dingledine      Roger, this is definitely like shaking a tree by its trunk to get the
ripe fruit to fall.  Not only will it shake loose unripe fruit, it won't
necessarily shake loose all of the ripe fruit.  The man is right:  we need
a way either a) to send something back to the client that says, "I can't
open a new OR connection" (or perhaps simply, "I can't connect to that OR")
or b) force immediate closing of the oldest OR connection that is not
currently bearing any circuits.  Having such a signal would enable exactly
the sort of control he is requesting.  Moreover, if option b) is taken, tor
ought then to operate like UNIX pagedaemons in the sense of maintaining some
minimum number of available fd's that can be opened for new OR connections
like pagedaemons try to maintain a free page frame pool to avoid having stalls
occur until needed page frames can be made available.
     The relay needn't ignore them if it has a way to say, "I can't open
more OR fd's at present", which would be option a) above.
     Most electronics-store routers have very limited internal memory and
cannot keep track of more than a few hundred simultaneous connections.
A tor relay running on a network connected via such a router (e.g., Linksys,
Netgear, Belkin, etc.) lose track of old connections when their fixed-size
state or NAT tables become overloaded, so tor ends up closing the lost
OR connections anyway.  When I used to run tor behind such a router, including
combined ADSL modem+router devices, I rarely had more than a couple of
hundred connections, and more than ~150 connections resulted in various
problems occurring.  Now that I connect a computer directly to a cable
modem and let that computer serve as the router for my LAN, I can see that
the connection count initially grows rapidly far beyond what it ever reached
with an electronics-store router and grows more slowly after the first 1,300
or so connections.  At present, my relay has been up for over two months
and currently has over 3,000 ESTABLISHED connections and usually another
50 - 200 connections in transitional states.
     tor already closes unused OR connections after some amount of time has
elapsed.  How hard would it be to adapt that process to trim unused connections
by proximity of the oount of ESTABLISHED connections to some limit?
     Is that message issued on non-UNIX, non-LINUX systems?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-10 12:22:57
@_author: Scott Bennett 
@_subject: Grrr...SafeLogging doesn't work in 0.2.1.12-alpha :-{ 
I think we need a quick patch for this one.  I just built and fired up
0.2.1.12-alpha with no changes to torrc from what I had already.  As soon
as exit requests came in, I saw (at INFO-level logging) that IP addresses are
now being logged as the exit connections are made, whereas in 0.2.1.7-alpha
and earlier, the port numbers appeared, but the IP addresses had been scrubbed.
I tried adding "SafeLogging 1" to torrc in case the default had somehow gotten
changed, but that seemed to have no effect either.
     Also, during the startup, four of the messages were:
Feb 10 11:42:12.795 [info] trusted_dirs_load_certs_from_string(): Adding cached certificate for unrecognized directory authority with signing key 2A9EABF158D0D4BFFA6C4A8EDC84A4F6487FCE9B
Feb 10 11:42:12.797 [info] trusted_dirs_load_certs_from_string(): Adding cached certificate for unrecognized directory authority with signing key DAB9DC29E8CFEEEAF8F47F1DE144E2A2F89C4128
Feb 10 11:42:12.799 [info] trusted_dirs_load_certs_from_string(): Adding cached certificate for unrecognized directory authority with signing key CCB7170F6B270B44301712DD7BC04BF9515AF374
Feb 10 11:42:12.802 [info] trusted_dirs_load_certs_from_string(): Adding cached certificate for unrecognized directory authority with signing key 783A368067E26CDD64205EFCF1C5066B5F55EDCB
These certainly *look* alarming.  Is there a problem here, too?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-10 12:33:50
@_author: Scott Bennett 
@_subject: Grrr...SafeLogging doesn't work in 0.2.1.12-alpha :-{ 
Here's more information.  The "[scrubbed]" field still appears in the
messages, but the IP addresses now appear inside parentheses right after
the port number used.  For example,
Feb 10 11:43:05.346 [info] connection_edge_finished_connecting(): Exit connection to [scrubbed]:43 (81.91.170.6) established.
     Unless what looks scary is somehow actually innocuous, I do think we
need a patch ASAP.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-10 18:23:13
@_author: Scott Bennett 
@_subject: Grrr...SafeLogging doesn't work in 0.2.1.12-alpha :-{ 
On Tue, 10 Feb 2009 14:59:44 -0500 Roger Dingledine      Thanks!
     I haven't seen any evidence that info-level logging is slowing my
relay to any noticeable degree, and that stands to reason because tor is
idle 90% - 100% of the time anyway.  Unless tor is using O_NDELAY for log
files, the writes are not a problem at all under FreeBSD.  (I log to files,
rather than to syslog.)  Most of the problems I've identified since I started
using tor were identified because I saw them appearing in the logs.  These
problems have frequently been network problems rather than tor problems per
se, but the logs, combined with netstat-based connection count tracking, have
been my early warning system.
     Also, info-level logging is the only way I can collect any statistics
about exit usage by port number, which was why I immediately noticed the
problem described above.  The changed message format royally screwed up my
commands and scripts to process the exit port number information from the
     In short, I really do need to run info-level logging, and I do *not*
want stuff like exit IP addresses showing up in it just as I do *not* want
any other non-OR addresses showing up in it.  I have never, not even briefly,
run tor with SafeLogging disabled and have no intention of doing so in the
     I'll keep my eyes open and report any I find.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-02-11 18:48:41
@_author: Scott Bennett 
@_subject: Some Bones to Pick with Tor Admins 
============================== START ==============================
     On Wed, 11 Feb 2009 07:49:05 -0500 Praedor Atrebates      Do you suppose you could avoid putting entire paragraphs onto single
lines of text?
     LINUX is certainly an option, but don't forget the BSDs.  FreeBSD 7, for
example, is very fast.  For those with multi-CPU or multi-cored CPUs, FreeBSD 7
and 8-CURRENT have the *only* efficient kernels for heavy CPU loads.  (See
  PC-BSD 7 is a particular packaging of FreeBSD 7 that
is especially designed to be newbie-friendly.  (See      In any case, there is simply no excuse for running tor on unsafe operating
systems that no longer get security updates.  If the OP would identify his
tor relay by nickname or key fingerprint, I would be happy to add it to my
ExcludeNodes list for my own protection.  Also, a machine like the one
described by the OP cannot contribute much data rate capacity to the tor
network anyway, so if he were to take it offline permanently, it would be no
great loss to the tor community and would have the benefit of removing an
unsafe relay from the network.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-01-13 16:15:14
@_author: Scott Bennett 
@_subject: Asynchronous bandwidth limiting 
On Tue, 13 Jan 2009 14:58:49 -0700 John Brooks      I disagree.  Now that my relay has been up for well over a month this
time, pf reports that the RDR rule for the DirPort has handled bytes totalling
nearly 16% of the number of bytes handled by the RDR rule for the ORPort.
I've usually seen it higher than that, typically around 25%.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-01-16 17:12:59
@_author: Scott Bennett 
@_subject: Am I really helping tor 
On Sat, 17 Jan 2009 00:06:18 +0300 ivvmm      How long might that "certain period" of time be?  It can take at
least two or three hours for a typical tor relay's descriptor to be
distributed to a large fraction of tor clients that are on-line around
the world.  Bridge descriptors are subject to a far more limited method
of distribution.  Normal relays are used by everybody, whereas bridges
are only used by clients that are specifically configured to use bridges.
Normal relays can have entry, middle, and exit traffic, whereas bridges
get only entry traffic from clients configured to use bridges.
     There are many reasons to expect different and probably reduced
traffic loads on bridges relative to normal relays.  AFAIK, there is as
yet very little, if any, information available regarding bridge usage,
normal or otherwise, so it would be difficult or impossible to answer
your question.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-01-21 03:43:01
@_author: Scott Bennett 
@_subject: problem while trying to fetch 0.2.1.8-alpha 
I'm finally getting back to this.  Sorry about the delay again.
     On Wed, 31 Dec 2008 10:55:36 -0800 coderman      Okay.  I downloaded entrust_ssl_ca.der (the man page for wget(1) says
it wants DER or PEM format for certificates) and put it into
development branch version, I get:
Script started on Wed Jan 21 03:33:15 2009
[hellas] 101 % wget --ca-directory=/usr/local/openssl/certs --ca-certificate=entrust_ssl_ca.der  ht  --03:33:53--             => `tor-0.2.1.11-alpha.tar.gz.asc'
Resolving  86.59.21.36
Connecting to  connected.
ERROR: Certificate verification error for  unable to get local issuer certificate
To connect to  insecurely, use `--no-check-certificate'.
Unable to establish SSL connection.
--03:33:59--             => `tor-0.2.1.11-alpha.tar.gz.sha1'
Connecting to  connected.
ERROR: Certificate verification error for  unable to get local issuer certificate
To connect to  insecurely, use `--no-check-certificate'.
Unable to establish SSL connection.
--03:34:00--             => `tor-0.2.1.11-alpha.tar.gz'
Connecting to  connected.
ERROR: Certificate verification error for  unable to get local issuer certificate
To connect to  insecurely, use `--no-check-certificate'.
Unable to establish SSL connection.
FINISHED --03:34:04--
Downloaded: 0 bytes in 0 files
[hellas] 102 % exit
Script done on Wed Jan 21 03:34:09 2009
     I guess the only thing to do is to use the --no-check-certificate option
and then hope there's no MITM.  :-(
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-01-23 02:58:15
@_author: Scott Bennett 
@_subject: problem while trying to fetch 0.2.1.8-alpha 
On Wed, 21 Jan 2009 11:51:10 -0800 coderman      Still no joy.  Here's an example specifying the certicates directory,
but not specifying it fails identically:
Script started on Fri Jan 23 02:45:18 2009
[hellas] 101 % wget --ca-directory=/usr/local/openssl/certs --ca-certificate=entrust_ssl_ca.cer   --02:47:10--             => `tor-0.2.1.11-alpha.tar.gz.asc'
Resolving  86.59.21.36
Connecting to  connected.
ERROR: Certificate verification error for  unable to get local issuer certificate
To connect to  insecurely, use `--no-check-certificate'.
Unable to establish SSL connection.
--02:47:11--             => `tor-0.2.1.11-alpha.tar.gz.sha1'
Connecting to  connected.
ERROR: Certificate verification error for  unable to get local issuer certificate
To connect to  insecurely, use `--no-check-certificate'.
Unable to establish SSL connection.
--02:47:11--             => `tor-0.2.1.11-alpha.tar.gz'
Connecting to  connected.
ERROR: Certificate verification error for  unable to get local issuer certificate
To connect to  insecurely, use `--no-check-certificate'.
Unable to establish SSL connection.
FINISHED --02:47:12--
Downloaded: 0 bytes in 0 files
[hellas] 102 % exit
Script done on Fri Jan 23 02:47:16 2009
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-01-05 00:34:14
@_author: Scott Bennett 
@_subject: looking for an FTP -> SOCKS proxy 
I know people are doing FTP transfers via tor, but I don't know how
they are doing it.  What are people using for a proxy to sit between either
a native FTP client or a web browser to do FTP transfers?
     Thanks in advance for suggestions.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-01-05 02:44:58
@_author: Scott Bennett 
@_subject: looking for an FTP -> SOCKS proxy 
On Sun, 4 Jan 2009 23:09:15 -0800 "Kyle Williams"
     Thanks much!  It appears to have installed correctly, so I'll take a
closer look at configuring and using it.  (Apparently, the version number
hasn't changed in at least a year and a half.)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-01-05 06:42:12
@_author: Scott Bennett 
@_subject: looking for an FTP -> SOCKS proxy 
How what?  How do I know?  Because I see lots of exits from my relay
on ports 20 and 21.  How can I do it?  Well, the suggestion to use proxychains
seems to have been a fruitful one, though it would be nice if the package
were better documented.  I changed one entry in its proxychains.conf file to
get it to use SOCKS5 rather than SOCKS4 to connect to tor, so that it could
forward DNS queries through tor, but it appears that a different entry causes
proxychains to blab queries from my machine to a name server at gtei.net.
I guess I'll have to ponder a while on how to work around that. :-(
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-01-06 00:57:01
@_author: Scott Bennett 
@_subject: proxychains DNS leaks stopped 
After looking at the problem a moment, I tried replacing the last
line of the proxyresolv script in the proxychains package, which reads,
dig $1  +tcp | awk '/A.+[0-9]+\.[0-9]+\.[0-9]/{print $5;}'
with the following line:
env LD_PRELOAD="" tor-resolve $1
That seems to stop the leaks, but it still leaves tor complaining that
it was given an IP address instead of a host+domainname in the SOCKS5
connection.  (I realize that this method also means that tor-resolve
will be used exclusively for name-to-address resolutions, instead of
whatever list of proxies may currently be the active list for proxychains
to use, but it does what I need for now.)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-01-06 02:03:35
@_author: Scott Bennett 
@_subject: proxychains DNS leaks stopped 
On Mon, 5 Jan 2009 23:34:56 -0800 "Kyle Williams"
 top-posted:
     That's right.  You won't see it as UDP because the proxyresolv script
uses the +tcp option on the dig(1) command.
     The one that got installed on my system said,
# defaults set to "tor"
socks4         127.0.0.1 9050
which I changed to the way you have it.
     See above.  Take a good look at the proxyresolv script that is used by
proxychains to resolve names to addresses.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-01-06 02:16:59
@_author: Scott Bennett 
@_subject: proxychains DNS leaks stopped 
Hmmm.  After thinking about that +tcp option on the dig command, I'm
forced to admit I missed the implication of my having to run tor-resolve
under env(1) to get rid of the shared library.  It could be that the queries
from the dig were actually getting routed through tor (or any other chain of
proxies).  However, the queries were all being sent to 4.2.2.2, which has a
PTR RR to vnsc-bak.sys.gtei.net.  So maybe the queries weren't really being
leaked, but they were all going to the same name server.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-01-07 02:35:58
@_author: Scott Bennett 
@_subject: UseEntryGuards=0 overwrites EntryNodes 
On Tue, 06 Jan 2009 17:30:57 +0100 Dominik Sandjaja      Huh.  Interesting.  Your interpretation is completely different from
mine, so I just reread the tor man page, and I now see that it is indeed
unclear.  My interpretation was that UseEntryGuards would simply enable
or disable the feature of using entry guards at all.  Also, I understood
that EntryNodes and StrictEntryNodes would only have any effect if the
entry guards feature were enabled.  EntryNodes serves as a recommended
list of nodes to use as first hop relays, but the man page is unclear as
to whether EntryNodes has any effect at all when UseEntryGuards is disabled.
EntryNodes serves as the exclusive list of nodes to use for first hops
when StrictEntryNodes is enabled, but it's not clear what is supposed to
happen when it is enabled but no EntryNodes list is provided.  Also, the
man page fails to note whether those relays listed in EntryNodes will only
be used if the directory authorities list them with the Guard flag or,
alternatively, EntryNodes provides a list to be used without any connection
to the Guard flag from the authorities.
     So try turning UseEntryGuards back on while leaving the other two
statements untouched.  My guess is that that should do what you want.
     But this brings up another issue.  I recently noticed a recurring
problem of broken connections part of the way through retrieval of image
files from one web site.  The breakages only seemed to occur when a certain
high data rate relay was in the route selected by tor, so I added that
relay's name to ExcludeNodes.  Unfortunately, that relay was already listed
as an entry guard in tor's state file, and tor appears not to take action
on the newly "excluded" node in response to a SIGHUP after the change was
made to torrc.  I am temporarily blocking with outbound packets to the
apparently offending relay by means of pf, but that's a very ugly kluge I'd
rather not have to use.  But I'm wondering whether removing those lines
from the state file just before the next time I start tor will allow tor
to exclude that node from future routes.  My relay has been up without
other obvious troubles for nearly a month, and its version is recent enough
that I'm not inclined to restart it anytime soon unless some outside force
intervenes (e.g., failure of network connection, extended power outage, etc.),
but I really would like to know how to get tor to obey what I tell it in
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-01-11 23:04:09
@_author: Scott Bennett 
@_subject: Binding Tor to Pseudo-Interface 
Well, sort of.  The OutboundBindAddress is the interface used for
initiating a connection to another machine.  Inbound connections will
still be connected at Address.  Connections are bidirectional, so AFAIK
packets sent out on an existing connection from another machine will
normally go out via the same address/interface the connection originally
came in on (i.e., Address), regardless of what OutboundBindAddress says.
Note that this would also apply to DirPort connections if one is running
a directory mirror.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-09 01:47:39
@_author: Scott Bennett 
@_subject: Yahoo Mail and Tor 
On Wed, 8 Jul 2009 23:20:08 -0700 (PDT) bao song      You didn't mention which operating system you do use.  If you happen to
use FreeBSD or its specially packaged form known as PC-BSD, you may be able
to install privoxy 3.0.12 from the ports tree.  (PC-BSD may also have it
available as a PBI.)  Very often the ports and packages are actually downloaded
from sites not directly associated with the web sites of the projects in
question.  Further, PC-BSD's PBI files are unique to PC-BSD, so I suspect
that they get downloaded from  or its mirrors.
Next, do something like
#  portinstall -v privoxy
#  portinstall -v privoxy+ipv6
to build it from the port, or else
#  portinstall -vP privoxy
#  portinstall -vP privoxy+ipv6
to install it from a package if available, otherwise falling back to
install from the port.
     If you're running NetBSD or OpenBSD, you may be able to do something
similar, but I'm not familiar with their methods.  (Perhaps Hannah could
give an OpenBSD example here, please?)
     If you're running LINUX, there is undoubtedly an implementation of
 available.  Just install it by whatever is the standard method for
the LINUX distribution you use.
     Once you have *some* version of privoxy, or perhaps polipo, installed,
you might find it useful to install proxychains or to install 3proxy and
configure it to make it easier for you to use tor upgrade to newer versions
in the future.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-09 03:25:59
@_author: Scott Bennett 
@_subject: Comcast rate limits at 250G / month 
On Thu, 09 Jul 2009 00:52:06 -0700 "Please Sir, Do a Wheelie"
     Yes, this has been reported here by others, including myself.  Comcast
stands in opposition to stated "national policy" here in the U.S.  They are
completely unreasonable and inflexible about it.  They have apparently
underestimated their need for QoS-type management of traffic, adequate
network infrastructure, satisfying business and residential customers with
high data-transport needs, and so on.  They aim, along with several other
large, corporate provider networks (e.g., Time-Warner Cable), to block/retard
expansion of the Internet in the U.S. in any way that involves higher data-
transport volumes.
     Their marketing is deceptive and probably illegal.  When I initially
contacted Comcast and agreed to get their Internet service, I was told a)
that it was "unlimited" service and b) a list of prices and data rates
corresponding to those monthly prices.  I was not told of a monthly cap,
and I was not told that paying a higher price merely bought me the dubious
privilege of exhausting my monthly allotment faster than a lower price would
allow me to do.  They provide no information, such as a web page, by which
one can discover how much of the monthly allotment has been consumed so far,
so the customer, having once been warned by their "security division", has
no means of even finding out that they are in danger of being cut off for
a year, so that the customer might avoid that outcome by disconnecting from
the Internet immediately for the remainder of the month.  The customer has
to go by guesswork.
     For Comcast's cheapest data rate, the average traffic rate over a
31-day month, IIRC, comes out to just under 98 KB/s of both transmitted and
received data *combined*.  That means, to be perfectly safe, one must limit
one's tor relay to less than 50 KB/s in the BandwidthRate and BandwidthBurst
statements in torrc.  Of course, current versions of tor refuse to advertise
a DirPort in published descriptors when the BandwidthRate is less than 50 KB/s.
     Comcast's service has other unlikeable aspects, too.  For example, it
does not support IPv6.  Routing table information is not available to
residential customers.  The name servers it provides in its DHCP leases
appear to be overloaded at times because their responses exceed timeout
limits.  To initialize one's account, one *has* to have a working Windows
system.  (Mac OS X might also work.  I don't remember whether that was an
option.)  So a UNIX/LINUX user still has to have a Windows system available,
if only to initialize the Comcast service (unless, possibly, the UNIX is OS X).
     Where I live there are, unfortunately for customers, only three ISPs
available.  The local business, TBC Net, has "service" that varies in quality
from unreliable to unusable, requires a one-year contract with about a $100
penalty if the customer decides to bail out of terrible service (i.e., failure
of TBC Net to uphold its end of the contract), and has absolutely no idea what
"customer service" means.  Verizon has a good reputation, says it has no cap
other than the limitations naturally imposed by its various ADSL speeds times
the number of seconds in a month, requires a one-year contract, and only
offers residential service in combination with a land-line telephone
subscription from Verizon.  Comcast is the third undesirable option.
     If you live in a large, urban area, then you probably have more ISPs
to choose from.  Shop carefully, and the best of luck to you!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-09 09:32:32
@_author: Scott Bennett 
@_subject: Yahoo Mail and Tor 
On Thu, 9 Jul 2009 16:14:06 +0200 Hannah Schroeter      Thanks, Hannah.  It appears to be basically identical to the way it
works in FreeBSD, although I don't think the FreeBSD ports team normally
makes specific recommendations favoring a particular package over its
port or vice-versa with the possible exception of OpenOffice.org. :-)
     If there's a NetBSD person on the list, perhaps he/she could chime
in here with directions for installing privoxy.  Likewise for a Solaris
person or HP-UX person.  (The last time I used HP-UX, there was no
standard procedure other than to download source, compile, and so on.)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-09 10:25:05
@_author: Scott Bennett 
@_subject: Yahoo Mail and Tor 
On Thu, 09 Jul 2009 10:46:05 -0400 Andrew Lewman enable-remote-toggle  0
enable-remote-http-toggle  0
enable-edit-actions 0
allow-cgi-request-crunching 0
     Does polipo do all the other good things that privoxy does, including
ad blocking and clickjack blocking?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-09 23:20:43
@_author: Scott Bennett 
@_subject: Yahoo Mail and Tor 
On Thu, 9 Jul 2009 20:37:38 -0400 downie -      Why would you want it to do that?  The .exit notation has to be passed
along to tor for it to work.  If it were filtered out, then the user would
see a connection failure of some kind.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-10 01:44:22
@_author: Scott Bennett 
@_subject: Yahoo Mail and Tor 
On Fri, 10 Jul 2009 00:15:18 -0600 Jim McClanahan      I should think that such a bug would have had to have been inside tor,
not privoxy, if it indeed existed.  Consider the process of privoxy making
a connection via a tor circuit to a destination IP address and then requesting
a page.  An unproxied browser will first resolve a name to an IP address and
then connect to that IP address.  When proxied through privoxy, privoxy passes
the entire hostname.domainname.Nickname.exit to tor instead of an IP address
when requesting an exit connection to the destination system.  The exit node
itself then does the name-to-address resolution and establishes the connection
to the resulting IP address.  Next, privoxy sends an HTTP GET request, which
contains no hostname, domainname, Nickname.exit, nor IP address through the
connection to the web server at the other end.  The web server reads (or has
cached) the page contents from the filesystem path given in the GET relative
to the base of the server's directory tree (i.e., everything *starting* with
the third slash in the URL and continuing to the end of the URL) and then sends
the file contents back through the connection toward the requesting system.
Of course, some parts of that "path" may actually be other kinds of arguments
that will be processed by the web server, that fact has no bearing on the
process described here.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-10 03:17:54
@_author: Scott Bennett 
@_subject: exit notation stripping 
On Fri, 10 Jul 2009 03:00:23 -0500 Drake Wilson      Okay.  Thanks for the correction and explanation.  I guess it has
been a while.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-13 16:18:39
@_author: Scott Bennett 
@_subject: problem with connecting to a hidden service 
On Mon, 13 Jul 2009 13:28:02 -0700 Kyle Williams      This claim keeps appearing on this list, yet I see my node usually
using in the range of 10% - 40% of the limits I set on it to stay within
Comcast's monthly cap.  Back before I ran into Comcast's secret police
division and had to set limits, it spent most of its time in the 35% - 70%
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-13 21:08:58
@_author: Scott Bennett 
@_subject: problem with connecting to a hidden service 
On Mon, 13 Jul 2009 17:46:33 -0400 Sambuddho Chakravarty
     My apologies.  I should have written it more specifically.  The part of
Andrew's claim to which I was referring was the part about the "saturated
network".  Given that the average data rates on my node typically run in
the lower half of its capacity to around the middle of its capacity, rather
than near the upper limit, regardless of limits upon its data rate capacity
imposed by either hardware or torrc, I find the saturation claim questionable.
     Sorry about the confusion.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-13 22:29:10
@_author: Scott Bennett 
@_subject: problem with connecting to a hidden service 
On Mon, 13 Jul 2009 22:28:42 -0400 Andrew Lewman      Oops.  Sorry about that.
     I rarely use them, but I, too, would like them to work perfectly and
fast for those who need them.  I suspect that circuits with long routes
would generally work much faster over SCTP connections than over TCP
connections, regardless of the reason(s) for the long routes.  That is not
meant to ignore the many ways for things to go wrong in the hidden service
protocols, but rather just to point out one of several reasons for slow
performance of long-route circuits, including hidden service circuits.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-14 01:08:15
@_author: Scott Bennett 
@_subject: secret_id_key 
Hi Roger,
     On Tue, 14 Jul 2009 01:56:18 -0400 Roger Dingledine      Perhaps the above suggests a minor modification to the authority code,
to wit, a node with known data rate capacity equal to or greater than x B/s
shall be exempted from this particular requirement for assignment of a
guard flag.  blutmagie is, and has been for a long time, among the very
fastest nodes in the entire tor network.  It is important that the capacity
of such nodes not go to waste.  A line in the authorities' torrc files
could then authorize guard flags, still subject to other criteria for guards,
for nodes exceeding, say, 2 MB/s or some other appropriate figure.  Such a
torrc line would allow observation of its effects over time, so that the
authority operators could fine tune the threshhold for the exemption.
     Did the client code really look at the uptime of guards?  Or do you
just mean that clients that have been running for a long time still have
connections to nodes that had guard flags at the time the clients were
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-14 01:30:59
@_author: Scott Bennett 
@_subject: secret_id_key 
Having reread all of the above after posting my followup:-{, I now see
that it is obvious that I should also have suggested a client-code change that
would also recognize an exemption for very-high-data-rate nodes to be chosen
as middle nodes.  This would entail either hardcoding it or adding yet another
flag, I suppose.  Bummer.  The point of all of this is that the nodes that
support very high rates should be usable for entry and middle node positions
in routes at all times and also for exits if the node allows exits.  That
sort of capacity really must be kept available, not wasted.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-14 01:34:48
@_author: Scott Bennett 
@_subject: exit notation stripping 
On Tue, 14 Jul 2009 02:24:30 -0400 Roger Dingledine      It is important to keep in mind that, for the time being at least,
the .exit notation is the best tool we (non-developers) have for zooming
in on and identifying bad exits.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-01 20:08:43
@_author: Scott Bennett 
@_subject: 25 tbreg relays in directory 
On Wed, 01 Jul 2009 19:46:49 -0400 Marcus Griep      The tbreg case combines two problems.  That combination appears to me
to be the source of some confusion and writing at cross-purposes in the
discussion.  One problem is that someone was distributing a package that
installed a bad version of tor.  This risked considerable harm not only to the
users onto whose machines it installed the bad version, but also to tor users
everywhere.  Such risks point up the need to have software that can recognize
when it has been identified as being defective and then refuse to serve in
any capacity beyond assisting in obtaining an up-to-date version to replace it.
     The second problem is that the tbreg installer may have been installing
software onto people's machines by stealth and/or misrepresentation and then
activating it.  This situation is not necessarily specific to tor and doesn't
in itself reduce anonymity gained through the use of tor.
     I think it will be helpful to the discussion if proposals of remedies,
as well as proposals *not* to remedy a problem, clearly identify which of the
two problems they address.
     No, I think those are points well worth considering.  Some of them
have been discussed here in the past, but may now be due for revisiting.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-14 03:23:33
@_author: Scott Bennett 
@_subject: TorStatus tells me I shouldn't be there? 
So good of you to post in context...
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-14 04:16:05
@_author: Scott Bennett 
@_subject: problem with connecting to a hidden service 
On Tue, 14 Jul 2009 01:06:26 -0400 Roger Dingledine      I guess it's time for me to sit still long enough to write up some of
the causes for the network load being unbalanced that I believe have been
largely or entirely overlooked, though I still want to read a few more of
the tor documents carefully first.  I will try to get to this in the next
few days.  Sigh. :-}  IIRC, when I was thinking about those sources of
trouble some months back, I came up with four of them, but alas, I didn't
write anything down.  (Yeah, I know:  what a dope!)  So I'll need to make
sure I've got them all in view again and, with a bit of luck, also all of
the reasons that I thought of for why/how they cause trouble and some ideas
for fixing them.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-14 20:03:50
@_author: Scott Bennett 
@_subject: unsubscribe or-talk 
On Tue, 14 Jul 2009 17:58:18 -0700 "Please Sir, Do a Wheelie"
and a few lines later,
     Apparently, the illiterate still manage to learn how to subscribe
to mailing lists (perhaps their kids show them how?), though to what
purpose is anyone's guess.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-15 01:35:57
@_author: Scott Bennett 
@_subject: Yahoo Mail and Tor 
On Wed, 15 Jul 2009 00:50:23 -0400 : Andrew Lewman      Then you're remembering it from somewhere else because neither that
thread nor the first of the two it refers to say anything about it.  (The
second reference is apparently no longer available at the link given.)
     privoxy 3.0.12, IIRC, comes with better files for filtering out junk
and other problems than the long obsolete 3.0.6 did.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-15 09:12:03
@_author: Scott Bennett 
@_subject: Yahoo Mail and Tor 
On Wed, 15 Jul 2009 09:18:04 -0400 Andrew Lewman      I know the problem well. :-(
     Thanks.  Yes, I see it says at greater length basically what the other
one said:  if you enable those options, then privoxy will be vulnerable.
     Making sure they are disabled seems (to me, at least) to eliminate the
problem.  However, running a version of privoxy that has been obsolete for
well over two years, maybe over three years, presents its own risks, as well
as the irritations of inferior filtering.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-15 23:22:09
@_author: Scott Bennett 
@_subject: Tor bandwidth notation 
On Wed, 15 Jul 2009 23:48:01 -0400 grarpamp      Wouldn't it be easier just to use the ifstat display in systat?  Or
do you need to save the update history somewhere?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-16 12:00:01
@_author: Scott Bennett 
@_subject: eventdns: all nameservers have failed 
On Thu, 16 Jul 2009 09:53:36 -0400 Praedor Atrebates      I'm not sure that anyone knows yet.  I get this messages, too, usually
followed within a few tens of milliseconds by another message, saying that
one of the name servers is available again.  Here's an example from this
Jul 16 07:48:37.512 [warn] eventdns: All nameservers have failed
Jul 16 07:48:37.535 [notice] eventdns: Nameserver 68.87.72.134 is back up
For quite a while, I thought this was a network-connection problem, but I'm
no longer so sure.  My tor node is currently limited to 10% or less of the
Internet connection's transmit rate limit, and not much else is ordinarily
going on over the connection.  It has been a while, but IIRC, Roger wrote me
once that he thought there might be a well hidden bug in libevent that shows
up in this way.  The gap between the two messages in pairs of messages like
the one shown above is only very rarely much over 100 ms in length.  Given
that the default timeout in libresolv is, I think, 3 s (used to be 6 s, but
was probably shortened due to the Internetwide speed increases over the years),
it does seem odd that the gaps are nearly always so short.  If it is due to
a libevent bug, then the libevent maintainers would have to be encouraged to
go after it, I suppose, rather than the tor project folks.
     Besides tor's own ports, only the domain name service (UDP port 53)
should be needed that I can think of offhand.  (I can't swear that TCP port
53 isn't also needed, but I can't think of any reason tor would need it.)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-16 12:20:03
@_author: Scott Bennett 
@_subject: eventdns: all nameservers have failed 
On Thu, 16 Jul 2009 13:10:44 -0400 Praedor Atrebates      Unless you shut down something like nscd(8) in FreeBSD or named(8),
nothing comes to mind that would cause that.
     Fascinating...it might not be the same thing as what I described above
then.  But in that case, I have no idea what to tell you.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-19 01:47:03
@_author: Scott Bennett 
@_subject: How does initial tor connectivity work? 
Hi Scott,
     On Sat, 18 Jul 2009 22:40:52 -0400 Scott Ehrlich      Welcome to the community of interested tor users, then!
     There is quite a bit of documentation included in the distributions
and also on the tor project's web site that should answer the bulk of
your questions above.  You neglected to mention which operating system
you are using, so I don't know where to tell you to look if you have tor
installed already, although the documentation should have been installed
somewhere onto your system.  If you download the source distribution as
a gzipped tar archive from the web site and unpack it, you will find the
documents you need in the doc/design-paper and doc/spec subdirectories.
Note that the document in the former is a LaTeX source document, so you
will need to have LaTeX installed in order to typeset it before reading
it.  (To read LaTeX source for content is almost as painful as reading
HTML for content, even if you know the language in question.)  The rest
of the documents are text documents in the latter directory.  Alternatively,
you can read all of those documents at the web site, beginning at
     I think you will find that very little, if anything, in tor has been
left to hope, other than that a) most users will at least try to use tor
safely and sensibly, b) most users will make some effort to keep from
falling very far behind on updating to current versions of tor, c) bugs
will generally affect operational reliability and/or performance, rather
than security or anonymity, d) the same applies as in c) for design flaws, and e) the developers and rest of the community will continue to come up
with new ideas fast enough either to stay ahead of or at least to keep
leapfrogging the enemies in the ongoing arms race for anonymity services
and also the arms race against censorship in order to continue to make
anonymity services available to people in places subject to Internet-based
censorship.  This kind of hope is something one holds in mind while
producing a design, of course, but is also the kind of thing that is
difficult at best to obviate in a design, although some attempts have been
included both in tor and in affiliated projects like vidalia, privoxy,
polipo, and torbutton.
     Do have a go at the documentation.  I am confident that any questions
that remain for you after reading and considering the documentation will
be doozies. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-19 04:01:47
@_author: Scott Bennett 
@_subject: another bad exit 
While I was trying to access a web site (ezine.daemonnews.org), which had
already timed out once with privoxy returning the usual error page, I got a
page back that had a block of red background with text saying the connection
had timed out.  At the bottom of the page was a message that said it was
generated by squid at tor-proxy.de.  I looked up the IP address and then
looked for that address in the directory, finding a descriptor for a node
called spacecowboy, which does show up at the right time in an info-level
log as one of the exits in use.  Trying it a few minutes later got me the
privoxy page again as it should have.
     So I tried it again, appending .spacecowboy.exit, and can now confirm
that node "spacecowboy" is indeed returning the error page, rather than
simply returning the SOCKS failure, only this time it said that the name
server said that the domain name doesn't exist, which is false:  tor-resolve
returns 204.152.186.46 as the address for the target web site.  (Most of
the page is in German, but some of it is close enough to English for me
to understand it, and the message about squid is in English.)
     The above described behavior clearly meets the criteria for flagging
spacecowboy at 87.152.109.208 as a BadExit.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-19 05:29:47
@_author: Scott Bennett 
@_subject: another bad exit 
On Sun, 19 Jul 2009 11:29:04 +0200 Jens Kubieziel      Yes.  But it should never inject such a page into the returning
data stream.  Valid exits should never tamper with either the outbound
data or the returning data.
     Quite possibly, but irrelevant to getting a BadExit flag from
the authorities.
     That also may be a good idea, but for now, it needs to get a BadExit
flag from the authorities.  If and when the spacecowboy operator fixes it,
notifies the authorities that it has been fixed, and the authorities test
and approve its operation as an exit, they can remove the flag.
     In the meantime, I've added it to my ExcludeExitNodes list until I
see a BadExit flag on it in my directory and consensus files.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-20 14:56:49
@_author: Scott Bennett 
@_subject: My tor exit node is STILL gone from the node list 
On Mon, 20 Jul 2009 18:34:27 +0200 Olaf Selke      I'm in northern Illinois (USA) about 60 miles west of Chicago on Comcast's
network.  Here's what I get:
Script started on Mon Jul 20 14:33:03 2009
[hellas] 101 % traceroute -v 89.248.169.109
traceroute to 89.248.169.109 (89.248.169.109), 64 hops max, 40 byte packets
 1  * * *
 2  te-3-1-sr01.dekalb.il.chicago.comcast.net (68.86.115.133) 36 bytes to 68.57.205.126  90.772 ms  74.883 ms  41.637 ms
 3  te-8-1-ur02.wchicago.il.chicago.comcast.net (68.87.230.125) 36 bytes to 68.57.205.126  13.959 ms  22.571 ms  9.445 ms
 4  po-10-ur01.wchicago.il.chicago.comcast.net (68.87.230.109) 36 bytes to 68.57.205.126  9.799 ms  23.337 ms  23.484 ms
 5  68.87.210.53 (68.87.210.53) 36 bytes to 68.57.205.126  13.377 ms  11.778 ms  55.350 ms
 6  be-10-ar01.area4.il.chicago.comcast.net (68.87.229.109) 36 bytes to 68.57.205.126  28.540 ms  13.578 ms  31.751 ms
 7  pos-1-12-0-0-cr01.chicago.il.ibone.comcast.net (68.86.90.53) 36 bytes to 68.57.205.126  139.361 ms  99.498 ms  105.380 ms
 8  xe-2-1-0.chi10.ip4.tinet.net (77.67.68.37) 36 bytes to 68.57.205.126  90.902 ms  22.550 ms  14.896 ms
 9  xe-0-0-0.ams10.ip4.tinet.net (89.149.186.233) 36 bytes to 68.57.205.126  115.629 ms
    xe-1-0-0.ams10.ip4.tinet.net (89.149.186.241) 36 bytes to 68.57.205.126  163.175 ms  118.991 ms
10  joint-transit-gw.ip4.tinet.net (77.67.72.30) 36 bytes to 68.57.205.126  116.769 ms  117.725 ms  120.046 ms
11  access.carrier.jointtransit.nl (213.207.0.245) 36 bytes to 68.57.205.126  135.225 ms  287.784 ms  138.462 ms
12  * * *
13  *
36 bytes from 193.11.161.132 to 68.57.205.126: icmp type 5 (Redirect) code 1
 4: x28000045
 8: x00408061
12: x36750630
16: x7ecd3944
20: x56a10bc1
24: x59072923
28: x906ded12
32: x00000000
 * *
14  * * *
15  * * *
16  * * *
17  * * *
18  * * *
[hellas] 102 % exit
Script done on Mon Jul 20 14:35:32 2009
     I'm wondering why 193.11.161.132 (u193-11-161-132.studentnatet.se) is
issuing the redirect.  Why is the original routing going to Sweden?
     Trying traceroute from mp.cs.niu.edu, which is where I deal with email
and is here in the same town (actually, it's only a few blocks away), I get:
Script started on Mon Jul 20 14:48:31 2009
mp% traceroute -v 89.248.169.109
traceroute to 89.248.169.109 (89.248.169.109), 30 hops max, 40 byte packets
 1  131-156-145-001.eng.niu.edu (131.156.145.1) 56 bytes to 131.156.145.41  0.845 ms  0.572 ms  0.415 ms
 2  10.3.17.2 (10.3.17.2) 56 bytes to 131.156.145.41  0.501 ms  0.454 ms  0.372 ms
 3  131-156-168-009.eng.niu.edu (131.156.168.9) 56 bytes to 131.156.145.41  0.387 ms  0.405 ms  0.390 ms
 4  131-156-168-018.eng.niu.edu (131.156.168.18) 56 bytes to 131.156.145.41  0.516 ms  0.485 ms  0.483 ms
 5  131.156.168.34 (131.156.168.34) 56 bytes to 131.156.145.41  2.577 ms  15.241 ms  2.407 ms
 6  STATIC_86.240.220.206.gramtel.net (206.220.240.86) 56 bytes to 131.156.145.41  2.647 ms  2.646 ms  2.578 ms
 7  so-1-3-0.0.rtr.newy32aoa.net.internet2.edu (64.57.28.15) 168 bytes to 131.156.145.41  30.226 ms  29.822 ms  30.046 ms
 8  paix-ny.3-2.r1.ny.hwng.net (198.32.118.76) 56 bytes to 131.156.145.41  30.398 ms  29.754 ms  29.548 ms
 9  1-1.r1.lo.hwng.net (69.16.191.50) 56 bytes to 131.156.145.41  100.471 ms  100.518 ms  109.836 ms
10  5-3.r3.lo.hwng.net (209.197.1.198) 56 bytes to 131.156.145.41  100.577 ms  112.211 ms  100.507 ms
11  5-2.r2.am.hwng.net (209.197.1.202) 56 bytes to 131.156.145.41  107.838 ms  107.886 ms  111.272 ms
12  5-1.r1.am.hwng.net (69.16.191.121) 56 bytes to 131.156.145.41  108.377 ms * *
13  * * *
14  * * *
15  * * *
16  * * *
17  * * *
18  * * *
19  * * *
20 ^Cmp% exit
mp% script done on Mon Jul 20 14:51:27 2009
     Best of luck getting your provider to straighten out the routing.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-20 17:04:07
@_author: Scott Bennett 
@_subject: My tor exit node is STILL gone from the node list 
On Tue, 21 Jul 2009 00:03:10 +0300 "Alexandru Cezar"      I've never worked with Xen, so I can't answer that.  However, it is
certainly possible to misconfigure other virtualization environments in
ways that would probably cause those symptoms.  OTOH, it strikes me as
more likely that the host system's packet filtering/redirection/NAT software
may be misconfigured.  Xen doesn't yet run on the BSDs, AFAIK, so I'll guess
that it's running on a LINUX system of some flavor, so iptables is probably
the filtering package.  Beyond that, I can't tell you much.  Some of the
LINUX users on this list ought to be able to give you some help in figuring
out whether the problem is with Xen or with the host system.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-21 02:55:16
@_author: Scott Bennett 
@_subject: My tor exit node is STILL gone from the node list 
On Tue, 21 Jul 2009 08:41:46 +0200 Timo Schoeler
     Actually, no, I didn't, but I did write :-) :
     Actually, it was Alexandru reporting the problem, not I, but it's not
obvious that it is fixed.  kyirong2 has been missing from the consensus
for quite a few hours now.  I don't know whether that means he is trying
different Xen tricks, is working with his ISP, or some other possibility
that would leave his node down or unreachable for now.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-23 01:56:22
@_author: Scott Bennett 
@_subject: How to set time. 
On Wed, 22 Jul 2009 22:41:14 -0700 Kyle Williams       For someone wishing to make a portable image for use on a USB flash
device or even a CD and designed to be as simple to use as possible, it
would be a useful feature for a *client* to be able to get a current time
and date from one of its chosen entry guards (or perhaps a choice from
among the responses from all entry guards selected (default of 3).  (This
would, of course, require that entry guards be used, but that is currently
the default option anyway.)  Relays currently need to have correct (or
nearly correct) system clocks anyway, and as the nearest nodes to the client,
they would be the obvious candidates for the clients to ask.
     A problem may result if the client, having gotten a current time and
date from a tor entry node, tries to set the system time and date a) using
an inappropriate method for the combination of user id and operating system
or b) coding errors in a valid method, either of which would obviously
detract from simplicity and ease of use. :-)
     On systems that distinguish clearly among userids (ahem) and especially
ones where different userids have different security privileges, tor normally
changes its userid to something specific to tor during initialization,
usually as soon as any privileged operations have completed and before any
ordinary tor operations have begun.  An attempt to set the system time and
date on a system that associates privileges with userids may fail if it takes
place after tor has relinquished extra privileges.  An  hypothetical
alternative method would involve tor keeping its own clock to use in the
form of an offset from the system clock, but such an approach may well be
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-23 17:21:15
@_author: Scott Bennett 
@_subject: How to set time. 
On Thu, 23 Jul 2009 17:32:27 -0400 Niels Elgaard Larsen      I don't think that would be good enough to satisfy tor's requirements
for time consistency.
     Actually, no, three would not be enough, but statistical quality
control of some sort would be necessary.  First off, this kind of thing
should be a last resort option, not a common approach.  Second, choosing
a random sample size within a certain range would help.  Maybe limiting
the contacts to guards in this case should be dropped, allowing a much
larger set of relays to be queried for the correct time.  Then computing
the mean and standard deviation would allow the client to disregard any
outlier timestamps that might represent an attack, based upon some set
limit, say, 1/4 sigma, but that the entire sample set would be discarded
if the variance were too large relative to the mean and a new sample set
constructed.  Also, it should be obvious that the data collection could
not be done over DirPort connections.
     Another irritating problem is that a tunneled connection probably
would entail delays too lengthy to use for setting a time, so an observer
seeing a set of direct connections during startup numbering in the range
of acceptable sample sizes could make a shrewd guess as to whether the
client were determining the correct time or were building tunneled
connections for fetching consensus and directory updates.
     Right.  Those are no good in this situation.
     Yup.  A discouragingly large fraction of the user population would
probably not understand how to set the time, even if told. :-<
     Exactly.  Also, NTP is not encrypted, so an observer would know the
set of time values from which one value would be used by the client.
     Lest another point be forgotten, the methods of determining the correct
time that we are discussing here would only be available in the case of
client operations.  tor should still not set a clock or offset itself if
it is to run as a relay.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-23 17:41:36
@_author: Scott Bennett 
@_subject: hidden services questions 
What happens if someone offers a hidden service (i.e., same .onion
address, same keys, etc.) on more than one computer, perhaps in different
locations?  How do HSDir servers handle such a situation?  Does the most
recently published hidden service descriptor supplant earlier descriptors
even if it comes from a different source?  Can HSDir servers even recognize
a [possible] problem?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-24 06:26:39
@_author: Scott Bennett 
@_subject: Newbie needs help 
On Fri, 24 Jul 2009 12:18:52 +0100 Bob Williams
     Just a thought...when you look at the bottom of your firefox window,
do you see a small box that says, "Tor Enabled" in green lettering?  If it
has red lettering saying, "Tor Disabled", try clicking on it.
     If you are running tor only as a client, you should not need to do
anything to your router.  If you are running tor also as a relay, then you
do need to set RDR rules for your ORPort and, optionally, DirPort.  tor does
not directly provide any sort of UDP service to the outside world, so no,
you needn't worry about doing anything about UDP at all in your router for
tor operation.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-24 06:41:32
@_author: Scott Bennett 
@_subject: Newbie needs help 
On Fri, 24 Jul 2009 13:37:50 +0200 Christian Fromme      Why do you think that?  What he posted above shows that tor started
up okay, successfully built a circuit, and has encountered no situation
since that time that would require logging a notice-level message.  What
is broken about that?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-24 06:55:49
@_author: Scott Bennett 
@_subject: Newbie needs help 
On Fri, 24 Jul 2009 12:40:39 +0100 Bob Williams
     Okay.  Next, open a firefox Preferences panel.  I haven't decided to
switch to firefox3 yet, so I don't know whether the procedure is the same,
but in firefox2 one selects the preferences option from the Edit menu.
In the Preferences panel, click on the Advanced item at the top, then
click on the Network tab.  Next, click on the Settings... button, which
should give you a second panel, titled Connection Settings.  Make sure that
all of the settings are correct, namely, Manual proxy configuration: is
selected in the radio buttons, HTTP Proxy: says localhost and port 8118,
SSL Proxy:, FTP Proxy:, and Gopher Proxy: all say the same as HTTP Proxy:,
SOCKS Host: says, localhost and port 9050, the radio button for SOCKS v5
is selected, and No proxy for: includes at least 127.0.0.1, localhost, and
whatever your IP address on your LAN happens to be.  When everything looks
right, click the OK button at the bottom.
     That is the right approach to getting there.  Remember, too, that if
you do intend to use tor as client for your own access, that running it
also as a relay, as you say you intend to do at some point, adds extra
camouflage for your own traffic.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-24 07:16:50
@_author: Scott Bennett 
@_subject: Newbie needs help 
On Fri, 24 Jul 2009 14:06:55 +0200 Christian Fromme      On UNIX systems, the default signal sent by kill is SIGHUP.  Is that
default signal different on LINUX systems?  A SIGHUP will not result in
tor shutting down unless it discovers an error upon rereading torrc.  On
a UNIX system, "kill -TERM " should be used.  On FreeBSD systems,
tor puts its pid into a file called /var/run/tor/tor.pid, so a command
like "kill -TERM `cat /var/run/tor/tor.pid`" will initiate the shutdown
sequence, but the tor port in FreeBSD also establishes a script called
Changing "stop" to "start" does what it says, and "restart" combines "stop"
and "start".  I'm surprised a LINUX installation doesn't have some
equivalent setup, though with different path names to the files involved.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-24 07:31:27
@_author: Scott Bennett 
@_subject: Newbie needs help 
On Fri, 24 Jul 2009 14:24:45 +0200 Christian Fromme      I guess my recollection was wrong.  I should have looked at the man
pages before posting. :-<  The man pages on Solaris and FreeBSD also both
say that SIGTERM is the default.  I always specify the signal, so I guess
I must have gotten the default mixed up somewhere.  Mea culpa.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-03 03:56:13
@_author: Scott Bennett 
@_subject: eliminating bogus port 43 exits 
On Fri, 03 Jul 2009 10:25:41 +0200 Hans de Hartog      Hnh.  That's interesting, even bizarre.  Maybe something has changed.
I guess I can try reopening port 43 and see what happens.  When I had it
wide open before, it soon exceeded the port 443 counts.  After a month or
more, the port 43 count was usually several times as high as the port 443
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-24 14:45:47
@_author: Scott Bennett 
@_subject: VoIP telephony building like Tor 
On Fri, 24 Jul 2009 21:33:33 +0400 James Brown      On a FreeBSD 7.2-STABLE system, a "cd /usr/ports; make search name=phone"
yields a lot that is irrelevant, but also a few that you might look into a
bit further.  Extracting the important lines gives:
Port:   kphone-4.2_2
Path:   /usr/ports/net/kphone
Info:   A voice over internet phone
WWW:    Port:   linphone-3.1.2,1
Path:   /usr/ports/net/linphone
Info:   A web phone that supports SIP protocol
WWW:         In the search output there was also a couple of video conferencing tools:
Port:   cphone-0.3.2.c.20060407_5
Path:   /usr/ports/net/cphone
Info:   H323 Video Conferencing Program which uses QT
WWW:    Port:   ohphone-1.4.5_5
Path:   /usr/ports/net/ohphone
Info:   H323 Video Conferencing Program, compatible with NetMeeting
WWW:         A "make search key=zrtp" turns up:
Port:   twinkle-1.4.2
Path:   /usr/ports/net/twinkle
Info:   Soft phone for your VoIP communcations using the SIP protocol
WWW:         Disclaimer:  I know nothing about any of the software listed above.
I cannot say whether it will do what you want done, nor can I vouch for
its security.  You may choose to find out more at the web sites listed
above, or you may simply ignore this message.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-25 06:59:43
@_author: Scott Bennett 
@_subject: VoIP telephony building like Tor 
On Sat, 25 Jul 2009 18:12:52 +0700 "Vlad \"SATtva\" Miller"
     Given that what he wrote is about a) events reported in the press
internationally and b) one of the highest priority justifications for
having a tor development project in the first place, *your* comment
would appear to be a non sequitur.  Perhaps you should have changed
your Subject: line to reflect whatever OT issue you wished to discuss
instead of what was already being discussed.
     The OP has requested information, and several of us now have tried
to find information that he might be able to use to his advantage in
the situation he believes he faces.  If you have additional information
along these lines, please post it.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-25 07:18:45
@_author: Scott Bennett 
@_subject: Hidden Service Weirdness 
On Sat, 25 Jul 2009 07:58:42 -0400 Ringo <2600denver at gmail.com>
wrote, quoting without attribution:
     Not really.  All ports numbered less than 1024 are privileged ports for
both TCP and UDP.  (I have no idea about other protocols, e.g., SCTP.)
     An easy solution is to advertise "ORPort 80" (or DirPort 80, whichever
you're trying to get), while using "ORListenAddress [IP address]:[real port]",
then set up NAT/RDR rules as needed to forward port 80 to the real port number.
     On FreeBSD systems, tor built from the source in a downloadable tar
archive comes configured to run as userid _tor and groupid _tor.  I just leave
it that way and use the method outlined above to reroute packets for the
privileged port numbers to the ports tor actually listens on.  Works great for
me, and it doesn't cause tor to crash if it needs to rebind those ports for
some reason because the ports it listens on are not privileged.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-26 02:32:45
@_author: Scott Bennett 
@_subject: warning message question 
Saturday morning, I got the following message.
Jul 25 09:33:57.004 [warn] Received http status code 502 ("Proxy Error") from server '80.190.246.100:80' while fetching consensus directory.
Can anyone explain the situation(s) that can result in such a message?
     Thanks in advance!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-26 05:22:02
@_author: Scott Bennett 
@_subject: warning message question 
On Sun, 26 Jul 2009 03:52:38 -0400 Roger Dingledine      Eeeeuuuuuwwwwww!  That's hideous.  Why would someone configure a mess
like that when they could just as easily use an RDR rule?
     How would a typical user know that the "proxy" in question was an
apache server on the other end?  Ugh.
     Bummer.  Thanks for the explanation, Roger.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-27 23:45:51
@_author: Scott Bennett 
@_subject: Speed observations... 
On Mon, 27 Jul 2009 16:39:31 -0400 Michael Cozzi
     Yes.
     Read section 3.3 of
The above will likely answer questions you may have about other flags, too.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-28 08:18:20
@_author: Scott Bennett 
@_subject: HSDir relays over 10% of total at last! 
I think it was over a year ago that I noted that the counts of HSDir
relays was dangerously close to the minimum of six for the new hidden service
protocol to work properly.  At the time, I posted instructions, which have
been obviated for many months now in the "unstable" branch of tor, on what
to add to torrc to get one's relay to begin operating as a HSDir server.
I also suggested that an initial target of the fraction of the total relay
population to have providing HSDir service for both reliability and
performance might be 10%.
     This morning, for the first time since I posted that message, I have
now seen the HSDir relay count exceed 10% of the total.  The page at
torstatus.kgprog.com this morning says in its summary box near the bottom,
To me this is very good news!  And it should only continue to get better
as more and more people migrate from 0.1.x.x and 0.2.0.x to 0.2.1.6-alpha
and later versions of tor.  (Please do NOT take that as a recommendation
to switch to anything but a current version.  I list 0.2.1.6-alpha because
that version, IIRC, was the first version to default to running as a HSDir
relay when run in relay mode.)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-29 02:16:29
@_author: Scott Bennett 
@_subject: VoIP telephony building like Tor 
Hi Alexander,
     On Sat, 25 Jul 2009 22:04:11 +0400 "Alexander Cherepanov"
     He gave no such indication in the single line of text that constituted
his followup and to which I was following up.
     Please reread what I wrote that you have quoted above.  It doesn't
matter whether you support or oppose the OP's political views.  The point
is that the OP made apparent reference to events reported both in the press
in Russia and in the international press as a reason *he* was afraid and
wanted to use tor.  That should be more than sufficient information for
anyone on this list to understand the OP's motivation for asking his
     Fair enough.  However, if Phil Zimmermann had waited until the FBI
had its Carnivore system up and running, along with further development
already in progress, we probably would never have gotten PGP or its
successors.  He dropped all of his paying work for many months in order
to design, code, test, and release PGP 1.0, all justified *in his own mind*
on the basis of what he had heard or read that the FBI was talking about
     Yeah, well, that is certainly unnecessary.  Specific applications
should be developed outside of tor by interested parties.  I already worry
that tor itself will become too large and complex to be kept safe to use.
There are already various telephone applications that might be modified
to work with proxy support that would enable the use of tor with them.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-30 00:44:25
@_author: Scott Bennett 
@_subject: Newcomer - Want only act as server between servers 
Hi Bernd,
     Welcome!
     On Thu, 30 Jul 2009 02:12:47 +0200 "Bernd Schmelter"
     Opinion?  I must have missed it in what you wrote.  Is such a relay
useful?  Yes, indeed.  Thank you for running it.
     I assume you must have also defined an ORPOrt because the output below
shows everything working correctly.
     It must be because it does appear to be working. :-)  However, you
didn't provide enough information for us to look for your relay in the
consensus or directory information to see how that looks.  I tried
searching on your email address in case you had used the same email
address in the ContactInfo, but didn't find it.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-30 01:01:47
@_author: Scott Bennett 
@_subject: seven bloxortsipt* relays ought *not* to be Valid 
In the directory, I found seven relays whose names all begin with
These relays
That much, IMO, ought to justify removal of their Valid flags by the
authorities.  In the meantime, I have them all in my ExcludeNodes list, and
I recommend that all relay operators concerned about security in tor do
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-30 01:25:40
@_author: Scott Bennett 
@_subject: seven bloxortsipt* relays ought *not* to be Valid 
I mentioned the above in support of c).
     By all means, feel free to do so, but for now, they are not safe relays
to use, and their operator(s) has thus far demonstrated irresponsibility
and/or incompetence for the safe operation of tor relays.  Therefore, these
relays should be considered a clear and present danger to all users of tor
clients.  I'm keeping them in my ExcludeNodes list and still recommend that
every tor client user do likewise until a) the Valid flags are removed and/or
b) their descriptors show up as up-to-date and properly configured.
     While we are waiting for one or the other event to occur, if you wish
to take the risk of getting a circuit constructed entirely of broken relays,
that is your prerogative, but it surely looks like bad practice to anyone
with an eye toward security.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-30 06:26:38
@_author: Scott Bennett 
@_subject: (FWD) Re: seven bloxortsipt* relays ought *not* to be Valid 
On Thu, 30 Jul 2009 03:02:00 -0400 Roger Dingledine      Thanks for forwarding that message to the list, Roger.  I hope Truxton
will stay better informed and up to date from now on.  I will check the
directory in a few days to see whether it is yet safe to remove his nodes
from my ExcludeNodes list.
     FWIW, I went through the entire portion of that list devoted to nodes
running very obsolete versions of tor several hours ago.  I'm happy to
report that around 15 - 20 of them--I didn't think to keep count until too
late to do so--have switched to versions of tor that are on the list of
server-versions distributed by the authorities since the time many moons
ago that I went through the directory looking for nodes that were very
obsolete and probably unsafe to use.  It was still disheartening, to see
that most the nodes on the list could not be removed because they either
were not currently listed in the consensus or directory or were still
running 0.1.x.x versions. :-(
     I have not yet taken the time to go through the full directory again
to find new nodes that ought to be added to the list, but I should think
that there wouldn't be many because nodes that weren't in the directory
at the time I produced the first list are probably new nodes and thus
would likely have been set up with 0.2.x.x versions anyway.  The handful
of obsolete 0.2.x.x nodes from my original list appear to have all upgraded
since that time.  (Yay!:-)  Any 0.2.x.x nodes that are really obsolete are
probably in the 0.2.0.x series, so I'll try to take a closer look at those
when I can find the time (and patience:-) for it.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-30 07:36:01
@_author: Scott Bennett 
@_subject: [RESOLVED] Re:  seven bloxortsipt* relays ought *not* to be Valid 
I am happy indeed to report that Truxton has acted *very* quickly and
appears to have corrected the two problems of an obsolete, unsecure version
of tor and lack of a node family specification on all of the nodes listed
above, according to latest directory information.  I have removed these nodes
and a NodeFamily specification from my torrc and no longer know of any reason
not to let your clients go ahead and build circuits through them.
     A look at the Family specifications appearing in the new directory entries
for these nodes reveals an astonishingly long list of Nicknames, several times
as many as I had listed in my earlier complaint.  Truxton appears to have
absolutely *humongous* plans for the future. :-)
     Now if we can just get similarly great responses from the rest of the
operators of obsolete tor nodes, it will be wonderful.  Finding other cases
of Family violations will be a lot trickier, I suspect.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-30 19:08:29
@_author: Scott Bennett 
@_subject: Newcomer - Want only act as server between servers 
On Thu, 30 Jul 2009 19:53:11 +0200 "Bernd Schmelter"
     Yes, I can, and it looks great.  Thank you very much for your
contribution!  Regarding the configuration information, the torrc
stuff looks fine to me, but I can't comment on the LINUX stuff.
     BTW, something you wrote earlier worries me a bit.  You wrote
that you only want your node to operate as a middle node.  You can
prevent it from providing exit service, as you have done with your
ExitPolicy statement, but I am not aware of any way to prevent it
from being an entry node.  You should be aware that clients *will*
connect to its ORPort and that it will respond accordingly.  Because
it is not an exit node, it should receive a Guard flag from the
authorities after it has been up for a few days.  Once it has a
Guard flag, it will receive much higher numbers of connections from
clients.  All such connections will be encrypted, however, and
should not be a cause for concern.  To an outside observer, such
connections really are not readily distinguishable from router-to-
router connections.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-31 07:51:22
@_author: Scott Bennett 
@_subject: frequent empty/closed connections 
With the last few versions of tor (I'm running 0.2.1.17-rc at present),
I've been getting a *lot* of the following messages in firefox.
Empty server or forwarder response.
The connection has been closed but Privoxy didn't receive any data.
In other words, instead of a web page, privoxy returns a page that is blank
except for the two lines of text shown above, which appear at the top of the
blank page.  This is with privoxy 3.0.12.  Usually, hitting refresh will get
the proper page, but sometimes it takes doing that a couple of times.
     Does anyone else get these, too?  I suspect that the problem may be in
privoxy, rather than tor, but haven't yet figured out a test for that
hypothesis.  Any ideas?
     Thanks in advance for any information or suggestions about this problem.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-04 01:27:07
@_author: Scott Bennett 
@_subject: help requested to file bug report 
Several days ago, I sent a bug report to tor-assistants at torproject.org
because the bug reporting web site still refuses to let me log in.  I keep
checking the web site to see whether the report has been posted, but thus
far, no joy.  If someone who is allowed by the web site to log in would
be willing to post the report for me, please contact me by email off the
     Thanks!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-04 02:02:23
@_author: Scott Bennett 
@_subject: help requested to file bug report 
On Sat, 04 Jul 2009 00:34:54 -0600 jon      Done.  Thanks for the assist.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-04 03:50:22
@_author: Scott Bennett 
@_subject: TOR Exit via [Squid, other] 
On Sat, 4 Jul 2009 04:27:12 -0400 grarpamp      Of course, as soon as someone among us noticed and reported such
behavior, the filtering exit would get a BadExit flag from the authorities.
     Either you accept or you reject exits.  You don't interfere with traffic
for the ones you accept.  That is the rule.  Violators are bad exits and get
flagged as such.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-04 04:40:19
@_author: Scott Bennett 
@_subject: Bush's DHS program continues under Obama 
After the demise of the constitutional republic, the North American
Surveillance State continues to grow ever nastier, complete with an
unconscionable slur on the good name of Albert Einstein.  See the article
The need for tools like tor and PGP/GPG ought to become more and more apparent
to Americans as time goes on.  Meet the new boss:  same as the old boss.  Joe
Stalin, eat your heart out.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-01 07:56:09
@_author: Scott Bennett 
@_subject: @Scott Bennett 
On Tue, 30 Jun 2009 21:34:38 +0200 Ansgar Wiechers      Once again your presumption is mistaken.  I had indeed read that
gloriously opaque stretch of text, though it has been a while since I last
suffered through it.
     In any case, I did not refer to that document, as your latest remark
above tacitly admits, but rather to the generally accepted practice that
had been discovered decades ago to be what worked most satisfactorily by
the participants of countless mailing lists.
     Perhaps this is a language issue.  See, for example, definition 2a at
which covers my usage.  Note further that definition 1a includes both my
usage ("custom") and yours ("law", although RFCs are not law, but rather
proposed reference specifications, at most).  English can be very efficient
and compact, but sometimes at the risk of ambiguity due to the plethora
of meanings that a single word may have.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-01 09:47:37
@_author: Scott Bennett 
@_subject: @Scott Bennett 
On Wed, 1 Jul 2009 16:06:52 +0200 Ansgar Wiechers                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
     You know, I've answered you truthfully several times now.  Your
reaction has been to imply that I've lied to you.  As far as I'm concerned,
that ends the conversation and probably renders pointless any further
conversations between us on any topic.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-07 01:24:44
@_author: Scott Bennett 
@_subject: concerning tor bug report #1026 
I submitted tor bug report  via Jon ,
who volunteered to post it to bugs.torproject.org for me because that web
site refuses to log me in.  (Should I write up a bug report on that, too?)
The report has since accumulated two comments, one on Saturday by Karsten
Loesing and one on Monday by Roger Dingledine.  I address their comments
here because I am unable to do so on the web site.
     Karsten and Roger, there seems to be some confusion over the way the
bug report is listed in its indexed information.  I do not know why it is
listed as a tor client bug when it clearly should be listed as a tor
relay (a.k.a. "server") bug (likewise for   I cannot account either
for the severity and priority rankings for either  or   The
version in the title of  (0.2.1.15-rc) is the correct version for
which the symptoms are being reported, not 0.2.0.35 as shown in the
indexed information as the "Reported Version".
     I would like to reiterate that the bug is not a bug in the authority
functions of tor, but rather a bug in the relay descriptor-updating
functions of tor.  Nothing but the date+timestamp was changed in the new
descriptor update sent to the authorities, but it was sent much earlier
than the normal time for the ~18-hourly update, so the relay *SHOULD NOT*
have sent the update in the first place.  That is the whole point.
     Please feel free to copy the above information into the comments area
for bug report      Thank you.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-07 08:28:15
@_author: Scott Bennett 
@_subject: concerning tor bug report #1026 
On Tue, 7 Jul 2009 13:51:53 +0200 Sebastian Hahn      Yes, I see the mistake now.  My apologies.  I was still thinking about
the "Last edited by" field at the top of the report. :-(
     Okay.  From Roger's comment, I wasn't sure.  In any case, it is *not*
an old report.  This happened late last week, Thursday, IIRC.
     Yes, I see your comment.  However, if the decision is to go with making
the relay (not client) recognize that the authorities didn't take the update,
then the ~18-hour timer should *not* be changed from its setting before the
failed attempt to update.  18 hours from the previous publication time will
be soon enough, at least in this situation, right?
     I am approaching the conclusion that there may be quite a few ways in
which relays may be incorrectly dropped from the consensus and that it may
take a while to pin each of them down. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-07 10:55:42
@_author: Scott Bennett 
@_subject: concerning tor bug report #1026 
On Tue, 7 Jul 2009 17:39:10 +0200 Sebastian Hahn      But *which* descriptor?  The last successful one?  Or the one that
     The way to make that happen is to continue using the ~18-hour timer
that is already in service since the last successful update until and unless
the authorities accept an update, at which point the timer should be reset.
Otherwise, yes, the normal ~18-hour update will not happen until ~18 hours
after the failed update attempt, which means the relay will be absent from
any consensi issued during the interval between the original timer expiration
and the updated timer expiration.
     BTW, thank you for looking at this so quickly.  This one indeed is
much less urgent than the one Nick already fixed for me, but it's good
to know that it is being investigated.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-07-07 11:40:23
@_author: Scott Bennett 
@_subject: concerning tor bug report #1026 
On Tue, 7 Jul 2009 18:10:00 +0200 Sebastian Hahn      I think you snipped just a bit too much above.  You wrote that the
relay needs to recognize when its descriptor is about to expire.  I asked
which descriptor [is about to expire]?  So your reply above is nonsensical.
(Surely, a brand-new descriptor is not just about to expire?)  The new
descriptor is generated to replace some earlier descriptor, namely, either
the descriptor that was already in effect at the time of the failed update
or else the descriptor that failed the update.  So which one's timer is used
to ascertain that a descriptor is about to expire?  I argue that, in the
event of an update failure, the expiration time of the descriptor already
on file at the authorities should be used to determine when a new descriptor
should be sent to the authorities, not the expiration time that would have
applied to the failed descriptor had it succeeded.
     Okay.  I hope it works.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-10 15:38:32
@_author: Scott Bennett 
@_subject: Tor bridge not generating any traffic 
On Wed, 10 Jun 2009 21:20:04 +0200 Arjan
     That may or may not be so.  But why start out on a block list, thereby
eliminating whatever useful life that address might have had, obviating the
running of a bridge?
     You do bring up an important point, though.  It would be nice to have
some automated way to have a tor bridge's IP address "expire" and trigger a
DHCP request or some such thing to cancel an IP address assignment and get a
new one whenever a bridge happened to have no circuits through it for a while.
However, because that would involve a lot of activity to proceed *apart from
tor*, there may be no reasonable way to do it, especially given the disruption
of other networking processes likely to be running on the same system.  It
remains to be seen how IPv6 access is likely to play out at the ISP customer
level, but perhaps there would be some better way to accomplish that sort of
thing with IPv6.  For example, if each customer were automatically assigned
a block of IPv6 addresses, different addresses might be allocated for
different activities on the same system through a single physical interface
(e.g., multiple addresses on jails).
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-11 15:19:31
@_author: Scott Bennett 
@_subject: Tor bridge not generating any traffic 
On Thu, 11 Jun 2009 21:23:33 +0200 Johannes Nitsche top-posted (please learn not to do that):
ExitPolicy reject *:*
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-12 02:29:42
@_author: Scott Bennett 
@_subject: eliminating bogus port 43 exits 
A bit over a month ago, I posted here some exit statistics by port number.
One major oddity among them was the count of port 43 (whois) exits, which
seemed extraordinarily large, especially in relation to the counts for other,
more expectedly popular port numbers.  Some of the comments I got in response
gave me an idea.  In the what follows here, keep in mind that the second most
frequently occurring exit port number in the statistics previously reported
was 443 (https), and that the count of port 43 exits was in the millions when
the count of port 443 exits was several hundred thousand.  It is important to
note that my node's exit policy regarding port 80 (http) is highly restrictive,
resulting in very low exit counts for that port.  Keeping that in mind, the
exit counts for almost all other ports were not and are not similarly
     I replaced the "ExitPolicy accept *:43" in my torrc file with the
 list of allowed whois exit addresses
ExitPolicy accept 192.103.19.12:43	# whois access to whois.6bone.net
ExitPolicy accept 192.149.252.44:43	# whois access to whois.arin.net
ExitPolicy accept 193.0.0.135:43	# whois access to whois.ripe.net
ExitPolicy accept 194.85.119.77:43	# whois access to whois.ripn.net
ExitPolicy accept 196.216.2.1:43	# whois access to whois.afrinic.net
ExitPolicy accept 198.108.0.18:43	# whois access to whois.ra{,db}.net
ExitPolicy accept 199.7.51.74:43	# whois access to whois.crsnic.net
ExitPolicy accept 199.7.55.74:43	# whois access to whois.internic.net
ExitPolicy accept 199.43.0.144:43	# whois access to whois.arin.net
ExitPolicy accept 200.160.2.3:43	# whois access to whois.registro.br
ExitPolicy accept 200.160.2.15:43	# whois access to whois.lacnic.net
ExitPolicy accept 202.12.29.13:43	# whois access to whois.apnic.net
ExitPolicy accept 202.30.50.120:43	# whois access to whois.krnic.net
ExitPolicy accept 205.178.188.12:43	# whois access to whois.networksolutions.com
ExitPolicy accept 206.51.224.229:43	# whois access to whois.nic.gov
ExitPolicy accept 208.77.188.18:43	# whois access to whois.icann.org
ExitPolicy accept 208.77.188.87:43	# whois access to whois.iana.org
ExitPolicy reject *:43		# nicname whois
 of whois exit policy specifications
     The relationship now between the exit counts for ports 43 and 443 in the
last few days since I switched to 0.2.1.15-rc with Nick's patch applied looks
like this:
  439 Exit to port 43
72052 Exit to port 443
In other words, by restricting just port 43 exits to only the legitimate whois
IP addresses, I eliminated at least 70% of *all* exits through my tor node,
which suggests to me that the vast, overwhelming majority of exits from the
tor network are illegitimate and place a terribly taxing load upon the tor
network as a whole.  This apparent fact, in turn, suggests that if a) all
tor nodes with an explicit exit policy were to restrict port 443 exits to
just the legitimate port 43 IP addresses and b) the tor default exit policy
did the same, a huge and illegitimate load would be lifted from the tor network
overall.  If no relays offer exits to port 43 that don't go to the NICs' whois
servers, well over half of all tor exits, which are illegitimate and
undeserving of service in the first place, will be eliminated (not counting
typical port 80 (http) traffic, of course).
     Because my node's exit policy for port 80 (http) is not wide open, it is
hard for me to estimate the relative importance of bogus port 43 requests
w.r.t. legitimate port 80 (http) requests.  Because of my node's limited port
80 exit policy, I would be *very* interested in seeing exit counts for nodes
with unrestricted exit policies for the combination of ports 43, 80, and 443
in order to get a better idea of their relative importances.
     Nevertheless, the impact of eliminating those exit opportunities can be
expected to be quite significant in terms of performance of the network
overall, particularly because circuits will not need to be built in the first
place for such requests.  If even a few relays continue to offer unrestricted
exits for port 43, they will get so badly hammered by all the bogus exit
requests that they will cease to be important to normal operations of the tor
network until such time as they may modify their exit policies to be more in
tune with valid use of the tor network, rather than use by some sort of port
scanner or whatever junk software is currently consuming so much of the tor
network's resources, except to the extent that such non-conforming nodes would
be incurring the cost of the circuits to reach them for the exit service.
     Please note also that changing the default exit policy and most tor node's
explicit exit policies to the above specification would not prevent tor exit
node operators from adding other legitimate whois servers' IP addresses to
their exit policies.
     Therefore, I encourage all tor exit node operators to make the above
described change to the exit policies of their exit nodes.  (Feel free to copy
and paste.)  I further suggest that the default exit policy for tor be modified
in all future releases of both the stable and development branches of tor to
have the exit policy for port 43 shown above, as modified from time to time as
the NICs' whois server addresses may change.
     Comments are both welcome and encouraged.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-12 03:48:39
@_author: Scott Bennett 
@_subject: eliminating bogus port 43 exits 
On Fri, 12 Jun 2009 00:44:19 -0700 Kyle Williams      Please stop doing that.  It is terribly rude.
     No, of course not!
     I have not regarded that as an important issue.  Please see
     Absolutely not!  Please either justify your insults or else refrain from
further aspersions.
     That was my reaction as well and part of the reason I posted the earlier
round of exit statistics.  As I mentioned before, the responses I received
prompted the change in exit policy and now the posting of relevant results
from the change.
     I hope you have more scruples with regard to such action than you have
apparently assumed that I might have.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-13 00:56:22
@_author: Scott Bennett 
@_subject: eliminating bogus port 43 exits 
Well.  I see that there has been moderately vigorous discussion going
on since I posted my new information regarding port 43 exit statistics, which
is just what I had hoped for. :-)  I don't have responses for all of the
points raised in the followups so far, but I can comment on some of them.
     I'm not at all sure that that is happening in this case.  My node's
exit policy leaves port 4321 (rwhois) wide open, yet the exit count for
the same time period covered in the statistics I posted last night is
only 22.
     Drat.  You're quite right.  I forgot all about those.  However, a
quick check shows that an awful lot of those are at the same IP addresses
for which I currently allow port 43 exits.  In other words, the whois
servers I've listed in my exit policy are also covering many of those
     I agree.  I'll try to add the ones I can find that are at IP addresses
distinct from the ones already allowed.
     Well, I see the situation a bit differently.  First off, I just find
it very hard to understand how there could be five, ten, or more times as
many legitimate whois connections as https connections.  My own usage of
whois lookups is generally fewer than ten per week, mainly in tracking
down information about sources of junk mail, whereas I do untold numbers
of https web page fetches per week.
     An alternative approach would be to treat a default for port 43 just
like the default treats port 25, I suppose.
     As noted above, I'll get to the additions when I find an hour or so
free to do it.  I'll provide another update to the list once I've
accumulated more data with the expanded list.  However, I suspect at this
point anyway that the expanded list is unlikely to result in drastically
different exit counts relative to the counts for other ports.  As you say,
though, the truth will be in the data, not in my suspicions.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-13 01:35:58
@_author: Scott Bennett 
@_subject: eliminating bogus port 43 exits 
On Fri, 12 Jun 2009 15:24:33 -0400 grarpamp      The problems with the above, however, run like this.  whois is a
service that ought to be comparatively little used, at least relative
to https, yet unrestricted exits to port 43 and 443 resulted in port 43
exits numbering many times the port 443 exit count.  Which are valid
and which not?  Well, the ones going to known, legitimate whois server
IP addresses are either valid or they aren't getting what they *are*
trying to get.  I agree that it is possible that the ones going to other
IP addresses might truly be going to whois servers not identified in my
exit policy, but I am not currently able to believe that any large
fraction of them are.
     Normal whois responses are not very large, a few KB at most, and
much smaller than the typical web page.  Your definition above of the
impact is only part of the load.  There is a significant cost to building
a circuit and to tearing it down later.  When my port 43 exit counts
were several times the combined totals for all 320-odd other ports, it
looked to me very much as though something were not right and also that
it was quite a burden upon the tor network.
     Really?  I'm not sure how you would accomplish that in any meaningful
way.  The normal situation is that a client examines the exit policies to
find exit nodes whose policies do allow the exit *before* the client
constructs the circuit.  Thus there is normally no failure due to mismatches
between the client's requests and the exit nodes' policies.  There are
exceptions, of course, which occur after an exit node's policy has been
changed but before the changed descriptor has been propagated to all clients.
When mismatches occur under this scenario, then both client and exit node
can tally them, but how useful would those tallies be?
     Again, this appears to be untrue.  If the connection is made to a
legitimate server, then the request is very likely legitimate.  If it
is not a legitimate request for the service standardly offered on the
port number in question (whois, in this case), then the illegitimate
request is unlikely to get what it is looking for from the legitimate
server at that address.
     It never was law; it was, and still is, an RFC.  Keep in mind, too,
that port numbers < 1024 (e.g., port 43) are not only reserved numbers,
but *privileged* port numbers.  It is true that people do deliberately
falsify the usage under some circumstances (e.g., the tor project's
recommendation that port 80 be used for ORPort of DirPort to allow
clients behind fascist firewalls to access the tor network), but these
are the exceptions that illustrate the rule.
     Sure, they do.
     But that has always been true.  See, for example, ancient commands
like telnet(1).  Yet they typically have a default value that is the
number reserved by IANA for the service in question.
     I pointed out in another followup a short time ago that my exit
policy leaves port 4321 (rwhois) unrestricted, yet the exit counts for
that port are very tiny, so I don't think that referrals account for a
significant portion of the unrestricted port 43 exit counts.
     True.  I don't know what can be done about that, though.
     Other folks have already begun addressing this issue, and I can't
think of much of value to add to what they've already written.
     Interesting thought.  Would you elaborate a bit on what you have in
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-13 02:08:21
@_author: Scott Bennett 
@_subject: eliminating bogus port 43 exits 
On Fri, 12 Jun 2009 23:14:12 +0200 Nils Vogels      Now that does look like a promising approach, although "dnspl" ("pass"
list) might be a more accurate description in this case than "dnsbl". :)
It would need to be somewhere associated with the tor project, I suspect,
in order to be workable.  But yes, if set up properly, it could be done
on a port-by-port basis, so that the same data base could be used to
identify legitimate servers for other services if the same kind of situation
were identified for other port numbers.  The port 53 traffic to support it
could be minimized by having fairly long TTLs on the A RRs in the data base
and a cacheing mechanism for the A RRs in tor.  Although the final rejection
point for addresses not listed would still be the exit node, clients should
also check during route selection to prevent circuit construction for
destinations that weren't on the pass list.  Perhaps also the ExitPolicy
operands could offer a construction like "ExitPolicy accept dnslookup:43"
to use the feature, whereas the currently existing methods would remain
available as well.
     Another method, of course, would be to add another auxiliary file to
tor like the geoip file.  However, that would entail the same limitations
currently involved in the use of the geoip file, such as long-term retention
and use of obsolete data.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-13 02:21:27
@_author: Scott Bennett 
@_subject: eliminating bogus port 43 exits 
Yes, that would be helpful to know.
     Something appears to have gotten altered in transmission here.  I don't
think I suggested any particular fraction of the tor network's traffic be
attributed to port 43, but maybe someone did.  What I was suggesting was that
the number of exit connections would well be over 70% of the total exit
connections for exit policies similar to mine.  My exit policy, for example,
allows port 80 (http) exits for a finite set of IP addresses, which results
in small, but non-zero, exit counts for port 80.  Nevertheless, the *burden*
upon the tor network is not the same as the traffic volume.  The burden of
constructing untold millions of illegitimate circuits and tearing them down
later is something that I doubt has been calculated.  Obviously, though, you
would be far more likely to know whether such calculations have been performed
than would I.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-13 02:59:30
@_author: Scott Bennett 
@_subject: eliminating bogus port 43 exits 
On Sat, 13 Jun 2009 08:45:33 +0100 Anon Mus
     That's an interesting observation.  I'm not involved in the P2P
file-sharing community, so I'm often unaware of the details.  I had hoped
that such activities would have been carried out over unassigned ports
and most certainly over only non-privileged ports.  Sigh.
     Fat chance, IMO.
     I remain resolutely opposed to any exit content snooping.  Nevertheless,
this does bring up something I forgot in my earlier followups tonight.
Because my exit policy so severely limits port 80 (http) exits, I have no
usable statistics to give me an idea of the relative frequencies of port 43
or port 443 exits to port 80 exits.  If someone running an exit node that
allows unrestricted exits to all three of these ports, I would like very much
to see your numbers.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-13 04:27:29
@_author: Scott Bennett 
@_subject: Bitblinder = Tor 2 
On Sat, 13 Jun 2009 10:07:28 +0200 Max      Wow.  Two malware blasts on this list in a single week. :-(  What a drag.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-13 05:02:18
@_author: Scott Bennett 
@_subject: eliminating bogus port 43 exits 
On Sat, 13 Jun 2009 10:46:26 +0200 Dominik Schaefer      Because port 43 is a privileged, reserved port for that function.  There
are tens of thousands of unprivileged, unreserved ports available for use for
whatever anyone wants to do with them, subject only to the possibility that
there is no guarantee that any of those ports will remain unreserved.  Use of
privileged, reserved ports is fraught with risks from conflicts with the
officially allocated uses.  The uses for which some port numbers are reserved
are indeed the legitimate uses.  Certainly, there is nothing in TCP to prevent
any reserved port number for being used for a different purpose than that for
which the port is reserved, but it is unwise to do so in most cases.
     In principle, yes.  However, many of us do choose to offer tor access at
those port numbers because the unreserved, unprivileged port numbers have been
unreasonably blocked by certain controlling agencies.  To the best of my
knowledge, there has been no such concerted effort to block services like
whois, rwhois, and so forth.  I suppose it is also worth noting that the whois
function is one of the basic functions used to call up information necessary
to proper maintenance of Internet operation, whereas something like tor is not.
     Apparently not, although that would certainly make things more convenient.
     Yes, I obviously forgot about the ccTLD whois servers.  I will attempt to
add those that are not already covered by the ones in the list I posted, and
when I have data based upon an exit policy that includes those servers, I will
post an update to the list.  I do not know offhand how to deal with the issue
of private/unofficial whois servers, except that I doubt we should worry about
providing access to them via tor.
     I still find it difficult to believe that there are so many genuine whois
requests being proxied through tor--note that the standard whois(1) does not
have a way to specify the use of a proxy, so something like proxychains(1) is
required in order to funnel whois requests through tor--that they so
dramatically outnumber https requests.  It's *just* *not* *credible*.  Without
solid evidence to the contrary, it would not be credible even if it did not
require that special efforts be made to trap and redirect the normal whois TCP
connections through tor, but that it does require that special effort makes the
notion even less believable.
     That having been said, the use of IP addresses of known, legitimate whois
servers is the only method that has occurred to me so far to allow genuine
whois request to pass through the tor network while also excluding the high
volume of non-whois connections masquerading as whois connections.  This in no
way denies the problem of obtaining/maintaining a complete or accurate list
of real whois server.
     More information is, of course, always a good idea and should be welcomed,
provided it is obtained by means that are both ethical and legal.  In fact, if
you're running an exit, would you be willing to provide some numbers regarding
the relative exit counts on your node for ports 43, 80, 443, and 4321?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-13 12:13:43
@_author: Scott Bennett 
@_subject: eliminating bogus port 43 exits 
Hi Jon,
     On Sat, 13 Jun 2009 10:20:45 -0600 Jon      Okay, consider how tor works.  Each request to connect to a destination
IP address's TCP port 43 and all data traveling in both directions over the
resulting connection travel in a unique tor stream.  There is some overhead
at each of several steps in the process of establishing the stream, encrypting
and decrypting the data, passing data in both directions, and then destroying
the stream.
     Each stream exists within a circuit.  If the client already has a circuit
available that can support the stream, then that is good.  Many streams can be
supported by a single circuit, so there is not a 1:1 correspondence in the
total number of requests (and therefore streams), which makes it difficult to
know just what the impact of millions/billions of extraneous streams happens
to be, but for the sake of discussion, let's say that the average circuit ends
up having supported 10 streams by the time it is shut down.
     If the client currently has no circuit available to support a stream,
then it must build one.  This is a slow and tedious process with lots of
overhead demand placed upon the relays selected for the route of the circuit
to be built.  It is an unfortunate fact that many circuits fail during the
construction phase and get destroyed without ever having been used.  All such
failed circuits amount to lost/wasted tor network capacity.
     Suppose a 100 KB/s tor exit node services 150,000 exits/week for https
(port 443).  But if its exit policy allows unrestricted exits for whois
(port 43), it may also end up having to service 750,000 - 1,500,000 port 43
exits.  If we average 10 streams/circuit, then that adds the burden of 75,000 -
150,000 circuits to the other loads already on this exit node, as well as
distributing twice that burden (assuming routelen = 3) across the rest of the
tor network.  If that traffic is legitimate, then that's just life, and is
part of the service the tor network was established to provide.  However, if
95% or more of those port 43 streams and circuits are bogus, then they
represent lost/wasted capacity that then is not available to provide the
service that tor is intended to provide.
     When you consider that the distribution of circuits across the set of
exit nodes that allow exits to a particular port is based upon the relative
data rate capacities of all exits in that set, you see that what one exit node
experiences should be similar to what all others in that set experience,
proportionally adjusted according to relative capacities.  In other words, if
a single, 100 KB/s exit node is burdened with bogus exits to the tune of 10,
20, or maybe 30 times as many as the combined total of all the legitimate exit
requests it gets, then all the other exit nodes in that set are getting
hammered basically the same way.  That amounts to a horrendous waste of tor
resources that could have been devoted to providing better service for the
legitimate requests.
     Again, it is important to keep in mind that the volume of payload data
traversing the tor network is only one part of the consumption of tor network
resources.  Circuit construction and tear-down are another big piece of the
picture.  Remember that circuit construction means lots of very slow asymmetric
key exchanges, as well as lots of overhead at the TCP and IP levels.  Each tor
hop in a circuit might have 10 - 30 physical hops through the Internet.
     Yeah, looking at the content is a really noxious idea.  I don't understand
why anyone would ever suggest it if they've bothered to read the documentation
and other materials available on the torproject.org web site.  And if someone
has *not* read those materials, they really shouldn't be running tor nodes.
     I would still very much like to hear from exit node operators who allow
exits to ports 80 (http) and 443 (https) to find out what the ratio of http
exits to https exits might be.  If those same nodes also allow exits to port 43
(whois) and/or port 4321 (rwhois), then those figures might be helpful, too,
although just the ratio of http:https exits should be enough to clarify the
magnitude of the potentially bogus traffic burden pretty well because I can
already calculate the other ratios from the data I already have.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-13 19:36:48
@_author: Scott Bennett 
@_subject: eliminating bogus port 43 exits 
[Hmmm...it's getting a bit gassy in here, methinks.]
     It seems to me that Roger dealt with this matter as well as it can
currently be dealt with.  There is a distinction between looking at things
like packet headers and looking at payload data.  The former is acceptable
and necessary at times for proper system and/or network administration,
whereas the latter is probably not acceptable without a court order and may
result in criminal liability in some jurisdictions.  There are obvious
exceptions about payload data, e.g., using tcpdump on your own system to
figure out what is going wrong with the interactions between your client
application(s) and your data base server, but these exceptions just as
obviously are unrelated to what we've been discussing.
     If you use a packet filter on your system, you (in the proxy of your
filtering software) are looking at packet headers.  tor looks at IP addresses
and port numbers in SOCKS connection requests to determine which exit nodes
can serve the requests. If you use QoS software, you are also looking at
packet headers.  If you use NAT/RDR in your configuration to route
packets to/from tor's ORPort and/or DirPort, you (in the proxy of your
filtering software) are looking at packet headers *and you are rewriting them*.
These activities are not at issue and should not be raised as a strawman
argument in favor of snooping on payload data.
     So let's stop arguing over things we shouldn't be arguing about and
return to discussing reduction of abuse of the tor network's resources.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-14 01:15:43
@_author: Scott Bennett 
@_subject: eliminating bogus port 43 exits 
On Sat, 13 Jun 2009 12:25:13 -0600 Jon      Well, the definition I've been using probably isn't terribly rigorous,
at least in the sense that there are quite a few justifiable exceptions to it.
But basically it goes like this.  IANA maintains a list of port numbers that
are reserved for certain services' use.  A lot of software is written to use
the reserved port numbers as the default port numbers for communications
supporting the services for which the numbers are reserved, although some
implementations of the relevant clients and servers allow direction that some
alternative port numbers be used instead, a feature fairly essential for
testing in many situations.  However, when the use of a reserved port number is hijacked for some other service than the one for which it is reserved, the
new usage constitutes "bogus traffic" in most cases.
     tor itself provides an example of two exceptions (one each for ORPort and
DirPort) justified by the necessity of evading the attempts by certain parties
to block access to tor's services.  Thus the plea in the tor documentation to
get some tor nodes to use ports 80 and 443 for ORPort and DirPort seems a
justified exception to the general rule.  (I am a bit uncomfortable with the
expectation that using port 80 for ORPort can evade intrusion and/or blocking
by the likes of China's Great Firewall because all the firewall would need to
do to decide whether to block it would be to see whether a connection were
encrypted.  Connections coming into an ORPort are supposed to be encrypted,
but http connections are not.  The same thing in reverse would appear to apply
to looking at port 443 connections because https is supposed to be encrypted,
whereas DirPort connections are not.)
     Note that ports 9001 and 9030, the defaults for ORPort and DirPort, are
not reserved ports, according to IANA's list, so anyone is free to use them
for any other purpose.
     Now, another person on this list has argued that the RFC's should be
ignored and that IANA should be ignored.  I remain unconvinced that doing
either would be a good idea.  Having a set of standard port numbers at which
one may expect to access standard services is valuable, and much of what we
have all come to expect from networking and the Internet would be effectively
hidden from our access if these standards were not followed by most system
and/or network adminstrators.  This concept is not different in principle from
having 802.11[abgn] channels assigned to certain frequency bands where we can
expect to find access points.  If people routinely adjusted software-tunable
transmitters and receivers in wireless interfaces to other parts of the EM
spectrum, most people would soon stop wasting their time trying to connect
to attach points.  Conversely, if ham radio operators routinely adjusted their
equipment to operate in the frequency bands reserved for 802.11[abgn] wireless
networks, there would also be a lot of unhappy computer users.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-14 03:14:15
@_author: Scott Bennett 
@_subject: allowing exits to more whois servers triggers bug 
I added quite a few ExitPolicy lines to allow exits to whois servers
I found on a list.  Unfortunately, rather than uploading a new descriptor,
tor is now issuing error messages that repeat frequently.
Jun 14 03:03:08.492 [notice] Received reload signal (hup). Reloading config and resetting internal state.
Jun 14 03:03:08.502 [notice] Tor 0.2.1.15-rc opening log file.
Jun 14 03:03:08.502 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Jun 14 03:03:08.502 [warn] Can't log to stdout with RunAsDaemon set; skipping stdout
Jun 14 03:03:08.536 [warn] router_dump_router_to_string(): Bug: descriptor policy_write_item ran out of room!
Jun 14 03:03:08.536 [warn] router_rebuild_descriptor(): Bug: Couldn't generate router descriptor.
Jun 14 03:03:08.581 [warn] router_dump_router_to_string(): Bug: descriptor policy_write_item ran out of room!
Jun 14 03:03:08.581 [warn] router_rebuild_descriptor(): Bug: Couldn't generate router descriptor.
Jun 14 03:03:08.651 [warn] router_dump_router_to_string(): Bug: descriptor policy_write_item ran out of room!
Jun 14 03:03:08.651 [warn] router_rebuild_descriptor(): Bug: Couldn't generate router descriptor.
     These will eventually overflow my log file space, so I'll probably have
to comment all the port 43 ExitPolicy lines temporarily to prevent that from
happening and also to allow descriptor updates to succeed. :-(
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-14 03:35:20
@_author: Scott Bennett 
@_subject: eliminating bogus port 43 exits 
On Sun, 14 Jun 2009 09:57:31 +0200 Hans de Hartog      Unfortunately, the above method is unlikely to see more than a tiny
fraction of the port 43 exits, which are usually of very short duration.
     Instead, try turning on info-level logging.  Then you can use something
 nice +14 /usr/bin/sed -e 's/connection_edge_finished_connecting(): Exit connection to \[scrubbed\]:/Exit to port /' -e 's/(\[scrubbed\]) //' -e 's/(.* established.//' -e 's/\ established.//' -e 's/ 1499//' | \
  nice +14 sort -n -g +7 -8 | uniq -c -f 7
(Beware of linewrap in the line containing the /usr/bin/sed command.)  Note
that your paths, options to sort(1) and uniq(1), etc. may vary, depending
upon your operating system.  This example works properly for FreeBSD.  Also,
use of nice is obviously optional, but a good idea if you're sharing a system
with other users at the same time.  Output from the above looks like this:
  39 Jun 14 03:19:02.223 [info] Exit to port 443
   1 Jun 14 03:16:21.795 [info] Exit to port 6001
   1 Jun 14 03:19:20.310 [info] Exit to port 6010
   1 Jun 14 03:16:24.275 [info] Exit to port 6666
and so on, where the number at the lefthand side is the number of exits for
that port, and the date+timestamp is from the first occurrence in the log file
of an exit for that port.  You may wish to change the final form of the output
lines to suit your own taste.
     I think you'll find that scanning an info-level log file gives you a
very different result from looking at periodic samplings of netstat(1) output.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-14 04:06:58
@_author: Scott Bennett 
@_subject: Dupe named exit nodes, friend or foe? 
It's normal, if somewhat unfortunate.  If you recall the thread I started
several weeks ago about the huge numbers of nodes named "tbreg", then be
advised that the current directory and consensus information are still full of
them.  tor uses the key fingerprint as the node's "real" identifier.  The
name gotten from the Nickname line in torrc is just an attempt to be easier on
humans' eyes.  Many nodes with unique key fingerprints can all be configured
to use the same Nickname, but because tor uses the fingerprints, rather than
the Nickname fields, to distinguish between nodes, there is no conflict.
     The other piece of the story is that if someone is using a prepackaged
tor configuration, like the "tbreg" nodes appear to be, it might also be set
up such that the OR's keys are destroyed every time it is shut down.  If that
is indeed the case, then new keys will be generated each time tor is started,
thus leading to publication of a new descriptor each time.  If the IP address
has remained unchanged from one startup to the next, then it will appear that
many separate tor instances share the same IP address, even though that isn't
really what is going on.  Essentially, such packages make tor relays disposable
entities whose lifespans are equal to the lifespans of particular instances
of tor.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-14 04:29:32
@_author: Scott Bennett 
@_subject: torrc placement w/o make install 
Starting with the sample in tor-0.2.0.34/src/config/torrc.sample, you
can copy it into /usr/local/etc/tor/torrc and then fix it up however you like.
     See the man page for tor.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-15 02:43:49
@_author: Scott Bennett 
@_subject: eliminating bogus port 43 exits 
On Sun, 14 Jun 2009 14:42:16 +0400 "Alexander Cherepanov"
     Actually, the default policy does neither.  It simply allows exits to
most ports and blocks exits to a few.  IIRC, vidalia takes a different
approach, defaulting to a relay only configuration.
     That is true, but did anyone say that that was tor's purpose?  I don't
recall ever seeing such a proposition before on this list or anywhere else,
for that matter.
     To recap a moment, I'll point out that when I originally posted some
exit statistics here in late April or early May covering about 60 days of
operation, the exit count for port 43 was huge in comparison to the counts
for all other ports and even in comparison to the total count for all other
ports combined.  It seemed to me a bit weird, so I asked the list for any
thoughts people might have as to how to explain the high port 43 count.
The responses I remember seeing at the time suggested that it was not due,
in fact, to whois traffic, but more likely to port scanners or other malware
operations.  The port scanner explanation struck me as rather weak at that
time because the other wide open ports didn't show numbers of that magnitude
except for port 443, and the port 443 exit counts seemed eminently reasonable.
     I have proceeded since then on the premise that most of the port 43 exit
traffic was not, in fact, whois traffic.  I do want to provide service to
whois traffic on port 43, but not to other traffic using that port because
such traffic places an a heavy burden on the tor network and is most likely
for unpleasant purposes, according to the responses on the list.  Thinking
that I could come up with a list of whois server IP addresses, I decided to
limit port 43 exits to just such a list.  Any whois traffic using other port
numbers would simply have to deal with whatever exit policy applied to the
port number chosen for it.  I figured that the vast majority of whois traffic
would use port 43, so any that didn't wasn't something I should worry about
extensively.  So I tried it, and lo and behold, the port 43 exit count dropped
to levels that I could believe were really representative of actual whois
     Then a couple of days ago after I posted information about new results,
it was pointed out that I had missed a large number of official whois servers.
So I went back and added their addresses.  Unfortunately, 0.2.1.15-rc was not
able to publish its descriptor bearing the additional exit policy information,
so for the time being, I've simply closed port 43 to exits through my relay.
Whenever I'm informed that the bug has been fixed, I'll try again.
     mailx(1).
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-17 08:32:21
@_author: Scott Bennett 
@_subject: Iran + tor 
On Wed, 17 Jun 2009 15:12:27 +0200 Alexander Bernauer      For blocked directory servers:
 Use tunneled directory server connections when available
  (defaults to 0)
TunnelDirConns 1
 Avoid using directory servers that do not provide tunneled connections
  (defaults to 0)
PreferTunneledDirConns 1
     For general blocking of tor relays from tor(1) man page:
       Bridge IP:ORPort [fingerprint]
              When set along with UseBridges, instructs Tor to use  the  relay
              at  "IP:ORPort"  as a "bridge" relaying into the Tor network. If
              "fingerprint"  is  provided  (using  the  same  format  as   for
              DirServer),  we will verify that the relay running at that loca-
              tion has the right fingerprint. We also use fingerprint to  look
              up  the  bridge descriptor at the bridge authority, if it's pro-
              vided and if UpdateBridgesFromAuthority is set too.
       UpdateBridgesFromAuthority 0|1
              When  set  (along with UseBridges), Tor will try to fetch bridge
              descriptors from the configured bridge authorities  when  feasi-
              ble.  It  will  fall  back  to a direct request if the authority
              responds with a 404. (Default: 0)
       UseBridges 0|1
              When set, Tor will fetch descriptors for each bridge  listed  in
              the  "Bridge"  config  lines, and use these relays as both entry
              guards and directory guards. (Default: 0)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-03 04:17:08
@_author: Scott Bennett 
@_subject: tor controller hangs / doesn't reply 
On Tue, 02 Jun 2009 18:54:03 -0400 Sambuddho Chakravarty
     For the wget(1) case, do you have the ftp_proxy and http_proxy
environment variables both set to "localhost:8118"?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-03 04:48:41
@_author: Scott Bennett 
@_subject: silent tor crash 
I'm not sure whether I should try to submit a bug report on this or not.
After installing FreeBSD 7.2-RELEASE, installing many ports, updating to
7-STABLE, etc., I finally got privoxy and tor working again yesterday.  There
have been some problems, though, including an unexplained automatic reboot,
a GPU crash necessitating powering the machine down and rebooting, and now a
silent tor crash (0.2.1.14-rc).
     After reading all the posts about the TRHCourtneynn relays, which should
not only be marked with BadExit, but also *not* be marked Valid, I decided to
add them all to my ExcludeNodes list for failure to be grouped in a node
family.  I added them to torrc, forgot to do a --verify-config, and then sent
SIGHUP.  It issued the usual messages about opening a log file and not being
able to log to stdout with RunAsDaemon set, but otherwise issued no further
messages.  Three or four minutes later, I realized that the count of
ESTABLISHED TCP connections had gone down to the two or three that I was
currently using for non-tor purposes.  Looking further, I saw that tor had
vanished without so much as a fare-thee-well.  The timing isn't exactly clear,
but I suspect that it died shortly after those messages about the logging that
it always issues after getting a SIGHUP or upon initialization.
     So I don't have much information to offer in a PR.  Should I just skip it?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-03 05:22:46
@_author: Scott Bennett 
@_subject: silent tor crash 
Since posting that I did turn up one small, relevant message in
Jun  3 03:28:11 hellas kernel: pid 1578 (tor), uid 256: exited on signal 4 (core dumped)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-21 21:43:51
@_author: Scott Bennett 
@_subject: jurisdictional concentration of authorities 
Perhaps it may be time to revisit an old discussion here with the
developers.  At present, just seven directory authorities are listed in the
directory.  Three of these fall within the jurisdiction of the United States,
and the remainder fall within the jurisdiction of the European Union.  This
situation presents a substantial vulnerability to the tor network, IMO,
given the degree of cooperation between the two jurisdictions, not to mention
the arrangements among the EU's member states and the U.S.
     Are we now at an appropriate stage such that the developers could
entertain the idea of discreetly soliciting a few more potential authority
sites and operators in other jurisdictions?  I submit, for examples, that
Brazil, Japan, and probably the Union of South Africa may have adequately
fast and reliable Internet infrastructures that such sites might be available
in those jurisdictions.  There may well be others, too.  I am not sure of the
situation in India, but it strikes me that that country might also be a good
location for an authority.
     My aim here is to harden the tor network against incapacitation by some
future decision by one or two jurisdictions working in collusion to suspend
tor operations by shutting down the authorities in their countries.  If, say,
no two jurisdictions working together could command a shutdown of the majority
of authority servers, the tor network ought to be somewhat safer.
     Comments and discussion, particularly from current directory authority
operators and developers, are hereby solicited. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-21 21:51:58
@_author: Scott Bennett 
@_subject: many new relays 
Somewhere on the order of 500 new relays or so seem to have appeared
in the tor network in the past week.  I take this as a very welcome event,
not only for the future of the tor network and enhanced performance of the
network, but because it suggests that quite a lot of people have become
more aware of the need for network anonymity.
     What bothers me a trifle is that the timing of all this also suggests
that it has been triggered by the ruckus over the recent election in Iran.
I hope that most of the new tor nodes will stick around for the long haul
after the situation in Iran has quiesced, rather than simply being up for
a few weeks and then vanishing again.
     Either way, though, I welcome them all for as long as their operators
are willing to help out by running relays.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-21 22:38:37
@_author: Scott Bennett 
@_subject: bad link on download page 
The link for the sha1 digest of the tor-0.2.1.16-rc.tar.gz file on the
download page at  returns a 404
Not Found error.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-22 01:04:33
@_author: Scott Bennett 
@_subject: jurisdictional concentration of authorities 
On Mon, 22 Jun 2009 01:22:30 -0400 Roger Dingledine      Where would I find that, please?  The only pointer I have at present
for the proposals is
which stops at 159, so I gather the above is no longer the right place to
look for proposals.
     Yes.  That document does note, for example, under the heading of
The "until" portion seems to apply at present both for the group in the U.S.
and for the group in the E.U.
     This is why I was suggesting that you and the other core developers
pursue the matter discreetly (i.e., behind the scenes) to get someone with
the right setup and whom you trust, as opposed to advertising somewhere like
this list.  At least some of you travel to conferences of various sorts where
you are likely to encounter other dedicated tor enthusiasts.  I don't know
how long you want to have known them or how closely or whether some might
have some professional reputations that would engender your trust, but
somehow authority operators in more parts of the world must be found.
     The countries I listed were just an attempt to pick countries that,
AFAIK, do have the necessary infrastructure in at least some of their cities
and do not have terribly close political/administrative ties to either the
U.S. or the E.U.  I did not mean to limit the opportunities to that list
of countries at all, but I do think it would be a good idea, given the current
political climates in the U.S. and the E.U. to move away quickly from having
all of the authorities vulnerable to those governments.
     A corollary is that it would seem a poor idea to add any new authorities
in either the U.S. or the E.U. until enough new authorities elsewhere have
been added that new authorities in the U.S. or the E.U. would not cause their
respective groups to reach the condition I cited above from the document on
authorities that you referred to.  If there are currently only two V3
authorities in the U.S., for example, then adding "lostinthenoise" would
"approach quorum (half the authorities)" without fixing the existing problem
that the E.U. authorities already exceed half.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-22 07:38:48
@_author: Scott Bennett 
@_subject: bad link on download page 
On Mon, 22 Jun 2009 08:27:48 -0400 Andrew Lewman      Thanks!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-22 16:04:30
@_author: Scott Bennett 
@_subject: jurisdictional concentration of authorities 
On Mon, 22 Jun 2009 12:05:20 -0700 (PDT) Martin Fick      [Note to Denis Dimick :  it is not
necessary to post your messages twice to this list.  Once is
enough to get it distributed, although it may take a few minutes.]
     This, BTW, was also the point about RFCs and reserved port
numbers in the earlier thread on suspected bogus use of port 43
exits.  Having a standard means programmers can make defaults
that generally work, while still allowing a site to deviate from
the standard for its own users.  That is quite different, though,
from someone harassing sites all over the planet that offer the
standard whois service on port 43.  The former doesn't bother me
at all, while the latter is something to which I do not care to
dedicate the vast majority of exit service used at my tor exit
     Quite so.  Those who remember the early '90s will recall a
very public dispute over the restrictions then imposed upon
domain names, which resulted in a sizable group of participants
establishing an entire, alternative domain name space with its
own root servers.  I haven't heard anything about it for many
years now, so I suspect it may have fallen out of use, but the
point is that such things can be, and have been, done already.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-03 07:01:44
@_author: Scott Bennett 
@_subject: silent tor crash 
Something else has turned up.  It appears that a tor.core file was left
in /var/db/tor after the crash a few hours ago.  If that would be of any use
to someone like Roger or Nick, I'd be happy to send it.  Or if it should be
included in a bug report, then can be done, too.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-22 19:31:07
@_author: Scott Bennett 
@_subject: jurisdictional concentration of authorities 
On Mon, 22 Jun 2009 14:40:04 -0700 coderman      That looks much better.  Thanks much!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-23 09:16:13
@_author: Scott Bennett 
@_subject: Conspiracy: Piratebay owned by CIA (TOR involved, also) 
On Tue, 23 Jun 2009 13:22:04 +0200 Timo Schoeler
     Why did you post the above to OR-TALK?  If you intended it to be some
form of humor, you definitely missed the mark.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-23 09:43:07
@_author: Scott Bennett 
@_subject: Conspiracy: Piratebay owned by CIA (TOR involved, also) 
On Tue, 23 Jun 2009 16:25:01 +0200 Timo Schoeler
     I repeat:  why did you post it?  What did you intend?  You posted it
without any explanation as to why anyone should bother.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-23 10:36:18
@_author: Scott Bennett 
@_subject: Strange tor status... 
On Tue, 23 Jun 2009 18:03:35 +0300 Andrei Lavreniyuk      You are listed as the contact person in the descriptors.  Perhaps you
should tell us why you keep starting and stopping it.
     It isn't listed in the most recent consensus document.  Perhaps you
had it shut down before or during the voting.
     I note that none of the above is the most recent:
router ReactorRelay 86.111.64.45 9001 0 9030
platform Tor 0.2.1.16-rc on FreeBSD amd64
opt protocols Link 1 2 Circuit 1
published 2009-06-23 13:47:51
opt fingerprint 7A4A 7CD2 24A6 1C82 06F2 47F2 0B6C 2475 7F68 308B
uptime 549
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-23 10:48:27
@_author: Scott Bennett 
@_subject: Conspiracy: Piratebay owned by CIA (TOR involved, also) 
The web site appears to me to be the product of someone's mental health
troubles, which is the sort of thing that, in my book at least, doesn't even
get to take the snicker test, much less pass it, nor does it have any obvious
connection to tor.  OR-TALK, AFAIK, was not intended to be a mental health-
related discussion list.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-03 08:17:10
@_author: Scott Bennett 
@_subject: tor controller hangs / doesn't reply 
On Wed, 03 Jun 2009 09:01:09 -0400 Sambuddho Chakravarty
 top-posted (grrr...):
     Well, you probably need to fix that first.  Both ftp_proxy and
http_proxy are supposed to be set to the *proxy*, not to a URL.  (See
fetch(3) for more information.)  If you're using a Bourne-like shell,
try entering
export ftp_proxy http_proxy
OTOH, if you're using {,t}csh or something similar, try
setenv ftp_proxy localhost.:8118
setenv http_proxy localhost.:8118
The termination (.) at the end of "localhost" isn't strictly necessary,
but it speeds things up a bit.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-23 17:48:54
@_author: Scott Bennett 
@_subject: Strange tor status... 
On Tue, 23 Jun 2009 20:56:07 +0300 Andrei Lavreniyuk      I see that Roger has already answered w.r.t. the proximal cause, and
I have no way to pursue the original cause.  As he pointed out, it could
be due to some incorrect change made by your ISP/hosting company.
     My point regarding the more recent descriptor was simply to show that
a) it was more recent than the ones you showed and b) the uptime was less
than ten minutes.  However, the difference in opinion among the authorities
regarding the "Running" flag is troubling and suggests that restart was
likely not the source of the problem, so I'm at a loss here.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-03 09:07:49
@_author: Scott Bennett 
@_subject: SCTP 
This may seem to some like beating a dead horse, but SCTP really is
coming to the Internet.  It just looks too useful to die like OSI did.  The
more I find out about it, the more it looks like a really good match for
tor.  In fact, it looks like it might be something from a network-
application-developer heaven.  It has been available in FreeBSD since
7.0-RELEASE and was officially announced as being a fully supported part
of FreeBSD when 7.2-RELEASE was made available about a month ago.  More
features will be supported in 8.0-RELEASE whenever that comes out, too.
     There must be similar progress in LINUX kernel development, but I
don't follow that very much, so I'd be grateful if a few of the LINUX users
on this list were to describe the current support status of SCTP in the
various distributions of LINUX.  Sooner or later, even Micro$lop will have
to release it for its miserable excuses for operating systems, too.
     For those on this list who know even less about it so far than I do,
please see the sctp(4) man page from 7.2 below.  It's in serious need of
proofreading, but I'm sure those who are interested can struggle through
it if they can handle what often appears on this list. :)  If this stuff
isn't your bag, just skip the rest of the message.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
SCTP(4)                FreeBSD Kernel Interfaces Manual                SCTP(4)
     sctp -- Internet Stream Control Transmission Protocol
                       int
     socket(AF_INET, SOCK_STREAM, IPPROTO_SCTP);
     int
     socket(AF_INET, SOCK_SEQPACKET, IPPROTO_SCTP);
     The SCTP protocol provides reliable, flow-controlled, two-way transmis-
     sion of data.  It is a message oriented protocol and can support the
     SOCK_STREAM and SOCK_SEQPACKET abstractions.  SCTP uses the standard
     Internet address format and, in addition, provides a per-host collection
     of ``port addresses''.  Thus, each address is composed of an Internet
     address specifying the host and network, with a specific SCTP port on the
     host identifying the peer entity.
     There are two models of programming in SCTP.  The first uses the
     SOCK_STREAM abstraction.  In this abstraction sockets utilizing the SCTP
     protocol are either ``active'' or ``passive''.  Active sockets initiate
     connections to passive sockets.  By default, SCTP sockets are created
     active; to create a passive socket, the listen(2) system call must be
     used after binding the socket with the bind(2) or sctp_bindx(3) system
     calls.  Only passive sockets may use the accept(2) call to accept incom-
     ing connections.  Only active sockets may use the connect(2) call to ini-
     tiate connections.
     The other abstraction SOCK_SEQPACKET provides a ``connectionless'' mode
     of operation in that the user may send to an address (using any of the
     valid send calls that carry a socket address) and an association will be
     setup implicitly by the underlying SCTP transport stack.  This abstrac-
     tion is the only one capable of sending data on the third leg of the
     four-way handshake.  A user must still call listen(2) to allow the socket
     to accept connections.  Calling listen(2) however does not restrict the
     user from still initiating implicit connections to other peers.
     The SCTP protocol directly supports multi-homing.  So when binding a
     socket with the ``wildcard'' address INADDR_ANY, the SCTP stack will
     inform the peer about all of the local addresses that are deemed in scope
     of the peer.  The peer will then possibly have multiple paths to reach
     the local host.
     The SCTP transport protocol is also multi-streamed.  Multi-streaming
     refers to the ability to send sub-ordered flows of messages.  A user per-
     forms this by specifying a specific stream in one of the extended send
     calls such as the sctp_send(3) function call.  Sending messages on dif-
     ferent streams will allow parallel delivery of data i.e., a message loss
     in stream 1 will not block the delivery of messages sent in stream 2.
     The SCTP transport protocol also provides a unordered service as well.
     The unordered service allows a message to be sent and delivered with no
     regard to the ordering of any other message.
   Extensions
     The FreeBSD implementation of SCTP also supports the following exten-
     sions:
     sctp partial reliability This extension allows one to have message be
             skipped and not delivered based on some user specified parame-
             ters.
     sctp dynamic addressing
              This extension allows addresses to be added and deleted dynammi-
             cally from an existing association.
     sctp authentication This extension allows the user to authenticate spe-
             cific peer chunks (including data) to validate that the peer who
             sent the message is in fact the peer who setup the association.
             A shared key option is also provided for so that two stacks can
             pre-share keys.
     packet drop
              Some routers support a special satellite protocol that will
             report losses due to corruption.  This allows retransmissions
             without subsequent loss in bandwidth utilization.
     stream reset This extension allows a user on either side to reset the
             stream sequence numbers used by any or all streams.
     SCTP supports a number of socket options which can be set with
     setsockopt(2) and tested with getsockopt(2) or sctp_opt_info(2):
     SCTP_NODELAY                Under most circumstances, SCTP sends data
                                 when it is presented; when outstanding data
                                 has not yet been acknowledged, it gathers
                                 small amounts of output to be sent in a sin-
                                 gle packet once an acknowledgement is
                                 received.  For some clients, such as window
                                 systems that send a stream of mouse events
                                 which receive no replies, this packetization
                                 may cause significant delays.  The boolean
                                 option SCTP_NODELAY defeats this algorithm.
     SCTP_RTOINFO                This option returns specific information
                                 about an associations ``Retransmission Time
                                 Out''.  It can also be used to change the
                                 default values.
     SCTP_ASSOCINFO              This option returns specific information
                                 about the requested association.
     SCTP_INITMSG                This option allows you to get or set the
                                 default sending parameters when an associa-
                                 tion is implicitly setup.  It allows you to
                                 change such things as the maxium number of
                                 streams allowed inbound and the number of
                                 streams requested of the peer.
     SCTP_AUTOCLOSE              For the one-to-many model (SOCK_SEQPACKET)
                                 associations are setup implicitly.  This
                                 option allows the user to specify a default
                                 number of idle seconds to allow the associa-
                                 tion be maintained.  After the idle timer
                                 (where no user message have been sent or have
                                 been received from the peer) the association
                                 will be gracefully closed.  The default for
                                 this value is 0, or unlimited (i.e., no auto-
                                 matic close).
     SCTP_SET_PEER_PRIMARY_ADDR  The dynamic address extension allows a peer
                                 to also request a particular address of its
                                 be made into the primary address.  This
                                 option allows the caller to make such a
                                 request to a peer.  Note that if the peer
                                 does not also support the dynamic address
                                 extension, this call will fail.  Note the
                                 caller must provide a valid local address
                                 that the peer has been told about during
                                 association setup or dynamically.
     SCTP_PRIMARY_ADDR           This option allows the setting of the primary
                                 address that the caller wishes to send to.
                                 The caller provides the address of a peer
                                 that is to be made primary.
     SCTP_ADAPTATION_LAYER       The dynamic address extension also allows a
                                 user to pass a 32 bit opaque value upon asso-
                                 ciation setup.  This option allows a user to
                                 set or get this value.
     SCTP_DISABLE_FRAGMENTS      By default SCTP will fragment user messages
                                 into multiple pieces that will fit on the
                                 network and then later, upon reception,
                                 reassemble the pieces into a single user mes-
                                 sage.  If this option is enabled instead, any
                                 send that exceeds the path maximum transfer
                                 unit (P-MTU) will fail and the message will
                                 NOT be sent.
     SCTP_PEER_ADDR_PARAMS       This option will allow a user to set or get
                                 specific peer address parameters.
     SCTP_DEFAULT_SEND_PARAM     When a user does not use one of the extended
                                 send calls (e.g., sctp_sendmsg(3)) a set of
                                 default values apply to each send.  These
                                 values include things like the stream number
                                 to send to as well as the per-protocol id.
                                 This option lets a caller both get and set
                                 these values.  If the user changes these
                                 default values, then these new values will be
                                 used as the default whenever no information
                                 is provided by the sender (i.e., the non-
                                 extended API is used).
     SCTP_EVENTS                 SCTP has non-data events that it can communi-
                                 cate to its application.  By default these
                                 are all disabled since they arrive in the
                                 data path with a special flag
                                 MSG_NOTIFICATION set upon the received mes-
                                 sage.  This option lets a caller both get
                                 what events are current being received as
                                 well as set different events that they may be
                                 interested in receiving.
     SCTP_I_WANT_MAPPED_V4_ADDR  SCTP supports both IPV4 and IPV6.  An associ-
                                 ation may span both IPV4 and IPV6 addresses
                                 since SCTP is multi-homed.  By default, when
                                 opening an IPV6 socket, when data arrives on
                                 the socket from a peer's V4 address the V4
                                 address  will be presented with an address
                                 family of AF_INET.  If this is undesireable,
                                 then this option can be enabled which will
                                 then convert all V4 addresses into mapped V6
                                 representations.
     SCTP_MAXSEG                 By default SCTP chooses its message fragmen-
                                 tation point based upon the smallest P-MTU of
                                 the peer.  This option lets the caller set it
                                 to a smaller value.  Note that while the user
                                 can change this value, if the P-MTU is
                                 smaller than the value set by the user, then
                                 the P-MTU value will override any user set-
                                 ting.
     SCTP_DELAYED_ACK_TIME       This option lets the user both set and get
                                 the delayed ack time (in milliseconds) that
                                 SCTP is using.  The default is 200 millisec-
                                 onds.
     SCTP_PARTIAL_DELIVERY_POINT
                                 SCTP at times may need to start delivery of a
                                 very large message before the entire message
                                 has arrived.  By default SCTP waits until the
                                 incoming message is larger than one fourth of
                                 the receive buffer.  This option allows the
                                 stacks value to be overridden with a smaller
                                 value.
     SCTP_FRAGMENT_INTERLEAVE    SCTP at times will start partial delivery (as
                                 mentioned above).  In the normal case succes-
                                 sive reads will continue to return the rest
                                 of the message, blocking if needed, until all
                                 of that message is read.  However this means
                                 other messages may have arrived and be ready
                                 for delivery and be blocked behind the mes-
                                 sage being partially delivered.  If this
                                 option is enabled, when a partial delivery
                                 message has no more data to be received, then
                                 a subsequent read may return a different mes-
                                 sage that is ready for delivery.  By default
                                 this option is off since the user must be
                                 using the extended API's to be able to tell
                                 the difference between messages (via the
                                 stream and stream sequence number).
     SCTP_AUTH_CHUNK             By default only the dynamic addressing chunks
                                 are authenticated.  This option lets a user
                                 request an additional chunk be authenticated
                                 as well.  Note that successive calls to this
                                 option will work and continue to add more
                                 chunks that require authentication.  Note
                                 that this option only effects future associa-
                                 tions and not existing ones.
     SCTP_AUTH_KEY               This option allows a user to specify a shared
                                 key that can be later used to authenticate a
                                 peer.
     SCTP_HMAC_IDENT             This option will let you get or set the list
                                 of HMAC algorithms used to authenticate
                                 peers.  Note that the HMAC values are in pri-
                                 ority order where the first HMAC identifier
                                 is the most prefered and the last is the
                                 least prefered.
     SCTP_AUTH_ACTIVE_KEY        This option allows you to make a key active
                                 for the generation of authentication informa-
                                 tion.  Note that the peer must have the same
                                 key or else the data will be discarded.
     SCTP_AUTH_DELETE_KEY        This option allows you to delete an old key.
     SCTP_USE_EXT_RECVINFO       The sockets api document allows an extended
                                 send/receive information structure to be
                                 used.  The extended structure includes addi-
                                 tional fields related to the next message to
                                 be received (after the current receive com-
                                 pletes) if such information is known.  By
                                 default the system will not pass this infor-
                                 mation.  This option allows the user to
                                 request this information.
     SCTP_AUTO_ASCONF            By default when bound to all address and the
                                 system administrator has enables automatic
                                 dynamic addresses, the SCTP stack will auto-
                                 matically generate address changes into add
                                 and delete requests to any peers by setting
                                 this option to true.  This option allows an
                                 endpoint to disable that behavior.
     SCTP_MAXBURST               By default SCTP implements micro-burst con-
                                 trol so that as the congestion window opens
                                 up no large burst of packets can be gener-
                                 ated.  The default burst limit is four.  This
                                 option lets the user change this value.
     SCTP_CONTEXT                Many sctp extended calls have a context
                                 field.  The context field is a 32 bit opaque
                                 value that will be returned in send failures.
                                 This option lets the caller set the default
                                 context value to use when none is provided by
                                 the user.
     SCTP_EXPLICIT_EOR           By default, a single send is a complete mes-
                                 sage.  SCTP generates an implied record
                                 boundary.  If this option is enabled, then
                                 all sends are part of the same message until
                                 the user indicates an end of record with the
                                 special flag SCTP_EOR passed in the
                                 sctp_sndrcvinfo flags field.  This effec-
                                 tively makes all sends part of the same mes-
                                 sage until the user specifices differently.
                                 This means that a caller must NOT change the
                                 stream number until after the SCTP_EOR is
                                 passed to SCTP else an error will be
                                 returned.
     SCTP_STATUS                 This option is a read only option that
                                 returns various status information about the
                                 specified association.
     SCTP_GET_PEER_ADDR_INFO     This read only option returns information
                                 about a peer address.
     SCTP_PEER_AUTH_CHUNKS       This read only option returns a list of the
                                 chunks the peer requires to be authenticated.
     SCTP_LOCAL_AUTH_CHUNKS      This read only option returns a list of the
                                 locally required chunks that must be authen-
                                 ticated.
     SCTP_RESET_STREAMS          This socket option is used to cause a stream
                                 sequence number or all stream sequence num-
                                 bers to be reset.  Note that the peer SCTP
                                 endpoint must also support the stream reset
                                 extension as well.
SEE ALSO
     accept(2), bind(2), connect(2), listen(2), sctp_bindx(3),
     sctp_connectx(3), sctp_opt_info(3), sctp_recvmsg(3), sctp_sendmsg(3)
FreeBSD 7.2                    December 15, 2006                   FreeBSD 7.2

@_date: 2009-06-27 02:02:22
@_author: Scott Bennett 
@_subject: A Few Random Thoughts... 
On Fri, 26 Jun 2009 11:04:59 -0400 Michael      Although Roger can certainly speak/write for himself, I'll jump into
this one, too.
     If you don't have administrative control over the other relays, then no,
your node is not part of whatever family/families they may/may not be a part
of.  Keep in mind that most clients will not build circuits that include more
than a single node with an IP address in any given /16.  Some hosting services
may have more than that much IP address space, but in those cases, I really
doubt that you'll find much reason to worry except for the fact that they could
all be shut down at once.
     This points up an other issue that is indeed a potential security risk.
Those who manage tor nodes at hosting companies need to have ways to protect
the security of their nodes' log files and, most especially, their nodes'
secret keys.  Nodes at commercial hosting facilities need to keep *all* of
that kind of information in well encrypted file systems with no access to
anyone but the system administrator of the hosted system.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-28 23:07:55
@_author: Scott Bennett 
@_subject: Ping times with Tor running 
On Sat, 27 Jun 2009 08:47:01 -0700 Kris Linquist      A word of caution is in order here.  In the U.S., some cable ISPs
(e.g., Comcast) falsely market their services, so that you think you are
getting data-rate-based pricing of their services.  I.e., they offer
several different, guaranteed data rates (sometimes with higher burst rates,
though of unspecified duration/conditions for the bursts to get the higher
rates) at different price levels.  What these companies are not telling the
(potential) customers is that what they are *really* selling is a fixed,
maximum amount of data to be transferred, a total of bytes transmitted and
received, per month and that the different price levels are simply different
prices you can pay to use up the monthly limit in longer or shorter times,
none of which amount to more than a small fraction of a month at the
guaranteed data rate.
     If the customer exceeds the maximum amount of data transmitted and
received in a month, the customer will receive a phone call from a division
of that company (possibly previously unknown to employees in other parts of
the company, e.g., marketing, sales, technical support, customer service).
In the case of Comcast, the phone call serves to warn the customer that if
the customer ever exceeds the monthly data allocation again, the customer
will be disconnected for a minimum of twelve months.  The call may arrive at
a time during the month after the initial violation late enough that a second
violation may have already occurred.  In the case of Comcast, the company
division making the call claims to have no knowledge regarding the portion
of the current month's allocation the customer has already used, leaving the
customer totally in the dark.
     The upshot is that a tor node operator on such a network needs to have
read every word of the ISP's acceptable use policy and any other rules lists
the ISP provides in order to find out whether the ISP in question does have
a cap.  Comcast has a 250 GB/mo. cap.  The limit applies to the *total* of
all bytes received plus all bytes transmitted in a calendar month.  Multiply
the average rate of (bytes in + bytes out)/s times the number of seconds in
a month to see what your expected monthly usage is.  Then divide the ISP's
cap by the number of seconds in a 31-day month to see what limit *you* should
apply to your rates to stay out of trouble with your ISP (if your ISP has a
cap).  If your ISP sets a monthly usage cap and you make these calculations,
you will see that the rates you've been marketed are vastly greater than the
rates you've been sold.  Basically, it amounts to fraud, but it would be
difficult to get a prosecution started if the ISP has a cap buried in the
acceptable use policy or other obtuse document.
     Yes, it is normal, as other respondents have already posted.  If you
find it a problem, you will need to apply some sort of traffic shaping/
prioritization.  You didn't mention the operating system you're using, so
recommendations made already may be inapplicable.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-28 23:45:50
@_author: Scott Bennett 
@_subject: 25 tbreg relays in directory 
On Sun, 28 Jun 2009 20:09:25 +0800 Pei Hanru      Remarkable.
     Perhaps the perverts misunderstood that they were configuring tor in
their package to run as a relay when all they needed for their purpose was
a client.
     Ouch.  This provides another example in support of having a way for
the directory authorities to render insecure versions inoperable/unusable
as relays to the rest of the network and only usable as clients to connect
to the tor project's web site to download a current version of tor.
     Given the possible harms to which the victims may be subject, this
is an argument in favor of having a way for the directory authorities
to assign the Invalid flag to a group of nodes in an automated fashion
based upon some easily recognizable characteristic they share, in this
case, the Nickname.  Because the node IDs (key fingerprints), IP addresses,
etc. come and go, it needs to be an automated method, so that the directory
authority operators can tell their nodes to invalidate all nodes with the
common characteristic.
     I've already weighed in on this, so I'll wait to see the (possibly
updated) views of others before making further comments.
     Thank you *very* much for all your sleuthing in clearing up this
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-29 00:09:36
@_author: Scott Bennett 
@_subject: Ping times with Tor running 
And for those using pf in OpenBSD and FreeBSD, see
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-29 06:26:47
@_author: Scott Bennett 
@_subject: 25 tbreg relays in directory 
On Mon, 29 Jun 2009 05:14:25 -0600 Jim McClanahan      How so?  It's still free of charge, freely available, and freely
modifiable and redistributable.  (GPL3-licensed software doesn't qualify,
     Insecure relays endanger the network.  Insecure clients installed
virally onto systems without notice to the users endanger those users.
     I don't think the current log messages are so influential as all that.
Just take a look at the current consensus. :-(
     Again, when the software is installed by stealth onto the machines
of unsuspecting users, then the probability on each user's machine becomes
100%.  In other words, the number of machines w.r.t. the user is 1 out of 1,
a ratio that cannot be considered "lost in the noise" for that user.
     How so?  I note that you deleted all the relevant context in your reply.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-29 14:48:21
@_author: Scott Bennett 
@_subject: 25 tbreg relays in directory 
On Mon, 29 Jun 2009 07:47:23 -0500 Edward Langenback
     1) Sometimes a security bug is introduced into a particular version,
rather than having been present in tor since the beginning.  When found,
the problem can be fixed in a new release.  That means that the security
bug renders a range of one or more releases dangerous to use, while
versions both older and newer may be okay to use.  Setting only the new
start of a range could, depending upon timing, render the majority of
relays in the tor network unusable for no good reason.
     2) Calling the *first* good version the "lastGoodVersion" strikes me
as a poor idea because of the potential for causing confusion.
     3) The current setup regarding versions enables the directory authorities
to establish the currently recommended versions for use as clients and a
similar set of relay versions.  (At present, an instance of tor that doesn't
find its own version in the relevant list issues a warning message to a log
file that many tor users rarely, if ever, see and thus do not respond to.)
Why would having a statically compiled list that is certain to become obsolete
be a better idea?
     That is part of what I have been recommending.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-29 14:59:47
@_author: Scott Bennett 
@_subject: 25 tbreg relays in directory 
On Mon, 29 Jun 2009 09:19:21 -0500 punkle jones      Welcome to the fray! ;)
     Take a look at some reasons, beginning at
Then let us know whether you still see a way for such an "uncheck to opt out"
arrangement to be a good idea.  Keep in mind that, in general, people do not
currently read EULAs displayed by software installer packages, so you're not
likely to get them to read and understand a bunch of pages from the tor
project's web site in the middle of installing a different package that also
includes tor.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-29 16:19:41
@_author: Scott Bennett 
@_subject: many new relays 
On Mon, 29 Jun 2009 13:27:28 -0700 (PDT) Phil      I don't think so.  Right now there are 1972 relays listed in the
consensus, but only one with a nickname of tbreg.  The jump is still on the
order of 400-600 relays.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-30 01:59:34
@_author: Scott Bennett 
@_subject: 25 tbreg relays in directory 
On Mon, 29 Jun 2009 07:13:42 -0600 Jim McClanahan      You probably were replying to the message sent directly to you, so that
is quite likely. :-)
     Oh, okay.  Thanks for clarifying.
     The intent of my suggestions has been to restrict abuse harmful either
to an uninformed and unsuspecting user or to the tor network overall, not to
restrict "people".
     That was just a side comment.  The viral license is, as I understand it,
the primary motivating reason for the recent decision by the FreeBSD project
to write its own gcc-compatible C compiler in order to keep GPL3 contamination
from getting the upper hand over FreeBSD.  Replacement of other GNU tools in
FreeBSD has been underway for some time already.  The BSD license does not
suffer from the pernicious interference of GPL3, and the FreeBSD project would
like to keep it *Free*BSD.
     There is a history to this way of thinking.  Remember that all of the
modern *BSDs are descended from 4.4BSD-lite, which was released in response
to all the difficulties caused by the AT&T UNIX license that had culminated
in a lawsuit against the University of California Board of Regents (or
Trustees--I don't now recall what they were called at the time).  The AT&T
license problems are also the reason Linus Torvalds decided so long ago that
he'd dump UNIX and write his own.  Likewise for MINIX.  I don't know what
Torvalds will do this time around w.r.t. GPL3, nor what the other *BSD projects
will do.
     Note that the version of tor that Pei Hanru reported here had been part
of the tbreg distribution is *not* secure.
     Pei Hanru suggested otherwise.
     I would argue that those unsuspecting, involuntary tor operators were
indeed harmed and further that they were placed at significant risk of far
greater harms at the hands of that State.
     Clearly, the above comments are inapplicable to this situation and
to what I was suggesting as a way to deal with similar situations in the
future.  No one suggested that anyone be prevented from deliberately
installing and, at their option, configuring tor to suit their taste.
What was suggested was a way to disable bad software to prevent it from
harming the unsuspecting.  tor is still open source software.  If you
have a bad version, but really do want to run a bad version, you are free
to change it to make it think it is valid even when it isn't.  Of course,
if a large enough fraction of tor users were to do that, tor would fall
into disuse because it would no longer be trusted.
     Oh, stop it.  That's ridiculous.  All the person would have to do
would be to upgrade to a valid version.  It does not restrict the user.
It just minimizes the damage that can be caused by software known/suspected
to have something wrong with it.
     Perhaps because they actually give a dam about the fruits of their
     Please go back and reread Pei Hanru's summary of what she found out about
the tbreg installations.  If you disagree with what she wrote, please present
the evidence that supports your disagreement.  If you've found something that
Pei Hanru missed that changes your understanding, then the rest of us might
benefit from seeing what you've found.
     BTW, has anyone (not just Jim) tried downloading from the links in
Pei Hanru's summary and then tried running that software?  I don't have
a spare machine to try it on, nor do I have access to anyone here who
can read Chinese and translate for me any information displayed by its
installer or otherwise included in the package(s).
     Understood.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-30 02:15:32
@_author: Scott Bennett 
@_subject: 25 tbreg relays in directory 
On Tue, 30 Jun 2009 01:13:13 -0500 punkle jones      Well, we have recently and suddenly gotten about 40% more relays, very
few of which seem to be tbreg relays, so it certainly looks like someone or
something has achieved that result.
     If they are legitimate, it would be very much a boon.  I haven't lately
looked at the distribution of relays over version strings, so I don't have
a good benchmark to use for comparison if I decided to look at the current
distribution.  Does anyone else happen to have any records that could be
used for this purpose?
     If, OTOH, they are new relays using insecure, out-of-date versions like
the 0.2.1.2-alpha that was reported as being the version used by the tbreg
relays, then "burden" would still not be a good description of the situation.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-30 04:27:03
@_author: Scott Bennett 
@_subject: @Scott Bennett 
On Tue, 30 Jun 2009 03:14:29 -0600 Jim McClanahan      Just standard netiquette for followups to messages posted on mailing
lists.  If you'd rather not get the direct messages, I'll try to remember
not to send them to you in the future.  (I'm only sending this followup
to the list this time, just in case that's what you prefer.)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-30 06:52:14
@_author: Scott Bennett 
@_subject: @Scott Bennett 
On Tue, 30 Jun 2009 13:18:50 +0200 Ansgar Wiechers      Did someone claim that RFC 1855 said something on this issue?
     On every list I've been on in more than two decades with the sole
exception of OR-TALK, sending a followup directly to the author of the
message being followed up in addition to a copy to the list has been
the norm.  Individuals have not always followed that practice consistently,
but it has been the expected practice for as long as I've participated on
mailing lists.
     I do not know how/why the practice got started, but I can offer some
speculations.  Many mailing lists are also available as digests.  Without
knowing whether the author of an item to which one is following up might
be subscribed to the digest rather than the list, there is a clear advantage
to sending an immediate copy of one's followup to that other author, so
that that other author need not wait till the next issuance of a digest to
see the followup.  Another situation is that many lists allow posting from
people who are not subscribed to those lists.  In such cases, the direct
followups are crucial lest the author of the item being followed up never
see the followup item.
     By the tone of your followup, I infer that you do not want direct
copies of followups, so I am only sending this one to the list.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-30 13:28:03
@_author: Scott Bennett 
@_subject: @Scott Bennett 
On Tue, 30 Jun 2009 19:33:38 +0200 Ansgar Wiechers      What about it?
     That is false.  I've just searched through all of my postings to
OR-TALK since last August.  My followup to *your* claim is the only one
until right now that contained the string "1855".  You must be thinking
of someone else.
     I've already offered not to send you direct copies of my followups
to your messages.  Drop it.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-03 15:22:43
@_author: Scott Bennett 
@_subject: somewhat OT: http_proxy format (was: tor controller hangs / doesn't reply) 
[great list of examples snipped  --SB]
     Try here:
(Beware of URL linewrap.)
     I referred to the fetch(3) man page in FreeBSD because the individual man
pages for fetch(1) and wget(1) didn't specify that information when I first
needed to know it, but rather referred to fetch(3).  man pages are naturally
different for different operating systems, though.
     I don't think I ever tried it that way.  (If I ever did try it that way,
it must not have worked, or I wouldn't have changed it.)  My vague recollection
is that I had no idea initially of how to get fetch(1) and wget(1) to use
proxies, so I tracked it down to the fetch(3) page via both the fetch(1) and
wget(1) pages.  At some point, I'll try it that way to see whether it works
on my system, too.
     Accepting both ways does seem like the best way to do it.  I apologize
for inadvertently giving out information that apparently is not universally
applicable across operating systems as though it were.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-03 15:43:21
@_author: Scott Bennett 
@_subject: SCTP 
On Wed, 3 Jun 2009 10:11:44 -0400 Gregory Maxwell      That's very good to know.  FreeBSD 7.0 came out about a year and a half
ago.  I'm just guessing, but would LINUX 2.5 have been about six months to a
year before that?
     Anyway, it's good to know that the most numerous group of tor nodes is
running on hosts that support SCTP.  I don't think the other BSDs have it yet,
but they'll have to at some point.  There's a tremendous amount of code sharing
that goes on between the BSDs and also Mac OS X, so it's quite possible that
the SCTP support in FreeBSD 7 will be grafted onto the others with only modest
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-03 21:24:16
@_author: Scott Bennett 
@_subject: somewhat OT: http_proxy format (was: tor controller hangs / doesn't reply) 
Oh, man, I can tell I'm really with it today.  I just sent the reply below
to Drake without copying it to the list.  That's on top of my earlier screw-ups
on the topic at hand.  Sigh.
     Maybe not.  The only way I know to get to it is via the man page search
at      Arrghh.  Right you are.  I guess I have to plead memory failure:
I quite apparently do not remember where I got it.  Sorry for the noise,
     HTTP_PROXY and http_proxy will default the port number to 3128, which
turns up nothing in /etc/services, so I have no idea why that would be the
default port number.
     It's also easier to type. :-)
     That's a good thing to know.  I use lynx rarely, but when I do, it's
invaluable for the situation.  The lynx man page on my system doesn't point
out the distinction, although it's still consistent with what it does say.
     Thanks for setting me straight on the URL/no URL business, Drake.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-04 05:09:43
@_author: Scott Bennett 
@_subject: My exit node is gone from the node list 
On Thu, 4 Jun 2009 11:55:28 +0800 "lingzhen1982"      First, you should not be running that version of tor.  Currently valid
versions in the stable branch are 0.2.0.33 and 0.2.0.34 for both clients and
     Second, when tor starts up, does it issue a message that says that your
node is reachable from outside?  If not, then you probably have a NAT/RDR
problem to settle with your gateway.
     Third, if tor does find itself reachable soon after startup, does it ever
issue a message that says its IP address appears to have changed?  Or that its
DNS queries appear to be hijacked?  In the former case tor should, after
passing another reachability test, simply publish a new descriptor bearing the
new IP address.  In the latter case, tor should stop operating as an exit and
issue a message to that effect, while continuing to operate as a non-exit
     How can you tell what sort of traffic it is if your node is no longer an
exit node?  Why close all those other non-Bittorrent ports as well?
     There remains another possibility.  As several of us have reported here
in the past, there has been a gremlin lurking inside tor somewhere that causes
tor to forget to post a descriptor update after the usual 18 hours have
elapsed.  I haven't yet seen it happen with 0.2.1.14-rc, but it was a headache
with some earlier versions.  However, when you changed your torrc, whether for
the change of nickname and identifier or for the change of exit policy, tor
should still have published a new descriptor reflecting either of those
changes, so the authorities ought to have a new descriptor for at least another
18 hours.  Try upgrading to a current version of tor, and then check it a
couple of times a day (or more often if you like) for a while to see whether
the problem recurs.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-04 10:41:45
@_author: Scott Bennett 
@_subject: another tor death on SIGILL 
I reported before that my 0.2.1.14-rc tor had died mysteriously, but that
FreeBSD had reported that tor exited on a signal 4 (SIGILL), and that tor had
left a tor.core file in /var/db/tor.  It just did it again, immediately after
I gave it a SIGHUP to get some new circuits.  I had done the same just before
the other time it failed, but was unsure of the exact timing.  This time it
is definite, so yes, I will soon submit a problem report with backtraces from
both core files.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-05 01:38:03
@_author: Scott Bennett 
@_subject: unable to submit bug report 
Well, I *intended* to submit a bug report, but appear to be unable to log
into the bugs.torproject.org web site to do so.  I tried all sorts of things,
including temporarily enabling JavaScript, which I really hate to do.  If there
is someone willing to submit the bug report for me, please let me know where
to send the information.
     Thanks!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-05 02:41:53
@_author: Scott Bennett 
@_subject: unable to submit bug report 
Thanks, Jon.  I'll put the material together and send it to you as
quickly as I can.  It will be plaintext, though.  I haven't used PGP in
well over a decade.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-05 19:36:41
@_author: Scott Bennett 
@_subject: unable to submit bug report 
On Fri, 5 Jun 2009 19:44:45 -0400 Nick Mathewson     You're welcome, of course.  And I thank you for taking a look at it so
     I suppose I should have mentioned that I always build it with
CFLAGS="-march=prescott" on the configure command, which ought to alter
some of what -O2 does during the compilations.
     0.2.1.14-rc is running at the moment, but my intention was to switch over
to 0.2.1.15-rc the next time tor goes down.  I took a look at policies.c and
found the spot.  patch(1) didn't like the above, saying,
patch: **** malformed patch at line 4: smartlist_t **policy,
but I can certainly insert the additional line by hand.  One moment...hmm...
yes, it looks like it built okay.  I'll go ahead and install it, so it will
run the next time tor starts.
     I'd prefer to try to let tor stay up a few days before bringing it down
again in hopes of retaining the Stable flag it has at present.  I'm already a
bit surprised that it still has the Stable flag, given how many times it has
gone down in the last several days (3 times, IIRC).  Have to keep the uptime
averages up there, you know. :-)  OTOH, I don't dare give it a SIGHUP for any
reason right now, so waiting may wear thin soon.  We'll see.
     That would be helpful, yes.
     Thanks again for getting to this so fast and, with a bit of luck, fixing
it, too.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-08 14:08:54
@_author: Scott Bennett 
@_subject: [FIXED] Re: unable to submit bug report 
On Fri, 5 Jun 2009 19:44:45 -0400 Nick Mathewson      With the caveat in mind that I inserted the extra line manually into
0.2.1.15-rc, rather than into the version that had been crashing, I think
it's probably safe to close this PR now.  0.2.1.15-rc has been up over a
day already, and I've sent it a SIGHUP on three occasions so far, including
one a few minutes ago just as another test.  Each time it appears to have
responded appropriately.
     Thanks very much, Nick, for fixing the problem so quickly.  I am a bit
curious to know how the line in question came to be missing, but it's not
terribly important at this point.  I'm very glad to have normal functionality
returned to tor.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-09 11:11:25
@_author: Scott Bennett 
@_subject: OnionCat 0.1.13 released 
On Tue, 9 Jun 2009 16:25:37 +0200 Bernhard Fischer      Now *that* is indeed a new one on me.  Most developers backport the
*fixes* for serious bugs to the stable branches. :)
     Sorry, it was just too tempting. :-)  Congrats on the new release!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-06-10 11:26:08
@_author: Scott Bennett 
@_subject: Tor bridge not generating any traffic 
On Wed, 10 Jun 2009 14:20:41 +0200 Johannes Nitsche      Now that you've published your tor bridge's IP address on this list--
assuming the one you've shown us is accurate, rather than an appropriate
substitution for purposes of sending it to this list--you ought to consider
contacting your host company in the U.S. to get them to change the IP address
and restart tor using the new IP address.  The IP address shown above, if
correct, will probably be useless anywhere that access via bridges is needed.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-03-04 14:45:19
@_author: Scott Bennett 
@_subject: multiple connections from identical IP addresses 
I just checked out something I've suspected for a long time.  Although
it would seem that there should never be more than one ESTABLISHED connection
between two particular relays at a time, there might be more than one client
running at a particular IP address, thus leading to more than one connection
from that IP address to a particular relay's ORPort.  A quick snapshot of
ESTABLISHED state connections to my relay's ORPort showed a total of 2637
simultaneous connections.  Searching through them carefully, I counted 210
IP addresses that had more than one open connection to my relay's ORPort.
In most cases, a given IP address had only two connections open, but there
were many that had more.  In one case, I counted *34* open connections from
a single IP address to the ORPort.
     Why do I see so many simultaneously ESTABLISHED connections that are not
unique to specific IP addresses?  I didn't check the connections from my
relay to other relays' ORPorts, but I have a strong suspicion that I would
see a similar state of affairs, namely, that my tor instance would have
multiple outbound connections that went to duplicate IP addresses.  It seems
also likely that some outbound connections would duplicate inbound connections,
but I didn't check those either.
     So why is tor doing this?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-03-24 08:05:28
@_author: Scott Bennett 
@_subject: Bridge scanning resistance 
On Sun, 22 Mar 2009 14:21:49 -0400 Roger Dingledine      Judging from your final sentence and your earlier comments, I'd say the
project should be broken up into several smaller pieces.  If proposals come
in for each of the pieces, it might perhaps then be appropriate to have the
various students working on those pieces consult with each other as needed,
working on the overall project as a team, each student with his/her own
piece of it.  Doing it this way would increase the chances of success within
the summer time frame for all of the students involved.  Alternatively,
perhaps some of the pieces could be spun off as completely independent
projects, while others might be grouped into one or more smaller teams.
     Perhaps you and Nick could take a couple of hours to look at the project
in question to see how it might be better specified.  There's no real benefit
in spending the money without getting end results or in leaving a student
overwhelmed by a badly specified project leading to failure.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-03-24 09:29:23
@_author: Scott Bennett 
@_subject: Consensus drops node 
On Tue, 24 Mar 2009 12:28:04 +0100 From: Hans Schnehl
     Very interesting!  I don't think I ever waited another 18 hours when this
happened to my tor node.  I first saw this happen in 2.1.2-alpha, I think, but
haven't seen it lately at all.
     For historical review, go to the August 2008 OR-TALK archives at
and take a look at the "SIGHUP without effect" thread with postings by Karsten
Loesing, you (Hans), and myself.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-03-25 05:19:36
@_author: Scott Bennett 
@_subject: Howto limit number of connections? 
On Wed, 25 Mar 2009 10:35:16 +0100 Hans de Hartog      If a Sitecom WL-153 is the kind of router that one might buy at a store
like Best Buy or (the now defunct) Circuit City, then quite probably the
connection count is indeed the problem.  Linksys routers seem to start having
problems with fewer than 200 connections, but the threshhold isn't clear.  My
guess, therefore, is that it is the NAT table that is reaching the router's
memory limit in these cases.  I have no experience with Sitecom routers,
     You didn't give any information about the tor version number, your
operating system and version, or your local network configuration.  I got
around the electronics store router limitations by hooking my my FreeBSD
system directly and using it as the router.  By the command you mentioned,
it appears that you are running some version of UNIX or LINUX, too, so you
might be able to something similar.
     There may not be a good way to do that.  It has been requested many
times on this list, but IIRC has not been implemented it yet.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-03-25 06:48:14
@_author: Scott Bennett 
@_subject: [Fwd: Re: Howto limit number of connections?] 
On Wed, 25 Mar 2009 12:10:47 +0100 Hans de Hartog                                 typo; should have said, "up"  ^^ :-(
     Should work fine.  I'm running tor 0.2.1.12-alpha and FreeBSD 6.3-STABLE
(sort of).  I hope to install 7.1-RELEASE r.s.n., but there's a tremendous
lot of tricky work to accomplish the changeover in my case, and so I
     I assume then that the SiteCom device also contains a modem for cable
or ADSL or some such thing.
     Actually, it's pretty easy to do, especially if you use pf to handle
your NAT and RDR rules for your subnet(s).
     Hmmm...seems to me I recall seeing a way to fake the MAC address in
FreeBSD, but I don't remember where or how offhand.  Most ISPs allow some
small number of MAC addresses (e.g., 2 or 3) to be valid as long as only
one is directly connected at a time, so you might just want to ask your
ISP how to configure the SiteCom device to be a pass-through modem-only
device.  Tell them you would like to hook your own router up to it.
     Bummer.  Any chance of finding another box that could be left up all
the time?
     Quite welcome, of course.  Best of luck getting things set up in a
satisfactory way.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-03-04 16:05:57
@_author: Scott Bennett 
@_subject: 64 bit Linux 
On Wed, 4 Mar 2009 16:42:04 -0500 Roger Dingledine      A quick look through Kasimir Gabert's torstatus page's operating system
icons column shows many relays running 64-bit versions of LINUX and FreeBSD.
I don't recall reading on this list of any 64-bit vs. 32-bit problems with
tor for either system.  Although the number of tor relays running on OpenBSD
systems is small, I do see some that are i386 (32-bit), some that are amd64
(64-bit), and some that are sparc64 (64-bit), so it must be working there, too.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-03-09 01:42:48
@_author: Scott Bennett 
@_subject: Clock problems 
On Sun, 8 Mar 2009 21:16:54 -0400 downie -      This is the "clock jump" problem that I reported here a number of times
last year.  It can be triggered by an interruption in transmission of data
over your Internet connection for a period exceeding
NUM_JUMPED_SECONDS_BEFORE_WARN seconds (see src/or/main.c).  Currently, that
is 100 seconds.  tor interprets this situation as meaning that it is running
on a system that has just awakened from suspension/hibernation, so it marks
all OR connections (and circuits over them) as having expired.  It has been
quite a few months since my relay last suffered from this situation, so I
don't remember now whether it also results in publication of a new descriptor
as if the relay had just been reinitialized.
     In the short run, you can work around the problem with the patch below,
which will reduce broken connections but will not stop the holdups nor their
effect upon the tor network.  The better, longer-term solution is most likely
to fire your ISP and hire a better one, which is what I did at the earliest
 ---------->8 start of clockjump patch to 0.2.1.12-alpha 8<------------------
*** main.c	2009/02/10 16:35:05	0.1
--- main.c	2009/02/10 16:40:15
*** 1200,1206 ****
  /** If more than this many seconds have elapsed, probably the clock
   * jumped: doesn't count. */
!  NUM_JUMPED_SECONDS_BEFORE_WARN 100
    if (seconds_elapsed < -NUM_JUMPED_SECONDS_BEFORE_WARN ||
        seconds_elapsed >= NUM_JUMPED_SECONDS_BEFORE_WARN) {
      circuit_note_clock_jumped(seconds_elapsed);
--- 1200,1206 ----
  /** If more than this many seconds have elapsed, probably the clock
   * jumped: doesn't count. */
!  NUM_JUMPED_SECONDS_BEFORE_WARN 300
    if (seconds_elapsed < -NUM_JUMPED_SECONDS_BEFORE_WARN ||
        seconds_elapsed >= NUM_JUMPED_SECONDS_BEFORE_WARN) {
      circuit_note_clock_jumped(seconds_elapsed);
 ---------->8 end of clockjump patch to 0.2.1.12-alpha 8<--------------------
I haven't tried this on 0.2.0.34, but this area of the code seems to change
fairly infrequently, so patch(1) can usually deal with changes in the line
numbers from release to release.  Or you can change "100" to "300" by hand,
or course. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-03-10 01:20:17
@_author: Scott Bennett 
@_subject: Clock problems 
On Mon, 9 Mar 2009 09:56:39 -0400 downie - wrote without attribution:
     I'm afraid I would have to come down on the side of opposing such an
option.  When an ISP is incompetent to provide a properly functioning
connection, which is, after all, part of what it is being *paid to do*, the
better solution is to fire the ISP and hire one that *is* competent.  The
delay that I had in following that advice was due to the combination of a) my
mistake in having signed a one-year contract with an early termination penalty
and b) severe poverty that made suffering the penalty infeasible.  I still
question whether I was right or wrong in offering relay service that was so
fucked up without any way to advise clients of the hazards involved in plotting
a circuit through my relay during that time.
     FWIW, I am currently dealing with a new (to me) situation involving my
current ISP, but I'll post comments on that later.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-03-10 03:44:38
@_author: Scott Bennett 
@_subject: Clock problems 
On Mon, 9 Mar 2009 13:45:33 -0400 Paul Syverson
     Ah.  So there *is* some doubt after all. :-)  And of course,
there is room for a different explanation.
     Yes, there could be a connection there instead.  I wrote what
I did because the OP had mentioned problems with his Internet
connection within the preceding few days.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-03-13 04:12:34
@_author: Scott Bennett 
@_subject: more on the Comcast 250 GB/mo. problem 
Last week I found a voice mail message from a phone number I didn't
recognize, who claimed to be from the "Comcast Security Assurance Division",
demanding that I call them at yet another number I didn't recognize.  I called
the normal number to reach Comcast, explained what had happened, and gave that
person the phone numbers.  I was told then that those did not appear to be
Comcast phone numbers and that they had never heard of such a department or
division in Comcast.  I asked whether I should report the incident to the
police.  They said that would be a good idea, so I did report it to the local
police, stating that I suspected a possible phone scam aimed at identity theft.
     The next day (Fri.) I received another call, which I answered before
noticing that the number was the one that had called a day earlier.  The caller
made the same claim as the day before, to which I replied that I didn't believe
them, that I had already reported their number to both Comcast and the local
police department.  I then ended the call and called Comcast again to let them
know what was going on.  That conversation lasted quite a while, during which
time my call got transferred to their tech. support area.  The lady in tech.
support did some investigation and found that the phone numbers in question
were, in fact, Comcast numbers and that the "Security Assurance Division" was
legitimate after all.  She had never heard of them before, but connected me
into a conference call with someone at the number I had been told to call.
     The upshot was that I was being contacted because their system claimed
that in February my setup had transmitted and/or received more than 250 GB,
an arbitrary limit that exceeding a second time would get my connection shut
off for a minimum of 12 months.  They claimed that my combined transmissions
and receptions had totaled between 661 GB and 662 GB for February, a number
I still do not accept.
     Further, Comcast sales staff and tech. support staff were unaware of any
such limit, much less of specifically 250 GB.  That means that when I was
signed up last August for a reception rate limit of 6 Mb/s (~600 KB/s) and a
transmission rate limit of 768 Kb/s (~76 KB/s), they didn't inform me that
actual usage of those rates would use up a fixed, 250 GB, monthly allotment of
data in less than 4.5 days.  A month or a bit more ago, Comcast finished
upgrading its infrastructure and cable system software, which led to their
increasing the data rates, so that my connection can now run at 12 Mb/s
(~1.2 MB/s) for reception and 1 Mb/s (~100 KB/s) for transmission.  If used
at capacity, these rates can exhaust the monthly data ration in a little over
2 days and 6 hours.  I believe this constitutes deceptive marketing and
possibly even fraud under U.S. law.
     At present I don't have an alternate ISP on tap to replace Comcast, but
I am looking.  Meanwhile I asked how much of the current month's allotment had
already been used (according to their very questionable system) and was told
that they were unable to tell me that.  They said that they deal only with
exception notices issued when someone exceeds 250 GB transferred in a billing
month.  They suggested taking the 662 GB figure, dividing that by 28 days for
February, multiplying by the first 6 days of March, subtracting that from the
March ration of 250 GB, in order to get an estimate of what might fairly
safely be considered to remain for use in March.
     On the basis of the result, I immediately slammed the brakes on tor,
setting BandwidthRate and BandwidthBurst both to 20 KB.  The results over the
next few hours were not pretty, but it is still running.  I have no way of
knowing, however, whether this will really prevent my total usage for March
from exceeding the 250 GB combined in+out limit.  In other words, by refusing
to provide any further feedback short of cutting the connection, they aim to
intimidate me into using much less than the measly 2.28 days' worth of full
use that they think should be spread over an entire month of up to 31 days.
If I make it to 1 April without getting shut off, I should be able to change
the settings to BandwidthRate 35 KB and BandwidthBurst 70 KB, but that is
still about 10% of how it was running before.
     Now, in actual fact, most of my network usage over a month's time is due
to running a tor relay.  That relay was also operating as a tor directory
mirror, which consumed a fair portion of the limited output data rate.  The
remaining portion of the output data rate could be used for relay operations,
and the input rate would roughly parallel the portion of the output rate used
for the relay operations.  That means that the 250 GB would actually be spread
over more days, but remains only a fraction of the data that I ought to be
able to send and receive in a month's time.
     I have since called Comcast again and had them reduce the service level
to the minimum data rates they offer because even those rates if used flat out,
would exhaust the monthly ration well before the middle of the month.  That
means I have to restrict tor's data rates to well under the Comcast minimum
in order to keep the relay in operation throughout the month.  (Continuous
operation seems preferable to me than alternating into and out of hibernation.)
     Aside from writing letters of complaint to the FCC regarding Comcast's
deceptive marketing practices, I am at a loss to know how to "civilize"
Comcast.  In this local area, I think Verizon is the only other broadband ISP
available.  (I refuse to count the worthless excuse for an "ISP" I dumped last
year.)  Verizon only offers ADSL service here; all of its fiber optics support
is elsewhere still.  Unfortunately, the ISP I dumped last year uses some of
the Verizon hardware in this area to provide its services.  Given the terrible
problems I had with TBC last year, I'm reluctant to risk having to use what
may well be the defective part of the same hardware setup.
     Meanwhile my relay has fallen from the top 15% or so of relays by capacity
to just about rock bottom. :-(  I know others have posted their complaints
about this situation here on the list, but I don't remember anyone mentioning
that most Comcast employees that customers will ever talk with over the phone
appear to be unaware of the existence of either the 250 GB/mo. limit or the
"Security Assurance Division" of Comcast.  I also don't remember anyone
mentioning that the 250 GB limit includes all data in both directions over the
customer's connection.  If you are a Comcast residential subscriber running a
tor relay, it might be a good idea to set BandwidthRate to a value of 48 KB/s
or less because that limit means 48 KB/s in plus 48 KB/s out, which would come
to approximately 250 GB over the number of seconds in a 31-day month.
     The "Security Assurance" guy mentioned that soon Comcast would be offering
a 99 Mb/s reception rate.  (He didn't say what the transmit rate limit would
be at that point.)  He said that, as far as he knew, the 250 GB limit would
still apply.  I said that Comcast would probably have a lot of irate customers
once they discovered the hard way that their entire month's data allotment
could, in principle, be consumed in just 42 - 43 minutes.  He disagreed, saying
that people currently exceeding 250 GB in a month were less that 0.1% of all
Comcast residential subscribers.  We shall see, I guess.
     The only suggestion from any of the Comcast employees on how I might get
around a 250 GB/mo. limit was that switching to Comcast Business-class service
might do it, but they didn't know for sure because they only dealt with
residential service.  At this point, I don't know whether I could believe their
business-class service sales staff on this issue, now that I've been misled by
their residential-class sales staff through its ignorance on the matter.  OTOH,
the choices around here are distressingly poor.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-03-16 20:11:44
@_author: Scott Bennett 
@_subject: Abuse ticket 
Wow.  The differences in laws from one place to another makes it
difficult or impossible to recommend any single practice for tor users.  In
the U.S., censoring the content makes you liable for any content that is
alllowed to pass through, whereas a complete lack of content-based censorship
and refusal to implement any leaves you protected as a "common carrier".
     I would suggest in your case that you close port 80 (HTTP) while you
contact your provider to find out whether they would accept blockage on an
IP address basis.  One thing to keep in mind is that, as far as the tor
community is concerned, content-based censorship by an exit node qualifies
the exit node for a BadExit flag from the directory authorities.  If you are
forced to close the port in order to keep tor running, then your node can
still be useful.  But I wouldn't wait for another "abuse ticket" to take some
sort of evasive action.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-03-17 00:18:59
@_author: Scott Bennett 
@_subject: Abuse ticket 
Nevertheless, if it's in the U.S., you may actually have a better chance
of dealing with this yourself.
     That is a valid and recurring point on this list.  It's also one of the
reasons for my suggestions.
     You can certainly try, though I have no idea whether they'll even give
you the time of day.
     Blocking the exits to that IP address for port 80.  See the ExitPolicy
statement in the tor man page.  I'd recommend either blocking exits to the
site that complained for port 80 or else blocking port 80n entirely, but for
goodness's sake, do *something* ASAP to avoid the risk of another complaint
getting your relay shut off.  FWIW, I think Andrew's description of how he
has handled such complaints in the past is a great example, assuming you can
get your provider to let you deal with the complaints directly.
     You could also consider [re]opening a number of other ports while closing
port 80 exits.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-05-01 04:45:59
@_author: Scott Bennett 
@_subject: 25 tbreg relays in directory 
On Thu, 30 Apr 2009 16:59:58 -0400 Andrew Lewman      Well, the developers themselves did that a while back when they
cut off the non-V2Dir-capable clients and servers, right?
     How so?  Does a client refuse to use a relay whose version is not
in the server-versions list distributed in the V3 consensus documents
or the V2 status documents?
     Well, yes, I thought quite a while before suggesting a), but also
realized that there can be quite a long delay and upheaval involved in
a change to the directory standard and protocol, so I suggested the use
of b) in the interim.  Suggestion a) is, in the long run, a better approach.
     That was not me, FWIW.  However, I did suggest that a client not trust
*itself* if its own version were not listed in client-versions in the V3
consensus or the V2 status.
     Right.  It would be good to have an SCTP implementation of tor someday.
     My goodness!  I had no idea that it would really generate much interest
among developers.  I only hoped so.
     I predict that will interesting. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-05-24 08:53:24
@_author: Scott Bennett 
@_subject: weird path selection 
Someone is up to some shenanigans, methinks.  Or perhaps someone's
copy of tor has a newly discovered bug.  I just noticed an odd message
go by, so I checked the current log file to see how often it was happening.
It turns out it's happening fairly frequently.  So far, there have been 348
of them today, beginning with
May 24 02:08:04.193 [info] connection_or_connect(): Client asked me to connect to myself. Refusing.
May 24 02:08:10.412 [info] connection_or_connect(): Client asked me to connect to myself. Refusing.
May 24 02:08:20.804 [info] connection_or_connect(): Client asked me to connect to myself. Refusing.
May 24 02:08:54.971 [info] connection_or_connect(): Client asked me to connect to myself. Refusing.
May 24 02:09:07.518 [info] connection_or_connect(): Client asked me to connect to myself. Refusing.
May 24 02:09:27.904 [info] connection_or_connect(): Client asked me to connect to myself. Refusing.
May 24 02:09:34.800 [info] connection_or_connect(): Client asked me to connect to myself. Refusing.
May 24 02:09:36.374 [info] connection_or_connect(): Client asked me to connect to myself. Refusing.
and ending with
May 24 08:28:30.591 [info] connection_or_connect(): Client asked me to connect to myself. Refusing.
May 24 08:29:21.266 [info] connection_or_connect(): Client asked me to connect to myself. Refusing.
May 24 08:37:45.328 [info] connection_or_connect(): Client asked me to connect to myself. Refusing.
May 24 08:37:49.967 [info] connection_or_connect(): Client asked me to connect to myself. Refusing.
May 24 08:38:02.635 [info] connection_or_connect(): Client asked me to connect to myself. Refusing.
May 24 08:38:26.871 [info] connection_or_connect(): Client asked me to connect to myself. Refusing.
May 24 08:39:43.807 [info] connection_or_connect(): Client asked me to connect to myself. Refusing.
May 24 08:40:41.589 [info] connection_or_connect(): Client asked me to connect to myself. Refusing.
     I can't think of any way to know whether this stuff is deliberate or is
the result of a messed-up client, but it does strike me as peculiar.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-05-25 02:40:14
@_author: Scott Bennett 
@_subject: SoC Project: Improving Hidden Service Security and Usability 
It looks like a project that ought to be done.  However, it does seem
to me that, in the service of the interest you expressed in your second
paragraph above, a higher priority project should be a project to set up
hidden services on Windows systems.  Although it does appear that the largest
number of relays by host operating system is some distribution of LINUX, the
largest number of users worldwide remains, unfortunately, Windows users.
Noting that hidden services can be provided by client-only tor instances,
a type of configuration that reduces still further the chances of investigating
agencies tracking down the sources of those services, those Chinese dissidents
and human rights organizations/activists would be better served by an easy way
to set their services up under Windows without the need for running tor in
relay mode.
     Since your project has already been approved as proposed, I wish you
the best of results.  But I do hope that someone's project someday will address
the most numerous category of people needing to offer hidden services.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-05-29 18:42:59
@_author: Scott Bennett 
@_subject: Issue about selection of Tor relays when using the default torrc configuration 
On Fri, 29 May 2009 17:17:33 -0400 Sambuddho Chakravarty
     You may be observing any of several things that lead you to believe
what you wrote.  For example, The torrc distributed with the package and
most likely the internal default in the code say that three entry guards
are to be used.  Entry guard connections can be held open for a very long
time because all of your client traffic gets funneled through them.  The
default route length is 3, so each circuit needs at least two more nodes
beyond the entry guard.  We are fortunate that the tor network includes
several dozen nodes that handle very large volumes of data at high rates.
Those nodes, therefore, get chosen frequently during circuit route selection,
so you may see these popping up over and over again, but regardless of how
it seems in a Vidalia display, they are being used for new circuits each
time.  Also, many streams (i.e., TCP connections) may pass simultaneously
or in succession through the same circuit.  As long as a single stream is
still present in a circuit, the circuit is considered active and will not
be torn down, regardless of its age.  The upshot of this is that if you
have, say, a secure shell login session to your friendly UNIX/LINUX system
somewhere and you stay logged in, the circuit that connection passes through
will not normally be closed until you do logout.  (Note that after a circuit
has aged ten minutes, no *new* streams are to be assigned to it.  New
streams will be assigned to a new(er) circuit.
     tor's standard client behavior is to begin aging a circuit the first
time it is used.  It is important to remember this and to note that the
first time a circuit is used could conceivably be quite a while after it
is built because tor builds some circuits in anticipation of needing them.
Such circuits may end up not being used, but if they aren't, then they will
hang around anyway for an hour(?) or so before being torn down.
     If you use a tor controller, such as torctl or Vidalia, you can send
a NEWNYM command to tor that will cause it to mark all aging circuits (i.e.,
those that have been or are being used at least once).  Any circuits that
are aging but have no streams in them (i.e., the circuits are not currently
active) and get marked as "old" this way will automatically be torn down.
Any that are currently active will still be marked "old", so that they can
be torn down when they become inactive.  When tor has no available circuits
to assign a new stream to, it will begin building some new ones.  I confess
I don't recall offhand whether a NEWNYM or a SIGHUP will by itself cause
tor to build circuits preemptively (i.e., in anticipation of need for them).
The last time I used a version of Vidalia, it had some cute button to click
on that said, "New Identity" or some such thing.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-11-22 05:38:51
@_author: Scott Bennett 
@_subject: HTML5 deanonymization attacks 
On Fri, 20 Nov 2009 08:54:40 -0800 Mike Perry      It may be productive to include Giorgio Maone in your discussion and planning.  His current version (
bears the following notes in the "Good News" column.
The list is actually much longer.  I've just selected a few items that appeared
most likely to be relevant to the discussion.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-11-22 20:29:14
@_author: Scott Bennett 
@_subject: TLS Man-In-The-Middle Vulnerability 
You must be just a tad behind in your reading.  The announcement has
already been posted.  Just go to the tor download page, and get it.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-11-22 20:46:06
@_author: Scott Bennett 
@_subject: Tor: Scroogle blocked, Google not ? (November 2009) 
On Mon, 23 Nov 2009 01:24:29 +0100 gabrix      I confess to being somewhat mystified as to why anyone on the
OR-TALK list would still be using either of those search engines directly
anymore.  I quit using them years ago.  Why not try a metasearch engine
that has shown a modicum of respect for privacy instead?
They have an alias, too, now at
Both accept HTTP as well as HTTPS if you need to play around with them.
Their home pages have links to their privacy policy at
It is short and well worth reading.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-11-23 12:46:48
@_author: Scott Bennett 
@_subject: TLS Man-In-The-Middle Vulnerability 
Try 0.2.2.6-alpha.  I'm running 0.2.2.5-alpha with no problems.
     You should probably also update openssl to 0.9.8l before building tor.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-11-25 01:55:04
@_author: Scott Bennett 
@_subject: AN idea of non-public exit-nodes 
On Wed, 25 Nov 2009 09:09:16 +0300 James Brown      Yes, one certainly has to wonder whether it is a wasted effort to help
those who *do not want* to help themselves.  Those who wish to surrender are
probably those we should thank for purging themselves from the gene pool.
OTOH, your efforts to inform them at large will probably help the few who
*do* wish to defend themselves but simply didn't know about the threat.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-11-26 03:52:03
@_author: Scott Bennett 
@_subject: cross-posting abuse (was Re: Danish TPB DNS Blocks - tor-ramdisk DNS fix, how?) 
On Wed, 25 Nov 2009 21:30:56 +0100 Georg Sluyterman      Please, all of you who have been doing this, *STOP* cross-posting between
these lists.  A message only of interest to relay operators should go to
the TOR-RELAYS list.  All others should go to OR-TALK.  Posting to both is
wasteful and a big nuisance to everyone who is subscribed to both lists.
     The alternative, of course, is to eliminate the TOR-RELAYS list.
     Thank you.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-11-26 04:01:30
@_author: Scott Bennett 
@_subject: Danish TPB DNS Blocks 
On Wed, 25 Nov 2009 14:30:42 -0500 Flamsmark      Bzzzt!!  That would eventually get an exit marked as a bad exit, too.
Why?  Because the root name servers serve only information in the root
domain and the so-called top-level domains (e.g., .com, .edu, .gov, .info,
.mil, country domains, and so on).  They are much, much too busy to act
as forwarders, so if you ask for anything that they don't serve themselves,
you will get a "no answers" response.
     That much is true, although they supposedly have an option one can
select on a web page to turn off the hijacking.
     dyndns.org is a decent alternative for a few fedbucks a month.
     Again, no cigar! :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-11-26 04:13:46
@_author: Scott Bennett 
@_subject: AN idea of non-public exit-nodes 
On Wed, 25 Nov 2009 12:21:39 -0500 Gregory Maxwell      That's not how bridges work now, so your argument isn't applicable.
One finds out about bridges by getting them from a server, three at a time.
The same or some similar method could be used for exit bridges as well.
It's true that that does leave open the possibility that the operator of
the bridge info server were corrupt, but there is at least one way to reduce
that threat:  list a large number of exit bridges in one's torrc file.
     There is, though, a potential operational problem, and that is how to
let the typical user know that an exit bridge is no longer usable.  I'm not
sure how tor currently handles unreachable entry bridges listed in torrc,
so I don't know how big or small a problem this might be.  (I'm not a bridge
user--so far.)
     You are prepared, I suppose, to establish a separate network that is
as large as the current one?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-11-26 04:23:19
@_author: Scott Bennett 
@_subject: DisableAllSwap question 
I'm currently running 0.2.2.5-alpha but will probably move to
0.2.2.6-alpha fairly soon.  In the Changelog there is a note about a new
option available in 0.2.2.6-alpha called DisableAllSwap.  I'm running
FreeBSD, and my only swap area is GELI-encrypted disk slice.  Doesn't
that effectively accomplish the same thing on my system without requiring
a lot of real memory to be tied up in fixed pages (a.k.a. "wired" pages)?
Or is there some further advantage to be gained by using both that I've
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-11-27 07:18:46
@_author: Scott Bennett 
@_subject: Danish TPB DNS Blocks 
On Thu, 26 Nov 2009 14:18:11 -0500 Flamsmark      Here's an example of attempting to do what you suggested.
Script started on Fri Nov 27 06:54:46 2009
mp% dig   a
; <<>> DiG 9.3.1 <<>>   a
; (1 server found)
;; global options:  printcmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 1041
;; flags: qr rd; QUERY: 1, ANSWER: 0, AUTHORITY: 6, ADDITIONAL: 12
;; QUESTION SECTION:
;            IN      A
;; AUTHORITY SECTION:
org.                    172800  IN      NS      a0.org.afilias-nst.info.
org.                    172800  IN      NS      a2.org.afilias-nst.info.
org.                    172800  IN      NS      b0.org.afilias-nst.org.
org.                    172800  IN      NS      b2.org.afilias-nst.org.
org.                    172800  IN      NS      c0.org.afilias-nst.info.
org.                    172800  IN      NS      d0.org.afilias-nst.org.
;; ADDITIONAL SECTION:
a0.org.afilias-nst.info. 172800 IN      A       199.19.56.1
a2.org.afilias-nst.info. 172800 IN      A       199.249.112.1
b0.org.afilias-nst.org. 172800  IN      A       199.19.54.1
b2.org.afilias-nst.org. 172800  IN      A       199.249.120.1
c0.org.afilias-nst.info. 172800 IN      A       199.19.53.1
d0.org.afilias-nst.org. 172800  IN      A       199.19.57.1
a0.org.afilias-nst.info. 172800 IN      AAAA    2001:500:e::1
a2.org.afilias-nst.info. 172800 IN      AAAA    2001:500:40::1
b0.org.afilias-nst.org. 172800  IN      AAAA    2001:500:c::1
b2.org.afilias-nst.org. 172800  IN      AAAA    2001:500:48::1
c0.org.afilias-nst.info. 172800 IN      AAAA    2001:500:b::1
d0.org.afilias-nst.org. 172800  IN      AAAA    2001:500:f::1
;; Query time: 63 msec
;; SERVER: 193.0.14.129
;; WHEN: Fri Nov 27 06:55:07 2009
;; MSG SIZE  rcvd: 441
mp% exit
script done on Fri Nov 27 06:55:10 2009
     Notice in the example above that the answer count is zero and that no
IP address or any other information is returned in response to the request
for the A RR for      The resolver library routines on your computer start--at least in
principle, though cacheing may cause a deviation from this procedure--at the
top.  After finding the addresses of one or more root servers from locally
kept data, a root (.) server is queried for the top-level domain's
authoritative name servers.  To track down the authoritative name servers for
a university in the U.S., for example, a query is sent to a root server to get
the list of authoritative name servers for the edu. domain:
Script started on Fri Nov 27 06:57:16 2009
mp% dig  edu. ns
; <<>> DiG 9.3.1 <<>>  edu. ns
; (1 server found)
;; global options:  printcmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 813
;; flags: qr rd; QUERY: 1, ANSWER: 0, AUTHORITY: 7, ADDITIONAL: 8
;; QUESTION SECTION:
;edu.                           IN      NS
;; AUTHORITY SECTION:
edu.                    172800  IN      NS      a.gtld-servers.net.
edu.                    172800  IN      NS      c.gtld-servers.net.
edu.                    172800  IN      NS      d.gtld-servers.net.
edu.                    172800  IN      NS      e.gtld-servers.net.
edu.                    172800  IN      NS      f.gtld-servers.net.
edu.                    172800  IN      NS      g.gtld-servers.net.
edu.                    172800  IN      NS      l.gtld-servers.net.
;; ADDITIONAL SECTION:
a.gtld-servers.net.     172800  IN      A       192.5.6.30
c.gtld-servers.net.     172800  IN      A       192.26.92.30
d.gtld-servers.net.     172800  IN      A       192.31.80.30
e.gtld-servers.net.     172800  IN      A       192.12.94.30
f.gtld-servers.net.     172800  IN      A       192.35.51.30
g.gtld-servers.net.     172800  IN      A       192.42.93.30
l.gtld-servers.net.     172800  IN      A       192.41.162.30
a.gtld-servers.net.     172800  IN      AAAA    2001:503:a83e::2:30
;; Query time: 62 msec
;; SERVER: 193.0.14.129
;; WHEN: Fri Nov 27 06:57:47 2009
;; MSG SIZE  rcvd: 292
Note that the list of NS RRs above comprises only a subset of the list of root
servers.  Take a look at the different list of servers authoritative for the
za. domain:
mp% dig  za. ns
; <<>> DiG 9.3.1 <<>>  za. ns
; (1 server found)
;; global options:  printcmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 1737
;; flags: qr rd; QUERY: 1, ANSWER: 0, AUTHORITY: 7, ADDITIONAL: 10
;; QUESTION SECTION:
;za.                            IN      NS
;; AUTHORITY SECTION:
za.                     172800  IN      NS      ns1.dns.aq.
za.                     172800  IN      NS      nsza.is.co.za.
za.                     172800  IN      NS      hippo.ru.ac.za.
za.                     172800  IN      NS      ns-za.ripe.net.
za.                     172800  IN      NS      auth00.ns.uu.net.
za.                     172800  IN      NS      ns-ext.isc.org.
za.                     172800  IN      NS      ucthpx.uct.ac.za.
;; ADDITIONAL SECTION:
ns1.dns.aq.             172800  IN      A       198.32.71.12
nsza.is.co.za.          172800  IN      A       196.4.160.27
hippo.ru.ac.za.         172800  IN      A       146.231.128.1
ns-za.ripe.net.         172800  IN      A       193.0.12.205
auth00.ns.uu.net.       172800  IN      A       198.6.1.65
ns-ext.isc.org.         172800  IN      A       204.152.184.64
ucthpx.uct.ac.za.       172800  IN      A       137.158.128.1
hippo.ru.ac.za.         172800  IN      AAAA    2001:4200:1010::1
ns-za.ripe.net.         172800  IN      AAAA    2001:610:240:0:53::193
ns-ext.isc.org.         172800  IN      AAAA    2001:4f8:0:2::13
;; Query time: 62 msec
;; SERVER: 193.0.14.129
;; WHEN: Fri Nov 27 06:58:16 2009
;; MSG SIZE  rcvd: 401
mp% exit
mp% script done on Fri Nov 27 06:58:36 2009
     Now that the list of edu. authorities has been obtained, any one of
those may be queried for the NS RRs for a particular subdomain of edu.  Then
any of those servers may be queried for any desired RRs within that domain,
and so on down any further subdomain levels that may exist.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-11-11 02:31:16
@_author: Scott Bennett 
@_subject: Kaspersky wants to make Tor illegal and supports a globalized policed internet. 
On Wed, 11 Nov 2009 04:35:59 +0000 (UTC) John Case      This may be slightly off topic, but there is some software around
that might be considered prerequisite components for networking schemes
like Netsukuku.  802.11s is in various stages of implementation already.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-10-21 09:00:38
@_author: Scott Bennett 
@_subject: Kaspersky wants to make Tor illegal and supports a globalized policed internet. 
On Wed, 21 Oct 2009 09:09:27 -0400 Flamsmark      Is this still about tor?  Or has it strayed enough that it should depart
this list for more appropriate fora?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-10-21 17:38:09
@_author: Scott Bennett 
@_subject: 0.2.2.5-alpha doesn't know how to make libtor.a 
I just tried that, and yes, tor built okay with that change.  In
a few minutes, I'll try installing it and restarting tor.
     I did not try using gmake(1), and now that tor 0.2.2.5-alpha has already
been built, I probably won't try it unless Nick really wants me to do that.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-10-05 18:46:47
@_author: Scott Bennett 
@_subject: Your system clock just jumped 130 seconds forward; assuming established circuits no longer work. 
On Tue, 06 Oct 2009 01:30:16 +0200 Andrew Lewman      Far more likely is a network stability issue.  If the host's connection
to the Internet is suffering delays or temporary blockages, these timeouts
may occur.  I patched mine a long time ago to change the timeout from 100 s
to 300 s when I had a different ISP with terrible service.  After making that
change, I rarely saw another of these messages.  I now have a different ISP,
so the patch is probably unnecessary now because the delays over my connection
that occasionally occur are generally no more than 15 - 20 s in duration, but
I still apply it to each new release just in case because each time the clock
jump message is issued, tor reinitializes itself, which resets a relay's uptime
to zero and causes a relay to publish a new descriptor.  (Of course, that no
longer matters in my case either, now that Comcast refuses to let me run a
     Clock failures are truly rare events.  Internet connection transmission
holdups are not.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-10-06 01:00:25
@_author: Scott Bennett 
@_subject: Your system clock just jumped 130 seconds forward; assuming established circuits no longer work. 
On Tue, 6 Oct 2009 04:02:15 +0200 Lucky Green      Fascinating.  Why does the LINUX kernel allow the TSC values to differ
by so much?
     In any case, by all means, Eugen should try that first.  If that resolves
the matter for him, that's great.  If it doesn't, then I'd suggest that he see
whether his ISP can diagnose and fix a problem with his Internet connection.
My experiences with the clock jumps in tor were on a FreeBSD system and appear
to be related to stoppages in my Internet connection.
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-10-12 15:31:57
@_author: Scott Bennett 
@_subject: hardware acceleration available for Tor ?  On FreeBSD ? 
On Mon, 12 Oct 2009 20:19:39 +0000 (UTC) John Case      Most of your questions below I can offer no information about, but I'll
answer the ones I can.
     The symmetric-key processing is very fast and takes up little CPU time.
The apparent hangup on the high-rate relays is the asymmetric-key processing
(i.e., onion-skin encrypting/decrypting).  FWIW, when I was running a relay,
it could be running at rates over 300 KB/s while using less than 1% of the
CPU when it was simply passing cells back and forth among the various
connections.  When new onion skins came in to be decrypted was when tor would
suddenly use much more CPU time for a moment or two.
     If they are, they're most likely not doing it under FreeBSD.  The last
time I checked, there was still no support for either CUDA (nVidia) or
Streams (ATi) under FreeBSD. :-(
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-10-12 20:02:38
@_author: Scott Bennett 
@_subject: Tame circuits 
On Mon, 12 Oct 2009 15:11:05 -0700 (PDT) "Mr. Blue"      If it did that, then its name would be inaccurate.  Please note the
word "Predicted" contained in the name.
     If you request an exit connection destined for port 80, then tor will
make sure that you have a circuit that ends at an exit that allows port 80
connections.  If you request a specific exit (e.g., by specifiying a domain
name ending in someexitnodename.exit, then tor will attempt to build a circuit
to that exit.  If the requested exit rejects the port number for which the
circuit was requested, then it should return a SOCKS failure of some sort, I
should think.  That's what I've seen in the past in that situation.
     Uh...tor itself should not exit unless a critical error of some sort
has occurred.  If, OTOH, you mean that it will build a circuit to an exit node,
then it is doing what it is supposed to do.  If a node has changed its exit
policy since the last time your tor fetched the exit node's descriptor, then
your tor doesn't yet know that its request may no longer be valid, so it will
build a circuit to the exit node.  When the exit node rejects the exit
connection request, then your tor notices that the exit node is behaving in
a manner that differs from your tor's copy of the exit node's descriptor.
Ordinarily, that should cause tor to attempt to build a circuit to a different
exit node for the requested port number in an attempt to service your request.
     Correct.  Those are not *predicted* circuits, but rather are *demanded*
     That is most definitely *not* a problem.  That is what tor is supposed
to do.  Your confusion is in the difference between circuits that tor builds
in anticipation of your future requests and circuits that tor builds to meet
your currently outstanding requests.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-10-12 23:38:33
@_author: Scott Bennett 
@_subject: hardware acceleration available for Tor ?  On FreeBSD ? 
On Mon, 12 Oct 2009 16:58:37 -0400 Wyllys Ingersoll
     Wow!  This is most interesting because it runs counter to what we have
been given to understand.  Usually, it is the asymmetric-key encryption and
decryption that are the costly operations, while the symmetric-key operations
are normally very fast.  tor's NumCPUs parameter in the torrc file allows
specification of the number of threads (defaulting to 1) to be used for
dishing out onion-skin decryption operations to processors, while (so I
understand) there is as yet no way to do get OpenSSL to do the same for the
symmetric-key operations involved in the relaying of tor data cells.  The
asymmetric-key operations occur during onion-skin processing and during the
handshaking process for establishing an SSL connection, and these are the
ones that cause the spikes in CPU utilization of tor relays that do not
have "HardwareAccel 1" in there torrc files or invocation arguments.
     I hope that someone on the tor development team will step in at this
point to clarify what is going on here.  Thanks much for posting your results!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-10-15 06:02:45
@_author: Scott Bennett 
@_subject: hardware acceleration available for Tor ?  On FreeBSD ? 
On Wed, 14 Oct 2009 15:09:56 +0000 (UTC) John Case      There's no sign of OpenCL for FreeBSD either. :-(
     Those books do have some fascinating chapters in them, don't they?
I couldn't resist buying all three of them, one by one, as they appeared
in a nearby bookstore.
     Quite possibly.
     In any case, CUDA, Streams, and OpenCL are only going to be available
for newer GPU models.  I'm wondering whether anyone has written the necessary
encryption/decryption support in OpenGL, which seems to be supported these
days on almost every operating system and encompasses most programmable GPUs.
My box has an old Mobility Radeon 9800 card in it that is very much
underexercised just doing day-to-day X11 stuff.  It would be nice to get some
real work out of it once in a while.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-10-18 02:49:15
@_author: Scott Bennett 
@_subject: paranoia thrill (was Re: Less OT: Here's a Solaris crypto acceleration branch to try.) 
All the discussion the past week or two on this list regarding use of
various cryptographic hardware has prompted some questions in my mind.
That question, of course, leads to
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-10-18 10:40:44
@_author: Scott Bennett 
@_subject: 0.2.2.5-alpha doesn't know how to make libtor.a 
After running './configure CFLAGS="-march=prescott"', a 'make' in the
top (tor-0.2.2.5-alpha) directory did the following.
[hellas] 107 % pwd
[hellas] 108 % make
make  all-recursive
Making all in src
Making all in common
gcc -DHAVE_CONFIG_H -I. -I../..    -I../../src/common -I/usr/local/include  -march=prescott -Wall -g -O2 -fno-strict-aliasing -MT address.o -MD -MP -MF .deps/address.Tpo -c -o address.o address.c
gcc -DHAVE_CONFIG_H -I. -I../..    -I../../src/common -I/usr/local/include  -march=prescott -Wall -g -O2 -fno-strict-aliasing -MT log.o -MD -MP -MF .deps/log.Tpo -c -o log.o log.c
gcc -DHAVE_CONFIG_H -I. -I../..    -I../../src/common -I/usr/local/include  -march=prescott -Wall -g -O2 -fno-strict-aliasing -MT util.o -MD -MP -MF .deps/util.Tpo -c -o util.o util.c
gcc -DHAVE_CONFIG_H -I. -I../..    -I../../src/common -I/usr/local/include  -march=prescott -Wall -g -O2 -fno-strict-aliasing -MT compat.o -MD -MP -MF .deps/compat.Tpo -c -o compat.o compat.c
gcc -DHAVE_CONFIG_H -I. -I../..    -I../../src/common -I/usr/local/include  -march=prescott -Wall -g -O2 -fno-strict-aliasing -MT container.o -MD -MP -MF .deps/container.Tpo -c -o container.o container.c
mv -f .deps/log.Tpo .deps/log.Po
gcc -DHAVE_CONFIG_H -I. -I../..    -I../../src/common -I/usr/local/include  -march=prescott -Wall -g -O2 -fno-strict-aliasing -MT mempool.o -MD -MP -MF .deps/mempool.Tpo -c -o mempool.o mempool.c
mv -f .deps/address.Tpo .deps/address.Po
mv -f .deps/compat.Tpo .deps/compat.Po
gcc -DHAVE_CONFIG_H -I. -I../..    -I../../src/common -I/usr/local/include  -march=prescott -Wall -g -O2 -fno-strict-aliasing -MT memarea.o -MD -MP -MF .deps/memarea.Tpo -c -o memarea.o memarea.c
gcc -DHAVE_CONFIG_H -I. -I../..    -I../../src/common -I/usr/local/include  -march=prescott -Wall -g -O2 -fno-strict-aliasing -MT crypto.o -MD -MP -MF .deps/crypto.Tpo -c -o crypto.o crypto.c
mv -f .deps/mempool.Tpo .deps/mempool.Po
gcc -DHAVE_CONFIG_H -I. -I../..    -I../../src/common -I/usr/local/include  -march=prescott -Wall -g -O2 -fno-strict-aliasing -MT aes.o -MD -MP -MF .deps/aes.Tpo -c -o aes.o aes.c
mv -f .deps/util.Tpo .deps/util.Po
mv -f .deps/memarea.Tpo .deps/memarea.Po
mv -f .deps/aes.Tpo .deps/aes.Po
gcc -DHAVE_CONFIG_H -I. -I../..    -I../../src/common -I/usr/local/include  -march=prescott -Wall -g -O2 -fno-strict-aliasing -MT tortls.o -MD -MP -MF .deps/tortls.Tpo -c -o tortls.o tortls.c
gcc -DHAVE_CONFIG_H -I. -I../..    -I../../src/common -I/usr/local/include  -march=prescott -Wall -g -O2 -fno-strict-aliasing -MT torgzip.o -MD -MP -MF .deps/torgzip.Tpo -c -o torgzip.o torgzip.c
mv -f .deps/container.Tpo .deps/container.Po
mv -f .deps/torgzip.Tpo .deps/torgzip.Po
gcc -DHAVE_CONFIG_H -I. -I../..    -I../../src/common -I/usr/local/include  -march=prescott -Wall -g -O2 -fno-strict-aliasing -MT compat_libevent.o -MD -MP -MF .deps/compat_libevent.Tpo -c -o compat_libevent.o compat_libevent.c
gcc -DHAVE_CONFIG_H -I. -I../..    -I../../src/common -I/usr/local/include  -march=prescott -Wall -g -O2 -fno-strict-aliasing -MT util_codedigest.o -MD -MP -MF .deps/util_codedigest.Tpo -c -o util_codedigest.o util_codedigest.c
mv -f .deps/compat_libevent.Tpo .deps/compat_libevent.Po
mv -f .deps/util_codedigest.Tpo .deps/util_codedigest.Po
rm -f libor.a
ar cru libor.a address.o log.o util.o  compat.o container.o mempool.o  memarea.o util_codedigest.o  ranlib libor.a
rm -f libor-event.a
mv -f .deps/tortls.Tpo .deps/tortls.Po
ar cru libor-event.a compat_libevent.o ranlib libor-event.a
mv -f .deps/crypto.Tpo .deps/crypto.Po
rm -f libor-crypto.a
ar cru libor-crypto.a crypto.o aes.o  tortls.o torgzip.o ranlib libor-crypto.a
Making all in or
make: don't know how to make ./libtor.a. Stop
*** Error code 1
1 error
*** Error code 1
1 error
*** Error code 2
1 error
[hellas] 109 %      Any suggestions?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-10-19 10:51:43
@_author: Scott Bennett 
@_subject: 0.2.2.5-alpha doesn't know how to make libtor.a 
On Sun, 18 Oct 2009 19:05:28 -0400 Nick Mathewson Script started on Mon Oct 19 10:16:24 2009
[hellas] 101 % which make
[hellas] 102 % ls /usr/local/bin/*make
[hellas] 103 % ls /usr/local/bin/automake*
[hellas] 104 % ls /usr/local/bin/autoconf*
[hellas] 105 % ls /usr/local/bin/libtool*
[hellas] 106 % gmake --version
GNU Make 3.81
Copyright (C) 2006  Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.
This program built for i386-portbld-freebsd7.2
[hellas] 107 % lsl /usr/local/bin/auto{make,conf}
lrwxr-xr-x  1 root  wheel  16 Jun 25 01:59 /usr/local/bin/autoconf@ -> autoconf-wrapper
lrwxr-xr-x  1 root  wheel  16 Jun 25 02:00 /usr/local/bin/automake@ -> automake-wrapper
[hellas] 108 % libtool --version
ltmain.sh (GNU libtool) 2.2.6
Written by Gordon Matzigkeit , 1996
Copyright (C) 2008 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
[hellas] 109 % uname -a
FreeBSD hellas 7.2-STABLE FreeBSD 7.2-STABLE  Sun Oct 18 09:33:26 CDT 2009     root  i386
[hellas] 110 % exit
Script done on Mon Oct 19 10:20:25 2009
     I used the FreeBSD 7.2-STABLE make, which was recompiled as part of a
"make buildworld", etc. after cvsup-ing to get the latest FreeBSD RELENG_7
updates shortly beforehand.  Actually, what prompted the tor-0.2.2.5-alpha
build was the 5000 circuit times bug in 0.2.2.3-alpha, which was hit upon
startup after the "make installworld && mergemaster && reboot" sequence that
ends a full update of FreeBSD.  So that's what I used to start building tor,
but what was used at the lower levels (e.g., src/{common,or} I don't know.
I assume it was set by the configure script.
     I haven't tried it.  I may have a chance to play with it tonight or
     Here are the diffs of src/or/Makefile from 0.2.2.3-alpha to
< TESTS = test$(EXEEXT)
< noinst_PROGRAMS = test$(EXEEXT)
< am__installdirs = "$(DESTDIR)$(bindir)"
< binPROGRAMS_INSTALL = $(INSTALL_PROGRAM)
< PROGRAMS = $(bin_PROGRAMS) $(noinst_PROGRAMS)
< am__test_SOURCES_DIST = buffers.c circuitbuild.c circuitlist.c \
< 	config_codedigest.c test_data.c test.c
< am__objects_3 = buffers.$(OBJEXT) circuitbuild.$(OBJEXT) \
< am_test_OBJECTS = $(am__objects_3) test_data.$(OBJEXT) test.$(OBJEXT)
< test_OBJECTS = $(am_test_OBJECTS)
< test_DEPENDENCIES = ../common/libor.a ../common/libor-crypto.a \
< 	../common/libor-event.a
< test_LINK = $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(test_LDFLAGS) $(LDFLAGS) \
< 	-o $@
< am__tor_SOURCES_DIST = buffers.c circuitbuild.c circuitlist.c \
< 	circuituse.c command.c config.c connection.c connection_edge.c \
< 	connection_or.c control.c cpuworker.c directory.c dirserv.c \
< 	dirvote.c dns.c dnsserv.c geoip.c hibernate.c main.c ntmain.c \
< 	networkstatus.c onion.c policies.c reasons.c relay.c \
< 	rendcommon.c rendclient.c rendmid.c rendservice.c rephist.c \
< 	router.c routerlist.c routerparse.c eventdns.c \
< 	config_codedigest.c tor_main.c
< am_tor_OBJECTS = $(am__objects_3) tor_main.$(OBJEXT)
< tor_DEPENDENCIES = ../common/libor.a ../common/libor-crypto.a \
< 	../common/libor-event.a
< SOURCES = $(test_SOURCES) $(tor_SOURCES)
< DIST_SOURCES = $(am__test_SOURCES_DIST) $(am__tor_SOURCES_DIST)
< ACLOCAL = ${SHELL} /usr/home/hellas/bennett/src/tor/tor-0.2.2.3-alpha/missing --run aclocal-1.10
< AMTAR = ${SHELL} /usr/home/hellas/bennett/src/tor/tor-0.2.2.3-alpha/missing --run tar
< AUTOCONF = ${SHELL} /usr/home/hellas/bennett/src/tor/tor-0.2.2.3-alpha/missing --run autoconf
< AUTOHEADER = ${SHELL} /usr/home/hellas/bennett/src/tor/tor-0.2.2.3-alpha/missing --run autoheader
< AUTOMAKE = ${SHELL} /usr/home/hellas/bennett/src/tor/tor-0.2.2.3-alpha/missing --run automake-1.10
< MAKEINFO = ${SHELL} /usr/home/hellas/bennett/src/tor/tor-0.2.2.3-alpha/missing --run makeinfo
< VERSION = 0.2.2.3-alpha
< abs_builddir = /usr/home/hellas/bennett/src/tor/tor-0.2.2.3-alpha/src/or
< abs_srcdir = /usr/home/hellas/bennett/src/tor/tor-0.2.2.3-alpha/src/or
< abs_top_builddir = /usr/home/hellas/bennett/src/tor/tor-0.2.2.3-alpha
< abs_top_srcdir = /usr/home/hellas/bennett/src/tor/tor-0.2.2.3-alpha
< install_sh = $(SHELL) /usr/home/hellas/bennett/src/tor/tor-0.2.2.3-alpha/install-sh
< COMMON_SRC = buffers.c circuitbuild.c circuitlist.c \
< tor_SOURCES = $(COMMON_SRC) tor_main.c
< tor_LDADD = ../common/libor.a ../common/libor-crypto.a \
< 	../common/libor-event.a \
< 	-lz -lm -levent -lssl -lcrypto  < < test_SOURCES = $(COMMON_SRC) test_data.c test.c
< test_LDFLAGS =   \
<         -L/usr/local/lib
< < test_LDADD = ../common/libor.a ../common/libor-crypto.a \
< < clean-noinstPROGRAMS:
< 	-test -z "$(noinst_PROGRAMS)" || rm -f $(noinst_PROGRAMS)
< test$(EXEEXT): $(test_OBJECTS) $(test_DEPENDENCIES) < 	 -f test$(EXEEXT)
< 	$(test_LINK) $(test_OBJECTS) $(test_LDADD) $(LIBS)
< include ./$(DEPDIR)/test.Po
< include ./$(DEPDIR)/test_data.Po
< check-TESTS: $(TESTS)
< 	 all=0; xfail=0; xpass=0; skip=0; ws='[	 ]'; \
< 	srcdir=$(srcdir); export srcdir; \
< 	list=' $(TESTS) '; \
< 	if test -n "$$list"; then \
< 	  for tst in $$list; do \
< 	    if test -f ./$$tst; then dir=./; \
< 	    elif test -f $$tst; then dir=; \
< 	    else dir="$(srcdir)/"; fi; \
< 	    if $(TESTS_ENVIRONMENT) $${dir}$$tst; then \
< 	      all=`expr $$all + 1`; \
< 	      case " $(XFAIL_TESTS) " in \
< 	      *$$ws$$tst$$ws*) \
< 		xpass=`expr $$xpass + 1`; \
< 		failed=`expr $$failed + 1`; \
< 		echo "XPASS: $$tst"; \
< 	      ;; \
< 	      *) \
< 		echo "PASS: $$tst"; \
< 	      ;; \
< 	      esac; \
< 	    elif test $$? -ne 77; then \
< 	      all=`expr $$all + 1`; \
< 	      case " $(XFAIL_TESTS) " in \
< 	      *$$ws$$tst$$ws*) \
< 		xfail=`expr $$xfail + 1`; \
< 		echo "XFAIL: $$tst"; \
< 	      ;; \
< 	      *) \
< 		failed=`expr $$failed + 1`; \
< 		echo "FAIL: $$tst"; \
< 	      ;; \
< 	      esac; \
< 	    else \
< 	      skip=`expr $$skip + 1`; \
< 	      echo "SKIP: $$tst"; \
< 	    fi; \
< 	  done; \
< 	  if test "$$failed" -eq 0; then \
< 	    if test "$$xfail" -eq 0; then \
< 	      banner="All $$all tests passed"; \
< 	    else \
< 	      banner="All $$all tests behaved as expected ($$xfail expected failures)"; \
< 	    fi; \
< 	  else \
< 	    if test "$$xpass" -eq 0; then \
< 	      banner="$$failed of $$all tests failed"; \
< 	    else \
< 	      banner="$$failed of $$all tests did not behave as expected ($$xpass unexpected passes)"; \
< 	    fi; \
< 	  fi; \
< 	  dashes="$$banner"; \
< 	  skipped=""; \
< 	  if test "$$skip" -ne 0; then \
< 	    skipped="($$skip tests were not run)"; \
< 	    test `echo "$$skipped" | wc -c` -le `echo "$$banner" | wc -c` || \
< 	      dashes="$$skipped"; \
< 	  fi; \
< 	  report=""; \
< 	  if test "$$failed" -ne 0 && test -n "$(PACKAGE_BUGREPORT)"; then \
< 	    report="Please report to $(PACKAGE_BUGREPORT)"; \
< 	    test `echo "$$report" | wc -c` -le `echo "$$banner" | wc -c` || \
< 	      dashes="$$report"; \
< 	  fi; \
< 	  dashes=`echo "$$dashes" | sed s/./=/g`; \
< 	  echo "$$dashes"; \
< 	  echo "$$banner"; \
< 	  test -z "$$skipped" || echo "$$skipped"; \
< 	  test -z "$$report" || echo "$$report"; \
< 	  echo "$$dashes"; \
< 	  test "$$failed" -eq 0; \
< 	else :; fi
< < 	$(MAKE) $(AM_MAKEFLAGS) check-TESTS
< all-am: Makefile $(PROGRAMS) $(HEADERS)
< clean-am: clean-binPROGRAMS clean-generic clean-noinstPROGRAMS \
< .PHONY: CTAGS GTAGS all all-am check check-TESTS check-am clean \
< 	clean-binPROGRAMS clean-generic clean-noinstPROGRAMS ctags \
< 	distclean distclean-compile distclean-generic distclean-tags \
< 	distdir dvi dvi-am html html-am info info-am install \
< 	install-am install-binPROGRAMS install-data install-data-am \
< 	install-dvi install-dvi-am install-exec install-exec-am \
< 	install-html install-html-am install-info install-info-am \
< 	install-man install-pdf install-pdf-am install-ps \
< 	install-ps-am install-strip installcheck installcheck-am \
< 	installdirs maintainer-clean maintainer-clean-generic \
< 	mostlyclean mostlyclean-compile mostlyclean-generic pdf pdf-am \
< 	ps ps-am tags uninstall uninstall-am uninstall-binPROGRAMS
< or_sha1.i: $(tor_SOURCES) test_data.c test.c
< 	  none $(tor_SOURCES) test_data.c test.c | sed -n 's/^\(.*\)$$/"\1\\n"/p' > or_sha1.i; \
< 	  /usr/bin/openssl sha1 $(tor_SOURCES) test_data.c test.c | sed -n 's/SHA1(\(.*\))= \(.*\)/"\2  \1\\n"/p' > or_sha1.i; \
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2009-09-01 16:59:21
@_author: Scott Bennett 
@_subject: Tor a carrier for Botnet traffic? 
That is true, but just avoiding the term "server" will help in many
cases, I think.  And if we can insist that if our tor nodes are proxies,
then their big routers are also running proxies, we may at least befuddle
them from threatening us further for a while.  It's hard to say without
trying it, I suppose.
     Ugh.  Even worse than what I've run into.  The AUPs of some ISPs
do make it impossible to run tor in relay mode without getting disconnected,
and we probably can't get around all of them.  It's really outrageous that
they want us to pay, but then cut us off if we actually use the service.
Anything we can do to reduce the number of would-be nodes prevented from
actually being nodes by the ISPs' interference, though, would be a good
     Comcast and Time-Warner apparently oversell their capacity.  The hell
of it is that they could get a lot of leeway just by running Quality of
Service software on their routers, but they appear to be unwilling.  If
there were more competition available, it wouldn't be such a problem.
     Meanwhile, here's something to ponder.  Someone whose Internet
connection is not allowed to have anything listening on any ports on
that interface might still be able to run a limited tor node, provided
it is never used as an entry node for a circuit.  If each such node
were to open at least one TCP connection to NumEntryGuards entry guards
and then always keep at least one connection open to each such chosen
entry guard, then the limited nodes could publish modified descriptors
that listed the entry guards in to which they were connected.  A client
building a circuit could then choose that node as a non-entry hop for a
circuit, although one of the chosen entry guards would have to precede
it in the circuit.  In principle, at least, tunneled directory services
and hidden service directory service could be provided via such a setup
as well, although the rate capacities and latencies involved might render
these not worthwhile.  This type of limited node could optionally provide
exit service as well, so it would not be restricted to middle node duty
alone.  (Increasing NumEntryGuards to a somewhat larger number than 3 might
also be a good idea in this situation.)
     To reduce the anonymity set partitioning that could result from this
setup, it might be necessary to have a chosen guard recognize when
a limited node were connected to it, so that it could refuse to extend
a circuit through the limited node until it had a certain minimum number
of limited nodes connected to it simultaneously.  Once that threshhold of
established connections from limited nodes were reached, the entry guard
could begin allowing circuits to be built through the limited nodes that
were connected to it.
     I've obviously neglected a lot of the grubby details above, e.g.,
the specifics of how a limited node responds to an entry guard going down
or becoming unreachable.  I just wanted to throw this out as a blue-sky
idea for discussion to find out whether it might be a) actually workable
and if so, b) worth the bother to do it.  Because it would require yet
more changes to the directory format and protocol, I'm sure it would not
be trivial to implement.  I've been wracking my brain, trying to think of
some way that people in my own situation vis-a-vis ISP problems might still
be able to contribute something to tor network operation, and thus far,
that's about the only idea I've come up with that *might* be useful.  If
anyone comes up with other ideas, please toss them into the discussion ring,
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-09-16 18:26:50
@_author: Scott Bennett 
@_subject: "I Write Mass Surveillance Software" 
On Wed, 16 Sep 2009 17:26:31 -0400 Gregory Maxwell      I wondered why my system sent so many RSTs that it sometimes self-limited
them.  I dealt with the problem by setting net.inet.tcp.blackhole=2 to stop
sending RSTs for ports that had no listener.  I later discovered that Comcast
runs port scanners against its own customers' IP addresses, so most likely
Comcast itself was responsible for the output RST overloads my system had
been getting.  I did not know, however, that Comcast was also sending bogus
RSTs, which I think would simply be dropped by most TCP/IP stacks.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-09-18 06:05:05
@_author: Scott Bennett 
@_subject: firefox 2 question 
I've been using firefox 2.0.0.20 because of the problems with firefox 3
that Mike Perry described here long ago w.r.t. torbutton.  Yesterday's FreeBSD
ports updates included the following note in /usr/ports/UPDATING.
  AFFECTS: users of www/epiphany, x11/yelp, graphics/librsvg2,
           x11/toolkits/py-gnome-extras, and www/epiphany-extensions
  AUTHOR: gnome at FreeBSD.org
  The default Gecko provider has been changed from www/firefox to
  www/libxul.  Firefox 2.x is now forbidden for security reasons, and
  libxul is the new, stable Gecko provider.  Libxul uses the same Gecko
  engine as Firefox 3.0.x.
   [remainder of note is irrelevant here  --SB]
     What I'd like to know is whether the previously described deficiencies
in firefox 3 have since been rectified.  I.e., is it now safe for a tor user
to switch to firefox 3?  I can prevent the ports tools from deleting the
version of firefox 2 that I've been using (I think) if necessary, but if
firefox 3 has been fixed, then I'll just upgrade instead.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-09-21 00:08:32
@_author: Scott Bennett 
@_subject: Hidden service usage 
On Mon, 21 Sep 2009 06:54:22 +0200 leandro noferini
     To have what?
     Unless the tor developers have arranged with you for you to operate
a directory authority of some kind, you will not use any of the above options.
Other people would only have need to set those options in a laboratory
situation in which they were setting up their own internal tor network.  Do
NOT play with those options on tor relays running in the real-world tor
     Please be more explicit about what you wish to do.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-09-01 10:55:53
@_author: Scott Bennett 
@_subject: Tor a carrier for Botnet traffic? 
Keep in mind, however, that this particular piece of FUD appears to
endanger a sizable chunk of the U.S. subpopulation of tor nodes because
Comcast is using that excuse, among others, to shut them down.  That was
the first of two excuses they used to force me to shut down MYCROFTsOtherChild.
     Meanwhile, I continue to look for a suitable alternative ISP.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2009-09-01 11:38:42
@_author: Scott Bennett 
@_subject: Tor a carrier for Botnet traffic? 
On Tue, 01 Sep 2009 11:22:56 -0400 Ted Smith      You raise a good point.  Nevertheless, *we* aren't the ones doing
the banning, rather the ISPs are (e.g., Comcast in the U.S.), and the ISPs
are certainly not going to ban Windows.
     There's been quite a few times that, when I've called an ISP to try
to get them to fix a problem on their end, I've been told that they don't
support FreeBSD, which, of course, is irrelevant.  I don't ask them for
operating system support, just networking support on their end.  Any *BSD,
LINUX, Solaris, or other UNIX-like system provides far better tools for
diagnosing networking problems than a typical Windows system provides.
The ISPs, however, will not let customers talk with anyone at the ISP who
actually administers the networking hardware or software.  They only let
customers talk with variously trained monkeys, none of whom have ever read
any of, say, David Comer's books on TCP/IP networking, kernel design and
implementation books, Cisco Systems manuals, RFCs, etc.  The people customers
are allowed to talk with have no clue how the Internet actually works.
They have no background in it whatsoever and usually do not even have the
vocabulary necessary to understand the evidence we present to them, much
less follow the reasoning based upon the evidence that points to the problem.
     Those are the people making the decisions to threaten customers who
know what they are doing and are running tor nodes, requiring those customers
to stop running tor nodes.  They can and do call customers who run tor nodes,
claiming that the customer's computer is "infected with a virus or other
malware" and/or that the customer's computer is "being used to contact botnets",
and when challenged for evidence to support the claims, swear up and down
that the evidence exists, but that no, they cannot give it to us and, in some
cases, that they don't have access to it themselves, but that they've been
sent a report by someone else (or some program) in the company that doesn't
give any evidence or that the company has received complaints, of which they
also cannot provide copies or other details.  A rational, knowledgeable
customer will get nowhere against the ignorance of ISP employees following
irrational policies and procedures of their employers.
     The only thing I can think of that might help here is for the tor project
and all tor node operators to stop refering to tor relays as "servers".  The
relay functions are *not* server functions any more than a Cisco router is
a server.  tor relays are *software routers*, not servers.  I realize that
a node that also has an open DirPort is providing directory services, but
those services are intended for internal use by the software router network,
not by humans directly.  The fact that humans *can* use HTTP to query a
directory server is irrelevant.  The primary role of the directory servers
is to serve the software routers, not humans, and therefore ought to be
considered as the software router equivalent to routing table maintenance
     But at present, if an ISP contacts a tor node operator, claiming that
the node operator is violating an acceptable use policy prohibiting "servers",
a look at the tor project's web site merely convinces the ISP employee that
a tor node *is* a server because that's what the web pages say it is. :-(  Then
they tell the node operator to shut it down or else they will disconnect the
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2010-04-14 16:26:59
@_author: Scott Bennett 
@_subject: huge pages, was where are the exit nodes gone? 
Hi Arjan,
     On Wed, 14 Apr 2010 22:03:33 +0200 Arjan
     Thanks.  I'll take a look at it, but I still haven't had the nap
I was going to take. :-(
     One of the reasons I'm still awake is that I was browsing through
the OpenBSD version of malloc() that is shipped with tor and libhugetlbfs's
morecore.c module.  I'm still not sure quite what is going on with how
the stuff gets linked together, so I don't know which avenue might be
the easiest approach, but modifying tor is probably the worst option.
If the LINUX side of things gets fixed, then the patches ought to be
contributed to the LINUX effort.  However, it may be easier to modify
the OpenBSD malloc() to call something in morecore.c to get memory
allocated by the kernel, falling back to whatever it currently does if
the morecore.c stuff returns an error because it can't allocate the
hugepages necessary to satisfy a request.  Of course, someone would still
need to find out how to keep the LINUX malloc() from being substituted
for the OpenBSD malloc() at runtime when the libhugetlbfs wrapper is
in use.  I doubt I can contribute much to the effort, given that I don't
have a LINUX system available to me.
     Oh.  Sorry about that.  I had intended to include that at the end
of what I wrote, but apparently I spaced it.  I didn't mean to make anyone
have to search for it.  Thanks for correcting the deficiency in my message.
     I think you'll find their design is quite elegant and well thought out.
It apparently required adding fewer than 3600 lines of code to the kernel
to do it and uses a trivial amount of kernel CPU time in action.  It's
quite transparent and adaptive to conditions, but there are probably some
conditions under which it might give less benefit than the LINUX hugepages
way.  However, it continually tries to promote processes that allocate
enough space in a segment to fill the next larger page size.  Its
reservation system greatly increases the chances that promotions will
occur.  It's not a perfect solution to the problem, but I suspect there
aren't any perfect solutions for it on the software side of things.  What
is really needed is for the chip manufacturers to correct the matter by
increasing their TLB sizes rather dramatically.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-15 01:17:09
@_author: Scott Bennett 
@_subject: PrivacyNow is a BadExit (was Re: PrivacyNow node has misconfigured OpenDNS account) 
You may have missed a distinction there.  ExcludeExitNodes does not
choose your exit nodes, but rather tells your client which nodes *not*
to use.
     There are two cases here to discuss.  The first is when one is testing
a particular exit that one suspects may be corrupted or dysfunctional in
some other way that you find unacceptable.  Until the most recent versions
of tor, one could perform such a test by choosing the exit with the .exit
notation in a host+domainname (e.g., some.website.com.privacynow.exit),
which tells the client to build a circuit that uses PrivacyNow as the exit
node.  Unfortunate (IMO), the latest versions have the support for .exit
either disabled or deleted, apparently leaving us no easy way to perform
such tests.  I've asked recently on this list whether some other easy way
were available, but have been met with silence, so I assume that there
still is none.
     The second case is when a malfunctioning exit has been affirmatively
identified.  In such a case, one should post a message either here or on
tor-relays at torproject.org to notify all subscribers to the selected list.
The directory authority operators read these lists, and if they are in
agreement about your complaint, they will assign a BadExit flag to the
offending node.  While you and others wait for them to notice your message
and decide what, if anything, to do about it, you and others need a way
to enforce exclusion of that node from the circuit route selection process
for use as an exit node.  The ExcludeExitNodes statements in torrc are
used to accomplish that exclusion.  Also, sometimes the authority operators
may disagree with your evaluation of a particular case and therefore refuse
to flag the exit node with a BadExit flag in the directory.  You can still
force your own client to abide by your evaluation and decision through use
of the ExcludeExitNodes statement in torrc.  W.r.t. the documentation you
cite, it is worth noting that being far more reluctant to exclude misbehaving
nodes from use as exits was a bigger issue in the days when the tor network
only had, say, 200 or fewer exits running at any one time.  Now that there
are usually 400 - 700 exits running at any given time, there isn't much
anonymity to be preserved by allowing the use of such exits, and there may be
much to be lost, depending upon the situation.  I've accumulated a fairly
lengthy list of excluded exits, but I do go through it every year or two to
see which excluded exit nodes a) are still around and running and b) have
corrected whatever I had found objectionable, as well as c) which are no
longer around and can be eliminated from the list anyway.  When I find nodes
that are no longer a problem, I remove them from my exclusions.
     I think the comment may be a lie.  It's most likely a torrc produced by
vidalia, not tor.  (Someone please correct me if I've forgotten some special
case in which tor does rewrite a torrc.)
     Not the empty one, obviously. :-)
     That is why tor is distributed with a complete set of documentation.
It would be well worth your time to read it.  Remember, too, that the web
site *strongly* recommends reading much of it before you ever use tor at
all, so that you *will* have most of the understanding you say you lack.
     Again, tor itself maintains no such list.  The directory authority
operators are the final arbiters of BadExit flag assignment, which tor
clients are supposed to obey automatically in the route selection routines.
You, yourself, are the maintainer of your own client's ExcludeExitNodes
and ExcludeNodes lists in your torrc file.
     Meanwhile, I see that PrivacyNow still has the following flags
assigned to it in the consensus document:
s Exit Fast HSDir Named Running Stable V2Dir Valid
I ask again that the authorities quickly either assign a BadExit to that
node or, if they know how, contact its operator about the problem to get
it corrected.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-15 02:11:29
@_author: Scott Bennett 
@_subject: PrivacyNow is a BadExit (was Re: PrivacyNow node has misconfigured OpenDNS account) 
On Thu, 15 Apr 2010 08:25:07 +0200 Sebastian Hahn      That is what I have been doing in order to be able to test for exit
misbehavior.  However, the ChangeLog notes under "Minor bugfixes" for
0.2.2.9-alpha the following:
I understood the "Now we reject" part as meaning that the .exit support had
been completely removed.  I do not understand why that behavior "might be
more expected by the user."  In any case, the above note is why I've paused
at 0.2.2.7-alpha while waiting to discover some fairly easy-to-use alternative
method of testing exit behavior.
     Regarding the attack route you mention, I have some firefox plug-ins
like NoRedirect and RefreshBlocker installed in addition to the recommended
plug-ins (including QuickJava, NoScript, and Torbutton especially) that should
help with automated stuff, and I'm in the habit of checking the actual URLs
in links before using the links manually.  In many cases, I don't even use
firefox to get stuff from the links, but rather do a copy-and-paste to a
wget(1) or some other downloader command in an xterm(1), so I have plenty of
opportunity to notice that sort of interference.  If those strategies still
miss something, please do let me know.
     Okay, I guess I had forgotten tor implemented such a command, but who
is issuing the command?  Vidalia?
     Thanks for the information, Sebastian.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-15 02:19:29
@_author: Scott Bennett 
@_subject: [or-talk] Re: huge pages, was where are the exit nodes gone? 
On Wed, 14 Apr 2010 17:23:35 +0200 Olaf Selke      Olaf, if you're awake and on-line at/near this hour:-), how about
an update, now that blutmagie has been running long enough to complete
its climb to FL510 and accelerate to its cruising speed?  Also, how about
some numbers for how it ran without libhugetlbfs, even if only approximate,
for comparison?  (The suspense is really getting to me.:^)
     Thanks!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-15 02:28:57
@_author: Scott Bennett 
@_subject: PrivacyNow is a BadExit (was Re: PrivacyNow node has misconfigured OpenDNS account) 
On Thu, 15 Apr 2010 09:17:39 +0200 Sebastian Hahn      Great!  Thanks for the clarification.  I'll go ahead and upgrade soon.
     Hmmm...yes, some images load without intervention, although many
do not.  Okay, I'll change my habits, so that torrc will have it turned
off by default, and I'll only turn it on (and send tor a SIGHUP) when
I really need it.  OTOH, thanks very much for the tip about RequestPolicy.
I didn't know about that one, so I'll check into it.
     Okay, so tor does the actual (re)write, but Vidalia is still the
perpetrator as far as the OP should be concerned. :-)  Thanks again.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-15 23:54:53
@_author: Scott Bennett 
@_subject: PrivacyNow is a BadExit (was Re: PrivacyNow node has misconfigured OpenDNS account) 
On Fri, 16 Apr 2010 00:04:06 -0400 zzzjethro666 at email2me.net
top-posted (again, please stop doing that):
     In your tor distribution, there should be a "doc" directory.  The
stuff you're looking for is all in the subdirectories called "design-paper",
"spec", and "website", although there are also three man pages and a couple
of .txt files in the doc directory itself.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-15 23:59:31
@_author: Scott Bennett 
@_subject: BadExit flag still needed for PrivacyNow... 
My weather satellite images got blocked again, due to the PrivacyNow
exit using OpenDNS with a misconfigured account and the fact that
ExcludeExitNodes still doesn't work reliably.  Will the the authority
operators *please* stick a BadExit flag onto that router's entry in the
consensus?  Thanks!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-16 00:23:42
@_author: Scott Bennett 
@_subject: [or-talk] Re: huge pages, was where are the exit nodes gone? 
On Thu, 15 Apr 2010 14:42:26 +0200 Olaf Selke                                           ^^^^
     That CPU usage looks pretty high to me, but I still don't know what
you were accustomed to seeing tor use before, so is it higher so far?
    Okay.  But, again, I'd still like to know whether the hugepages are
helping tor's CPU load or hurting it, and I would need some historical
clues, even if just estimates, to know the answer to that.
     It's in the queue, but I ran into a firefox bug again a few minutes
ago and had to kill it.  Now your statistics page is competing with the
reloading of well over 200 open tabs. B^}  Once it has loaded, though,
I'll refresh the page from time to time to check on things.  How often
are the graphs updated?  (Yes, I see the 5-minute refresh timeout on the
page, but is the timeout related to graph regeneration?)
     Ooh!  A cloak-and-dagger challenge for OR-TALK subscribers?  Cool!
:)  Not that I'm into that sort of thing, you understand...ahem.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-16 08:23:06
@_author: Scott Bennett 
@_subject: TOR Not Starting after upgrade 
On Fri, 16 Apr 2010 07:23:28 -0500 Edward Langenback
     That's good news.  However, it most likely also means that you will
need to do something with the firewall every time that you install a new
tor.  Most firewall/packet filter software for Windows makes a checksum
or digest of each program that is allowed to have network access, and
when an already approved program tries to use the network, its checksum
or digest is calculated afresh and compared with the one already on
record.  If it has changed, then the current process will be blocked
network access until someone approves the new version of the checksum or
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-18 03:18:47
@_author: Scott Bennett 
@_subject: BadExit flag still needed for PrivacyNow... 
On Sat, 17 Apr 2010 21:54:16 -0400 Andrew Lewman      No objection occurs to me on first reading.  Give it shot, and see
whether it stops this recurrent problem, which has been griped about on
this list by people encountering many instances of it at different exits.
Of course, there is the inertial resistance to changes to the directory
and consensus specifications, but I doubt most of us have much influence
on the development in such cases.
     In the meantime, however, WE *STILL* NEED A BadExit FLAG FOR PrivacyNow.
*PLEASE* *DO* *IT*, and stop stalling!  Unless your point in not doing so
is that you don't want us to report bad exit behavior so that it can be
prevented from messing up the validity of clients' circuit route selections.
It is a very high throughput exit node, so it gets to censor *many* streams.
     Probably not.  The OpenDNS servers, AFAIK, require a free account be established before they will answer queries about domains other than
OpenDNS's own domain(s).  That can be accomplished via their web site,
which also allows the account holder to select various options, one of
which determines whether the account holder wishes to have queries about
certain domains be hijacked by OpenDNS in accordance with some list
OpenDNS maintains.  OpenDNS defaults to the censorship option, so an
account holder has to make the effort of turning the censorship off.
(Apparently, A RR queries for the ghcc.msfc.nasa.gov. domain are hijacked
in that way.)  The account holder can turn off all hijacking, supposedly,
to get the same response they would get from a fully honest name server.
tor exit operators are obligated to use name servers that give true
answers, so an exit that is querying an OpenDNS name server and that has
the highjacking "feature"--again, a Micro$lop usage of the word--enabled
is therefore a BadExit.
     Even though I no longer run an exit, I had been truly fed up with
Comcast's hijacking name servers for a long time, so when Google started
offering free and open access to honest, though logging, name servers
at 8.8.4.4 and 8.8.8.8, I switched to them immediately.  I'm not too
worried about the logging, because very few name server queries leave
my machine anyway, mainly thanks to tor.  And if I were running an exit,
it still wouldn't bother me much because nearly all queries leaving my
machine would have nothing to do with anything I was doing at the time.
     I've procrastinated so far about setting up a small name server here,
basically for cacheing, and I've gotten away with it, I suspect, largely
because I discovered nscd(8) on my system and configured it for use.
nscd can be configured to cache results in caches for hosts, passwd,
group, services, protocols, and RPCs.  Additional, system-particular
caches can also be defined if one has the need to do so.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-18 10:24:56
@_author: Scott Bennett 
@_subject: BadExit flag still needed for PrivacyNow... 
On Sun, 18 Apr 2010 09:54:31 -0500 Bill Weiss      Oh.  Okay.  Thanks for the correction.
     Looks about right.
     Tsk, tsk.  Although I suspect that that would not actually violate the
criminal statute about unauthorized access, it would nevertheless be quite
unethical.  Consider the possibility that, laying tor out of view for a
moment, there are other uses being made of that computer and/or network for
which such blocking might be desired by the owner, e.g., content blocking
for a household full of children with several computers available to them
on their home network.  Granted, an exit should *not* be run in such an
environment, but it is not anyone's business to muck with the configuration
of someone else's computer or network.
     Thanks, but I used to run the primary for the local university long
ago, as well as a few unofficial secondaries around the campus.  I've just
been lazy about setting one up because I haven't really needed one.  And,
as I wrote before, nscd has been a blessing, not only for A RR queries,
but for several other data sets as well.  I appreciate the offer, though.
FWIW, most of the situations in which my current setup fails involve being
disconnected from the ISP due to some outage or modem screwup, so having
a name server running wouldn't really help anyway.
     I just checked again, and as of 8:49 a.m. CDT, there was still no
BadExit flag assigned to PrivacyNow. :-(
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-20 04:24:32
@_author: Scott Bennett 
@_subject: BadExit flag still needed for PrivacyNow... 
On Sun, 18 Apr 2010 13:21:33 -0400 Roger Dingledine      Thanks much, Roger.  Since the flag appeared, I've had no further
failures of that sort.
     Bummer.  I hope whatever you were going to attend can be rescheduled.
     Both would be Very Good Things (tm).
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-20 04:52:59
@_author: Scott Bennett 
@_subject: BadExit flag still needed for PrivacyNow... 
On Sun, 18 Apr 2010 21:29:04 -0700 Jacob Appelbaum      Thanks, Jake.
     I've been turning that over in my mind for day or two now, and I'm
still trying to think of why we would need it.  What the authorities
would communicate to clients is basically, "Don't use this node as an
exit."  Well, we already have a flag for that.  We also have a flag
("Invalid") that says, "Don't use this node at all", which could have
been used to deal with the "throughput capacity exaggeration" attack--
which the tor network is *not* known to have ever experienced--quite
easily, rather than the frankly ham-handed method that was implemented
     If you're worried about a NORDO relay operator like PrivacyNow's
operator who discovers his/her node has been assigned a BadExit flag
and wants to know why, that operator can always write to tor-ops@ to
find out.  Perhaps a note to that effect regarding all cautionary flags--
is there still a bad directory flag, as referenced on the torstatus
page?--(e.g., BadExit, Invalid) could be added to the torproject.org
web pages somewhere.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-20 05:50:42
@_author: Scott Bennett 
@_subject: Eventdns: All name servers have failed 
On Mon, 19 Apr 2010 19:00:20 -0500 David Carlson
     All of us have been at some point.
     Your discussion below presents one plausible explanation.
     Does your LAN have any non-Windows systems on it on which you might
more easily run a name server of your own?
     Why do you think that is happening?  Does it have a column of lights
that show a distinct pattern when the modem is reinitializing itself?
     Another possibility is that the other end of the connection is on
an ISP subnet that is momentarily flooded with traffic, resulting in your
LAN's queries or the ISP's name server's responses from completing their
trips before the timeout period expires.  The default timeout period for
DNS queries these days is normally only 3 s.
     It's certainly worth further investigation.  A phone call to the ISP
to find out what its policies and practices are about daily reboots and
so on might be well worth your time.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-20 06:14:26
@_author: Scott Bennett 
@_subject: Eventdns: All name servers have failed 
I see I thoroughly garbled the following sentence (aarrghh...).
                                                    ^^^^^^^^^^^^^^^
That should read, "failing to complete".  Apologies for the noise.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-23 00:23:40
@_author: Scott Bennett 
@_subject: Tor 0.2.2.11-alpha and 0.2.2.12-alpha are out 
On Thu, 22 Apr 2010 19:39:07 -0400 Roger Dingledine      Was there some point in releasing the above without your directory
fetch circuit timeout patch, at least as a temporary fix that might be
replaced by something better in 0.2.2.13-alpha?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-23 10:14:42
@_author: Scott Bennett 
@_subject: Declining traffic 
On Fri, 23 Apr 2010 15:51:59 +0200 Sebastian Hahn      Sebastian, there was something that looked very much like a botnet
attack running for two or three hours this a.m.  It seems to have stopped
now.  I had shut down my machine to install operating system updates.
When all that was finished and I finally brought the system back up, for
some unknown reason, pf did not start.  (As if there were not going to be
enough confusion as things already were.  Sigh.)  As soon as I noticed pf
wasn't running, I started it manually and loaded a block list.  But pftop
continued to pour forth log entries of illicit connection attempts from
untold numbers of IP addresses and to scads of different TCP port numbers.
I kept stopping and starting the logging, so that I could see the log
entries long enough to add the addresses to that block list.  I eventually
got crosseyed from adding somewhere between 200 and 300 IP addresses to
the list. :-(  When I then let the logging continue, it had stopped
getting any new stuff to log.
     It was very intense while it lasted, but in the larger scheme of
things, it was of very short duration for a coordinated attack.  I doubt
that my system was the onlyt tor relay being attacked.  In fact, I think
the attack began a short time after my node appeared in the consensus,
although at this point I can't prove it.
     What I would like to know is how many systems were attacked this
a.m. in that manner,  were only systems running tor relays attacked,
who shut it off, etc.  If anyone else on this list noticed anything between
5:00 a.m. CDT and 8:00 a.m. CDT, please post the details here.  Thanks!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-23 11:23:12
@_author: Scott Bennett 
@_subject: Declining traffic 
On Fri, 23 Apr 2010 10:42:25 -0500 Jon  top-posted:
     Hmmm...doesn't look like the same thing to me.  What I saw were several
hits per second, sometimes up to 10 or 20 per second, on all sorts of port
numbers and coming from IP addresses all over the place.  There is no malware
running on my FreeBSD system (unless, of course, someone is afflicted with
religious problems over that:-), so this system would not have registered
itself at either of the sites mentioned in the latter article.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-23 20:51:32
@_author: Scott Bennett 
@_subject: Declining traffic 
On Fri, 23 Apr 2010 14:16:57 -0400 Roger Dingledine      I hope that, in the future, openssl.org will make some effort to
coordinate such things with the various operating system developers in
a way that avoids turning the situation into such a cl*****f*** again.
It's obviously been a nightmare for you and the rest of the tor project,
and I'd bet heavily that the tor project is not the only one so affected.
     Are there any ideas floating around yet as to why tor doesn't work
with openssl 1.0.0?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-24 06:11:25
@_author: Scott Bennett 
@_subject: Declining traffic 
On Sat, 24 Apr 2010 06:45:38 -0400 Roger Dingledine      I tried it from ports, so it's not the aborted version in the FreeBSD
base system.  I first posted about the problem on tor-relays earlier this
Ended up using portdowngrade to get back to 0.9.8n, which works just fine.
     No, the version in the FreeBSD base system is a crippled 0.9.8e, IIRC.
     Someone (perhaps Nick or Andrew--I don't remember who) posted a note
before that to the effect that a 1.0.0-beta seemed to work with tor and
was faster, to boot, which I was looking forward to.  I didn't try the beta
version, though, so I have no direct experience with it myself.  The released
version definitely does not work with tor.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-01 08:28:32
@_author: Scott Bennett 
@_subject: a problem about run tor bridge 
On Wed, 24 Mar 2010 10:35:05 +0800 "wang.wang.test"
     Actually, I think you've overstated that a little bit.  Hidden services
can be offered by client-only systems and therefore can do so behind a NATing
router without any port forwarding beyond what the NAT is already doing.
     Well, one would certainly hope that it's not his real address, now
that he's publicized it as being supposedly a bridge address.  As far as your
second question is concerned, let us hope that the answer is "no one".
     In this, you are most likely correct.  To offer a relay of any type
behind a NATing router, one does have to configure the router with the
appropriate RDR for port forwarding, although I confess I've never played
with BINAT and therefore have no idea whether there might be a way to make
it work for tor.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-27 01:35:20
@_author: Scott Bennett 
@_subject: Botnet attack? [was: Re: Declining traffic] 
On Mon, 26 Apr 2010 13:36:17 -0400 Flamsmark      I agree with your implication that the symptoms Timo described do
not look like a botnet attack, although they may well be an attack by
those individual systems.
     What my system logged over a two- to three-hour period was a very high
rate of illicit connection attempts being logged, a rate much higher that
usual and for an extended period of time.  Some of the connection attempts
involved only one or two tries for a single port number.  However, consider
another type that also occurred frequently during that time span.  That
other type looked more like an individual attack that came in this evening:
2010-04-26 23:38:02.029282 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3400 > 24.1.225.89.80: [|tcp]
2010-04-26 23:38:04.997727 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3400 > 24.1.225.89.80: [|tcp]
So far, so good.  A simple web crawler, unaware that I don't run a web server
at present, could have done the above.  If those were the only attempts, then
I would not have added 81.64.6.141 to my permanent block list for all
protocols.  However, those two log entries were immediately followed by the
entries below.
2010-04-26 23:38:07.153421 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3409 > 24.1.225.89.1081: [|tcp]
2010-04-26 23:38:07.449861 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3412 > 24.1.225.89.3121: [|tcp]
2010-04-26 23:38:09.253588 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3413 > 24.1.225.89.3128: [|tcp]
2010-04-26 23:38:10.125382 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3409 > 24.1.225.89.1081: [|tcp]
2010-04-26 23:38:10.429712 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3412 > 24.1.225.89.3121:  tcp 16 [bad hdr length 12 - too short, < 20]
2010-04-26 23:38:11.033624 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3400 > 24.1.225.89.80: [|tcp]
2010-04-26 23:38:12.063644 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3416 > 24.1.225.89.8000:  tcp 16 [bad hdr length 12 - too short, < 20]
2010-04-26 23:38:12.238059 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3413 > 24.1.225.89.3128: [|tcp]
2010-04-26 23:38:15.058113 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3416 > 24.1.225.89.8000:  tcp 16 [bad hdr length 12 - too short, < 20]
2010-04-26 23:38:16.161729 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3409 > 24.1.225.89.1081:  tcp 16 [bad hdr length 12 - too short, < 20]
2010-04-26 23:38:16.241858 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3419 > 24.1.225.89.8001: [|tcp]
2010-04-26 23:38:16.466181 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3412 > 24.1.225.89.3121:  tcp 16 [bad hdr length 12 - too short, < 20]
2010-04-26 23:38:17.193809 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3422 > 24.1.225.89.8080: [|tcp]
2010-04-26 23:38:18.274265 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3413 > 24.1.225.89.3128:  tcp 16 [bad hdr length 12 - too short, < 20]
2010-04-26 23:38:19.178169 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3419 > 24.1.225.89.8001:  tcp 16 [bad hdr length 12 - too short, < 20]
2010-04-26 23:38:20.086026 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3422 > 24.1.225.89.8080:  tcp 16 [bad hdr length 12 - too short, < 20]
2010-04-26 23:38:20.990386 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3416 > 24.1.225.89.8000:  tcp 16 [bad hdr length 12 - too short, < 20]
2010-04-26 23:38:25.214087 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3419 > 24.1.225.89.8001:  tcp 16 [bad hdr length 12 - too short, < 20]
2010-04-26 23:38:26.122380 rule 5.logscanners.0/0(match): block in on bge0: 81.64.6.141.3422 > 24.1.225.89.8080:  tcp 16 [bad hdr length 12 - too short, < 20]
As you can see, 81.64.6.141 has earned a well deserved line in my block list.
     FWIW, since I started maintaining a block list, it has grown to 2682
entries, each of which is either a single IP address or is an IP address range.
The largest range that I've had to insert so far is 85.176.128.0/17, which is
the upper half of a /16 held by hansenet.de.  Before removing the long list
of individual offenders in that range, I checked the tor directory on several
occasions and found that there were as many as three relays operating at
varying times with addresses in that range.  As of that time, none of the
relays' addresses appeared in my block list, so I first added a list of tor
relay IP addresses from which connections to my relay's ORPort are passed
before the block list gets applied.  That list is updated every 30 minutes
to match the current tor consensus most recently fetched by my relay.
     The upshot of all of this is that anybody mucking around with making
illicit attempts to connect to my system gets their system added to the block
list.  From that moment forward, regardless of whether I someday have
applications listening on other ports and regardless of what protocol or
port number a packet is received from an address or address range appearing
in my block list, will *never* get any response whatsoever from my system,
except in the case of a tor relay running on such a system and appearing in
the most recently fetched tor consensus.  Such exceptions will be allowed
to connect to the ORPort (and DirPort, too, if I am ever in a position to
offer directory services again) for as long as their addresses appear in
the consensus.  An additional note I should make is that if an address
appears in a /24 that already has one address in the block list, I replace
that original entry with a large enough IP address range mask to cover both
the original and the newcomer.  I draw the line at /27, though, and don't
make entries that are smaller than a /27 but larger than a single IP address.
     That is a good idea for client IP addresses, to be sure.  However,
any relay already has its IP address made public in the consensus and the
directory.  And I have no qualms at all about making crackers' addresses
as public as possible.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-27 06:56:51
@_author: Scott Bennett 
@_subject: Botnet attack? [was: Re: Declining traffic] 
On Tue, 27 Apr 2010 13:07:24 +0200 Hans Schnehl      Yes, yes, I understood all that.  That wasn't my point.  My point was
that on the morning in question, I was getting scans similar to that example,
each batch from a different IP address, as frequently as a couple of scans
in two or three seconds, and that that kind of thing went on almost
continuously for about three hours.  That was the first time I had seen a
protracted onslaught of such stuff on my system.  There are probably many
culprits that escaped getting added to my block list because after three
hours of trying to add each address by hand, scrolling back and forth through
the intermingled addresses in messages in an xterm, I was worn out and gave
up.  By the time I gave up, I had added over 220 addresses or address ranges.
Then the onslaught stopped very abruptly and has not recurred.  I still get
several scans per day of varying sets of ports, just as I did before, but no
further deluges of scans and individual port attempts coming from lots of
different IP addresses.  The event that morning was intense, but of finite
     While we're on the subject of illicit TCP connection attempts, I'd like
to mention something that I've noticed begin only in the last two months or
so and seems to be becoming more frequent as time passes.  At first, it was
the occasional attempt to connect to port 9030, which became more frequent
over the last few weeks.  Then 9001 was added to that and has also been
getting more frequent.  In the last day or so, I've begun seeing 8118 in
addition to those.  Hmmm...
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-29 02:56:30
@_author: Scott Bennett 
@_subject: circuit construction timeout values 
I've noticed something odd in info-level log messages that show circuit
build timeout values being set.  Given that the maximum length of circuit
construction time history of 5000 construction times has already been reached,
it seems weird to see huge jumps in the timeout values from one such message
to the next.  Here are two examples.
Apr 27 16:16:08.917 [info] circuit_build_times_set_timeout(): Set circuit build timeout to 68s (67721.267133ms, Xm: 6025, a: 0.665199) based on 5000 circuit times
The next message of this form is
Apr 27 16:16:08.917 [info] circuit_build_times_set_timeout(): Set circuit build timeout to 68s (67721.267133ms, Xm: 6025, a: 0.665199) based on 5000 circuit times
That one is followed by
Apr 27 16:26:14.040 [info] circuit_build_times_set_timeout(): Set circuit build timeout to 93s (93292.661928ms, Xm: 2525, a: 0.445889) based on 5000 circuit times
Messages showing similar timeouts (i.e., 93-94 s) continue for quite some time.
Then the following sequence occurs.
Apr 27 18:15:53.967 [info] circuit_build_times_set_timeout(): Set circuit build timeout to 94s (93616.547344ms, Xm: 2525, a: 0.445462) based on 5000 circuit times
Apr 27 18:15:59.672 [info] circuit_build_times_set_timeout(): Set circuit build timeout to 65s (64619.917420ms, Xm: 9075, a: 0.819887) based on 5000 circuit times
     So I'm wondering what is going on here.  If the timeout being set is
supposed to reflect some sort of smoothed values of a time series of circuit
construction time, where the smoother is 5000 values wide, how can such jumps
occur?  I guess I don't understand what algorithm is being used here.  Any
clarification would be appreciated.  Thanks in advance!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-06 03:58:21
@_author: Scott Bennett 
@_subject: Cannot Download Bridges 
On Fri, 2 Apr 2010 03:09:18 +0000 john smith      Would it be feasible for tor, when configured to use bridges, to be
somewhat proactive thenceforth?  If bridges have been chosen for use, the
tor might continue to fetch new bridge information every so often via a
hidden service that wouldn't, in and of itself, be blockable.
     tor could be somewhat smart about this, too.  For example, if it
notices that a bridge has become unreachable, it could request three new
ones.  Given the possibility that the unreachable bridge might simply be
down for the moment, tor could keep it at the end of its list of bridges
to try until it had been unreachable for some time period before removing
it from its list.  Such a procedure would mean that, in many situations,
the user would only need to get an initial set of bridges, after which
tor would maintain a list of, say, six to twelve bridges that were current
for use.
     At present, bridge users have to remain vigilant and anticipate the
blockage or discontinuance of bridges that they have provided to tor, which
means that they could become permanently disconnected and unable to get new
bridge information.  It wouldn't be airtight, to be sure, but it would
greatly shrink the window of opportunity for censors to cut bridge users
off from the tor network.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-06 07:22:12
@_author: Scott Bennett 
@_subject: vps 
If you're looking for a truly easy way to get started, I'd like to
recommend you take a look at PC-BSD 8.0 (see   It seems
to take most people, beginners included, about 20 minutes to install and
get running.  A couple of days ago, a new book by Dru Lavigne was announced
on the freebsd-announce list.  I'll try to forward you a copy of the
announcement off this list.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-07 04:49:49
@_author: Scott Bennett 
@_subject: Cannot Download Bridges 
And that would be different from our current situation exactly how?
Besides, hidden services are **S--L--O--W**, which discourages that sort
of thing anyway.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-07 23:51:30
@_author: Scott Bennett 
@_subject: vps 
On Thu, 8 Apr 2010 04:16:38 +0800 DC  top-posted:
     If tor finds that your provider is hijacking name server queries, then
it is likely to refuse to operate as an exit and will publish discriptors
containing a rejection of all ports as an exit policy.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-11 04:56:32
@_author: Scott Bennett 
@_subject: [or-talk] where are the exit nodes gone? 
On Sun, 11 Apr 2010 08:47:31 +0200 Olaf Selke      Observed by what?  If it has anything to do with the numbers
 given in the consensus documents, then the only value such graphs
would have would be for the purpose of comparing those graphs with the
values reported by the relays themselves.  The values in the consensus
documents alone are, a priori, worthless.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-11 06:12:43
@_author: Scott Bennett 
@_subject: [or-talk] where are the exit nodes gone? 
Hi Olaf,
     On Sun, 11 Apr 2010 12:11:36 +0200 Olaf Selke      You did say "observed", not "advertised".
     Remember, there are exactly two vantage points from which valid
observations can be made, no more and no less.  One is from inside your
system's networking stack (including packet filter software).  The other
is inside your tor relay's process.  Unless the value of "about 16000 KB"
(/s) comes from one of those two sources, then I simply don't believe the
so-called measurement, and neither should you.  Such a measurement means,
at best, only that "it's probably a relatively big number when compared
to the rest of such numbers in the consensus, and the real number is
almost certainly larger than this number".
     No, not at the present time because that is not reported by the relays.
What a relay reports is the highest minimum number of bytes handled in any
one second in a ten-second sliding window within the the past 24 hours.
That value is then devalued considerably by the fact that the 24-hour
periods are not normally consecutive, but rather are overlapped by roughly
six hours at each end, so that only the middle twelve of the 24 hours are
represented exclusively in a measurement reporting period.
     The whole reporting setup is wrong and needs to be revamped from
scratch in order to get a system that works properly.  As I've noted before,
the very first and most critical thing to be done is the design separation
of throughput capacity (which the clients need to know) from actual service
rendered (which only some humans want to know).  The rest cannot even be
begun until that much is done.
     Probably the best data (i.e., not as bad as any of the other values
reported) for that purpose would be found in the extra-info documents.
Divide each field by 900 s to get the average rates in B/s.  One good
thing about the numbers in the extra-info documents is that both "bytes
read" and "bytes written" are reported.
     Sorry to disappoint you, Olaf, but that's just the way things are
for now. :-(
     FWIW, I still think it might be worth your time to take a spare
machine, if you have one, and install an OS that supports superpages
(e.g., FreeBSD 7.2 and later, Windows Vista and later, possibly Windows
Server 2008, but I don't know about that one), and then try it long
enough to see whether that relieves any of the CPU load.  Or, if you're
up for some coding and testing, you could try LINUX's support for "huge"
pages, but that facility is neither automatic nor transparent to the
application, as I understand it, so it does require additional code.  At
present, it's very likely that 30% to 45% of your tor relay's CPU time
is being wasted in address translation due to TLB misses, even when the
needed data or instructions are *already in some level of cache*.  If
the CPU is stalled because MMU has to walk a page table before it can
discover that what it needs is not only already in memory, but already
in a cache, the performance hit is a crying shame.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-11 07:44:56
@_author: Scott Bennett 
@_subject: [or-talk] where are the exit nodes gone? 
I see I missed the implication in Olaf's main complaint above, which
is that the authorities are advertising more capacity for his node than
his node is advertising.  Checking the current (i.e., valid-after
2010-04-11 10:00:00) consensus, I see that the authorities have decided
to volunteer 2560 KB/s on behalf of node blutmagie, which is indeed greater
than 2500 KB/s, though only 2.4% greater.  (For some reason, my current
directory files don't seem to contain a descriptor for blutmagie at all.
I don't know why, but I assume that it will prove to be a temporary
situation.)  In any case, if a consensus document volunteers any capacity
exceeding the smallest of a node's BandwidthRate, RelayBandwidthRate, or
MaxAdvertisedBandwidth, then I believe it should be documented and reported
as a bug in the authority code.
     The other things I missed in Olaf's remarks above are *exit* usage
and *exit* capacity.  If tor ever get proper reporting of throughput
capacity, then adding up the capacities of all exit nodes in the consensus
or, arguably, the current directory, would yield the total exit capacity
because it matters not whether data leave a node for a true destination or
just to another node.
     But the total exit usage question cannot be answered at present because
nothing reports that information at present.  Whether tor is keeping such
information locally but not reporting it either locally or to some authority,
I don't know.  If it is, then adding a few lines to write the information to
a log every so often should be fairly trivial to do.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-11 10:01:50
@_author: Scott Bennett 
@_subject: [or-talk] where are the exit nodes gone? 
On Sun, 11 Apr 2010 15:23:16 +0200 Olaf Selke      Oh, jeez.  I thought that one had been fixed a while back.  Sigh.
Or maybe it's not just *one* bug.
     You might communicate with Kasimir Gabert about that.  I think he said
some months ago that he was going to do that for his torstatus stuff, so
what you want might already be written.
     I don't see how because a successful translation stays in the hardware
and causes no interrupt.  The kernel only sees something when the translation
     FreeBSD has had steadily growing HWPMC support since 6.0, so I just
looked through some of the HWPMC man pages.  There are counters for
instruction cache misses and data cache misses, but I didn't see any
counters at all that involved TLB-related events.  That doesn't mean that
there aren't any, just that I didn't find any documentation of any.  On
a moment's thought, that does seem a trifle odd, given that there are
counters for lots of strange things, including other performance hits that
have far milder consequences per event (e.g., logical CPU cycle lockouts
caused by conflict with the other logical CPU in a core, IIRC) than TLB
misses have.  If I had the Intel processor manuals that describe the various
counters that the chips support, I'd have a better clue where to look in
the FreeBSD documentation or maybe how to query the hardware itself (using
a small utility that is part of the base system) to find out whether there
are any TLB-related event counters available.  You might dig around in your
system to see whether LINUX shows support for any TLB-related event counters.
     Something else you might check on if you're considering adding scraps
of code to tor to use LINUX's "huge" page support is whether "huge" pages
get page-fixed (a.k.a. "wired").  FreeBSD's superpages don't.  If the
kernel decides it has to snatch any base page frames out of a superpage,
it simply demotes a superpage to the next smaller page size supported on
that processor type, then demotes one of those, etc. until it can free up
individual base pages.  That means it can't cause the sort of problem that
tying up several hundred megabytes of page frames by fixing a large process's
pages into them can create for the rest of whatever is running in the same
machine because a superpage's base (i.e., underlying, smallest sized) page
frames can always be freed for reuse by something else if the system really
needs them.  On i386 and amd64 architectures, there are only two page sizes
(4 KB and 4 MB) available anyway, so there's only one step available in
either the promotion direction or the demotion direction.  (ia64 (i.e.,
Itanium) has a several more steps available, IIRC, and I think the alpha
processors have about five.)
     In any case, your Xeon(s) ought to be able to benefit considerably from
running your gargantuan tor process in 4 MB pages instead of 4 KB pages.
I'm not sure about Xeons, but the regular, non-server i386 and amd64 chips
by Intel only have 64 TLB entries for instruction (i.e., text) pages and
64 TLB entries for data (i.e., data and stack) pages, so that means if an
instruction working set or a data working set exceeds 256 KB, then the
process running with base (4 KB) pages will end up thrashing the relevant
TLB(s), stalling the processor every time while the MMU walks through the
page table.  If you have HTT-enabled Xeons, then remember that the two
logical CPUs in each core share the same MMU and L1 and L2 caches, as well
as the same bus to and from main memory, which can further increase the
frequency and cost of TLB misses as the two threads tramp around in different
parts of your system simultaneously.
     8<Q  Really, I was only kidding. :-)  But, AFAIK, FreeBSD and some
versions of Windows are the only OS that support automatic, transparent
superpages.  I think Solaris for x86 supports superpages somehow, but
my dim recollection of the information I ran across said that they required
some programmer intervention.
     Nevertheless, if you have to keep your system a LINUX system, it would
be worth it in your case to see about adding whatever code might be needed
to use the "huge" pages facilities.  I have a suspicion that it might turn
out to be a fairly small number of lines of extra code to set up essentially
all of tor's memory as huge pages.  The trick would be to make sure that
anywhere that tor requests more memory from the OS it also puts the newly
allocated memory into huge pages (probably easy enough) *and* frees them
again each time an entire huge page is emptied (the trickier part).
     Anyway, whatever you decide to try, please, please report back here
any results of the experiment.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-11 12:00:23
@_author: Scott Bennett 
@_subject: [or-talk] where are the exit nodes gone? 
On Sun, 11 Apr 2010 10:05:06 -0600 Kasimir Gabert      Thanks for responding to that so quickly, Kasimir.  It should save Olaf
some time.
     Did you just use a boxcar average?  If so, it will have significant
(I'd guess a peak of about 2% of true amplitude) Gibbs ringing in the
result, but given the erratic quality of the source data (i.e., the mix
of varying lengths of records, times of day, and so forth) and given how
the results will be used, it's probably no big deal, and no one is likely
to realize the ringing is present when they look at a graph of it anyway.
How many 15-minute periods wide is the window?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-13 01:54:24
@_author: Scott Bennett 
@_subject: [or-talk] where are the exit nodes gone? 
On Tue, 13 Apr 2010 08:43:21 +0200 Olaf Selke      Either I forgot (probable) or you didn't mention before (less probable)
that you had moved it to a newer machine.  Whatever you're running it on,
superpages or LINUX's "huge" pages ought to speed tor up considerably by
drastically reducing TLB misses.  (I wasn't suggesting that you revert to
older hardware.  I was thinking that you were still running tor on the Xeon-
based machine.)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-13 02:33:09
@_author: Scott Bennett 
@_subject: Need a full description of 'Use New Identity' 
On Tue, 13 Apr 2010 12:49:33 +0530 emigrant      The answer is in the documentation, but I don't remember off the top
of my head where, so I don't have a URL for you.  It tells your client,
basically, to "mark all existing circuits as being too old to use for new
streams" and to "build three new circuits proactively".
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-13 05:16:33
@_author: Scott Bennett 
@_subject: huge pages, was where are the exit nodes gone? 
On Tue, 13 Apr 2010 11:04:36 +0200 Olaf Selke      Very interesting article.  Thanks for the URL.  Of course, not being
a LINUX user, I have no idea what the acronyms for various LINUX kernel
features mean, and I have mercifully been free of any involvement with
Oracle for ~17 years, so ditto for the Oracle stuff. :-)
     One matter of concern, though, is the mention of a page size of 2 MB.
Intel x86-style CPUs offer a 2 MB page size *only* for instruction (a.k.a.
text) segments, not for data or stack segments, so I'm not sure what LINUX
is doing with that.  (See also the last line of the following bit of
     Olaf, I honestly don't know.  I had not seen the page for which you
provided a URL, and it is more recent than what I had read about LINUX's
huge pages before.  Those older articles clearly stated that a program
had to reserve/designate its memory as huge pages *explicitly*, but it's
possible that usage is now more automatic.  However, part of the final
sentence in the article's summary section stands out to me:
That suggests to me that the application (tor, in this case) must tell
the LINUX kernel which page size it wants for its memory.  Whether it
also has to specify address ranges explicitly to be so mapped, I haven't
the foggiest idea.  But even if the application does have to tell the
kernel something, it ought to be fairly trivial to add to tor's startup
code.  Start out by overestimating (assuming there is adequate real
memory on the system to play with) how much tor will need at its maximum
size, then decrease it, perhaps a bit at a time in successive recompilations,
until it only minimally exceeds tor's high-water mark.
[soapbox:  on]
     [Unless you have other applications also using that machine, this would
probably all be made so much easier by just trying out PC-BSD 8.0 because a
one-line entry in /boot/loader.conf would take care of superpages for you
automatically.  PC-BSD is the install-and-go version for both new users who
need to be able to use the system right away before learning much and casual
users who have no interest in learning much about FreeBSD.  This special
packaging of the system is designed to allow both groups, who might
otherwise find it beyond the effort they were willing or able to put into
it, to get its benefits.]
[soapbox:  off]
     Now that you've had tor running for a while, what does a
"cat /proc/meminfo | grep -i hugepage" show you?  Also, 126 such pages
equal 256 MB of memory.  Is that really enough to hold your entire tor
process when it's going full tilt?  I thought I had seen you post items
here in the past that said it was taking well over 1 GB and approaching
2 GB.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-13 05:58:32
@_author: Scott Bennett 
@_subject: huge pages, was where are the exit nodes gone? 
^^^^
                       ^^^
     Apparently, telling it reserve 1024 huge pages didn't take.  I guess
you'll have to dig into the LINUX documentation a bit to find out what's up
with that.
     BTW, I know that there are *lots* of tor relays running on LINUX
systems whose operators are subscribed to this list.  Don't leave Olaf and
me here swinging in the breeze.  Please jump in with your LINUX expertise
and straighten us out.  Remember that Olaf runs the highest-load-bearing
tor node in our whole network, and there are at least two or four dozen
others that should be considered heavyweight relays that are also on LINUX
systems.  It is in every LINUX+tor user's interest to help Olaf and others
running tor nodes on LINUX systems here to make sure all of those systems
are getting the performance benefits of smaller page tables for their tor
processes (provided those systems have adequate real memory, which I would
bet most of them do).  I've worked with UNIX for decades, but have never
used a LINUX system.  Olaf shouldn't have to depend solely upon someone
who doesn't really know much of what he's writing about to get his blutmagie
tor node running with LINUX huge pages when there are so many LINUX system
experts on this list.
       ^^^ [*252* MB:-]
     Oops.  I guess I should have been heading to bed instead of posting
a followup. :-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-13 11:41:48
@_author: Scott Bennett 
@_subject: huge pages, was where are the exit nodes gone? 
On Tue, 13 Apr 2010 18:15:18 +0200 Olaf Selke      Hmm.  Looks like you need to raise its stack segment and/or data segment
size limit(s).
     Well, the first number shouldn't change.  If tor had already quit, the
the HugePages_Free value, even if some had been allocated/reserved, should
have reverted to the HugePages_Total value anyway, so what you saw there
should really be no surprise.
     Have you found anything yet about huge pages in the LINUX man pages or
other documentation?  It seems to me that the documentation kind of has to
cover the use of huge pages *somewhere*.  Does LINUX have anything like
apropos(1) for finding things by keystring in the man page collection?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-13 13:44:59
@_author: Scott Bennett 
@_subject: huge pages, was where are the exit nodes gone? 
On Tue, 13 Apr 2010 19:10:37 +0200 Arjan
     That does look promising, then.  Perhaps Olaf and others can use that
method for now.
     Thanks much for these URLs, Arjan.  I've started going through this
thread, but it's a horrendous lot to digest and full of LINUXisms that
I know nothing about.  I have some errands to run, and then I really *must*
get some sleep.  Maybe late tonight I'll continue reading.
     In the meantime, perhaps some adventurous relay operator using LINUX
could begin experimenting with the libhugetlbfs-in-LD_PRELOAD method to
see whether tor functions okay with it and then report the results back
to the list.  I'll be offline for at least 10 - 12 hours.  Best of luck!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-14 04:52:22
@_author: Scott Bennett 
@_subject: PrivacyNow node has misconfigured OpenDNS account 
I just found my weather information being blocked, giving me the
OpenDNS "access blocked" web page.  After some checking, I found the
culprit exit:  PrivacyNow.  There is no contact information in its
descriptor in the current directory, so I'm adding it to my
ExcludeExitNodes list. :-(
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-14 09:02:02
@_author: Scott Bennett 
@_subject: messages indicate strange choice by tor 
I would be most interested in knowing the explanation for the decision
that tor announced in the following pair of messages.
Apr 14 08:55:50.861 [info] connection_or_group_set_badness(): Marking OR conn to 194.109.206.212:443 as too old for new circuits: (fd 7, 900 secs old).  We have a better canonical one (fd 118; 2239 secs old).
Apr 14 08:55:50.861 [info] run_connection_housekeeping(): Expiring non-used OR connection to fd 7 (194.109.206.212:443) [Too old].
     Why is the younger connection too old, yet the much older connection
is somehow "better"?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-14 09:23:41
@_author: Scott Bennett 
@_subject: [or-talk] Re: huge pages, was where are the exit nodes gone? 
On Tue, 13 Apr 2010 18:18:02 -0700 (PDT) Christian Kujau
     If tor is only using, say, 25 MB or so, then tor's CPU load is probably
low anyway.  Nevertheless, any other process on a small x86-type of LINUX
system that has a working set greater than 256 KB of instruction pages and/or
256 KB of data+stack pages would benefit from using enough hugepages to cover
its needs.
     A couple of caveats regarding the automatic version available in
FreeBSD 7.2 and later releases are in order here.  To the best of my
knowledge, this feature is not yet available :-( in any of the other BSDs,
so tor relay operators on NetBSD, OpenBSD, DragonflyBSD, MirBSD, etc.
can disregard all of this stuff for the time being.  Another matter is
that FreeBSD systems on AMD processors of designs older than the K10 types
may actually get poorer performance with the feature enabled.  That's
because on those processors the number of entries in the TLBs is drastically
reduced in the 4 MB pages mode.  So on pre-K10 AMD processors the official
recommendation that I read was to try it if you have a large process that
is bogging down, and just see what happens.  If it helps, then that's great,
but be prepared for the strong possibility that it might just make matters
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-14 09:51:18
@_author: Scott Bennett 
@_subject: PrivacyNow is a BadExit (was Re: PrivacyNow node has misconfigured OpenDNS account) 
On Wed, 14 Apr 2010 13:34:47 +0200 Runa Sandvik      Yes, I guess I kind of botched my first message on this.  I should
have also added a request that the directory authorities flag PrivacyNow
as a "BadExit" because it clearly meets the definition of a bad exit.
However, 1) any bad exits that I report I also add to my own torrc's
ExcludeExitNodes list because a) I want it to take effect immediately and
b) sometimes the authority operators appear to make exceptions for some
misconfigured/miscreant nodes, and 2) I wasn't really awake yet when I was
composing the alarm.
     PrivacyNow is a very high-performance node, and it will be a shame to
lose it as an exit node.  (A few hours ago, it was ranked by torstatus as
the  node by throughput.)  However, its owner/operator clearly does not
want to be contacted about problems, so we aren't really left with much
choice.  In any case, it will still be a good entry or middle node for many,
many circuits per second.
     So now I guess I should make the request.  Unless the authorities know
how to reach the operator of PrivacyNow to get his/her OpenDNS configuration
fixed (or switched to Google's open name servers or something similar), will
the authorities please flag PrivacyNow as a BadExit ASAP?
     Thanks.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-14 10:00:26
@_author: Scott Bennett 
@_subject: [or-talk] Re: huge pages, was where are the exit nodes gone? 
On Wed, 14 Apr 2010 15:00:52 +0200 Olaf Selke      Exactly.
     Okay, that looks like a problem, and it probably ought to be passed
along to the LINUX developers to look into.
     But the important question is how is tor's CPU usage looking now with
the hugepages as compared to before?  It was the CPU usage that you said
was the severe problem before.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-14 11:03:13
@_author: Scott Bennett 
@_subject: [or-talk] Re: huge pages, was where are the exit nodes gone? 
On Wed, 14 Apr 2010 17:23:35 +0200 Olaf Selke      Is tor statically linked?  If not, I wonder if it's a library-ordering
problem, where a version of malloc() in libhugetlbfs or in a library called
by a routine in libhugetlbfs gets linked in ahead of the OpenBSD version.
I don't know how much flexibility that LD_PRELOAD method gives you, but
perhaps you could try the -rpath trick we FreeBSD folks had to use to force use of openssl from ports rather than the broken one in the base system.
     How much was it typically using before?
     Holy Crapola!  79.4% is a *reduction*?!??  8-Q  What did it use
before?  100%?  1 GB is 512 hugepages.  I wonder if getting the malloc()
issue resolved and lowering the working set size would reduce the CPU
time still further, given that each TLB only holds 64 entries.  (I fail
to see yet why the LINUX developers picked a hugepage size that is not
supported by hardware, at least not for the data and stack segments.)
     A long time back, we tossed an idea around briefly to the effect
that you might get more balanced utilization of your machine by running
two copies of tor in parallel with their throughput capacities limited
to something more than half apiece of the current, single instance's
capacity.  That would bring the other core into play more of the time.
A configuration like that would still place both instances very high
in the list of relays ordered by throughput, but the reduction in the
advertised capacity of each would help to spread the requests to both
better.  They would still be limited by the TCP/IP's design limit on
port numbers for the system as a whole, which you would likely never
see because the kernel would probably just refuse connections when all
port numbers were already in use, but would probably allow you to
squeeze more total tor throughput through the machine than you get at
present, while still leaving a moderate amount of idle time on each
core that would then be available for other processing.  Have you given
any more thought to this idea over the ensuing months?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-04-14 12:32:52
@_author: Scott Bennett 
@_subject: huge pages, was where are the exit nodes gone? 
On Tue, 13 Apr 2010 19:10:37 +0200 Arjan
     [Aside to Olaf:  oh.  So forcing the use of OpenBSD's malloc() might
prevent the libhugetlbfs stuff from ever knowing that it was supposed to
do something. :-(  I wonder how hard it would be to fix the malloc() in
libhugetlbfs, which is most likely derived from the buggy LINUX version.
Does libhugetlbfs come as source code?  Or is the use of LD_PRELOAD simply
causing LINUX's libc to appear ahead of the OpenBSD version, in which case
forcing reordering of the libraries might work?  --SB]
     I've now had time to get through that entire thread.  I found it
kind of frustrating reading at times.  It seemed to me that in one of
the very first few messages, the author described how they had long
since shot themselves in the feet (i.e., by rejecting the algorithm of
Navarro et al. (2002), which had already been demonstrated to work on an early
FreeBSD 5 system modified by Navarro's team) on emotional grounds (i.e.,
"we didn't feel its [Navarro's method's] heuristics were right").  They
then spent the rest of the thread squabbling over the goals and
individual techniques of Navarro et al. that they had reinvented, while
not admitting to themselves that that was what they had done, and over
the obstacles they were running into because of the parts that they had *not* adopted (yet, at least).  At times, it appeared that the author of
the fairly large patch that implemented the improvements to the hugepage
system was arguing directly from Navarro et al. (2002) with one of the
other participants.  Shades of Micro$lop's methods and not-invented-here
attitude.  What a bummer to see LINUX developers thinking in such denial!
So if the guy who had written that early kernel patch for LINUX (the thread
was a year and a half ago) has persisted in his implementation, he may have
the bugs out of it by now, but in the long run, his design (or lack thereof)
should provide something that provides significant improvement for some
large processes on LINUX, but the way it is done won't be at all pretty.
     Unlike the method of Navarro et al., which that team had actually
done not on an x86-type of system, which is the only type so far supported
for superpages in FreeBSD 7 (not sure about 8.0), but on an alpha machine,
using the four page sizes offered by the hardware, the method implemented
by the OP of the thread used a "hugepage" size (2 MB) that is not supported
by the hardware, except for pages in instruction (text) segments.  I didn't
see anywhere in the thread an explanation of how their software pages are
made to work with the hardware, but I would imagine they must combine two
software hugepages to make a single 4 MB page as far as the address
translation circuitry is concerned.  It left me wondering much of the time
which processor architecture they were working with, though it eventually
became clear that they were indeed talking about x86 processors.  The
others in the thread also voiced opinions that the method would prove to
be not easily portable to other hardware architectures, unlike the Navarro
     Navarro et al. (2002) found that their array of test applications did
not all benefit at all superpage sizes.  Which superpage size crossed the
threshhold into reduced TLB thrashing varied from application to application.
Some benefited after the first promotion from 8 KB base pages to 64 KB superpages.  Others benefited after the further promotion to 512 KB
superpages.  Still others' performance characteristics did not improve much
until after the third promotion to 4 MB superpages.  Which size causes the
big improvement for an application depends almost entirely upon the memory
access patterns of that application.  It remains to be seen whether an
application that doesn't speed up in FreeBSD tests until after the application
has been promoted to the 4 MB superpages will speed up in LINUX's 2 MB
     I'm still tired.  I think I might take a short nap again, so I might
not post replies to anyone's followups on this for a few hours.  (Yawn...)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-08-21 00:06:57
@_author: Scott Bennett 
@_subject: Tor Project 2008 Tax Return Now Online 
On Sun, 15 Aug 2010 03:40:57 -0700 Jacob Appelbaum      Relax, Jake.  He/she did write "attempts", which, of course, neither
equates to nor implies "successes". ;-)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-13 04:33:35
@_author: Scott Bennett 
@_subject: Path-spec - fast circuits 
On Fri, 12 Feb 2010 22:46:18 -0500 Nick Mathewson      I've withheld comment on the above for a long time, mainly because
I had intended to include it in a write-up that I still haven't found
the time to do, but I really think it cannot be avoided any longer.
I would greatly appreciate a justification for the presumption that
any process other than the tor node in question can possibly provide
a more accurate measurement of its data rate capacities.  Any other
process, *even on the same computer*--much less anywhere else, can only
measure the performance of the TCP connections between itself and the
tor node in question, whereas the tor node in question has a complete
picture of all of its simultaneous connections to all processes, wherever
they may exist around the planet.
     Further, there has been an implied claim in previous postings by
tor developers that inaccurate reporting of measured capacity has been
a significant problem to date and has adversely affected client selection
of routes from the perspective of optimal distribution of data flow
throughout the tor network.  It is therefore incumbent upon those
claimants to provide evidence in support of their claims.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-13 04:47:14
@_author: Scott Bennett 
@_subject: ExcludeNodes setting bypassed 
On Fri, 12 Feb 2010 22:24:35 -0500 Nick Mathewson      I'm afraid I don't see why this should be confusing at all.  Circuits
can end also at a directory server for internal (i.e., fully hidden and
encrypted) access to directory information.  Those circuits and circuits
created for access to hidden services are *not* exit circuits, but rather
are circuits that are built to some point in the tor network for non-exit
purposes.  ExcludeExitNodes specifications are inapplicable.  ExcludeNodes
specifications, OTOH, are absolutely applicable.  "ExcludeAsLastHop" has
yet to receive a justification at this point.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-14 02:15:27
@_author: Scott Bennett 
@_subject: Path-spec - fast circuits 
On Sat, 13 Feb 2010 11:18:33 -0500 Nick Mathewson      Yes, I've understood that from the outset, but I haven't seen any
evidence that such abuse is actually happening.
     That was also apparent and created an *actual* problem of wasted
     I disagree.  They showed by experiment how such a problem would
work, an exercise that struck me as kind of silly because it was clear
from theory that such an attack would have to work like that.  But IIRC
they did *not* show that such abuse was actually occurring in the wild,
and AFAIK, no one else has shown that either.  Meanwhile, the measurement-
from-afar method is creating *actual* misallocation of resources, so a
problem has been intentionally introduced *by the tor developers* to
counteract a "problem" that had *not* been shown to be occurring in the
actual global tor network and should therefore have been considered
imaginary pro tempore.
     Now you've finally touched upon the worst problem of resource
allocation that existed prior to introduction of the measurement-from-afar
method.  The number being reported in descriptors is *past peak data rate
utilization*, which is being used for two incompatible purposes.  One of
those purposes is as grist for statistical analysis of tor network
performance by the developers and other interested parties.  The other use
is by client code as a proxy for data rate *capacity* for route selection.
Using historical (i.e., since the node was initialized) data rate usage
information, which is recorded in a manner useful for statical analysis,
as an approximation for capacity information can be a reasonable approach,
but it stumbles badly if it is updated quasi-periodically but not as
*successive* approximations that converge upon the true capacity.  What is
needed is to detect the actual capacity as closely as possible for the
benefit of clients, which requires that successive approximations converge
upon reality.  Reported usage will normally be less than or equal to
the actual limits on capacity, so it is harmful to ever report a value in a
descriptor that is less than any value in descriptors published previously
since the most recent initialization because a lesser value than previously
reported is a *less accurate* (i.e., diverging) approximation than previously
reported approximations.  What the client needs from the reported values,
then, is incompatible with the needs of researchers like the tor developers
and others engaged in statistical studies of tor network loading.
     There are other aspects of the current data reporting/collection that
are problematical from the perspective of sampling theory and time-series
analysis, both for network performance analysis and for capacity detection
for use by clients.  For example, the value reported is not a binned value,
but rather is the maximum value of the moving minimum value in a 10-sample-
wide moving window, where the base sampling rate at this level is 1 Hz.  For
the purpose of statistical analysis of network performance, such a value
gives a rather distorted picture of what is going on in the network.  For
client use, it is more helpful because it more closely approximates the
capacity than simple averages or totals, although it would likely wreak
havoc with any attempt that might someday be made for client recognition of
periodic network loads and compensation for such periodicity for the same
reasons that it distorts any statistical analysis.
     Another problem w.r.t. sampling theory for time-series analysis is that
the value reported in a descriptor covers the past 24 hours, but the
reporting interval is typically ~18 hours, giving a six-hour *overlap* in
the time periods represented by each published value.  Further, whenever the
reporting interval is less than 18 hours, that overlap is correspondingly
greater than six hours.  In any case, six hours' worth of measuring gets
representation *twice* in the values published in every consecutive pair of
     There are theoretical reasons to suspect that the tor network's total
data flow fluctuates on periodic bases.  Consider the likelihood of diurnal
fluctuations due to the fact that there are very few clients in the time
zones spanned by much the Pacific and Atlantic Oceans.  Consider the
likelihood of weekly fluctuations due to the business/work week portion of
each calendar week (five days vs. seven days).  There may well be some low-
amplitude fluctuations with other periods, e.g., monthly, seasonal, annual,
and so forth.  The diurnal and semanal periods seem likely to have the highest
amplitudes.  However, diurnal periodicity in the data flow through a node
cannot be determined because the sampling period via descriptor publication
is .75 day, which puts the period corresponding to the Nyquist frequency
(~.67 cycles/day) at 1.5 days.  In other words, any periodic fluctuations
that cycle more often than once every day and a half are too fast to be
detected and their amplitudes calculated.  Worse still is that fluctuations with periods shorter than 1.5 days will have their amplitudes aliased onto
the amplitudes of slower periodic fluctuations.  So although there are very
probably periodic changes in the tor network's loading, the ones most likely
to have the greatest impact are the ones we cannot measure in order to find
some way to compensate for them, and they will also corrupt analysis of
slower periodic changes in loading because the sampling rate (descriptor
updates) is too low.
     Although one can envision modification of the route selection procedure
to take advantage of load frequency and phase spectra for each node as they
may apply at the time the route selection takes place, any attempt to develop
means of compensating for amplitudes and phases of periodic network loads is
pointless until the data collection process has been thoroughly revamped.  If
this discussion proceeds far enough, I do have some initial thoughts on
remodeling the data collection process, but they are not yet well developed
and would benefit from a wider discussion first.
     That would be great.  I would certainly welcome a broader discussion of
this topic than has occurred here to date.  There are other, related issues
to address here, too, such as the use of "bandwidth" testing circuits upon
node initialization (and, apparently, under a few other circumstances, too)
that are longer than one hop, the number of circuits used in such testing,
the number of cells send through each such circuit as part of the test,
testing all of those circuits simultaneously, delays exceeding one hour in
getting a newly initialized node listed in the consensus, and so on.  I have
reasons, however, to consider each of these to be of lesser impact than the
issues discussed in earlier paragraphs.  The most urgent matter, I believe,
is to separate the dual uses of the peak observed data rate value published
in each descriptor, so that the conflicts engendered by conflating them can
be eliminated.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-15 00:30:22
@_author: Scott Bennett 
@_subject: Path-spec - fast circuits 
On Mon, 15 Feb 2010 00:16:28 -0500 Flamsmark      That wasn't my point at all.  What I was complaining about was the
introduction of a new, *actual* problem as the cure for a disease we had
no sign of suffering from.  Of course, a clear avenue of attack should be
blocked, but let's pick a way of doing it that embodies the "first, do no
harm" concept.  The method that the developers have employed in this case
simply adds to the misallocation problems that were already bogging tor
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-17 02:20:44
@_author: Scott Bennett 
@_subject: Path-spec - fast circuits 
Hi Paul,
     On Mon, 15 Feb 2010 11:27:56 -0500 Paul Syverson
     But a remedy was already available!  The moment such an attack were
noticed, the directory authority operators should immediately assign an
"Invalid" flag to the offending node(s).  Such a response would take the
miscreant(s) out of the picture completely and in short order, as well
as obviating any kind of "attack-by-tor-developers-against-the-whole-net"
approaches.  It would also have a much smaller effect upon the total tor
network capacity than the measurement-from-afar method.  Various kinds
of monitoring tools to detect possible cases of such an attack could and
should be developed, of course, to notify the directory authorities of
possible cases.  For the present time, though, frequent, but brief,
perusals the torstatus pages should suffice for the notification function.
Likewise, the subscribers to this list and to the TOR-RELAYS list can be
counted upon to report anything weird that they notice.  We do that
already for countless other problems, including the "bad exit" problems.
Surely, the development team must know this by now.
     I've been thinking about these issues for quite a while.  You and
all the other tor developers should feel free to contact me on or off
this list to discuss any/all of them.  I would like to reiterate here,
though, that the single, most urgent problem is the conflation of two
purposes in the reporting to date of the throughput capacities by relays
in the descriptors they publish.  This really, really needs to be
addressed and redesigned before most of the other problems can be tackled
properly.  Separating those purposes first will not only avoid a lot of
wasted development effort in the future, it will encourage much better
analysis and definition of each of those two purposes, so that the data
reported will be more valuable for each purpose.
     One last comment I have here is to thank the developers for the
recent reexamination of the methods of determining how to use Guard and
Exit flags in route selection (along with how to assign those flags),
which is sure to improve performance.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-03 01:22:10
@_author: Scott Bennett 
@_subject: client bug in 0.2.2.7-alpha and a new bad exit: exoassist 
On Tue, 2 Feb 2010 22:47:46 -0500 grarpamp      That would prove nothing.  It would merely hide the problem.  The
problem is visible when the destination is down.  exoassist is indeed
a bad exit.  It should be flagged as such, but still is *not* flagged.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-18 15:25:05
@_author: Scott Bennett 
@_subject: Dir-spec / Directory server administrators 
On Thu, 18 Feb 2010 14:48:43 +0200 =?UTF-8?Q?ilter_y=C3=BCksel?=
     That probably should have been changed long ago to read "directory
authority administrators", who are, of course, those who operate the tor
directory authorities, which are listed in the consensus documents with
"Authority" flags.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-03 01:38:28
@_author: Scott Bennett 
@_subject: client bug in 0.2.2.7-alpha and a new bad exit: exoassist 
Right you are.  I was definitely sloppy there.  Thanks for pointing
that out.
     True, but irrelevant to what I wrote.  I was describing tor's handling
of the nickname.exit (or, of course, the $fingerprint.exit) notation, not
commenting upon nicknames.
     True as well.  The bug exposed is that tor, in this case, appears to
have passed the name to the exit node for SOCKS name-to-address resolution as
"fibrlink.net.exoassist.exit" rather than as "fibrlink.net".  That should
never happen.  Also, as I noted in an earlier posting, using a different exit
node in a .exit request got the correct result of a connection failure that
was reported to me by privoxy on my own system, rather than by software on
the exit node.
     I agree with that, certainly.  My complaint is that the SOCKS service
provided by tor was incorrect in this particular case of .exit usage.
     But until a suitable replacement is available for explicitly testing
exit node behavior, it should work correctly when enabled and used.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-19 02:22:16
@_author: Scott Bennett 
@_subject: [OT] more censorship, government-issued spyware coming to France 
Perhaps more people in Europe will have to relearn the hard way why
the right of the people to keep and bear arms must be held inviolate.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-28 04:30:42
@_author: Scott Bennett 
@_subject: Tor v0.2.1.23 dose not work in my windowsXP box and Tor v0.2.1.24 can not work in my Debain 
On Sat, 27 Feb 2010 22:41:16 +0800 Peng Zhou      Another alert reader has already commented, but your offense is so
egregious that I think it worth making a row about it, so here goes.
     I've blotted out the address and port information above that *you*
should have blotted out before posting it.  Some generous person went to
the trouble of setting up a bridge.  You've now wasted that person's effort.
What a thoughtlessly destructive creep you've turned out to be.  I simply
cannot fathom why someone allegedly interested in using and/or supporting
the tor network would be so eager to ruin a bridge for those who really
need bridges.  (Apparently, *you* have no such need.)
   [inexcusable trash deleted  --SB]
     Possibly.  But what is terribly clear is that you messed up.
     Yeah, right.  Get a life.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-28 05:26:17
@_author: Scott Bennett 
@_subject: Tor v0.2.1.23 dose not work in my windowsXP box and Tor v0.2.1.24 can not work in my Debain 
On Sun, 28 Feb 2010 19:07:39 +0800 Peng Zhou top-posted (again):
     When you read the documentation and the tor project's web pages, did you
bother to think about what you read *at all*?  There is *no such thing* as a
"public" bridge.  Period.  Why do you think the bridge addresses and key
fingerprints are only given out three to a customer instead of the entire
list being on display?  That is the whole point of the bridge system:  unlike
the usual tor routers that are listed in the publicly available directory, the
bridge routers are *unlisted*.  If they were listed, they would be the same
as the usual routers.  Why do you think they are unlisted?  It's so that there
is no downloadable list for censoring states to block.
     It's frightening that tor is, in the words of the immortal Boris Badenov,
foolproof, but *not* idiotproof.
     Whatever.  Maybe someday you'll understand what anonymity is about, but
you haven't yet shown any sign of it.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-05 01:39:08
@_author: Scott Bennett 
@_subject: client bug in 0.2.2.7-alpha and a new bad exit: exoassist 
On Wed, 3 Feb 2010 16:00:09 -0500 Nick Mathewson      Yes, indeed, thanks very much!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-05 01:58:44
@_author: Scott Bennett 
@_subject: client bug in 0.2.2.7-alpha and a new bad exit: exoassist 
The rule has been that an exit that alters the data stream is a bad exit.
To the best of my knowledge, the developers have not publicly stated any
change to that rule.  IIRC, in past discussions of such matters, there have
been cogent arguments presented by others on this list in support of that
policy, even when the alterations to the data stream by a particular exit
seem on the surface to be innocuous.
     tor exit operators are responsible for knowing the rules.  I may send
him a note, but "exoassist" **should already have been flagged** as a BadExit
days ago after my initial posting in this thread.  The flag should be removed
when the operator reports to the directory authority operators that he has
taken care of the problem.  It should not be removed before that has happened
and been confirmed by the authority operators.  Flagging bad exits as soon as
they are noticed is important because it gets the information out to all
clients within a couple of hours, including all those good folks out there
who are *not* subscribed to this list, so that they won't use those exits.
     Given the length of time that has passed since I first exposed the
behavior of the "exoassist" exit node, I would now like to know why, in this
particular case, the directory authorities have not yet flagged "exoassist"
as a BadExit.
     I don't think that security breaches should be allowed or disallowed on
the basis of data relay capacities, so I reject your approach.  Having made
that point, I'll note here that "exoassist" is currently advertising 20 KB/s
with a burst rate of 30 KB/s, so it is not like we would be cutting blutmagie
out of exit service.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-02 01:19:12
@_author: Scott Bennett 
@_subject: client bug in 0.2.2.7-alpha and a new bad exit: exoassist 
On Mon, 1 Feb 2010 09:49:00 -0500 Flamsmark      I'm not following what you're saying.  Route selection is under the
control of the client, as is the actual construction of the circuit.  The
client confirms that it is communicating with the chosen node by verifying
its key at the time each node is added to the circuit.  The .exit notation
is simply used to tell the client which exit to use at the end of a circuit.
I thought that the "attack" would simply be to recognize the destination
IP addresses for exit requests at a particular exit as being characteristic
of some particular client in attempting to build a profile of that client
in the hope of later recognizing the same client using that exit.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-02 02:54:56
@_author: Scott Bennett 
@_subject: client bug in 0.2.2.7-alpha and a new bad exit: exoassist 
On Mon, 1 Feb 2010 04:51:54 -0500 downie -      There are two separate ways that the .exit notation is used.  One is
in the HTTP(S) header, which can indeed be stripped by privoxy.  Having it
enabled/disabled in user.action seems to make no difference in this case.
The same illegitimate web page gets returned.  Trying another exit using
the .exit notation gives the correct result:  a privoxy SOCKS 5 host
unreachable error page.
     The other way that the .exit notation is used is in the SOCKS 4a
connection when it is passed to the SOCKS port instead of a destination
IP address.  The typical SOCKS 4a server then resolves a name passed to
it into an IP address and returns it back to the client.  However, tor
handles a .nickname.exit passed to it in a unique way by looking up the
node by nickname in its current directory in order to build a circuit to
that node for use as an exit.  If the node is not currently listed as
being an exit for the desired port number, then a connection failure is
returned immediately to the client.  If the node is usable as an exit for
the circuit's desired purpose, then the circuit gets built. The real
destination's name is then passed through the circuit for the exit node
to resolve, but the .nickname.exit has to be stripped by tor at some point
for that to work.
     So it looks to me as though 0.2.2.7-alpha has introduced a client bug.
     And "exoassist" remains a bad exit and should be, but still is not,
flagged as such.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-01-31 20:58:46
@_author: Scott Bennett 
@_subject: client bug in 0.2.2.7-alpha and a new bad exit:  exoassist 
There's another bad exit on the loose.  Its Nickname is "exoassist",
and its fingerprint is "39A6 74F8 2BFB 0195 860C 04DD E0F3 6B60 C09D C72A".
When trying to fetch a web page from  I was surprised to
get an error page back from someplace in Australia, beginning with "The
requested URL could not be retrieved".  I took a quick look at the log,
made a guess at which exit it might be, and tried instead to fetch a web
page from   Once again, I got a web page
that says, between the dotted lines that I've added as delimiters,
     ...............................................................
The requested URL could not be retrieved
While trying to retrieve the URL: The following error was encountered:
     Unable to determine IP address from host name for The dnsserver returned:
     Name Error: The domain name does not exist.
This means that:
 The cache was not able to resolve the hostname presented in the URL.  Check if the address is correct. Your cache administrator is webmaster. Generated Mon, 01 Feb 2010 03:11:21 GMT by proxy2.hbt.bbw.net.au (squid/2.7.STABLE3)
     ...............................................................
     So it appears that a) there is a new tor client bug in 0.2.2.7-alpha that leaves the "exoassist.exit" in the name passed along from its SOCKS listener
to the destination port and b) "exoassist" is a bad exit that inserts a web
page into the stream returned to the client when a connection cannot be made.
     I'll add exoassist to my ExcludeExitNodes list, but it should also be
flagged ASAP by the authorities.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-01-31 22:36:11
@_author: Scott Bennett 
@_subject: client bug in 0.2.2.7-alpha and a new bad exit: exoassist 
============================== START ==============================
     On Sun, 31 Jan 2010 23:10:42 -0500 Flamsmark      Sure.  However, I don't see it as being useful for attack if the user
only uses it to test for bad exits.  IIRC, no simple replacement for that
purpose has yet appeared, so I have it allowed in my torrc for precisely
that purpose.  As long as the code exists and can be enabled via a torrc
option, then it should continue to work correctly.
     Nevertheless, "exoassist" is a bad exit and should be flagged as such.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-01-15 23:59:43
@_author: Scott Bennett 
@_subject: [OT] Problems With Outlook 2k2 
On Fri, 15 Jan 2010 13:52:35 -0600 Programmer In Training
     I don't know why you responded in the negative.  The *default* exit
policy, which is to say, the exit policy in effect when no exit policy
is specified in torrc, does block TCP port 25 (smtp).  It is the smtps
port that is no longer blocked by default.
     However, there is often a number of routers that do have exit policies
allowing exits to port 25, so sometimes connection attempts for port 25
will work.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-01-03 01:40:31
@_author: Scott Bennett 
@_subject: Still problems with TLS negotiation 
On Sat, 2 Jan 2010 16:02:23 -0500 grarpamp      However, if one installs openssl from the ports tree, it will be
version 0.9.8l instead.
     It is not necessary to link with static libraries.  Here is an excerpt
from something I posted to freebsd-questions a while back in response to
a query from a lady having the same kind of problem with mutt.
+Subject:  Re:  Mutt and openssl from port
+>7.1-PRERELEASE. I'd like Mutt to use zlib compression when connecting to pop3s.
+>openssl in base doesn't support zlib. I installed openssl port from package
+>(in the port zlib in on by default), wrote in make.conf:
+>and `portupgrade -f mutt`. However, Mutt still uses openssl from base:
+>~ $ ldd /usr/local/bin/mutt
+>        libncursesw.so.7 => /lib/libncursesw.so.7 (0x28103000)
+>        libssl.so.5 => /usr/lib/libssl.so.5 (0x2814f000)
+>        libcrypto.so.5 => /lib/libcrypto.so.5 (0x28190000)
+>        libintl.so.8 => /usr/local/lib/libintl.so.8 (0x282ea000)
+>        libiconv.so.3 => /usr/local/lib/libiconv.so.3 (0x282f3000)
+>        libc.so.7 => /lib/libc.so.7 (0x283ea000)
+     Right.  We tor users just went through that, too.  The problem is that
+what WITH_OPENSSL_PORT=YES does is to add -L/usr/local/lib to the cc or gcc
+command that does the link edit step.  However, that adds the desired
+directory to the *end* of the list of directories to be searched, when what
+you want is to put it at the beginning of the list.  What I ended up doing
+was to add LDFLAGS="-rpath=/usr/local/lib" to the ./configure step for tor,
+so you may want to take a look at the "make config" target to see how best
+to do that for mutt.  Be careful that the use of -rpath won't cause it to
+include libraries from /usr/local/lib instead of from the base system for
+other stuff where you might not want that to happen.
     Yes, that would also be nice to have.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-01-19 17:35:22
@_author: Scott Bennett 
@_subject: Memory usage on relays 
Hi Olaf,
     On Tue, 19 Jan 2010 10:18:46 +0100 Olaf Selke      Yup.  It looks to be missing an equal sign. :)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-01-03 02:54:15
@_author: Scott Bennett 
@_subject: FreeBSD tweak may yield better performance 
FreeBSD 7.2 and later offer a little-advertised kernel facility that
benefits processes with "large" virtual memory requirements, in particular,
"large" working sets.  What it does is to monitor process memory requirements
and to promote processes whose memory requirements become "large" enough to
use 4 MB pages instead of 4 KB pages.  The benefit to I/O bound processes
will typically be very difficult to detect, but for many CPU-bound processes,
the performance kick can be rather dramatic.  For example, my full disk backups
typically were taking in excess of 8 hours with the feature disabled, but
with the feature active, the backups, the output of which gets compressed
by piping it through gzip(1), finished in 4 hours and 15 minutes.  For this
particular task, it was like getting a new computer.
     Very high-data-rate tor relays apparently do use a lot of CPU time, so
it occurred to me that such systems might also benefit from enabling the
so-called "superpages" facility.  I am currently only able to run a tor relay
as a "stealth" relay to avoid detection and punishment by my ISP :-(, so I
cannot run the experiment myself.  If someone running a high-data-rate relay
under FreeBSD 7.2 or later would like to try it, here's what you need to do.
Basically, just add the following line to /boot/loader.conf and then reboot
your system.
This sysctl variable can only be changed at boot time, and its default value
is 0 (i.e., not enabled), so if you are interested in trying it, keep in mind
that a reboot will be necessary to activate promotion to superpages.  Note
that contention for real memory will cause this facility to demote superpage
processes back to 4 KB pages as required to meet systemwide memory needs.
     In case it isn't obvious where the performance enhancement comes from,
consider that most/all modern CPUs from Intel and AMD have TLBs that hold
a maximum of 128 entries, each one containing a mapping of a virtual memory
page to a real page frame's base address.  That means that the TLB can cache
translated addresses covering a maximum of 512 KB when 4 KB pages are in use.
If a process's working set exceeds that size, then there will be frequent TLB
misses, each of which causes a processor stall while that DAT circuitry goes
through the full address translation process, complete with multiple fetches
from memory.  This seems especially wasteful when one considers that the data
or instructions needed by the processor might actually already be in L1 cache
lines, but inaccessible without a fresh, full address translation. :-(  By
contrast, a process that has been promoted to superpage usage has had its
TLB entry requirements reduced by as much as a factor of 1024, so the entire
process might need only a few TLB entries, after which no further address
translations need be done, except when context switches have caused TLB
entries to be purged.
     Anyway, if someone running a high-data-rate tor relay on a FreeBSD
system of release 7.2 or later would like to try the above tweak and report
back to the list any observed changes in performance, I would be grateful
for the information.  torstatus.kgprog.com currently shows 9 relays with
peak traffic rates greater than 1 MB/s that run on FreeBSD systems, although
the release level is not shown.  Those very active relays are the ones I
would expect to see get the greatest benefit from using superpages.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-01-04 05:40:50
@_author: Scott Bennett 
@_subject: signal newnym and rate limiting 
On Mon, 04 Jan 2010 12:34:39 +0100 Nico Weinreich      I didn't know that tor could be so pokey about acknowledging input
from the control port, but I've noted here in the past that tor often
ignores a SIGHUP or SIGINT for a rather long period of time before finally
accepting it.  I've seen delays well over a minute and approaching two
minutes after sending tor either of those signals before it finally responds.
     Why?  I have no idea.  The only way I know of to see the delay time
is to watch the log file.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-01-06 06:23:30
@_author: Scott Bennett 
@_subject: signal newnym and rate limiting 
On Wed, 6 Jan 2010 06:59:15 -0500 Roger Dingledine      I usually have that set for at least 10 minutes, usually more like
15 or 20, to allow at least some attrition of circuits before the rest get
blown away without warning.
     The "clock jump" events my relay was suffering over a year ago appear
to have been due to a totally flaky network connection.
     I have no idea how often it wakes up.  tor no longer states which
libevent versions it was linked with, so I can't be certain.  However,
libevent-1.4.13 is currently installed and appears to have been installed
a week before the currently running version of tor, so I assume that that
is the version that tor is using.  I do not know what version was in use
when I first complained on this list about the delayed responses, which
I think would have been over a year ago, but may have been a little bit
later than that.
     I can give that a try, I guess.  Please note, though, that the delayed
response is not the typical case.  Most of the time, tor appears to respond
right away.  IIRC, it is more likely to take its sweet time when it is running
as a relay and is actively dealing with traffic than when it is just a client.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-01-08 14:51:32
@_author: Scott Bennett 
@_subject: TLS renegotiating error persists on FreeBSD 8.0 updated. 
On Fri, 8 Jan 2010 21:41:56 +0100 Sebastian Hahn      Luis, did you build tor from the ports tree?
     Is there some reason that following the directions provided here on
this list doesn't work any longer?  I'm running FreeBSD 7.2, but using
OpenSSL from the ports tree works fine, provided one can get that version
linked into the tor binary instead of the OpenSSL from the base system,
for which we discussed two or three methods here on the list.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-01-09 17:32:22
@_author: Scott Bennett 
@_subject: Avoid TLS renegotiating error on FreeBSD 8.0.Unable to link to parallel openssl libraries. 
On Sat, 9 Jan 2010 15:12:36 -0800 (PST) Luis Maceira
     I am mystified.  Why on earth did you do that?  The port normally installs
itself into /usr/local/openssl.
     Did you not install it from the ports tree as suggested many times here?
     Again, why there?  The impression you give is that you are trying to find
ways to make it fail, rather than to do what has already been shown to work.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-01-09 23:45:51
@_author: Scott Bennett 
@_subject: TLS renegotiating error.Link openssl libraries problem. 
On Sat, 9 Jan 2010 20:27:59 -0800 (PST) Luis Maceira
     Here is a link to the FreeBSD Handbook, which you should consider a
primary reference for your FreeBSD questions.
Read Chapter 4:  "Installing Applications:  Packages and Ports" at
See also Chapter 24:  "Updating and Upgrading FreeBSD" at
so that you understand how to make sure your ports tree is up to date *before*
installing a port or package.
     Note, too, that the entire handbook can already be found on your system
     Once you have done your homework, then you can 1) update your ports tree
and then 2) install tor from ports, which should force the proper installation
of openssl from the port before tor is built.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-01-10 01:33:22
@_author: Scott Bennett 
@_subject: Relay bandwidth needed to pay back Hidden Service usage 
On Sun, 10 Jan 2010 01:00:57 -0500 grarpamp      Six?
     How so?  How could someone download a single 100,000 B file non-stop
for a year?  Hidden services are already a pain to use, thanks to their
a) extra long circuit construction times, b) slow transport over circuits
with so many hops, and c) higher rate of circuit breakage.  A person who
really needs to keep her accesses concealed may be more willing to put up
with these problems than someone who doesn't really need the anonymity.
     Why should such a user be expected to "pay back" anything?  Keep in
mind that the people who most desperately need to use tor's hidden
services facilities are likely to be among those least able to provide
relay services themselves.
     Yes, both the Internet and the tor net can be modeled in this way.
Your point is?
     I thought there were only 5 as diagrammed below, assuming the
standard of routelen=3.  If both sides use the same routelen, then the
number of relays has to be an odd number because the final relay from
each side is the same.
                       Rendezvous
     C----CSR1----CSR2---- X ----HSSR2----HSSR1----HS
                         Relay
      C    = client
      CSR  = client-side relay
      HS   = hidden server
      HSSR = hidden server-side relay
     I guess I must have missed something because I don't see what you're
driving at.  Sorry if I'm just being dense tonight. :-]
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-06-22 02:49:15
@_author: Scott Bennett 
@_subject: Downloading attachments with Tor - is this secure? 
On Sat, 19 Jun 2010 09:15:15 -0400 "Aplin, Justin M"      While HTTPS-Everywhere may be a nice programming exercise for its
author(s), it appears wholly unnecessary for Firefox users because Firefox
users should *ALREADY* be using NoScript, which allows one to accomplish
the same thing, but also provides mountains of other protective measures.
Don't be fooled into thinking that HTTPS-Everywhere can protect your
anonymity or your privacy.  If you and/or the OP continue to refuse to
use NoScript, then sooner or later you and/or the OP will get burned and
will thus be taught the hard way the lesson you should have understood by
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-06-22 03:48:08
@_author: Scott Bennett 
@_subject: Downloading attachments with Tor - is this secure? 
On Tue, 22 Jun 2010 01:18:36 -0700 Seth David Schoen      The OP, IIRC, asked for a way to force HTTPS usage for *all* sites.
     Not true.  The NoScript configuration panel allows specification
of *sites* (i.e., host+domainnames).  However, it also allows the use
of wildcards, as I've previously noted on this list, so *.google.com
would force HTTPS for all connections to anything that matched that
pattern.  Similarly, a simple * should force HTTPS for everything.
     That does look like a nice feature, but it's not relevant to what
the OP requested.
     Again, URL rewriting beyond simple rewriting of the protocol
designator goes way beyond what the OP requested, but if it works
properly would still seem like a nice feature for the rest of us.
     The OP's request went still further in that he wanted not to
load *anything* by HTTP, even when HTTPS were not available.
     Of course.  But that's the nature of browser security.  Leaving
Java and JavaScript disabled, as has to be done as part of securing
a browser, breaks a lot of supposed "functionality" (a.k.a., security
breaches).  Using NoScript breaks more functionality, and using
privoxy and/or AdBlock Plus and/or NoRedirect and/or Refresh Blocker
will break still more.  Disabling cookies does, too.  Likewise for
any pop-up blocker.  How is breaking such "functionality" relevant
if what one insists upon is a secure browser?
     Exactly.
     But only if a destination site both supports HTTPS and is
listed in your ruleset as supporting it.  Nevertheless, it probably
doesn't hurt to add it.  Nevertheless, NoScript should be considered
as an absolute necessity, regardless of whether one demands HTTPS.
I was very glad to see that it is now included in the tor bundles.
     Just out of curiosity, how does HTTPS-Everywhere interact with
NoRedirect and Refresh Blocker?  If it is usable with those two and
doesn't break any of the features of NoScript of Torbutton, then I
might install it and try it.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-06-22 04:44:22
@_author: Scott Bennett 
@_subject: Downloading attachments with Tor - is this secure? 
On Tue, 22 Jun 2010 09:10:26 +0100 Matthew top-posted (*please* stop doing that!):
     Well, that's rather the point, isn't it?  Besides, NoScript has
always allowed you to whitelist sites that you *trust entirely*.  Further,
you can allow script execution globally, but you'd be utterly foolish to
do so in a browser not running thoroughly sandboxed.
     Aside from the aforementioned feature of disabling script execution
by default, it provides many other protections, far too many to go into
here.  Read about them at the NoScript web site at
NoScript should be used with Firefox even when tor is not used.  NoScript
should be used with Firefox even when Torbutton is not used, but it is
much safer to use both NoScript and Torbutton together.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-06-29 02:47:32
@_author: Scott Bennett 
@_subject: control time spent with a circuit 
On Mon, 28 Jun 2010 20:55:54 +1000 Richard Baron Penman
     No.  Listing a port number in LongLivedPorts simply means that circuits
used to connect to a destination on port 80 must use only nodes given the
"Stable" flag by the authorities.
     No and...
...no.  Please reread the man page for tor, which makes the functions of the
two options above quite clear.  The former determines how long tor will allow
construction of a circuit to go on before tor abandons it for taking too long
and begins constructing a different circuit instead.  The latter determines
how long tor will wait for a stream to connect to its destination via the
circuit to which the stream has been attached before abandoning the attempt
and reassigning the stream to a different circuit to try again.
     Even by your own line above, it is obvious that that parameter has no
bearing upon what you wrote that you are searching for.
     No.  You need to read the man page again and with greater care.  There
is, AFAIK, only one parameter that does what you asked for, and that one is
MaxCircuitDirtiness.  That is also clear from the man page.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-06-12 14:10:48
@_author: Scott Bennett 
@_subject: Hidden Services Hosting and DMCA 
On Sat, 12 Jun 2010 13:15:47 +0200 Moritz Bartl      What a strange thing to say!  How can you credibly claim to know the
availability requirements for other persons' hidden services?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-06-17 19:42:08
@_author: Scott Bennett 
@_subject: SSL only firefox add-on? 
On Thu, 17 Jun 2010 19:47:44 +0000 judaiko judaiko      As noted previously:
     AFAIK, NoScript doesn't discriminate among individual pages, only
by host+domainname.  It does allow the use of wildcards in the names.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-31 22:03:44
@_author: Scott Bennett 
@_subject: DerAufbruch{,1,2} nodes not in a Family 
============================== START ==============================
     On Tue, 01 Jun 2010 02:42:09 +0000 Orionjur Tor-admin
     AFAIK, it is used only for route selection prior to construction of
a new circuit, which is a client activity.
     I assume that tor is always under attack, but this sort of thing most
commonly is not intended as an attack, but is rather due to the failure of
some people to read and understand the documentation before using tor.  I
don't see it as being any different from those who hook up their new TV/DVR/
VCR/stereo systems without deigning to open and read the manuals or other
documentation(*) included in the boxes.
* Functional illiteracy is apparently now *assumed* by many/all cellular
  phone manufacturers as evidenced by their elimination of manuals in the
  packages and the inclusion instead of a folded sheet or small, stapled
  pamphlet with basic, often pictorial instructions for a very few of the
  phones' functions and capabilities.  The user is apparently expected
  to figure out anything he/she needs to do with the phone by trial and
  error.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-03-11 23:30:27
@_author: Scott Bennett 
@_subject: [RFC] Campaign =?UTF-8?B?wrtCdXkvU3BvbnNvcg==?= a =?UTF-8?B?cmVsYXkuwqs=?= 
On Wed, 10 Mar 2010 11:41:00 -0500 Andrew Lewman      The "everyone as a relay" thing has been discussed here in the past
ad nauseam and has ended up opposed every time for very good reasons.  The
"everyone as a bridge" idea ought to fail for the same reasons, but would
have the additional complication of requiring that tor *not* run as a bridge
if it is already running as a relay with a published descriptor.
     One possibility that I don't recall seeing discussed would be to have
all *relays* provide directory service on internal circuits, even if no
DirPort is open.  I'm not at all sure that this would provide any noticeable
improvement in the tor network's performance, but it might also be a fairly
easy change to make.  I would oppose, however, any attempt to require that
clients provide directory or other services.
     In the U.S., at least, that effort would be furthered, I think, by
a publicity campaign identifying ISPs that provide *full* Internet access
to residential accounts, as opposed to ISPs that provide only *partial*
Internet access to residential accounts (e.g., Comcast).  That would help
to provide a marketing advantage to ISPs offering full service over ISPs
that don't.  It might also be worthwhile to start a complaint-to-the-FCC
campaign to report misleading advertising by ISPs that offer only partial
access but market it as "Internet access" as if it were full access.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-03-12 19:31:20
@_author: Scott Bennett 
@_subject: Full bandwidth is not used. 
On Fri, 12 Mar 2010 11:40:29 +0100 Paul Menzel
     Well, as I've pointed out in the past, the values in cached-consensus do *not* accurately reflect either the traffic load that your relay has
carried or the traffic capacity of your relay.  They are bogus a priori and
should be ignored in attempting to ascertain your relay's actual loads.
The sad thing is that recent versions of tor clients now use the consensus
values for designing routes for circuits they will build, so the bogus
values produce load distortions throughout the tor network.  However, that
fact has no bearing upon the numbers you're looking for.
     If you want to know the loads that your relay has carried, you should
look at the byte counts for reads and writes in the extrainfo documents or,
alternatively, the state file.  (The difficulty with using the state file
is that it gets updated everytime construction of a new circuit succeeds,
so the values for the most recent time periods change frequently and at
rather unpredictable intervals.  If you always ignore the most recent time
period for read and for writes, then the state file becomes more usable
for this purpose.)  If, OTOH, you want to know the peak "10-second burst"
rate, then the value to trust is the one in your relay's descriptors that
appear in the cached-descriptors{,.new} files.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-03-02 03:30:50
@_author: Scott Bennett 
@_subject: repetitive address change message 
Something happened to my Internet connection this evening while I was
away.  When I came back, I called the ISP, and they got it working again.
However, once reconnected, my computer got a brand-new IP address assigned
on a net I didn't know belonged to them.  Shortly afterward, inadyn noticed
the change and updated the A RR at dyndns.org to reflect the new address.
Soon after that update, tor noticed the change and issued the following
pair of messages:
Mar 01 23:29:57.619 [notice] Your IP address seems to have changed to 24.1.225.89. Updating.
Mar 01 23:29:57.619 [notice] Our IP Address has changed from 98.228.176.208 to 24.1.225.89; rebuilding descriptor (source: resolve).
However, the second message has been repeated quite a few times since then:
Mar 01 23:45:12.450 [notice] Our IP Address has changed from 98.228.176.208 to 24.1.225.89; rebuilding descriptor (source: resolve).
Mar 02 00:00:27.402 [notice] Our IP Address has changed from 98.228.176.208 to 24.1.225.89; rebuilding descriptor (source: resolve).
Mar 02 00:15:42.344 [notice] Our IP Address has changed from 98.228.176.208 to 24.1.225.89; rebuilding descriptor (source: resolve).
Mar 02 00:30:57.322 [notice] Our IP Address has changed from 98.228.176.208 to 24.1.225.89; rebuilding descriptor (source: resolve).
Mar 02 00:46:12.357 [notice] Our IP Address has changed from 98.228.176.208 to 24.1.225.89; rebuilding descriptor (source: resolve).
Mar 02 01:01:27.246 [notice] Our IP Address has changed from 98.228.176.208 to 24.1.225.89; rebuilding descriptor (source: resolve).
Mar 02 01:16:42.212 [notice] Our IP Address has changed from 98.228.176.208 to 24.1.225.89; rebuilding descriptor (source: resolve).
Mar 02 01:31:57.256 [notice] Our IP Address has changed from 98.228.176.208 to 24.1.225.89; rebuilding descriptor (source: resolve).
Mar 02 01:47:12.219 [notice] Our IP Address has changed from 98.228.176.208 to 24.1.225.89; rebuilding descriptor (source: resolve).
Mar 02 02:02:27.582 [notice] Our IP Address has changed from 98.228.176.208 to 24.1.225.89; rebuilding descriptor (source: resolve).
Mar 02 02:17:42.971 [notice] Our IP Address has changed from 98.228.176.208 to 24.1.225.89; rebuilding descriptor (source: resolve).
Mar 02 02:32:57.140 [notice] Our IP Address has changed from 98.228.176.208 to 24.1.225.89; rebuilding descriptor (source: resolve).
Mar 02 02:48:12.095 [notice] Our IP Address has changed from 98.228.176.208 to 24.1.225.89; rebuilding descriptor (source: resolve).
Mar 02 03:03:27.027 [notice] Our IP Address has changed from 98.228.176.208 to 24.1.225.89; rebuilding descriptor (source: resolve).
Mar 02 03:18:42.113 [notice] Our IP Address has changed from 98.228.176.208 to 24.1.225.89; rebuilding descriptor (source: resolve).
These messages appear to be issued a tad over 15 min. apart.  I'm running
0.2.2.7-alpha on FreeBSD 7.3-PRELEASE.  Although it was operating as a relay
over the weekend, I've swapped torrc files and SIGHUPped tor, so that it closed
the ORPort and is now running just as a client.
     Does anyone have any clue why these messages are being issued?  Should
I just shut it down and restart it?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-03-26 00:10:52
@_author: Scott Bennett 
@_subject: Full bandwidth is not used. 
On Sat, 13 Mar 2010 09:05:03 +0100 Paul Menzel
     My apologies for letting this sit unanswered for so long.  I was tied
up in reconfiguring several disk drives where free work space was cramped
and inconveniently located for some of the moves.  Now I'm just starting to
go through nearly two weeks' accumulation of email.  Agghhh...
     I'm sorry that my point wasn't made clearly enough.  IIRC, you were
wondering why the consensus values didn't match what you were seeing your
router do.  (You've deleted the pertinent portion of the message, so I'm
just going by memory here.)  The point I was attempting to make is that
there is no good reason to expect to see any close relationship between
the consensus value and what your router does.
     Your router may very well have also had some real problem, but the
consensus is not a useful tool for diagnosing throughput capacity problems.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-14 02:20:58
@_author: Scott Bennett 
@_subject: why is the traffic not more linear? 
Unfortunately for that argument, 100 KB/s * 86400 s/d = ~ 8.24 GB.
Given that a relay typically averages about half the target limit, my take
on this is that we don't have enough information to determine why he sees
what he does.  He really didn't tell us what sort of variability he see
anyway.  Does he mean that it is erratic on a minute-to-minute basis?  Or
at various times of day?  The graphs at the link he gave appeared damaged
in Firefox, appearing as straight, horizontal lines (yes, plural) in and
below the graph boundaries.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-14 02:39:15
@_author: Scott Bennett 
@_subject: perfect-privacy.com, Family specifications, etc. 
There is someone going by the name of perfect-privacy.com who is
listed in the contact information of roughly 28 relays' descriptors with
widely varying throughput capacities in the tor directory.  These relays'
descriptors are grouped into quite a few separate Family specifications,
although some appear to be orphans without a Family.  I wrote to the
address given in the contact information to ask them to explain/justify
their peculiar non-conformance to the rule about Family specifications,
stating that I would post to this list quite soon, but wanted to give
them a chance to explain/justify their actions first.  That was at 13:25
CDT on 11 May 2010.  I have not received any response.  (So much for the
contact information...)
     I would appreciate having these relays lose their "Valid" flags in
the consensus until such time as their operator(s) group all of them
into a single Family specification.  I hope the authority operators
will take this action in a timely fashion.  Until this situation is
dealt with, it will remain entirely possible that clients may build
circuits whose entire routes consist of perfect-privacy.com's nodes.
     FWIW, I have not thoroughly combed the directory for similar cases.
It is entirely possible that others exist, but for now, it would be good
to eliminate the violators ASAP.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-16 00:45:22
@_author: Scott Bennett 
@_subject: perfect-privacy.com, Family specifications, etc. 
On Sun, 16 May 2010 07:08:53 +0200 Paolo Palmieri      That is true for some of them, but there are also some that are not
in any Family at all.  In any case, they all should be in a single Family.
     Thanks for pointing that out, Paolo.  I had missed that.  However,
it should not be possible to get more than one of them in any given circuit
route, but because they are not grouped into a single Family, a circuit
could consist of all nodes except the exit node being perfect-privacy.com's
     I note that at present nothing has been done about the bad situation
by either perfect-privacy.com or by the directory authority operators, nor
have I yet received any response to my email message to the address in the
contact info for these nodes.
     The tor man page gives a not very edifying description of the NodeFamily
statement.  The man page says that the NodeFamily statement may be used more
than once in a given torrc file.  Does each use define a different Family?
Or do all nodes listed in NodeFamily statements get lumped into a single
Family?  What effect does the NodeFamily statement have upon the use of nodes
whose descriptors already contain some Family information?  I intend to add
one or more NodeFamily lines to my torrc very shortly, but need to know
whether a) I have to include all of the nodes in a single, very long run-on
NodeFamily statement, and b) listing all of perfect-privacy.com's nodes now
would mean that encountering similar situations with nodes belong to someone
else would require grouping them with perfect-privacy.com's nodes.  Thanks
in advance for any answers to these questions!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-16 13:37:43
@_author: Scott Bennett 
@_subject: NodeFamily statement to fix the perfect-privacy.com problem 
For anyone else who is interested in having no more than one hop of any
given circuit constructed by their tor client to be a perfect-privacy.com hop,
just add the following to your torrc file, and send tor a SIGHUP.  Please
pardon the run-on line, but without answers to the questions I posed earlier
here, I have to assume that it is necessary to list every node that should
be in a single Family on the same NodeFamily statement.  Just copy and paste.
# The following are the perfect-privacy.com nodes, which their operator(s)
# failed to group into a single Family specification
NodeFamily $0D5D6C7BDE53A1D1A65C083440099DD0729D69FE,$AA24083148432D665D370649EDD7815FC184D61D,$6D080ECCAA6D65DC68E1B3B50E8F199FA9ADA04C,$8BD39755B5CAA9C060CA4AEAC024B9AE0DBF1DE1,$B555A2B276678135EFE6F0F8173F21579BF1CACD,$698099D22DA44C543656F30C8B7FEAD3905C3268,$6CDC0D7AAA97214DD6C4F3BD43ACD28F220D7967,$B1114339D7392BCDCEF6D5D14269CA941A988EA7,$A2C05FEE9D8B08793D6312694BBF6A20F480D57F,$34A46B317DCAD4CA52C449D3AF3786344EE75054,$64E8787C3A9B4CD13A0104FE29ABEA367954D124,$8C63F2742DD4E56413BE89D3441372B57796A597,$DA0E7FE627F9C64D44FE85821B6BD0F08D8725E3,$EE869688885F7B25806BF5F056E6B7EB042E3C51,$9D3007FFE14CA19721AE8A961CB5CF81C436758F,$03D3F63B7DABD3413074F8E9996E7A9C1EFD4ADE,$E08DB33E447EF7A82804875F9400A6B378A1B92E,$FEE06055B622C3FF26A93651B840829A629C66F4,$9479D745380DDC1AA5F56EAB28B4EB4B18CFECFB,$7299B48FBE94394DDBB02F03AA262E0FB2C544D1,$65F118FD5BD158FA10C833D6E210DFB8457E0A6C,$A92C8E3A134F915E15DDEF12D374A3BD469A600B,$5B3EFAA427945B1A3EB364922A897A7A4759C7E2,$13CA99FA910!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-16 16:24:04
@_author: Scott Bennett 
@_subject: perfect-privacy.com, Family specifications, etc. 
On Sun, 16 May 2010 23:18:59 +0300 =?UTF-8?Q?ilter_y=C3=BCksel?=
 top-posted (please don't do that):
     See the MyFamily statement's description in the tor man page.  Then
look at what I posted before about the perfect-privacy.com nodes being
misconfigured w.r.t. Family designations.  Their operator(s) did it wrong
and have not responded to email sent to the address in those nodes'
contact information.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-17 23:22:59
@_author: Scott Bennett 
@_subject: Answer by perfect-privacy.com Re: perfect-privacy.com, Family specifications, etc. 
On Mon, 17 May 2010 21:44:21 +0200 Moritz Bartl      No, I certainly didn't.  Also, they should have received a bounce message.
"Bruce" neglected to mention whether he had gotten one.
     I've long thought that every node Family should have a Family name, but
his suggestion for the actual form of the MyFamily statement is better than
what I had been thinking of.  I heartily recommend that it be adopted and
implemented ASAP.
     In the meantime, perfect-privacy.com should advise this list as soon as
its torrc files are in compliance, while the rest of us should feel free to
use the NodeFamily information I posted earlier with, apparently, the addition
of 17 more node fingerprints that I missed when I grepped the directory for
the email address from the contact info.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-20 00:42:08
@_author: Scott Bennett 
@_subject: Answer by perfect-privacy.com Re: perfect-privacy.com, Family specifications, etc. 
On Thu, 20 May 2010 00:25:33 -0400 Roger Dingledine      How would that be any different from me adding a MyFamily statement
of the current form to my node's torrc that included all four blutmagie
     All that would do would be to say to all clients, "Don't include
this node in the same circuit as any of the blutmagie nodes."  How would
that be an attack?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-20 00:47:16
@_author: Scott Bennett 
@_subject: perfect-privacy.com, Family specifications, etc. 
On Thu, 20 May 2010 00:40:42 -0400 =?utf-8?Q?Jerzy_=C5=81ogiewa?=
     If you subscribed to this list after the start of the thread, just
go to the list archives, and look for my original message.  It should
all then become clear.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-20 01:29:28
@_author: Scott Bennett 
@_subject: Answer by perfect-privacy.com Re: perfect-privacy.com, Family specifications, etc. 
On Thu, 20 May 2010 08:23:34 +0200 (CEST) "Sebastian Hahn"
     What is the limit on line length for such a MyFamily statement?  What
is the limit on descriptor length?  Listing ~1500 nodes sounds like the
sort of thing that wouldn't work very well.
     Also, my other question remains:  what would stop me from listing nodes
that I don't control in a MyFamily statement now?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-20 03:10:46
@_author: Scott Bennett 
@_subject: perfect-privacy.com, Family specifications, etc. 
On Thu, 20 May 2010 07:37:17 +0000 The23rd Raccoon
     As anyone who has been around long enough is aware, the "thread" is
the content of the Subject: header, not the content of any USENET newsreader-
derived, latecoming header.  The only times I have failed to preserve the
content of the Subject: have been on other lists, where I receive messages
in digest form and have made an error in editing.
     Now, having stated that again, I just went to the archives page and
found it in seconds, so it certainly wasn't difficult at all.
     Your comment is misplaced, given that I have repeatedly stated on
this list that I am *not* the system administrator of this system and that I do *not* install or delete software on this system.  I have nothing
at all to do with it.
     Ah.  I see.  You wait until your post script to discuss the subject
at hand.
     Yes, that was essentially the suggestion of Bruce from
     Also, I still fail to see why having extra nodes (i.e., nodes *not*
under the control of a given node's operator) creates any real problem.
I suppose in a tiny, experimental network, one could pretend that such a
threat might exist, but in the real world, I just don't see it.
     Further, Bruce's suggestion avoids the issue entirely by requiring
each node to subscribe *itself* to a Family by specifying only the key/
name/other type of identifier of that Family.  Sebastian's "attack" could
not be done.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-20 13:44:36
@_author: Scott Bennett 
@_subject: Family specifications (was: Re: perfect-privacy.com, Family specifications, etc) 
Oh.  My.  Goodness.  Gracious!  I go to sleep for a few hours, and the
discussion descends into total confusion because a number of participants,
including some tor developers, did not bother to read the proposal by Bruce
from perfect-privacy.com.  He did *not* propose, for example, any equivalent
to  statements.  He did *not* propose, for example, any method of
allowing a node to specify other members of a Family.
     Let's see if we can get the discussion back on track.  Please read
below carefully.
     On Thu, 20 May 2010 10:44:44 -0400 Andrew Lewman      That was not Bruce's proposed method.  Please go back and read it
     Bruce's proposal prevents any such possibility because it does not allow
specification of any nodes by Nickname, key fingerprint, or any other method.
Rather, it allows a node to identify a Family by some Family name or other
label of which it itself is a member.
     Alice runs nodes A1, A2, and A3.  In the torrc file of each would be a
line like
MyFamily We'reOff
Bob runs nodes B1, B2, B3, and B4.  Each of his nodes' torrc files contains
a line like
MyFamily toSee
Carol runs nodes C1 and C2.  Both of these nodes' torrc files contain the
following line.
MyFamily theWizard
     Now, Dave has a client that downloads the descriptors for all of Alice's,
Bob's, and Carol's nodes.  Seeing the Family name each node says it belongs
to, the client groups Alice's nodes into one Family, Bob's nodes into another
Family, and Carol's nodes into a third Family.  Dave's client then chooses
routes for circuits that will use no more than one node from each Family, just
as clients do now.
     If Ed comes along and fires up a node E1 that says, "I'm in toSee Family",
then if Dave's client chooses E1 for a route, it will not choose any of Bob's
nodes for other positions in the same route.  Likewise, if Dave's client
chooses any of Bob's nodes for a circuit, Ed's E1 node will not be used for
other positions in the same circuit.  Ed, however, has no way to force Dave's
client to choose Ed's nodes for circuit routes.
     Again, that is completely inapplicable and irrelevant to Bruce's proposed
method.  To reiterate, his method enables each node to tell clients, "I'm in
Family xyz.  Don't use more than one of us in a circuit."  It does not allow
any node to specify other nodes.  A node simply specifies the name of a Family
to which it belongs.  Jeesh.  It's really not very difficult, and no, it is
not vulnerable to the sort of attack you, Roger, and Sebastian have now
misdirected the discussion.  Sigh.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-20 13:47:39
@_author: Scott Bennett 
@_subject: Answer by perfect-privacy.com Re: perfect-privacy.com, Family specifications, etc. 
On Thu, 20 May 2010 12:31:17 +0200 Moritz Bartl      Exactly.  Thank you, Moritz.  Roger just didn't read what Bruce wrote.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-20 14:36:01
@_author: Scott Bennett 
@_subject: Family specifications (was: Re: perfect-privacy.com, Family specifications, etc) 
Hi Paul,
     On Thu, 20 May 2010 15:12:38 -0400 Paul Syverson
     You parsed "xyz" as meaning "x,y,x" or perhaps "x y z"?  How bizarre.
Even the current MyFamily statement doesn't do that.
     No, indeed it's not.  Bruce was proposing an alternative method, one
that looks far more sensible than the current method.
     That's an interesting question, and I'm not sure of the answer.
However, it's worth noting that it would not open any useful attack
because each time a node adds itself to a Family reduces by some amount
its probability of being selected for a route.
     Not sure what that would accomplish.  Seems to me that a client
would maintain a list of Family names that it has encountered.  Each
time it encounters a descriptor with a Family name not already present
in its list, it would add a new entry for that Family to the list.
Each node claiming membership in a Family would have an membership
entry linked off of the appropriate entry in the Family list.  When
a new descriptor for a node is encountered, it would be checked for
Family designation(s) against the appropriate membership list(s) to see
whether the membership list(s) should be updated.  If a node vanishes
from the directory, its memberships should be removed.  If an entry in
the Family list ends up with no membership entries linked from it, then
that Family entry should be removed from the Family list.
     It's just mundane list maintenance stuff.  Shouldn't be a big deal.
Each node's descriptor entry in tor's internal representation of the
directory would link directly to the appropriate Family list entry.  If
multiple Family designations are permitted for a node, then the internal
directory entry would instead anchor a short list of pointers to the
Family list entries.  I suppose a bit could be reserved somewhere nearby
that would say whether the field in the internal directory entry were
a direct pointer or a list anchor in order to accommodate the most likely
case, namely, that a node would be a member of, at most, a single Family.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-25 01:45:52
@_author: Scott Bennett 
@_subject: [OT] another proxy, but not open source :-( 
I don't know who "Censorship Research Center" might be, but they claim
to have a development project going for another encrypted proxy service.
However, they say it will be free software, but *not* be open source, so no
one can examine what they have done in order to look for bugs, design flaws,
etc. :-(  There isn't much real information at the web site,
but what little there is looks very much like an attempt to sucker people
who don't understand much about security.
     Oh.  I almost forgot.  Their FAQ page mentions tor, complaining about
tor's publicly available directory and arguing that their method is better,
while not mentioning bridges.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-25 03:59:25
@_author: Scott Bennett 
@_subject: [OT] another proxy, but not open source :-( 
On Tue, 25 May 2010 03:30:34 -0400 Justin Aplin      You may well be assuming too much.  It's not easy to know at this
point because it's still undocumented vaporware.  I still think the
whole thing smacks of being a honeypot for gullible humans.
     Well, that, at least, happens all the time.  How many installations
of Windows Server 200[38] would you guess there are, for example?
     China has done that at least once already.  They apparently managed
to get ~80% of what the bridge authorities had at the time, IIRC.  Yet
the remainder continued to operate and serve many people in China during
that time.  And bridges come and go, just like ordinary relays.  Many
are on dynamically assigned IP addresses, so their addresses change,
thereby invalidating those data in the Chinese government's list.
     Indeed.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-25 05:22:41
@_author: Scott Bennett 
@_subject: [OT] another proxy, but not open source :-( 
On Tue, 25 May 2010 05:55:34 -0400 "Aplin, Justin M"      :-)
     "Proprietary" means the client companies pay for it, right?  Which
means they are funding its development, right?  Windows Server releases
are closed source, right?  And client companies install and use it, right?
Now, none of that tells us "how many large contributors would be willing
to install closed-source software that they're not involved in developing
on their servers", but I should think that the number may be fairly large.
     Nice call! ;)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-25 14:36:26
@_author: Scott Bennett 
@_subject: [OT] another proxy, but not open source :-( 
On Tue, 25 May 2010 13:33:23 -0400 Ted Smith      What drew my attention to it was a small newspaper column in yesterday's
_Fib_ (a.k.a. _Trib_ a.k.a. _The_Chicago_Tribune_) that I saw at a coffee
shop.  The author was all ga-ga about it, praising Austin Heap as if he
should be canonized ASAP for his wonderful work for freedom of speech.
Being somewhat of a skeptical nature, I looked up the web site referred to
in the article when I got back to my apartment last night.  I couldn't figure
out why the author, Kurt Knutson of WGN TV, was so taken in by something that
isn't even available yet and about which there is so little publicly available
     That's more than I managed to extract from it, but that certainly
looks very bad if that is indeed what they are doing.
     Maybe they'll sign it with their own in-house equivalent to PGP, too. :-}
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-25 23:00:23
@_author: Scott Bennett 
@_subject: Tor Exit Node hosting: torservers.net 
Mike and Moritz,
     Would you both *please* stop posting each message to multiple lists?
Thanks much.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-26 10:19:21
@_author: Scott Bennett 
@_subject: gwget and tor? 
On Wed, 26 May 2010 09:40:29 -0400 "Aplin, Justin M"      Once again, I strongly recommend that you set the *_proxy environment
variables to full URLs rather than to the abbreviated forms you've shown
above.  See fetch(3) in the man pages for details.
     See note above.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-27 20:16:33
@_author: Scott Bennett 
@_subject: gwget and tor? 
Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-28 07:42:49
@_author: Scott Bennett 
@_subject: HTTPS Everywhere Firefox addon 
On Fri, 28 May 2010 15:19:25 +0300 What you get is Not what you see
     What seems to be missing from this discussion is the fact that NoScript
already supports forcing HTTPS on a site-by-site or pattern basis.  You
should be using NoScript already if you use Firefox, so just tell it what
to do.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-28 18:52:05
@_author: Scott Bennett 
@_subject: HTTPS Everywhere Firefox addon 
On Fri, 28 May 2010 12:55:19 -0700 Seth David Schoen      That is a nice feature!
     Two questions now occur to me.  Will this add-on become available
from the Mozilla web site?  And are there any interaction problems
between HTTPS Everywhere and NoScript?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-30 09:39:56
@_author: Scott Bennett 
@_subject: DerAufbruch{,1,2} nodes not in a Family 
There are three nodes currently listed in the directory by the names of
DerAufbruch, DerAufbruch1, and DerAufbruch2 without contact information that
are not configured into a Family.  If you wish to have your tor client treat
them as being in a single node Family, just add the following to your torrc
# The following are the DerAufbruch{,1,2} nodes, which have not been
# configured into a Family and have no contact information in their
# descriptors.
NodeFamily $9631AB3D9F17A9DF23C4A427DCDE17C38E27E54B,$F334E6A865F58B170428E773F2F1C5AED452E087,$72EABEEEA8290EE39A44A3E06676071B98D17EBD
(Beware of linewrap in the NodeFamily line above.)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-30 23:33:21
@_author: Scott Bennett 
@_subject: DerAufbruch{,1,2} nodes not in a Family 
On Sun, 30 May 2010 15:48:54 -0400 Flamsmark      I don't know.
     Absolutely.  The archives' usefulness suffers seriously from the lack
of search functions.  I tend to cringe and procrastinate whenever it looks
like I'll have to dig through them for something. :-}
     Perhaps, but I'm not sure that's the best way to deal with it.  It seems
to me that this is a security issue much like the "bad exits" issue, so maybe
the directory authorities ought to have a way of enforcing Family groupings
in a manner similar to the BadExit flag or the Invalid flag.  Any thoughts
on this from others, including developers?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-05 18:19:44
@_author: Scott Bennett 
@_subject: Using tor as proxy for the command line 
On Wed, 5 May 2010 20:22:55 +0200 Borja Luaces      Note that wget(1) abides by the ftp_proxy and http_proxy environment
variables described in fetch(3).  I suspect that torify(1) used with nmap
will not be particularly useful to you nor would you endear yourself to
exit operators by doing that.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-06 06:39:06
@_author: Scott Bennett 
@_subject: Using tor as proxy for the command line 
On Thu, 06 May 2010 11:05:17 +0200 Jacob Appelbaum      I would recommend using the full form in each of those above.  There
are apparently a few cases where the abbreviated form you show here will
not work.  Also, you might define ftp_proxy; otherwise FTP requests will
go directly, instead of being blocked by privoxy.  Or if you have something
like 3proxy installed, you could set ftp_proxy to use that, but I don't see
a very easy way to stop DNS query leakage if you do that.
     I think using nmap in the context of tor is really barking up the
wrong tree.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-06 23:42:22
@_author: Scott Bennett 
@_subject: Using tor as proxy for the command line 
On Thu, 06 May 2010 15:56:25 +0200 Jacob Appelbaum      I've reread the man pages for 3proxy and its author's other proxies
since posting that.  It appears that none of them will translate ordinary
proxy protocols into SOCKS stuff, so please ignore my earlier comments
regarding 3proxy.  Any FTP connections will, at some point, be in the clear
from your system and cannot be diverted through tor by ordinary FTP proxies.
     As documented in the man page for fetch(3), it should look like a URL.
For example,
export http_proxy
export https_proxy
    No, I was referring there to the use of 3proxy as an FTP proxy, which
I now see won't help here anyway, so just forget all that.
     Would you post your specifications for it, please?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-05-08 19:00:45
@_author: Scott Bennett 
@_subject: opening up (exit policy) a bit ... 
On Sat, 8 May 2010 22:49:26 +0000 (UTC) John Case      No, not really.  That method does not distinguish between connections
going to actual web servers and connections going to other tor relays that
listen on 80 as their ORPort or DirPort, of which there are quite a few.
You would need to compare each address and port number with the addresses
and port numbers listed in the directory to determine which case you were
seeing.  Also, netstat doesn't tell you whether your system connected to
the other end or vice versa.  pftop(8) does identify connections as being
inbound (I) or outbound (O), but if you don't have pf(4) support on your
system (OpenBSD and FreeBSD only, I think), then you don't have pftop
available.  I don't know what similar tools may be available for use with
other systems.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-11-06 12:48:55
@_author: Scott Bennett 
@_subject: U.S. begins censoring Internet at U.K.'s request 
Using exit "chuckthecanuck" gives a Google (!) error page, saying URL
not found.  I'll add that exit to my ExcludeExitNodes list with a comment
that the reason is due to DNS hijacking that is probably related to U.S.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-11-06 13:02:22
@_author: Scott Bennett 
@_subject: U.S. begins censoring Internet at U.K.'s request 
I changed my mind.  I'm adding {ca},{uk},{us} to my ExcludeExitNodes
list with an appropriate comment for later removal in case the U.S. ever
calls off its War on the Internet. :-(
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body. To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-11-07 01:43:17
@_author: Scott Bennett 
@_subject: U.S. begins censoring Internet at U.K.'s request 
On Sat, 06 Nov 2010 16:03:24 -0500 David Carlson      Have you tried it?  The name servers still resolve the name to an address,
but attempts to reach the address, either by name or by IP address, in a web
browser yield only a Google error page.
     Routing table fraud seems a likely modus operandi.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-11-07 08:29:35
@_author: Scott Bennett 
@_subject: U.S. begins censoring Internet at U.K.'s request 
On Sun, 07 Nov 2010 14:17:20 +0000 "Geoff Down"      Actually, before posting my original note, I had used tor-resolve to
look for an IP address, and it quickly returned 74.125.93.121.  Doing a
reverse lookup of that address (also with tor-resolve -x) returned not the
original name but rather qw-in-f121.1e100.net.  Plugging either the IP
address or the latter name into the URL got me the same Google error page.
     Now, however, tor-resolve on the original name returns
[warn] Got SOCKS5 status response '4': host is unreachable
but the reverse lookup still gives the name shown above.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-11-12 04:01:11
@_author: Scott Bennett 
@_subject: New Bundle Version 1.3.10 
On Tue, 02 Nov 2010 09:33:23 -0500 Joe Btfsplk       I'm advocating installing both NoScript and QuickJava.
     There are "very few" that are "trusted sites".
     I haven't encountered any.  However, I have noticed a couple of weird
situations where NoScript alone did not stop the unwanted appearance of
windows with dotted (i.e., nonfunctioning) "close" buttons, whereas also
having JavaScript disabled in QuickJava eliminated those.
     In any case, NoScript does not, AFAIK, allow the user to disable Java
or JavaScript selectively, only both or neither.  Adding QuickJava allows
the user to enable/disable each individually.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-11-15 02:43:02
@_author: Scott Bennett 
@_subject: U.S. begins censoring Internet at U.K.'s request 
On Mon, 8 Nov 2010 04:28:17 +0000 (UTC) John Case      They're a summary of my pilot credentials.  If you have to ask, then
you're not a pilot, and spelling them out may not mean much to you.  Other
pilots occasionally subscribe to the same lists and news groups that I do,
and they often have stories to share by email when they spot another pilot.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-11-02 03:01:26
@_author: Scott Bennett 
@_subject: New Bundle Version 1.3.10 
On Wed, 27 Oct 2010 10:22:07 +0000 Erinn Clark      Erinn, I'm not sure what you meant there.  Did you mean that NoScript
disables the majority of Firefox options?  Or that the majority of NoScript
options is disabled in this version of the bundle?
     FWIW, I'd like to recommend also using QuickJava, which allows toggling
of Java and JavaScript individually.  In other words, allowing scripts in
NoScript allows one still to disable Java while leaving JavaScript enabled
if one so desires.  If scripts are disabled in NoScript, then clicking on
the QuickJava buttons has no effect.  I, for one, *never* want Java enabled
for anything, but in a very few cases, I do allow JavaScript to run.
     Okay.  You might want to look through all the stuff on the NoScript
web pages to get a better understanding of the extensive list of pretty awful
leakages and attacks that NoScript can block.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-10-19 16:16:08
@_author: Scott Bennett 
@_subject: Excessive scrubs 
[massive top-posting sequence *deleted*  --SB]
     Two requests:
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-10-24 03:04:16
@_author: Scott Bennett 
@_subject: Excessive scrubs 
On Wed, 20 Oct 2010 08:11:25 -0500 Joe Btfsplk      Nope.  I've never seen any non-tor-related lists where so many people
top-post.  On most lists to which I have ever subscribed, other subscribers
firmly object to top-posting when it appears on those lists.  Also, feel free
to visit
     This is something I've answered many times on this list already, but
I will answer it this one final time.  After this, anyone who gives a dam
can bloody well look up an instance of my explanation in the list archives.
     I think what he was referring to was the fact that I do not use a mail
interface that supports the use of optional headers for threaded reading of
mail by subject similar to the way threaded USENET newsreaders do it.  My
explanation in this case is in two parts:  1) regardless of the condition
of other subscribers to mailing lists, my eyeballs and brain work just fine,
so I have no trouble following the flow in the lists, including list digests,
which are what I receive for most of my list subscriptions outside of the
tor-related lists, especially for lists that are such low-volume lists as
the tor-related lists tend to be, and 2) it's out of my control anyway
because I not only am not the system administrator on this system, I have
merely a guest account for the primary purpose of dealing with email, so
I can't install mail software to suit the tastes of other people on the
lists to which I subscribe.
     And some would consider phony names used in email to show lack of
courage of convictions when voicing opinions in public, although I do
recognize that there are some life-threatening situations where such practices
may be necessary to reduce/eliminate the risk and the lack of courage is
therefore forgivable.  I don't know your situation, and perhaps you are
exposed to such dangers, so I cannot comment upon the particular case of
your use of a seemingly phony name, nor do I let such usage bother me
as a rule either.
     Many people also would consider my .signature not to be excessive,
and there are many whose .signature blocks are far larger than mine, some
so much so that I would also be inclined to object if the owner were a
frequent poster.  FWIW, mine has gone through many changes over the years,
but I like the way it is at present.  If I run across another quotation that
I happen to like better, I may replace it.  For mailing list use, I normally
omit the postal address lines anyway as below.
     Although I didn't respond directly to Jon's reply, I'd like to thank
him for his update and its reassurance.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-10-07 01:58:20
@_author: Scott Bennett 
@_subject: gratuitous change blocks upgrade to 0.2.2.15-alpha :-( 
Sorry I'm so far behind on email.  Will try to catch up soon.
     On Fri, 24 Sep 2010 22:05:45 +0200 Sebastian Hahn      What terminates a comment inside such a block?
     Is the "lolcat1," part of the comment about kittens?
     Is the "\" part of the comment?  The early comment line about
kittens lacks a "\".  Are both validly continued lines?
     Wow.  That's the most incredibly *ugly* kluge I've seen in many a year,
but if it works, then at least it does provide the functionality.  I'll
make the required changes to a copy of torrc and then try the upgrade to
0.2.2.17-alpha sometime in the next few days.  Answers to the questions
above would be helpful, though, in making those modifications.
     However, I don't understand the need for compatibility for tor
controllers on this one.  It seems to me that changes to the ExcludeNodes
and ExcludeExitNodes lists are the kind of thing that should require
rereading torrc, throwing away the previous lists and replacing them with
the new ones read from torrc.  Controllers should have the ability to
trigger rereading of torrc, but not to make this sort of major operational
change on the fly directly rather than by through rereading torrc.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-10-11 00:31:43
@_author: Scott Bennett 
@_subject: FBI trying to get backdoors legislated again 
(Beware of linewrap in the URL.)
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-09-10 01:36:18
@_author: Scott Bennett 
@_subject: gratuitous change blocks upgrade to 0.2.2.15-alpha :-( 
I had planned to upgrade my node from 0.2.2.14-alpha this evening to
0.2.2.15-alpha, but there is an unfortunate and apparently gratuitous, new
restriction upon "ExcludeNodes" and "ExcludeExitNodes" that, for the moment
at least, is preventing me from upgrading.  I have a rather long list of
nodes that I have found undesirable in ways that justify (to me, at least,
and my opinion rules on my node) their inclusion in one or the other of
those lists.
     After building 0.2.2.15-alpha and installing it, I ran the usual
"tor --verify-config" as a basic test.  Surprise!  It issued many messages
of each of the following types:
Sep 10 01:15:29.753 [warn] Option 'ExcludeExitNodes' used more than once; all but the last value will be ignored.
Sep 10 01:15:29.753 [warn] Option 'ExcludeNodes' used more than once; all but the last value will be ignored.
There is no way that I can fit all of the excluded nodes of each type onto
a single line for each type in my torrc.  Also, my torrc is full of comment
lines documenting the reasons for these exclusions in each case, which
allows me to review certain ones from time to time for possible removal from
whichever list they are on and also to know which ones should never be
removed.  Even if an editor were available that could handle line lengths
great enough to allow placement of each entire list onto a single line in
torrc, the comments would have to be left out or made useless by being
separated from the corresponding node identifiers.
     The upshot is that I cannot upgrade to a version of tor that has this
new and seemingly unnecessary change. :-(  This is especially irritating
at the moment, given that 0.2.2.14-alpha has a bug that causes it from time
to time to drastically miscalculate the cutoff time for building new circuits.
For example, a couple of days ago, it suddenly changed from cutoff times on
the order of 12 to 14 seconds to cutoff times ranging from 130 to 300 seconds.
     To the developers:  please fix the next release of -alpha to allow the
use of multiple ExcludeExitNodes and ExcludeNodes lines again.  Thank you.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-09-10 02:57:52
@_author: Scott Bennett 
@_subject: gratuitous change blocks upgrade to 0.2.2.15-alpha :-( 
On Fri, 10 Sep 2010 03:39:44 -0400 Roger Dingledine      [extremely shocked pause...]
     Roger, please tell me that you're joking.  I have *never* had the
understanding from reading the documentation in all of the years I've been
using tor that only a single line of each type would be used.  How, then,
are we to exclude all of the nodes that we find unacceptable for use in our
own circuits?
     If what you say is actually the case, then it would seem that a problem
described on this list on many occasions during the last few years may, in
fact, have been due to this horrible limitation.  Several of us have complained
on numerous occasions that adding a node to one list or the other and sending
SIGHUP to tor (or restarting it) failed to prevent that node from being used
in the manner that we had expressly excluded.  If what you say is indeed the
case, then it is a truly awful design bug.
     I'm not a tor developer, so no, I cannot confirm.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-09-10 03:27:01
@_author: Scott Bennett 
@_subject: gratuitous change blocks upgrade to 0.2.2.15-alpha :-( 
On Fri, 10 Sep 2010 10:05:09 +0200 Sebastian Hahn      Wow.  This is a scandalously bad situation.  Is there any chance
that it will get a high priority for being corrected *soon*?  Please??
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-09-10 04:29:38
@_author: Scott Bennett 
@_subject: gratuitous change blocks upgrade to 0.2.2.15-alpha :-( 
On Fri, 10 Sep 2010 04:40:02 -0400 Roger Dingledine      I'll see if I can do that over the next couple of days.  The old
system wouldn't let me do anything beyond simply looking at trouble
     Meanwhile, a quick tally through my Exclude* lists shows 10 that
were reported to be run by a federal agent of some sort and were not
listed as a Family at the time, 2 impersonators of blutmagie, 1 that
illegitimately claimed to be a directory authority, a group of 10 not
listed as a Family that also inserted text into exit streams on port
80, 11 others that inserted text into or substituted their own web pages
for port 80 exit streams, 8 that consistently truncated image files,
1 that redirected port 80 streams to a spyware page, 1 that allowed DNS
hijacking, 1 that censored exits to certain IP addresses and/or ports
instead of defining its ExitPolicy correctly, 3 that falsified SSL
certificates into exit streams for MITM attacks, ~90 that ran very
obsolete (e.g., 0.1.x.x, 0.2.0.x) tor software lacking oodles of security
fixes, and 31 excluded for another reason of my own preference.
     These last two groups are ones that I do review from time to time
to see whether the reason I excluded them has been eliminated, which
would allow their removal from the list.  All of the others, however,
I've excluded for damned good reason, and I have no intention of ever
removing them from the lists.  As you can see, they aren't going to fit
on just one ExcludeNodes line and one ExcludeExitNodes line.
     I'm still in astonishment, wondering how I can actually exclude the
nodes that should be excluded.  No angry rants from me at this point.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-02-22 00:52:32
@_author: Scott Bennett 
@_subject: [tor-talk] Is "gatereloaded" a Bad Exit? 
This bounced, thanks to there having been no alias installed at
freehaven.net to forward or-talk at freehaven.net followups to
tor-talk at lists.torproject.org.  :-(  I edited a few words before this repost,
but did not change anything important, so I haven't copied Justin in on it
this time.  I imagine he will see it on the new list anyway.
     On Mon, 14 Feb 2011 14:17:45 -0500 "Aplin, Justin M"      Not only that, but Mike's threat to force unencrypted ports to be
paired with encrypted ports in exit policies would defeat those of us who
might well be willing to allow encrypted exits but not unencrypted exits,
say, for hassle-prevention reasons.  Until I ran afoul of Comcast's bait-
and-switch marketing, I used to allow exiting on 443, but restricted exiting
on 80 to a limited list of destinations that I felt reasonably sure would
not cause me grief.  Mike's policy would reduce the supply of exit nodes
offering 443 and possibly other encrypted ports.
     I see.  Why not separate the contact issue from the exit policy issue
by simply flagging every exit node lacking contact information as a BadExit?
Of course, that will require some poor sucker to attempt to review every
exit's contact information to verify its validity because, at present, one
can put just about any garbage into the ContactInfo line.  At least that
would leave operators free to choose whatever exit policy worked for them.
     That's news to me.  What I saw was a unilateral decision, accompanied
by a threat of further such decisions, made by a single tor developer in
contradiction to the tor documentation and a policy/feature selling point
for running tor exit nodes that is made both in the documentation and on the
project's web site.  There has already been, you may have noted, a contrary
opinion posted here by another tor developer.  That means the development
team did not have a consensus view at the time of that response.  It will be
interesting to see whether those are the only two factions among the team and,
in any case, which faction will ultimately prevail.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2011-02-09 20:30:29
@_author: Scott Bennett 
@_subject: Is "gatereloaded" a Bad Exit? 
On Mon, 31 Jan 2011 11:09:51 +0100 Olaf Selke      I think Mike's and Jake's implied claims of clairvoyance regarding
an exit node operator's intentions in writing the exit policy for his/her
node call for some supporting evidence.  Instead, one of them has already
admitted that they have no evidence because they have no way to detect any.
     Olaf, you run four high-capacity exit nodes, each of which allows
unencrypted exits.  You have a longstanding capacity record, so it wouldn't
be random at all to choose to flag your nodes as bad exits; rather, it would
simply be recognizing that you have the ability to sniff a significant portion
of all unencrypted exit traffic.  To avoid having your four nodes flagged as
bad exits, perhaps you should block port 80 and all the thousands of other
ports that are usually unencrypted.
     Now, you might point out that Mike's criterion for avoiding BadExit
flagging is that you can continue to do your sniffing of unencrypted exit
traffic, provided you also allow encrypted exits on a handful of ports.
     This is all silliness.  The tor project until very lately has always
promoted end user understanding and responsibility.  Now the project *appears*
to be undergoing a major philosophical change toward nannying the tor user
community, a direction I find very unappealing, to say the least.  Horrifying
might be a more appropriate word.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-02-09 20:38:48
@_author: Scott Bennett 
@_subject: Is "gatereloaded" a Bad Exit? 
On Mon, 31 Jan 2011 11:17:27 +0100 morphium      Exactly, on all points.
     Well, they've made clear that they know what's good for exit operators
better than those exit operators do.  Perhaps they should arrange ISP choices,
contracts, and bill payment methods for those exit operators next?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-02-09 19:49:36
@_author: Scott Bennett 
@_subject: Is "gatereloaded" a Bad Exit? 
On Sat, 29 Jan 2011 23:23:55 -0800 Mike Perry      And port 80 is the highest-traffic port.  Exits to port 80 allow
unencrypted access to webmail sites with user ids and passwords transmitted
in the clear.  Using your argument, all nodes allowing exits to port 80
that do not eliminate all webmail sites by way of their exit policies should
be flagged as BadExit.  That would certainly be a strange way to put tor into
the dustbin of computer history, but it would indeed accomplish that.
     gatereloaded is among the top 60 nodes in the network by traffic capacity
and is unlikely therefore to be pinching pennies on it.  It is a valuable
entry and middle node.  If the operator wishes to offer in addition some exit
services for a handful of ports that are unlikely to trigger problems from
the operator's ISP, that is merely added gravy for tor users.
     I second that discomfort.  I further note that the tor project team
has repeatedly claimed that there is an ongoing shortage of exit nodes,
although it has not often noted for which ports there is a shortage.  One
of the selling points for potential exit operators is that the exit operator
can set an exit policy of his/her choice.  The ability to do that means the
operator can evaluate his/her own situation vis-a-vis his/her ISP, data rate
capacity, etc. and decide upon a policy that will not cause him/her a level
of grief unacceptable to him/her.
     Here you threaten that the tor project would someday severely reduce
the control that an exit operator would have over his/her node.  How would
such a reduction help to entice more people to run exit nodes?  How would
such a reduction not cause at least some existing exit operators to stop
offering exit services because they could no longer set an exit policy that
they found acceptable in their circumstances?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-02-12 01:00:03
@_author: Scott Bennett 
@_subject: Is "gatereloaded" a Bad Exit? 
On Mon, 31 Jan 2011 11:30:20 -0500 Andrew Lewman      Hear, hear!  Thank you, Andrew, for putting it so clearly in accord
with previously posted policy statements by the tor development team,
both on the tor lists and on the tor project's web site.  I don't know
what triggered Mike's dictatorial moment, but I hope he comes to his
senses quickly (if he hasn't already; I confess I'm hundreds of messages
behind in my email at present).
     Your remark about the "Roger trusts 'em" model does still seem to
apply to the assignment of "Authority" flags.  Given the current directory
protocol(s) and distribution structure, I'm fine with that arrangement for
the time being for "Authority" flagging, but not for "BadExit" flagging for
the reasons you posted, as well as a few posted by others, including myself.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-02-01 01:40:31
@_author: Scott Bennett 
@_subject: tor weather subscription problem 
I just tried to sign up for the "tor weather" email service.  Clicking
on the subscribe button after entering the information requested in various
places earlier on the page yielded,
Forbidden (403)
CSRF verification failed. Request aborted.
You are seeing this message because this HTTPS site requires a 'Referer header' to be sent
by your web browser, but none was sent. This header is required for security reasons, to ensure that your browser is not being hijacked by third parties.
If you have configured your browser to disable 'Referer' headers, please re-enable them, at
least for this site, or for HTTPS connections, or for 'same-origin' requests.
More information is available with DEBUG=True.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-01-26 05:32:23
@_author: Scott Bennett 
@_subject: [OT] Republicons resume attacks on privacy 
The Republicants are back to pushing data retention legislation. :-(
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-03-08 00:29:13
@_author: Scott Bennett 
@_subject: [tor-talk] procinfoc stats from blutmagie exit node 
On Fri, 25 Feb 2011 15:34:10 +0100 Olaf Selke      Hi Olaf!  That looks like a renewed call for someone to either a) adapt
the OpenBSD version of malloc()/free() shipped with tor to be compatible with
the libhugetlbfs runtime library for LINUX or b) find and fix the memory leak
in the native LINUX malloc()/free() routines.  One or the other appears to be
required, given the lack of up-to-date VM support for Intel x86 hardware in
the LINUX kernel. ;-)  The alternative, of course, would be to switch to an
OS whose kernel does have up-to-date support.
     Very impressive, as usual!  Many thanks again for your ongoing
contribution to the tor relay network's overall capacity!
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2011-03-08 15:22:36
@_author: Scott Bennett 
@_subject: [tor-talk] can't get tor to work :( 
Thank you for the explanation, Roger.  I see that the bug must have
been present in all of the versions of tor running that the authorities
were running at the time, which suggests that the rule about having the
authorities be spread across several versions at all times failed to be
sufficient in the end to uphold the purpose of the rule.  Perhaps the
timing of code propagation for new features that have yet to be fully
tested needs to be rethought. For example, should IPv6 support have been
eligible to appear in the "stable" versions of tor yet?
      Does the bug affect directory mirrors as well?  In other words, if
a new version of tor is implemented on some of the authorities that will
correctly handle whatever exit policy was the problem, will the distribution
of descriptors bearing that exit policy by the authorities to mirrors cause
the mirrors to crash, too, if they are running today's versions of tor at
the time if they don't have your patch applied?  How about ordinary non-exit
relays?  Clients?
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2011-03-19 03:08:30
@_author: Scott Bennett 
@_subject: [tor-talk] error at start of relay shutdown 
I just sent SIGINT to my 0.2.2.22-alpha relay and got the following
sequence of messages (INFO level).
Mar 19 02:56:10.172 [info] hibernate_begin(): Closing listener type 3
Mar 19 02:56:10.173 [info] hibernate_begin(): Closing listener type 6
Mar 19 02:56:10.174 [info] hibernate_begin(): Closing listener type 13
Mar 19 02:56:10.175 [info] hibernate_begin(): Closing listener type 15
Mar 19 02:56:10.175 [info] hibernate_begin(): Closing listener type 8
Mar 19 02:56:10.176 [notice] Interrupt: will shut down in 900 seconds. Interrupt again to exit now.
Mar 19 02:56:10.225 [info] tor_close_socket(): Close returned an error: Bad file descriptor
Note that my relay has both ORPort and DirPort open when running these days.
     Does anyone have an idea why this error occurred?  Thanks in advance for
any clues.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *

@_date: 2011-03-20 05:13:39
@_author: Scott Bennett 
@_subject: [tor-talk] Stricter NEWNYM? 
On Fri, 4 Mar 2011 10:17:30 -0800 Robert Ransom      Recall that UNIX and LINUX systems are inherently multiuser systems.
Even if many are not actually used by more than one person, many others are.
A "kill all streams" command would therefore need to be restricted to use
only by the system administrator or perhaps a small group of users allowed
such power over all users who might be using the tor client at the time.
Otherwise one user could disrupt the work of many other users very easily.
                                  Scott Bennett, Comm. ASMELG, CFIAG
* Internet:       bennett at cs.niu.edu                              *
* "A well regulated and disciplined militia, is at all times a good  *
* objection to the introduction of that bane of all free governments *
* -- a standing army."                                               *
*    -- Gov. John Hancock, New York Journal, 28 January 1790         *
