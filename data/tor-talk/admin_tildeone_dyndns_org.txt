
@_date: 2005-07-01 19:39:36
@_author: tildeOne tor router 
@_subject: spawn_enough_dnsworkers 
Hash: SHA1
It happened again (this time with version 0.1.0.11):
Jul 01 12:58:11.014 [notice] Your DirPort is reachable from the outside.
Jul 01 13:00:20.064 [notice] Your ORPort is reachable from the outside.
Excellent. Publishing server descriptor.
Jul 01 17:59:42.204 [notice] conn_close_if_marked(): Conn (addr
[scrubbed], fd 117, type OR, state 5) is being closed, but there are
still 168960 bytes we can't write. (Marked at main.c:579)
Jul 01 18:22:37.592 [notice] spawn_enough_dnsworkers(): 9 of 12
dnsworkers are idle. Killing one.
Jul 01 18:22:37.592 [notice] spawn_enough_dnsworkers(): 8 of 11
dnsworkers are idle. Killing one.
After this no traffic at all, the tor.pid was still there but no process
running and therefor none killed when restarting.
Now I don't think it's just a coincidence.

@_date: 2005-07-23 00:51:10
@_author: tilde0ne 
@_subject: FTP with Tor 
Hash: SHA1
sorry, ...[sockshost:socksport]:)
one thing makes me wonder: the program in my tor folder (windows) is
named tor_resolve while the syntax description reads tor-resolve ...
Anyway, I have to type tor_resolve (tor 0.1.0.12 windows). On my Linux
box (where the server is running) it's called tor-resolve. Just look
what's right for you

@_date: 2005-07-25 00:34:08
@_author: tilde0ne 
@_subject: spawn_enough_dnsworkers 
Hash: SHA1
just for completeness: I upgraded to 0.1.0.12, still having this problem
(server is dying leaving the last log entry "spawn_enough_dnsworkers():
8 of 11 dnsworkers are idle. Killing one."
Again, it's always "8 of 11", the time of appearance seemes to be random
(sometimes after days but there has been also a total of three in one day).
In one mail you advised me to run tor in foreground. Please forgive me
if this is a stupid question, but doesn't that mean, I have to leave the
machine logged on as whatever for perhaps days?

@_date: 2005-07-04 02:42:36
@_author: tilde0ne OR 
@_subject: spawn_enough_dnsworkers 
Hash: SHA1
"After this" ranges from half an hour to an hour. What makes me think
it's not a coincidence is that the server has died several times and in
each of these cases the last logs said spawn_enough... which is a notice
appearing rarely compared to other logs. I think if it was a coincidence
logs before dying should be rather random.
I didn't find core files right now that it happened again. I did ulimit
- -c unlimited before starting tor the last time. dmesg doesn't show
anything helpful too. I'm sorry, I know this isn't very helpful. Thanks
for your replies anyway.

@_date: 2005-07-06 10:47:53
@_author: tilde0ne OR 
@_subject: spawn_enough_dnsworkers 
Hash: SHA1
that varies but I'd say an average uptime is about two days.

@_date: 2005-07-12 11:31:11
@_author: tilde0ne OR 
@_subject: spawn_enough_dnsworkers 
Hash: SHA1
ok, this time it took 5 days, seems to bee rather random. There is one
interesting point: I found that the last line in the logs is always
spawn_enough_dnsworkers(): 8 of 11 dnsworkers are idle. Killing one.
It's always 8 of 11.

@_date: 2005-07-02 21:27:10
@_author: tildeOne tor router 
@_subject: No intro circ found for INTRODUCE1 
Hash: SHA1
Jul 02 19:50:36.546 [warn] rend_mid_introduce(): No intro circ found for
INTRODUCE1 cell ([scrubbed]) from circuit 15624; responding with nack
What does it mean? It's in my logs every one to four minutes since nine
hours or so.

@_date: 2005-07-03 00:24:05
@_author: tilde0ne OR 
@_subject: tor and Daemantools-0.76 
Hash: SHA1
supervising tor via daemontools would be very interisting to me.
However, I don't really know how to do it (was looking for some kind of
information on daemontools for the not-so-knowledged without success).
I'm running tor chrooted on Debian Sarge (using the scripts on
 ).
I know I'm asking stupid questions sometimes but I promise I'll still be
around when I've learned something worth telling others in the situation
that I am in right now ;)

@_date: 2005-07-22 22:57:37
@_author: tilde0ne 
@_subject: FTP with Tor 
Hash: SHA1
Hi Ben,
as you said tor works fine with FTP (haven't tried though). If I don't
misunderstand the fact that an application speaks socks 4a doesn't mean
the dns leakage problem is not present. A word on tor-resolve (which I
haven't tried too): It's nothing you can "activate", rather a program
that you run to resolve one single domain name to one sinlge IP address
using the tor network. Given the case you want to upload thing to always
the same FTP server (assuming it has a static IP) you can use
tor-resolve to resolve the name of that server and put the IP in as the
host name in your FTP client. Now, if your proxy setting are set for
tor, everything should be fine because there is no domain name to
resolve (which would happen non-anonymous).

@_date: 2005-07-23 00:33:42
@_author: tilde0ne 
@_subject: FTP with Tor 
============================== START ==============================
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
Sorry, I can't (I'm really not that network guru at all, just starting
to learn)
usage (in DOS promt, if you are on windows):
tor_resolve [-v] hostname [sockshost:socksproxy]
arguments in [] are optional, -v means verbose output, without defining
sockshost:socksport tor_resovle defaults to localhost:9050.
I think it should be socks 4a (but again, I don't really know the
significance - guess there are people knowing much better on the list).
Hope that helps

@_date: 2005-06-19 01:17:57
@_author: tildeOne tor router 
@_subject: Tor ports 
Hash: SHA1
I've experienced the same problem sometimes (which means I can't tell
relationship to something special). The last time was when rebooting
and being away for work. The log was filled with the above. after
restarting tor everything is fine. ??

@_date: 2005-06-23 09:25:21
@_author: tildeOne tor router 
@_subject: spawn_enough_dnsworkers 
I keep getting this error from time to time after a couple of hours leaving the server unreachable (which is beacuse it is not running anymore as I can see when trying to restart).
I'm running version 0.1.0.10 on a linux box.
Here is a typical log file:
Jun 22 10:49:04.854 [notice] Initialized libevent version 1.1 using method epoll
Jun 22 10:49:24.525 [notice] Tor has successfully opened a circuit. Looks like it's working.
Jun 22 10:49:24.526 [notice] Now checking whether ORPort and DirPort are reachable... (this may take several minutes)
Jun 22 10:49:25.250 [notice] directory_handle_command_get(): Client asked for the mirrored directory, but we don't have a good one yet. Sending 503 Dir not available.
Jun 22 10:50:05.261 [notice] Your DirPort is reachable from the outside. Jun 22 10:52:19.012 [notice] Your ORPort is reachable from the outside. Excellent. Publishing server descriptor.
Jun 22 14:16:21.401 [notice] conn_close_if_marked(): Conn (addr [scrubbed], fd 55, type Dir, state 5) is being closed, but there are still 9156 bytes we can't write. (Marked at main.c:555)
Jun 22 14:43:23.759 [notice] conn_close_if_marked(): Conn (addr [scrubbed], fd 92, type Dir, state 5) is being closed, but there are still 3269 bytes we can't write. (Marked at main.c:555)
Jun 22 16:34:50.323 [notice] conn_close_if_marked(): Conn (addr [scrubbed], fd 156, type Dir, state 5) is being closed, but there are still 95495 bytes we can't write. (Marked at main.c:555)
Jun 22 17:04:10.462 [warn] rend_mid_rendezvous(): Rejecting RENDEZVOUS1 cell with unrecognized rendezvous cookie 501702ED
Jun 22 21:07:05.348 [notice] connection_expire_held_open(): Giving up on marked_for_close conn that's been flushing for 15s (fd 123, type Exit, state open).
Jun 22 21:07:05.349 [notice] conn_close_if_marked(): Conn (addr [scrubbed], fd 123, type Exit, state 3) is being closed, but there are still 2838 bytes we can't write. (Marked at relay.c:869)
Jun 22 22:50:45.980 [notice] conn_close_if_marked(): Conn (addr [scrubbed], fd 234, type Dir, state 5) is being closed, but there are still 344235 bytes we can't write. (Marked at main.c:555)
Jun 23 04:24:54.448 [warn] rend_mid_rendezvous(): Rejecting RENDEZVOUS1 cell with unrecognized rendezvous cookie BC6101D2
Jun 23 06:08:24.684 [warn] rend_mid_rendezvous(): Rejecting RENDEZVOUS1 cell with unrecognized rendezvous cookie A49D59D4
Jun 23 07:01:52.013 [notice] conn_close_if_marked(): Conn (addr [scrubbed], fd 132, type Dir, state 5) is being closed, but there are still 86388 bytes we can't write. (Marked at main.c:555)
Jun 23 07:55:33.087 [notice] spawn_enough_dnsworkers(): 8 of 11 dnsworkers are idle. Killing one.
Any ideas?

@_date: 2005-06-23 10:31:49
@_author: tildeOne tor router 
@_subject: spawn_enough_dnsworkers 
Hash: SHA1
Ok, I didn't describe this very well. Indeed when looking at the logs
I'd think there is no problem. But the following points make me think
there is:
- - no DSL activity (normally heavy action while running tor)
- - showing the "unresponsive node" flag
- - when restarting tor -> no such process, none killed
- - everytime this happened the last entry in the log was spawn_enough...
Sorry, I was using the deb package

@_date: 2005-06-29 21:53:39
@_author: tildeOne tor router 
@_subject: spawn_enough_dnsworkers 
Hash: SHA1
Hi Roger,
libevent is 1.1 on Linux. It hasn't happened again in the meantime (I
had to restart the machine relative often for other reasons though, so
tor wasn't running for more than a day without a break) , I'll be
watching out.

@_date: 2005-09-02 00:47:57
@_author: tilde0ne 
@_subject: Server_status_question 
Hash: SHA1
Hi Olli,
my IP is changing daily too. But it isn't showm as unresponsive after
these changes (maybe for a few minutes). How do you tell your actual IP
to your server (in torrc)? I do via a dyndns.org-domain, only "problem"
is that the server's uptime listed is always "0".
