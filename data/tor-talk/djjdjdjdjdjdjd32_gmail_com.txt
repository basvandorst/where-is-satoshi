
@_date: 2015-04-14 06:05:02
@_author: Apple Apple 
@_subject: [tor-talk] [tor-dev] Porting Tor Browser to the BSDs 
I'm not too familiar with Whonix. May I ask what it does exactly to protect
the system from a malicious actor with root level access to the "gateway"
Additionally is there any analysis or guidance on the safe hardware and
software configuration of virtual machines from the Whonix project?
As you may be aware, virtual machines are not a security product in and of
themselves and they are certainly not magic.
Do you suppose that it may be the case that malicious software has a harder
time gaining root privileges on Tails than breaking out of a badly
configured virtual machine?
Do not forget that hypervisor software has bugs too and generally has
unrestricted access to the host machine.
May I also ask if Whonix addresses the other key feature of Tails which is
ensuring that there will be no forensic evidence left behind after usage?
With regards to Torbrowser on BSD, from what I understand the Tor browser
project is simply a collection of patches for Firefox. I'm confident you
can receive many of the benefits of the Tor browser by patching and
compiling Firefox manually. I say this because there is a Gentoo Linux
overlay which does exactly that.

@_date: 2015-04-17 06:34:45
@_author: Apple Apple 
@_subject: [tor-talk] [tor-dev] Porting Tor Browser to the BSDs 
actively trying to thwart you, which may not be the case since browsers
often have vulnerabilities.
browser based exploit alone is no longer sufficient to unmask a user like
with TBB, and potentially with Tails.
I think Tails and indeed, operating systems in general are being a bit
underrated here.
An exploited Tor browser running under Tails can only access the internet
through Tor because of the IPtables rules. It cannot interfere with
processes running under a different Unix account because of process
separation. It can only read and write files that the Tor browser user has
access to.
Tails, or indeed stock Linux is not massively insecure on its own.
hypervisor involved is more secure.
I think the problem is that virtual machines are such a simple concept, you
flick a switch and magic security things happen. Few people stop and
realize that they don't know the first thing about how hypervisors actually
work on a hardware and software level. In reality something as trivial and
obscure as an absent iommu can completely negate any "isolation" you think
you are getting.
I would strongly advise people to educate themselves before pinning all
their privacy, anonymity and security on technologies they don't understand
or worse still, actively encouraging other people to do the same.
If you went to Google Scholar and grabbed all the papers you could find on
Tor and other anonymity solutions before using them then why don't you do
the same thing with virtualization?
disk space, this same anti-forensics effect can be accomplished with Whonix.
Have you thought about what happens when the host PC runs out of memory and
begins to swap? Hell, what about closing the lid of your laptop?
The contents of virtual machines, details of Tor circuits, opened webpages
could all be permanently saved to disk in plaintext right?
This is something Tails explicitly designs against.
I understand people are passionate about Whonix and I'm not trying to bash
it, I just want a balanced discussion. I don't think it benefits anyone to
convince ourselves that a particular solution is the perfect one true
answer and everything else is crap.

@_date: 2015-04-30 05:27:35
@_author: Apple Apple 
@_subject: [tor-talk] The Tor-BSD Diversity Project 
I am not particularly enlightened but I was under the impression that
people do not use BSD for a reason.
It's 2015 and FreeBSD is still lacking basic security mechanisms such as
ASLR. It also seems to me that the community's ideological licencing
crusade is holding the entire project back. They condemn anything GPL and
will substitute inferior tools instead, I.e. ksh instead of bash, virtual
box instead of xen etc. As a project they seem to spend most of their time
rewriting GPL projects just to slap a BSD licence on it (bhyve or whatever
they call it for example) which doesn't really help anyone. It's like
Canonical dicking around with Unity and Mir. Complete waste of everyone's
OpenBSD is also a highly emotionally charged community. They completely
turn their backs on things like virtualization and mandatory access
controls. They spend all their time auditing the base system but as soon as
you install a buggy or untrusted application then you're on your own. I
don't find this approach very helpful in the real world.
Would anyone who knows more care to address these points and correct me
where I may be wrong?
I like the idea of diversifying the Tor infrastructure, defence in depth
and all that but I feel like it would be nice to also have some clear
arguments for why another OS should be adopted - not just it exists and
it's not Linux.
This would be immensely helpful and appreciated. There is no reason to
block even read only access to the forums.

@_date: 2015-04-30 14:01:28
@_author: Apple Apple 
@_subject: [tor-talk] The Tor-BSD Diversity Project 
And here goes the credibility of your opinion for me.

@_date: 2015-04-30 14:15:01
@_author: Apple Apple 
@_subject: [tor-talk] The Tor-BSD Diversity Project 
I apologise for my previous message. My finger slipped.
I am not particularly interested in arguing the merits of bash vs sh. I
agree that there are some definite cases where adopting alternative
technology has been the right step forward for the FreeBSD project,
migrating from GCC to LLVM for example. My point is that there has also
been unnecessary suffering and wasted effort caused by rejecting code based
entirely on licencing ideology. As a pragmatic user with no interest in
selling other people's work, this ideology gives me no benefit but costs a
I would like a serious discussion, please.

@_date: 2015-08-12 08:13:31
@_author: Apple Apple 
@_subject: [tor-talk] (no subject) 
because other priorities, such as the need to work on other features and
the code reasonably simple still outweigh the performance benefit from
Don't forget about security.
Is it worth having Tor run a little faster at the expense of complex multi
threaded code with more potential security vulnerabilities?

@_date: 2015-08-24 01:08:37
@_author: Apple Apple 
@_subject: [tor-talk] What's to be Done 
I don't have the means to watch this talk right now so I apologise if my
questions or comments have already been addressed.
While i agree with all of your points, I can't really see many of these
suggestions being taken up by Debian. Especially things like compiling
packages as pie or with asan(lol) or enabling significant grsec and Pax
options. These all come with a non-trivial runtime overhead and will
introduce usability and stability issues by design (I.e. processes will
crash or not start instead of continue in a potentially dangerous way.)
The problem is most users and developers (including the likes of Linus) do
not care at all about security but will hit the roof in rage if the system
is 0.1% slower or this buggy 30 year old Unix application does not work
Is it realistic to incorporate real security into such a mainstream distro
Debian or do we need to build/ fork a separate distro?
What is the actual plan to get these things done?

@_date: 2015-08-24 09:26:58
@_author: Apple Apple 
@_subject: [tor-talk] What's to be Done 
It's not a Debian specific problem. Even "Security Conscious" distros like
Fedora only build a dozen or so key packages with pic and ssp because of
performance concerns. Address sanatizor is obviously out of the question.
Then of course Linux does not have proper ASLR without 3rd party kernel
patches anyway making pie pretty pointless.
There is a good article out there on why rsbac does not use lsm, I
recommend you read it if you do not understand the current security vs
performance dynamic within Linux. You should also read up on the history of
Pax and ask why it is not in the mainline Linux tree.
For whoever asked about previous Debian specific attempts I suggest you
look into a project called mempo, now defunct of course.
Given what I've said above we return to my original point. No mainstream
distro, especially Debian, is willing to pay the cost (mostly performance)
for adding meaningful security. If your plan is to try to bulldoze all this
stuff into Debian testing, that's not going to work...

@_date: 2015-08-24 13:05:21
@_author: Apple Apple 
@_subject: [tor-talk] What's to be Done 
Thank you for your response this pretty much answers what I was asking.
Again, I apologise if these details were already covered in the talk.

@_date: 2015-08-24 13:15:13
@_author: Apple Apple 
@_subject: [tor-talk] What's to be Done 
above issues have already been addressed by the OpenBSD project.
I don't want to steer the thread away from the main topic but I think it is
fair to say that OpenBSD has problems too. An article titled the insecurity
of OpenBSD is a good read if you are interested.

@_date: 2015-08-27 00:55:50
@_author: Apple Apple 
@_subject: [tor-talk] IBM says Block Tor 
Blocking Tor does not change the fact that you have an SQLi vulnerability
(or whatever).
The problem is not Tor but the logic that dictates it is easier and cheaper
to ban a few IP addresses than to actually secure your shit.

@_date: 2015-08-27 04:42:06
@_author: Apple Apple 
@_subject: [tor-talk] IBM says Block Tor 
Any yooha can stick PHP on their resume and get a job writing web
applications. Personally I mark the problem down as sheer incompetence on
the side of the developers.
There really should be more focus on demanding higher quality software.
But I guess this is a very general problem across many industries; that
which saves us a little bit of money today is more important than the long
term benefit of the wider organisation, environment, society etc.

@_date: 2015-07-06 15:25:00
@_author: Apple Apple 
@_subject: [tor-talk] The Tor-BSD Diversity Project 
How is the project going?
Is it ready to use?
Do you need help?
Do you need testers?

@_date: 2015-07-09 01:41:44
@_author: Apple Apple 
@_subject: [tor-talk] pdf with tor 
I feel like the wrong issue is being discussed here; the real danger is not
really IP leaks. If you skipped Seth's post because of its length I suggest
you go back and read it.
If someone manages to trick your PDF viewer into running arbitrary code
with a malicious PDF file, that person may then have full control over your
machine and all your files, passwords, emails etc. In this situation Tor
cannot protect your privacy and anonymity anymore.
This is why the Tor project provides the stringent recommendation of
dedicating an isolated virtual machine to opening PDF files.

@_date: 2015-07-10 12:04:21
@_author: Apple Apple 
@_subject: [tor-talk] pdf with tor 
Well security vulnerabilities are basically bugs, that is, programming
mistakes, which a 3rd party can exploit to do things like crash or take
control of the system.
There are some mitigations such as Address Space Layout Randomisation,
Position Independent Code, Stack Smashing Protection, Mandatory Access
Controls etc. If you are interested in the technical details of how these
things work I recommend looking at the Hardened Gentoo documentation
I think the general problem is more political than technical. Unfortunately
no one really cares about security. Maybe it's because it can't be measured
easily, unlike other things such as performance. If a regular person
switches from OS A to OS B and their computer now takes twice as long to
boot up they are just going to switch right back - regardless of any
additional non-tangible benefits the latter may have, including security.
At the moment we're in a sad situation where OS vendors will only implement
watered down security controls so as to not harm things that customers
actually notice such as performance. For example Windows, OS X and Linux
all have some kind of ASLR so they can tick the box and say "yep, got that
shiny feature" but if one were to scrutinise the actual implementations
they are all woefully inadequate compared to the original Pax or OpenBSD
design. Here is an article illustrating the kind of attitude I mean
I think opening PDF files inside a virtual machine is not a bad way of
solving the problem. There are obviously practical limits stopping you from
having a VM for every application. If that idea of separating groups of
addictions into different virtual machines still intrigues you though then
you might be interested in the Qubes project.
I hope this information is helpful.

@_date: 2015-07-12 15:45:11
@_author: Apple Apple 
@_subject: [tor-talk] pdf with tor 
I agree. As long as the user is aware that converting a PDF file into
another format can be just as dangerous as simply opening it and takes
precautions then I think this is a good plan too.

@_date: 2015-07-13 01:10:53
@_author: Apple Apple 
@_subject: [tor-talk] pdf with tor 
document formats aren't any safer. You probably confuse pdf and PostScript,
which is more like a programming language.
No I think we are definitely talking about PDF files in this thread.
History has shown that whenever there is any kind of non-trivial parsing
involved with an application then there is a high risk of exploitable bugs.
Just look at how many CVEs get posted against things like web browsers,
packet sniffers, document viewers. Even things like compression
implementations and XML parsers have the occasional vulnerability.
PDF parsers have it particularly bad since the PDF format specification is
very big and complex and controlled by a single organisation which is
desperately trying to retain market share by piling on new features.
PostScript is something entirely unrelated. It is a way of describing the
layout of documents with words, like a very early CSS or Latex. I remember
claims about it being Turing complete but I think that this is in a similar
spirit to C++ templates being Turing complete. I have doubts over whether
it has enough IO capabilities to do anything malicious on its own.
You do raise an interesting point regarding embedded JavaScript inside PDF
files which can also be used to exploit vulnerabilities in the viewer. Many
PDF viewers will execute this code without the user even knowing about it.
If a PDF convertor ignores these embedded scripts then I think that is a
definite bonus point for Niels' conversion strategy.

@_date: 2015-07-13 14:16:24
@_author: Apple Apple 
@_subject: [tor-talk] evidence that Tor isn't "amoral"? 
If you are looking for what may be considered "legitimate" uses of Tor here
are a few threads you can follow.
There is obviously the anti-censorship side to it which applies to all
countries not just China.
Then there are "good guy" investigators who need to follow online leads
without tipping off the "bad guys" who is on to them. You can find a
reference of incident response investigators using Tor for this purpose in
a book called The Malware Analysts Cookbook. I have also heard stories of
Law Enforcement using Tor for the same reason but you will have to dig for
your own source on that. It's quite obvious really though, if I run an
illegal site, and I start seeing FBI IP addresses in my apache logs I will
know something is up.
And a popular theory on why Tor was originally funded by the US government
is that Tor may actually be used by the intelligence community. Spies are
generally not James Bond with 10,000 gadgets and a licence to kill and blow
up helicopters. They breath the same air as us, walk the same streets as
us, use the same computers as us and use the same internet as us. It is not
a stretch to guess that spies and their informants rely on Tor as well.
As this thread has probably shown you, everyone has different and sometimes
conflicting views on morality so you will need to tailor your answer to the
specific person asking the question if you want to keep him happy.

@_date: 2015-07-14 16:13:46
@_author: Apple Apple 
@_subject: [tor-talk] evidence that Tor isn't "amoral"? 
I'm sorry I don't understand what you are trying to say. The Tor project
does not have any political motivations or affiliations. You are free to
use the Tor network to pursue any goal and subvert any government you wish,
including the United States.
For example, the infamous silk road marketplace provided citizens a means
of trading illigal drugs and firearms. If you search through publicly
listed onion domains you will find plenty of conspiratorial and anarchist
material on explosives, poison, torture and guerilla warfare mixed with
copious amounts of antiamerican/antisemitic propaganda.
For me, supporting Tor is not about supporting *what* information people
share, it's about supporting the *principle* that people can share whatever
information they want.
I encourage you to not dwell on our differences of opinion but focus on our
mutual desire for anonymous, uncensored access to information, whatever it
might be.

@_date: 2015-07-15 10:43:23
@_author: Apple Apple 
@_subject: [tor-talk] pdf with tor 
You're right, I was thinking of troff. Even so, looking through the
language reference it does not seem particularly powerful. Maybe it can
delete some of your files but it can't make network connections or invoke
system calls.
a definite bonus point for Niels' conversion strategy.
In the interest of advancing the discussion it's probably worth finding
I think coderman was saying something about a conversion tool as well but I
didn't really understand it.

@_date: 2015-07-22 05:16:37
@_author: Apple Apple 
@_subject: [tor-talk] USB Sticks for Tails -> CCCamp 
Besides portability and perhaps, long long term cost, are there any other
advantages to this approach over write-once DVDs?

@_date: 2015-07-22 08:59:43
@_author: Apple Apple 
@_subject: [tor-talk] USB Sticks for Tails -> CCCamp 
And USB host controllers?
My point is are these read-only USB sticks just an effort to emulate an
already existing technology (DVDs) or is there some deeper reasoning that I
(and perhaps others reading this) may have missed?

@_date: 2015-07-23 02:27:40
@_author: Apple Apple 
@_subject: [tor-talk] USB Sticks for Tails -> CCCamp 
Interesting that Jacob gets a completely different standard of proof to me
but fine, I'll look into it. On the one hand USB is not a trivial protocol,
otherwise USB sticks wouldn't have microcontrollers. On the other hand
everything still goes through the CPU which is why USB is so much slower
than DMA alternatives. You might be right but forgive me for not taking
your word on it.
I don't think it is just that. Even if it is clean on purchase, after a
compromised Tails session it is theoretically a place to hide malicious
code to subsequently comprimise all future sessions.
I agree this is a radically different threat model. Tampering with the
Tails kernel or rootfilesystem at rest on a USB stick and tampering with
device firmware are completely different ballparks.

@_date: 2015-05-07 05:42:33
@_author: Apple Apple 
@_subject: [tor-talk] allowing javascripts and using bookmarks 
There are two issues I can think of from the top of my head.
JavaScript can be used to glean additional, potentially unique, information
about your system. This information can be used to identify you on
subsequent visits, just like a cookie. If you are logging into these
websites then they already know that you are you anyway.
However there could be an issue if these websites share this identifiable
information with a third party who can then recognise you when you visit
his site. This could be particularly bad if personally identifiable
information such as your name is connected to one of these sites.
I expect Tor browser tries to do something to limit the information
available to JavaScript but you should verify that for yourself.
Another issue with JavaScript is that it can be used to try and exploit
security vulnerabilities in your web browser and (if successful) run
malicious code on your computer.
I don't think it is the end of the world if you decide to enable
JavaScript, especially if it is just for a handful of services you really
I hope this information if helpful for you to understand the risks a little

@_date: 2015-05-22 05:42:15
@_author: Apple Apple 
@_subject: [tor-talk] someone doesn't like my IP 
I've found it possible to navigate most such websites with the help of the
hidemyass or ixquick web proxies.

@_date: 2015-05-25 13:22:40
@_author: Apple Apple 
@_subject: [tor-talk] Hola.org routes his vpn traffic over customers like 
It is very easy for website operators to download a list of all Tor exit
nodes and ban them unconditionally. Is the same true for this VPN service?

@_date: 2015-05-26 05:08:48
@_author: Apple Apple 
@_subject: [tor-talk] Hola.org routes his vpn traffic over customers like 
It is also worth mentioning that VPN operators typically have the ability
to log who does what and when. This makes it very easy for them to resolve
abuse complaints and turn over the offending parties to the relevant
Unfortunately many organizations feel that IP bans are their only option
when dealing with abuse originating from the Tor network - since there is
little else that can be done by design.
And as mentioned earlier it is very easy to pull down a list of current Tor
nodes and ban all the exits unconditionally - they are not even waiting
until an incident happens anymore.

@_date: 2015-10-01 05:15:34
@_author: Apple Apple 
@_subject: [tor-talk] How to write program that uses Tor network 
Asio is only a socket library which means you would need to build all the
Http logic on top of it, which is not very fun but everything you need to
know is documented in RFCs if you really want to go down that route.
The "best/ easiest" way would be to use a http library specifically for the
purpose of fetching webpages. Curl is a good one. To integrate Tor support
it is simply a matter of setting a SOCKs proxy, the same way you configure
a web browser to use Tor.
Make sure that your library contains an option to proxy DNS as well. If
fetching bing.com works but an onion site doesn't then you probably have a
DNS leak. Curl provides an option to fix this but it is not enabled by
This is not really related to Tor but are you sure C++ is the right
language for this? You will quickly discover that web developers have a
very easy life. Not a single one of them is capable of writing valid HTML
but browsers need to process it anyway (hence why there are so many bugs in
You can get kind of far using regular expressions. You can get kind of
further with libtidy and an XML parser. If you are serious though I would
recommend an alternative language such as ruby + nokogiri or python +
beautiful soup, at least to do the HTML parsing.
Of course you can always embed a parser written in another language into an
existing C++ code base (Python is easy, Ruby is harder but I have done it).
If you are still at the greenfields stage of the project you should think
about this early.
I hope this helps.
