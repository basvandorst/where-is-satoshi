
@_date: 2004-08-25 16:47:49
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: A small how-to - request for comments 
I wrote up a small guide on how to use Tor with various software a
couple of days ago.
The document is available at
Comments on typos, software missing from the guide etc etc are welcome.

@_date: 2004-08-26 16:12:04
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: A small how-to - request for comments 
Yes, I'll add it as soon as it has matured a bit.
I thought about that and figured that it's better that people use
Tor/tsocks than running around without any of them. I also tried to make fetchmail use tor-resolve before polling but it seems its not
possible to do so.
Something like
 poll %h with proto POP3
  	[...]
would be kind of nice...
I've added this to the page (guessing that most people dont read the Tor
design doc).

@_date: 2004-08-27 23:04:33
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Howto have moved to Wiki 
is the address
to the Wiki version of the guide I posted earlier.

@_date: 2004-12-08 04:59:12
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: BitTorrent - can it be blocked? 
Rejecting the default BitTorrent ports might help:
reject *:6881-6999
reject *:6969

@_date: 2004-12-13 18:09:25
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Running in middleman mode 
You dont have to, by default unverified nodes are accepted as
middle and rendezvous.  See AllowUnverifiedNodes in your torrc.
Getting your node verified is however recommeded, since it allows
your node to be used as an entry node as well.

@_date: 2004-12-30 02:04:38
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Tor network speed 
The basic requirement for running a server is to "have at least 20
kilobytes/s each way" and minimal packet loss, so everything above that
could be considered good. Tor isnt really meant for bittorrent or large
file transfers.
Web browsing is slowed down by Tor itself and then various applications
like Privoxy (filtering the website etc). If the speed issue to much to pay? Well, only you can answer that,
since it's about personal priorities.

@_date: 2004-11-12 01:26:53
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Bittorrent 0.0.9pre5 bundle 
metainfo file.: tor-009pre5-bundle.torrent
info hash.....: db548d338a67ee4aee9206f0c71b7b924c754a71
directory name: tor-009pre5-bundle
files.........: README (851)
README.files (335)
docs/INSTALL.linux (2573)
docs/INSTALL.windows (429)
docs/README.configuration (2080)
docs/README.privoxy (732)
linux/tor-0.0.9pre5.tar.gz (489264)
linux/tor-0.0.9pre5.tar.gz.asc (232)
linux/tor_0.0.8+0.0.9pre5-0.woody.1_i386.deb (636750)
windows/extra/Win32OpenSSL-v0.9.7e.exe (2231493)
windows/extra/privoxy_setup_3_0_3-2.exe (317135)
windows/tor-009pre5.exe (1073258)
windows/tor-009pre5.exe.asc (652)
archive size..: 4755784 (18 * 262144 + 37192)
announce url..:

@_date: 2004-11-12 11:50:41
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Bittorrent 0.0.9pre5 bundle 
Thanks for telling me, it did work when i posted to this list.
I'll have a look at it on sunday.
Here you go:

@_date: 2004-10-23 23:03:49
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Bittorrent 0.0.9pre4 bundle 
metainfo file.: tor-009pre4-bundle.torrent
info hash.....: a0af34bc0f2fe81fa351b3d5b138c066f9da89df
directory name: tor-009pre4-bundle
files.........: README (1128)
docs/INSTALL.linux (2573)
docs/INSTALL.windows (429)
docs/README.configuration (2080)
docs/README.privoxy (732)
linux/tor-0.0.9pre4.tar.gz (456508)
linux/tor-0.0.9pre4.tar.gz.asc (232)
linux/tor_0.0.8+0.0.9pre4-1.woody.1_i386.deb (571840)
windows/extra/Win32OpenSSL-v0.9.7d.exe (2388157)
windows/extra/privoxy_setup_3_0_3-2.exe (317135)
windows/tor-009pre4.exe (1003613)
windows/tor-009pre4.exe.asc (652)

@_date: 2004-09-02 00:43:49
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Open Proxy Monitors 
Well, that isn't to hard as shown in a previous post.
This is a problem created by politicians and there's not much one can do
about it.  If the goverment decides to crack down on  hosts serving Tor,
Mixmaster or whatever, the ISPs will most likely do so. The only defense
against this is to setup as many ORs in as many different countries as
possible.

@_date: 2004-09-13 17:43:37
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: An idea on proxy monitors and TLD entries 
An idea how to support country specific exit nodes and how to prevent
open proxy monitors.                                                     The information in the router list is changed from
        router (Name) (IP address) (Ports)
        router (Name) (Onion address) (Ports) (TLD)
This is to prevent easy blocking of known Tor routers.
It is of course still possible to block routers, since the target sees the IP adress of the last router.
The last entry is the top level domain of the country or region (not .edu, .gov, .org or similar) where the router is located.            The reason to include the TLD is that it gives the user the option of selecting exit and entry nodes based on the physical location and also the possibility of choosing an region or country which should never
be used to route traffic through. Since the user trusts the routers to tunnel traffic, it's reasonable to trust the administrator to enter the
correct TLD.

@_date: 2004-09-01 20:25:55
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Limiting possible last hops 
Have a look at "exitnodes nickname,nickname,...
      A list of preferred nodes to use for the last hop in the circuit,
      if possible."

@_date: 2004-09-30 14:44:16
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: (FWD) Tor, Socks bind, and BitTorrent 
Setting ut a hidden tracker isn't a problem.
It's the first peer that is. (I use $HTTP(S)_PROXY, thats why tsocks isnt called before the commands)
Edit /etc/tor/torrc just as you normally would:
HiddenServiceDir /etc/hidden_services/bittorrent/
HiddenServicePort 6969 127.0.0.1:8000
Get the onion-address and build the metafile in the dir with the files: btmakemetafile tor-0.0.8.tar.gz Stay in that directory and start the tracker:
bttrack --port 8000 --dfile torrent.log &
Create the first peer:
btdownloadcurses --url  Now, this is the problem. Somebody has to be the first peer and that
one, by the looks of it, has to be running on the machine with the tracker until there are other peers available. Correct? Last but not least we test with an external BT (behind firewall and
btdownloadcurses --url  --ip XXX.XXX.XXX.XXX I also tested setting up a webserver (onion-address of course), fetching
the file directly so that a machine not running the tracker got a
complete copy and started btdowloadcurses as normal. btdownload didn't
complain but i couldn't get the machine to be the first peer.
Am I missing something?

@_date: 2004-09-01 22:48:14
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Open Proxy Monitors 
Yes, some freenode servers has already started doing this.
Will probably happen is people start using Tor as a way to flood channels or just making the work of channel operators work so  much harder.
I'm no expert about IRC so correct me if i'm wrong, but the problem with IRC for example is that it bans hosts. This is of course easily bypassed
with the help of Tor and there is not much to do about it (from a IRC
server admin pov) besides banning the exit nodes.
SILC [1] is using a more sensible approach in my opinion, the Client ID, nickname, username, host name and/or public key may be used to ban
someone.  [1]

@_date: 2005-04-24 13:16:35
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: both my servers crashed 
Could you check the date (created, accessed, modified etc) on the unwanted binaries and compare it with your tor log?
Any general system logs available?
What was installed, except the known software?
Was your AV up to date?

@_date: 2005-04-27 01:50:26
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: silky and tor 
It's not as bad as it sounds, according to
a Client ID is defined as follows:
"128 bit Client ID based on IPv4 addresses:
32 bit  Server ID IP address (bits 1-32)
 8 bit  Random number or counter
88 bit  Truncated MD5 hash value of the nickname
o Server ID IP address - Indicates the server where this
  client is coming from.  The IP address hence equals the
  server IP address where the client is connected."

@_date: 2005-04-13 22:35:23
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: begginer at Tor 
On *nix you send a signal with the "kill" command, no idea how that
works under Windows.
The most useful logs are created with Debug.
If you're running 2000 or XP I would recommend that you look up how
Group Policy Objects and that sort of thing works for some basic
hardening. The NSA has some good guides at
And as always:
Use WindowsUpdate (set on automatic)
Read

@_date: 2005-08-20 23:38:06
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: tor w/ dansguardian & squid on remote box? 
Have a look at for a few good pointers.
I haven't used DansGuardian but one possible setup is Client(s) -[ openvpn ]- Gateway

@_date: 2005-12-20 18:46:30
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: We have a new Windows Tor installer 
Broken config:
Microsoft Windows XP [Version 5.1.2600]
(C) Copyright 1985-2001 Microsoft Corporation
C:\Documents and Settings\thomas>cd c:\program\tor
Dec 20 18:22:53.531 [notice] Tor v0.1.0.15. This is experimental
software. Do not rely on it for strong anonymity.
Dec 20 18:22:53.546 [warn] config_assign_line(): Unknown option
'SocksListenAddress'.  Failing.
Dec 20 18:22:53.546 [err] tor_init(): Reading config failed--see
warnings above.
 For usage, try -h.
 C:\Program\Tor>
Diff attached.

@_date: 2005-02-16 23:30:24
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Tor hogging cpu 
I havent had any cpu problem after upgrading to 0.0.9.4 (almost never
before either).
Tor client:
Debian Unstable
Kernel: 2.6.10+sa2+grsec (with ACL enabled)
PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND  5555 debian-t  16   0  8540 6028 3580 S  0.0  1.3   1:09.50 tor  Tor server:
Debian Testing
Kernel: 2.4.29+grsec
PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND           9441 debian-t  17   0 13276  12m 2780 S  0.7 10.7 557:18.21 tor

@_date: 2005-01-24 22:06:17
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: TOR DNSBL - blacklist for Tor servers 
Some EFNET irc-server has started using a Tor blacklist.
From "Since nobody can control which ports are allowed on the exit servers
(the tor project itself denies smtp by default, but this can be changed)
it's a potential risk that someone abuses the tor network to hide his ip
while he's spamming around. Currently we list two types of hosts:
- IPs running a tor server itself
- Class C Networks they include a tor server
To protect yourself or your service against abuse from tor users, you
can use our DNSBL. Currently we just see some use of this list for a
few services like IRC Networks using BOPM. Since only a few nodes allow
outgoing SMTP connections, the usage of this list by smtp servers is
probably low."

@_date: 2005-06-12 16:04:07
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Tor Hardware Router (Tor in a box) 
Have you (or anyone else for that matter:) tried out the VIA C3 or C7

@_date: 2005-06-03 17:45:25
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: securing remote access to privoxy with OpenVPN 
If you dont set a listen-address Privoxy should bind to all interfaces,
including the TUN/TAP
Have a look at EntryNodes and StrictEntryNodes in the man file.

@_date: 2005-06-12 17:18:43
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Tor Hardware Router (Tor in a box) 
Yeah, thats a bit to hot.
Whats the load on that server? Have you compared it to a "normal" chip?

@_date: 2005-06-16 00:37:10
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: your mail 
It means /dev/null wasnt created by the tor-chroot script, the line is
mknod -m 0666 $CHROOTDIR/dev/null c 1 3
I run the scripts on Debian and haven't had any problems with them, they
are not tested on any other distribution or operating system so using
them on something other then Debian might be a gamble.

@_date: 2005-06-16 01:20:41
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: chrooting tor 
That's because the script doesn't remove anything, it just copies files
basically.

@_date: 2005-03-23 20:23:54
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Announce: ELE-0.0.2 released 
What is ELE?
ELE is a bootable Live CD Linux distribution with focus on privacy
related software.
It is based on Damn Small Linux and aims to be (obviously) as small as
possible. The first release was 65M, the current one 61M.
What does it include?
Irssi, Gaim, Dillo, Firefox, SSH, VNCviewer, Xpdf, most of the standard
Linux apps like wget and vi. It uses the Fluxbox window manager. Everything,
except VNCviewer at the moment, passes thrugh Tor. When using Dillo or Firefox
scrubbing is done by Privoxy and the Google search engine has been replaced by
More information is available at
Changelog for 0.0.2 (050323)
- Added NTPdate
- Possible to create and run a Tor server
  (menu -> System -> Daemons -> Torserver)
  Needs testing
- Xvkbd, a virtual keyboard, installed for those hardware
  keylogger moments
- Dillo has replaced Firefox as default browser
  Doesn't support SSL/TLS or CSS but its fast, small and got a very nice privacy policy
  Uses Scroogle instead of Google
  Runs of course through Privoxy and Tor
- Firefox
  Not installed by default, but can be installed though the menu
  (menu -> Apps -> Net -> Firefox)
  Upgraded to Firefox 1.0.1, actually smaller than the previous one
  To bad we need Pango and since that screwed things up the flashplugin was
  enabled just for the sake of it
  Some tweaks done, taken from - SSH runs through Tor thanks to connect
- VNCviewer runs through SSH, but not Tor
- Cleaned up the menus showed by pressing f{2,3} at boot
- Fixed "modules.conf is newer then modules.dep"
- Removed mount.app
- Removed some orphans
- Remove BitchX. Install Irssi.  Get 4M for free
- Removed man-files and documentation. Waste of space
- Removed NFS from cpanel since its not installed

@_date: 2005-03-23 23:31:36
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Announce: ELE-0.0.2 released 
Since ELE is pretty much useless without a Internet connection I see no
reason to use up loads of space when most man pages can be found at
pages like

@_date: 2005-03-24 00:54:23
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Announce: ELE-0.0.2 released 
Hopefully my last image was around 61M.
Since my goal is to bring it down to the original 50M, a few mega bytes
is a pretty big deal.

@_date: 2005-03-24 00:56:27
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Announce: ELE-0.0.2 released 
True, but if your nic isn't supported or the module isn't loaded something
needs to be fixed.
I assume that if you need to set a static ip you know how to do this.

@_date: 2005-03-24 20:23:56
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Announce: ELE-0.0.2 released 
if people wants to build their own version they are of course free to do
so but theres no need for a ELE repository. This thread basically goes thru the steps of creating your own:

@_date: 2005-03-29 01:21:42
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: portable tor? 
Why not install Tor like you normaly do on the mounted usb drive?
Just check the torrc so everthing points to the drive.

@_date: 2005-03-10 00:18:56
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Announce: ELE 0.0.1 
What is ELE?
ELE is a bootable Live CD Linux distribution with focus on privacy
related software.
It is based on Damn Small Linux and aims to be (obviously) as small as
possible. The first release is 65M.
What does it include?
BitchX, Gaim, Firefox, SSH, VNCviewer, Xpdf, most of the normal Linux
apps like wget and vi. It uses the Fluxbox window manager. Everything,
except SSH and VNCviewer at the moment, passes thru Tor. When using
Firefox scrubbing is done by Privoxy and the Google search engine has
been replaced by Scroogle.
More information available at

@_date: 2005-03-12 17:00:32
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: reconsidering default exit policy 
Everyone running a server is of course free to change the exit policy.

@_date: 2005-03-15 00:13:59
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: reconsidering default exit policy 
Maybe I'm naive but I assume that people read at least the torrc, they
have to since they wanted to edit the server option.

@_date: 2005-03-16 00:38:01
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Announce: ELE 0.0.1 
Nope, there isnt a firewall included. I havent tried any extensions so I
dont know, but since ELE isnt that different from DSL I see no reason
why it shouldn't.

@_date: 2005-03-16 13:47:10
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: reconsidering default exit policy 
Personally, I dont think blocking port 80 or 6667 should be default and
that your text is a bit to much info to add to the torrc.
A notice on where to find the default exit policy has been added to torrc in the cvs (
What dou you think of adding another example?
 reject *:80 # deny http, otherwise use the default policy

@_date: 2005-03-17 02:53:43
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: reconsidering default exit policy 
Port 80 (HTTP or plain web browsing) is the most common usage for
 Tor, accepting traffic over this port might however get your server
 blacklisted from various websites. If that happens, uncomment the
 following line.
 *:80

@_date: 2005-05-19 23:44:21
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Translations of web page 
you can view the current translation status to german at

@_date: 2005-05-23 01:15:11
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Living without Privoxy 
You can use policies in Firefox to disable javascript and create a
whitelist of sites:
Add the following to user.js in your profile directory, you might need to
create the file. The following code will allow cnn.com and bbc.co.uk to
use javascript and disable it for any other site. [0]
# javascript whitelist
user_pref("capability.policy.policynames", "whitelist");
user_pref("capability.policy.default.javascript.enabled", "noAccess");
user_pref("capability.policy.whitelist.sites", "
If you don't like manual editing, you might be interested in NoScript[1]
[0]  or
[1]

@_date: 2005-11-08 17:08:40
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: openbsd 3.6 installation from stable source (0.1.0.15) 
Have you tried compiling it without setting the prefix and following the
INSTALL file?
I've uploaded a port and package for 0.1.1.8 and libevent to  Runs nicely on 3.8-current, buts the package/port is nothing fancy.

@_date: 2005-10-05 23:20:14
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: Handbook for bloggers and cyber-dissidents   
Reporters Without Borders (Reporters sans fronti?res, RSF) has
released a "Handbook for bloggers and cyber-dissidents":
Topics include:
  	How to blog anonymously
From the chapter "How to blog anonymously":
"Step five - Onion Routing through Tor
Given the complexity of the technology, Sarah is pleasantly surprised to
discover how easy it is to install Tor, an onion routing system. She
downloads an installer which installs Tor on her system, then downloads
and installs Privoxy, a proxy that works with Tor and has the pleasant
side benefit of removing most of the ads from the webpages Sarah views.
After installing the software and restarting her machine, Sarah checks
noreply.org and discovers that she is, in fact, successfully "cloaked"
by the Tor system - noreply.org thinks shes logging on from Harvard
University. She reloads, and now noreply thinks shes in Germany. From
this she concludes that Tor is changing her identity from request to
request, helping to protect her privacy.
This has some odd consequences. When she uses Google through Tor, it
keeps switching language on her. One search, its in English - another,
Japanese. Then German, Danish and Dutch, all in the course of a few
minutes. Sarah welcomes the opportunity to learn some new languages, but
shes concerned about some other consequences. Sarah likes to contribute
to Wikipedia, but discovers that Wikipedia blocks her attempts to edit
articles when shes using Tor.
Tor also seems to have some of the same problems Sarah was having with
other proxies. Her surfing slows down quite a bit, as compared to
surfing the web without a proxy - she finds that she ends up using Tor
only when shes accessing sensitive content or posting to her blog. And
shes once again tied to her home computer, since she cant install Tor on
a public machine very easily.
Most worrisome, though, she discovers that Tor sometimes stops working.
Evidently, her ISP is starting to block some Tor routers - when Tor
tries to use a blocked router, she can wait for minutes at a time, but
doesnt get the webpage shes requested."

@_date: 2006-02-23 07:32:18
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: How-To route other protocols through Privoxy (e.g. IRC) 
See  for
instructions on how to use Irssi and Privoxy.
See

@_date: 2006-06-13 13:04:34
@_author: =?ISO-8859-1?Q?Thomas_Sj=F6gren?= 
@_subject: Firefox extensions and anonymity, TOR etc 
Haven't actually tried that one, but NoScript (
got an flash/java block option plus many other nice features.
At  there's a guide
how to remove the default white list.
Besides noscript (and privoxy of course) I use:
AdBlock - CustomizeGoogle - Scroogle search bar plugin -

@_date: 2006-03-10 19:21:45
@_author: Thomas =?iso-8859-1?Q?Sj=F6gren?= 
@_subject: DNS leak check 
If you're seeing this in your logs, DNS requests is being leaked.
[warn] fetch_from_buf_socks(): Your application
(using socks5 on port xxxxxx) is giving Tor only an IP address.
Applications that do DNS resolves themselves may leak information.
Consider using Socks4A (e.g. via privoxy or socat) instead.  For more
information, please see
