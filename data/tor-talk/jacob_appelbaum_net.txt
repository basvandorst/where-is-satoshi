
@_date: 2006-05-10 12:02:23
@_author: Jake Appelbaum 
@_subject: TorPark mentioned on BoingBoing 
It's perhaps important to describe what you're talking about.
Torpark is a single executable binary (Torpark.exe).
When run, it expands and creates a folder with Firefox, Tor, various
plugins and some other files.
That isn't the issue here. That in itself is a pretty neat idea and
kudos to the person who came up with such a grand idea. It seems like
when done correctly, it's a powerful tool.
What seems to be the root of the issue is the so called "source"
tarball. Namely, the above binary distributes Portable Firefox, Firefox,
Tor and some various plugins.
The source tarball (source_torpark_1.5.0.2b.tar) contains these files:
Torpark.gif  TORPARK_LICENSE.doc FIREFOX_LICENSE.doc Torpark.ico
Torpark.nsi PORTABLEFF_LICENSE.doc Torpark.ini
It is not enough to merely link the front page of Torpark to the
websites of the other software. The source tarball should probably
include at the least a copy of the tor license. The other software may
or may not need a source code mirror depending on build information.
As there is currently no information on how the build was created. I
know that it uses the Nullsoft installer but I don't know how the
included tor binaries or the firefox binaries were built and packaged
before the Nullsoft installer packaged it.
Without that information and without including the licenses, it seems
rude. It's fishy at best.
It doesn't help when the author makes statements like this:
"With the NSI file, and providing a gif image for the splash screen, it
will fully compile Torpark.exe. I can provide the torpark splash screen
image, but you might not be able to get the same hash because NSIS
compiler has different compressions. I believe the one I used was LMZ
( as taken from a small thread on bb  )
So if we're told how the build environment is created, we still might
get different checksums? Huh?

@_date: 2006-10-12 18:19:56
@_author: Jacob Appelbaum 
@_subject: Tor-compatible secure email systems 
Why would you trust the freenigma people with your secret keys?
This article by Ben Laurie sorta sums it up nicely:
"Oh dear. So freenigma can decrypt my mails (and anyone else they care
to give the session key to). What?s more, it looks like they have your
private key, too, so they can impersonate you.
They don?t say how you decrypt, but I presume the story will be
described with the same disingenuousness: no, you don?t send your
encrypted mail to the server, just send us the encrypted session key and
we?ll decrypt that for you. How comforting. Not."
 (google cache:
It would be ideal to use something like this when it's available:

@_date: 2006-10-17 22:20:21
@_author: Jacob Appelbaum 
@_subject: "Practical onion hacking: finding the real address of Tor clients" 
Hi *,
Fortconsult wrote this and it may be of some interest to people on this
And then of course there is this:

@_date: 2006-09-05 11:22:27
@_author: Jacob Appelbaum 
@_subject: Earthlink's broken DNS affecting Tor nodes? 
(Disclaimer, I work for OpenDNS.)
If you're using OpenDNS, you disable all that stuff when you visit the
preference page:
If you do that you'll get zero unexpected recursive dns behavior.
Jacob Appelbaum

@_date: 2006-09-11 16:27:38
@_author: Jacob Appelbaum 
@_subject: hidden services spoof 
You're not going to get a better way to validate trust than a pgp
signature. If you don't trust the tor signing release keys, you
shouldn't trust the code they're signing.
Some random .onion address given over a mailing list isn't a secure way
to verify anything. Someone can compromise the server on the other end
of the .onion address.
It sounds like you're building an automatic updater for your system.
I suspect that you should be very careful as you're introducing a method
for automatically downloading binaries and potentially running untrusted
You need to verify the pgp signature of builds just as you would source
code before building.
At the cost of repeating what Nick said, you're verifying pgp signatures
already already, right?
Jacob Appelbaum

@_date: 2007-12-02 23:35:49
@_author: Jacob Appelbaum 
@_subject: Reducing java leakage in windows 
I remember these tests. I can't seem to find a copy of the applets you
used. Are you willing to publish them? Or point me in the right
direction should I want to try implementing them?

@_date: 2007-02-05 18:05:43
@_author: Jacob Appelbaum 
@_subject: Problem downloading new Torpark 
Now might be a good time to chime in with yet another request:
How about asking the author to GPG/PGP sign the binary release?
If people are looking for this software on a p2p network, they're asking
for trouble.

@_date: 2007-01-15 02:28:04
@_author: Jacob Appelbaum 
@_subject: Block directory authorities, is it possible? 
It's funny. Looking at the codebase for both, it would almost seem this
should be the other way around.
I wonder if it's just an oversight that tor.eff.org hasn't been blocked
in your case?
How does the blocking with your ISP work? Do you get a generic reject
page telling you the service is blocked? Do you get TCP resets?
Jacob Appelbaum

@_date: 2007-07-16 14:05:58
@_author: Jacob Appelbaum 
@_subject: [Fwd: MSIE7 entrapment again (+ FF tidbit)] 
The last bit of this email might be useful to someone trying to track
users data across circuit sessions. Yet another reason to cull cookies
and to disable javascript.
-------- Original Message --------
Hello again,
Microsoft Internet Explorer seems to have a soft spot for browser
entrapment vulnerabilities. Just to recap, in these attacks, the user is
made believe he had left a webpage (and the URL bar or SSL state data
reinforce him in this belief) - but in reality, is prevented from doing
so, and his browser continues to display assorted content originating from
the attacker.
This is a close, but somewhat more sinister relative of vanilla URL bar
spoofing. I reported a few of each kind in the recent months.
Well, here's another one, this time based on document.open() calls. In
essence, repeatedly calling this function after a new URL is entered by
the user, before onBeforeUnload is invoked, inhibits page transition - but
target URL bar state is retained. This is remarkably silly.
A live demo is available here:
That is all.
PS. The promised tidbit - since I'm leaving for a while and won't have
time to research this - in Firefox, javascript: windows can set
'domainless' cookies by specifying 'domain=.' - for example:
  open("javascript:document.cookie='foo=bar;domain=.'","_blank");
Fortunately/unfortunately, these cookies do not get sent to all sites - no
session fixation - though can be retrieved by other null-domain
javascript: / data: pages. Specifying other domains won't work. Multiple
periods will be trimmed. Path can be set arbitrarily, with certain
exceptions. Null-domain cookies load properly when stored in cookies.txt.
Q: can this be used in a manner more sinister than merely facilitating
exchange of "markers" between various user-tracking sites?

@_date: 2007-07-10 17:50:34
@_author: Jacob Appelbaum 
@_subject: Next news from Germany 
I'm sorry to hear that you're having trouble.
I have a copy of this website now. If you want to have someone else run
it, I'd be happy to host it. With or without the domain.

@_date: 2007-07-10 18:22:48
@_author: Jacob Appelbaum 
@_subject: Next news from Germany 
It seems that way. I run more than one node in Germany and I don't have
a problem. It's a sad state of affairs that people are being forced to
shut down their nodes. I'm sorry the police are questioning you, I do
hope that they'll eventually understand that they have nothing to gain
by doing this.

@_date: 2007-07-10 18:27:28
@_author: Jacob Appelbaum 
@_subject: [Fwd: SpyBye 0.3 released] 
This may be of interest to some people on this list.
-------- Original Message --------
SpyBye 0.3 was released today.  A major new feature is that SpyBye can be
used as a regular web proxy, for regular web browsing.  SpyBye still
all content automatically, but it happens in the background.  Whenever,
dangerous content is encountered, a warning notification is shown in your
browser that links to an in-depth analysis of the web page.
Proxy mode allows web masters to quickly browse over their sites to detect
malicious content, but it also allows users to protect their systems by
using SpyBye as their proxy.  The number of warning notifications
encountered by normal browsing may come as a surprise.
You can find the blog entry at
 and source code for download at
 Let me know if you have any feedback.
 Niels Provos.

@_date: 2007-07-10 23:52:54
@_author: Jacob Appelbaum 
@_subject: Next news from Germany 
As I understand it, Frankfurt and Berlin are nice places to run a server
or two.
They can't win that battle. Tor is already adapting to stop blocking and
this has an added benefit, it makes a great deal more nodes to seize.
I'd like to make a comment about living in a free country but I've yet
to really find one. I have some protection under the law but I realize
that it's only as good as my ability to pay for lawyers.
This sounds like you need to ensure your government doesn't take this
route. Or find a strong economic case for anonymous communication.
I want to doubt you but I think it's possible. A serious crackdown could
happen to a specific piece of software or protocol. It happened in Japan
with Winny, right?
I think that Tor is different but only time will tell.

@_date: 2007-11-15 16:29:02
@_author: Jacob Appelbaum 
@_subject: Soliciting Opinions on xB Browser "How To Build"  doc 
I suggest you use an automated build system. Make[0] should do the job.
Basically all modern software projects are built with some sort of build
system, it's probably a good idea to use something that everyone can
acquire and use for free.
[0]

@_date: 2007-11-15 17:42:54
@_author: Jacob Appelbaum 
@_subject: Tor on the OLPC? 
I just purchased one of the OLPC laptops that's shipping in theory
before next year[0].
I'm curious if anyone has gotten Tor installed and running on an OLPC?
It seems like it could be a very useful device for running Tor on.
Because of the built in mesh wireless, I imagine it would be possible to
setup a Torified Wireless network anywhere one goes...
[0]

@_date: 2007-11-15 19:23:27
@_author: Jacob Appelbaum 
@_subject: Soliciting Opinions on xB Browser "How To Build"  doc 
Every successful software project I can think of uses an automated build
process of sorts. If you make UI changes, they will eventually find
their way into a file. How to modify these things isn't something you'd
need to place into an automated build process. It's something you'd want
to put into another document. Your default settings are the files left
after tweaking things to fit your desires. Build your project in an
automated way around files that are already created properly. What you
ship is what needs to be automated. This allows someone to take your
shipped binary and validate your claims.
If you're using subversion, you can easily make a single subversion
server that uses external subversion repositories. This means that you
can have Tor and other projects automatically pulled for a specific
given revision. It should result in something stable without having to
specifically release any code from those projects. This is useful
because it means that users would be getting the source of those
projects from their main distribution points and not you.
Make is very useful though it might not fit your needs because of your
desire to build the software on windows. However, it seems that you're
using lots of software that depends on it for building anyway.
Have you considered trying to make this work with cygwin and automating
everything in simple terms? Once you have something simple, you can
build something more complex.

@_date: 2007-11-08 00:57:53
@_author: Jacob Appelbaum 
@_subject: Security concerns/help me understand tor 
I run a few services on the net. I like the idea that if I run a Tor
server on the same machine (on the same interface, with the same IP) as
my service, people using Tor will prefer my node as their exit node.
This allows me to provide services indirectly to the Tor network without
very much effort. Smart routing is neato. This is a feature and a pretty
neat one at that.
I didn't know about your IRC discussion however, I think you should
disclose the results of your research to tor-assistants at torproject.org.
I'm sure it would be appreciated and everyone would be keen to hear more
about it.

@_date: 2007-11-08 15:54:52
@_author: Jacob Appelbaum 
@_subject: Security concerns/help me understand tor 
I agree that you don't want someone to mess with my admin page. I don't
have an admin page, I have a service.
I think that it's a feature that in your presented case has an
unintended consequence. It's not as useless as you think. Furthermore,
it's *not* a hidden service. Hidden services are often slower than any
other Tor network function. You could *also* use a hidden service if you
wanted but that's not the same thing.
Something useful you could do with the exit enclave:
Run a mixmaster server
Run Tor with the ability to exit to your mixmaster server
Now all people who can use Tor could use mixmaster, even if mixmaster
was blocked and without exiting through a node you don't trust.
( Yes, I realize you could possibly exit and use the mixmaster network
without this setup. And yes I realize that mixmaster is able to be
observed without worry, I think this setup is useful anyway. )
Exit enclaves aren't .onions. They're two different things. They're also
used differently and with different threat models. Furthermore, one is
very reliable and the other isn't always so reliable at times. It's also
a known and documented issue.
Do you also think Tor should automatically block access to all RFC 1918
address space unless otherwise enabled? Why should Tor be so automatic
about your specific preferences?
(To be clear, I'm not trying to downplay the usefulness of hidden
services or say that they're implemented poorly. I like them. I use one
on a daily basis for the TorDNSEL.)

@_date: 2007-11-08 17:39:05
@_author: Jacob Appelbaum 
@_subject: Security concerns/help me understand tor 
There are two issues. One is the concept of exit enclaves and another is
privileged authorization based on a specific source ip.
Regarding enclaves, an option for operators might be nice. You seem to
think that it is very important to disable this type of preferential
routing. I disagree. Still an option would allow people to address what
you're discussing.
Such an option could be:
DisallowExitEnclave True
This means that servers would operate as they do today and people could
address that issue if they care to do so.
It makes sense to me that the option would only address the issue of
exit enclaves. I'd personally like to see exit enclaving enabled as it
is today.
With that said... As it stands today, any operator can modify their exit
policy if they want to effectively disable exit enclaving. Modification
to the exit policy would probably also address the unintended
consequences you've voiced concern about.
Regarding the second issue of privileged authorization based on source
ips, Tor can't solve this problem.
It's outside of the scope of the the Tor server itself. Furthermore it's
possible that it's *intended* and the method of blocking would draw
attention. If you take issue with this, contact the node operators in

@_date: 2007-11-08 17:42:28
@_author: Jacob Appelbaum 
@_subject: Security concerns/help me understand tor 
You forgot to address the above comments that you quoted. It has
relevance to the next question you did address.
I think that's the case right now. Perhaps you could share some of your
finding to help people understand your concerns?

@_date: 2007-10-26 11:57:37
@_author: Jacob Appelbaum 
@_subject: Firefox IPv6 Anonymity bypass 
I'm sure you've learned a great deal in the process of building Torpark.
 Have you ever documented why you've made these choices and explained
them to the or-talk lost or Tor Developers privately?
I think your contributions would be very valued if you only shared them
in a constructive manner. Your message comes across as smug and counter
productive. What are you trying to accomplish?
With that said, I think your setup is still vulnerable to ipv6 leaks. I
 think that an attacker would merely have to list an ipv6 address rather
than a name. Something along the lines of:
If you think this to be incorrect, perhaps you could share why? Does
Firefox properly proxy ipv6 requests through Tor? Have you tested this?
How did you test it?

@_date: 2007-10-31 16:08:55
@_author: Jacob Appelbaum 
@_subject: some civically irresponsible exits? 
I don't see this as a problem at all. I see it as totally responsible.
Some exit node operators allow outgoing port 25. They probably also
allow port 6667, port 80, port 443, etc. Any and all of these ports can
be abused.
Mail admins that want to block Tor from sending possible email to their
servers can easily use the TorDNSEL:
I run that server and if you're in need of help using its features, feel
free to write me. Tup wrote the Haskel that's powering it and it's been
running fine for months.
A mail admin should assign a score based on the results of an exitlist
rbl test. Hopefully they won't just throw it away. I hear people use it
for the same reasons that people use any other exit port.

@_date: 2008-08-15 19:26:33
@_author: Jacob Appelbaum 
@_subject: Mapping the physical locations of Tor nodes 
I've been thinking about the physical distribution of Tor nodes around
the world. I wrote a really simple parser that does geo-ip lookups of
public servers and plots them on a map.
If you're interested in seeing almost all of the Tor servers on a global
map, check it out here:
As an extra effort just because it's a small dataset, I also tried to
map all of the mixmaster servers:
If anyone has any interest in this, I'll probably automate it and put it
up somewhere else.

@_date: 2008-08-16 00:09:11
@_author: Jacob Appelbaum 
@_subject: Mapping the physical locations of Tor nodes 
Hi Bryan,
Is any of your code available? I'm using the geoip database from
MaxMind[0] and it's showing the same distribution as some of your images.
Which GeoIP database are you using to identify nodes in Africa?
[0]

@_date: 2008-08-16 18:45:48
@_author: Jacob Appelbaum 
@_subject: Mapping the physical locations of Tor nodes 
I'd be interested in seeing your code. The one thing that's lacking from
static images is useful metadata. The nodes you plotted in Africa are of
interest to me but it isn't possible to extract information about them
from the image. So the map is nice but the map doesn't help me to
understand a lot about the nodes involved. In the end, it's just a bunch
of dots and I can't easily verify node information that the geoip system
gave the map maker for their plotting...
Part of the reason that I used google maps was just to make it work
'quickly' and the other reason was to ensure that it was interactive. I
think my implementation is useful for data visualization and basic
interaction. I tested that it works over Tor with Torbutton in Firefox
for people who don't trust freehaven or google. :-)
Here's an updated URL that runs an update of the xml file every 5 minutes:
I used hostip at first and I found that it was unable to locate more
than one third of the nodes. As a result, I switched to maxmind because
it is easy to use and fast (local database vs. network). A combination
of both might be useful, I'm not entirely sure of the benefit. As it
stands, I have a list of 1050 routers (Tor v0.2.0.30 (r15956)) and 1050
of them are plotted somewhere on the map. I know a number of nodes are
simply lasted as 'cityname, country' or 'country' which is really not as
useful as it could be.

@_date: 2008-08-21 00:45:40
@_author: Jacob Appelbaum 
@_subject: xB Mail: Anonymous Email Client 
It's appropriate to repeat it because you're spamming this list again
with your ideas about licensing. You continue your attempts to ride on
the coat tales of the Free Software and Open Source licenses that came
before you.
*The TESLA software license is neither 'open source' or 'free'/'free
software' as people commonly understand those terms.*
It's absolutely reasonable to point out that the TESLA license isn't
what it purports to be. Get an OSI certification on the license and then
call it 'open source' software. He's not telling you how to license your
code. He's telling *other people* what your code license isn't. You're
misusing terms they're familiar with and it's fair to let people know
the history behind your misuse of the terms. The posts speak for themselves.
You're crossing the line here. Seth isn't embarrassing the EFF. He's
pointing out that you're misusing the terms you throw around without
fully understanding them. As an EFF supporter, I certainly find his
behavior to be reasonable. Stop misusing those terms and people will
stop calling you on it. It's a factual debate and the facts aren't on
your side.
People might. When you find them, please start a mailing list so that
people who care will sign up and then they can read all about it.
This kind of discussion doesn't belong on or-talk anyway.
To be clear, it's not because of your licensing that the emails aren't a
fit. Your licensing is just a hilariously bad mistake. One that you keep
repeating to the same crowd of people you ask for advice (that you never
seem to take). Over and over and over again. I'm sick of it. I'm also
not interested in you attacking Seth because you do not comprehend Free
and Open Source licensing terms.
To be clear, your xB* software doesn't belong on or-talk because it has
next to nothing to do with Tor. If you configure a mail client to use
Tor, no one else needs to know about it.
Please stop spamming or-talk with details of your software projects.
Please take the discussion somewhere else.
Pretty pretty please,

@_date: 2008-08-21 05:11:28
@_author: Jacob Appelbaum 
@_subject: xB Mail: Anonymous Email Client 
Actually that's just what you did when you replied to Seth and that's
just what you're doing in the paragraphs below.
Stop wasting our time debating the meaning of specific software
licensing terms.
It would be reasonable to say that many people don't understand software
licensing. You are clearly one of those people.
Please consider learning about Free and Open Source software licensing
These are the definitions used by people who write software on this
list. You seem to be the exception as far as I've read.
Sigh. It's depressing to watch you beat your head against the wall here.
That you restrict your users pretty much means that your software isn't
Open Source or Free Software.
I don't have any real comment about this. It's immaterial to the
discussion as far as I can tell. I don't want to discuss creation of
software licenses.
Of course I'm aware that there are both security and anonymity
implications for sending email over Tor. As far as I can tell, you
haven't decided if you want to use Tor or Mixmaster. It seems like you
should probably do some high level design on your own software and then
ask for advice. Which of course seems weird to say because it sounds
like you were so close to being finished with it...
Huh. Ok.
In your email you indicated that you weren't even sure if you were going
to use Tor for sending email. Specifically you said:
"Should we scrap Tor and make it use mixmaster?"
You seem to be looking for a general anonymous communications design
list. You should consider reading the anonbib:
Many of your questions would be answered with some basic research.
At some point, when you have software that actually uses Tor, it would
be reasonable to discuss it here. All of the software you mention is
related to Tor, some of it directly exists only because of a need
relating to Tor. Your software could be in that list too, if it had a
solid design or if it existed.
No. None of the meta discussion belongs on the list. It's a waste of
bits for everyone involved. I'm sorry to have contributed to it. You
don't appear to have any regard for the points that I or anyone else has
Huh. As if the rest of the people on this list don't produce actual
software that real people can use...
At some point, you should realize that your definitions don't jive with
the community you're interacting with. I wonder if that point has
arrived. I'm not holding my breath though.
Having a general discussion about sending email over Tor is a very
different discussion than Thunderbird plugin designs that may or may not
use Tor.
If you want to have a discussion about SMTP and other email protocols
over Tor, by all means, please write some email about sending email over
Tor! That sounds totally reasonable.
To be clear, no one is stopping you either way. It's just that one is
appreciated and the other is not as appreciated by at least one person
on this list. :-)

@_date: 2008-08-23 00:01:34
@_author: Jacob Appelbaum 
@_subject: AVG + TOR = BARF 
(Full Disclosure: I know some people involved in Riseup Labs, etc.)
Riseup goes out of their way to not log data. They maintain patches to
free software programs[0] to ensure that their software isn't logging.
In addition, they contribute these patches back to the community.
Because they do not log, that means that short of a specific wiretap,
there isn't data for someone to fetch from their machines.
Furthermore, I think it's out of line for you to say that Riseup is
compromised. Riseup has some really talented administrators and many of
them are active in the free software community.
Obviously, no one is perfect and everyone can be compromised when
specific resources can be allocated. I still object to you promoting the
idea that they're compromised. Do you have any specific proof of this?
Or are you just speculating that they're a high value target and thus
they are clearly owned?  If that's the case, it's pretty hilarious to
imagine that Riseup is of greater value to an attacker than all of Gmail.
While it's true that you might be lost in the noise when you generally
use Gmail, your mail is scanned for content and context as part of their
normal service. When you do arouse suspicion (either internally or
externally), Google isn't going to fight a subpoena or a gag order;
Riseup most certainly will. And they're proactive (see that bit about
not logging in the first place) about their fighting.
I disagree. I think that if you're sending encrypted email, you still
have a massively unknown quantity with gmail or other commercial email
providers.  Riseup also uses a lot of disk crypto and while it's
imperfect[1], it's probably going to help if they decide to take a stand
or if the search is illegal.
[0] [1]

@_date: 2008-12-07 10:48:10
@_author: Jacob Appelbaum 
@_subject: UK internet filtering 
I've confirmed this report by talking to people in the UK. At least two
of them are filtered in the manner stated by the Wikinews article.
I imagine that you can also observe by exiting through certain nodes
that have censoring ISPs.
I wonder if these nodes should be marked as bad exits?

@_date: 2008-02-03 16:37:20
@_author: Jacob Appelbaum 
@_subject: New Tor distribution for testing: Tor Browser Bundle 
While it may be impractical because of NAT, I certainly don't think it's
impractical to become a Tor server. It's a few lines in the torrc and
you're off.
However, without the ability to punch a hole in your upstream NAT ( With
UPNP or something else), I don't think it's very /useful/ for the Tor
network. Though it's certainly possible without changes to the Tor source.
The bundle ships with Vidalia, so in theory, it's just a check box away
if the user didn't wish to be a server. Still, it seems impractical
unless there's some way to actually *reach* the Tor server.

@_date: 2008-01-22 03:42:55
@_author: Jacob Appelbaum 
@_subject: Tor meetup in San Francisco this Thursday 
I, as well as others, certainly have an interest. I'd vote for somewhere
near the EFF, if the EFF itself isn't an option.

@_date: 2008-01-26 19:47:08
@_author: Jacob Appelbaum 
@_subject: Child pornography blocking again 
Can we drop this already?
Send a fully tested and working patch, fork the code base, start a new
project or knock it off.

@_date: 2008-06-08 20:35:27
@_author: Jacob Appelbaum 
@_subject: Phish filters on exit nodes 
Try visiting the OpenDNS preferences page from that node. Someone other
than the Admin of the node may have enabled the OpenDNS anti-phishing
You may also just want to email the admin of the Exit node and ask in
the first place...
(Disclaimer, once in another lifetime, I worked on OpenDNS and it may
not even be possible to change the preferences of a given IP address in
such a way anymore...)
Jacob Appelbaum

@_date: 2008-03-14 00:12:23
@_author: Jacob Appelbaum 
@_subject: Tor and Firefox 3 
I would suggest using the most recent version of Torbutton-dev and
Firefox 2. It's well tested and while there may be some problems, it's
probably going to be your best bet.

@_date: 2008-03-14 00:19:44
@_author: Jacob Appelbaum 
@_subject: Tor on the OLPC: Working as a server! 
I purchased an OLPC from "the buy one get one" program last year. After
waiting nearly 5 months, FedEX brought it!
I used the terminal program and ran `su -` before running the commands
Anyone attempting this could also use ssh to login to the machine.
Set a password for the olpc user first.
I highly suggest firewalling the olpc, it runs many things as root!
It's just waiting for all the world to contact it.
-bash-3.2# cat /etc/redhat-release
Fedora release 7 (Moonshine)
-bash-3.2# uname -a
Linux xo-10-DA-61.localdomain 2.6.22-20071121.7.olpc.af3dd731d18bc39 PREEMPT Wed Nov 21 00:39:06 EST 2007 i586 i586 i386 GNU/Linux
-bash-3.2# cat /proc/cpuinfo
processor       : 0
vendor_id       : AuthenticAMD
cpu family      : 5
model           : 10
model name      : Geode(TM) Integrated Processor by AMD PCS
stepping        : 2
cpu MHz         : 430.936
cache size      : 128 KB
fdiv_bug        : no
hlt_bug         : no
f00f_bug        : no
coma_bug        : no
fpu             : yes
fpu_exception   : yes
cpuid level     : 1
wp              : yes
flags           : fpu de pse tsc msr cx8 sep pge cmov clflush mmx mmxext
3dnowext 3dnow
bogomips        : 862.97
clflush size    : 32
-bash-3.2# free
             total       used       free     shared    buffers     cached
Mem:        237848     184084      53764          0          0      58268
-/+ buffers/cache:     125816     112032
Swap:            0          0          0
I would install a few utilities on the OLPC before moving forward:
-bash-3.2# yum install gnupg lsof
You'll need to find the proper libevent rpm to make Tor install. Search
I choose to use libevent-1.3b-1.fc7.i386.rpm
You can read about that version of the RPM here:
When you've decided that it the one for you, download the libevent RPM:
-bash-3.2# wget
Then you'll want to download Tor and verify the signature of the Tor RPM:
-bash-3.2# wget
-bash-3.2# wget
You'll need the key for the package signature:
-bash-3.2# gpg --keyserver subkeys.pgp.net --search-keys 0x31B0974B
-bash-3.2# gpg --fingerprint 0x31B0974B
You should see the following (If you do not see the right fingerprint,
pub   1024D/31B0974B 2003-07-17
      Key fingerprint = 0295 9AA7 190A B9E9 027E  0736 3B9D 093F 31B0 974Bo
Now verify the RPM:
-bash-3.2# gpg --verify tor-0.1.2.19-tor.0.fc7.i386.rpm.asc
gpg: Signature made Fri Jan 18 22:35:11 2008 EST using DSA key ID 31B0974B
gpg: Good signature from "Andrew Lewman (phobos) "
If the above doesn't make sense, please read this wiki page about
Now you'll want to install the two RPMS:
-bash-3.2# rpm -i libevent-1.3b-1.fc7.i386.rpm
-bash-3.2# rpm -i tor-0.1.2.19-tor.0.fc7.i386.rpm
Now you'll want to make up for the fact that the RPM doesn't create two
-bash-3.2# mkdir /var/log/tor/
-bash-3.2# mkdir /var/lib/tor/
You'll want to make a very basic config:
cat << 'EOF' > /etc/tor/torrc
SocksPort 9050 # what port to open for local application connections
SocksListenAddress 127.0.0.1 # accept connections only from localhost
Log notice file /var/log/tor/notices.log
Nickname olpc
ORPort 443
ORListenAddress 0.0.0.0:9001
DirPort 80 # what port to advertise for directory connections
DirListenAddress 0.0.0.0:9030
ExitPolicy reject *:* # no exits allowed
I also suggest the firewall advice from the wiki before starting Tor:
cat << 'EOF' > tor-redirect.sh
 -x
iptables -t nat -A PREROUTING -p tcp -d $IP --dport 443 \
        -j DNAT --to-destination $IP:9001;
iptables -t nat -A PREROUTING -p tcp -d $IP --dport 80 \
        -j DNAT --to-destination $IP:9030;
Now insert those rules into the firewall:
-bash-3.2# chmod +x tor-redirect.sh
-bash-3.2# ./tor-redirect.sh
Now you can start Tor like so:
-bash-3.2# /etc/init.d/tor start
You should see some nice messages in /var/log/tor/tor.log that look like
the following:
Mar 14 00:54:53.205 [notice] Tor 0.1.2.19 opening log file.
Mar 14 00:54:55.640 [notice] Your Tor server's identity key fingerprint
is 'olpc B286 353F 0BE3 8D25 CB50 00BE A2D5 B006 A8E4 DEB4'
Mar 14 00:55:24.368 [notice] We now have enough directory information to
build circuits.
Mar 14 00:55:30.571 [notice] Tor has successfully opened a circuit.
Looks like client functionality is working.
Mar 14 00:55:30.571 [notice] Now checking whether ORPort 1.2.3.4:443 and
DirPort 1.2.3.4:80 are reachable... (this may take up to 20 minutes --
look for log messages indicating success)
Mar 14 00:55:39.899 [notice] Self-testing indicates your DirPort is
reachable from the outside. Excellent.
Mar 14 00:56:10.790 [notice] Self-testing indicates your ORPort is
reachable from the outside. Excellent. Publishing server descriptor.
Mar 14 00:56:25.685 [notice] Performing bandwidth self-test...done.
Furthermore, lsof should show Tor:
-bash-3.2# lsof -ni|grep tor
tor      3224 _tor    7u  IPv4  73211       TCP *:etlservicemgr (LISTEN)
tor      3224 _tor    8u  IPv4  73212       TCP *:9030 (LISTEN)
tor      3224 _tor    9u  IPv4  73213       TCP 127.0.0.1:9050 (LISTEN)
I hacked up a little bash script[0] (based on Weasel's zsh dotfile) to
test that I could reach it from the outside and it seemed to be
registering itself with the directory authorities just fine:
 ./sd olpc
router olpc 1.2.3.4 443 0 80
platform Tor 0.1.2.19 on Linux i586
published 2008-03-14 07:50:42
opt fingerprint B286 353F 0BE3 8D25 CB50 00BE A2D5 B006 A8E4 DEB4
uptime 28
bandwidth 3145728 6291456 0
-----BEGIN RSA PUBLIC KEY-----
-----END RSA PUBLIC KEY-----
-----BEGIN RSA PUBLIC KEY-----
-----END RSA PUBLIC KEY-----
opt write-history 2008-03-14 07:48:57 (900 s)
opt read-history 2008-03-14 07:48:57 (900 s)
reject *:*
-----BEGIN SIGNATURE-----
-----END SIGNATURE-----
Jacob Appelbaum
[0]

@_date: 2008-03-14 12:10:18
@_author: Jacob Appelbaum 
@_subject: Tor on the OLPC: Working as a server! 
Can you explain that? What school server? Can you walk through what
you've done?
Good to know.
StickFigure operational? What do you mean by this?
Tor blocked how? You're able to install Tor but you're unable to make
circuits? You're behind a NAT and only being a client works?
Jacob Appelbaum

@_date: 2008-03-24 01:37:17
@_author: Jacob Appelbaum 
@_subject: GSoC Idea: Packaging Tor+Vidalia 
That was my thought as well. However, I'm curious what your thoughts are
on the Debian Way (TM) to solve this problem? Perhaps to patch the tor
init.d script in the Tor package to check for a flag that can be set by
the Vadalia package?

@_date: 2008-03-12 11:21:38
@_author: Jacob Appelbaum 
@_subject: How do I volunteer? #6 Improvements on our active browser configuration 
If you're discussing "Improvements on our active browser configuration
tester," we would probably want to start by documenting the false
positives and the false negatives. There is currently a very basic test
written in perl to query the exitlist.torproject.org DNS server.
If you're also interested in discussing the privacy/security of the
actual browser configuration:
Have you already taken a look at the code from the metasploit team?
They've created some DNS, flash, java and javacript attacks that serve
as a good starting point for a nice test. This is listed under the
header of "Testing integration of Tor with web browsers for our end
users" on the volunteer page.
You can shoot an email here on or-talk, to tor-assistants or directly to

@_date: 2008-05-06 10:36:05
@_author: Jacob Appelbaum 
@_subject: List of exit nodes wanted 
Hi there,
I'd really like to encourage you to use the DNSEL. I run
exitlist.torproject.org and I'd like to encourage you to use it. We
created it specifically just for people with the problem you have.
You can use a caching name server and you'll have a fast system once
you've done an initial lookup.
Jacob Appelbaum

@_date: 2008-09-05 13:44:41
@_author: Jacob Appelbaum 
@_subject: Tor on Nokia Internet Tablet? 
Recently I was given a Nokia 770 by a Nokia Researcher/Developer in
Manaus. Specifically, I have some plans to (in the next month - unless
something more pressing comes up) make official Tor packages for the 770.
I doubt that it would make a useful Tor relay but the 770 does come with
software that will use proxies. Specifically, pidgin (the IM client)
appears able to use a SOCKS5 proxy.
I'll make some packages in the near future and then let people know
where to download them...

@_date: 2009-04-11 13:34:05
@_author: Jacob Appelbaum 
@_subject: Tor Bulk Exit Exporter Broken - check.torproject.org 
Thanks for pointing out the issue. I've fixed it and the site is back up.
In the future, please feel free to mail tor-assistants at torproject.org
with issues about services we offer. Generally, I read that email before
the public mailing list posts. Others who help out might do the same.
Thanks again,

@_date: 2009-08-28 02:31:21
@_author: Jacob Appelbaum 
@_subject: Tor Browser Bundle for Gnu/Linux: a new hope 
[I utterly fail at sending email after hacking for 18 hours.]
I've been hacking on creating a Tor Browser Bundle for Gnu/Linux. It's
starting to get off of the ground. After I ensure that it's stable, I'll
move onto to making the Tor Browser Bundle for Mac OS X. Your feedback
and testing is greatly appreciated!
The current TBBL alpha includes Firefox, Openssl, zlib, Qt, Vidalia,
Polipo, Tor and it's all wrapped up in a nice package. It's intended to
be used on USB devices. It's designed to run on Debian Gnu/Linux systems
and may also work on Ubuntu. This is a limitation of my build
environment and if others want to help, we can make it work on many
different Gnu/Linux systems.
Here's the url where I've published current alpha builds of the TBBL:
 Download the bundle for your locale and verify it's signature:
 gpg --verify tor-browser-gnu-linux-1.2.4-alpha-de.tar.gz.asc
 gpg: Signature made Fri 28 Aug 2009 01:52:27 AM PDT using DSA key ID
 gpg: Good signature from "Jacob Appelbaum "
If the signature verifies, unpack it:
 tar -xvzf tor-browser-gnu-linux-1.2.4-alpha-de.tar.gz
This is very important: Ensure that you do not have Tor, Vidalia,
Privoxy, Polipo or Firefox running.
Run it:
 cd "Tor Browser_de/Tor\ Browser"
 ./"Start Tor Browser"
If you'd like to follow along at home, you can build it from source like so:
 svn co  cd build-scripts
 time make -f Makefile.linux build-all-binaries
 time make -f Makefile.linux all-compressed-bundles
If you're on a reasonable system, you should see some results in about
an hour. You'll see all of the localized tar.gz files in ttbl-release/
if all goes well.
Here's a list of known issues that I intend to tackle over the next day
or so:

@_date: 2009-08-28 22:10:18
@_author: Jacob Appelbaum 
@_subject: tor-browser-gnu-linux-1.2.4-beta 
Hi there,
I've updated the Tor Browser Bundle for Linux and I've added some
debugging stuff to the starting script for people who have had issues.
Here's the current url for testing:
I'm looking for success and failure reports! Please let me know if
you've tried it! If it works, please send me information about what
platform you're using (Ubuntu, FC11, RedFlag, etc). If it doesn't work,
please send me your debug logs and I'll try to help get it working for yo=

@_date: 2009-12-30 15:21:13
@_author: Jacob Appelbaum 
@_subject: Running Tor Bridges on a Chumby One 
I've been talking with Andrew Huang [0] about running Tor on the new
Chumby One device. It's a pretty nice device that he designed; it runs
Linux and it's very hackable. He ran with the idea of putting Tor
(configured as a bridge) on a the Chumby One. He wrote up how to do it
here (step by step and binary builds):
If you're interested in a small box to run a bridge, I think the Chumby
One looks like a great device. It's very hackable and the designer is
not only a fan of Tor, he's hacking on it to make it work with the
Chumby One! Awesome!
[0]

@_date: 2009-12-07 20:56:19
@_author: Jacob Appelbaum 
@_subject: US Customers: anyone helping me? 
Will you attend the 26c3?
If so, there's a large Tor gathering planned and I'm sure someone will
gladly bring it along for you.

@_date: 2009-12-09 15:55:28
@_author: Jacob Appelbaum 
@_subject: polipo POC 
The proof of concept works as advertised. Wheee.
Here's a simple patch (that probably breaks some requests and is
imperfect) to stop the proof of concept while we wait on upstream to
provide a real fix for it:
--- polipo-1.0.4/client.c       2008-01-08 14:56:45.000000000 +0200
+++ polipo-1.0.4-fixed/client.c 2009-12-09 15:30:53.000000000 +0200
 -998,7 +998,7          return 1;
     }
-    if(connection->reqlen > connection->reqbegin) {
+    if(connection->reqlen > connection->reqbegin && (connection->reqlen
- connection->reqbegin ) > 0 ) {
         memmove(connection->reqbuf, connection->reqbuf +
                 connection->reqlen - connection->reqbegin);
         connection->reqlen -= connection->reqbegin;
Using memmove like that is extremely unsafe. :-(

@_date: 2009-01-17 14:09:22
@_author: Jacob Appelbaum 
@_subject: tor-browser bundle on XP 
I think there's some confusion here. In a previous thread you suggested
that XeroBank [0] doesn't use Tor. This is confusing because your
"source" package contains a Tor binary:
It looks like Tor is included with your software.
[0]

@_date: 2009-06-11 17:24:30
@_author: Jacob Appelbaum 
@_subject: Introducing Torfox 3.0.10 
This is an understatement. :-)
What happens when you leave plugins enabled, they respect proxy
connections and then it is unset? Do you really ensure that all binary
blobs cannot make sockets? I'm not sure how to do that. Perhaps the way
that you hooked the sockets, it's entirely possible?
Sounds like that socket hooking isn't working out. :-(
Well, you have a few problems. You have his issues (until you patch
them; did you?) with Firefox. You also have his issues with content. You
should consider using his plugin even if you believe his proxy setup is
not needed.
Wow, seriously? That's a joke right? Is Kyle incorrect?
I think it's pretty unethical to explicitly make money by using a
_tracking_ technology to profit from users who _explicitly_ do not want
to be tracked. Also, to not disclose this information until someone
discovers it is bad. To justify it with your accounting of costs and
fees is probably the only way to take that from bad to worse.
Transparency is perhaps most important to me in this case. I understand
offsetting costs of hosting but not at the expense of users who
explicitly do not want it. :-(
How will you ensure that TorFox users are protected? Will you? How will
you ensure this when your interests (as you stated) are fiscally aligned
against your users? That does not bode well. :-(
No, it does not. You can do both. You can use TorButton today to protect
your users against the currently known issues. TorButton is pretty well
tested and while perhaps imperfect (sorry Mike!), it's not safe to use
Firefox without it. Additionally, you can _also_ build from source to
patch unfixed bugs in Firefox. Please document such changes, you may
find that your fixes have unintended consequences. This is something
we've considered with the Tor Browser Bundle but currently, we're not
too interested in forking Firefox. Personally, I haven't given up on
Mozilla, I think they're going to fix the issues that Mike has discovered.

@_date: 2009-06-02 15:17:38
@_author: Jacob Appelbaum 
@_subject: DNS statistics from node operators 
I'm looking into some simple DNS related statistics in the Tor network.
Specifically, I wrote a small patch that tells an operator the total
number of cached entries for their node. I'd like to know about your DNS
cache size, especially if you run a fast node!
Here's an example of this feature in use with my node 'badbits', a node
that averages about 20-30Mb/s.
I'm running a very alpha version where Nick merged my DNS cache counting
root at badbits:~# tor --version
Jun 02 17:15:22.293 [notice] Tor v0.2.2.0-alpha-dev. This is
experimental software. Do not rely on it for strong anonymity. (Running
on Linux i686)
Tor version 0.2.2.0-alpha-dev.
root at badbits:~# pkill -SIGUSR1 tor
root at badbits:~# grep -i dns /var/log/tor/notices.log
Jun 02 17:14:33.597 [notice] Our DNS cache has 3486 entries.
Jun 02 17:14:33.597 [notice] Our DNS cache size is approximately 1108920

@_date: 2009-06-03 12:28:40
@_author: Jacob Appelbaum 
@_subject: DNS statistics from node operators 
Generally speaking, your Or will cache a couple of record types when
people use you to resolve names (A, PTR). You'll keep them cached for a
maximum amount of time (defined in the source code) or less time
depending on the returned TTL. Generally, your OR resolves names when
someone extends a circuit through you for a connection or when they
explicitly use your node for name resolution.
I was actually hoping to get statistics from you specifically, so I'm
glad that you responded!
Please let us know how large your cache gets? It would be interesting to
see the average size of the cache for the top twenty nodes.
My node 'trusted' for example certainly does not have 50MB of entries:
Jun 03 21:20:51.271 [notice] Our DNS cache has 28 entries.
Jun 03 21:20:51.271 [notice] Our DNS cache size is approximately 9856 bytes.
My exit policy on 'trusted' allows *:53. Simply being able to resolve
names doesn't increase my cache size too much.
Badbits on the other hand does allow a few other ports and today, it has
a much larger cache:
Jun 03 14:26:37.577 [notice] Our DNS cache has 3473 entries.
Jun 03 14:26:37.577 [notice] Our DNS cache size is approximately 1104968

@_date: 2009-06-09 22:34:12
@_author: Jacob Appelbaum 
@_subject: Introducing Torfox 3.0.10 
Huh. Interesting. That sorta seems like a risky proposition, no? Do you
integrate Torbutton or something like it in some way? Additionally, if
Firefox only talks to Tor, do you have a control port open?
Also, I looked at the svn tree you published and it appears to only have
three files:
I assume I'd just find the matching files in Firefox 3.0.10 and clobber
them with your files?
How does someone replicate your builds on torfox.org? Do you plan on
publishing that too? Perhaps it would be useful to have a README.build
with patching and building information?
It seems like you're not getting much more over the current Tor Browser
Bundle. Additionally, do you take into account the non-Torbutton
protection and usability improvements that we have added?

@_date: 2009-06-10 09:47:41
@_author: Jacob Appelbaum 
@_subject: Introducing Torfox 3.0.10 
============================== START ==============================
It doesn't appear to protect you against a variety of attacks?
Have you read the design document that Mike wrote about Torbutton?
Torbutton does more than simply set a proxy. Hooking the sockets may be
useful, I'm pretty sure that won't protect you against say, rogue
browser extensions that are often installed on Windows machines. Those
seem to pop up from time to time and we've disabled that "feature" in
the Tor Browser Bundle. You may want to look into that also.
Why not use 9050? To not conflict with other running Tors?
It is important to be able to build it and produce the same binary that
you offer for download.
I'm not sure what you mean when you say that it appeals to a different
style of usage. Do you mean because it lacks a Torbutton logo, or that
it lacks Vidalia?
We do a lot to protect users with the Tor Browser Bundle (much of it is
protection added by Torbutton), it would be a really good idea to make
sure you're familiar with those things.
I look forward to reproducible builds! Don't forget the pgp signatures
too. ;-)

@_date: 2009-11-24 15:06:33
@_author: Jacob Appelbaum 
@_subject: livejournal ban tor-nodes 
I'm heading over to the LJ offices (in San Francisco) to discuss this
ban with them in the next thirty minutes. I'll let you know how it goes
and why it happened.

@_date: 2009-11-24 16:52:30
@_author: Jacob Appelbaum 
@_subject: livejournal ban tor-nodes 
Hello again,
In summary:
Mike Perry and I just had a visit to the San Francisco Livejournal
office. The servers at LJ are currently being abused by two users in
Russia. They are currently blocking access to all of the Tor exit nodes
with a rather crufty (but effective) screen scrape of some Tor status
page. They'd like to lift this ban and they'd like to see the abuse
stop. They recognize that many legitimate users are now out in the cold
and they'd like to allow Tor to access LJ.
The service abusing their systems is  lj2rss
provides a user with an RSS feed of their LJ friends page (normally a
paid service). LJ considers this abuse and has attempted to block this
service. Lj2rss was previously run through basic HTTP proxies. It has
apparently evolved as a service. The lj2rss people decided to ditch HTTP
proxies for the public Tor network. This has caused LJ to filter _all_
access from the Tor network as a quick hack to block their service. LJ
is unhappy with this as they realize this means that many people are not
able to reach LJ. They want to find a solution to this total method of
blocking. They only want to stop lj2rss and not everyone who actually
needs Tor to legitimately use LJ.
We've suggested that rather than outright blocking, users should be
redirected (http 302 rather than 502) to a status page explaining the
outage information. We've also suggested they can have user puzzles or
require a specific login (paid accounts or flagged in some way). As far
as I can tell, this is not a conspiracy by SUP or any other measure
taken on behalf of SUP. The sysadmins at LJ are simply trying to combat
someone abusing their service.
LJ said that they're going to change their status page shortly to
explain the block. They're also working on methods to block the lj2rss
people and not every single user of the Tor network. I hope this is
helpful and that the users of Tor will be able to access LJ services
again shortly.

@_date: 2009-11-25 16:19:22
@_author: Jacob Appelbaum 
@_subject: livejournal ban tor-nodes 
I spoke again to Livejournal today. They've mostly lifted the block.
They're working on future ways to block abusers of LJ without affecting
normal, legitimate users; They're pretty awesome for restoring service
 for the majority of Tor users so quickly!

@_date: 2009-11-26 09:56:46
@_author: Jacob Appelbaum 
@_subject: DisableAllSwap question 
The goal behind DisableAllSwap is to ensure that no memory is ever paged
out to disk. If you have encrypted swap space, it's probably not an
issue if your have information swapped out to disk.
There may be some speed improvements from never having memory paged out
to disk but it's probably minimal.
If you'd like to test it, we'd sure would love to know if it works
properly on FreeBSD.

@_date: 2009-10-26 03:44:15
@_author: Jacob Appelbaum 
@_subject: Orbot: An Anonymous Proxy for Android using Tor 
Thanks Eugen,
I wrote a nice BUILD document and sent it to or-dev last night. Here's a
copy of the mail for those not on or-dev:
-------- Original Message --------
Hello *,
Nathan and I have been working on making a viable, secure and usable
port of Tor to the Android platform. There have been a few attempts at
getting Tor or Tor like software (onion coffee, etc) to run on Android.
The most notable was probably Adam Langley's initial attempts. For quite
sometime, Nathan and I tried a few different approaches. Finally, we
stumbled upon a method for calling arbitrary binaries that are stored as
assets in a package. Nathan wrote a little about this method here:
We spent most of today working on an Orbot build document:
The BUILD document starts a user off without any Android tools on their
system. By the end of the tutorial, you'll have a working, signed Orbot
package. We will endevor to keep this document up to date.
Orbot provides a simple way to run the C reference implementation of
Tor. This means that we can have hidden services and all of the rest of
the Tor client/server/bridge functionality on Android. I expect that
hidden services will become popular if someone ports TorChat to Android.
Tor itself exposes the usual SOCKS proxy and Orbot extends this by also
offering an HTTP proxy. Part of the code that powers the HTTP proxy is a
powered by a fork of jsocks. We've named it asocks (Android SOCKS) and
put it in subversion:
The UI for Orbot really needs a lot of work. It will require a lot of
polish. Currently, it does do very basic controlling of Tor; it's mostly
by brute force and doesn't use anything fancy with the control port.
The next step will be to create a second application that actually uses
Tor. It will likely be a web browser that specifically utilizes Tor for
everything. This will be similar in scope to what Conell did for
TorProxy with his Shadow browser:
It is likely that we'll replace TorProxy in the market after we're
pretty sure that we're on the right path.
If you'd like to try a build of Orbot, I've put up an early alpha build:
If you have an android phone, you can scan this QR code to download and
install the package:
This is our first alpha release and we'd love some feedback...

@_date: 2009-10-30 13:29:25
@_author: Jacob Appelbaum 
@_subject: Anyone running Tor on routing/switching hardware ? 
I'm certainly interested in a SheevaPlug and if there was an interest,
I'd build packages for it. I'd have to get one first but I'm not sure if
it's being used by anyone?

@_date: 2009-09-16 04:30:28
@_author: Jacob Appelbaum 
@_subject: Tor and Java 
Roger and I recently decided we should have a list centering around Tor
and Java development. The tor-java list is now live and is welcoming new

@_date: 2009-09-14 12:47:32
@_author: Jacob Appelbaum 
@_subject: Tor for Android 
There are some obvious improvements that could be made to the TorProxy
controller. The UI appears to be viewable only when my G1 keyboard is
closed. This doesn't work well with browsing the web with Shadow.
Switching between landscape and portrait mode is needed to see the
entire TorProxy screen. Luckily, the only thing that actually matters is
the proxy option and you can see it in both modes; it's just a little
awkward when the text is cut off halfway.
It also seems like TorProxy should have a new identity button. Shadow
suggests that users should restart TorProxy if connections fail and that
seems costly. Perhaps it's not too costly on the network or cpu?
The Shadow Browser/TorProxy setup seems like a pretty great start for
anonymity on Android. It's great stuff! Exciting!

@_date: 2010-04-18 21:29:04
@_author: Jacob Appelbaum 
@_subject: BadExit flag still needed for PrivacyNow... 
I've also set the authdirbadexit on urras for the PrivacyNow node.
It seems like we should make a baddns flag at some point.
All the best,

@_date: 2010-08-29 21:58:14
@_author: Jacob Appelbaum 
@_subject: Tcpcrypt and tor 
This looks like a protocol by Adam Langley:
All the best,
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-08-15 03:40:57
@_author: Jacob Appelbaum 
@_subject: Tor Project 2008 Tax Return Now Online 
[citation needed]
Nice story, bro.
All the best,
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-08-17 03:00:13
@_author: Jacob Appelbaum 
@_subject: Tor Project 2008 Tax Return Now Online 
Oh Mike - How could you divulge our secret information like that?
Couldn't you just resist the prideful temptation to troll the troll?
We're changing the secret Tor handshake. You're out of the club.
Don't try to "NEWNYM" your way back in buster!
Betrayed by Mr. Perry again,
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-02-18 16:55:40
@_author: Jacob Appelbaum 
@_subject: Tor on the Nokia N900 (Mobile Tor stuff) 
I'm happy to announce that we've gotten Tor working as a client on the
Nokia N900 GSM telephone. We've written up a blog post and some
instructions. We'd love to get some feedback:
We're working on some other awesome mobile Tor stuff. Let us know what
you'd like to see in the future!

@_date: 2010-02-18 17:07:34
@_author: Jacob Appelbaum 
@_subject: Tor on the Nokia N900 (Mobile Tor stuff) 
r on
The performance of Tor is similar to any other Tor client - this is our
reference C implementation running on the N900.
With that said - You may want to hold out and get an Android phone.
We're looking to do a release of Tor on Android next week. We have some
very promising alphas and it's quite exciting!

@_date: 2010-02-18 19:49:17
@_author: Jacob Appelbaum 
@_subject: Android Was: Re: Tor on the Nokia N900 (Mobile Tor stuff) 
Hi Rich,
Yes - we've been somewhat in contact with the authors of TorProxy and
Shadow Browser. They did great work and it's quite a slick pair of
applications. However, the TorProxy in the Android market is absolutely
unsafe to use. It is based on research code that was never intended for
high security needs or real serious public use:
Rather, we're working on building an Android package we've codenamed Orbot:
Orbot will replace the TorProxy component and it includes the C
reference implementation of Tor. It will also ship with Privoxy
(although we're also looking into Polipo) to provide an HTTP proxy as
well as the normal SOCKS4A/5 proxy interface into the Tor network.
We don't have a great solution for Shadow at this point and it's
non-trivial to sew it into Orbot. Nathan has a better grasp on the
Android internals that make the web browser component complicated across
Android versions. Perhaps he'll weigh in on it...
In any case, we're may move to a hybrid model for some mobile phones.
It's easy to provide a compiled Tor binary (the C reference
implementation) and a Java Tor implementation [0] in a single container.
This should allow for greater compatibility and hopefully everyone will
have better anonymity as a result.
[0]

@_date: 2010-02-19 17:09:12
@_author: Jacob Appelbaum 
@_subject: Tor on the Nokia N900 (Mobile Tor stuff) 
I think that Android offers us a new possibility for telephones. I also
like the N900 but I feel that Nokia often screws their user community.
It's good to have options and so the more Tor on the more devices, the
You may be interested in hearing about the Guardian project:
Additionally, you may also be interested in Noisedroid:
Or perhaps the more well known cyanogen firmware:
All of those offer a possibility for an Android system built entirely
from Free Software pieces. The big missing piece is the baseband and
when last I checked there was not a single smart phone with a free
baseband firmware. Harald Welte is currently working on on solving this
problem for the Calypso chipset:
The future looks nice all around. Having Tor on as many of these devices
will provide many people with options beyond what we can imagine.
The same can be said about almost any phone software. You can hack it
and the barrier for entry is really the only sticking point.
The N900 and Android aren't too terribly different from a consumer
standpoint. If you're running the stock firmware from your phone
provider, you're beholden to their backdoors or whatever crazy bugs they
haven't patched. In any case, Tor provides you with a nice anonymity
solution. It is far from perfect (baseband security issues, etc) but
it's certainly better than nothing.
Having Tor in the Android Market and having Tor in the Maemo repository
allows people to choose. We'll also hopefully have Tor on Windows Mobile
in the future but I can't seem to find anyone who wants to Bell The Cat. :-)

@_date: 2010-02-21 21:53:19
@_author: Jacob Appelbaum 
@_subject: Chumby One and running a bridge 
I'm happy to report that I've been hacking with Bunnie on building a
nice modification to the Chumby One[0] for running bridges.
Today I committed (in Revision: 21721) the rest of the code to create a
full package from scratch for the Chumby One. It's still rough around
the edges but it should work.
There are only three steps (assuming that you have the Chumby cross
compiler[1]) to build the Chumby One mod:
The fetch, patch, and build process takes around 223.13s from start to
finish on my X61 Thinkpad.
You should now see the final zip file (say torbridge_c1_fw1.0.3.zip) in
chumby/build/. This file is for release to end users. To use the mod on
your Chumby, you'll need to grab that zip file, unpack it onto a usb
stick, and boot with the usb stick in the chumby:
So if you're up for a little experimenting and you like the idea of
running a low powered, low bandwidth bridge - the Chumby One might be a
good multi-functional device for that job... You'll need to port forward
to the Chumby if the Chumby doesn't have a public IP.
I've put up a build here and would appreciate some feedback from Chumby
One owners:
I expect that we'll probably have a small web page up about this in the
near future.
[0] [1]

@_date: 2010-01-22 01:21:26
@_author: Jacob Appelbaum 
@_subject: Tor Project infrastructure updates in response to security breach 
I have a few of those laying around. I guess we could run some tests and
find out?

@_date: 2010-01-24 03:02:12
@_author: Jacob Appelbaum 
@_subject: tor exit-node abused, takedown by ISP, 
Your previous response and the DMCA template can be sent to all of the
parties involved. It never hurts to have an insanely large CC list, I'd
also include a friendly lawyer or two. CC the ISP, the original sender,
lawyers that care and anyone else involved or interested.
I regularly do this when I get DMCA complaints to the various ISPs where
I host my relays. This is usually sufficient for the complainer. If
you're the exception, let us know.

@_date: 2010-01-27 03:41:02
@_author: Jacob Appelbaum 
@_subject: Tor argument at BoingBoing 
I gave it a shot and I think that it's helpful for people to state why
they use Tor. When people complain about malware traffic exiting from
Tor, it's great to see someone say: "I use Tor for malware research and
it keeps me safe."

@_date: 2010-07-05 18:49:24
@_author: Jacob Appelbaum 
@_subject: The State of the DNS and Tor Union (also: a DNS UDP - >TCP shim) 
Nice catch. Do you want to provide some test cases for this? I guess it
would be nice to see how wide-spread this problem is - it would also
help us build in some protection mechanisms.
Can you give me an example of how you'd do this? I know that if a user
does something like `dig  torproject.org` - the query won't go
to 127.0.0.1:50 - But if you can do that, you've already won in a very
serious way. I'd argue that you have arbitrary code execution and that
if that is the threat, you'd simply need to hook ttdnsd as part of a
transparent proxying setup. This was part of the original design of
ttdnsd and it seems like that solves the leaking DNS issue entirely.
Ah darn. Thank you for the correction.
I haven't seen a PERL version of the program - do you have a link to the
source? I noticed a newish python version was written by Dug Song. I
think it's similar in scope to ttdnsd.
I miss Tup and wish he would return. :-(
A good point. I'll add that.
I'm not sure that this is too useful because of the issues with OpenSSH;
I'd prefer that it simply fail.
This is of course useful.
Of course.
I believe that this is the job of something like unbound or pdnsd;
though it may be the case that adding an RFC1918 filter into ttdnsd
would be useful.
I'm not entirely sure. Part of the interesting issue here is about DNS
queries and using Tor with those queries. For example, if I want to know
that foo.bar.com resolves to 10.0.0.1 - there is nothing dangerous about
that. ttdnsd will do the right thing, Tor will anonymize my query, and
all is well.
You are very correct to point out that this may be an issue if a browser
were to use that, it may be possible to attack the local network. I
think that only transparent proxying will really solve this this - what
do you think?
Can you give me an example of that happening with ttdnsd? I'm not sure
that I've ever encountered it with Tor; generally I find negative
caching issues like that one to be a bug.
It sounds like you have some great stuff up your sleeve; you should help
hunt the DNS de-anonymization unicorns. :-)
If a user's local DNS resolver is 127.0.0.1 (via ttdnsd), a user will
not be able to leak information as easily as it will with a network or
non-Torifed resolver.
I checked a recent XMPP client and found that it now does the right
thing with regard to SRV records. I was very surprised.
All the best,
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-07-05 18:51:10
@_author: Jacob Appelbaum 
@_subject: The State of the DNS and Tor Union (also: a DNS UDP - >TCP shim) 
I think that the TBB could use one and only one major enhancement: a DNS
proxy that is used by all of the applications that ship with it.
I agree. I think that this is inspiring me to work on torwall a little
more next week...
All the best,
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-07-02 18:15:19
@_author: Jacob Appelbaum 
@_subject: The State of the DNS and Tor Union (also: a DNS UDP - >TCP shim) 
============================ Abstract =================================
The general state of the DNS protocol and its interactions with Tor has
been a subject of conversation for many years. It seems prudent to
discuss how Tor and DNS are used together. It also is important to
comment on how DNS works or doesn't work in practice with the Tor
network today.
This document is an attempt to cover every aspect of interacting with
the DNS with regard to Tor in a single place. It is probably a good idea
for the reader to be familiar with basic DNS and Tor concepts. This
document covers running as a Tor client, using third party software to
interact with the internet through a Tor client, and the various DNS
requirements or duties of Tor relays.
The secondary purpose of this mail is to show that there is currently a
gap in the DNS functionality of Tor. I aim to partially close that gap
by (re)introducing a new (to us) piece of software to the Tor ecosystem:
ttdnsd - The Tor TCP DNS Daemon. If you already understand how Tor
handles DNS and understand the limitations of the existing mechanisms,
jump to the end of the document to read about ttdnsd. Everyone else
should read this document in its entirety.
========================== Prerequisites  ==============================
You should have a basic understanding of how Tor works and you should
have a working Tor installation. You can download Tor in a few ways:
    It is probably possible and the most straight forward to download it
from our website directly:
    If you can't directly reach our website, send an email to
gettor at torproject.org - our email robot will send you binaries and/or
source code.
Feel free to drop by our (SSL/TLS enabled on port 6697) IRC channel:
    irc://irc.oftc.net in channel If you need additional help, feel free to send an email to
tor-assistants at torproject.org and we'll help you get Tor running!
======================= DNS Leaks and You ==============================
We say that DNS is leaking or that you've leaked DNS when your computer
sends DNS requests to the internet without sending them through Tor.
This can be a serious privacy and anonymity risk because an eavesdropper
can observe these requests and use them to infer which sites and
services you're communicating with.
This is a common problem with many applications that have the ability to
proxy their connections through the Tor network. If you're leaking DNS,
just before a connection is made, a leaky application will look up the
required hostname for the connection through the operating system's
regular DNS query mechanism, rather than through Tor.
The general problem with this is that these queries are sent unencrypted
over the network from your computer. Since the queries identify the
servers you're about to communicate with, they can make de-anonymization
fairly trivial. Additionally, the local network now has a fairly good
chance of knowing what connections you're trying to make anonymously.
This also means that the local network may tamper with the results.
While Tor users should always use Torbutton[-1] for their web browsing,
not all applications have an equivalent plugin available. Torbutton
addresses DNS leaks from within Firefox by ensuring that Firefox uses
the local Tor proxy for its DNS name lookup requests. However, other
applications may not do this and may, as a result, leak DNS requests.
We try to discover if popular applications are leaky but, ultimately,
any application that makes a DNS request may compromise your anonymity
unless specifically configured to make that request over Tor.  The
central concern is thus for an applications that don't know to send
their name lookup requests via Tor, or don't know how to do so.  Tor
can't protect these applications' requests.
It may be better for privacy to have a general solution to DNS lookups
available, since even if some programs are configured to make DNS
queries through Tor, they might sometimes use plugins or external
applications that don't know anything about Tor.
Be cautious about DNS leaks; only you can stop DNS leaks!
=========================== Tor clients ================================
Tor itself generally does not rely on the DNS to function. The Tor
client bootstraps with IPv4 addresses that are compiled into Tor; the
client may also have a cached copy of a recent network consensus. The
Tor client will open connections to those nodes without the need for
name resolution. The exception to this rule is when Tor must use a proxy
to connect to the Tor network. If you don't need a proxy that uses a
hostname, you won't need DNS at all for running a Tor client. If you use
a proxy with a fully qualified domain name, your Tor client will perform
resolution with your system DNS resolver. The timeout for DNS resolution
requests performed by Tor as a client is 300 seconds and the maximum
host name length is 256 bytes.
======================= Tor Hidden Services ============================
Tor is able to run hidden services that connect to a given DNS name:
    HiddenServicePort 443 If Tor is configured with such a HiddenServicePort, Tor will use the
system resolver to resolve the name. This will happen at the time the
configuration change is noticed by Tor; generally this is at start up
but may also be during a HUP or SETCONF event.
If the server providing the hidden service doesn't want to be
associated with the hidden service, this could be considered a
DNS leak because the server will be making a potentially
publicly-observable DNS query related to the hidden service.
=========================== Tor relays =================================
Tor as a relay is slightly more complex. There are generally two kinds
of Tor relays. The first is commonly called a middle node. The second is
commonly called an exit node. These are generalizations and are
independent of other characteristics of the machine that functions
as a Tor relay. Thus a directory authority may be a middle relay or an
exit relay, the bridge directory may be an middle relay or an exit relay,
and so on.
A "middle relay" is any Tor relay that does not allow traffic to exit
to the public internet on any port. A middle relay is willing to
forward traffic only to other Tor relays. Technically, a bridge node
may be a middle node with the appropriate exit policy. Generally,
users interact with middle relays in two ways. The first is as a point
of entry to the Tor network and the second is as an intermediate relay
in any circuit used before exiting the Tor network.
An "exit relay" is what we call a relay that allows exiting in its exit
policy, and hence that is willing to forward some traffic to the public
internet on behalf of clients. For the purposes of DNS, it's important
to note that a node does not need to be marked as an exit in the network
consensus to perform resolution services on behalf of a client. Any node
that doesn't have an exit policy of 'reject *:*' may be used for DNS
resolution purposes. Tor preemptively builds circuits and Tor will use
those circuits for DNS resolution.
Additionally, both of these types of relays may perform name resolution
for themselves. If the relay is configured with a host name in the
'Address' configuration section of its torrc configuration, the relay
will attempt to use that name in the IP address discovery process.
Without 'Address' set to an IP address, Tor will also attempt lookups on
the host name. The relay will use the system resolver to make this
resolve request. All of this functionality is handled by eventdns from
Any Tor relay may also expose interfaces (SOCKS, TransPort, DNSPort,
etc.) for use as by an end client application; a user does not need to
run two copies of Tor to relay for the network as a whole and to use
it locally as a client. This has no impact on DNS requests. Such a
configuration generates no additional DNS traffic beyond the above
mentioned DNS requirements.
It is also reasonable to configure Tor to use a different list of
resolvers, rather than the system resolver. This is especially useful
when you have a system-wide resolver that tunnels over Tor.
There is a maximum of 256 of outstanding DNS requests and the maximum
host name is 256 bytes long. Tor will also only wait 300 seconds after
sending a request before giving up and deciding that no reply will ever
It is possible to check the total number of cached DNS responses for a
Tor relay by sending the SIGUSR1 signal to a Tor relay:
    kill -SIGUSR1 30521
Tor will send notice level log events with the number of currently
cached responses:
Jul 02 08:57:53.131 [notice] Our DNS cache has 5 entries.
Jul 02 08:57:53.131 [notice] Our DNS cache size is approximately 4856 bytes.
=========================== DNS and UDP ================================
As most everyone reading this document knows, Tor does not transport UDP
traffic. This presents a rather annoying problem for anyone wanting to
use UDP protocols, which in practice means virtually all Tor users.
After all, almost all Tor users need to use DNS, and DNS is probably
the most popular and well-known UDP protocol. Since we don't provide any
kind of general UDP transport for Tor clients, we've had to cherry-pick
which kinds of DNS requests we'd like to support.
In general there are a few methods for users to interface with Tor as a
client. Each method will eventually result in a resolution or a failure
for various DNS request types. The four most common ways for users to
interact with Tor all support basic DNS requests:
  A local SOCKS4A and SOCKS5 proxy service provided by Tor
  The DNSPort provided by Tor
  HTTP(S) proxies such as Polipo or Privoxy
  A DNS shim that acts as a UDP to TCP translator
========================= SOCKS4A/SOCKS5 ===============================
Tor provides a SOCKS proxy as an interface for making connections and
resolving host names. This is probably the most commonly used interface
to the Tor network. It is often used as the final proxy in a series of
chained proxy programs.
In the most simple case, a user may attempt to resolve a hostname with a
tool like tor-resolve[0]. tor-resolve is implemented by extending
the SOCKS protocol to include the 'RESOLVE' and 'RESOLVE_PTR' SOCKS
commands. This is documented in the socks-extensions.txt[1]
specification file. tor-resolve talks to the Tor SOCKS proxy directly.
This method allows a user to resolve 'A' and 'PTR' records; technically,
it also means that 'CNAME' records will also be resolved if the record
points to a canonical 'A' record. However, the user will not see that
there is a 'CNAME' record at any point. The user will only get the
resolved address if everything works as expected. This is far less
functional than a full DNS implementation.
Still, this is extremely useful even if fairly limited:
io at uncertainty:~% tor-resolve torproject.org
io at uncertainty:~% tor-resolve -x 38.229.70.10
============================= DNSPort ==================================
It is also possible for a user to configure Tor with the DNSPort option.
The DNSPort option makes Tor into a small DNS server and a user may use
it like any other:
root at uncertainty:~# tail -n 2 /etc/tor/torrc
DNSListenAddress 127.0.0.1
DNSPort 53
root at uncertainty:~# /etc/init.d/tor start|tail -n3
Jul 01 03:31:11.441 [notice] Opening Socks listener on 127.0.0.1:9050
Jul 01 03:31:11.441 [notice] Opening DNS listener on 127.0.0.1:53
This allows a user to directly query Tor as if it were a normal
recursive DNS server:
io at uncertainty:~% dig  torproject.org
; <<>> DiG 9.7.0-P1 <<>>  torproject.org
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 55122
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;torproject.org.			IN	A
;; ANSWER SECTION:
torproject.org.		300	IN	A	38.229.70.10
;; Query time: 328 msec
;; SERVER: 127.0.0.1
;; WHEN: Thu Jul  1 03:31:49 2010
;; MSG SIZE  rcvd: 48
io at uncertainty:~% dig  -t ptr 38.229.70.10
; <<>> DiG 9.7.0-P1 <<>>  -t ptr 38.229.70.10
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 64000
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;38.229.70.10.			IN	PTR
;; ANSWER SECTION:
38.229.70.10.		10800	IN	PTR	torproject.org.
;; Query time: 3075 msec
;; SERVER: 127.0.0.1
;; WHEN: Thu Jul  1 03:32:28 2010
;; MSG SIZE  rcvd: 58
This is fine until you attempt to do anything outside of those two
request types:
io at uncertainty:~% dig  -t mx torproject.org
; <<>> DiG 9.7.0-P1 <<>>  -t mx torproject.org
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 36819
;; flags: qr rd ra; QUERY: 1, ANSWER: 0, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;torproject.org.			IN	MX
;; Query time: 0 msec
;; SERVER: 127.0.0.1
;; WHEN: Thu Jul  1 03:35:40 2010
;; MSG SIZE  rcvd: 32
Having a local DNS server is useful; many applications may only support
SOCKS4, rather than SOCKS4A or SOCKS5 - their failure could lead to
de-anonymization. It is also useful to ensure that possible DNS leaks
will fail closed - if your system only knows about 127.0.0.1:53, it's
hard but not impossible to leak DNS packets to the public internet. The
DNSPort performs basic caching services, there is a hard coded time out
for the internal cache. The DNS packets returned to the client by the
DNSPort have a TTL time that is equal to what the upstream authoritative
reply reports.
========================= HTTP(S) Proxies ==============================
The use of HTTP(S) proxies is quite common; thanks to The Great
Firefox SOCKS Bug[2], we've had to use, ship, and support Privoxy[3]
or Polipo[4]. This ensures that web browsing is actually responsive. It
also improves our general application support; many applications do not
support SOCKS{4,4A,5}, but these applications often support HTTP(S)
Whatever your proxy of choice, it's likely that the proxy or proxies are
chained into the SOCKS interface. In rare cases, you may use a proxy
that is transparently torified. In all cases, the proxy makes only a
limited number of types of DNS records that are available to the
application, as mentioned above.
The proxy generally requests the exit node to satisfy simple DNS
resolution requests from within the Tor network. This is part of the
Tor protocol itself and it does not include full DNS resolution service.
===================== Tor DNS Internals ================================
All of of the above methods are limited. In fact, they're equally
limited. They're all using the same internals in your local Tor client
to perform resolution.
The SOCKS commands mentioned above are satisfied by the Tor client and
the relevant resolution may occur at the edge of the Tor network.
It would be fair to say that Tor clients resolve DNS requests by sending
them over circuits. The two DNS request types may be satisfied by almost
all modern Tor exit nodes that allows connections to the general internet.
However, it is worth noting that Tor does not send complete DNS
requests; it only sends host names. The process of resolving those host
names is somewhat obtuse. In many cases, a connection is opened and the
connecting client never needs to learn the address.
Section 6.2 of the tor-spec.txt[5] outlines the method for connecting
to a specific host by name. Specifically, the Tor client creates a
RELAY_BEGIN cell that includes the DNS host name. This is transported
to the edge of a given circuit. The exit node at the end of the circuit
does all of the heavy lifting, it performs the name resolution directly
with the exit node's system resolver.
If all goes well, the exit node will respond with a RELAY_CONNECTED
cell. If successful the payload of this cell will include the IPv4
address for the host name. In theory, it may include an IPv6 address.
Currently there is no IPv6 resolution supported by any version of Tor
but it's nice that the protocol is Real World compatible without too
much tinkering. If the query fails, the exit node will reply with a
RELAY_END cell and the user is left without her DNS requests being
answered. Obviously, any connection attempted will have failed by this
There are many reasons that this may happen and the user no reasonable
to inspect the actual DNS response.
===================== Related DNS-like Stuff ===========================
There is additional handling of DNS and DNS related stuff in
address-spec.txt[6]; this includes .onion and .exit notation. While
technically these are used in place of host names, they're not directly
relevant and aren't really important in the scope of Tor's DNS needs.
======================= Old Hope: tor-proxy-dns ========================
Once, a long time ago, we had a super star programmer named Tup in our
community. He was anonymous to us. He was a programming machine and
we really miss him. We often wonder and worry about what has happened
to our friend. He would crank out code in a myriad of languages that
served all sorts of useful purposes. One of the things that he wrote
was a small program in Python called tor-proxy-dns; this software was
useful but written in Python, abandoned by the missing superstar, and
generally lost to the sands of time.
Tor interacted with tor-proxy-dns in an important way: it took advantage
of the VirtualAddrNetwork configuration option.
VirtualAddrNetwork is an obscure but very useful option for decreasing
latency at connection time. When enabled, Tor will automatically return
a specially mapped IP address. Eventually, Tor will learn the real
address and keep an internal mapping between the virtual address and the
real address. Tor remembers this mapping for the duration of execution
but it is not saved between Tor restarts. This works except in cases
where the IP address is noted by an application, such as OpenSSH. This
will decrease perceived and actual latency but it has frustrating side
effects for some applications.
===================== A New Hope: ttdnsd ===============================
The Tor Project has adopted The Tor TCP DNS Daemon, herein known as
ttdnsd, from code originally written by the Fantastic Collin Mulliner.
He was kind enough to re-license it under the BSD license and send it
our way. Roger, Kragen, Nick, Jacob, and others have spent some spare
time over the last month hacking on it. We've made a lot of improvements
and we think there's a lot more to be done. ttdnsd is a useful way to
work around the limitations inherent in how DNS is currently handled.
ttdnsd is a small C program that allows you to make arbitrary DNS
requests of any type. This is possible because ttdnsd converts any UDP
request it receives into a TCP connection. It shuffles the data to an
open recursive DNS server on the internet, waits for a reply, and then
sends the reply back over the UDP socket where it received the original
query. This means that ttdnsd uses Tor like any other TCP application.
It also means that for ttdnsd to function, you'll need to have at least
a single public, open, recursive DNS server.
ttdnsd is configured by adding name servers to /etc/ttdnsd.conf; by
default, we're shipping with a known tested, known open recursive name
server run by Google: 8.8.8.8. We'd be more than happy to ship multiple
resolvers as long as they don't behave in a funky way[7].
ttdnsd is pretty portable; it was originally designed for embedded Linux
based routers. It currently builds on (Debian, Ubuntu, etc) Gnu/Linux,
FreeBSD, NetBSD, Mac OS X, and perhaps someday also on Windows. It
builds on the iPhone but does not seem to function. Patches are gladly
accepted; bug reports are useful too.
ttdnsd currently must be run as root to function properly. It drops
privileges after it bind()s to port 53 on 127.0.0.1 to listen for UDP
DNS requests; this is similar to DNSPort but provides access to a larger
set of record types.
ttdnsd presents a small privacy trade-off, but it allows for nearly all
DNS records to be resolved. The main privacy concern is that there is a
particular third party or set of third parties that will always answer
your DNS queries. Over time, you may use different exit nodes, but if
you are looking up a relatively uncommon hostname, you may make the same
or similar requests to these DNS servers. As a result, they may be in
a position to speculate about which particular exit node a particular
Tor user was using when. It is unclear how widely this differs from the
real-world resolution process that's already in use; what is the major
DNS resolver used by Tor servers currently? Do we already do this with
a third party?
=================== Installing ttdnsd with dpkg ========================
If you have our Debian package repository added to your sources.list
file, installing ttdnsd is as easy as:
    apt-get update
    apt-get install ttdnsd
You should have a Tor running and then you should run ttdnsd:
    /etc/init.d/ttdnsd start
If you'd like ttdnsd to start on boot, add it to the right rc.d locations:
    update-rc.d -f ttdnsd defaults
====================== ttdnsd git Repositories =========================
The most up to date code for ttdnsd is in my tor-extra git repo:
    Clone the git repository like so:
    git clone git://git.torproject.org/ioerror/ttdnsd
When we're ready for a Serious Release, it will have its own git repo:
    ======================== ttdnsd tar.gz Files ===========================
If you're git-adverse, I've also made a (signed) tar.gz:
        Fetch the tar.gz file and the signature:
    cd /tmp
    wget ===================== Verifying GPG Signatures =========================
You should verify that the file is properly signed by my GPG key. If you
don't have it, you'll need to fetch it:
% gpg --recv-key 0xE012B42D
gpg: requesting key E012B42D from hkp server pool.sks-keyservers.net
gpg: key E012B42D: "Jacob Appelbaum " not changed
gpg: Total number processed: 1
gpg:              unchanged: 1
You should expect to see a good signature for the source code you've
just downloaded:
% gpg --verify ttdnsd-0.5.tar.gz.asc
gpg: Signature made Thu 01 Jul 2010 01:55:15 AM PDT using RSA key ID
gpg: Good signature from "Jacob Appelbaum "
gpg:                 aka "Jacob Appelbaum "
Obviously the file names, and the date of the signature will vary from
release to release. It's important to check signatures, if you're going
to skip any step, don't skip this one!
======================== Building ttdnsd ===============================
Next, you'll want to unpack the source code:
    tar -xzf ttdnsd-0.5.tar.gz
You'll need nothing more than what is required to build Tor. Compile it
with make:
    cd ttdnsd-0.5
    make
If you'd like to install it directly, you can use the 'install' make target:
    make install
We also provide targets for building a Debian package ('deb'), tests to
ensure that your build works ('demo-tests'), and other useful things for
release engineering. Read the Makefile for more information.
======================== Starting ttdnsd ===============================
(Note that if you already have a local name server or local caching
resolver, the default ttdnsd configuration may conflict with it, since
both will want to listen on the tcp/53 port on 127.0.0.1.  Some advice
about making ttdnsd coexist with an existing local caching resolver is
provided in a subsequent section.)
Using ttdnsd is quite straightforward. First, you'll want to run it by
starting it with the init.d script:
    /etc/init.d/ttdnsd start
You should see that it is running:
nobody   24108  0.3  0.0  17072  1376 ?        Ss   18:30   0:00
After startup, ttdnsd chroots and quickly drops privileges. You should
see that it is listening on UDP port 53, it should be bound to 127.0.0.1
by default:
ttdnsd    24108 nobody    3u  IPv4 5458297      0t0  UDP 127.0.0.1:domain
======================== Resolving Hosts ===============================
If you'd like your entire system to use ttdnsd for resolution, you'll
want to add 127.0.0.1 to the system /etc/resolv.conf file.
You can now use any program that requires working DNS and your entire
system will resolve things through ttdnsd. Note that this will require
tor to be running in order for any application to make DNS queries,
even if that application isn't torified or would not normally be
dependent on tor.
A basic example is as follows:
    dig  -t mx gmail.com
You should see something like the following:
; <<>> DiG 9.7.0-P1 <<>>  -t mx gmail.com
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 56356
;; flags: qr rd ra; QUERY: 1, ANSWER: 5, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;gmail.com.			IN	MX
;; ANSWER SECTION:
gmail.com.		2858	IN	MX	40 alt4.gmail-smtp-in.l.google.com.
gmail.com.		2858	IN	MX	5 gmail-smtp-in.l.google.com.
gmail.com.		2858	IN	MX	10 alt1.gmail-smtp-in.l.google.com.
gmail.com.		2858	IN	MX	30 alt3.gmail-smtp-in.l.google.com.
gmail.com.		2858	IN	MX	20 alt2.gmail-smtp-in.l.google.com.
;; Query time: 413 msec
;; SERVER: 127.0.0.1
;; WHEN: Thu Jul  1 18:41:05 2010
;; MSG SIZE  rcvd: 150
Assuming that it's working properly, you should be able to resolve
almost any DNS record. The 'demo-tests' target keeps track of working
requests that we're using as tests. Here's a sample output of those tests:
; <<>> DiG 9.7.0-P1 <<>>  -t mx torproject.org
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 11875
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;torproject.org.			IN	MX
;; ANSWER SECTION:
torproject.org.		3600	IN	MX	10 eugeni.torproject.org.
;; Query time: 1158 msec
;; SERVER: 127.0.0.1
;; WHEN: Thu Jul  1 18:35:21 2010
;; MSG SIZE  rcvd: 55
dig  -x 38.229.70.10
; <<>> DiG 9.7.0-P1 <<>>  -x 38.229.70.10
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 47484
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;10.70.229.38.in-addr.arpa.	IN	PTR
;; ANSWER SECTION:
10.70.229.38.in-addr.arpa. 86400 IN	PTR	torproject.org.
;; Query time: 1790 msec
;; SERVER: 127.0.0.1
;; WHEN: Thu Jul  1 18:35:23 2010
;; MSG SIZE  rcvd: 71
dig  -t A torproject.org
; <<>> DiG 9.7.0-P1 <<>>  -t A torproject.org
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 63793
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;torproject.org.			IN	A
;; ANSWER SECTION:
torproject.org.		300	IN	A	38.229.70.10
;; Query time: 2020 msec
;; SERVER: 127.0.0.1
;; WHEN: Thu Jul  1 18:35:25 2010
;; MSG SIZE  rcvd: 48
dig  -t SOA torproject.org
; <<>> DiG 9.7.0-P1 <<>>  -t SOA torproject.org
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 55323
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;torproject.org.			IN	SOA
;; ANSWER SECTION:
torproject.org.		3600	IN	SOA	fallax.torproject.org.
torproject-admin.torproject.org. 2010062602 10800 3600 604800 3600
;; Query time: 1994 msec
;; SERVER: 127.0.0.1
;; WHEN: Thu Jul  1 18:35:27 2010
;; MSG SIZE  rcvd: 92
dig  -t NS torproject.org
; <<>> DiG 9.7.0-P1 <<>>  -t NS torproject.org
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 11920
;; flags: qr rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;torproject.org.			IN	NS
;; ANSWER SECTION:
torproject.org.		3600	IN	NS	csail.seul.org.
torproject.org.		3600	IN	NS	asteria.debian.or.at.
;; Query time: 2011 msec
;; SERVER: 127.0.0.1
;; WHEN: Thu Jul  1 18:35:29 2010
;; MSG SIZE  rcvd: 91
dig  -t MX torproject.org
; <<>> DiG 9.7.0-P1 <<>>  -t MX torproject.org
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 27205
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;torproject.org.			IN	MX
;; ANSWER SECTION:
torproject.org.		3591	IN	MX	10 eugeni.torproject.org.
;; Query time: 2050 msec
;; SERVER: 127.0.0.1
;; WHEN: Thu Jul  1 18:35:31 2010
;; MSG SIZE  rcvd: 55
dig  -t CNAME svn.freehaven.net
; <<>> DiG 9.7.0-P1 <<>>  -t CNAME svn.freehaven.net
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 30467
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;svn.freehaven.net.		IN	CNAME
;; ANSWER SECTION:
svn.freehaven.net.	3600	IN	CNAME	moria.freehaven.net.
;; Query time: 1937 msec
;; SERVER: 127.0.0.1
;; WHEN: Thu Jul  1 18:35:33 2010
;; MSG SIZE  rcvd: 55
dig  -t srv _xmpp-client._tcp.google.com
; <<>> DiG 9.7.0-P1 <<>>  -t srv _xmpp-client._tcp.google.com
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 48258
;; flags: qr rd ra; QUERY: 1, ANSWER: 5, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;_xmpp-client._tcp.google.com.	IN	SRV
;; ANSWER SECTION:
_xmpp-client._tcp.google.com. 900 IN	SRV	5 0 5222 talk.l.google.com.
_xmpp-client._tcp.google.com. 900 IN	SRV	20 0 5222 talk1.l.google.com.
_xmpp-client._tcp.google.com. 900 IN	SRV	20 0 5222 talk4.l.google.com.
_xmpp-client._tcp.google.com. 900 IN	SRV	20 0 5222 talk3.l.google.com.
_xmpp-client._tcp.google.com. 900 IN	SRV	20 0 5222 talk2.l.google.com.
;; Query time: 2070 msec
;; SERVER: 127.0.0.1
;; WHEN: Thu Jul  1 18:35:35 2010
;; MSG SIZE  rcvd: 235
dig  -t aaaa ; <<>> DiG 9.7.0-P1 <<>>  -t aaaa ; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 35454
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;			IN	AAAA
;; ANSWER SECTION:
		75737	IN	AAAA	2001:200:0:8002:203:47ff:fea5:3085
;; Query time: 2010 msec
;; SERVER: 127.0.0.1
;; WHEN: Thu Jul  1 18:35:37 2010
;; MSG SIZE  rcvd: 58
dig  -t RRSIG nic.se
; <<>> DiG 9.7.0-P1 <<>>  -t RRSIG nic.se
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 757
;; flags: qr rd ra; QUERY: 1, ANSWER: 8, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;nic.se.				IN	RRSIG
;; ANSWER SECTION:
nic.se.			3600	IN	RRSIG	DNSKEY 5 2 3600 20100709132001 20100629132001
16696 nic.se. oavONntdt+8Pr316wC4sKZ7NI1Zlb1+aIMmV/oxipB2uqW19YOFQVFXi
VOAdyS93oOJ02GbbLAINDEnOdRQjRAN7rVKjxvYNm8rpD0WVY+sUptxH J8mDfw==
nic.se.			3600	IN	RRSIG	DNSKEY 5 2 3600 20100709132001 20100629132001
55823 nic.se. kBLx0gKKLNIk4U8DE/iv2cS7AV97fwItWpSdJ2Olj7k3iCSudD4fbmvi
Oc8440mvzJgVJlmPFwhlDIhi0GpHIa1wMiSxxksoWE5sPkHlRdKeTWyn Mjg=
nic.se.			3600	IN	RRSIG	NSEC 5 2 3600 20100709132001 20100629132001
55823 nic.se. Z3QdzalLyaMznWbcPnMHx+szaIXYPVTyGIgAt5cHR2LUfBA5zFnc97YT
Xq6Yw7m63oZ9bI/LWeWGpqbUP6SM6Ep6uCy2Vg770yUiBrq3ativBpPF 4nA=
nic.se.			3600	IN	RRSIG	TXT 5 2 3600 20100709132001 20100629132001 55823
nic.se. cKbHyteyMbSjWlYTbpUIwTFLDhLkve3IEEIpJYGqDS1zlJEyEUwXGICz
ocou+S5qjf8d1N0sGbPTwgW8Ox6UqtZNuxC3439dfGEpYddKcFQtZXuv pd0=
nic.se.			60	IN	RRSIG	MX 5 2 60 20100709132001 20100629132001 55823
nic.se. R3v4z2rEZhUooLgsNjPO0E16+ZfJ2woyOBvj3urcKqJl6naFkkAsOMPT
RC5af5aEJ1THwbwKjEy1Sy4BX491pv/DcSyP38NwuA1sNNsTR49z7y1G EgQ=
nic.se.			60	IN	RRSIG	A 5 2 60 20100709132001 20100629132001 55823
nic.se. BJAEBo/oFE+0UQVQgKjwParFf9niSTCGs2h2rvfv0anVgajJ0zhHql8B
KXBaWp33iiCmxz8kYPF5I2A/DB2wn2DDpKOWnGu0bHTODVw2pdu7hPzA aEE=
nic.se.			3600	IN	RRSIG	NS 5 2 3600 20100709132001 20100629132001 55823
nic.se. trYpBLcAz7Cqy0yoNLhSQVfBDlUBIJgDLOcKcU6urQz6toXC/L+CuONw
125v+ekGegOMQgSfH/W/iSyNZPUI67+FHnoEfrV+MbWJos8HofUv5slX 9Wg=
nic.se.			3600	IN	RRSIG	SOA 5 2 3600 20100709132001 20100629132001 55823
nic.se. vq2awZI3aKXf0yoy1wdFxz6Uk2j6Zv/x4AaJRg8O+qJumAtA4JrW98jm
5OWj6HMs/ctMrh0wvwPQZ3SOYp+9zUEAYF178NyfQ/B93ujyFFAaVKqQ jkw=
;; Query time: 2344 msec
;; SERVER: 127.0.0.1
;; WHEN: Thu Jul  1 18:35:39 2010
;; MSG SIZE  rcvd: 1480
========================= Caching Answers ==============================
If you have a local DNS cache, it's probably reasonable to configure
ttdnsd as your cache's DNS cache. We've heard good things about unbound
and also djb's dnscache. Any DNS cache that doesn't leak requests to the
network is probably a reasonable choice. ttdnsd doesn't cache answers in
any meaningful way and so it is probably required that you run your own
cache in front of ttdnsd for better performance.
It may be reasonable to run a local DNSPort on 127.0.0.1:53, a copy of
ttdnsd on 127.0.0.2:53, and some kind of DNS cache on 127.0.0.3:53. If
the resolver on 127.0.0.3:53 is the system resolver and it prefers
127.0.0.1:53, it may only resolve with ttdnsd when Tor is otherwise
unable to resolve the hostnames. This kind of failure mode may take
longer but will ultimately be cached, only using the less privacy
friendly DNS resolution services when absolutely necessary. Your
kilometrage may vary.
==================== Additional Privacy Issues =========================
Some applications may provide a proxy setting but disregard it in
certain circumstances. ttdnsd can make the use of these applications
safer with regard to DNS leaks.
For instance, it is often the case that third party XMPP clients attempt
to look up SRV records when registering an XMPP account. Sadly, many
clients appear to simply leak the server information, even if the
account has been explicitly configured to use a proxy. In the author's
opinion, these clients' behavior is inappropriate: people use proxies
for many reasons, not the least of which may be for security or privacy
issues posed by sending unencrypted data to the local network. By using
ttdnsd or the DNSPort, the system resolver should fail to leak the DNS
requests to the local network. When using ttdnsd, it should be possible
for things to simply work transparently, whereas they may fail entirely
with DNSPort.
=================== Additional Security Issues =========================
Unlike when a user resolves through Tor with the DNSPort or
otherwise, ttdnsd does not provide protection against forged DNS
requests. Specifically it does not currently provide the same
protections as ClientDNSRejectInternalAddresses does for responses that
contain private address space. This means that ttdnsd should be used
with slightly more caution unless you're using DNSSEC or DNSCurve
enabled resources. If the DNS resources that you're using are actually
secured, it's probably more secure to use ttdnsd than to not as Tor does
not currently support DNSSEC or DNSCurve.
With any mechanism that forwards DNS requests over tor, the tor exit
node is in a position to falsify DNS responses, unless they are
verified with a separate mechanism like DNSSEC. That means that a
hostile exit node, or exit node's ISP, could try to redirect you to
false or compromised versions of the services that you want to
communicate with. As with all other use of tor, tor cannot directly
protect you from these threats unless you have some additional
cryptographic mechanism to identify the services you're communicating
with. This threat is not specific to the use of ttdnsd.
========================= Going Forward ================================
There are many areas where we may be able to improve the way that Tor
handles arbitrary DNS request types; if you feel like being the one to
Bell The Cat for any of these DNS issues, feel free to chime in! It's
likely going to take a proposal or two to really change things.
I'm hopeful that ttdnsd will serve as a useful UDP to TCP shim until we
find a good way to modify the Tor network to support all of the future
DNS changes coming down the pipe.
We'd love some help with ttdnsd - please download the source and check
out TODO.HACK for some outstanding tasks in need of an outstanding hacker.
This document will be updated and should remain in the ttdnsd git
=========================== Footnotes ==================================
[-1] [0] tor-resolve(1) ships with most distributions of Tor
[2] [3] [4] [7] For instance, OpenDNS considers it a feature to modify DNS results
in some circumstances. We don't think these modifications are
appropriate defaults for Tor users.

@_date: 2010-03-04 05:14:11
@_author: Jacob Appelbaum 
@_subject: Android Tor packages 
The Tor Project has been working very closely with Nathan Freitas and
The Guardian Project to create an Android release. This is an early beta
release and is not yet suitable for high security needs. The Android web
browser is not protected by Torbutton and we have not yet developed an
anonymous browser on the Android platform. Please be cautious with this
release, it's probably pretty fragile and it's certainly not ready for
serious use.
We've codenamed the Tor on Android project Orbot; Orbot is a single
Android package that provides a new Tor controller, Privoxy as our
trusty little HTTP proxy, libevent, and Tor itself. This Android package
is using the C reference implementation of Tor. Orbot should be orders
of magnitude safer than other Tor implementations on Android and it's
our official release. Everything you'll need for using Tor is in the
package. :-)
We now have a webpage that discusses the Orbot Android package in some
Orbot has some commonly used features such as support for bridges. It
also has advanced features such as per application Torification on
modified devices (commonly called 'rooted' phones). It has been tested
on Android 1.5, 1.6, 2.0, 2.1 and on non-standard customized builds of
Android. We think we've ironed out most of the kinks but we're looking
for some community feedback from devices in the wild. We'd especially
like to hear about the UI and what applications you commonly use with Tor.
When Orbot is successfully installed and running, it should provide a
few standard interfaces to interface with the Tor network. Privoxy
listens on 127.0.0.1:8118 - it's chained to the standard Tor SOCKS proxy
on 127.0.0.1:9050. In addition, we have a DNSPort on port 5400. The
DNSPort is most commonly used by the automagical per application
Torification. These ports may change in the future; if they conflict
with other common and popular applications, we'd like to hear about it.
Our official builds are available from our website. As per our usual
style of package releases, we're releasing the .apk package with gpg
If you'd simply like the latest Android package, please visit this url:
If you have the barcode scanner, you'll be able to directly load the
latest package by scanning the following QR code:
We plan to release Orbot in the Google Market in the near future. The
Orbot package you install from our website and the application in the
Market should be identical. In addition to the GPG signature, the .apk
files contain a digital signature. If you're feeling reasonably
paranoid, it's probably a fine idea to download the .apk from our
website, check the gpg signature, and then install the package on your
device manually.
If you'd like to reproduce our builds from source, we've documented the
build process here:
If you'd like to read more about Orbot, we suggest you check out the
source and start hacking around:
svn co  android/
Please remember that this is an early beta and please let us know about
the bugs you experience!

@_date: 2010-03-04 11:17:04
@_author: Jacob Appelbaum 
@_subject: Android Tor packages 
It was largely an arbitrary choice at the time we started working on
Orbot (sometime last fall).
Thanks. What's your interest and focus for a mobile Tor?

@_date: 2010-05-06 11:05:17
@_author: Jacob Appelbaum 
@_subject: Using tor as proxy for the command line 
I wrote a little program to ease my use of wget with Tor/Polipo/Privoxy:
% cat tor-wget
 -x
export http_proxy=3D127.0.0.1:8118
export https_proxy=3D127.0.0.1:8118
wget -U " " $@
I also started working on a patch to nmap with Fyodor to work with SOCKS
proxies; it's in my (ioerror) svn branch on the nmap subversion server.
It sorta works but it's not great for anonymity because of the many
kinds of packets that nmap wants to send.
All the best,

@_date: 2010-05-07 13:14:14
@_author: Jacob Appelbaum 
@_subject: Using tor as proxy for the command line 
There's an nmap branch with some basic SOCKS proxy support here:
All the best,

@_date: 2010-10-11 14:16:04
@_author: Jacob Appelbaum 
@_subject: tor-ramdisk 20101011 released for i686 only 
Via FTP? It's probably not a good idea to export a private key without
using encryption...
All the best,
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-09-24 16:01:22
@_author: Jacob Appelbaum 
@_subject: The best way to run a hidden service: one or two computers? 
Try the following by hand:
sudo ifconfig eth1 hw ether 00:00:00:00:00:00 # make this something
All the best,
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2010-09-01 15:55:07
@_author: Jacob Appelbaum 
@_subject: How to Run High Capacity Tor Relays 
If you're using a fast CPU, it's almost not worth the trouble to bother
with hardware acceleration.
All the best,
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-08-24 03:22:50
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Wiki as a Hidden Service 
I needed to set up and deploy a Wiki as a Hidden Service on a Debian
system for a project.
I wanted a Wiki that didn't generate email, didn't make TCP connections,
was privacy preserving, was generally lightweight but extensible, didn't
require a database and so on. I settled on Kwiki as the author happened
to suggest it at the right time - it's pretty simple and generally
meshes with what I want. There's even a way to make it run it's own web
server but for the time being, I decided to use apache2. There's room
for improvement, I think.
I thought that others might be interested and so I put everything into a
git repo:
Patches welcome. I might make it use stealth Hidden Services by default
but I think that is is a fine exercise for the reader.
All the best,

@_date: 2011-12-16 00:48:05
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Did we decide about bad exits ? Where 
I'm not clear that it will harm the network if Tails includes a
BitTorrent client. I think that the harm comes when someone runs a few
seeding boxes through Tor and doesn't bother to add any capacity to the
network at all.
It seems like Transmission is a fine torrent client. On second thought,
I'd want to see what possible clients are written in Python or another
"safer" language. One challenge is that any security bug, and certainly
memory corruption bugs in C programs, may become an anonymity bug rather
quickly. So an audit is really two tasks - the first is to see if it's
proxy aware/obedient and the second is that the code base is generally
sanely written.
I think that you should do so if only to ensure that Tails is
need/intention complete. It's going to be a great day when someone can
easily and simply anonymize their entire computing experience without
needing to learn if they shot themselves in the foot, etc.
Speaking of which - did you see my recent list of tails comments?
All the best,

@_date: 2011-12-19 21:30:07
@_author: Jacob Appelbaum 
@_subject: [tor-talk] "If you have access to certain tools, 
No Backdoors. No bugdoors. No so-called "lawful interception" systems.
As another person working on Tor - I'll be more direct and less
ambiguous: If anyone ever even *tries* to force us to insert a backdoor,
we'd tell the world. We won't every compromise the security of Tor and
we will never insert a backdoor. Never.
We must reject these so-called "compromises" for so-called "lawful
interception" and we must fight against their deployment everywhere.
They are harmful to everyone - including those that use them
legitimately - just ask the Greek phone operator who was suicided after
the Great Greek Vodafone Backdoor was found.
The abstinence model is a punt. That model claims that the world exists
outside of the internet and for most people it does not. It's also a
claim that the "non-internet" world offers "true anonymity" and it does not.
All the best,

@_date: 2011-12-22 03:35:58
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Automatic vulnerability scanning of Tor Network? 
Hi naif,
While we sometimes disagree on things, I think we're in full agreement
here. I think it's important to support your intentions in this thread.
Tor is targeted by extremely talented people who would never lift a
finger to help anyone involved in the Tor Project. The Tor network is
probably undergoing a constant audit by multiple parties with extremely
negative intentions. Certainly I hope we all agree that lots of people
wish they could attack Tor users directly and if nothing else, that may
serve as a motivator for some people to attack the network however they
I think you're getting a lot of noise and it's pretty sad for almost all
of the reasons that you outlined. I really appreciate that you're trying
to make a positive impact. I also appreciate that rather than going
around spreading FUD, you're trying to find a way to improve things,
even if perfection is not attainable. You're making observations about
where we can and even should improve software, improve operational
security and even where we have to punt.
I really appreciate that you're not working for people who wish to do
the Tor network harm. Please do consider the concerns of people in this
thread and weight your actions against those people. They too are trying
to help the network, the project, and the users.
Hopefully we'll all meet at CCC for a mate to discuss this in person!

@_date: 2011-12-22 05:02:48
@_author: Jacob Appelbaum 
@_subject: [tor-talk] janusvm still safe? 
We need ways to dump the BIOS, SMM related stuff and other embedded
controllers. It's easy to know if the disk is changes, it's quite hard
to know if the same is true for the BIOS/EFI/Keyboard EC/etc.
All the best,

@_date: 2011-01-28 08:46:58
@_author: Jacob Appelbaum 
@_subject: exit node config for egypt IP range 
This isn't true. I have access to some machines in Noor - this is an ISP
currently active in Cairo.
All the best,
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-01-30 02:01:51
@_author: Jacob Appelbaum 
@_subject: Is "gatereloaded" a Bad Exit? 
An important difference is that some people specifically create exit
policies to attract traffic worth passively sniffing. In any case, it
hardly puts more load on nodes that "support encryption" unless they
also are supporting the unencrypted protocols in the first place.
It sounds like there's now a known reason for your exit policy, I doubt
anyone would bad exit you.
All the best,
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.

@_date: 2011-07-23 11:50:36
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Separate Tors for Communities/Special Purposes? 
Hi Moritz,
Ironkey has their own Tor-like network in production and people use it.
It probably isn't very safe for most uses but it might be fine for
others, who knows?
Other people have similar networks using Tor and some run them as a test
network. I think test networks are generally fine, they help us find
bugs and generally it's exciting for someone to spin up a bunch of
systems all at once. That seems like a reasonable thing to do.
I agree that it's crazy talk for anonymity reasons. However, you
actually said the one word that absolves you of being instantly
immolated by fire from the heavens: experiment!
Experiments are great! Warning users using it that you're undertaking an
experiment that provides no security, no anonymity and so on is also
great! Unless they need it and they can't provide informed consent. See
also the "immolation by fire" for this case. :) You probably want to
limit who can even access the nodes without ensuring they're actually
informed and that you feel comfortable with their understanding of the
point of your experiments.
I think it would be really interesting if you ran your own experimental
Tor network to understand if it's even possible to run usable VoIP calls
over a network of Tor nodes. I wonder what protocols would be useful?
I'm not sure what VoIP security model you're thinking of - other than
ZRTP, I'm not sure there's much in the VoIP security world worth much...
Lets talk about it at the TorDev meeting?
All the best,

@_date: 2011-06-29 06:56:05
@_author: Jacob Appelbaum 
@_subject: [tor-talk] embedding tor into apps? 
Isn't it possible to do this by spawning Tor as we do on Android?
All the best,

@_date: 2011-03-03 10:26:44
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Excito's B3 and TOR 
Since i mailed Excito and Tor and suggested that a cooperation to create
the worlds first box with a built in  Tor router, the developers of Tor
got a pair of free B3 units to play around with.
It's probably the case that we'll want the Tor package on the B3
platform to enable tor-fw-helper by default.
All the best,

@_date: 2011-05-04 12:46:58
@_author: Jacob Appelbaum 
@_subject: [tor-talk] anonymous surveys via Tor? 
I'll look into this.
I've advised a few places on how to conduct a survey via Tor - you're
not alone in your endeavor but they're all rather quiet at the moment.
So perhaps you'll be the first in public to do it!
All the best,

@_date: 2011-11-06 11:26:49
@_author: Jacob Appelbaum 
@_subject: [tor-talk] BlackBeltPrivacy-Tor+WASTE darkNet() 
I feel inspired to make a short Dr. Bronner's soap bottle parody about
anonymity after reading that website:
NOW UPDATED. ALL ONE ANONYMITY DARKNET WITH ROUND THE CLOCK
COMPUTABILITY WITH ALL BROWSERS THANKS TO KNOWN DEPRECATED HTTP PROXY.
TRUE {FRACTCAL,RABID}CURVE, HOTBAKE, DARKBIOS, DARKRENDEZVOUS. NOW
UPDATED. POWERED BY ONE TRUE ANONYMITY NETWORK Tor STRENGTHENED THROUGH
YOUR SOLIDARITY FOR BOOTSTRAPPING WASTE CONTROLS MEANS OF PRODUCTION.
Ahem. I cannot take this seriously at all when they don't even sign
their releases with PGP. Oh and the software itself it pretty
hilariously scary - I'd love to read some design documents on those
"improvements" they made.
I think it's a neat idea to Torify a WASTE implementation but that
sounds mostly like auditing work - Is there even a WASTE client that is
still maintained?
Yours in hilarity,

@_date: 2011-11-06 11:59:40
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Implement JSONP interface for check.torproject.org 
I guess? I think it's good to discuss the issues in the open but I think
it's overwhelming to average users. Offer it as a simple service,
explain the risk, make it easy to use, etc.
I like the idea of everything being in a single script - to prevent hot
linking that falsely suggests someone is using Tor...
Seems reasonable. Already too complicated.
All the best,

@_date: 2011-11-07 22:28:09
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Tor and AES-NI acceleration , and Tor profiling 
What chips do you suggest for this? I was thinking of buying a new
machine and I think it might be nice to put up a wiki page. I know that
I have one of those HiFn cards and it worked as well as was expected.
What else do we know works with Tor/OpenSSL?
Any thoughts on accelerating those?
Aren't you really just replacing them with hardware specific side
channel attacks against their implementation of AES? :)
That does sound nice - perhaps for the `tor --benchmark` idea?
All the best,

@_date: 2011-11-10 09:28:59
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Tor no longer works with win2K ?? 
Just as a general warning, I suspect the Random Number Generator on
Windows 2000 is not so great. I would seriously consider installing a
recent Operating system or booting a tails live CD.
All the best,

@_date: 2011-11-13 15:47:46
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Tor no longer works with win2K ?? 
That's obviously not what Sebastian is experiencing.
Is that published fact?
Your understanding of the issue might not be the full picture. If you're
using an old and unsupported Windows OS such as Win2k, I think you're
totally doomed.
Yep and you dismissed it. You're running a EOL OS - install a new OS
[citation needed]
It is one of the most exploitable systems around  - it lacks security
patches for many issues and it is without nearly any of the modern
protections available in other versions of (supported) Windows.
If a binary runs on an old OS - great - however, I think it's important
to note that if you use an EOL OS - you should probably consider that
the support that matters is not Tor but Microsoft.
We do the best that we are able to do with the resources that we have
available. We do not have a patched Windows 2000 system because windows
2000 is EOL.
That's a creative way to frame it.
Crazy - did you receive money for your incomplete bug report that is
part of the development cycle?
User feedback?
If you want to help, great. If not, please stop harassing people who are
working very hard on the modern operating systems that are supported by
both the vendor and by the Tor community.
We expect technically skilled users to help us when we stumble. If
you're going to help great, if you're just going to attack us, please
understand that it isn't helpful.
All the best,

@_date: 2011-11-29 12:13:26
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Tor resolver DNSSEC RRs 
That's something that I've started to work on with letoams and there's a
bit of progress here:
All the best,

@_date: 2011-10-30 17:31:34
@_author: Jacob Appelbaum 
@_subject: [tor-talk] which apps require an http proxy? 
I regularly use the HTTP proxy of Privoxy with wget, Firefox, python
(ooni-probe, other code), and lots of various applications via the Gnome
Proxy settings on Gnome based systems - otherwise, I sometimes use a
HTTP proxy with proxychains to prevent DNS leaky applications that have
not and will never implement SOCKS.
I don't use polipo anymore - I found that it had a lot of security and
reliability issues. I'm glad that we're dropping it. I use privoxy when
I need some kind of HTTP proxy.
I use SOCKS for IM and web browsing. I use TransPort for lots of other
things. For ssh I use the following in my .ssh/config with socat:
ProxyCommand socat STDIO SOCKS4A:localhost:%h:%p,socksport=9050
All the best,

@_date: 2011-10-30 23:35:18
@_author: Jacob Appelbaum 
@_subject: [tor-talk] which apps require an http proxy? 
wget is the most common example that other people use - with wget, I set
the HTTP headers match Torbutton:
usewithtor wget -e robots=off --random-wait --wait 3.145
--user-agent="Mozilla/5.0 (Windows NT 6.1; rv:5.0) Gecko/20100101
Firefox/5.0" -m -np Python's web/http processing libraries could probably be improved in the
core language to always use SOCKS proxies that are set:
Those are both useful building blocks.
Again, I also use a lot of Gnome programs and set both HTTP and SOCKS
proxies - so sometimes I'll watch a video and I am fairly certain it
used the HTTP proxy rather than the SOCKS proxy, etc.
Almost all the time, I use usewithtor to wrap a program when I worry it
might leak and then I instruct it to use a local proxy for anything
else. This method seems to block nearly all leaking and then I have
iptables for TransPort to catch anything else - I rarely find anything
but when I do, I generally report it as a bug in torsocks...
I wish we'd ship torsocks as part of the bundle. It helps advanced
users. It also would be a useful TBB helper to prefix any other program
for safer execution. I'd rather it than any old HTTP proxy but I think
we still will need an HTTP proxy in some cases.
All the best,

@_date: 2011-09-04 19:41:21
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Dutch CA actually issued a lot more than *.torproject.org 
I've added a second blog post that I believe will be of interest to Tor
This is the list of CA roots that should probably never be trusted again:
DigiNotar Cyber CA
DigiNotar Extended Validation CA
DigiNotar Public CA 2025
DigiNotar Public CA - G2
Koninklijke Notariele Beroepsorganisatie CA
Stichting TTP Infos CA
The most egregious certs issued were for *.*.com and *.*.org while
certificates for Windows Update and certificates for other hosts are of
limited harm by comparison. The attackers also issued certificates in
the names of other certificate authorities such as "VeriSign Root CA"
and "Thawte Root CA" as we witnessed with ComodoGate, although we cannot
determine whether they succeeded in creating any intermediate CA certs.
That's really saying something about the amount of damage a single
compromised CA might inflict with poor security practices and regular
internet luck.
Additionally, I've uploaded the files that include as much information
as is currently know:
All the best,

@_date: 2011-09-08 14:38:15
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Tor spying 
In case it wasn't obvious from the other posters in this thread, I
thought I'd correct you:
I have not sniffed Tor traffic. Stop spreading baseless rumours.

@_date: 2011-09-11 11:20:01
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Google and Gmail 
I certainly trust Google's legal team to fight and then notify me in the
event of The Man coming for information.
Many other email providers wouldn't fight for their users and you'd
never know that They came at all.
All the best,

@_date: 2011-09-11 11:55:51
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBridge + ttdnsd = Problem 
ttdnsd is sometimes unstable - could you try building from source of the
latest git repo? Or perhaps grabbing a crash dump of sorts?
All the best,

@_date: 2011-09-19 16:55:30
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Bitcoin client - Tor safe? 
I looked at the code a few months ago with a friend in Iceland. If I
remember correctly... If it fails to use the proxy it will silently stop
using the proxy without any UI changes. Thus, you think you're using Tor
but the Bitcoin software itself doesn't tell you that it actually just
directly connected.
I admit, I didn't spend too much time looking at that specific issue but
it seems worthwhile to look into that as a possible issue. A full audit
of Bitcoin for use with Tor seems like a reasonably good idea, I'm
certain that Gavin would appreciate it. I've cc'ed him, so perhaps if
I'm correct, he'll hear about this directly.
All the best,

@_date: 2011-09-28 12:41:13
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Tor as a sort of "library/dependancy" for third 
Makes sense. Thanks for driving the field forward!
torsocks has some basic c functions that safely wrap sockets - it uses a
Tor proxy but your C program can simply use the torsocks C API rather
than doing anything with socks. If you look in torsocks.c you'll see the
  API for users linking against libtorsocks. Expands to function
definitions for:
    torsocks_connect()
    torsocks_close()
    torsocks_poll()
    torsocks_sendmsg
    torsocks_sendto
    torsocks_res_query()
    torsocks_res_search()
    torsocks_res_send()
    torsocks_res_querydomain()
    torsocks_gethostbyname()
    torsocks_gethostbyaddr()
    torsocks_getaddrinfo()
    torsocks_getipnodebyname()
  See also torsocks.h
You should be able to safely link against torsocks and then use
torsocks_connect() rather than connect() or similar calls. If you
additionally bake in some .onions, I think you'll be in good shape.
There are a few designs - I think that using the torsocks socket API is
a reasonable way. Alternatively, it might make sense to use the above
API and then change the backend in torsocks to use something like a unix
socket rather than a TCP connection for SOCKS.
I don't think silvertunnel is a good idea - the code is based on
OnionCoffee which has major problems. I would suggest JTor but only
after a careful audit and some serious work ensuring that it's safe.
All the best,

@_date: 2012-04-18 21:42:11
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Tor's critique of Ultrasurf: A reply from the 
Hey Kyle,
I cited your work - I thought it was interesting but it didn't go far
enough. Specifically, I found that some of the traffic you saw is most
likely their decoy traffic - check out my paper, I bet you'd enjoy it.
All the best,

@_date: 2012-04-29 13:01:58
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Tor with ttdnsd and unbound 
I'm the current maintainer of ttdnsd and I fully support using something
that isn't such a hack.
I know that Paul Wouters and another unbound developer hacked together a
udp/tcp listener that only made outbound TCP connections. I think I made
some notes in the ttdnsd git repo at one point.
There was a patch that needed to be applied to unbound but I believe it
is now merged. If that is the case, I think that unbound and either
TransPort + iptables, socat, torsocks and unbound would be the best path
That sounds interesting.
I think this doesn't scale very well but it's never the less quite
interesting as well!
All the best,

@_date: 2012-08-01 00:55:35
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.0.10 released - testing and feedback 
We'd love to have some graphics or a logo for TorBirdy - please do feel
free to send us some of your ideas!
All the best,

@_date: 2012-08-05 01:05:33
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.0.11 released - testing and feedback 
TorBirdy 0.0.11 is now out. It's still quite experimental - of course.
Use as your own risk!
We've added a web page to show some TorBirdy screen shots:
Call for help:
We're looking for assistance with Translations - if you'd like to
translate TorBirdy, we'd gladly accept a patch that prepares TorBirdy
for translation work.
Release Highlights:
0.0.11, 04 Aug 2012
  Implemented an algorithm to generate time-independent message-ID
    (apply the patches in patches/ to a custom Thunderbird build)
  Remove the 'Reference' and 'In-Reply-To' headers when forwarding
  a message
  Implemented a preference setting for TorBirdy with support for
  adjusting:
    proxy settings
    account-specific settings
  Support for testing proxy settings:   Disable push email for IMAP
  Various other stability fixes
General content anonymity caution note:
TorBirdy has known leaks in the Message-ID and in the Date header, we're
working on merging an upstream patch that will allow these leaks to be
closed. There are no known proxy leaks unless you use additional
extensions that do not respect the proxy settings of Thunderbird.
Here's the wiki page for TorBirdy:
  Here's the latest XPI for TorBirdy:
  Here is a proper GPG signature for the latest XPI:
  Here is the sha1sum of torbirdy-0.0.11.xpi:
  9ea8f9ceb7d37dd6dddf783649024e764a662f46
The plugin on AMO has been rejected and so we are still re-requesting
review. Please use the above links to download TorBirdy.
In the near future, we plan to upload a full XPI and GnuPG signature for
every new release to the Tor Project's web server:
  All the best,

@_date: 2012-08-11 23:31:49
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TAILS: Please include a real IRC client (Pidgin 
pwnsauce at Safe-mail.net:
I think including irssi with the OTR plugin to Tails would be great.
However, I think irssi doesn't easily torify - I use it on a special
machine with kernel filtering because it doesn't natively support SOCKS5
or SOCKS4A.
All the best,

@_date: 2012-08-22 02:14:37
@_author: Jacob Appelbaum 
@_subject: [tor-talk] End-to-end correlation for fun and profit 
Maxim Kammerer:
This has serious intersection attack issues, as you note. However, from
a purely practical perspective, even with our UPnP/NAT-PMP work, it's
basically not realistic with ipv4 to make *everyone* a globally
reachable relay.
I do however generally agree with the sentiment that we need to make it
significantly harder for an attacker. It's not clear to me that if
everyone was a relay, they would change the exit selection very much. It
would probably change the location of the guards as expected.
Sadly, it probably wouldn't work well for everyone being an exit - not
the least of which is that running Tor would attract attention beyond
just sending/receiving encrypted traffic.
Thanks for taking the time to start this discussion Maxim - it's a good one.
All the best,

@_date: 2012-02-09 12:15:09
@_author: Jacob Appelbaum 
@_subject: [tor-talk] irc clients and Tor 
Recently my main IRC bounce went down and I decided to redo things. I'd
like to help save people some time and also to give some advice for
people who want to use irssi or similar clients to connect to the Tor
development channels.
Basically using Tor and irssi is intolerable - it doesn't work with
privoxy chained to Tor if you want to use SSL/TLS. As far as I can tell,
it's not possible to use any SOCKS proxy safely if at all without major
pain. torsocks doesn't work for reasons that I can't easily debug and so
I took the kernel filter path...
I've found that the best thing to do on Gnu/Linux like platforms for use
with irssi is as follows:
# install Tor and configure it to have a TransPort and a DNSPort
# add this to /etc/tor/torrc
TransPort 9040
DNSPort 5353
# Add a user
adduser --system --disable-login ircuser
# # Add a firewall rule for Transparent proxy
iptables -t nat -A OUTPUT -p tcp -m owner --uid-owner ircuser -m tcp
--syn -j REDIRECT --to-ports 9040
iptables -t nat -A OUTPUT -p udp -m owner --uid-owner ircuser -m udp
--dport 53 -j REDIRECT --to-ports 5353
iptables -t nat -A OUTPUT -m owner --uid-owner ircuser -j DROP
# You may want to use a different set of rules depending on iptables
versions, etc
# Now add this to your /home/ircuser/.irrsi/config file:
servers = (
  {
    address = "irc.oftc.net";
    chatnet = "OFTC";
    port = "6697";
    use_ssl = "yes";
    ssl_verify = "yes";
    ssl_cafile = "~/.irssi/certs/CAs.pem";
    autoconnect = "yes";
    autosendcmd = "/msg NickServ IDENTIFY you-user-name-here PASSWORD";
  }
chatnets = {
  OFTC = {
    type = "IRC";
    max_kicks = "1";
    max_msgs = "3";
    max_whois = "30";
  };
channels = (
  { name = " chatnet = "OFTC"; autojoin = "Yes"; },
  { name = " chatnet = "OFTC"; autojoin = "Yes"; },
  { name = " chatnet = "OFTC"; autojoin = "Yes"; }
settings = {
  core = {
    real_name = "you-user-name-here";
    user_name = "you-user-name-here";
    nick = "you-user-name-here";
  };
  "fe-text" = { actlist_sort = "refnum"; };
ignores = ( { level = "CTCPS"; } );
Now ensure you have the right SSL CA by following these directions:
You should be good to go - just switch to your irc user and you'll have
a torified irc client with SSL/TLS support.
All the best,

@_date: 2012-02-09 13:46:21
@_author: Jacob Appelbaum 
@_subject: [tor-talk] irc clients and Tor 
It wasn't well documented? :) Where is it?
All the best,

@_date: 2012-02-09 20:08:29
@_author: Jacob Appelbaum 
@_subject: [tor-talk] irc clients and Tor 
Sadly, this .onion isn't a SAN in the cert presented and so irssi throws
up upon receiving it. MapAddress to the rescue perhaps?
All the best,

@_date: 2012-02-10 12:41:50
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Help users in Iran reach the internet 
In the last 48 hours a major campaign of filtering has started in Iran -
it started slow and now appears to be that nearly all SSL/TLS traffic is
blocked on a few major Iranian ISPs. Details are rather rough but we're
working on some solutions - we've long had an ace up our sleeves for
this exact moment in the arms race but it's perhaps come while the User
Interface edges are a bit rough still.
Here's the deal - we need people to run Tor bridges but a special kind
of Tor bridge, one that does a kind of traffic camouflaging - we call it
an obfuscated bridge. It's not easy to set up just yet because we were
not ready to deploy this for everyone yet; it lacks a lot of analysis
and it might even only last for a few days at the rate the arms race is
progressing, if you could call it progress.
There are highly technical instructions here:
Currently if you run such a bridge, you'll either need to manually tell
us (via email to tor-assistants at torproject.org ) about it or you'll need
to share these bridges with people you want to help directly. It's a
pain and we're working on it.
Here's a bug report where we're working around the clock to get stuff
going in a user friendly manner:
This kind of help is not for the technically faint of heart but it's
absolutely needed for people in Iran, right now. It's likely that more
than ~50,000 - ~60,000 Tor users may drop offline.
Watch this graph for an idea of the censorship impact of directly
connecting Tor users:
Here's the same graph but for Tor bridge users in Iran:
We're working on easy to use client software and if you're in Iran or
need one desperately, please email help at rt.torproject.org. We'll try to
get you a working obfsproxy bridge address and working client software.
All the best,

@_date: 2012-02-20 12:30:08
@_author: Jacob Appelbaum 
@_subject: [tor-talk] secure and simple network time (hack) 
For a while I've been interested in secure network time that would be
useful for Tor users. Tor users generally need accuracy to the hour in
the local system clock. That kind of clock accuracy is pretty easy to
achieve with a few different hacks. Some people have taken to setting
clocks with HTTP headers but I think that's a nightmare - not only
because people will parse the header with questionable code but also
because of latency, amongst other things.
I've implemented a bunch of network time checks[0] just for fun and the
tool I wrote, teatime, is useful for looking at a server for timing
information. It's just a tool for poking at systems and it's not meant
to be more than an experimental tool. Feel free to submit patches for
other ways to extract system time from servers types. I decided that the
most reliable time channel worth using was SSL/TLS.
As a result, I've also written another tool, tlsdate[1], that I
regularly use for setting my own clock. It has some drawbacks. For
example - it only has accuracy to the second and it uses an
unintentional time channel in the TLS protocol itself. The TLS spec
actually says that the ServerHello and ClientHello should contain the
system time of the respective system. These records are covered by the
TLS security properties - assuming the connection is somehow authenticated.
Currently tlsdate only has one way to verify certificates to ensure that
the connection is secure - namely, it's the usual CA racket. That's
secure for certain values of secure and I think it's more secure than
just running `ntpdate time.apple.com` or `rdate example.com`; any
thoughts on this are welcome. Furthermore, tlsdate is parasitic - so you
can easily set your clock off of  or any
other SSL/TLS enabled server.
tlsdate has seen a lot of auditing and these days, it's been hacked on
quite extensively by Christian Grothoff with a few minor patches from
others - we'd love further people to audit the tool.
I'd love some code review but also just some feedback. Would you want it
to run as a system daemon? Would it be useful if it could take a list of
hundreds of hosts or randomly test IP addresses? Should we extend the
tool to work with STARTTLS services too?
All the best,
[0] [1]

@_date: 2012-02-20 15:58:53
@_author: Jacob Appelbaum 
@_subject: [tor-talk] secure and simple network time (hack) 
Whenever you parse a thing, there is code to do the parsing. That's the
code that is questionable. For tlsdate, I cast a few bytes as an
integer. It's well, quite straight forward to audit.
Totally unrelated to HTPDate - without https support, I think it suffers
from a pretty serious problem: it isn't securely transfering the data
from the server or authenticating it.
I haven't audited HTPDate but I generally think that using the TLS data
provides for all of the properties I'd want and almost zero issues that
I don't.
It might. It depends. I have some things in the works to solve this
issue. One idea that I've been toying with is to include a few hard
coded times - compile time as an epoch, rather than 1970, recent time
fetches rather than 1970 and so on.
This will work securely with a clock drift of years but probably not
forty years.
It should eventually. It did at one point. I think right now that it
does not. I think that's a vote for doing so again. :)
If you `usewithtor` it should work without issues.
All the best,

@_date: 2012-02-21 16:31:29
@_author: Jacob Appelbaum 
@_subject: [tor-talk] help Tor release 0.2.3.x! 
Dear Tor community,
We'd like to encourage contribution from the larger Tor community and
help to get 0.2.3.x out as a proper Tor release. Often development
blocks on a few people and at todays Seattle developer meeting, we've
identified that we could use some help!
First up - please consider subscribing to tor-dev:
Secondly, are you able to program in C? No? Do you want to learn? Do you
want to learn about tor and help improve it? Consider looking at these
"easy" bugs, helping to close them is a great way to start:
Are you feeling like you'd like to help us with the most critical, major
or blocker bugs? These bugs must be resolved before the 0.2.3.x release:
Every bug is important and we've got quite a few that could use some
help. Please consider looking and contributing to the full list:
We'd very much like everyone to consider themselves welcome to help.
We'd love the help and we'd like to grow the number of people willing
and able to lend a helping hand!
All the best,

@_date: 2012-02-24 11:21:47
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Tor version in OpenWRT Backfire 
If possible, I'd suggest the most recent 0.2.2.x release but
realistically, 0.2.3.x if you can wait.
All the best,

@_date: 2012-01-05 12:15:08
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Deterministic builds? 
A few Tor hackers are meeting today to discuss build engineering issues
and we'd like to start a thread on deterministic builds.
We believe that Windows and Mac OS X both produce build results that are
extremely difficult to verify. On Gnu/Linux sometimes the build results
are difficult to verify.
If anyone has thoughts on the matter, we'd love to hear how Tor as a
project should tackle verifiable builds of the various software we ship.
All the best,

@_date: 2012-01-05 14:58:16
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Deterministic builds? 
Sounds good.
Yes. That is exactly the goal.
All the best,

@_date: 2012-01-06 14:12:58
@_author: Jacob Appelbaum 
@_subject: [tor-talk] sniffjoke/obfsproxy for defeating DPI:ing firewalls? 
I think someone should test it.
It's not a mutually exclusive thing - obfsproxy sounds great too.
All the best,

@_date: 2012-01-12 10:22:44
@_author: Jacob Appelbaum 
@_subject: [tor-talk] reply to: Tor survey 
Probably it would make sense to disclose the certain attack's name or
details - I think I can guess but why guess when you can disclose? :)
All the best,

@_date: 2012-07-05 16:48:06
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.0.7 released - testing and feedback requested! 
TorBirdy 0.0.7 is now out and it's probably safe enough to be used by
mere mortals. It's still quite experimental, of course. Use as your own
Here's the new wiki page for TorBirdy:
  Here's the latest XPI for TorBirdy:
  Here is a proper GPG signature for the latest XPI:
  Here's the plugin on AMO - if you care to use the Mozilla service:
  In the near future, I plan to upload a full XPI and GnuPG signature for
every new release to the Tor Project's web server:
  All the best,

@_date: 2012-07-06 10:34:05
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.0.7 released - testing and feedback 
proper at secure-mail.biz:
I agree - it's easy and it's a simple project at the moment. Mike Perry
thinks it is likely to grow into a rabbit hole from which I will never
Most of these are really easy to fix - please do just jump in!
Design document:
tried to stick to this as much as is possible.
All the best,

@_date: 2012-07-06 11:41:08
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.0.8 released - testing and feedback requested! 
TorBirdy 0.0.8 is now out and it's probably safe enough to be used by
mere mortals. It's still quite experimental, of course. Use as your own
Release Notes:
TorBirdy has known leaks in the Message-ID and in the Date header, we're
working on merging an upstream patch that will allow these leaks to be
closed. There are no known proxy leaks unless you use additional
extensions that do not respect the proxy settings of Thunderbird
Here's the wiki page for TorBirdy:
  Here's the latest XPI for TorBirdy:
  Here is a proper GPG signature for the latest XPI:
  Here is the sha1sum of torbirdy-0.0.8.xpi:
  164fb81fae1c26f9619d5c53a48c2037c831cc24
Here's the plugin on AMO - if you care to use the Mozilla service:
  In the near future, I plan to upload a full XPI and GnuPG signature for
every new release to the Tor Project's web server:
  All the best,

@_date: 2012-07-06 21:33:47
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.0.9 released - testing and feedback requested! 
( The TorDev meeting in Italy is now over - so this is my last release
for a while; this release is dedicated to the developers at JonDos as
they submitted the first totally external patch to TorBirdy. )
TorBirdy 0.0.9 is now out and it's probably safe enough to be used by
mere mortals. It's still quite experimental - of course. Use as your own
Call for help:
We're looking for assistance with Translations - if you'd like to
translate TorBirdy, we'd gladly accept a patch that prepares TorBirdy
for translation work.
Release Highlights:
This release adds a preferences dialog to allow users to use JonDos and
has a few other general bug fixes.
General content anonymity caution note:
TorBirdy has known leaks in the Message-ID and in the Date header, we're
working on merging an upstream patch that will allow these leaks to be
closed. There are no known proxy leaks unless you use additional
extensions that do not respect the proxy settings of Thunderbird
Here's the wiki page for TorBirdy:
  Here's the latest XPI for TorBirdy:
  Here is a proper GPG signature for the latest XPI:
  Here is the sha1sum of torbirdy-0.0.9.xpi:
  5a0b1fad336b0528f82a8a9d2d25a87f451096be
Here's the plugin on AMO - if you care to use the Mozilla service:
  In the near future, I plan to upload a full XPI and GnuPG signature for
every new release to the Tor Project's web server:
  All the best,

@_date: 2012-07-12 15:13:53
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.0.10 released - testing and feedback 
TorBirdy 0.0.10 is now out and it's probably safe enough to be used by
mere mortals. It's still quite experimental - of course. Use as your own
Call for help:
We're looking for assistance with Translations - if you'd like to
translate TorBirdy, we'd gladly accept a patch that prepares TorBirdy
for translation work.
Release Highlights:
0.0.10 Thu, 12 Jul 2012
  Don't check for messages on start up
  Now includes patch in source for upstream date header modifications
    Apply patches/date.patch to a custom Thunderbird compile
  Use SSL/TLS by default for both outgoing and incoming servers
  Disable 'Get new account' from loading at startup
  Set default server ports
  For already configured email accounts, disable automatic email fetching
  For accounts created through the manual account configuration, disable
  automatic email fetching
  Added support for resetting user preferences on extension uninstall
  Various privacy fixes as suggested by Karsten N
General content anonymity caution note:
TorBirdy has known leaks in the Message-ID and in the Date header, we're
working on merging an upstream patch that will allow these leaks to be
closed. There are no known proxy leaks unless you use additional
extensions that do not respect the proxy settings of Thunderbird
Here's the wiki page for TorBirdy:
  Here's the latest XPI for TorBirdy:
  Here is a proper GPG signature for the latest XPI:
  Here is the sha1sum of torbirdy-0.0.10.xpi:
  1128abf9b6c3177aefd4ca513f768b7a80aa27b4
The plugin on AMO has been rejected and so we are now re-requesting
review. Please use the above links to download TorBirdy.
In the near future, we plan to upload a full XPI and GnuPG signature for
every new release to the Tor Project's web server:
  All the best,

@_date: 2012-07-12 18:33:42
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.0.10 released - testing and feedback 
Jerzy ?ogiewa:
We assume that people are running their HTTP proxy on port 8118 - such
as privoxy. We don't really support polipo anymore. You're welcome to
use it, of course.
That is expected. We don't let you choose which HTTP port is used. We
may add an extensive configuration window later but for now, we assume
advanced users can reconfigure their proxies.
Please reconfigure your proxy to listen on port 8118 and ensure that it
is properly chained to Tor via SOCKS4a or SOCKS5. I'd suggest just
running Privoxy on port 8118 and ensuring that it is configured to
connect to Tor with something like this:
# Generally, this file goes in /etc/privoxy/config
# Tor listens as a SOCKS4a proxy here:
forward-socks4a / 127.0.0.1:9050 .
forward-socks5  / 127.0.0.1:9050  .
forward-socks5  .onion                  127.0.0.1:9050  .
confdir /etc/privoxy
logdir /var/log/privoxy
# actionsfile standard  # Internal purpose, recommended
 default.action   # Main actions file
 user.action      # User customizations
 default.filter
# Don't log interesting things, only startup messages, warnings and errors
logfile logfile
 jarfile
   0    # show each GET/POST/CONNECT request
debug   4096 # Startup banner and warnings
debug   8192 # Errors - *we highly recommended enabling this*
listen-address  127.0.0.1:8118
toggle  1
enable-remote-toggle 0
enable-edit-actions 0
enable-remote-http-toggle 0
buffer-limit 4096
forwarded-connect-retries               2
accept-intercepted-requests             0
keep-alive-timeout                      5
socket-timeout                          300
All the best,

@_date: 2012-07-12 19:16:24
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.0.10 released - testing and feedback 
Jerzy ?ogiewa:
Great - please do let us know if things aren't working well or if you
want to see some features, etc.
They're not dropping Thunderbird but rather "slowing" development. I
guess we'll see what they do and in the meantime, we'll have TorBirdy
for Thunderbird users that stick around during uncertain times. :)
I plan to keep working on this because at the moment I see no other real
alternative email client for Windows, Mac OS X, or Gnu/Linux.
All the best,

@_date: 2012-07-13 08:38:05
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.0.10 released - testing and feedback 
Jerzy ?ogiewa:
I appreciate your confidence in my abilities but I really do not want to
implement a mail client. :)
All the best,

@_date: 2012-07-18 22:19:31
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Torbirdy and gpg --throw-keyids 
Heya Tim,
Tim Wilde:
The gpg manpage says the following:
     Do not put the recipient key IDs into encrypted  messages.  This
     helps  to  hide  the  receivers  of the message and is a limited
     countermeasure against traffic analysis. ([Using a little social
     engineering  anyone who is able to decrypt the message can check
     whether one of the other recipients is the  one  he  suspects.])
     On  the  receiving side, it may slow down the decryption process
     because all available secret keys must  be  tried.   --no-throw-
     keyids disables this option. This option is essentially the same
     as using --hidden-recipient for all recipients.
So lets say that I use gpg to encrypt the message to you, to me, and to
an additional key. I would reveal my own gpg key (which you may not
know, which may not be public), your key (which may be used to ask you
to disclose a specific key), and finally - it reveals the third party
which is not otherwise involved in the email message headers at all.
I'd prefer that this isn't revealed at all and lucky for us, gpg allows
us to hide that information.
While we want TorBirdy to not be obviously fingerprintable - I care more
about the social graph being hidden than I care about TorBirdy being known.
Perhaps there is a good solution to this problem that does not also
reveal the social graph?
I'd take a patch that ensured that the only key revealed was the one in
the To: field. It sounds a bit error prone but at least that as a
compromise would fix your issue and not really reveal a terribly large
amount of the social graph that isn't already leaked by required email
Patches welcome... :)
All the best,

@_date: 2012-07-19 23:48:48
@_author: Jacob Appelbaum 
@_subject: [tor-talk] secure and simple network time (hack) 
Hey hey,
It isn't shipping yet, so we'll see what happens.
There are a few use cases - the first is to use it with the -t option -
this at least will skip the clock forward to a recent build time. So if
previously, the clock was in 1970, you're at least now in the same
decade as the tails release. Probably the same year and likely, with a
few releases a year, the same month. That has no network access at all.
The next use case is to use it over Tor - I haven't added direct proxy
support yet but I'll do so when it becomes a blocking issue. As it
stands now, you can easily just `usewithtor tlsdate` and it will work
fine. This gives you the ability to securely set your clock over Tor.
Another use case is to fire it up against any SSL/TLS enabled server,
including the Tor relay you were going to use anyway, and attempt to use
it as a time source. If you use a Tor relay, tlsdate currently lacks a
way to verify the key for that relay - so it's a leap of faith, rather
than a leap of cryptographic something or other. But at the very least,
you no longer need to involve any third party that you weren't already
going to connect to - it isn't more secure, it's just a cute hack.
The most common way for me to use tlsdate is to connect to a popular TLS
server and if I trust the CA, which can be pinned to a *single* CA that
isn't part of the traditional cartel, I can easily trust it. Generally,
I find that this works fine.
That might be true - that's a good reason to add Tor tls fingerprint
verification to tlsdate - however, I'd take this fingerprinting risk
over a older consensus or Tor simply not working at all.
Tor has been ported to ChromeOS as far as I know - I have talked with
them about adding a guest mode that uses Tor.
The key difference with htpdate is that one has a cryptographic
signature. I'll take a subset of possible MITM attackers over fully
trusting something that anyone could MITM.
Furthermore, I think that you're making a trade-off between
fingerprinting on the network, which Tor does not even try to address by
default, and the ability for someone to try to use Tor with an incorrect
clock, something that explicitly doesn't work in the Tor design.
In an ideal world, Tor will learn the clock anonymously and not care
about the system time. We're not there yet; patches are always welcome!
I generally think that shipping tlsdate makes sense, especially if Tor
is already running as you can then keep clocks securely in sync. It may
not make sense for first boot, other than to at least move it forward
with `tlsdate -t`; that's up to you guys, of course.
All the best,

@_date: 2012-07-20 00:07:25
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev]  secure and simple network time (hack) 
Maxim Kammerer:
Huh, you think that setting your clock where *everyone* can *always*
MITM your time is somehow better? Fascinating!
Allow me to be very explicit: it is harder to parse an HTTP Date header
than properly than casting a 32bit integer and flipping their order. The
attack surface is very small and easy to audit.
It's a work in progress, of course. I use it with a pinned CA, so in
such a case, users are not vulnerable to a MITM attack unless one can
get certs from that specific CA.
With that said, I have a branch to add CN/SAN checking but it makes
little sense when one use case is pre-DNSSEC bootstrapping. Rarely do
certificates contain the IP address of the host, so what we care about
is an assertion of trust by a given authority. That use case would
suggest a pinned CA anyway, so perhaps it would make sense to just add a
few new options to tackle that use case.
I'm not totally sure but I think getting a CA signature for a specific
CA is harder than any CA. I agree that using it where it trusts *any* CA
allows *any* CA to assert things. That doesn't really change with CN/SAN
checking. Practically, it makes it harder for an attacker but
theoretically, we're still relying on the CA playing nice. Pinning
removes that gamble, which seems better all around.
Do you have some data about that? The TLS ServerHello is generally the
first thing sent to the client. I'd expect the timing to be very similar
Nothing? That seems a little... technically incorrect. Users gain a
cryptographic signature - which is the goal here - to use time to trust
signatures, we might want to start with signatures that don't require
time. That raises the bar against an attacker and with a pinned CA, it
means that the attacker has to own CA or find another vulnerability in
TLS itself.
Furthermore, in the TODO, I suggest that we should offer an option to
confirm the date by comparing it with HTTP over SSL/TLS - then we can at
least say that our HTTP date has some kind of integrity protection. The
goal isn't to have millisecond accurate clocks, it's to validate
cryptographic signatures that have hour or year long windows.
Yes, another known issue - so does Tor - what's your point? It's turtles
all the way down, right?
I'll gladly add an option to break the standard, if a user wishes to use it.
That isn't the goal of tlsdate but it is something that could be easily
added. Support for a list of hosts would be a fine addition, I'm not
sure that a daemon mode makes a lot of sense. With the accuracy levels
we're discussing, an hourly cronjob would be fine as well.
It appears to work fine with `usewithtor` but I'd gladly take a
SOCKS4a/SOCKS5 patch.
Are you one of the authors of htpdate or something? :-)
I'll gladly mirror the functionality of htpdate but the primary goal is
to solve a few problems that htpdate does not aim to solve. I think
these two tools are complementary but with very different goals -
htpdate is like rdate without any kind of security properties and
tlsdate is like rdate with the possibility of some security properties.
Lots of work to be done, of course.
I've emailed with them, so no, it's not just a github pull request.
However, I assure you, the cryptographic signature is worth something to
a lot of people, even if it isn't worth much to you. They have their own
CA system, so I bet they'll make different choices.
All the best,

@_date: 2012-07-20 13:44:21
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev]  secure and simple network time (hack) 
Sure - practically this is the same thing - except, you might run a CA
yourself, with a rotating key on the server. The abstraction is nice as
it allows you to keep the trusted key offline.
I think adding an option to verify the leaf certificate's fingerprint,
rather than just the signature alone would be a fine idea.
Also, there is a TODO item that specifically addresses this with
TLSA/DANE/CAA but that relies on DNSSEC. DNSSEC is basically the CA
system done slightly differently, so, it depends a lot on what you mean
by "getting rid of all CAs" - Moxie has said a lot about this topic but
I suspect he's not on the list.
I've never seen a system that shipped with authenticated NTP enabled.
I'm sure it has happened but generally, ntp is unauthenticated and is
run as a UDP service. I'd be interested to see a client configuration
that works over TCP and has strong integrity protection of the remote time.
All the best,

@_date: 2012-07-20 15:51:08
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy Not Allowing Connections to Servers 
Ethan Lee Vita:
Are you trying to use pop3 without SSL/TLS? If so, I think this is
expected behavior - we didn't want anyone to insecurely check
pop/imap/smtp over Tor unless they *really* know what they're doing.
It could be - feel free to document your expected setup here?
It's likely that you started to have problems when we forced the
connections to be secure by default.
All the best,

@_date: 2012-07-20 15:55:15
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev]  secure and simple network time (hack) 
I'd prefer to trust a CA (or well, Tor identity) run by EFF, Tor or
someone else.
So does that mean you do or do not like DNSSEC? :)
I agree. That's one of the reasons why I have been working on tlsdate.
I'd like to see a normal ntp client that runs over Tor safely - can you
show us an example of a way to do that? If so, I'd gladly consider
running such an NTP service. I already run a normal UDP OpenNTP server
in the pool.
That's a resource issue, not a technical issue. We can solve both, I
think. I'd like to know if someone has actually used normal NTP clients
over Tor, even with private servers and found that it was suitable?
All the best,

@_date: 2012-07-22 18:34:36
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev]  secure and simple network time (hack) 
In a sense, we can compare the root ('.') to a single CA that can
further delegate to other CAs such as '.se' and so on.
That's what I thought.
Wow - talk about a hack!
It seems like providing a simple phase locked loop over TCP isn't that
hard to do.
All the best,

@_date: 2012-07-22 18:38:17
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Torbirdy and gpg --throw-keyids 
Tim Wilde:
I regularly encrypt a key that isn't public because I want to keep a
copy of the email accessibly to that key.
The RIP Act in the UK, specifically I think, Section Three. That's the
current British tyranny where they may request your specific encryption
key and if you cannot produce it, they jail you.
I think the subtle difference here will be lost on most users. I admit,
I didn't know about this feature until you mentioned it.
I think this is less a matter of education and more a concern about
leaking information without user's consenting. It's such a subtle issue,
I feel like a lot of information that is cryptographically assured or
asserted - well, it leaks out.
All the best,

@_date: 2012-07-22 19:00:41
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.0.10 released - testing and feedback 
Katya Titov:
Happy to help. :)
Is there anything in specific that you feel that we should address?
All the best,

@_date: 2012-07-22 19:02:02
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Tor on Raspberry Pi 
Another interesting problem is that the Raspberry Pi doesn't have a RTC. :(
All the best,

@_date: 2012-07-22 19:07:24
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy Not Allowing Connections to Servers 
Sebastian G. :
I think there is such a message from Thunderbird already - it sounds
like the issue (discussed later in the thread) was that Tor simply
wasn't running.
All the best,

@_date: 2012-06-02 11:06:22
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Creating distributed social networks with WebId 
I'd happily try this out with you - feel free to contact me off list - I
think it would work well for the FreedomBox community as well.
All the best,

@_date: 2012-06-02 16:12:04
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Building Petnames with DNSSEC...? 
While attending the OpenITP event in Rio this week, we've been
discussing the problem of remembering popular or unpopular .onions.
While things like PurpleOnion[0] exist - it's a different space and I'd
at least like to make it easier.
I'm a DNSSEC cheerleader because I feel like it leaves out a lot of
important privacy issues - query privacy being the most obvious problem,
trust agility being the least obvious. None the less I think we can
ignore the CA system and rely on DNSSEC, which is effectively a CA
system with a different set of delegated trust roots. If we look at
tor2web, we see that it relies on DNS *and* the CA model. I think if we
have tor2web, we're in good shape and that having a similar system that
is trusted by way of DNSSEC alone is also an interesting experiment.
In an ideal world, we'd just have .onion. as a full TLD but until that
date, I think it should be possible to build from a DNSSEC enabled tld
such as .se or .br or whatever is of interest. I'm not sold on any
specific tld though I generally think that since '.' is owned by a US
corporation, I'd probably want the tld to be owned by a different
corporation. Perhaps if something happens, they can fight it out... :)
So the question is - how should this practically work? Should a user be
able to dynamically register foo.petnames.tld and have it resolve to one
or more .onions as CNAME that point somewhere or no where? If somewhere,
where? Furthermore, should we ensure that a .onion can publish a petname
somewhere, so we can do forward the reverse lookup? I think that would
allow for some useful properties.
In such a system, we'd be able to lookup foo.petnames.tld and receive a
.onion or as many .onions as published. To make that useful, we'd need
to ensure that applications using those Petnames were using those
results and then interfacing storing them in some way - probably by
using the petname-tool[1] plugin with Firefox. With such a plugin, we
could automatically learn Petnames, cache them and then perhaps even
confirm them.
In theory, with DNSSEC, we'd be able to verify the signatures, to allow
for DNSSEC protection of the data and of course, the .onion can assert
what Petname is claims. If something doesn't forward and reverse
resolve, we could ensure that they're not bound together.
This is a pretty half-baked idea but my thought was that tor2web is only
useful for HTTP. I'd like it to be partially useful, even for Tor
enabled ssh clients or jabber clients or something I haven't thought of...
All the best,
[0] [1]

@_date: 2012-06-03 22:30:44
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Building Petnames with DNSSEC...? 
That does indeed seem like a better idea. We'll need to use something
like unbound anyway, so we can use TXT records all the same, I guess.
Another consideration is that we could write a plugin to intercept
specific domains as petname domains - similar to how we deal with .onion
as a whole. If we could configure such a domain, we'd be able to avoid
extra software entirely, I think.
All the best,

@_date: 2012-05-05 15:08:40
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Towards a Torbutton for Thunderbird (torbutton-birdy) 
A few Tor hackers (Sukhbir, tagnar, myself, etc) are working on a plugin
for Thunderbird that attempts to Torify it properly. The codename for
now is 'torbutton-birdy' and it is based largely on the seminal
analysis[-1] by tagnaq. Two core goals in addition to Torification is
the integration with MixGUI[0] and of course Enigmail[1].
At the moment the code is entirely un-reviewed and is not ready for real
use. If you'd like to test it, we'd very much appreciate it. We have not
uploaded the extension to Mozilla's addon site - I'm not sure we'll ever
do that as a result of data retention issues and other stuff.
Here's the code:
!!!!! WARNING DO NOT USE FOR ANYTHING IMPORTANT !!!!!!
Here's the XPI to install:
!!!!! WARNING DO NOT USE FOR ANYTHING IMPORTANT !!!!!!
( Please note that this is not a signed xpi as my gpg keys have recently
expired. I'm about to cross a border, so I'll not be making new keys for
a few days. )
All the best,
[0] [1]

@_date: 2012-05-05 21:19:33
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Towards a Torbutton for Thunderbird (torbutton-birdy) 
You're welcome.
It's possible for users to use SSL/TLS or STARTTLS in Thunderbird - this
means that the exit node will learn about as much as any other HTTPS
connection over Tor.
It depends on the goal - I don't want my mail server to know my location
every time that I check my email. There are other reasons of course.
I haven't audited retroshare - is there a good protocol document? I
found a few things but they weren't very clearly written or concise.
Are you the author of libretroshare? If so, I encourage you to submit
your design documents as a paper to PETS - it sounds like it is an
interesting project:
I think if you want to use Tor with your software, I'm happy to see it
work properly over Tor. There are many people who use Thunderbird and
I'd like to help them use their mail/news/rss client with Tor - just as
we do with Firefox and Torbutton in the form of Tor Browser.
All the best,

@_date: 2012-05-06 15:57:15
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Towards a Torbutton for Thunderbird (torbutton-birdy) 
I think it's clear that we need MixMinion for the near future and well,
the present for everyday of people. :(
These issues should be listed in the TODO file - I'm sorry to say that
Thunderbird and the Mozilla team seems to refuse to Do The Right Thing
with the account setup wizard. The bugs on this topic are a depressing
read - it's not really possible to override this and fail closed - which
seems like an unreasonable stance...
That is to be expected, yes.
Great. So as it stands, I found the following meta-data in your email
that may be harmful to your privacy:
Your raw email is impressive in how many systems it seems to touch - it
routes over Tor through the Noisebridge exit, it traverses some ipv6
SMTP servers and so on. There's a lot of stuff in there - can you look
through it and tell me if any of it is harmful to your privacy other
than the two lines listed above?
All the best,

@_date: 2012-05-07 15:53:28
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Towards a Torbutton for Thunderbird (torbutton-birdy) 
Sounds like a nightmare. Lets not go down the TBB path - that way lies
Timing leaks are the issue. We need a time independent implementation.
We've got this covered as Sukhbir said in another email.
All the best,

@_date: 2012-05-07 15:55:20
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Towards a Torbutton for Thunderbird (torbutton-birdy) 
Great - I agree. It would basically be installed and then any account in
use will be configured to go over Tor by default.
All of those need to go upstream, please. They do not belong in
Torbutton-birdy, they belong in TB proper, I think.
Nothing attached here...
Yes, I agree.
We haven't touched it - please check out the TODO.
All the best,

@_date: 2012-05-07 15:59:33
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Towards a Torbutton for Thunderbird (torbutton-birdy) 
I'll comment in line.
This certainly should go upstream - I'd be happy to then set
'mailnews.auto_config_ssl_only' in Torbutton-birdy.
Seems reasonable enough - I assume you tested it? If so, I'd highly
encourage you to submit this patch upstream, when it is merged, please
send us a patch and we'll merge it.
All the best,

@_date: 2012-05-09 13:10:23
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Webserver on 127.0.0.1 only? 
Don't forget to ensure that Apache doesn't do DNS lookups for visiting
hosts. Also, I'd probably just jail the apache or whatever user to
ensure it drops and logs any attempts to violate this policy - such logs
will help you to find and resolve issues quickly.
All the best,

@_date: 2012-05-11 22:52:09
@_author: Jacob Appelbaum 
@_subject: [tor-talk] tor/netfilter: packets without uid 
If this is actually the case, I'd say that this is a kernel bug. :(
The best bet is probably to ensure that _all_ packets, regardless of UID
are sent over Tor and only specific UID's are _excepted_ from the policy.
All the best,

@_date: 2012-05-11 23:13:27
@_author: Jacob Appelbaum 
@_subject: [tor-talk] tor/netfilter: packets without uid 
The netfilter uid code is imposing this overhead - I think it's
reasonable to tag and stick with a UID rather than leave it blank.
All the best,

@_date: 2012-05-11 23:20:57
@_author: Jacob Appelbaum 
@_subject: [tor-talk] tor/netfilter: packets without uid 
That's odd.
It's missing the UID entirely? On a connection where it _previously_ had
the UID? That seems pretty weird to me...
I'm not sure that there is a sysctl for it - I couldn't find one.
Probably not. ;-)
All the best,

@_date: 2012-05-15 06:55:38
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Towards a Torbutton for Thunderbird (torbutton-birdy) 
I agree:
[master d6a4e4b] Ensure autoupdate is enabled
 1 files changed, 2 insertions(+), 2 deletions(-)
All the best,

@_date: 2012-05-16 20:15:25
@_author: Jacob Appelbaum 
@_subject: [tor-talk] GnuPG key transition 
Hash: SHA256
I have retired all of my old PGP/GnuPG keys. My new GPG key is 0x4193A197:
pub   4096R/4193A197 2012-05-16
      Key fingerprint = 228F AD20 3DE9 AE7D 84E2  5265 CF9A 6F91 4193 A197
uid                  Jacob Appelbaum (offline long term identity key)
uid                  Jacob Appelbaum (offline long term identity key)
sub   3072R/D81D840E 2012-05-16 [expires: 2013-05-16]
sub   3072R/616BA040 2012-05-16 [expires: 2013-05-16]
You may fetch this key with GnuPG with the long form:
  gpg --recv-key 0x228FAD203DE9AE7D84E25265CF9A6F914193A197
The long term secret key is stored offline and guarded by orks.
The two subkeys are stored in hardware and guarded by some firmware garbage.
I plan to rotate the subkeys at least on a yearly basis but perhaps sooner.
My previous key '0757 31DE 8F58 7679 225C  F287 718B 3356 42DD E84F'
expires on
2012-05-17 and should be considered retired. All other keys are also

@_date: 2012-05-25 11:24:03
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Torbutton-birdy version 0.0.2 
I'm pleased to say that Sukhbir, tanaq, and I are making progress on
Torbutton-birdy, the Torbutton like plugin for Thunderbird. Today marks
the second release with two important fixes:
  the auto-configuration wizard leaks, so we disabled it
  the timezone is now UTC and does not leak your actual timezone
You may download the xpi here:
We had around 57 downloads for our first release, we'd love to see that
many users upgrade and send us feedback. We're really looking for
informational leaks but the most important kinds of leaks are proxy
bypass or other kinds of seriously harmful bugs.
Here is our long running open bug about reviewing torbutton-birdy:
All the best,

@_date: 2012-05-25 21:24:36
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Torbutton-birdy version 0.0.2 
I've renamed it:
Good catch.
I'll take a look - thanks!
All the best,

@_date: 2012-05-25 21:31:08
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Torbutton-birdy version 0.0.2 
All downloads should be listed here:
The file is here:
All the best,

@_date: 2012-11-02 23:36:37
@_author: Jacob Appelbaum 
@_subject: [tor-talk] torsocks is broken and unmaintained 
Nick Mathewson:
If Robert wants someone to maintain it, I'd be happy to do so. I had
wanted to extend it to do some various things anyway. I think it would
be a suitable base for a bunch of things I'd like to do in the next year.
All the best,

@_date: 2012-11-03 11:17:05
@_author: Jacob Appelbaum 
@_subject: [tor-talk] torsocks is broken and unmaintained 
Sure thing. Don't expect miracles!
Can you give me a list of things that matter most to you in order of
your priority? The bug list is mighty long...
Robert said it was fine in private email for Tor to take over the project.
All the best,

@_date: 2012-11-04 21:31:57
@_author: Jacob Appelbaum 
@_subject: [tor-talk] torsocks is broken and unmaintained 
Nick Mathewson:
I'm on the google code project, I'd like to close out each of the issues
and open new issues on Tor's trac. That will allow us to ensure each
reporter will receive a desired response.
It should work on OS X and if it doesn't, we likely have OS X related
bugs. :)
All the best,

@_date: 2012-11-04 21:29:56
@_author: Jacob Appelbaum 
@_subject: [tor-talk] torsocks is broken and unmaintained 
I've updated the bug with my take on a fix:
  All the best,

@_date: 2012-11-09 23:53:55
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Unsigned Mac OS X binary for TorBrowser 
Roger Dingledine:
I don't think we have to sign an NDA.
I think we just have to pay them to participate in their developer
problem. It's annoying but it does actually make impersonation of Tor
software harder, as I understand the gatekeeper solution.
We should just their developer program and sign our builds. That is the
cost of support a non-free platform. If they ever try to make us do
something that we actually directly think is harmful to our users, we
should stop supporting their platform.
All the best,

@_date: 2012-11-10 00:12:52
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Unsigned Mac OS X binary for TorBrowser 
Greg Norcie:
I think the answer is near "use the security features of the OS and to
try to know the limits of the platform."
I admit, I don't know if that is even close to the full answer. It does
seem that Apple moved on and we're really lagging the latest OS X
security changes.
All the best,

@_date: 2012-10-03 14:27:35
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy: what are the known problems with 0.11? 
antispam06 at sent.at:
We suggest using 0.0.13 - we've fixed a lot of bugs. It is pending
approval from Mozilla - so download it here:
All the best,

@_date: 2012-10-09 12:02:12
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TBB equivalent for Thunderbird? 
Bry8 Star:
I'm not really a fan of this model - it doesn't lead to users having a
constantly updated and regularly patched application.
All the best,

@_date: 2012-10-09 17:50:53
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TBB equivalent for Thunderbird? 
antispam06 at sent.at:
I think the best bet is to produce a Thunderbird with TorBirdy and Tor
included. It is merely a matter of build automation and maintenance time.
First, we'd like to get TorBirdy actually working for most of the use
cases - we still have a long way to go - especially with Gmail being so
difficult when it comes to Tor integration... :(
All the best,

@_date: 2012-10-10 13:12:59
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy doesn't work with Gmail? 
Dear Mike,
Mike Hearn:
Thanks for joining the discussion; I've talked with a number of people
from Google about this and you might be the person we've been looking to
The phone portion of this is extremely problematic - to tie a username
to a phone may create a direct link with a government issued ID card.
That in turn will create liability for the user and also likely for
Google, who now holds the key to the user's anonymity.
Is there a possible way to pro-actively indicate that a user will want
to use Tor? For example - if you notice they're regularly in Iran,
China, Syria and so on - won't current events of filtering be enough to
tip Google off to the political changes that impact how users connect?
Is there a way to add that token to the email authentication happening
with Thunderbird and TorBirdy?
It would be quite helpful if we could add a setup wizard to TorBirdy
that could walk a user through doing these things safely. I fear that
any setup is a usability nightmare but no clear path to such a setup at
all is perhaps even worse.
It does indeed - thank you for writing on the list!
As a slight aside - I have noticed that the Gmail login list does not
seem to know about Tor nor about XMPP logins. It also sometimes has
extremely inaccurate GeoIP data. I have on many occasions been warned
that my account was hacked from China (!) only to find that the access
was of type "Unknown" (rather than say, HTTP) and rather than China, it
was a Tor exit node that I was using at the time.
It would be quite nice if Google's audit log was Tor aware - so as to
reduce panic - and if it didn't say unknown, when it was clearly via
XMPP. Unless this was a bug in some kind of wiretapping interface, of
course. In which case... forget that I mentioned it! :)
All the best,

@_date: 2012-10-22 01:51:21
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Child pornography, anonymity and free speech 
Alec Harrington:
That is really rich. That's for the civics primer!
[citation required]
[citation required]
I guess you haven't heard that in many parts of the world, such as
Uganda, people are on the verge of being put to death for their sexual
*preferences* alone?
This entire argument is flawed. Please demonstrate or provide evidence
for your claims!
One could equally assert without evidence that the production of erotic
art and the consumption of legal (say, in the US) pornography reduces
adult on adult predatory activity. I bet the Kinsey Institute would have
interesting data on this very topic but well, since this isn't a
conversation based on facts but rather on emotion, I'll not even bother
to dig up a citation. If you show some facts for your arguments, I'm
sure people will bring out data in support of other view points.
So please - show us that the existence of abstract material is the sole
or even a major contributing factor to an act of non-consensual or
otherwise illegal or immoral sexual conduct. Does that currently
non-existent data support your argument? Would it support your argument
for other kinds of abuse?
Does evidence of a killing, such as Oscar Grant's murder in Oakland,
California[0] by the BART police make other police want to kill
civilians? Or does it make people want justice for the death of Oscar
Grant? One might argue that the evidence will actually reduce the
chances that another cop will get to say he meant to pull a stun gun.
Documentation seems to very seriously change the human rights abusers
position of power - be it the police or other groups that derive a
subject's compliance through forced violence.
Or put another more simple way - the problem with child porn is not the
*evidence* of the crime alone, it is that people are actually harming a
living being. The murder of a guy, such as what happened in Oscar
Grant's case, is pretty disturbing - shall we erase that crime from the
archives of history because journalists claim protection under the First
Amendment protections? Why should we create a special class of
information that we flush down the memory hole, where only special
people are allowed to look at it, to judge it and where merely being
accused of being near it is a (cultural) death sentence?
All the best,

@_date: 2012-09-05 02:55:35
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Can't use TORBirdy to send Email 
Karsten N.:
I have another - I've cc'ed security at yahoo.com and perhaps they will be
able to let us know if this is intended behavior...
All the best,

@_date: 2012-09-11 05:36:35
@_author: Jacob Appelbaum 
@_subject: [tor-talk] SocksPort: Circuit isolation is not Exit isolation 
Nick Mathewson:
The key is that a user alice, only signs on when bob also signs on and
always from the same IP. Sooner or later, one might guess that alice is
bob. Obviously, one could easily draw the same conclusion with an
intersection of logged in users or similar data, regardless of IP address.
All the best,

@_date: 2012-09-27 08:54:13
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.0.12 released - testing and feedback 
TorBirdy 0.0.12 is now out. It's still quite experimental - of course.
Use at your own risk and especially if you're using it with Enigmail and
GnuPG without a local[0] HTTP proxy.
We've continued with updating the web page to show some TorBirdy screen
 Call for help:
We're looking for assistance with Translations - if you'd like to
translate TorBirdy, we'd gladly accept a patch that prepares TorBirdy
for translation work. We now have German, English and Punjabi! Even if
you can't help translate, we'd love to know what languages matter to you
or your friends - please let us know?
Release Highlights:
0.0.12, 27 Sept 2012
  TorBirdy now has localization support
    Current languages: English, German (translated by Karsten N.),
    Punjabi
  TorBirdy code cleanup: fix global namespace pollution
  Do not select the last selected account to prevent automatic login
    (TorBirdy selects 'Local Folders' on startup to prevent this)
  Restore proxy settings at TorBirdy uninstall
    (settings prior to installation of TorBirdy)
  TorBirdy now allows HTTP/SSL connections
  Users may opt-out from `--throw-keyids'
  Enhanced TorBirdy JonDo support (thanks to Karsten N.)
  Fix a bug in 0.0.11 that prevented account preferences from being set
  Add Screenshots directory
  TorBirdy no longer requires a configured HTTP proxy for full use with
    Tor
  TorBirdy now enforces the safest HTTP proxy usage possible with GnuPG
    TorBirdy attempts to disable all name resolution in GnuPG due to a
    serious SOCKS5 problem with GnuPG proxy options in how we invoke
    GnuPG; GnuPG only supports SOCKS5 when it is linked against libcurl
    (>7.21.7) and hostnames are not used. This is outlined the
    following bug:
    General content anonymity caution note:
TorBirdy has known leaks in the Message-ID and in the Date header, we're
working on merging an upstream patch that will allow these leaks to be
closed. There are no known proxy leaks unless you use additional
extensions that do not respect the proxy settings of Thunderbird. If you
use GnuPG and Enigmail, we encourage you to use it with a local HTTP
proxy due to the issues mentioned[0] regarding GnuPG.
Here's the wiki page for TorBirdy:
  Here's the latest XPI for TorBirdy:
    Here is a proper GPG signature for the latest XPI:
    Here is the sha1sum of torbirdy-0.0.12.xpi:
  4d956d0458580dd689f2e02a6cf369384e4aa5af
The GnuPG signature that signed this email is also the same key that
signs the TorBirdy releases. To learn more about signature verification
of Tor Project related software such as TorBirdy please visit this page:
  The plugin on AMO has been preliminarily reviewed and we are still in
the review process. It is again possible (Hooray!) to install TorBirdy
directly from Thunderbird or by downloading the extension in a web
browser from Mozilla's website:
  We believe that users who installed previous versions from Mozilla's
addons site should receive this update automatically.
We now upload a full XPI and GnuPG signature for every new release to
the Tor Project's web servers:
  All the best,
[0]

@_date: 2012-09-27 22:01:02
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy doesn't work with Gmail? 
SiNA Rabbani:
Indeed, I also use TorBirdy with Thunderbird and Gmail at times. What
seems to be the problem?
All the best,

@_date: 2012-09-29 05:33:09
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.0.13 released - New translations desired 
TorBirdy 0.0.13 is now out; we think it is the the best release so far
and we encourage you to upgrade.
This release is quick to follow version 0.0.12 to fix a known problem in
for German speaking users. We believe this release will increase
stability for German speaking users.
It's still quite experimental - of course. Use at your own risk and
especially if you're using it with Enigmail and GnuPG without a local[0]
HTTP proxy.
We've continued with updating the web page to show some TorBirdy screen
 Call for help:
We're looking for assistance with Translations - if you'd like to
translate TorBirdy, we'd gladly accept a patch that prepares TorBirdy
for translation work. We now have German, English, Punjabi, Hebrew,
Spanish and French! Even if you can't help translate, we'd love to know
what languages matter to you or your friends - please let us know?
We're especially looking for translations of TorBirdy into Arabic,
Persian, Mandarin and Japanese - if you'd like to help us translate,
please contact us!
Release Highlights:
0.0.13, 28 Sept 2012
  Translation updates:
    Add Hebrew translation (thanks to Sharon Dvir)
    Add French translation (thanks to N3b)
    Update German translation (thanks to Karsten N)
    Add Spanish translation (thanks to Juan Garofalo)
  Code cleanup: prefixed generically-named IDs with TorBirdy namespace
The release from a few days ago has other important changes that are
also relevant to other users:
0.0.12, 27 Sept 2012
  TorBirdy now has localization support
    Current languages: English, German (translated by Karsten N.),
    Punjabi
  TorBirdy code cleanup: fix global namespace pollution
  Do not select the last selected account to prevent automatic login
    (TorBirdy selects 'Local Folders' on startup to prevent this)
  Restore proxy settings at TorBirdy uninstall
    (settings prior to installation of TorBirdy)
  TorBirdy now allows HTTP/SSL connections
  Users may opt-out from `--throw-keyids'
  Enhanced TorBirdy JonDo support (thanks to Karsten N.)
  Fix a bug in 0.0.11 that prevented account preferences from being set
  Add Screenshots directory
  TorBirdy no longer requires a configured HTTP proxy for full use with
    Tor
  TorBirdy now enforces the safest HTTP proxy usage possible with GnuPG
    TorBirdy attempts to disable all name resolution in GnuPG due to a
    serious SOCKS5 problem with GnuPG proxy options in how we invoke
    GnuPG; GnuPG only supports SOCKS5 when it is linked against libcurl
    (>7.21.7) and hostnames are not used. This is outlined the
    following bug:
    General content anonymity caution note:
TorBirdy has known leaks in the Message-ID and in the Date header, we're
working on merging an upstream patch that will allow these leaks to be
closed. There are no known proxy leaks unless you use additional
extensions that do not respect the proxy settings of Thunderbird. If you
use GnuPG and Enigmail, we encourage you to use it with a local HTTP
proxy due to the issues mentioned[0] regarding GnuPG.
Here's the wiki page for TorBirdy:
  Here's the latest XPI for TorBirdy:
    Here is a proper GPG signature for the latest XPI:
    Here is the sha1sum of torbirdy-0.0.13.xpi:
  56d7615bbbd2ba64811307209ae1f22c1bdbf266
The GnuPG signature that signed this email is also the same key that
signs the TorBirdy releases. To learn more about signature verification
of Tor Project related software such as TorBirdy please visit this page:
  The plugin on AMO has been preliminarily reviewed and we are still in
the review process. It is again possible (Hooray!) to install TorBirdy
directly from Thunderbird or by downloading the extension in a web
browser from Mozilla's website:
  We believe that users who installed previous versions from Mozilla's
addons site should receive this update automatically. It may take some
time before Mozilla approves this update but it should eventually show
up as an available update.
We now upload a full XPI and GnuPG signature for every new release to
the Tor Project's web servers:
  All the best,
[0]

@_date: 2012-09-29 08:07:26
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.0.13 released - New translations desired 
SiNA Rabbani:
If anyone else wants to translate - basically, just download these two
files, translate them and send them back to us:
All the best,

@_date: 2012-09-29 11:02:55
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.0.13 released - New translations desired 
Runa A. Sandvik:
Sure - if you are able to load all the translations that we have in
there currently, it would be quite useful! Thanks!
All the best,

@_date: 2012-09-30 19:02:51
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TBB equivalent for Thunderbird? 
antispam06 at sent.at:
We'd love to provide this and in fact, we'd be able to provide a safer
Thunderbird for Tor usage as our patches would be included. The downside
is that Tor usage is not the only thing that matters - updates of all
kinds will need to be tracked and kept in line with upstream.
It is a lot of effort to make TBB and to make a Thunderbird version,
keeping it updated and so on - it would require a lot of thinking on our
part. I think without Thandy, I fear that it would be a nightmare.
Perhaps there is some way to adapt Mozilla's secure updating system to
give users an upgrade path? I'm not sure. I welcome any thoughts on the
Ultimately, we like the idea - so hopefully we can find a way to do it
without drowning ourselves in work on a fork of Thunderbird that isn't
required. Ideally, we'd like upstream to merge everything - heck, even
TorBirdy, and make it a simple option... :)
All the best,

@_date: 2013-04-11 06:46:22
@_author: Jacob Appelbaum 
@_subject: [tor-talk] secure and simple network time (hack) 
Gregory Disney:
What? tlsdate has no relation to any such software.
All the best,

@_date: 2013-04-11 06:56:18
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev]  secure and simple network time (hack) 
It does indeed - their network time document is here:
 Basically - tlsdate in Tails would be a minor set of users compared to
the much larger user base of ChromeOS.
I've also just updated the INSTALL file to document the different places
that git-master of tlsdate works:
  Debian Gnu/Linux 6.0.7
  Ubuntu 11.04, 12.04, 12.10
  CentOS 6.2, 6.3
  Fedora 17, 18
  RedHat Enterprise Server 6.4
  OpenSUSE 11.2, 12.3
  FreeBSD 10-CURRENT
  Mac OS X 10.8.2, 10.8.3
  ChromeOS 26.0.x.x, 27.0.x.x (tlsdate is part of the ChromeOS TCB!)
I'd like to settle on a list of hosts that it uses by default which may
include a Google host or not. I haven't yet decided.
All the best,

@_date: 2013-04-12 17:48:40
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev] secure and simple network time (hack) 
Maxim Kammerer:
tlsdated isn't tlsdate - it launches various helper programs. How is it
All the best,

@_date: 2013-04-12 17:56:43
@_author: Jacob Appelbaum 
@_subject: [tor-talk] secure and simple network time (hack) 
There are a few reasons:
  The first prototype was in Python (patching tlslite)
    however, I wanted it to be portable without patching libraries
  Jailing and/or sandboxing is easier without a system wide interpreter
    eg: Python
  Droppings privileges is straight forward in C
  Setting capabilities is easier on a binary by binary basis
    This is easily solved for say, Golang programs.
  I wanted to directly interface with many relevant libraries
   Currently it supports polarSSL and OpenSSL - patches welcome
C is a perfectly fine programming language - I've considered writing it
again in Golang. I may make a feature for feature compatible version at
some point in the future.
All the best,

@_date: 2013-04-12 17:58:46
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev] secure and simple network time (hack) 
Elly Jones:
Not that I've seen - Maxim is often extremely harsh - don't take it
I haven't really touched it as I consider you to generally be the owner
of that part of the code. What specifically do you think we should re-write?
All the best,

@_date: 2013-04-17 08:19:34
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev]  secure and simple network time (hack) 
I mean, I guess? It looks like a vanilla OpenSSL client connection to a
TLS service - it can be *any* TLS service - so you could pick domain
names at random and connect to their mx records, their pop/imap or
www/https ports, etc.
The list of hosts is the least interesting way to fingerprint it, I
guess is my thought - so we could try to make sure that tlsdate always
has the same cipher-suites for tlsdate on Tails and ChromeOS. Then the
main difference would be the host name - I suspect though that both will
vary and in any case, such variance isn't a bad thing per se.
I guess I sorta feel like this is being over thought.
I'm happy to hear that. Proxy support works today - so we could easily
ship a tlsdated.conf in git master for tails. Send me one and I'll merge
it; perhaps even as the default?
I think tordate should be integrated into tlsdate's timewarp feature -
that is - we may already slam the clock forward to the compile time for
tlsdate. We could also tell it where there might be a consensus and slam
it a second time as long as it is newer than the compile date.
I could either write a simple user tool that is basically the most
simple tordate like function inside of tlsdate, or I could spawn a
process that calls tordate with some arguments, or I could write a new
tordate like program (eg: tlsdate-tor-consensus-date-parser).
If I were to reinvent the wheel without having read any of tordate's
source, I would:
  open the consensus or the cached-microdescs
   parse the absolute minimum time
  stat the respective file to see the last possible atime/mtime/ctime
  pick the later time of the two
  jump the clock forward again
I suspect that we'd also want to make sure that the consensus on disk
did verify and check out - I wouldn't want to trust it blindly until I
carefully checked out how those files are created.
I realize that Tails doesn't start with a consensus and I consider this
to be a bug. If I use persistence for example, I would like a consensus
cached so that I might have the protection of Guard nodes as well as a
forward moving clock, as an example.
We support multiple hosts in the configuration file. I'd be happy to
take a default config that sets against any set of hosts you'd like, I
bet. Would that satisfy your desire for a pool? I'm also happy to start
working on the TLSDATEPOOL idea that I've written up in the git repo.
I think though that it makes more sense to pick the top set of hosts
from the alexa top 1000, pick a host randomly and try a tls connection.
This gives us some entropy as the list changes, it also gives us the
ability to blend in with the overall large amount of traffic to those
sites and the list is largely neutrally collected without revealing much
about us.
I don't mean to sound frustrated but really, what is the core set of
features that you would want added that would allow you to replace
htpdate? Do you want me to add an HTTP date parser helper or what? :)
I see that you'd like both multiple hosts by default and a way to pick
from a set, effectively to create a consensus. I generally think this is
a fine idea but really, I question the security properties if you're
worried about fingerprinting. If you're using it over Tor, I feel like
the fingerprinting is not worth serious consideration. If you're not, I
feel like a set of three host pools is extremely revealing. So in that
sense, if you want to settle for that - yeah, a consensus is a possible
enhancement I'd consider.
I'd like it even more if we pick a few different keys/root chains, burn
those into tlsdate, and add other stuff like DANE, convergence, CT, a
look aside via Tor and so on are added into tlsdate's tls verification
That kind of verification feature set is a probably a bit off though as
most of that stuff doesn't really exist in a usable, large deployment
yet. :)
As an aside, I'd like to add hardening that Tails would find useful -
the AppArmor policy is not very useful, I guess. There is no SELinux
container as of yet, though I bet it would be fine to use the ntp
context over nothing; seccomp policies and minijail are available,
though the Debian package does not use them...
What kernel hardening does Tails currently support?
Yes, I believe so.
I think it currently just uses clients3.google.com.
All the best,

@_date: 2013-04-17 08:23:38
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev] secure and simple network time (hack) 
Elly Fong-Jones:
I assume over time one would be able to distinguish it - though we
mostly care about getting a correct clock and then if someone tries to
guess our OS, we might be fine with them then filtering us or trying to
attack us. However, if we haven't set our clock correctly, we might have
some issues with actual attacks like replaying a consensus, etc.
Do you happen to have a pcap of tlsdate on a recent ChromeOS device
doing a handshake? I wouldn't mind considering it a design goal that all
Tails tlsdate builds should have matching cipher suites. With some other
hackery we can probably make it identical for the data in a given
tlsdate flow.
If we made that set of hosts the default set of hosts - would anyone
mind? :)
All the best,

@_date: 2013-04-17 08:58:32
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev]  secure and simple network time (hack) 
What version of htpdate are you shipping currently? I've just been
reading the source for htpdate-1.0.4 - is that the right version? I
didn't find an htpdate package in Debian, where is the version Tails
uses? Is it the perl version? Or perhaps htpdate-1.0.5?
My initial thoughts from reading 1.0.4 very quickly are:
  It is written for HTTP services only
    I thought surely that it used TLS, am I auditing the wrong version?
    It is trivial to fingerprint
  It isn't written with defense in depth as a solid programming paradigm
  It looks like it might leak DNS (which in Tails probably won't matter)
  It has a static and easy to fingerprint user-agent:
    'User-Agent: htpdate/"VERSION"'
  If called with long urls/host names:
    the HTTP HEAD request will be truncated
  It has a hand rolled HTTP parser
  It assumes no day light savings time
    Is this absolutely certain?
  It doesn't appear to be optimized for speed
    it creates and initializes data structures while parsing HTTP
  It has an interesting way of doing rtt calculation:
    "rtt * 1e-6"
  It may use adjtime which is kinder and gentler
    it also uses settimeofday()
    htpdate_adjtimex() is a reasonably interesting idea
  It does basically everything setting euid/guid as 0
    it doesn't really privsep
  It runs as root by default
    why not ensure that an unprived user/group is required?
    the code allows for dropping to user:group root:root
  The priv dropping code is not safe:
      641 ??if ( sw_uid ) seteuid( sw_uid );
      642 ??if ( sw_gid ) setegid( sw_gid );
  The programmer is funny:
      750 ??if ( goodtimes )
I didn't see anything obviously exploitable but I did see that if some
things fail to happen... all bets are off about things like not being
root and there are no checks to catch such failures.
All the best,

@_date: 2013-04-17 17:28:57
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev]  secure and simple network time (hack) 
OK, so the perl version initially made me a lot less concerned - that C
code isn't the safest. Though in the perl version, I think most of the C
problems are missing - I'd wager a few general issues might remain. I'd
like to see the user switching code - do have it handy?
All the best,

@_date: 2013-04-17 22:03:57
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev]  secure and simple network time (hack) 
I have a proposal that is half written on the topic. Once I write the
proposal, I will probably build it into Tor if no one else beats me to
it. It will however require a bit of work as we don't want to keep such
time setting capabilities forever, etc.
Sure. Of course.
However - the goal here is to for tlsdate to work everywhere - it will
work anywhere where openssl works and that is even more places than Tor,
sadly. I also want it to be used by groups that are not Tor - even if
tor could set the time in this way, I'd want a way to check that
confirms it. Trust but verify, right?
All the best,

@_date: 2013-04-17 22:18:51
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev] secure and simple network time (hack) 
Well, if we have a file on the disk, we don't even have to touch the
network to jump the clock, right?
Probably and probably not?
Which server admins? People offering TLS?
Yeah, I'm aware. Really, well aware. People keep telling me over and
over again - it's not demotivating though as zero of those people
suggest replacements, write the code and then show that it is actually
as secure or more secure.
Whenever a less friendly person gives me a hard time about the obvious
futility of tlsdate, I think:
"Let me know how your ntp replacement project goes and I'll gladly use
it when my shitty one trick pony isn't beating the pants off of your arm
chair hacking."
I'd say I'm kidding but really, we need a secure network time client and
we need one badly. If we don't have one, we can't hold certain
assumptions to be correct and entire systems can be broken. There is
also the attack surface and architecture of other ntp/ntp-like clients.
Sure - We have discussed extending the Tor protocol specifically and
also with a small set of changes we can already extract the remote
server time. We can even do this anonymously and quite easily. That
won't solve it for everyone else using who isn't using Tor... which is
basically the entire planet! :)
I'll update tlsdate and fix it? The stat of the file will give us a time
reference in any case - that won't change unless posix changes and if
that happens, I am fine with porting tlsdate to this future system. :)
That isn't happening - they can't figure out a UX way to offer a full
Tor client. They did ship Tor in their base OS for a while but basically
the UI/UX issues made them remove the binary from the system - elly, my
co-author on tlsdate was the one who ported it over and maintained it.
I've commented on and I'll try to implement it after I write a proposal.
All the best,

@_date: 2013-04-18 00:56:14
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev] secure and simple network time (hack) 
I'd add another case:
4) There is a file on disk with a consensus
  we see the mtime is newer than the current clock
    we jump the clock forward
  we parse the consensus, we decide that we should jump the clock again
This may end differently:
 we download a new consensus, we decide to jump the clock again
 we have fetched a new consensus via some other means
What will they do? Break the TLS spec and stop offering time? Set their
clocks wrong? Stop serving TLS clients?
No need to apologize - perhaps just consider that we're trying to make
those improvements. We'd love the help, rather than an argument where we
make no improvements and people just tell us we're stupid for trying new
things that are imperfect. Especially when everything is imperfect.
I mean, the best complaint I've heard is that we suck for only doing
32bit time. I take that as a challenge and I look forward to solving
that issue because it does really lack in that department.
All the best,

@_date: 2013-04-18 01:03:21
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev] secure and simple network time (hack) 
How so?
Yeah, a parasitic one? For example, I'd be happy to add a network
sniffer ( tlsdate-passive ) or a proxy for HTTPS connections
(tlsdate-clock-extraction-proxy) that just looks for tls sessions,
extracts the server time and generates no traffic at all.
I feel like we're over thinking it - even in the most harsh networks, we
rarely see full https blocking endlessly. The fact is that we could
probably even set our clocks against a tls mitm device ( I do so against
captive portals somteimes ) and it would still work well enough. In the
cases when https is really blocked entirely, I believe that we can
instruct tlsdate to try to look up other services (eg: randomly pick an
alexa top domain, do an mx query or connect to pop.example.com or
imap.example.com to start a tls connection).
Again, another feature request - it is a property of tls, so we can use
things other than webservers.
For what it is worth, in Egypt, ntp was busted when the network went
down unless you had a local ntp server; the same was true for most services.
adjtime is a reasonable feature enhancement. It is in the queue. I've
been working on porting tlsdate to a few other platforms over that
feature though. I'd like to have a hardened parasitic network time
client before I worry about how it doesn't optimally update the clock.
We already fail this test, no? Hell, who is even testing for that except
potential censors?
All the best,

@_date: 2013-04-18 02:06:30
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev] secure and simple network time (hack) 
Tor does not hide that you are using Tor and using Tails or Whonix is an
example of a system only emitting Tor traffic. It depends on your threat
model but generally, we'd just making up "someone could" as a network
distinguisher. I assert that someone could watch - see no traffic except
encrypted traffic, decide it is Tor and then decide you're running Tails
or Whonix.
Also, the way these systems do TLS handshakes will reveal your current
clock as well as other details - such as if you're using Whonix or Tails
(if one caches the consensus, and the other doesn't).
Well, TLS is the default transport and so, I think TLS is the best way
to get time information. We're not really going to stick out any more
than the rest of the TLS traffic - in fact, we might even stick out less
because we have a valid cert and it isn't Tor, it's a shared network
time program. I admit, it can probably be fingerprinted but I think that
fingerprinting it won't look much different from the rest of the TLS
traffic - it will look lets say, less sketchy?
I'd be curious what snoopy says about any of the systems?
  Well, if we want to red team it, we should set up some parameters and go
for it?
All the best,

@_date: 2013-04-18 19:42:48
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev] secure and simple network time (hack) 
I don't think so - I also this this is non-trivial. Some pluggable
transports may seek to obfuscate traffic or to morph it. However, they
do not claim to hide that you are using Tor *in all cases* but rather in
very specific cases. An example threat model includes a DPI device with
limited time to make a classification choice - so the hiding is very
specific to functionality and generally does not take into account
endless data retention with retroactive policing.
Perhaps for a time but again - rarely is anyone thinking about say, the
one, five or ten year logging of full packets.
I would be very careful with that claim. It might be hidden and it might
just be that no one is looking.
That's my point - I don't believe that tlsdate introduces anything more
than what any OpenSSL TLS connection would introduce. The main
difference is the host and *that* is currently a set of *extremely*
popular hosts, way way more popular than Tor nodes or some random bridge
or something. Yes, we could use obfsproxy in the mix but that is punting
and a side step.
That doesn't solve the fingerprinting issues - attackers can classify
the number of users with different machines behind a NAT and often do so.
All the best,

@_date: 2013-04-18 20:03:36
@_author: Jacob Appelbaum 
@_subject: [tor-talk] [Tails-dev]   secure and simple network time (hack) 
Maxim Kammerer:
There are a lot of issues with ntp - my favorite is that a basic (eg:
shipping with OS X) ntp client will hit the default Apple NTP servers.
These servers may be queried by external third parties and the
information returned is enough to attack any client who is using the
server. The information returned includes the client ip, the udp source
port, the udp destination and of course, the attacker knows the server
ip. This means that an attacker may now send packets as the server -
thus the attacker can even attack ntp clients behind a nat or a stateful
firewall. UDP is part of the problem, the lack of the client/server
authentication is another part of the problem, the fact that the ntp
clients aren't written with security in mind is yet another problem.
This says nothing of an attacker who controls the network path - such an
attacker has an even larger number of attacks and ntp falls over for
nearly all of them. The entire idea of a False Ticker relies on the
notion that you have some path to some honest ntp server, so you can
have some phase locked loops and determine which of the set is wrong or
bad. Good luck without authentication, integrity, confidentiality in
syncing that clock...
So again, I understand you don't like my hack and I'd just like to be
clear - we can't use the current ntp tools to safely, securely or
anonymously set our clock in nearly any use case. I'm working on
alternative ways to do it and I'm using IETF compliant protocols on the
network to ensure that it is actually more than a silly hack that only
works for a while.
All the best,

@_date: 2013-04-18 21:57:06
@_author: Jacob Appelbaum 
@_subject: [tor-talk] CloudFlare 
Matthew Finkel:
I was involved in writing the DNSBulkExitList program specifically for
Wikipedia at the request of Tim S. At the time, I believe that it was
better than simply blocking every Tor node - it only blocks exit nodes
that allow exiting to Wikipedia.
It is possible to request a special flag on a Wikipedia account that is
granted by way of some special handshake. It is possible to take an
already created account and use it for edits as the flag overrides the
Tor block.
A workable solution would be to continue to use such a list to detect
Tor usage and then to ensure that we now allow new accounts to be
created over Tor. The MediaWiki should ensure that HSTS is sent to the
user and that the user only ever uses HTTPS to connect to Wikipedia.
I think we should ensure that Wikipedia understands that the account was
created with Tor and that the user may be using this to circumvent
censorship, to protect what they are reading or editing from their local
network censors or surveillance regime as well as to protect IP address
information that the US currently doesn't really protect (see USA vs.
Appelbaum; re: my Twitter case). Since the US can see a lot of the
traffic to Wikipedia, I'd guess that this is important worldwide.
If the user is abusive and an IP block would normally apply, Wikipedia
would not block by IP but would rather use the normal Wikipedia process
to resolve disputes (in edits, discussions, etc) and if the account is
just being used for automated jerk behavior, I think it would be
reasonable to lock the account, perhaps even forcing the user to solve a
captcha, or whatever other process is used when accounts are abused in
an automated fashion.
Most of that isn't technical - it is a matter of accepting that some of
us are not free. Some of us who are not free require systems like Tor to
participate in the Free Culture community curated by the Wikipedia
community on Wikipedia. Some of us will then be free to be part of that
community and perhaps, if we work smartly, other freedoms will follow
from the knowledge of the community.
All the best,

@_date: 2013-04-19 05:07:37
@_author: Jacob Appelbaum 
@_subject: [tor-talk] CloudFlare 
Gregory Maxwell:
Right - it might make sense to make a second flag - anonymity-allowed
and set it to true for everyone until they abuse it.
That page is a very predictable side effect of having a flag for people
with strong need for privacy. I guess we know which Wikipedia users are
valuable or doing something interesting, right? o_0
I did not know that the flag times out - that is rather sad - privacy is
automatically removed, even for people who don't abuse it? Is there any
way to get it back? Or do I now have to deanonymize myself again and
attempt some other secret handshakes? :(
I know a few people that work/ed at the Wikimedia and they did not
suffer from such blindness. I think though that the best retort to
claims that it isn't happening is actually found on the Wikipedia
servers themselves:
 I seem to remember the full list of proxies:
How could anyone suggest that they do not have massive user surveillance
with such a huge list of proxies *in their own source code* tree?
Here is the list again:
I'm sorry to hear that.
I tend to agree. Though I'd be happy to give a talk at a brown bag lunch
or something, if it would help.
I remember, I'm sad to hear that this hasn't changed.
That is very frustrating indeed.
That is an interesting data point, thanks.
I find it strange that so much human time may *only* be saved by an ip
address. I mean, nymbler and other systems solve this problem for a
given user and I can't imagine that there aren't common patterns of
abuse that would say, leave a non-jerk, tor user out of their database
I'm with you that bad behavior exists - I also feel like by blocking
Tor, we find ourselves in a position where regular people have basically
no options and the jerks will often be one step ahead.
As a classic example, I didn't realize the flag had been lifted from my
account and I was without my normal computing environment. I did however
want to correct a mistake on a page - so I used Tor to reach a third
system and performed my edit routing through the third system.
It was such a pain to have to use a third system and boy, if you think
Tor is slow, try using Tor to bounce to another system just to edit the
Wikipedia! Ouch!
That seems reasonable in a sense. I'd say that I'd like to see an
automatic expiration for any such block; I'd also say that any user who
is logged in and *known* to be "good" should automatically be exempt.
Does that seem reasonable or has this been tried only to end in tears?
I think that in such a case, we'd want to deploy a system like Nymbler
rather than a captcha - so that an abusive user's edits could be
reverted in a way that doesn't harm everyone or discriminate entire
classes of users.
Sure, I understand. I find it pretty sad all around too.
I agree - I find it pretty sad that Wikipedia is creating more of them
in an almost unique manner. I also acknowledge at the very same time
that Wikipedia is helping to improve the world and I understand that
there is a balance to be struck.
How many people have their access to Wikipedia censored? How many try to
edit once they find a way around the censorship and are stopped? It is
hard to measure these things and as a result, censorship wins again.
All the best,

@_date: 2013-04-19 05:12:15
@_author: Jacob Appelbaum 
@_subject: [tor-talk] CloudFlare 
Matthew Finkel:
Isn't it still being used?
Right - that and the general class system that it promotes - "hey, you
know someone, cool, you can have anonymity" - whoops. Talk about
liability? One wonders...
How do we make this happen?
Is there a general disagreement about these points in the Wikipedia
I have thought of such things too - I think that a random review partner
might be a reasonable purgatory for those that desire privacy - they get
security, privacy and anonymity for reading; if they want to edit, it
takes a bit of effort.
I agree.
I'll write code, give talks, answer questions, and help in whatever way
might help. I have done similar things in the past for Wikipedia -
please let me know how I might help?
I agree.
All the best,

@_date: 2013-12-17 15:58:21
@_author: Jacob Appelbaum 
@_subject: [tor-talk] $50k Access Innovation Prize for Endpoint Security 
I think Tails is the obvious project for the prize. There are some good
stories about this that would probably help.
All the best,

@_date: 2013-02-03 16:48:35
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TOR Fone - p2p secure and anonymous VoIP tool 
Nathan Freitas:
It looks good - though I'm a bit sad to see that it appears to be
written in C++.
That is good news.
All the best,

@_date: 2013-02-03 22:14:07
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TOR Fone - p2p secure and anonymous VoIP tool 
My objection is that *many* people aren't very good at C or C++
programming. If they were, *trivial* memory corruption bugs wouldn't be
a problem, right? Sadly, this is an issue.
In a type safe specified language as well as a type safe aware compiler,
we see different bugs but usually we don't see classic bugs from the 80s
and 90s.
So Jitsi won't have those obvious memory corruption bugs but you can
probably own a jitsi user with a fake Sun/Oracle Java update. I think in
fact that EvilGrade had/has such a module for Java.
So I'd also want to see kernel hardening (AppArmor, seatbelt, SELinux
policies, etc) on any native code installed on the system.
Thus, any program written in say, Python or Java would have entire
classes of issues practically solved. Whereas in C or C++, we have both
basic memory issues and larger design flaws, there exists myriad of
issues on top of other issues. It is a lot of work to find some kinds of
complex bugs (say, subtle crypto issues), it is even more to have to
look for stack and heap overflows at every corner. That isn't to say
that you shouldn't look such issues. It is to say that Bob's first
program in C will likely have lots of extremely serious issues; the same
program in Python may have other serious issues but likely it isn't an
instant remote code execution issue.
All the best,

@_date: 2013-02-11 23:48:24
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.1.0 released - Our first beta release! 
TorBirdy 0.1.0 is now out; we think it is the the best release so far
and we encourage you to upgrade.
We welcome you to read more about this release and to comment on the
release on the Tor blog:
  This release is the first in our beta series.
It's still experimental - of course. Use at your own risk and especially
if you're using it with Enigmail and GnuPG without a local[0]
HTTP proxy.
We've continued with updating the web page to show some TorBirdy screen
 Call for help:
We're looking for assistance with Translations - if you'd like to
translate TorBirdy, we'd gladly accept a patch that prepares TorBirdy
for translation work. We now have an amazing number of translations!
Even if you can't help translate, we'd love to know what languages
matter to you or your friends - please let us know?
We're especially looking for translations of TorBirdy into
Persian and Japanese - if you'd like to help us translate,
please contact us!
Release Highlights:
0.1.0, 11 Feb 2013
  Our first release in the Beta release series! Hooray!
  Translation updates:
    Add Gujarati translation (Kartik Mistry)
    Add Dutch translation (thanks to Rejo Zenger)
    Add Serbian translation (thanks to Nikola Nenadic)
    Add Hungarian translation (thanks to vargaviktor)
    Add Italian translation (thanks to spawned76, Michele Orr? and jan)
    Add Basque translation (thanks to Antxon Baldarra)
    Add Latvian translation (thanks to Oj?rs Balcers)
    Add Portuguese (BR) translation (thanks to Bruno Geronimo, Rafael Costa)
    Add Polish translation (thanks to bogdrozd)
    Add Greek translation (thanks to mitzie, konpas1986)
    Add Chinese (Simplied) translation (thanks to ln191810)
    Add Russian translation (thanks to ?????????)
    Add Arabic translation (thanks to alshara3, Fadi Mansour)
    Update French translation (thanks for arpalord)
    Update Spanish translation (thanks to Juan Garofalo, strel)
  Added Transparent Torification mode for TorBirdy
  Disable all plugins
  Added opt-out from setting time zone to UTC
  Add Tor-JonDo-Preferences quick switch (patch by Karsten N)
  Support for Whonix (
  Improved security: better SSL enforcement
  Add Tails support
General content anonymity caution note:
TorBirdy has known leaks in the Message-ID and in the Date header, we're
working on merging an upstream patch that will allow these leaks to be
closed. There are no known proxy leaks unless you use additional
extensions that do not respect the proxy settings of Thunderbird. If you
use GnuPG and Enigmail, we encourage you to use it with a local HTTP
proxy due to the issues mentioned[0] regarding GnuPG.
Here's the wiki page for TorBirdy:
  Here's the latest XPI for TorBirdy:
  Here is a proper GPG signature for the latest XPI:
  Here is the sha1sum of torbirdy-0.1.0.xpi:
  f61015166205e2cf7f30b525d0c13958213734d9
We no longer offer files for download on github as they have decided to
remove the feature:
  The GnuPG signature that signed this email is also the same key that
signs the TorBirdy releases. To learn more about signature verification
of Tor Project related software such as TorBirdy please visit this page:
  The plugin on AMO has been preliminarily reviewed and we are still in
the review process. It is again possible (Hooray!) to install TorBirdy
directly from Thunderbird or by downloading the extension in a web
browser from Mozilla's website:
  We believe that users who installed previous versions from Mozilla's
addons site should receive this update automatically. It may take some
time before Mozilla approves this update but it should eventually show
up as an available update.
We now upload a full XPI and GnuPG signature for every new release to
the Tor Project's web servers:
  All the best,
[0]

@_date: 2013-02-12 00:54:46
@_author: Jacob Appelbaum 
@_subject: [tor-talk] torsocks 1.3 is tagged and released 
After quite a long development cycle, we've tagged torsocks 1.3 today:
  We believe that this release fixes most of the outstanding torsocks
issues. We also also hope that it merges all of the various patches that
were being shared in the community.
Please report any new bugs or patches on the Tor bug tracker!
If you'd like to see the current set of bugs and the future
improvements, please visit the bug tracker for the torsocks component:
  All the best,

@_date: 2013-02-12 01:13:31
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.1.0 released - Our first beta release! 
Nathan Freitas:
I've experienced networks that were this terrible and perhaps worse;
what I've found is that I'd rather have Thunderbird fail closed and
safely so. Were you using IMAP?
All the best,

@_date: 2013-02-12 16:40:01
@_author: Jacob Appelbaum 
@_subject: [tor-talk] torsocks 1.3 is tagged and released 
Would you like a tar.gz and a tar.gz.asc?
If so, I'll put the two files up.
All the best,

@_date: 2013-02-12 19:25:59
@_author: Jacob Appelbaum 
@_subject: [tor-talk] torsocks 1.3 is tagged and released 
I'll discuss it with nickm and see what he thinks. A tar.gz isn't too
much of a problem but I'm not sure of where I'd put it.
All the best,

@_date: 2013-02-12 19:27:17
@_author: Jacob Appelbaum 
@_subject: [tor-talk] torsocks 1.3 is tagged and released 
I only plan on signing actual releases. In the future, the RC releases
may be 'actual releases' but I'm not clear that we should have such long
iterations. I'd like to get 1.4 our in the next month, for example.
All the best,

@_date: 2013-02-22 22:31:09
@_author: Jacob Appelbaum 
@_subject: [tor-talk] torsocks 1.3 is tagged and released 
For now, I'd like to suggest that you use the git tag.
All the best,

@_date: 2013-02-22 22:32:21
@_author: Jacob Appelbaum 
@_subject: [tor-talk] torsocks 1.3 is tagged and released 
Nick Mathewson:
I think this is probably a fine idea but I'd like them to go on
people.torproject.org or into torproject.org/disk/torsocks/ - does that
seem like a good place?
We should probably make dist in some standard way - perhaps on a build
machine we trust?
All the best,

@_date: 2013-02-23 07:30:59
@_author: Jacob Appelbaum 
@_subject: [tor-talk] problems with TorBirdy 
I'm sorry that TorBirdy wasn't ready for the change to 9150. It was a
bit of a surprise, actually. By dropping the Vidalia bundle, we really
put people in a tough space - users either need a system tor (```apt-get
install tor```) or they'll have to have the TBB.
It is indeed a poor solution but it is actually the best of all the bad
solutions without a system tor managed by a package manager.
This creates an interesting problem - basically everyone with a system
Tor would be out of luck because of an arbitrary TBB configuration
value. Is that really the right direction? I think that tor in TBB
shouldn't be used as a system wide tor - others might think otherwise.
All the best,

@_date: 2013-07-03 05:05:17
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Tor for upcoming FirefoxOS? 
Nathan Freitas:
VPN in javascript? Or they won't have VPN support? Or we just aren't
cool enough to be a vpn?
All the best,

@_date: 2013-07-06 16:44:57
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Should I warn against Tor? 
Roger Dingledine:
Der Spiegel had something about these kinds of issues in Germany just
last week - didn't they?
All the best,

@_date: 2013-07-10 14:55:11
@_author: Jacob Appelbaum 
@_subject: [tor-talk] No free Hushmail account if signing up using TBB 
Jens Kubieziel:
Yet another reason not to use snitchmail. Ahem, I mean Hushmail.
All the best,

@_date: 2013-07-18 04:55:30
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Ninja Stik? 
Andrew Lewman:
I tend to prefer tails on a TrekStor disk - it has a write protect
switch which seems to actually do something useful. With tails, LUKS
does the job of crypto without the concerns that hardware crypto raises
for me...
That said - wow, what a website - and also, yeah, wow, why not Tails? :(
All the best,

@_date: 2013-07-18 13:29:22
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Ninja Stik? 
Andrew F:
Hardware crypto is difficult to verify on a number of different levels.
I don't even trust these write protected switches but at least those can
be verified to a degree that is reasonably comfortable...
All the best,

@_date: 2013-03-20 19:01:16
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.1.1 released - Our second beta release! 
Greetings from the Boston 2013 Tor developer hack day!
TorBirdy 0.1.1 is now out; we think it is the the best release so far
and we encourage you to upgrade.
This release is the second in our beta series.
It's still experimental - of course. Use at your own risk and especially
if you're using it with Enigmail and GnuPG without a local[0] HTTP proxy.
We've continued with updating the web page to show some TorBirdy screen
 Call for help:
We're looking for assistance with Translations - if you'd like to
translate TorBirdy, we'd gladly accept a patch that prepares TorBirdy
for translation work. We now have an amazing number of translations!
Even if you can't help translate, we'd love to know what languages
matter to you or your friends - please let us know?
We're especially looking for translations of TorBirdy into
Persian - if you'd like to help us translate, please contact us!
Release Highlights:
0.1.1, 20 Mar 2013
  Add a dialog for new users that is shown during the first-run
   (closes   Do not confirm before sending an email if Enigmail is enabled; default
    behavior changed from 0.1.0 (user opt-in allowed through the
    preferences)
  Restore all account settings that were changed on uninstall
  Allow the user to use Thunderbird's automatic configuration wizard in
    case they don't want to use our manual account configuration wizard
  Set the SOCKS port to 9150 to reflect the change in the latest TBB
  Add opt-out from TLS-specific settings (closes   Allow additional keyservers to be used/changed (closes   Add Korean translation (thanks to cwt96)
  Add Norwegian Bokm?l translation (thanks to lateralus)
  Add Galician translation (thanks to tombouzada)
General content anonymity caution note:
TorBirdy has known leaks in the Message-ID and in the Date header, we're
working on merging an upstream patch that will allow these leaks to be
closed. There are no known proxy leaks unless you use additional
extensions that do not respect the proxy settings of Thunderbird. If you
use GnuPG and Enigmail, we encourage you to use it with a local HTTP
proxy due to the issues mentioned[0] regarding GnuPG.
Here's the wiki page for TorBirdy:
  Here's the latest XPI for TorBirdy:
  Here is a proper GPG signature for the latest XPI:
  Here is the sha1sum of torbirdy-0.1.1.xpi:
  6ccfe90fcc1abc446b2734c41794d7af55eaf58f
The GnuPG signature that signed this email is also the same key that
signs the TorBirdy releases. To learn more about signature verification
of Tor Project related software such as TorBirdy please visit this page:
  The plugin on AMO has been preliminarily reviewed and we are still in
the review process. It is again possible (Hooray!) to install TorBirdy
directly from Thunderbird or by downloading the extension in a web
browser from Mozilla's website:
  We believe that users who installed previous versions from Mozilla's
addons site should receive this update automatically. It may take some
time before Mozilla approves this update but it should eventually show
up as an available update.
We now upload a full XPI and GnuPG signature for every new release to
the Tor Project's web servers:
  All the best,
[0]

@_date: 2013-11-04 11:55:23
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.1.2 released - Our third beta release! 
Greetings from Berlin!
TorBirdy 0.1.2 is now out; we think it is the the best release so far
and we encourage you to upgrade.
This release is the third in our beta series.
It's still experimental - of course. Use at your own risk and especially
if you're using it with Enigmail and GnuPG without a local[0] HTTP proxy.
We've continued with updating the web page to show some TorBirdy screen
 Call for help:
We're looking for assistance with Translations - if you'd like to
translate TorBirdy, we'd gladly accept a patch that prepares TorBirdy
for translation work. We now have an amazing number of translations!
Even if you can't help translate, we'd love to know what languages
matter to you or your friends - please let us know?
We're especially looking for translations of TorBirdy into
Persian - if you'd like to help us translate, please contact us!
Release Highlights:
0.1.2, 04 Nov 2013
  New options:
    restore default TorBirdy settings
    toggle checking of new messages automatically for all accounts
  The minimum version of Thunderbird we now support is 10.0 (closes   `--throw-keyids' is now disabled by default (closes   We are no longer forcing Thunderbird updates (closes   Add support for Thunderbird 24 (Gecko 17+) (closes   Enhanced support for Thunderbird chat
  We have a new TorBirdy logo. Thanks to Nima Fatemi!
  Improved documentation:
      Add new translations and updated existing ones
    Please see the Transifex page for more information and credits
General content anonymity caution note:
TorBirdy has known leaks in the Message-ID and in the Date header, we're
working on merging an upstream patch that will allow these leaks to be
closed. There are no known proxy leaks unless you use additional
extensions that do not respect the proxy settings of Thunderbird. If you
use GnuPG and Enigmail, we encourage you to use it with a local HTTP
proxy due to the issues mentioned[0] regarding GnuPG.
Here's the wiki page for TorBirdy:
  Here's the latest XPI for TorBirdy:
  Here is a proper GPG signature for the latest XPI:
  Here is the sha1sum of torbirdy-0.1.1.xpi:
  ca7321cdaf16fb4f1d5d3e96289877ebc275559f
The GnuPG signature that signed this email is also the same key that
signs the TorBirdy releases. To learn more about signature verification
of Tor Project related software such as TorBirdy please visit this page:
  The plugin on AMO has been preliminarily reviewed and we are still in
the review process. It is again possible (Hooray!) to install TorBirdy
directly from Thunderbird or by downloading the extension in a web
browser from Mozilla's website:
  We believe that users who installed previous versions from Mozilla's
addons site should receive this update automatically. It may take some
time before Mozilla approves this update but it should eventually show
up as an available update.
We now upload a full XPI and GnuPG signature for every new release to
the Tor Project's web servers:
  All the best,
[0]

@_date: 2013-11-22 18:17:24
@_author: Jacob Appelbaum 
@_subject: [tor-talk] "Safeplug" 
Mike Cardwell:
And what is the risk of barebacking with a network?
Why should I let traffic trace back to my network? Does that user gather
my consent for every action that will be tied to me? No.
All the best,

@_date: 2013-11-25 23:27:43
@_author: Jacob Appelbaum 
@_subject: [tor-talk] "Safeplug" 
Mike Cardwell:
What data do you have on passive and active MITM attacks on all of the
internet when you compare it with Tor? As an example, what is an ISP
that mines clickstream data? If that happens with your ISP and with say
10% of Tor exit nodes but is no longer tied to your (Government Issued)
identity, could you really say that it significantly increases risk of
passive attacks? Rather, I think in some cases, it reduces the risk. The
same applies to upstream active MITM by say, OpenDNS enabled networks -
Tor will likely decrease the effectiveness of such things on the
otherwise upstream ISP network. It would also decrease the risk of both
passive and active targeted attacks.
Some systems will lock people's accounts - that is a reasonable concern.
We need these systems to better understand the Tor network, rather than
simply punt and stick with the same FUD.
Consent goes n ways. As the network operator, I hope the user will
understand that they need to protect themselves from my network and
routing choices. Similarly, I will try to protect myself and my ISP from
being harmed by a user or someone targeting one of those users.
As an example, some people wish to deploy captive portals for gathering
informed consent. This is a path of madness. In addition to the
linguistic failures, I think the last thing we need is *more* blocking
and filtering. A click through wrapper isn't useful for much other than
a CYA approach to consent which seems... sad.
Perhaps you have another way to suggest that we have informed them and
they have adequate knowledge? I think that I rarely understand the MPLS
tunnels between my DSL circuit and say, DuckDuckGo - do I really need to
understand those details to use the network?
All the best,

@_date: 2014-12-21 21:05:33
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Warning: Do NOT use my mirrors/services until I have 
Thank you for reporting this possible compromise. Hopefully the
thieves will be brought to justice!
It sounds like if possible, one should very carefully consider if they
want to have USB enabled in their kernel. If possible, remove it or
replace it with a module that logs details on devices - perhaps
triggering a panic?
I've rejected your relays like so:
# torrrc changes
# thecthulhu reports unknown compromise December 21st, 2014
AuthDirReject 77.95.224.187
AuthDirReject 89.207.128.241
AuthDirReject 5.104.224.15
AuthDirReject 128.204.207.215
# approved-routers changes
# thecthulu reports compromise december 21st, 2014
!reject D78AB0013D95AFA60757333645BAA03A169DF722
!reject 6F545A39D4849C9FE5B08A6D68C8B3478E4B608B
!reject 5E87B10B430BA4D9ADF1E1F01E69D3A137FB63C9
!reject 0824CE7D452B892D12E081D36E7415F85EA9988F
!reject 35961469646A623F9EE03B7B45296527A624AAFD
!reject 1EA968C956FBC00617655A35DA872D319E87C597
!reject E5A21C42B0FDB88E1A744D9A0388EFB2A7A598CF
!reject 5D1CB4B3025F4D2810CF12AB7A8DDDD6FC10F139
!reject 722B4DF4848EC8C15302C7CF75B52C65BAE3843A
!reject 93CD9231C260558D77331162A5DC5A4C692F5344
!reject A3C3D2664F5E92171359F71931AA2C0C74E2E65C
!reject 575B40EF095A0F2B13C83F8485AFC56453817ABF
!reject 27780F5112DEB64EA65F987079999B9DC055F7C0
!reject 54AA16946DB0CF7A8FA45F3B48A7D686FD1A1CEF
!reject 1EB8BDA15D27B3F9D4A2EDDA58357EA656150075
!reject 17A522BC05A0D115FC939B0271B8626AAFB1DDFF
!reject 1324EC51FBFA5FD1A11B94563E8D2A7999CD8F57
All the best,

@_date: 2014-12-24 17:34:51
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Thunderbird 31.3 fails to load with Torbirdy 0.1.3 
I'm aware of it now - sorry for the delay.
Could you please fill in some extra information on the ticket? Which
version worked? What changed, etc? The ticket is the best place to
collect this information.
Does TorBirdy 0.1.2 work? Does a different version of Thunderbird work?
I'll admit - I haven't actually developed on Windows in many years -
so you're off in unsupported land as far as I'm concerned. Sukhbir may
have other comments.
All the best,

@_date: 2014-02-12 17:13:04
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Ostel and WebRTC over Tor? 
Interesting - and a slight tangent - who uses Skype over Tor? As far
as I can tell - Skype blocks the entire Tor network. I have a
transparent wireless network that routes through Tor at my house for
guests. When one of those guests uses Skype, they're able to login to
the network but they cannot use Skype for *anything* related to
Does anyone actually have the ability to use Skype over Tor since the
M$ acquisition? Has anyone done it lately?
All the best,
(Skype is PRISM/SIGINT enabled non-free malware - please don't
actually use it for anything!)

@_date: 2014-07-03 12:01:15
@_author: Jacob Appelbaum 
@_subject: [tor-talk] XKeyscore-Quellcode: more english details requested 
More information will be published shortly, including a long technical
English story with source code and a video this evening on German TV.
Here are the first bits of our story:
      Stay tuned for the next two publications which will happen in the next
twelve hours.
All the best,

@_date: 2014-07-03 15:34:26
@_author: Jacob Appelbaum 
@_subject: [tor-talk] according to leaked XKeyScore source NSA marks all 
Here is our larger story (in English) which includes excerpts of source code:
  All the best,

@_date: 2014-11-17 19:46:24
@_author: Jacob Appelbaum 
@_subject: [tor-talk] What should our 31c3 talk be? 
We now have a talk slot at 31c3. We should plan this talk well in
advance of the Congress as we have exactly one hour.
All the best,

@_date: 2014-10-14 23:31:27
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Reasoning behind 10 minute circuit switch? 
As a side note - from some of my NSA research, we've found that PSC
(Persona Session Collection) happens in ten minute windows. That means
that a selector will trigger collection and that the collection on
related flows will last for around ten minutes.
Might be a good time to reconsider those circuit build times -
especially if the above is correct. Hard to know for sure but good to
disclose in any case.
Happy hacking,

@_date: 2014-10-21 00:03:21
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Warning to TorBirdy users: system language leak in 
Sukhbir and I are planning on a release in the next few days to
address this issue as well as others.
All the best,

@_date: 2014-10-23 15:19:51
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.1.3 released - Our fourth beta release! 
Greetings from Berlin!
TorBirdy 0.1.3 is now out; we think it is the the best release so far
and we encourage you to upgrade.
This release is the fourth in our beta series.
It's still experimental - of course. Use at your own risk and
especially if you're using it with Enigmail and GnuPG without a
local[0] HTTP proxy.
We've continued with updating the web page to show some TorBirdy screen shots:
 Call for help:
We're looking for assistance with Translations - if you'd like to
translate TorBirdy, we'd gladly accept a patch that prepares TorBirdy
for translation work. We now have an amazing number of translations!
Even if you can't help translate, we'd love to know what languages
matter to you or your friends - please let us know?
We're especially looking for translations of TorBirdy into Persian -
if you'd like to help us translate, please contact us! Please note
that this will likely also require you to translate Thunderbird into
Persian as well.
Release Highlights:
0.1.3, 23 Oct 2014
  * The default keyserver (hidden service) has been updated:
    - hkp://qdigse2yzvuglcix.onion
  * Show the Sender header in message pane (closes   * Draft messages on IMAP accounts are now saved locally (closes   * Restore preferences to the user's own defaults instead of Thunderbird's
    (closes   * network.proxy.no_proxies_on is no longer set to "localhost, 127.0.0.1"
    (thanks to Carsten N.)
  * Disable automatic downloading of new messages for POP3 accounts
    (closes   * Update the reply_header author behaviour (closes   * TorBirdy is now available in 31 languages:
    * Arabic
    * Catalan
    * Czech
    * Danish
    * German
    * Greek
    * English (US)
    * English (Great Britain)
    * Spanish
    * Basque
    * French
    * Hebrew
    * Hungarian
    * Indonesian
    * Italian
    * Korean
    * Latvian
    * Norwegian Bokm?l
    * Norwegian Nynorsk
    * Punjabi
    * Polish
    * Portuguese
    * Portuguese (Brazil)
    * Romanian
    * Russian
    * Slovak
    * Slovenian
    * Serbian
    * Swedish
    * Turkish
    * Ukrainian
General content anonymity caution note:
TorBirdy has known leaks in the Message-ID and in the Date header, we're
working on merging an upstream patch that will allow these leaks to be
closed. There are no known proxy leaks unless you use additional
extensions that do not respect the proxy settings of Thunderbird. If you
use GnuPG and Enigmail, we encourage you to use it with a local HTTP
proxy due to the issues mentioned[0] regarding GnuPG.
Here's the wiki page for TorBirdy:
  Here's the latest XPI for TorBirdy:
  Here is a proper GPG signature for the latest XPI:
  Here is the sha1sum of torbirdy-0.1.3.xpi:
  ccf48206179684d7608c5476f154a696628f9853
Here is the sha256sum of torbirdy-0.1.3.xpi:
  a3cccf11295e07dd6d6bbe2ef66d6da01d76bed857b7c443547881db8e4264e8
The GnuPG signature that signed this email is also the same key that
signs the TorBirdy releases. To learn more about signature verification
of Tor Project related software such as TorBirdy please visit this page:
  The plugin on AMO has been preliminarily reviewed and we are still in
the review process. It is again possible (Hooray!) to install TorBirdy
directly from Thunderbird or by downloading the extension in a web
browser from Mozilla's website:
  We believe that users who installed previous versions from Mozilla's
addons site should receive this update automatically. It may take some
time before Mozilla approves this update but it should eventually show
up as an available update.
We now upload a full XPI and GnuPG signature for every new release to
the Tor Project's web servers:
  This information is also available on the Tor blog:
  Packages for Debian GNU/Linux will be created and uploaded shortly.
All the best,
[0]

@_date: 2014-10-23 19:44:36
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.1.3 released - Our fourth beta release! 
The release is signed. In the future, we hope to sign it with multiple keys.
All the best,

@_date: 2015-08-24 14:44:03
@_author: Jacob Appelbaum 
@_subject: [tor-talk] What's to be Done 
There is a great deal of positive feedback from the Debian community.
This includes offers of experimenting to provide .onions for the
mirrors, adding a grsec kernel and a number of people offering to help
package critical software that was mentioned.
It takes time and effort - if you'd like to help - please join us in
improving Debian!
All the best,

@_date: 2015-08-24 17:50:59
@_author: Jacob Appelbaum 
@_subject: [tor-talk] What's to be Done 
I think that this is where we'll find an advantage with Subgraph - who
is basically going to do the right thing with security all around.
They are basing a lot of their work on Debian, so I suspect some - if
not all - will be folded back into the mainline.
That's part of why you'd want grsec....
I understand the major bits and I've talked with Spender a bit about
things we could do to ship useful configurations for a kernel.
I'm familiar with mempo - it is defunct because they did not actually
take the time to work on integrating it with Debian properly. They did
their own thing and it was nearly impossible for even interested
parties to review it. Very sad but shows the importance of taking the
harder Debian direction of travel if we want Debian's sustainability.
My plan is to ensure that we improve a number of things - we won't get
ASAN for every package in the archive by defaut, obviously. We will
finally have rpc turned off by default and we will have a grsec
enabled kernel as an option. That is a starting point and it is an
incremental improvement. For everything else, I think we'll see an
uptick in SubgraphOS users that fold positive things back into Debian
All the best,

@_date: 2015-08-30 21:49:54
@_author: Jacob Appelbaum 
@_subject: [tor-talk] hardware recommendations 
Intel has AMT and opaque microcode updates, other CPU vendors have
similar fun hardware features.
Further reading regarding AMT from the FSF:
  This is the hardware and software that I mentioned regarding GnuPG:
    This the base of a reasonable Debian ARM system that requires no
non-free software:
  All the best,

@_date: 2015-02-25 04:52:27
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy prevents Thunderbird loading multi-OS bug: 
TorBirdy development is not dead by any means - relevant updates will
be posted to the bugs as progress is made. I've personally not been
able to reproduce this bug - which is part of the issue with solving
All the best,

@_date: 2015-01-27 00:50:09
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Torbirdy 
Using TorBirdy is fine - the two time leaks are very small issues
compared to using Thunderbird without TorBirdy. This is especially so
for weak crypto, or a total lack of crypto, which may be possible
without TorBirdy.
It isn't perfect but it is a whole lot better than plain old
SMTP/POP/IMAP, HTML email, etc, etc.
All the best,

@_date: 2015-01-27 01:19:02
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Torbirdy 
Of course, which is why we note that this is an issue, one which must
be fixed in Thunderbird sadly.
Remember we're comparing Thunderbird without TorBirdy vs with
TorBirdy: it is strictly better, even if imperfect.
All the best,

@_date: 2015-07-22 02:12:13
@_author: Jacob Appelbaum 
@_subject: [tor-talk] USB Sticks for Tails -> CCCamp 
Heya Moritz,
I'd especially like to know if these disks have a re-programmable
internal controller. I think that the write-protection switch is a
useful idea; I wonder if there are additional trade-offs that come
along with it?
As an example, I think that it may stop an attacker who has a local
shell or even root on the machine from tampering with the disk
directly. I'd guess that it doesn't change the ability to re-flash the
firmware on the USB disk itself. It would be interesting to try to
dump that firmware and to inspect it.
Do you have any photos of the device without a case? Are the specs for
the USB devices available?
All the best,

@_date: 2015-07-22 12:22:04
@_author: Jacob Appelbaum 
@_subject: [tor-talk] USB Sticks for Tails -> CCCamp 
DVD drives are programmable computers until we find evidence
suggesting the opposite.
All the best,

@_date: 2015-03-12 16:11:39
@_author: Jacob Appelbaum 
@_subject: [tor-talk] TorBirdy 0.1.4 released - Our fifth beta release! 
Greetings from Berlin!
TorBirdy 0.1.4 is now out; we think it is the the best release so far
and we encourage you to upgrade. This release fixes a critical bug
that was preventing Thunderbird from starting for TorBirdy users.
Please upgrade if you experienced this bug!
This release is the fifth in our beta series.
It's still experimental - of course. Use at your own risk and
especially if you're using it with Enigmail and GnuPG without a
local[0] HTTP proxy.
If you're interested in looking, we have a collection of TorBirdy screen shots:
 Call for help:
We're looking for assistance with Translations - if you'd like to
translate TorBirdy, we'd gladly accept a patch that prepares TorBirdy
for translation work. We now have an amazing number of translations!
Even if you can't help translate, we'd love to know what languages
matter to you or your friends - please let us know?
We're especially looking for translations of TorBirdy into Persian -
if you'd like to help us translate, please contact us! Please note
that this will likely also require you to translate Thunderbird into
Persian as well.
Release Highlights:
0.1.4, 09 March 2015
  * Fix bug that prevented Thunderbird with TorBirdy 0.1.3 from starting
  in profiles with more than three IMAP accounts (closes      General content anonymity caution note:
TorBirdy has known leaks in the Message-ID and in the Date header,
we're working on merging an upstream patch that will allow these leaks
to be closed. There are no known proxy leaks unless you use additional
extensions that do not respect the proxy settings of Thunderbird. If
you use GnuPG and Enigmail, we encourage you to use it with a local
HTTP proxy due to the issues mentioned[0] regarding GnuPG.
Here's the wiki page for TorBirdy:
  Here's the latest XPI for TorBirdy:
  Here is a proper GPG signature for the latest XPI:
  Here is the sha1sum of torbirdy-0.1.4.xpi:
  287db9e854c74d5cb313e4635b69d25291817309
Here is the sha256sum of torbirdy-0.1.4.xpi:
  83c92436df6e1e41c83bc80264c44f589a90ea7e1c9dfc307db7287a4eae12c9
The GnuPG signature that signed this email is also the same key that
signs the TorBirdy releases. To learn more about signature
verification of Tor Project related software such as TorBirdy please
visit this page:
  TorBirdy has finally reached the fully reviewed state on AMO! We
expect our next review to proceed smoothly. It is again possible
(Hooray!) to install TorBirdy directly from Thunderbird or by
downloading the extension in a web browser from Mozilla's website:
    We believe that users who installed previous versions from Mozilla's
addons site should receive this update automatically. It may take some
time before Mozilla approves this update but it should eventually show
up as an available update.
We upload a full XPI and GnuPG signature for every new release to the
Tor Project's web servers:
  This information is also available on the Tor blog:
  Packages for Debian GNU/Linux will be created and uploaded shortly.
All the best,
[0]

@_date: 2016-02-19 03:10:49
@_author: Jacob Appelbaum 
@_subject: [tor-talk] Concerns about the Quora Community regarding Tor 
IP anonymity is only one view of Tor - this oversimplifies all of the
other properties of using the Tor network.  Please consider reading
about the traffic analysis resistance properties of Tor before
describing Tor as a simple proxy system:
This may also be helpful:
  Please note the surveillance resistance properties of the Tor network
differ depending on the view of an adversary.
All the best,
