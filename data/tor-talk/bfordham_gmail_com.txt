
@_date: 2006-11-16 13:25:33
@_author: Bryan Fordham 
@_subject: ssh man-in-the-middle attack 
Someone reported similar behavior a while back, so I figured I'd mention this:
yesterday while using ssh over tor, ssh complained loudly that the key
on the remote server had changed. I knew it had not. I canceled the
operation, tried again, and everything worked as normal.
The key fingerprint was: 44:7b:f7:9f:44:9a:a4:de:be:f5:e6:a7:0e:e1:a2:ff
I've only had this happen once. The moral is: know the fingerprint of
the server you're connecting to when connecting for the first time

@_date: 2007-02-02 16:05:40
@_author: Bryan Fordham 
@_subject: Ssh MITM attack when using tor 
ssh complains that the server's key has changed. I've had it happen a few

@_date: 2007-02-02 16:16:10
@_author: Bryan Fordham 
@_subject: Ssh MITM attack when using tor 
that's true. But if you disconnect, reconnect, and get the old key,
something is funky.
fwiw, that's what's happened to me. And I know the ssh key on the server
hasn't changed.

@_date: 2007-02-02 16:31:55
@_author: Bryan Fordham 
@_subject: Ssh MITM attack when using tor 
unless you knew the key's fingerprint. Otherwise, no, you wouldn't detect
it. Until the next time you connected through tor, and you got the real key
8) Ironically you'd think the real was the fake, I guess.

@_date: 2007-02-20 17:15:49
@_author: Bryan Fordham 
@_subject: map of tor routers 
I've taken up the task creating a map of tor routers. I have a test image up
at So far I have a mapserver and data on tor routers in a postgis database, so
I can produce images like the one above. Now that I've figured that out, I'd
like some comments on how I plan to proceed.
Basically, my idea at this point is to query a directory server once a day,
and check for running nodes. I'll add new nodes as they appear, and mark
ones that are no longer running. I plan to also track if they are stable,
and an exit node.
This way I'll be able to produce maps showing all nodes, all running exit
nodes, and other combinations.
Is there a better way of tracking routers?
What else should I track?
Other comments?
I'm not using google maps so I can keep javascript out. I'm using UMN
MapServer ( for those who are interested in
such things. I may do a nicer UI (javascript-enabled) for those who aren't
worried about such things.

@_date: 2007-02-20 18:28:15
@_author: Bryan Fordham 
@_subject: map of tor routers 
Is there a reason to check more often than that?
Neat stuff!  Keeping historical data might also be cool, so you could
yeah, that's my idea, too. Be able to watch the network change, and also
watch how a particular router may change.
One other thing I forgot to mention:
I'm using the geocode that goes along with the IP for each router. That may
or may not be accurate. Is there a reasonable way to get the info from each
router operator? I don't know if a message signed by the public key is
feasible or not. Perhaps getting confirmation by contacting the contact
address? But not all routers have that.

@_date: 2007-02-20 18:43:04
@_author: Bryan Fordham 
@_subject: map of tor routers 
Opinions? Worth the trouble? Or is using the tor cache enough?

@_date: 2007-02-21 16:32:40
@_author: Bryan Fordham 
@_subject: map of tor routers 
very preliminary, and no real capability for looking around.

@_date: 2007-02-27 10:43:08
@_author: Bryan Fordham 
@_subject: building pages with tor in mind 
I'm seeking some opinions on best practices for creating web pages with Tor
users in mind. Specifically for the Tor Map Project, though I don't think it
really matters.
I know flash, javascript, and cookies can all be used to compromise
anonymity. I have no intention of using these in such a manner, but of
course I have to assume many of my users will have them disabled.
So, my question: Should I not use them at all, or simply have the site still
function without them? Specifically I'm thinking of javascript, which can
make some things on the map I'm developing much nicer.
I'm thinking it's fine to use scripts, etc, as long as you don't lock out
people for not using them. This is a general accessibility guideline. But do
opinions change when we toss Tor into the mix?

@_date: 2007-02-27 10:48:18
@_author: Bryan Fordham 
@_subject: building pages with tor in mind 
on a more general note: Does anyone actually have an example of how
javascript can compromise your anonymity? Not "it can obtain your IP"-type
stuff, but actual code.

@_date: 2007-02-27 12:52:22
@_author: Bryan Fordham 
@_subject: building pages with tor in mind 
That's kind of the conclusion I've reached, though I'm far from an expert.
So, if it can't read the IP, why is it a security risk? Because of cookies?

@_date: 2007-03-06 17:02:07
@_author: Bryan Fordham 
@_subject: list of tor IP addresses 
Looking at the volunteer page at tor.eff.org, I spotted this:
We need an official central site to answer "Is this IP address a Tor
server?" questions. This should provide several interfaces, including a web
interface and a DNSBL-style interface. It can provide the most up-to-date
answers by keeping a local mirror of the Tor directory information. Bonus
points if it does active testing through each exit node to find out what IP
address it's really exiting from.
I already have a list of servers and their listed IP addresses. It wouldn't
take much to add in some things to test what IP address is actually used
when exiting.
What kind of format would a web interface to this have? Just a textbox where
you enter an IP?
