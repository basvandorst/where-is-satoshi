
@_date: 2005-11-08 12:02:06
@_author: John Stan 
@_subject: setting up Tor network in local LAN or a single host 
I am trying to set up Tor network in my local LAN and in my machine (all are linux machines), but I kept on getting errors. For version tor-0.1.1.8-alpha, the main error I got is "503 Directory unavailable".  I read through the tor-spec.txt and dir-spec.txt and it looks like the directory should not be unavailable. Can anyone tell me how I should fix this? Below is the log and torrc file for one of the directory server node. I also tried out version tor-0.1.1.6-alpha, and got the same error as Kathy Simm did, as described in the threat 'tor servers on local lan".
the notice log for one of the directory server node is:
Nov 08 11:54:23.035 [notice] Tor 0.1.1.8-alpha opening new log file.
Nov 08 11:54:25.054 [notice] directory_info_has_arrived(): I learned some more directory information, but not enough to build a circuit.
Nov 08 11:54:25.055 [notice] update_router_descriptor_downloads(): Launching request for all routers
Nov 08 11:54:25.080 [notice] directory_handle_command_get(): Client asked for the mirrored directory, but we don't have a good one yet. Sending 503 Dir not available.
Nov 08 11:54:25.082 [notice] routerstatus_list_update_from_networkstatus(): Not enough statuses to update router status list. (1/2)
Nov 08 11:54:25.083 [notice] directory_info_has_arrived(): I learned some more directory information, but not enough to build a circuit.
Nov 08 11:54:25.084 [warn] connection_dir_client_reached_eof(): Received http status code 503 ("Directory unavailable") from server '127.0.0.1:7404'. I'll try again soon.
Nov 08 11:54:25.084 [notice] directory_get_from_dirserver(): No running dirservers known. Will try again later. (purpose 2)
Nov 08 11:54:25.085 [notice] directory_get_from_dirserver(): No running dirservers known. Will try again later. (purpose 1)
Nov 08 11:54:25.088 [notice] directory_info_has_arrived(): I learned some more directory information, but not enough to build a circuit.
Nov 08 11:54:25.179 [warn] connection_dir_client_reached_eof(): Received http status code 503 ("Directory unavailable") from server '127.0.0.1:7404'. I'll try again soon.
Nov 08 11:54:25.180 [notice] directory_get_from_dirserver(): No running dirservers known. Will try again later. (purpose 2)
Nov 08 11:54:25.195 [notice] directory_handle_command_get(): Client asked for the mirrored directory, but we don't have a good one yet. Sending 503 Dir not available.
Nov 08 11:54:25.202 [notice] directory_handle_command_get(): Client asked for the mirrored directory, but we don't have a good one yet. Sending 503 Dir not available.
Nov 08 11:54:25.202 [warn] connection_dir_client_reached_eof(): Received http status code 503 ("Directory unavailable") from server '127.0.0.1:7404'. I'll try again soon.
Nov 08 11:54:25.203 [notice] directory_get_from_dirserver(): No running dirservers known. Will try again later. (purpose 2)
Nov 08 11:54:25.205 [notice] directory_handle_command_get(): Client asked for the mirrored directory, but we don't have a good one yet. Sending 503 Dir not available.
Nov 08 11:54:25.205 [notice] directory_get_from_dirserver(): No running dirservers known. Will try again later. (purpose 1)
Nov 08 11:54:25.288 [warn] connection_dir_client_reached_eof(): Received http status code 503 ("Directory unavailable") from server '127.0.0.1:7404'. I'll try again soon.
Nov 08 11:54:25.288 [notice] directory_get_from_dirserver(): No running dirservers known. Will try again later. (purpose 2)
Nov 08 11:54:31.878 [err] Catching signal TERM, exiting cleanly.
The torrc file is:
SocksPort 7402
SocksBindAddress 127.0.0.1
AllowUnverifiedNodes middle,rendezvous,exit,entry,introduction
Log debug file onion/local-ornet/nodeD0/debug.log
Log notice file onion/local-ornet/nodeD0/notice.log
Log info file onion/local-ornet/nodeD0/info.log
DataDirectory onion/local-ornet/nodeD0/data
Nickname nodeD0
Address 127.0.0.1
ContactInfo Private node
ORPort 7400
ORBindAddress 127.0.0.1
DirPort 7401
DirBindAddress 127.0.0.1
AssumeReachable 1
DirAllowPrivateAddresses 1
ExitPolicy accept 192.168.0.0/255.255.0.0:*
ExitPolicy accept 127.0.0.0/255.0.0.0:*
DirServer 127.0.0.1:7401 BA53 D225 E123 921F 3E48 EE39 81C0 2061 855E 08E6
DirServer 127.0.0.1:7404 1F85 3969 63C0 27BE 8C85 E935 0E11 D6B9 E7F9 701A
AuthoritativeDirectory 1
RecommendedVersions 0.1.1.8-alpha
Is your PC infected? Get a FREE online computer virus scan from McAfee? Security.

@_date: 2005-11-08 12:05:14
@_author: John Stan 
@_subject: setting up Tor network in local LAN or a single host 
Sorry, I forgot to mention one more detail about my Tor network. It has 2 directory servers and 3 onion routers. I also tried a network of bigger size, but same errors occured.
Don?t just search. Find. Check out the new MSN Search!

@_date: 2005-11-08 12:05:14
@_author: John Stan 
@_subject: setting up Tor network in local LAN or a single host 
Sorry, I forgot to mention one more detail about my Tor network. It has 2 directory servers and 3 onion routers. I also tried a network of bigger size, but same errors occured.
Don?t just search. Find. Check out the new MSN Search!
