
@_date: 2012-12-14 00:25:41
@_author: Quan 
@_subject: [tor-talk] How to debug "missing" HiddenService 
I have over 100 HiddenService entries in torrc files.
I just discovered that some .onion addresses are not reacting at all. It
always comes to timeout. Other onion addresses on the same server work
just fine.
I turned on the logs (Log info-err,  SafeLogging 0) in Tor and I see one
of these "missing" addresses in the logs:
[info] directory_post_to_hs_dir(): Sending publish request for v2
descriptor for service 'fkjbkelilisqd4gh' with descriptor ID...
"grep" on tor log for other onion addresses did not show any of the
missing addresses.
Does anyone have an idea why some of the addresses always timeout? Is
there a way to debug this?

@_date: 2012-11-25 11:14:22
@_author: Quan 
@_subject: [tor-talk] hidden service not reachable: Your system clock just 
I see this message in tor logs and my hidden service is not reachable:
Received reload signal (hup). Reloading config and resetting internal state.
Tor 0.2.2.39 (git-2f7e71c2e896772f) opening log file.
Your system clock just jumped 121 seconds forward; assuming established
circuits no longer work.
Our directory information is no longer up-to-date enough to build
circuits: We have only 304/924 usable exit node descriptors.
We now have enough directory information to build circuits.
Your system clock just jumped 123 seconds forward; assuming established
circuits no longer work.
Tor has successfully opened a circuit. Looks like client functionality
is working.
Your system clock just jumped 122 seconds forward; assuming established
circuits no longer work.
Any ideas what could cause this?
p.s.: My system clock is running correctly

@_date: 2012-11-25 23:34:30
@_author: Quan 
@_subject: [tor-talk] hidden service not reachable: Your system clock just 
my clock is running correctly. but tor process was taking 100% of the
cpu. clock was still running correctly during this load but tor somehow
didn't get that.
no idea what is/was going on. I restarted tor at least dozen times, and
everything started working normal last time I restarted tor.
problem was maybe that I had around 70 hiddenservicedir lines defined in
torrc. could it be too much? is there a limit?

@_date: 2012-11-26 23:20:45
@_author: Quan 
@_subject: [tor-talk] hidden service not reachable: Your system clock just 
well I compared it to two other machines which are using same ntp server. n
this message occurs only if Tor is taking the whole cpu. clocks were
running same on all machines.
and as I said, that behaviour is not occuring any more. I restarted Tor
a dozen times and now is everything running ok. I added now 200
hiddenservices and restarted Tor and everything is running without any
I cannot say what caused this because there is nothing running on the
server except ssh server. and Tor process never took more than 60mb of
It's going to be
debian squeeze.
4 core machine with almost no load at all.
(Sorry, I don't
computer is powerful enough. there is almost no load at all.
that is my opinion too but I assume that this was caused only by tor.
there were no other processes running, over 2gb of free memory, machine
was not overloaded etc.
I am not able reproduce this but I let tor run with "Log info-err" to
try to find out the reason.

@_date: 2013-02-01 17:32:26
@_author: Quan 
@_subject: [tor-talk] Fwd: inreasing MaxClientCircuitsPending useful? 
Anyone with an advice on this?
-------- Original Message --------
I have around 250 hidden services in torrc and I sometimes see this message:
[notice] We'd like to launch a circuit to handle a connection, but we
already have 32 general-purpose client circuits pending. Waiting until
some finish.
Does this mean that the connection to hidden service was not established
because of too many connections? I am asking that because I see
sometimes that some hidden services are not reachable and after a few
minutes everything is ok again.
Would increasing MaxClientCircuitsPending help? 128? 512?

@_date: 2013-02-01 21:50:56
@_author: Quan 
@_subject: [tor-talk] Fwd: inreasing MaxClientCircuitsPending useful? 
Why? There are a lot of users on this list and many topics are forever
forgotten if not answered in the first day (or two).
I asked exactly this: which value should I use?
And whether should I change it at all (because I do no understand from
man page whether this would help me)
I already did otherwise I would not ask. I found two different topics
where someone asked about this param and nobody answered. Maybe that's
why I got the idea to bump my own thread.
you too.

@_date: 2013-01-31 22:29:54
@_author: Quan 
@_subject: [tor-talk] tor crashing: [err] circuit_build_times_get_xm(): Bug: 
failed; aborting
I have around 250 hidden services  in torrc.
I upgraded tor today and restarted process. Tor crashed twice with this
[err] circuit_build_times_get_xm(): Bug: circuitbuild.c:803:
circuit_build_times_get_xm: Assertion bin_counts > 0 failed; aborting
Third time I run it it was to able to fully start it and now is
everything stable. Any ideas what caused this?

@_date: 2013-01-31 22:38:13
@_author: Quan 
@_subject: [tor-talk] inreasing MaxClientCircuitsPending useful? 
I have around 250 hidden services in torrc and I sometimes see this message:
[notice] We'd like to launch a circuit to handle a connection, but we
already have 32 general-purpose client circuits pending. Waiting until
some finish.
Does this mean that the connection to hidden service was not established
because of too many connections? I am asking that because I see
sometimes that some hidden services are not reachable and after a few
minutes everything is ok again.
Would increasing MaxClientCircuitsPending help? 128? 512?

@_date: 2013-01-31 23:15:54
@_author: Quan 
@_subject: [tor-talk] tor crashing: [err] circuit_build_times_get_xm(): 
============================== START ==============================
 0 failed; aborting
disk has enough free space and there is also a lot of free ram.
I cannot say anything about state file because now is everything ok.
I tried restarting it twice but there were problems.
I will inform you if it occurs again.
