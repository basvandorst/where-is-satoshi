
@_date: 2006-08-18 22:14:29
@_author: Robert Hogan 
@_subject: following on from today's discussion 
This has been an interesting discussion (a bit of intemperate speech is always entertaining too). That aside, I think it has highlighted a security risk  that Tor itself may be guilty of understating to new users, namely that using Tor exposes your traffic to a much higher likelihood of being eavesdropped than normal.
For example, I am not a network admin by day so I do not have access to public internet traffic through legal means. Yet I am running a Tor exit server, so I can now legally (though unethically) listen to your internet traffic and harvest any passwords that go by.
I do not think the gravity of this trade-off by the tor user (security for anonymity) is adequately represented.
Now that I see it for what it is, I am definitely going to introduce some sort of nag/warning to TorK so that the user is warned at least once that using plaintext protocols carrying authentication information on Tor carries a serious health warning.
Am I overstating the case? Do others think that the nature of the compromise tor users make is transparent to them?

@_date: 2006-08-18 23:31:58
@_author: Robert Hogan 
@_subject: following on from today's discussion 
Thank you for that very considered response. Tor definitely does change the qualtitative and quantative risk of being eavesdropped though - and i think it is this fact that is understated. The anonymity provided by tor comes at a price: the increased risk of any-old-joe (and not just the corener cases of a crooked isp employee, or a hacker listening to misrouted packets) harvesting your traffic.
The exact degree of this increased risk obviously depends on your view of the risk posed by normal use of the internet, as you have pointed out.
My feeling is that anything that extends the circle of risk from exposure to hackers/crooked ISP employees/ISPs themselves to exposure to the likes of me (a curious amateur with no special priveleges) represents a sea-change in the user's security 'posture'.
I'm not saying that the shift is catastrophic but it is definitely a compromise that needs more emphasis.

@_date: 2006-08-21 19:31:39
@_author: Robert Hogan 
@_subject: following on from today's discussion 
That's correct - the activities of individual exit node operators is purely in the realms of speculation. But what is not speculation is that some of them are eavesdropping.
'Among other things, Tor is a handy tool for harvesting random username/password pairs.' I believe that's a true statement. And that's why I think Tor traffic is more likely to be eavesdropped upon: because it is as much a hacking tool for scriptkiddies as it is an anonymity network client for everyone else.
That's my only point really. Tor has a specific layer of exposure that is easily accessible to anyone who is interested in it. That is not true of non-Tor traffic.

@_date: 2006-08-21 19:36:54
@_author: Robert Hogan 
@_subject: following on from today's discussion 
My point was that it's easier to run a tor exit node than do any of the above. That makes it more likely to happen. Sorry, I was being a smartarse.

@_date: 2006-08-23 18:09:47
@_author: Robert Hogan 
@_subject: GERMAN JUSTICE MINISTER CALLS FOR LIMITS TO NET ANONYMIZER 
"If there was reasonable suspicion of a crime and if the German Code of Criminal Procedure provided for such an approach in the case in question, it was quite possible to register the IP addresses of computers, Mr. Weichert Umm. So it's only anonymous until they need to find out who you are? Or have I misunderstood the point?
- KlamAV - An Anti-Virus Manager for KDE - TorK   - A Tor Controller For KDE      -

@_date: 2006-08-29 22:12:54
@_author: Robert Hogan 
@_subject: Tor 0.1.2.1-alpha is out 
This sounds interesting. But googling for trans-proxy-tor doesn't turn up much. Anyone know if there is *anything* out there that might be useful for the layman?

@_date: 2006-12-01 22:29:59
@_author: Robert Hogan 
@_subject: How can I trust all my Tor nodes in path 
You've lost me here - could you explain further? How would it prevent logging

@_date: 2006-12-19 21:06:59
@_author: Robert Hogan 
@_subject: suggestion for 'is my installation of tor working?' page 
Hi all,
All of the above provide useful information for the first-time tor user. But the last two are only really meaningful to initates (and probably confusing to everyone else), while the first is reassuring but could really offer a little more.
What is needed (IMVHO) is a page that confirms you are using tor successfully, but also introduces you to the other services that tor offers and also some advice for the tor debutante. A sort of official or unofficial 'welcome to the tor network' page. This could be linked to in the FAQ/INSTALL and used by Would the maintainers of any of the above be interested in providing such a thing? Given that the heavy lifting has already been done on all of the above, it would be very trivial to create. Would there be an appetite for such a thing on the tor homepage itself?
Suggestions for content:
* A warm greeting!
* Top Five things all tor users should know
* Appeal for users to run servers and link to how-to
* An introduction to some hidden services
Anyway, just a thought...

@_date: 2006-12-19 21:46:17
@_author: Robert Hogan 
@_subject: suggestion for 'is my installation of tor working?' page 
It's almost as overwhelming as tns and torstat. I guess I'm thinking more along the lines of a landing page for tor users. Something that will ease the first-time user into anonymous browsing and perhaps give them some do's and don'ts before they get started, along with a basic health check on their browser settings.
Some more suggestions (taken from good stuff buried halfway down showmyip):
* Browser detected
* Detection of flash/javascript/cookies with health warnings if enabled.
My point is that it would be such an easy thing to do given that all of these sites have the infrastructure already in place. Just a question of

@_date: 2006-12-21 18:36:00
@_author: Robert Hogan 
@_subject: suggestion for 'is my installation of tor working?' page 
Sounds great, looking forward to it!
I'll direct TorK users to it once it's up and running.

@_date: 2006-12-24 10:46:23
@_author: Robert Hogan 
@_subject: man in the middle? 
Got this when testing an ssh connection:
WARNING: DSA key found for host shell.sf.net
in /home/robert/.ssh/known_hosts:8
DSA key fingerprint 4c:68:03:d4:5c:58:a6:1d:9d:17:13:24:14:48:ba:99.
The authenticity of host 'shell.sf.net (66.35.250.208)' can't be established
but keys of different type are already known for this host.
RSA key fingerprint is cf:9b:db:c4:53:c3:f0:0d:e8:c4:15:33:61:71:01:ca.
Are you sure you want to continue connecting (yes/no)? no
Tor first attempted to attach a circuit with toxischnet as it's exit. This didn't work, so it then used tormentor. I then got the above.
I subsequently used both toxischnet and tormentor to connect without any key authentication issues. The RSA fingerpint is not listed by sourceforge. Malice? Misconfiguration of some sort? Anyone care to test either of these

@_date: 2006-12-30 11:11:01
@_author: Robert Hogan 
@_subject: Wired article on Tor 
The Tor authors were involved in the paper. Look through the or-talk archives from a few months ago - you should find mention of it.

@_date: 2006-12-30 11:11:01
@_author: Robert Hogan 
@_subject: Wired article on Tor 
The Tor authors were involved in the paper. Look through the or-talk archives from a few months ago - you should find mention of it.

@_date: 2006-12-01 20:44:38
@_author: Robert Hogan 
@_subject: How can I trust all my Tor nodes in path 
Take a look again at the FAQ. The anonymity of Tor isn't predicated on trust. All routers on the circuit could be malicious and still fail to find out who you are. The only one that has a real chance is the last one on the circuit, the exit node - and even this one will rely on it's ability to look at the content of your traffic.
That said, if someone owns all three nodes (or even the entry and exit) they could mount a timing attack and figure out who you are - at a stretch. But this really would require the entire network to be owned - and that itself would create a lot of noise to sift through.
See The real danger with Tor is using sensitive information over http rather than https and mixing anonymous and non-anonymous traffic over the same circuit. Those two are the most common and most easy mistakes to make.

@_date: 2006-12-01 21:07:40
@_author: Robert Hogan 
@_subject: How can I trust all my Tor nodes in path 
If you use https (and your browser hasn't complained about the ssl certificate) you're fine.  The exit node can see everything (if they want) over http. Everything after the exit node is just as good or bad as if you weren't using tor. Tor just adds an extra guy to the chain of *reputable* carriers who *could* monitor your traffic - and it is best practice to assume that at least the tor exit node is doing exactly that. see

@_date: 2006-07-05 19:42:34
@_author: Robert Hogan 
@_subject: TorK 0.04 Released. 
Hi there,
Just a quick note to let you know that TorK 0.04 has been released.
As you may or may not guess from the name TorK is a Tor Controller for KDE. It provides a wide range of 'quick' configuration settings as well as the ability to granularly define the way you want Tor to run. You can create and manage circuits using a drag and drop interface. You can even update your Tor settings on the fly. The latest version also introduces a nifty little connection monitor which sits in whichever corner you choose and displays the state of your current Tor usage. And if you find it annoying rather than nifty you can simply turn it off.
TorK is available at The users list is: tork-users at lists.sf.net
If you try it out let me know how you get on and what you feel needs improvement - it's still very early days!

@_date: 2006-07-08 10:08:15
@_author: Robert Hogan 
@_subject: TorK 0.04 Released. 
when you go into the 'configure' dialog - have you configured the address and port of your tor instance? tor will assume localhost:9051 unless told please respond to me directly or to tork-users at lists.sf.net - unless tork-related talk is considered useful on this list...

@_date: 2006-03-08 19:30:33
@_author: Robert Hogan 
@_subject: extending a circuit 
i've verified a server is up by doing:
getinfo desc/all-recent
getinfo network-status
it's listed in both. yet when i try to use it to extend a circuit:
extendcircuit [circid] [servername]
it tell me '(waiting for keys)' and then the circuit fails.
any idea what i'm doing wrong? what is the definitive way of deciding that a router is available for circuit extensions?

@_date: 2006-11-21 18:32:45
@_author: Robert Hogan 
@_subject: Patch for Tsocks unifying the platform independent patches required for TOR 
I for one would find the bsd patches very useful if you manage to clean them for a system-agnostic install. I distribute the patched tsocks with tork and it currently does not install on bsd.

@_date: 2006-11-26 12:29:22
@_author: Robert Hogan 
@_subject: Opening controlport by default 
Hi all,
Did tor ever open the control port by default? It's not doing so now.
I can certainly understand why it might not be a good idea to open the control port without an explicit request to do so. However, the flip side is that a default installation of tor (especially a packaged one where the user hasn't had to familiarize themselves with the conf files and tor starts automatically at boot-time) can't be used by a controller out-of-the-box on *nix. This was certainly my experience of the (rather old) tor package for The solution mght be to include a configuration script with tor. Something the controller could call upon to help the user through a bit of default coniguration to make tor controller-friendly. This script could also run through the boot-time setup of tor. I guess it could even help configure privoxy/polipo in a way that is useful to tor.
Has anyone given any thought to this? Controller issues aside it would be a very useful bridge between installing tor on *nix and getting it up and On the same note, is anyone familiar with a multi-distro setup script that this could be based on?

@_date: 2006-11-11 09:18:01
@_author: Robert Hogan 
@_subject: ciruit history 
TorK does this for you - but does not write the history to a file.

@_date: 2006-11-13 11:43:16
@_author: Robert Hogan 
@_subject: TorK 0.11 Released 
Hi All,
A new version of TorK has been released and I'm looking for as much destructive/constructive criticism as possible!
TorK is a Tor Controller for KDE. TorK allows you to configure, run and update Tor. It also allows you to view the Tor network and choose how you would like to interact with the network.
Download at Home page at TorK contains a number of unique/useful features:
* (NEW) A quickstart page for launching torified applications.
* A hidden services wizard that allows you to create and publish hidden * A drag-and-drop view of the Tor network. Create, modify and close circuits. Attach and detach streams manually from circuits. Click on servers to view their full details.
* Exit node blocking/preferring by country and server name.
 See * Tor and Non-Tor traffic logs - showing you the traffic that is going through Tor and the traffic that is not. The Tor traffic log maintains a record of the circuit you used for each connection. Both logs are maintained in memory only and can be flushed by the user at any time.
* A turn-on-and-off-able mini-view that shows you the traffic currently going through Tor - including destination, status, and exit node's name and * Passive pop-ups alerting you to important Tor events, such as changes to  your server status, DNS leaks, errors reported by Tor.
* Quick configuration - six default configurations available for getting Tor running the simple and easy way.
* Full access to all Tor configuration options.
I've changed the official status of TorK from alpha to beta because I really think it's getting there. If you try TorK please let me know about it's shortcomings either by contacting tork-users at lists.sf.net or the feedback feature built into TorK.
Thanks for your time!

@_date: 2006-10-06 19:21:39
@_author: Robert Hogan 
@_subject: Analyzing TOR-exitnodes for anomalies 
i have the same experience using whistlersmother for the same site.

@_date: 2006-10-06 19:27:09
@_author: Robert Hogan 
@_subject: Analyzing TOR-exitnodes for anomalies 
And I have the same experience with practically every other exit node I try for this site. So whistlersmother is not the problem...

@_date: 2006-10-20 19:49:50
@_author: Robert Hogan 
@_subject: "Practical onion hacking: finding the real address of Tor clients" 
I can't speak for the OP but I think he meant what he said. If someone is using Tor, they are *trying* to be anonymous. Whether they are successful or not depends on how well they've digested the FAQ - and I think it is a fair point that some things (such as javascript/flash and the perils of unencypted traffic) require more emphasis than others (e.g. why is tor so slow, how often does tor change its paths).
I think there are subtleties to the safe use of Tor that require some technical understanding. And that is a Tor specific problem which shouldn't be overlooked.

@_date: 2007-04-01 13:24:04
@_author: Robert Hogan 
@_subject: LiveCD For Testing 
I'm currently seeding a rather large experimental Tor/TorK LiveCD (675 MB!).
The CD is based on Knoppix and was created using the procedure documented at:
The only part of the procedure not fully implemented is 'Removing unnecessary packages'. I drew up a shortlist on the wiki page this morning, so if anyone can think of other worthy removals, please add them there.
I understand that without a full diff from knoppix sources the LiveCD is mystery meat and not particularly GPL compliant to boot. I think this is something to address in the medium term, when/if it ever begins to take shape as a serious proposition. I believe the Knoppix sources are available at:  I have about 40KB/s TX bandwidth on my home connection, so if you manage a full download please continue to seed.
Elements of the CD that need some attention:
* Firefox - firefox sessions load from tork with pretty much everything disabled. The next version will have Mike Perry's torbutton - which looks like the most sensible way of doing things. I also haven't attempted to strip any plugins yet.
* Firewall - just a basic firewall is used. No attempt is made to block outgoing dns requests. Instead these are tracked and reported in a very rudimentary, not-exactly-foolproof way by tork. I guess this comes down to whether an anonymous cd should permit non-anonymous browsing.
* Policy on software included. What applications should the CD include? Should the user want/be able to print? Should there be more than one type of CD offered, full featured vs just browsing?
* Are there security features that the wiki page doesn't even mention or Anyway, be gentle! I'll probably try to create a new and improved version of the CD every few weeks for the next while.

@_date: 2007-08-21 19:46:07
@_author: Robert Hogan 
@_subject: error noted in 
indeed, unfortunately it's confusing to the uninitiated who have no reason to suspect that their 'tor controller' has nothing to with their 'tor

@_date: 2007-08-01 19:33:19
@_author: Robert Hogan 
@_subject: bandwidth graph ok with 0.1.2.14-dev only 
I've done some light research on this issue and suspect (on the basis of fairly slender analysis) that the problem may not be entirely down to just the version of Tor you're using. The only way to see if it is a factor is to run 0.1.2.14-dev for a while and see if the problem re-appears after a week or two. Would you mind doing that?
Could you state the exact svn revision you're using at the moment? There's no exact release called 0.1.2.14-dev, svn stable branch was given this version name on the 13th July so I'm assuming you're using a particular svn revision from r10822 onwards, sometime between 13th July and 17th July.  You can find out the revision by doing an 'svn info' in the tor svn dir.

@_date: 2007-08-28 18:50:10
@_author: Robert Hogan 
@_subject: Some problems setting up a server 
Don't know what the explanation for this is. Tor certainly doesn't clobber your internet connection, and I certainly hope TorK doesn't!
Both of the messages below are generated by TorK. You described them as 'in the log' because since 0.18 I've started entering the headline of TorK-generated passive  pop-up messages in the the 'Tor Log' tab. Even though they're marked 'TorK' this is obviously just confusing, and on reflection a bit dumb. I need to put some or all of them somewhere else.
From your descriptions below I think you were away from the keyboard when the pop-up occurred because I think the body of the pop-up messages clarifies things in both cases.
This message is generated when TorK notices a dns request (monitored via netstat) while you have an open tor stream. The pop-up reports the program that made the dns request. If it is not the same program you are using anonymously then you have nothing to worry about.
TorK has an experimentail fail-safe feature that will configure your local machine to redirect all udp  dns requests to TorK. This works on the 0.2.x series of Tor and will help safeguard against the risk the above message is meant to highlight.
This is a generic warning that pops up the first time TorK detects you using a non-secure port on Tor such as http or telnet. The full pop-up message is:
"Try to use the secure version of services (e.g. https:// instead of  if you are entering a username and password or the content is sensitive. Would you like to see an explanation of why using Tor can make un-encrypted traffic potentially less secure than normal?"
If you click yes, you are brought to:
TorK is meant to help you do this, so it's clearly failing. Can you mail me personally to let me know:
* If you saw the passive-popups but didn't find them helpful
* If putting tork-generated messages in the log tab was confusing to you.
* If the log entries had been more complete would that have reduced your * Any comments you may have on the meaningfulness of the messages.
Thanks very much for your feedback!

@_date: 2007-08-05 22:29:14
@_author: Robert Hogan 
@_subject: Directory servers for a subset of Tor routers 
You can view google using baobab as an exit with the following url:
That means you can do something like:
 TOR_exit_nodes[10];
 for( i=0; i<10; i++ )
 {
     retrieve_webpage( URL + "." + TOR_exit_nodes[ i ] + ".exit" );
 }

@_date: 2007-08-08 21:12:08
@_author: Robert Hogan 
@_subject: Proposal of a new hidden wiki 
The spec says:
  Upon receiving a descriptor, the directory server checks the signature,
   and discards the descriptor if the signature does not match the enclosed
   public key.  Next, the directory server checks the timestamp.  If the
   timestamp is more than 24 hours in the past or more than 1 hour in the
   future, or the directory server already has a newer descriptor with the
   same public key, the server discards the descriptor.  Otherwise, the
   server discards any older descriptors with the same public key and
   version format, and associates the new descriptor with the public key.
   The directory server remembers this descriptor for at least 24 hours
   after its timestamp.  At least every 18 hours, Bob's OP uploads a
   fresh descriptor.
So if a number of servers shared the same hidden-service key they would just overwrite each other's descriptor with each upload. They would never co-exist, instead the most recent poster would get the traffic. It seems like it should work as long as the servers agreed to update at different times. Not sure how secure such a service would be though.

@_date: 2007-08-09 13:15:31
@_author: Robert Hogan 
@_subject: Proposal of a new hidden wiki 
============================== START ==============================
You mean like these crazee boyz?
This is a useful link, could someone add it to the neat links section?

@_date: 2007-12-20 21:05:52
@_author: Robert Hogan 
@_subject: another seeming attack on my server's DirPort 
Anyone know what 'NSA-Affiliated' actually means?
I can't find a cryptome definition anywhere. Are they known  to be in cahoots or are they assumed to be so on the basis of some other activity?
Is there a kernel of truth at all in that page or should it be taken with a large pinch of Alex Jones?

@_date: 2007-02-01 21:47:34
@_author: Robert Hogan 
@_subject: suggestion for 'is my installation of tor working?' page 
Has anyone had any further thoughts on this?
Wesley, have you thought of creating a chopped-down version of showmyip.com that concentrates on the browser/OS properties (such as javascript) as well as displaying geographical info?

@_date: 2007-02-26 20:39:08
@_author: Robert Hogan 
@_subject: Anyhoo... 
On the face of it, forcing tor to be 'geo-diverse' (dread word) is fairly The option is called NodeFamily. Ask the author of your favourite tor controller to implement something like 'Enforce Geoographical Diversity'  and instruct tor to treat all servers in the same country as a nodefamily.
Of course, you could also do it yourself using:
The chances are Tor itself will never do this for you - it has kludge written all over it. Also while it might mitigate looping through the same ISP at entry and exit, it will probably make you statistically *more* likely to hit a global adversary, such as, erm,  world gentil(l?)ery.
Thoughts anyone? Worth doing?

@_date: 2007-02-09 18:46:45
@_author: Robert Hogan 
@_subject: suggestion for 'is my installation of tor working?' page 
Hi Wesley,
This definitely has all the pieces of the puzzle in place and is very useful even as it stands.
Would it be possible to aggregate some headline details at the top section?
These would include warnings such as:
Javascript is enabled - find out why you should disable it.
Cookies are enabled - find out..
Flash is enabled - find out..
You could then have a short two columned section with links to some hidden services, the tor faq, do's/dont's for tor usage.
The existing information would still be available for the curiously inclined.
What do you think?

@_date: 2007-01-10 20:28:48
@_author: Robert Hogan 
@_subject: more letters from the feds 
I think this is a valid point. I ran an exit-node for a short while at home without thinking too much about it. The huge amount of traffic I was attracting (even within minutes of booting up) made me shut it off for the sake of personal convenience, but I don't think I will ever go back - explaining to the authorities why child porn/terrorist manuals/online fraud appear to have originated from my home IP is not an edifying prospect, to say the least.
These days I generally run a middle-man node but even that has started to feel inappropriate for home use. I would be amazed if regular appearances on directory servers does not blink wildly on some form of institutional radar, low-hanging fruit and all that.
So my questions are:
* From a common-sense, peace-of-mind point of view, is running an exit-node strictly for co-located servers? Does anyone here run one at home? If so, have you had second thoughts?
* Are tor-at-home users who run middleman servers out of the goodness of their heart possibly exposing themselves to unwanted attention? Do we have any evidence of such attention, anecdotal or otherwise?
* Is there some good way of helping a user to weigh this all up? Sorry for labouring the point a bit but I agree with the OP: I wouldn't recommend anyone to run an exit-server from home. Is this received wisdom among experienced users, or are we just being alarmist? If not, does this need to be spelt out to new users a little better, or do we just assume that they are competent enough to grasp all the possible consequences of their

@_date: 2007-01-24 19:25:13
@_author: Robert Hogan 
@_subject: tor and p2p 
Hi there,
Without thinking about it too deeply, tor would *appear* to have many of the necessary components for anonymous p2p.
Has there been any thought, specc-ing in this direction? Anything that could sheds some light on the technical issues that would need to be addressed? Or is there something in the tor design which would make any attempt to build anonymous p2p on top of it unfeasible?
BTW, I'm not talking about making the current tor network into an anonymous p2p network. Rather using tor as the basis for creating a separate network.
Any links or comments anyone on the list has would be very welcome.

@_date: 2007-01-25 19:34:21
@_author: Robert Hogan 
@_subject: tor and p2p 
My hosting provider blackholed my mail for a 24 hour period so I've had to read all the replies on the archive.
Thanks for the links and input, though I did get one or two responses which misinterpreted me as suggesting the current tor network be used for anon p2p. Perish the thought!
One final dumb question. The torify-ing wiki says:
"BitTorrent is already using a mechanism similiar to Tor to communicate with other peers. "
Is this referring to DHT? Is it really that similar?

@_date: 2007-01-27 22:40:42
@_author: Robert Hogan 
@_subject: TorK 0.13 Released - Many new features 
Hi All,
I've just released a new version of TorK, with quite a few new features.
The addition of a mixminion client, as well as the facility to manage anonymous use of Opera and Firefox, broadens TorK's horizons a bit.
I'm still looking for new ideas/features for TorK so if you can think of something useful it should have, let me know.
Screenshots are available at:
The highlights for the new release are (you may recognize the changelog style ;-) ):
    Major Features
        o New, improved set-up wizard (incomplete but fully functional).
        o Send Anonymous Email using mixminion.
        o Browse Anonymously with Firefox
        o Browse Anonymously with Opera
        o Graphs now show system network traffic on eth* interfaces.
        o Link to privoxy configuration.
        o Modify appearance of konqueror windows when anonymous browsing enabled (experimental).
    Minor Features
        o Optional 'Paranoid' mode for browsing.
        o Improvements to tor network display.
        o Make exit nodes in the server list identifiable.
        o Improvements to quick launch interface.
        o Reverse lookup IP address of servers when displaying their status.
        o Better 'guard' icons.
        o Better privoxy management.
You can try it straight from CVS:
[handy copy/paste for installing it]
cd ~
mkdir torkcvs
cd torkcvs
cvs -z3 -d:pserver:anonymous at tork.cvs.sourceforge.net:/cvsroot/tork co -P tork
cd tork
make -f Makefile.cvs
su -c 'make install'
or download it at:

@_date: 2007-01-27 23:12:59
@_author: Robert Hogan 
@_subject: TorK 0.13 Released - Many new features 
Due to a cock-up on my part, this version of TorK is only compatible with the alpha series of Tor for the time being.
Once 'getinfo ns/all' makes it into the stable series, it'll be usable on both Apologies if I've inconvenienced any 'stable' users.
BTW, will ns/all go into stable anytime soon? Or should I really consider winding back?

@_date: 2007-01-28 15:13:39
@_author: Robert Hogan 
@_subject: TorK 0.13 Released - Many new features 
As I remember the 2 things preventing you compiling before were:
(i) non-bsd compatible tsocks
(ii) no libkdefx.la installed
I think the latter can be solved by installing kde-libs kde-libs-devel or the If you have the patched bsd version of tsocks already installed you can use --with-external-tsocks as a configure option.
If you have another go let me know if you get any further than last time.  There's no a priori reason why tork shouldn't compile on BSD.

@_date: 2007-01-28 18:46:38
@_author: Robert Hogan 
@_subject: question about router depth 
Unless I've misunderstood the question, you *can* create circuits with more than 3 routers. You can also use them. I just created a 4 router circuit with tork and fetched the rss feed from  with it.
So your information is correct.
That said, there is no benefit to using more than 3 routers. And a stream with anything less than 3 is not very anonymous.

@_date: 2007-01-03 19:20:24
@_author: Robert Hogan 
@_subject: SSH key spoofing 
he means the tor exit node is constantly changing the ssh keys it supplies to perform man in the middle attacks; rather than changing the keys it uses for tls/ssl or whatever.

@_date: 2007-07-16 19:15:14
@_author: Robert Hogan 
@_subject: magic Wednesday 
Just looking at a few days in June for blutmagie, it seems to disappear off the radar shortly after teatime most days, then reappears some time after midnight. Eerily human behaviour, at least by Irish standards.
007-06-01_02:03:50_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-01_02:03:51_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-01_05:22:30_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-01_05:22:30_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-01_08:31:42_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-01_08:31:42_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-01_11:50:09_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-01_11:50:09_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-01_14:37:52_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-01_14:37:52_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-01_17:56:20_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-01_17:56:22_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-02_02:19:42_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-02_02:19:42_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-02_04:53:16_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-02_04:53:16_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-02_08:00:43_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-02_08:00:43_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-02_11:03:30_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-02_11:03:31_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-02_14:21:00_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-02_14:21:00_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-02_17:38:04_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-02_17:38:04_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-02_20:26:05_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-02_20:26:05_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-02_23:13:39_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-02_23:13:39_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-03_01:46:12_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-03_01:46:12_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-03_04:34:12_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-03_04:34:12_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-03_07:46:22_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-03_07:46:23_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-03_11:19:55_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-03_11:19:55_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-03_14:38:10_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-03_14:38:10_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-03_17:41:19_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-03_17:41:20_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-03_20:59:32_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-03_20:59:32_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-03_23:47:15_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-03_23:47:15_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-04_02:35:06_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-04_02:35:06_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-04_05:23:03_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-04_05:23:03_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-04_08:46:39_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-04_08:46:39_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-04_11:52:24_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-04_11:52:24_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-04_15:25:42_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-04_15:25:43_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-04_19:14:58_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-04_19:14:59_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-05_01:06:05_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-05_01:06:05_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-05_03:38:43_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-05_03:38:44_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-05_06:56:58_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-05_06:56:58_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-05_09:46:51_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-05_09:46:51_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-05_13:35:49_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-05_13:35:50_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-05_16:54:04_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r 2007-06-05_16:54:05_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-05_19:41:51_719BE45DE224B607C53707D0E2143E2D423E74CF_moria2.asc:r 2007-06-05_19:41:51_FFCB46DB1339DA84674C70D7CB586434C4370441_moria1.asc:r

@_date: 2007-07-17 21:57:58
@_author: Robert Hogan 
@_subject: magic Wednesday 
shows your listing history over june and july on moria1, one of the main dir Delisting of blutmagie is shown where there is no information beyond the first sixty characters or so.
If you look at the date/time column to the right you'll see that interruptions to your listing tend to occur where ~24 hours have been left between updates to your server's descriptor, e.g. caused by your onion key rotating. Your listing has completely recovered since you updated a few days ago - you also changed your server's identity at the same time by the looks of it.
If you still have your logs from the affected times, can you see if there are any reports there of failing to upload your new router descriptor to the I want to do a bit more searching to see if the rut your server got into (updating its descriptor at practically the same time every day) is normal behaviour or not.

@_date: 2007-07-19 00:25:29
@_author: Robert Hogan 
@_subject: On the performance scalability of Tor 
It has always seemed to me that there is plenty of raw 'bandwidth' on the tor network. I've just downloaded the tor tarball at a relatively nippy 17KB/s. Not greased lightning by any means but clearly if it was just bandwidth at issue the general browsing experience would be a lot different.
From a layman's point of view, opening a web page with tor seems to involve@
least 10 to 15 separate streams, usually over the same circuit. Once the streams are up they are only up for a short time before a new one is created. Just looking at the connection monitor on TorK it seems to me that half the time is spent creating these streams and half the time (often a lot less) actually using them.
I presume Tor is just reflecting the behaviour of privoxy and the browser here, which is opening up new tcp sessions for numerous different requests to the same destination. I understand that pipelining in firefox and polipo mitigates this somewhat. Or does it? I'm not 100% sure on that score.
At any rate couldn't/shouldn't Tor take care of this? Why can't Tor maintain and reuse a successfully created stream for all requests to an active destination and let the exit break out the requests into their respective tcp sessions? Put simply, if my understanding is correct Tor is respecting the tcp architecture in the wrong place, at the client (creating new streams for each tcp request/session) rather than the exit (creating new tcp sessions where appropriate from the same stream).
Feel free to slap some sense into me on this one.

@_date: 2007-07-05 20:04:47
@_author: Robert Hogan 
@_subject: Choose exitnodes in country x 
TorK doesn't use external sources, but a local copy of the geoip database and api available at  I try to remember to update the bundled database whenever I do a release.

@_date: 2007-07-22 21:01:57
@_author: Robert Hogan 
@_subject: Blocking child pornography exits 
To pick up on your analogy, what you are asking for here is a gun that cannot shoot innocent people. And if you can't make a gun that only kills people who deserve it then guns shouldn't exist.
We all know that weapons (and you can include Tor and the cryptography that underlies Tor in that category) can be used for evil ends [1]. They provide security and can guarantee freedom, but some asshole is always going to use them to do something horrible and make us wonder why we ever invented them in the first place.
But a little reflection makes us realize that assholes and murder existed long before the first high calibre rifle, and in fact the high calibre rifle gives us all a better chance of defeating the assholes in the long run, particularly if they're bigger than us and trying to get into our house. Child pornographers and their ilk remind us that privacy, like true freedom of speech, is not an unmitigated blessing but a necessary evil. A bank can secure your bill payment from prying eyes with SSL, so a criminal can do the same with his obsene images. No one is suggesting that SSL develop obscene image filters. The assholes can use SSL/PGP/Tor as much as we do but because these tools protect our privacy we  *all* can use them to protect ourselves from even bigger assholes than child pornographers.
[1] Most cryptography is classified as a munition in the US and subject to the same  export controls.

@_date: 2007-07-06 18:50:32
@_author: Robert Hogan 
@_subject: End of ROCKate soon 
IANAL interpretation:
"Unless the aim of ROCKate is to commit a crime, as opposed to facilitating privacy, then you have nothing to worry about. Honest."
Given Germany's recent history with Tor I understand your caution. And I don't think anyone would want to be the subject of a test case.
If the law is intended to mean "a computer program that facilitates a crime" then it's hard to think where the law could stop. I honestly think they are going after the bots and viruses with this, perhaps even programs that clone smart card information. If the remit is broader I'm really not sure how you could hang this law on Tor without hanging it on PGP as well. And then SSL and so on.
Are you aware of any other German software projects with similar concerns?

@_date: 2007-07-10 11:38:02
@_author: Robert Hogan 
@_subject: End of ROCKate soon 
07:10:54PM +0200:
I've added a placeholder entry for rockate to anonymityanywhere.com. If you'd like to provide some screenshots I can add them too.

@_date: 2007-07-11 09:55:56
@_author: Robert Hogan 
@_subject: New Torbutton (1.1.4-alpha) 
Stop me if this has been suggested before, but would it be worth introducing an unofficial URI for hidden services that would make them recognisable to the likes of torbutton? The idea being that the user could 'enable tor' simply by clicking on a hidden service link rather than the usual jig of Is this possible with a firefox plugin or would it be necessary to get the firefox developers on board?
It is already possible with konqueror/kde thanks to kioslaves (tork implements a tor: 'URI' that does just this).

@_date: 2007-07-11 18:28:15
@_author: Robert Hogan 
@_subject: New Torbutton (1.1.4-alpha) 
If torbutton could request a yes/no response from the user in such situations that would be nice.

@_date: 2007-06-08 21:14:11
@_author: Robert Hogan 
@_subject: The Hidden Wiki is Gone ... so how can I find TOR-only web pages? 
apropos of nothing, it's interesting how the notice on   narrows down its location. 'The hidden wiki is gone. If you set up a new one and post the link to the or-talk list I'll link it from here. 06/07/07.'
Not trying to be facetious, just a possible 'tell' worth bearing in mind if you're running a hidden server I guess.

@_date: 2007-03-08 19:07:22
@_author: Robert Hogan 
@_subject: Warnings on the download page (was: yet another tor attack) 
What would it take for the tor project to host something like  itself?
The section at the end could be made very meaningful - in that the page could run the java/javascript/plugin 'exploit'  that displays your IP or issues an explicit warning if running an exploit is not possible or a good idea.
The user would be told to fix the problem, refresh and get the next error message (if one), and advised not to proceed with their browsing until the page gives them a clean bill of health (with the usual disclaimers).
Vidalia would have a button linking to this test page called 'health check'.
Wesley, could you share your code?

@_date: 2007-03-10 12:07:55
@_author: Robert Hogan 
@_subject: gpg refresh keys 
A couple of things:
1. A funny thing happened on the way to the forum..
without tor:
robert at darkstar:~$ gpg --refresh-keys
gpg: NOTE: old default options file `/home/robert/.gnupg/options' ignored
gpg: refreshing 4 keys from hkp://wwwkeys.eu.pgp.net
gpg: requesting key EA59038E from hkp server wwwkeys.eu.pgp.net
gpg: requesting key 985A444B from hkp server wwwkeys.eu.pgp.net
gpg: requesting key 22F6856F from hkp server wwwkeys.eu.pgp.net
gpg: requesting key 28988BF5 from hkp server wwwkeys.eu.pgp.net
gpg: key EA59038E: "Stephen Gran " not changed
gpg: key 985A444B: "Tomasz Kojm " not changed
gpg: key 22F6856F: "Robert Hogan " not changed
gpg: key 28988BF5: "Roger Dingledine " not changed
gpg: Total number processed: 4
gpg:              unchanged: 4
a few seconds later using tor/privoxy on exit mychat4004d801 (resolves to an edu.tw address):
bash-3.1$ gpg --refresh-keys
gpg: NOTE: old default options file `/home/robert/.gnupg/options' ignored
gpg: refreshing 4 keys from hkp://wwwkeys.eu.pgp.net
gpg: requesting key EA59038E from hkp server wwwkeys.eu.pgp.net
gpg: requesting key 985A444B from hkp server wwwkeys.eu.pgp.net
gpg: requesting key 22F6856F from hkp server wwwkeys.eu.pgp.net
gpg: requesting key 28988BF5 from hkp server wwwkeys.eu.pgp.net
gpg: key 28988BF5: "Roger Dingledine " 2 new signatures
gpg: Total number processed: 4
gpg:              unchanged: 3
gpg:         new signatures: 2
gpg: 3 marginal(s) needed, 1 complete(s) needed, classic trust model
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
I've removed reference to other keys that were verified and unchanged. Only Roger's was affected. I have a cloudy understanding of the gpg infrastructure but this seems suspicious. Anyone?
2. torify gpg --refresh-keys
I'm using the patched libsocks that handles dns itself and cannot get the above to work. Always times out. Has anyone else got it to work?

@_date: 2007-03-18 23:12:00
@_author: Robert Hogan 
@_subject: Tor LiveCD 
This weekend I had a go at putting together a rudimentary Tor LiveCD. It's in usable condition (it boots, tork starts up and you can browse 'anonymously') but definitely not worth the bandwidth yet.
I've documented the procedure as it currently stands at I don't have any particular opinion of which firewall/privoxy/permissions config is best, so invite anyone here to contribute to the wiki page to add/edit as they see fit. (That said, I would appreciate if you add rather than delete if performing substantial edits.)
If nothing else the wiki page might be a useful starting point for a 'canonical' Tor Live CD.

@_date: 2007-05-08 23:28:33
@_author: Robert Hogan 
@_subject: www.torrify.com 
They're perfectly entitled to. More power to their elbow. From what I understand of torrify though you are more or less back to trusting an 'anonymity provider', rather than trusting to the safety in numbers that characterizes the Tor network proper. And that seems a bit self-defeating.
Arrakis is they guy behind torrify and frequents this list. Arrakis, I take it the above is an unfair summary?

@_date: 2007-05-13 13:02:33
@_author: Robert Hogan 
@_subject: suggestion for 'is my installation of tor working?' page 
I've put together the sort of page I think new Tor users need to visit when they get started on Tor for the first time. It's designed for TorK users, so doesn' t attempt to check your IP address or anything like that. Since it's very hard for a web service to know *all* Tor nodes at any given time, I wonder if the Tor node check is more confusing than it is helpful.
I've basically just filleted the jscript at showmyip.com/torstatus and made it a little more user-friendly.
The catch with this sort of page is that a healthcheck website can only check for plugins/java/cookies if jscript is enabled, so you never get a fully green response. But at least it alerts users to the ways in which they can leak anonymity.
As an aside, shouldn't the download page mention the perils of javascript?

@_date: 2007-11-14 19:55:12
@_author: Robert Hogan 
@_subject: Why Are We Waiting for the Cavalry to Ride In? (was Re: court trial against me - the outcome) 
First of all, well done and keep up the good work.
Secondly, your case is proof, if proof were needed, that Tor is still a project without a rock-solid layman's analogy. Every Tor server operator that ends up explaining Tor to a non-technical or even just plain skeptical audience will encounter the same problem until the crack of doom unless we all put our heads together and document one.
Here is my stab to get things rolling:
"Why should Internet usage be anonymous?
Because almost everything else in our life (e.g. TV, radio, the postal system, telephony, cash) has a great deal of anonymity built in. Imagine being asked to sign your name at the newsagents every time you buy a newspaper or being asked to fill out and sign a form detailing every radio program you listen to? What would your response be? Well, newspaper websites and internet radio broadcasters take your signature every time you use them. The information that establishes what you have listened to and what you have read on the internet is logged and stored centrally. So unlike the real world, the internet has no privacy built in. You are made to sign for everything. So unless you are proposing that we should sign a docket every time we read a newspaper article, unless you believe that paper money should be abolished because it allows people to purchase goods without creating a permanent record then you must believe that the same right to privacy we enjoy in a world with cash, radio, and television  pertains in a world with cash, radio, television plus the internet. "
Thirdly, Tor operators of the world need to unite. The Tor project is not our daddy. There is no Tor Project cavalry over the hill about to ride in with a coachload of free lawyers. We need to establish a fighting fund for exactly these sorts of cases. This fund needs to be managed by a compaign group in such a way that it doesn't undermine the anonymity of the network we all help provide. I believe informal ad-hoc donations won't cut it. There needs to be an organized body that can accumulate wisdom, develop public credibility and even distribute funds to cover basic legal costs or more. This could be organized along the following lines:
* The organization would be on a subscription basis. X euro/dollars a year.
* The organization would accept donations of all sorts.
* The organization would be registered as a campaign group/NGO (or whatever is appropriate) in as many countries as possible. This will require a country representative in as many countries as possible.
* Every subscribed member will be entitled to whatever the organization can afford within some reasonable minimum/maximum of protection.
* Maybe the organization could negotiate and take out some sort of legal insurance on behalf of it's members? What sort of insurance would be appropriate? Is there such a thing?
I don't think any of the above is pie-in-the-sky. Tor server operators aren't anonymous. They already communicate/collaborate with each other regularly on IRC and this mailing list. When a tor operator is 'hassled by the feds' they deserve a lot more than tea and sympathy on or-talk. They deserve the resources of an organized association that has funds, expertise and a bit of a clout to ride in and back them up. Maybe we can wait for George Soros to read about Tor for that to happen, or maybe we can get organized and start defending  something we clearly all believe in.
There are all-sorts operating tor servers on this list. Who can tell us what concrete steps we need to take to set up a Tor Operator NGO? What's the best way of incorporating/associating ourselves? What sort of insurance could such an organization arrange? How could we do all this without turning the network into some kind of cadre?
Yours from the moral high ground, ;)

@_date: 2007-11-14 20:58:52
@_author: Robert Hogan 
@_subject: court trial against me - 
This is all excellent advice, and it is characteristic of the level of solidarity and helpfulness regularly displayed by Tor operators on this list.
But it underlines the fact that a Tor operator in need is always:
1. In need of concrete, immediate help. Guaranteed. 2. Completely on their own. The second point can't be emphasized enough. Nothing we say on this list can help with the legal bills or demonstrate physical solidarity in court. Mirko is a tor server operator. There are hundreds of us. But that judge and prosecutor looked around the court and thought to themselves, 'If this Tor is so legit, where's your backup Mirko?'
The fact that Mirko waited until the case was done and dusted before reporting in shows us all the problem we have. We *expect* to be cut loose.
We are a single-issue, special interest group. Mirko shouldn't have to go begging to a bunch of tangentially-interested organizations looking for a sympathetic ear. He should be able to come to us and we, as a group, should be able to cover some of his legal costs and access to a specialist lawyer. We should have had representation in that court blasting the prosecutor back to conveyancing cases. Simple as that. Unless we can do that as a body, we are all fucked as individuals. Period.
If you want to know my suggestion for remedying this situation:
I would give time and money to such an organization. So let's get some sound advice from each other and set one up.

@_date: 2007-11-14 21:16:48
@_author: Robert Hogan 
@_subject: court trial against me - the outcome 
Maybe! ;) In the meantime, solidarity among Tor operators would go a long way. If that case had been for 100,000 euro you might now find yourself with a date in court. Who would you turn to in such a situation?
We need to create a body that we can all turn to, and only we as a group can create it. Would you be willing to contribute time to creating such an organization? Do you have any contacts who could advise on how to establish it? If so, let me know. And apologies in advance for contacting you directly if it is unwelcome.

@_date: 2007-11-17 12:13:34
@_author: Robert Hogan 
@_subject: encrypting your communications?! 
From the front page:
"Tor protects you by encrypting your communications and bouncing them around a distributed network of relays run by volunteers all around the world."
I think this sentence is misleading. It is hard to interpret 'encrypting your communications' as meaning anything other than exactly that: Tor somehow encrypts all your communications, full stop.
It should be changed to something like:
"Tor protects you by hiding the origin of your communications. It does this by bouncing them around a distributed network of relays run by volunteers all around the world."

@_date: 2007-11-17 13:58:35
@_author: Robert Hogan 
@_subject: new perspektive for tor 
Can someone point me to the EU directive on this? I thought this was just a German initiative.

@_date: 2007-11-17 16:04:57
@_author: Robert Hogan 
@_subject: new perspektive for tor 
If you go to the bottom of that link you can see many countries appear to be  'postponing' application of the directive indefinitely.

@_date: 2007-11-20 20:37:25
@_author: Robert Hogan 
@_subject: server incorrectly believes IP address has changed 
But you didn't specify your IP in the torrc, so Csaba's point is still a However, since you didn't delete cached-routers before start-up on either occasion my own *guess* would be that tor is using the old IP stored there,  especially since 66.225.42.30 was your address at one point:
Whether it 's a good thing for Tor to just try the last known good address rather than  figure it out all over again on the off-chance it may be out of date, I don't know.
The tone of your comments below is unfair to Csaba. He was merely offering a friendly (and free) suggestion. No one would ever respond to anyone else on this list if that sort of thing was the default response.

@_date: 2007-11-20 22:31:24
@_author: Robert Hogan 
@_subject: server incorrectly believes IP address has changed 
Ah, missed that. It looks like cached-routers is still a fallback though, so if it is still there it will get read. In fact, if cached-routers *was* still present  that would explain why the address was noticeably out of date. Whoops, Thanks for taking the point!

@_date: 2007-11-25 12:41:54
@_author: Robert Hogan 
@_subject: netstat reporting destinion IP address 
Absolutely.The use of netstat for the gui (at the moment)  is intended to alert the user to chronic non-anonmous traffic and is flagged in the gui as 'Not 100% reliable'. The use-case is: OK I'm visiting this site anonymously but is it generating stateful traffic I'm not necessarily expecting? That log window has been there since the year dot and can definitely be improved on. The simplest approach I can think of is a setuid libpcap-based program to replace the use of netstat. The word 'setuid' rings alarm-bells though and I would certainly welcome advice on how much harm such a thing could cause. (Installing an rc.d launched daemon is very hard to do in a (linux)  platform agnostic way, so if someone is suggesting such an approach I would appreciated input on how to implement it properly).
Would libpcap capture stateless/connectionless traffic though?
The 'real' solution is definitely still to be found. The information from netstat  is misleading because it is using the /proc filesystem to gather that's, and that's at least one level up from the packet-munging taking place in netfilter (according to my simplistic understanding). It will always be misleading. Maybe even the info from libpcap would be misleading. Could you try out pktstat (which I learned of on  and uses libpcap) and see if the correct info gets reported?
Another candidate is ip_conntrack, but again a root-owned daemon would be required. Anyone with wisdom to spare on this listening?
Agreed. TorK tries to guard against these for the non-incognito user  by providing two 'fail safe' options (DNS Failsafe, and 'System Failsafe') which route DNS and sensitive, ecnrypted traffic respectively through Tor. The traffic that's routed is configurable for both options.
The connection to the Tor server at the start of the circuit shows up there alright, and yes they are long-lived enough generally.
Yes, it's intended as a record of your session, but is not retained between sessions and can be cleared at any time.

@_date: 2007-11-06 19:46:39
@_author: Robert Hogan 
@_subject: first hop to entry node, encrypted? sorry for trivial question 
Because it reduces the chances of you happening upon someone who owns both the entry and the exit node on your circuit. If someone owns both they can perform a bit of timing analysis and figure out who you are and where you're See this thread particularly this mail
for what can happen if the same guy owns all three nodes.
Just another layer of encryption. They can't 'read your traffic'.

@_date: 2007-10-11 20:57:48
@_author: Robert Hogan 
@_subject: Incognito Live CD using Polipo 
Keeping track of all the things you should turn off or get a proxy to tweak makes my feeble head hurt.
Turn off:
Plugins, Java, Javascript, ads
Um, what else? I'm confused. We need a list.

@_date: 2007-10-13 09:21:40
@_author: Robert Hogan 
@_subject: Browser dos/don'ts ( was Re: Incognito Live CD using Polipo) 
bytes in 29 lines about:
So for any browser without torbutton the list of things to do while using tor Turn off:
Javascript (browser)
Java (browser)
Plugins (browser)
Cookies (browser)
Referer Headers (privacy proxy)
Caching (browser)
History reads/writes (browser)
Spoof user-agent (is this necessary even with javascript disabled?) (browser)
Spoof http-headers as though a US english browser (browser/privacy proxy?)
Do not:
Use tabs (enforced/recommended by controller?)
Keep the browser open when finished 'using tor' (enforced/recommended by Anything to add/remove/clarify?

@_date: 2007-10-13 10:56:18
@_author: Robert Hogan 
@_subject: Tor Defcon Talks 
The defcon videos are up. This is Roger's:
You can view Nick's and Mike's by changing dingledine to mathewson and perry respectively in the search box.
Are there any other tor-related ones?

@_date: 2007-10-15 18:49:17
@_author: Robert Hogan 
@_subject: Browser dos/don'ts ( was Re: Incognito Live CD using Polipo) 
bytes in 30 lines about:
konqueror, a bobnjoe browser if ever there was one, can only turn off sending the user-agent and spoof it for selected websites. it doesn't even support But no-one should know you're in the UAE because you're using tor. Or have I missed your point?
for both, javascript timers apparently. a separate browser or open-and-close browser session seems to be the thing.

@_date: 2007-10-15 21:41:08
@_author: Robert Hogan 
@_subject: Browser dos/don'ts ( was Re: Incognito Live CD using Polipo) 
Sure, in those situations spoofing won't really make much of a difference. However, I would have thought choosing a generic 'tor locale' for your http headers (be it US English or whatever) is safest in most circumstances. No point in performing a bit of top-secret UAE intelligence gathering on the Russian embassy website through a tor exit in Germany if your http header says 'Hello, I'm actually from the UAE. Salaam Aleikum Comrade!'. For shame! If everyone top-posted when would we ever get to use our precious middle mouse buttons? Huh? Never! That's when! ;-)

@_date: 2007-10-15 22:41:05
@_author: Robert Hogan 
@_subject: magic Wednesday 
Just to clarify for anyone else scratching their heads: it's publishing at 6am every day because the server has a cron job that hups the server every day at that time. The hup wasn't a one off but a daily thing, which is standard in the tor debian package.

@_date: 2007-10-16 20:46:10
@_author: Robert Hogan 
@_subject: Library Defeats Tor Followup Addl Info 
Whether a dns request gets routed through privoxy  (or any other privacy proxy you use) and then tor depends on the system call the application uses to perform the request.
The problem is that some applications perform system calls that by-pass their own proxy settings. This is more by happenstance than design. It's important for Tor users to know how to guard against this and even prevent it and the tor devs have put a lot of work into making it easier for tor's helper applications to do so.
It sounds like in your situation some windows equivalent of a kernel module is hooking system calls like dns requests and doing something funky with them, the result being that DNS requests that would get routed to Tor on a normal installation are being forwarded to a big display board in the staff common room or whatever.
Tor can't manage and inspect your system the way you would like it to. Other apps have to help it do this. For browsing purposes, on an OS that you can't control and don't own, the only real solution may be something like janusvm or a livecd like incognito.
Hope this helps, and apologies if I'm repeating stuff elsewhere in the thread or have misunderstood your query.

@_date: 2007-10-22 19:10:38
@_author: Robert Hogan 
@_subject: Setting up a private tor network 
I think everyone on the list would be interested. Can you send a link?
If it's not *too* big I can mirror it.

@_date: 2007-10-01 19:45:28
@_author: Robert Hogan 
@_subject: funneling a wireless net's outbound connections through tor 
I think torifying a user's traffic without informing him of it is a very bad idea. Pop3 is the best example. I don't think anyone with all the facts to hand would ever use a pop3 session over Tor. Whatever the merits of the well-you-go-over-x-hops-anyway argument (and it generally does not apply to pop3), tor is always x-hops + 1, and that '+ 1' could be anyone from Aunt Nellie to the NSA, no special privileges required.
This is one of the main challenges faced by Live CDs and other Torified environments - is it better to anonymize everything in the session or always prevent the likes of pop3 from being anonymized, ever?

@_date: 2007-10-01 20:02:08
@_author: Robert Hogan 
@_subject: Google indexes onion links 
torproxy.net links to :
hence the indexing.
'Secret' hidden services aren't vulnerable unless listed there or one of the pages hanging off it.
Interesting side effect though.

@_date: 2007-10-31 20:44:28
@_author: Robert Hogan 
@_subject: Insecure Privoxy Configuration in Vidalia Bundles Prior to 0.1.2.18 
TorK is affected by this too. There should be a 0.22 available before Friday.

@_date: 2007-09-15 21:03:40
@_author: Robert Hogan 
@_subject: ATTN: An attack on my torrc?  I did not specify a server or an exit node!!! 
The warnings are nothing to worry about. Tor/Vidalia created this circuit automatically and chose the exit randomly.
Vidalia probably requested information from Tor for 'mono' by 'name' rather than 'fingerprint'. Again, this is not anything to worry about. Just the normal operation of your tor/vidalia bundle.

@_date: 2007-09-16 08:42:32
@_author: Robert Hogan 
@_subject: Exclude nodes from certain countries 
TorK allows you to do this (in a rough and ready way using the geoip database (maxmind.com) - about 9x% accurate). TorK is available only for Linux/BSD unfortunately, but you could you use the Incognito LiveCD which uses TorK as the default Tor interface.

@_date: 2007-09-22 10:41:57
@_author: Robert Hogan 
@_subject: Load Balancing 
The original question is answered later in the thread, but there is an interesting distinction between polipo and privoxy in the way this situation is handled:
- privoxy will use new streams on the same circuit for each of the images
- polipo will generally pipeline everything over the same stream
I believe this results in a perceptible performance improvement for general browsing. Someone please correct me if I've got this wrong, because I'm just working from observation.

@_date: 2007-09-24 21:25:47
@_author: Robert Hogan 
@_subject: Set up a webproxy to TOR - tor-proxy.net 
So is your cgi-proxy routing everything to an instance of privoxy/polipo running on your machine or directly to the tor socks port? If it is routing everything to privoxy/polipo, what configuration are you I think it is this sort of detail that phobos has in mind.
I think the answer is 'less secure'. That vpn link to bluestar88 is used only by you and it contains all your anonymous traffic on one little pipe over the internet. Unless the link is padded to camouflage inactivity that has to make things easier for an observer.

@_date: 2008-04-20 21:02:47
@_author: Robert Hogan 
@_subject: getting more exit nodes 
This is an interesting idea - I submitted a proposal with broadly similar aims a little while ago. Though the approach was completely different.
I suggest you write the idea up using the proposal format and post it to or-dev. That process will help you consider the security/anonymity implications of what you're suggesting. It will also reveal if there are any tricky implementation issues that need working out.
A couple that occur to me:
- Client traffic is being routed through an exit node that was not explicitly chosen by the client. Does this have any unintended consequences for anonymity?
- Should pseudo-exits mark themselves as vanilla exits, or as something else?
- What exit policy should they advertise?
- How do the client-exits authenticate themselves to the pseudo-exit? Do they upload descriptors to the authorities?

@_date: 2008-04-28 19:37:41
@_author: Robert Hogan 
@_subject: getting more exit nodes 
Let's say I'm a client-exit and you're a pseudo-exit. This is how it works:
1. I boot up tor and start using it as a client. I also connect to your middleman and tell you that you can send anything you get my way.
2. You advertise yourself as a pseudo-exit in addition to being a middleman.
3. Other Tor clients select their client paths as normal and sometimes select your middleman as their exit.
4. When you receive such client traffic you immediately forward it to me.
5. I take it from you and forward the traffic to the real internet, as though it's coming from me. I route everything I get back to you.
So this means:
1. I'm not a real exit and neither are you.
2. I'm your only gateway out of the Tor network.
3. Given that the connection between us is encrypted, nothing is leaving your box in the clear as it would if you were a real exit.
4. The relationship between the traffic that passes between us and what I pass on to the real internet would be fairly trivial to establish. 5. You are definitely not the garbage-in, garbage-out middleman you once were, since you can actually see what you're passing on to me. Thiis would be the red-light for most confirmed middlemen.
6. I'm not quite sure what I am, and I'm not sure I'd like to be me by default - especially since by definition under this scheme I'm a home user who is not even a listed tor node. I would not be happy if I was using Tor to post anonymously to a forum for a sensitive disease only to find my computer was requesting rather more sensitive pictures of "ladies' ankles" (in Nick's immortal phrase) without my knowledge .

@_date: 2008-08-12 11:29:56
@_author: Robert Hogan 
@_subject: tortila as a bad exit 
I did a simple wget test (no privoxy) and found fairly consistent insertions of adsense spam to stevepavlima.com regardless of the site I targeted (google.*, guardian.co.uk, irishtimes.com, cnn.com).
I found that using a regular browser the corruption appears infrequent (caching, browsers doing their best to make sense of gargabe), but the corruption is consistent using wget. Where there was no insertion of stevepavlima.com (which was rare) I just saw simple truncation.
Can anyone else confirm this?

@_date: 2008-08-12 11:45:54
@_author: Robert Hogan 
@_subject: tortila as a bad exit 
Ah, I see KT also found this in an earlier thread.

@_date: 2008-12-07 12:43:27
@_author: Robert Hogan 
@_subject: Excludenode not working? 
You have specified 'Ungoo5zie6raZeitheo' in your Exclude*Nodes configuration, but tor will continue to use such nodes for internal, house-keeping activity such as directory fetches. The exclusion only applies to circuits you use for your anonymous traffic.

@_date: 2008-12-08 19:01:51
@_author: Robert Hogan 
@_subject: Tork - all tor versions lead to 0.2.1.7-alpha? 
a bug in the code. thanks for pointing it out. for future reference you can contact me directly with tork bugs/issues or use tork-users at lists.sf.net. I know that you've done both before, so just a reminder.

@_date: 2008-12-05 19:15:42
@_author: Robert Hogan 
@_subject: Commercial tor offering? 
Hi Steve,
At first glance your statement above could be taken to suggest that Onyx provides provably better anonymity than Tor. A second reading suggests that you are merely claiming Onyx deploys additional techniques that are regularly investigated for their anonymity properties, while at the same time overcoming certain attacks that Tor is still susceptible to.
Would you agree that:
- Onyx has not been the subject of independent analysis thus far, so its anonymity properties are an open question.
- Some of the features you describe are not proven to provide better anonymity (e.g. traffic padding).
- Onyx's immunity to sybil attacks and exit node injection is not explicit in its design. This immunity depends on the behaviour of the network - Are there plans afoot to open Onyx to independent investigation without becoming a paying customer? Does the design of the Onyx network allow such - Isn't the use of a small number of privately, centrally owned servers to provide an anonymity network inherently problematic? Doesn't the anonymity of the client on such a network depend almost completely on the integrity of the network operator (i.e. xerobank)?
Apologies if some of my questions/assumptions above could be answered or contradicted by reading the whitepaper in full, but I'm sure they represent the sentiments of many readers on this list who are a little skeptical of what kind of beast Onyx actually is but aren't prepared to analyse it in any depth. This would certainly be a good opportunity for clearing such matters up with or-talk cynics such as myself.
0.4K bytes in 12 lines about:

@_date: 2008-02-17 12:10:40
@_author: Robert Hogan 
@_subject: Invalid uptime warning messages 
The affected router appears to be 'crobertp'. It has the invalid uptime value in it's router descriptor:

@_date: 2008-02-17 12:20:30
@_author: Robert Hogan 
@_subject: Invalid uptime warning messages 
router crobertp 201.51.22.53 563 0 9030
platform Tor 0.1.1.24 on Linux i686
published 2008-02-17 09:03:34
opt fingerprint 3D18 77CA 3BBD 97A5 9D38 0640 6696 E692 420B EF67
uptime -19907
bandwidth 20480 51200 0
I've bcc'd the owner of the router so he can upgrade his Tor (0.1.1.24 must be deprecated by now).

@_date: 2008-01-10 21:47:23
@_author: Robert Hogan 
@_subject: Pidgin and Gajim are both DNS-leaking, what IM-tool for Jabber are you using? 
For the likes of Pidgin and Gaim you're better off using the patched version of tsocks. If you're a Linux user, TorK offers a one-click way to launch pidgin or gaim socksified by the non-dns-leaking tsocks through tor. To get this work all you have to do is install TorK. It also has a 'failsafe' option that (with the tor 0.2.x series) will route all your systems dns traffic through Tor.
Disclaimer: I'm the developer of TorK. (

@_date: 2008-01-10 21:49:39
@_author: Robert Hogan 
@_subject: Missing key from authority? 
This seems to be fixed in the latest svn revision. You can try it out by mkdir ~/torsvn
cd~/ torsvn
svn checkout  tor

@_date: 2008-01-11 22:18:11
@_author: Robert Hogan 
@_subject: Pidgin and Gajim are both DNS-leaking, what IM-tool for Jabber are you using? 
Oh dear. That link seems to be dead now. Though it does redirect to a picture of pretty young things pointing at pie-charts on a laptop... mmm, secuuure.
 seems to be the place to look for the patch sources these days.

@_date: 2008-01-20 18:05:08
@_author: Robert Hogan 
@_subject: filesharing with tor and offsystem online storage 
There don't appear to be any source tarballs and looking at the cvs repository only the project members could possibly know how to put the many modules together. There don't appear to be any revision tags either. And there's no build documentation in plain sight.
That is seriously shoddy for an open source project. I'm sure offsystem is almost all that it says it is but the lack of all of the above make it as near a black box as your average closed source application. Annoying.

@_date: 2008-01-20 19:05:19
@_author: Robert Hogan 
@_subject: filesharing with tor and offsystem online storage 
Yes, that's the cvs repository I was referring to above - there are no tags there and no source tarballs anywhere else. This means that there is no source distribution for any of their releases. That's annoying.
I'm guessing that off_network is the main module there but why should I bother reverse-engineering their build process just to install a possibly broken cvs version? I want the latest release. It's their funeral at the end of the day but an open-source project that doesn't release source tarballs is just being silly.

@_date: 2008-01-20 19:13:23
@_author: Robert Hogan 
@_subject: Konqueror & SOCKS with Tor+Privoxy 
For some reason Konqueror doesn't support socksifying to a tcp port - only the library detection and loading that Ned describes. It's hardcoded to detect any of the following files in the usual paths (or a path you specify):
_libNames << "libsocks.so"                  // Dante
             << "libdsocksd.so.0"              // Dante 1.1.14-2 on
                                               // Debian unstable 17-12-2003
             << "libsocks5.so"                 // ?
             << "libsocks5_sh.so";             // NEC
Many of Konqueror's IO slaves (e.g. smb:/, fish:/ for obvious reasons) don't respect its proxy settings so if the user assumes that the window, rather than the protocol, is anonymized then that will be a problem.
However, installing Dante is also a problem because then *every* ioslave starts using it, including pop3, smtp and so on.
So a rock and a hard place. TorK, which supports using Konqueror, needs to alert the user that Konqueror can only be safely used for http and https. As other posters have noted, Konqueror is quite secure in some respects, but it's pretty crap socks support and the integration of ioslaves into the interface are a problem.

@_date: 2008-01-29 21:25:06
@_author: Robert Hogan 
@_subject: How to remove some useless nodes 
This isn't the first time I've plugged this feature of TorK and it probably won't be the last. Some of you seem to be Linux users, so this is just to let you know if you install TorK you can exclude routers on the basis of country code with a couple of clicks.
The caveat is that the identification of the router's country of origin is only as good as the maxmind geoip db - which is fairly reliable in 99.X% of

@_date: 2008-07-14 18:43:30
@_author: Robert Hogan 
@_subject: email hidden service 
shallot: which is unfortunately down for maintenance at the moment. And the tarball appears unavailable elsewhere. I can send you a copy if you're curious though. Just mail me directly.

@_date: 2008-06-08 21:58:47
@_author: Robert Hogan 
@_subject: Torbutton 1.2.0rc1 released 
I second this feature request! A command line argument would be ideal..

@_date: 2008-06-11 19:48:42
@_author: Robert Hogan 
@_subject: How are hackers breaking Tor and trojan users? 
On a default Tor installation from source, i.e. with no authentication mechanism enabled, it is still possible successfully to send commands to the controlport if the 'authenticate' command is not preceded by any garbage.
If someone were to develop a browser-based exploit that managed to get the 'authenticate', with no preceding bytes, to the controlport then they're in. I believe this is extremely difficult to do, and if such an attack was the subject of arrakis' and kyle's paper they would have much bigger fish to fry than just Tor.
One way of preventing such an attack, however unlikely, would be to mandate a conversation such as:
robert at darkstar:~$ telnet localhost 9051
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
Challenge is: 0a5f37d2edd284cb
250 OK
250 OK
In the above sequence the controller has had to inspect the challenge and parrot it back in order to be allowed issue an authenticate command.
As far as I'm aware this would defeat a html-form based attack of the sort released last year, since such attacks cannot process feedback from the port they're attacking.

@_date: 2008-06-11 21:44:24
@_author: Robert Hogan 
@_subject: Aw: Re: Problem w/ Using tor(k) for Geostreaming Live-Videos 
Hi Erich,
robert at darkstar:~$ lynx -dump robert at darkstar:~$ torify mplayer -playlist Or you can click on the 'Anonymous Telnet Session' entry in the 'Anonymize' window and run the last command there.
The last command failed for me because:
Not a Realmedia rtsp url. Trying standard rtsp protocol.
RTSP support requires the "LIVE.COM Streaming Media" libraries!
which I assume won't be a problem for you.

@_date: 2008-06-24 22:01:08
@_author: Robert Hogan 
@_subject: OnionCat -- An IP-Transparent TOR Hidden Service Connector 
File-sharing on the current Tor network is frowned upon because it conflicts with the presumed motivations of many of the volunteers who operate servers.
That said, there is nothing stopping anyone else from creating their own parallel Tor network and distributing a tor bundle hardcoded with authority information for that network. (I know you know all this but bear with me.)
So it would be easy to imagine a software bundle that comprises:
1. A modified Tor distribution for use on the file-sharing network.
2. Onioncat
3. A torrent distribution pre-configured with the ipv6 IP of the hidden service created during installation.
This would then be the software client of a hidden-service/onioncat based sharing network. I'm sure may people would be interested in that, though I'm not sure performance would scale with the user base.
I've often wondered why such a parallel network doesn't already exist, even without the advent of onioncat.

@_date: 2008-03-22 11:11:12
@_author: Robert Hogan 
@_subject: Proposal: Incorporate Unreachable ORs into the Tor Network 
I'm not sure how much merit this proposal has, or how serious it's problems are. Does anyone have any thoughts on it? Are the problems I've outlined fatal, or is there a problem with it I've missed? I suspect one or the other.
Filename: xxx-unreachable-ORs.txt
Title: Incorporate Unreachable ORs into the Tor Network
Author: Robert Hogan
Created: 2008-03-08
Status: Draft
  Propose a scheme for harnessing the bandwidth of ORs who cannot currently
  participate in the Tor network because they can only make outbound
  TCP connections.
Motivation:   Restrictive local and remote firewalls are preventing many willing
  candidates from becoming ORs on the Tor network.These
  ORs have a casual interest in joining the network but their operator is not
  sufficiently motivated or adept to complete the necessary router or firewall
  configuration. The Tor network is losing out on their bandwidth. At the
  moment we don't even know how many such 'candidate' ORs there are.
  1. Establish how many ORs are unable to qualify for publication because
     they cannot establish that their ORPort is reachable.
  2. Devise a method for making such ORs available to clients for circuit
     building without prejudicing their anonymity.
  ORs whose ORPort reachability testing fails a specified number of
  consecutive times should:
?  1. Enlist themselves with the authorities setting a 'Fallback' flag. This
      flag indicates that the OR is up and running but cannot connect to
      itself.
?  2. Open an orconn with all ORs whose fingerprint begins with the same
      byte as their own. The management of this orconn will be transferred
      entirely to the OR at the other end.
?  2. The fallback OR should update it's router status to contain the
      'Running' flag if it has managed to open an orconn with 3/4 of the ORs
      with an FP beginning with the same byte as its own.
  Tor ORs who are contacted by fallback ORs requesting an orconn should:
   1. Accept the orconn until they have reached a defined limit of orconn
      connections with fallback ORs.
   2. Should only accept such orconn requests from listed fallback ORs who
      have an FP beginning with the same byte as its own.
  Tor clients can include fallback ORs in the network by doing the
  following:
   1. When building a circuit, observe the fingerprint of each node they
      wish to connect to.
   2. When randomly selecting a node from the set of all eligible nodes,
      add all published, running fallback nodes to the set where the first
      byte of the fingerprint matches the previous node in the circuit.
Anonymity Implications:
  At least some, and possibly all, nodes on the network will have a set
  of nodes that only they and a few others can build circuits on.
    1. This means that fallback ORs might be unsuitable for use as middlemen
       nodes, because if the exit node is the attacker it knows that the
       number of nodes that could be the entry guard in the circuit is
       reduced to roughly 1/256th of the network, or worse 1/256th of all
       nodes listed as Guards. For the same reason, fallback nodes would
       appear to be unsuitable for two-hop circuits.
    2. This is not a problem if fallback ORs are always exit nodes. If
       the fallback OR is an attacker it will not be able to reduce the
       set of possible nodes for the entry guard any further than a normal,
       published OR.
Possible Attacks/Open Issues:
  1. Gaming Node Selection
    Does running a fallback OR customized for a specific set of published ORs
    improve an attacker's chances of seeing traffic from that set of published
    ORs? Would such a strategy be any more effective than running published
    ORs with other 'attractive' properties?
  2. DOS Attack
    An attacker could prevent all other legitimate fallback ORs with a
    given byte-1 in their FP from functioning by running 20 or 30 fallback ORs
    and monopolizing all available fallback slots on the published ORs.     This same attacker would then be in a position to monopolize all the
    traffic of the fallback ORs on that byte-1 network segment. I'm not sure
    what this would allow such an attacker to do.
  4. Circuit-Sniffing
    An observer watching exit traffic from a fallback server will know that the
    previous node in the circuit is one of a  very small, identifiable
    subset of the total ORs in the network. To establish the full path of the
    circuit they would only have to watch the exit traffic from the fallback
    OR and all the traffic from the 20 or 30 ORs it is likely to be connected
    to. This means it is substantially easier to establish all members of a
    circuit which has a fallback OR as an exit (sniff and analyse 10-50 (i.e.
    1/256 varying) + 1 ORs) rather than a normal published OR (sniff all 2560
    or so ORs on the network). The same mechanism that allows the client to
    expect a specific fallback OR to be available from a specific published OR
    allows an attacker to prepare his ground.
    Mitigant:
    In terms of the resources and access required to monitor 2000 to 3000
    nodes, the effort of the adversary is not significantly diminished when he
    is only interested in 20 or 30. It is hard to see how an adversary who can
    obtain access to a randomly selected portion of the Tor network would face
    any new or qualitatively different obstacles in attempting to access much
    of the rest of it.
Implementation Issues:
  The number of ORs this proposal would add to the Tor network is not known.
  This is because there is no mechanism at present for recording unsuccessful
  attempts to become an OR. If the proposal is considered promising it may be
  worthwhile to issue an alpha series release where candidate ORs post a
  primitive fallback descriptor to the authority directories. This fallback
  descriptor would not contain any other flag that would make it eligible for
  selection by clients. It would act solely as a means of sizing the number of
  Tor instances that try and fail to become ORs.
  The upper limit on the number of orconns from fallback ORs a normal,
  published OR should be willing to accept is an open question. Is one
  hundred, mostly idle, such orconns too onerous?

@_date: 2008-03-26 19:22:30
@_author: Robert Hogan 
@_subject: Weird-looking circuits in Vidalia 
I was thinking the same thing recently. I even went so far as to start a proposal  - because there are numerous tunneled requests in Tor that aren't user initiated these days. I didn't get very far with it, and I'm not sure it's particularly straightforward in all cases. But it looks to be easy enough for these tunneled requests.
Here's what I was thinking:
  Tor now tunnels a large number of network maintenance operations through
circuits on the Tor network. Many of these operations are not initiated by
the user. Both TorK and Vidalia display active connections to the user and
these maintenance operations may cause alarm, distress, and even panic if
displayed without at least some attempt at explanation. If Tor were to provide
a STREAM_PURPOSE string as an extension for the existing STREAM_EVENT
controllers would be able to determine whether to display a stream to the
user, or more likely provide a mechanism for explaining the purpose
of the connection to the curious user.
Specify a new PURPOSE field for extended stream events as follows:
Index: doc/spec/control-spec.txt
--- doc/spec/control-spec.txt   (revision 14111)
+++ doc/spec/control-spec.txt   (working copy)
 -984,6 +984,7        "650" SP "STREAM" SP StreamID SP StreamStatus SP CircID SP Target
           [SP "REASON=" Reason [ SP "REMOTE_REASON=" Reason ]]
           [SP "SOURCE=" Source] [ SP "SOURCE_ADDR=" Address ":" Port ]
+          [SP "PURPOSE=" Reason]
           CRLF
       StreamStatus =
 -1033,6 +1034,13     that requested the connection, and can be (e.g.) used to look up the
    requesting program.
+      Purpose = "DIR_FETCH" / "UPLOAD_DESC" / "DNS_REQUEST" /
+                 "USER" /  "DIRPORT_TEST"
+   The "PURPOSE" field is provided only for NEW and NEWRESOLVE
+   events, and only if extended events are enabled (see 3.19).  Clients MUST
+   accept purposes not listed above.

@_date: 2008-05-06 18:54:27
@_author: Robert Hogan 
@_subject: Spoofing location - possible? 
Not strictly true, TorK provides exactly this option under the 'Citizen Of..' toolbar button.
The snag is that TorK is linux-only at this point.

@_date: 2008-11-16 12:26:25
@_author: Robert Hogan 
@_subject: Torsocks on FreeBSD 
It's on the TODO list:
* Merge dsocks so we support BSD (
Torsocks is linux-only at the moment unfortunately.

@_date: 2008-11-19 19:52:22
@_author: Robert Hogan 
@_subject: Torsocks on FreeBSD 
OK, I've fixed the libdl issue. Can you try:
svn checkout  torsocks-read-only
and let me know how you get on?
to build do:
make -f Makefile.cvs

@_date: 2008-11-20 21:37:29
@_author: Robert Hogan 
@_subject: Problems with irc because of tor? 
Do you run a server yourself? If so, your real IP may be on the irc server's 'tor blocklist'.

@_date: 2008-11-20 21:40:43
@_author: Robert Hogan 
@_subject: Introducing Torsocks - Transparent socks for Tor 
Hi Slush,
This issue is fixed in SVN now. Thanks for pointing it out.

@_date: 2008-10-04 10:48:40
@_author: Robert Hogan 
@_subject: Firewalled relays 
On a pedantic note, I think you're referring to introduction points rather than rendezvous points here.
This means the client/router at the other end of the connection with the firewalled relay cannot be firewalled themselves. So firewalled relays can only act as middlemen and exit nodes under this design, or the client must have an open port the firewalled relay can connect to (which is probably not a safe assumption for a client).
This limitation has a number of anonymity implications, similar to the ones described in this proposal:
The use of intro points seems like a very good idea on the face of it, and is probably better than the above proposal since it opens the firewalled relay to the entire network rather than just a segment of it.
A few questions:
1. Should the identity of the firewalled relay and the router requesting access to it be concealed from the intro point?
2. How should the intro points for a firewalled relay be advertised?
3. Clients can't choose more than one firewalled relay in a circuit. What problems might this introduce?
I'm sure there are more. Maybe the Tor developers can think of a show-stopper but you probably won't find it out unless you write up a proposal which goes into the idea in more detail and raises and adresses some of the problems it might create.

@_date: 2008-10-26 13:13:52
@_author: Robert Hogan 
@_subject: Introducing Torsocks - Transparent socks for Tor 
Linux users may be familiar with the various patches for tsocks that make it safe for use with Tor.
 Torsocks takes all of the patches to tsocks listed at the link above:  applies some other enhancements:
  and incorporates them into a new project:
  Torsocks allows you to use most socks-friendly applications in a safe way with Tor. Once you have installed torsocks, just launch it like so:   usewithtor [application] So, for example you can use ssh to a some.ssh.com by doing:   usewithtor ssh username at some.ssh.com or launch pidgin by doing:   usewithtor pidgin
You can download the current build at:
 Torsocks is released under the GNU GPL licence v2. As far as I can make out this is compatible with the original tsocks and all subsequent patches.

@_date: 2008-10-28 19:44:55
@_author: Robert Hogan 
@_subject: Introducing Torsocks - Transparent socks for Tor 
I actually wasn't aware of proxychains, which looks like it was written about the same time as tsocks.
You're right that they more or less do the same thing, and they more or less do it the same way - by using LD_PRELOAD to hook a program's calls for writing to and reading from the network, including DNS.
Apart from the fact that proxychains allows you to chain your traffic through multiple proxies I think torsocks does the following 'extra' bits:
- It supports some dns/network calls that proxychains does not, e.g. - It blocks primitive UDP calls by the application (to help prevent DNS leaks via UDP).
- It supports the use of hidden services.
I haven't looked at proxychains very closely and I have to confess I haven't even used it, but I *think* that is about it.

@_date: 2009-05-01 23:26:11
@_author: Robert Hogan 
@_subject: ExcludeNodes doesn't work right 
ExcludeNodes isn't respected by tor when building circuits for 'internal' use, e.g. directory updates. If you can confirm that the nodes are being chosen for circuits that are for the user's use then that would indicate a I think the best way of tracking it would be to do:
telnet localhost 9051
setevents extended circ stream
set excludenodes={your exclude nodes}
then watch/log the output. if you see 'purpose=general' against a stream on a circuit containing an excluded route created after you set the excludenodes then there may be a problem worth investigating. You could post the suspect output here.

@_date: 2011-02-15 19:49:54
@_author: Robert Hogan 
@_subject: Scroogle and Tor 
The polipo shipped in the tor bundles has the cache turned off, but any non-Windows users will tend to use the polipo shipped by their distro - with caching turned on.
To unsubscribe, send an e-mail to majordomo at torproject.org with
unsubscribe or-talk    in the body.
