
@_date: 2005-04-18 10:04:21
@_author: Matthias Fischmann 
@_subject: Publishing node IPs 
Sorry, but I am too slow to follow this discussion.  alexyz, are you
trying to keep the adversary from maintaining a list of all servers?
It seems obvious to me that in order to achieve that, *any* anonymous
party must not be capable of maintaining such a list.  But that
renders at least some servers entirely useless, doesn't it?
In other words, the goal of the adversary here is the same as that of
a legitimate user, only the resources of the legitimate user are far
more precious.

@_date: 2005-08-08 23:53:51
@_author: Matthias Fischmann 
@_subject: hashcash and captchas (Was: Gentoo's response on them blocking access to their forums via Tor) 
i am not sure that captchas, given they work, are the right tool to
make pseudonyms expensive enough to keep people from misbehaving in
web forums, but this one definitely looks neat!  (-:
(you all know the standard way to circumvent captchas, but just to be
sure i'll mention it again: open up a porn site, promise free porn to
whoever solves a few captchas for you, and have your bots proxy the
challenges they cannot solve by themselves to an instantly available
abundance of strangers who are eager to do help.  of course this is an
option for more determined attackers only.)
speaking of which, where did i stumble over the following paper?  (if
it was on this list, i am sorry for the repost...)
    Ben Laurie and Richard Clayton
    "Proof-of-Work" Proves Not to Work
    The Third Annual Workshop on Economics and Information Security (WEIS04)
    the authors do some plausible guesswork on whether proofs of work
could keep spammers from spamming, and argue that hashcash and friends
opens a too small window for tradeoffs: either legitimate e-mails will
become too expensive, or spam will remain too cheap.  i guess you
could adapt these results to pseudonym creation in forums pretty
i don't know, but it's inspiring.  if anybody has an opinion on this
i'm all ears.

@_date: 2005-08-14 09:00:23
@_author: Matthias Fischmann 
@_subject: Policy on filtered ExitNodes?? 
mike, squid is not a filter, but a web cache.  but you are right: if
you use tor, you need to trust that the exit node you end up with
doesn't do malicious filtering, and you don't have much support for
that trust.  worse, even good exit nodes change your perception of the
internet because sites react on client IPs and adapt their content.
but i guess you just have to live with that.  anyways i think it's
still better to look through a differnet filter every day than always
through the same...  (-:

@_date: 2005-12-14 10:49:25
@_author: Matthias Fischmann 
@_subject: Google 403 error pages 
i was hoping that somebody here knew somebody in person.  (i once went
to a lecture held by the husband of Monika Henzinger, do I qualify? :-)

@_date: 2005-12-15 09:00:39
@_author: Matthias Fischmann 
@_subject: Google 403 error pages 
well, the average windows box of a non-technical user is more likely
to be exploited than a tor server, right?  people who install tor
servers usually get their virus protection software sorted out.
of course this is just more heuristics, and some valid drawbacks have
been pointed out.  (i don't think it's more than a day's work for one
person to implement the whitelist on the google site, but i don't know
anything about the site except that it's huge and complex and it has a
grotesquely heavy load.)
in the end, it just bit us again that people are confusing IP
addresses and identity, and we won't solve that problem in this
special case all of a sudden.

@_date: 2005-12-07 10:22:40
@_author: Matthias Fischmann 
@_subject: Multi-root DNS is real. 
hi, this is curious:
  besides yet more beautiful unicode-related desaster, the article
points out that there are by now different DNS roots in the internet,
and which one you reach depends on your client IP address.
this is fun, and has obvious implications for tor.  web sites have
been reacting on client IPs for a while, but now you even reach a
different web site if you are on the wrong section of the internet
(red crescent if you try to reach the red cross from an arab country,
a small anonymous and highly profitable nigerian enterprise if you try
to reach citibank from nigeria, etc).
my favorite (and a little sci-fi) solution would be to use a global
DHT in which everybody can set up namespaces rooted in some fresh
public key, like in the host identity protocol:
  i am looking forward to the real (and no doubt very different) fix.

@_date: 2005-12-14 10:25:20
@_author: Matthias Fischmann 
@_subject: Google 403 error pages 
the easiest way to fix this would be for google to establish a
whitelist of machines that are unlikely to suffer from virusses (ie.,
a list of all google exit nodes and perhaps others), and not to send
warnings to those.  any reason why google should be refusing to
implement this?

@_date: 2005-02-20 21:14:34
@_author: Matthias Fischmann 
@_subject: blockers 
hi all,
see google error below.  this is really becoming a serious problem.
wikipedia is blocked, google doesn't respond, and i got at least three
minor error messages of the same kind that i don't remember right now.
i'd also like to propose an addition to the FAQ:
  Q: I get lots of messages in my browser that i have a virus.  Is tor
     contageous?
  A: No, it's not.  It is never impossible that your computer is
     compromised, but more likely the message is caused by your
     identity being mixed with that of a misbehaving host.  Tor causes
     unrelated hosts (or users) to share the same IP-address when
     facing a Web server.  As many servers treat IP-addresses as
     identifiers for unique hosts, they tend to complain to random tor
     users about random other tor users in that fashion.  If this
     happens to you, all you can do is contact the responsible
     webmasters and explain tor to them.
Google	
 Error	     We're sorry...
    ... but we can't process your request right now. A computer virus
or spyware application is sending us automated requests, and it
appears that your computer or network has been infected.
    We'll restore your access as quickly as possible, so try again
soon. In the meantime, you might want to run a virus checker or
spyware remover to make sure that your computer is free of viruses and
other spurious software.
    We apologize for the inconvenience, and hope we'll see you again
on Google.

@_date: 2005-02-20 21:57:06
@_author: Matthias Fischmann 
@_subject: blockers 
hum, interesting pointer, thanks.
(mine wasn't php-"infected", though.  i came from wikipedia (i hit the
don'tknowaskgoogle-link), and waiting for the circuit to rewire and a
simple reload did the trick, so i am quite certain that it was my

@_date: 2005-02-21 19:06:16
@_author: Matthias Fischmann 
@_subject: blockers 
Ah, yes: Wiki.  I don't have to ask anybody to do that for me.  Ok, done.
Sorry i don't have any more details.  As I said, it's not clear how
some http expression could have triggered the error, for one because
it was a very standard looking query, and then because a retry a few
minutes later worked.
Next time I will try to capture the exact query and the exit point IP.
(Anything else I forgot?)

@_date: 2005-02-04 23:48:50
@_author: Matthias Fischmann 
@_subject: bug report 
hei all,
(this is a repost of an earlier note from or-dev.  nice people just
took my hand and helped me to find the core on my machine, so here is
the complete bug report.)
i am using the 0.0.9.4 debian package, i am running on a pretty old
but sufficient one-cpu x86 pc and have a jap mix running on the same
box which connects to apache/mod_proxy (does anybody know, btw, a good
lean web proxy that scares one less than squid?), which in turn
connects to tor.
a few hours after the first start, the logfile reads:
Feb 04 15:56:41.397 [err] assert_cpath_layer_ok(): Unexpected state 191
Feb 04 15:56:41.397 [err] circuitlist.c:426: assert_cpath_layer_ok: Assertion 0 failed; aborting.
  0x40148741 in kill () from /lib/libc.so.6
  0x401484c5 in raise () from /lib/libc.so.6
  0x40149a08 in abort () from /lib/libc.so.6
  0x08051ffd in assert_cpath_layer_ok (cp=0x8492578) at circuitlist.c:426
  0x0805ca01 in assert_connection_ok (conn=0x8cd2f98, now=1107529001) at connection.c:1484
  0x0806cd74 in conn_close_if_marked (i=265) at main.c:332
  0x0806dc8c in do_main_loop () at main.c:926
  0x0806e535 in tor_main (argc=1, argv=0xbffffe34) at main.c:1426
  0x0807e4f4 in main (argc=1, argv=0xbffffe34) at tor_main.c:18
restart did the trick so far.
i tried to enter this in flyspray but didn't get very far.  how easy
is it to get an account there?

@_date: 2005-02-09 11:16:47
@_author: Matthias Fischmann 
@_subject: Opt-Out Lists: Useful Feature? 
bugmenot.com has this in their faq:
I was wondering whether tor should have something like that on the eff
pages.  It should be easy enough to extend the configuration file
language to something like
ExitPolicy whitelist file:/etc/tor/these_are_my_friends.txt
ExitPolicy blacklist ExitPolicy blacklist The first one is merely syntactic sugar to what already is there,
while the other two are a little different.  Every operator would
still be free to pick any policy.  But it doesn't seem much of an
effort to implement it to me, and it would be considerably faster to
propagate flawed sites.  Also, overall hostility towards the project
would be reduced by making an effort to be nice even to people who
don't understand internet identity management.
On the downside, it would centralize policy at least to some extent,
block sites that may otherwise be too lazy to protect themselves
manually, and of course opt-out lists aren't very likely to be honored
on all tor nodes anyway.  I don't know, just an idea.

@_date: 2005-02-09 15:25:51
@_author: Matthias Fischmann 
@_subject: Opt-Out Lists: Useful Feature? 
yes, i was afraid you wouldn't like it.  good points, though.
i understand it's very primitive.  if you don't like them, you tell
them and they'll blacklist you manually.
i don't think there is one, unless you want to start analysing traffic
using poor heuristics (which i suspect some of the networks my dsl
traffic is routed through are already doing).  the clean solution is
to stop treating IP addresses as identities, and to start using other
means of authorization if your host gets hurt.  as long as this
doesn't happen, things will remain in the current mess.
that's why i liked the (optional) centralized policy repository idea.
perhaps whitelists of "competent" sites would be more useful.  those
on the list can be trusted not to cause any troubles, allowing for a
new class of tor operators "exit point that doesn't bite you" between
"exit point that does" and "no exit point".  but again, there are no
guarantees, and/or maintaing that list will be a mountain of work.
i'm not so convinced of my idea any more.
(off topic / speaking of non-ideomatic language: there is another
german meaning of "Tor" besides "gate", which used to be more
fashionable a few hundred years ago, but it is still understood.  "Der
Tor" is a noun and translates to something between "confused one" and
"imbecile".  probably doesn't work in the context of onion routing,
though.  three letter words have really deep and complex ethymologies
once you check more than one language.  :-)

@_date: 2005-03-24 16:47:40
@_author: Matthias Fischmann 
@_subject: Announce: ELE-0.0.2 released 
i was afraid you'd say that, almost threw it in myself (-:
(why don't you leave it in as an option?  as the distributor, you
could make it all a cvs repository adn tag different parts of it
differently, allowing people to pick their combination of features.
of course there should be better tools than cvs.)
(is this getting off-topic?  anyway i am enjoying it.)

@_date: 2005-03-03 09:27:54
@_author: Matthias Fischmann 
@_subject: exit node only server 
i guess exit routing is more scarce than middle routing, so if one is
willing to be an exit node it's good to be that with all available

@_date: 2005-03-29 11:14:49
@_author: Matthias Fischmann 
@_subject: Can't start Tor under Debian 
debian tends to be a little sloppy about removing directories.  as the
error message is quite clear, why don't you simply
$ chown 113:110 /var/lib/tor
by hand?  alternatively (if you don't like being expected to know unix
spells of this kind), you can purge the package, check whether
"rmdir /var/lib/tor"), and install the package once more.  if you do a
$ ls -l /var/lib/tor
then and you don't find it's owned by user and group debian-tor, then
you have probably found a bug.  (what's does "grep tor /etc/{passwd,group}"
show on your host, then?)

@_date: 2005-03-30 08:34:50
@_author: Matthias Fischmann 
@_subject: Can't start Tor under Debian 
glad i could help.  (of course it still seems somewhat is wrong if the
package created the directory with different ownerships, and then
complained about it later on.  but you have a quick fix now.)
your answer is probably here:
this is also where you can add the stuff you learned here:

@_date: 2005-03-01 23:56:26
@_author: Matthias Fischmann 
@_subject: "cracks" via tor (GUESSES on the situation in Germany) 
i am not a lawyer either, but i can say something about the legal
situation in germany.  but please don't try to hold me responsible for
my guesswork.  also note that german law changes quite rapidly,
terrorism and foreigners and all.
the ANON project (anon.inf.tu-dresden.de) is running pretty fat
anonymizing exit points and thus has fequent contact with offended
webmasters and the law.  three things that are potentially bad for you
as an exit point operator can happen:
 1) a fraction of the random people pissed off through your node, will
    piss off people in your organisation in return, e.g. by writing
    aggressive e-mails.  this *may* have unpleasant political
    implications, for instance if you are a university and your
    facutly dean doesn't understand what your research project is
    about.
 2) you may receive a fax from the police requesting the contents of
    access logs.  given a time and source IP, you are requested to
    reveal the name and address of the responsibel user.  if you
    explain to them that you don't have that kind of information, they
    tend to give up gently.  most of the people in the german police
    forces working on internet crime have by now learned about this
    technology.
    (if you are running a DSL node, the police is likely to contact
    you as the suspect right away, if anybody finds out how that goes
    i'd really like to know.  my bet would be that if you don't have
    any explosives stashed under your bed and they can find an
    operational tor server installed on your confiscated PC you should
    be reasonably safe.  just keep an old backup PC at your friend's
    place...  :-)
 3) in very rare cases, you may receive a request for surveillance of
    future traffic.  reasons for this may be offenses like child
    pornography or terrorism (i guess).  if that happens to you, you
    still have time to change your exit policy to "nothing exits", if
    you can't come up with a better plan.
    german police tried this once in dresden, and they got burned
    badly: a court ordered the deletion of the obtained IP address and
    punishment of the involved policemen.
any more guesswork or stories anyone?  any other countries?

@_date: 2005-03-14 15:19:22
@_author: Matthias Fischmann 
@_subject: Setting up TOR 
tor opens a tunnel entry (to be more specific: a socks server) on your
host that will swallow any tcp traffic that you have configured to let
through, and route it through tor to an exit point different from your
host.  however, if you don't tell your application, it won't find the
tunnel entry and use direct connections as before.
so you need to "socksify" the program generating network traffic,
i.e. force it through a socks firewall.  there are tools to do that
which are fairly easy to operate.  you find all the links you need on
was that your problem?
hope this helps,

@_date: 2005-03-15 22:21:38
@_author: Matthias Fischmann 
@_subject: reconsidering default exit policy 
me too.  (this directly translates to the help texts in the
configuration wizard in a gui environment, which makes most sense to
me there, too.)  with the wording: my shot is below.
# Port 80 (HTTP or plain web browsing).  This is what most people use
# tor for, and is usually the performance bottleneck, so leaving it on
# is generally a good idea.  Administrators running routers with port on
# "accept" have received abuse reports regarding Google Groups, or been
# added to the IP blacklist at Wikipedia.  If you are told by your web
# browser that you have been blocked due to abuse (or if you want to
# avoid that happening to you), comment this line out.
ExitPolicy accept *:80
# Port 443 (HTTPS or secure web browsing -- most commonly known for
# encrypting card data transmissions).  This is less likely to be
# abused.  Often, the client needs to authenticate by some other
# means besides her IP address, so the danger of abuse is pretty
# low here.
ExitPolicy accept *:443

@_date: 2005-10-12 11:40:23
@_author: Matthias Fischmann 
@_subject: Interoperating with p2p traffic 
two advantages of a) over b):
 - it wouldn't be difficult for people to adapt the torrent protocol
  to use high-priority ports if b) was used.  tunneling through ssh
  seems to be particularly easy to hack to me.
 - i think a) also is more fair between non-filesharing users that
  differ in bandwidth hunger.
what about sybil attacks, though, ie. attacks that open many channels
in parallel, impersonating a large number of anonymous users?
in general, i would love to see the 'we don't like this or that kind
of application' policy go away.  currently i'm all for it, but it
would be better if the network could survive all users at the same
time.  (hum, i've been stating the obvious again, sorry...)

@_date: 2005-10-20 16:01:55
@_author: Matthias Fischmann 
@_subject: SSL fro hidden services 
this claim is true under the assumption that tor doesn't have another
bug that invalidates it, or will ever have.
especially if you use an ssl implementation for the hidden service
that is different from the one used by tor (openssl.org), you will
achieve higher *expected* security.  the additional workload of course
is quite high for this marginal gain, but that's matter of taste.
i believe that the overhead of double-ssl is shared between hidden
service and the tor client machine, and nodes won't notice the
difference.  (please correct me if i'm wrong.)

@_date: 2005-10-31 00:15:06
@_author: Matthias Fischmann 
@_subject: Wikipedia and Tor - a solution in the works? 
i am not sure who of us is most confused about how this should work.
the following may be completely obvious to everybody except me.  in
that case i'll just write it down for myself.  (-:
nym (and in any other IMHO reasonable architecture) is baesd on the
idea that a user provides some credential like an IP address or
(slightly more effective) an e-mail address that is hard to replicate
in huge amounts.
wikipedia does that, but the problem with that is that (a) tor nodes
are punished for routing troll traffic and (b) it simply doesn't work.
this is where nym comes in.  it hides the IP address from wikipedia,
replacing it with a token that is exactly as hard to obtain as an IP
address, but detached from the user's real identity.  the
authentication server knows which IP address gets a token, and that no
IP address gets more than one token, but doesn't know the mapping
between IP addresses and tokens.  wikipedia can only see tokens, but
no IP addresses (except those of tor nodes), but trusts the
authentication server not to issue several tokens to the same address.
if wikipedia is unhappy with a user, it bans that user's token (with
the same effect as banning an IP address if there was no tor network).
if a blog site is perfectly happy with that same user, that site
doesn't ban her token, and she can keep blogging like mad, until she
gets banned here, too.  the authentication server is not involved in
the punishment and excommunication on either site at all.  its only
job is to detach identifying and anonymous credentials in a way that
makes sybling attacks hard.
as i understand the architectures anthony and cypherpunk propose, it
doesn't have these properties.  nym does.

@_date: 2005-10-31 13:43:00
@_author: Matthias Fischmann 
@_subject: Wikipedia and Tor - a solution in the works? 
Hi all,
thanks for the clarifications.
As for breaking IP-based nym, I think it has to be demonstrated in
practice that the effects are so bad.  Wikipedia has moderately
ambitious adversaries, and it is quite possible that they can be
fought off with weak defense mechanisms.  Also, the trivial
replacement of IPs as pre-tokens by e-mail addresses, although still
far from perfect, would work much better with respect to your

@_date: 2006-08-23 21:23:37
@_author: Matthias Fischmann 
@_subject: GERMAN JUSTICE MINISTER CALLS FOR LIMITS TO NET ANONYMIZER 
there is an easy answer to this one: the cops you will talk to
understand the technology better than Mr. Weichert, and most of them
have personally dealt with operators of anonymizers before.  so it is
possible to have serious instructive communication with them.
basically you have three options: (a) go off-line for good and be left
alone; (b) cooperate with authorities (although i don't know what that
means in the case of tor, as all the information you could log doesn't
really help them); (c) seek trouble (which might get pretty
interesting, because i don't think the laws are designed for a
technology like tor).
whatever the problems with (b) and (c), you always have (a), so you
can worry about those when you are contacted by officials.
of course all i am saying is at best valid until considerable changes
to the legal situation as of today have been implemented.  also, if
you are a suspect in a determined investigation, the people who raid
you may be be in a different mood than those that i talked to as a
sysop in a big university.  but then having a raid in your living room
might be an interesting experience, too.  (-:

@_date: 2006-08-23 22:19:15
@_author: Matthias Fischmann 
@_subject: correction (Was: Re: GERMAN JUSTICE MINISTER CALLS FOR LIMITS TO NET ANONYMIZER) 
My apologies.  I used the wrong name here.
Mr. Thilo Weichert is the head of the Schleswig-Holstein state bureau
of privacy.  Although he is more involved in legal and political
issues, he certainly does understand the technology.  I was meaning to
refer to Mr. D?ring here, who has proven he understands neither
privacy technology nor policy.

@_date: 2006-08-30 09:25:06
@_author: Matthias Fischmann 
@_subject: Holy shit I caught 1 
i think there is still a misunderstanding: nick was saying that if you
want to go on a hunt for malicious nodes, you don't want to publish
what scanning methods you are using before you do that.  the order
should rather be something like this:
  * write a script to detect men in the middle
  * run it in secret obscurity
  * publish the script and whatever you shot on your hunt
  * start talking about how to harden the network in public
does this clarify things further?  or was it already obvious to everybody?

@_date: 2006-08-30 15:14:47
@_author: Matthias Fischmann 
@_subject: Holy shit I caught 1 
and there is another issue that hasn't been brought up: even if the
certificate is valid and non-bogus, there may be an attack.
the root CA operators are run by humans, too.  somebody could have the
successor of an expired certificate signed before the legitimate
owner, or intercept the communication between owner and versign and
tamper with the submission process.  i'm sure it's not simple.  all
this cannot go undetected for long, because it knocks out the official
site by invalidating (note: not bogifying) its certificate.  but then
the adversary is not stupid, and even interruptions for a few hours
can do a great of harm to sensitive sites.
i vaguely remember that the microsoft.com https certificate was
renewed by some uninvolved admin a while back, because microsoft
forgot.  does anybody have a pointer?  any other stories?  or any bets
on the first time it is going to bite a larger group of users?

@_date: 2006-05-15 17:00:18
@_author: Matthias Fischmann 
@_subject: Some legal trouble with TOR in France 
i don't want to play the JAP advocacy game, but your information is
if you check the press releases on anon.inf.tu-dresden.de, you will
learn that nobody was 'nabbed'.  there was a single IP address
recovered for a single http request before the project's lawyers put
an end to the data collection, and the german authorities where
requested to delete that IP address in court a little later.  so it is
impossible to use the address for anything, and there is no evidence
that the IP address was ever mapped on a true identity (it might have
been one in internet cafe, or one of those ISPs that delete the
mapping in compliance with german privacy legislation).  certainly
nobody was put to court for accidently retrieving a single offensive
web page before moving on to other places on the web.
i find it very instructive to personally know and trust the JAP
project team, and compare what i experience with my own senses to what
is considered The Truth by the public.
should you use tor, then?  hum, i honestly don't know which risks i
would find harder to accept.  they are probably both too weak.
... and you should give up sleeping, or they might bug your skull and
tap *all* your private conversations.  (-:

@_date: 2006-05-16 13:19:02
@_author: Matthias Fischmann 
@_subject: JAP 
this is the main page on cooperation between ANON and prosecution:
   here is the story, converted to html by google:
   if you translate with google, only the first few bits get translated
and then it switches back to german (?!); bablefish does a better job,
but not quite good either.
most interesting is section 4, "continuation of the argument".  it
explains how the german police and prosecution went out of their way
to get around several court decisions that they should shut up and
keep their fingers off the data.
sorry, i can't translate the whole text now.  if you want to have
solid details, you should probably ask the project team, perhaps they
have some english documents elsewhere.  (or was there an english

@_date: 2006-09-11 12:12:53
@_author: Matthias Fischmann 
@_subject: confiscating middleman-tor-nodes 
here is another interesting comment, linking the campaign against TOR
with another one against ANON/JAP:
all operators affected: please keep us posted with new details!  the
public discussion here may yield valuable snippets for our strategy.
i am also wondering whether there should be more dialogue between the
ANON lawyers and the TOR lawyers.  or perhaps there already is?
