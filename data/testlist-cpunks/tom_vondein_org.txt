
@_date: 2014-08-13 12:05:15
@_author: Thomas von Dein 
@_subject: [Cryptography] miniLock seems pretty interesting 
References: <20140721162504.GX26986
 <53EA6008.7030603
So, now there are 5 different implementations for essentially the same
- reop (
- pbp (
- pcp (
- minilock: (
- deadlock (
- Tom

@_date: 2014-08-13 20:30:13
@_author: Thomas von Dein 
@_subject: [Cryptography] miniLock seems pretty interesting 
References: <20140721162504.GX26986
 <53EA6008.7030603 <20140813100515.GN11694
 <53EBA4BD.6050006
Well, ok, I didn't see it from that viewpoint, so it's essentially a
good thing :) My bad..

@_date: 2014-02-04 16:07:29
@_author: Thomas von Dein 
@_subject: consistent pcp/pbp formats (was: Curve p25519 Replacements for 
References: <20140114111653.GD3900  <20140115093443.GE3900  <20140115134145.GF3900  <20140120133104.GL3900 a short update about the progress. I've made the following changes to
pcp[1] so far:
- asymmetrically and symmetrically encrypted files are now created in
  the same format as pbp does (binary output only). Verified to work
  with symmetric mode only because of some open issues.
- the same applies for signatures, binary only as well. pcp has another
  format for armored sigs (which I like better).
- crypt+sign is supported now as well (pcp only).
- pcp can import and export pbp public keys.
- encryption keys are derived using scrypt().
- crypto and signing keypairs are generated separately.
The todo list contains a bunch of open issues anyway:
- we still need a consistent pubkey file format.
- we also need an agreement on armoring (base85 va z85).
- cipher mode: currently pbp (and pcp now) encrypts data in ECB mode
  with a blocksize of 32k. I think CBC would be better, and I already
  implemented it (enabled with ./configure --enable-cbc). We'd need an
  agreement here as well.
best regards,
[1]

@_date: 2014-02-05 08:34:20
@_author: Thomas von Dein 
@_subject: consistent pcp/pbp formats 
References: <20140114111653.GD3900  <20140115093443.GE3900  <20140115134145.GF3900  <20140120133104.GL3900  <20140204150729.GB62910 Well, I can change that, no problem.
Which is the very same I do in pcp. It was just a question, i.e. "may
cbc provide even more security than ecb+nonces?"
- Tom

@_date: 2014-02-05 13:51:10
@_author: Thomas von Dein 
@_subject: consistent pcp/pbp formats 
References: <20140114111653.GD3900  <20140115093443.GE3900  <20140115134145.GF3900  <20140120133104.GL3900  <20140204150729.GB62910 Good, I changed the scheme then. However, instead of adding the
recipient list to the signature, I add it to the hash, since I
sign the hash only anyway; and because it is a) easier to code and b)
results in a signature with a static size.
So, now the signature looks like this:
nonce|crypto_secret_box( crypto_sign( crypto_generichash(cleartext + encrypted-recipientlist) ), nonce, symkey)
Everything else is unchanged. So, an encrypted+signed file contains the
number of recipients, the recipient-list (which consists of the
pk-encrypted ephemeral key per user), the 32k-blockwise sym-encrypted
message, followed by the encrypted signature. As usual the nonce used to
encrypt the sig is prepended.
- Tom

@_date: 2014-02-06 20:24:12
@_author: Thomas von Dein 
@_subject: consistent pcp/pbp formats 
References:  <20140115093443.GE3900
  <20140115134145.GF3900
  <20140120133104.GL3900
  <20140204150729.GB62910
  <20140205125110.GE62910
So, here we go:
# bob exports his pk
bobby at io: % pbp -x -S Bob > bob.pbp
Passphrase for decrypting master key for Bob: # alice exports her pk
alicia at io: % pcp -p -b -O alice.pbp
Enter passphrase to decrypt your secret key for signing the export: public key exported in PBP format.
# bob imports alice' pk
bobby at io: % pbp -X -i alice.pbp Success: imported public keys for Alicia
bobby at io: % pbp -l
valid b888 026a 38e2 cdf7 f0a6 6486 63a5 0fea Bob
invalid ed32 1935 0310 fe6f 35c6 b44d be6b 3ca8 Alicia   [1]
# alice imports bobs pk
alicia at io: % pcp -P -I bob.pbp -b
key 0x87358A0988953A67 added to ~/.pcpvault.
alicia at io: % pcp -l
Key ID               Type      Creation Time        Owner
0xB497AFF45654CD98   primary   2014-02-06T19:58:09  Alicia <>
0x87358A0988953A67    public   2014-02-06T18:58:02  bob <>
# bob encrypts to alice
bobby at io: % echo "HALLO ALICE, KNUTSCHI" > msg
bobby at io: % pbp -c -i msg -o encrypted -r Alicia -S Bob
Passphrase for decrypting encryption subkey for Bob:
# alice decrypts it
alicia at io: % pcp -d -I encrypted Enter passphrase to decrypt your secret key: HALLO ALICE, KNUTSCHI
Decrypted 22 bytes successfully
# other way around, alice encrypts to bob
alicia at io: % echo "ACH, SCHNUCKI" | pcp -e -O encrypted -r Bob
Enter passphrase to decrypt your secret key: Encrypted 164 bytes for:
bob <>
# and bob decrypts it
bobby at io: % pbp -d -i encrypted -S Bob
Passphrase for decrypting encryption subkey for Bob: ACH, SCHNUCKI
good message from Alicia
[1]: currently pbp shows pcp keys as "invalid", I'm not sure why,
but it's on the todo list.
Also, I didn't test if signatures are compatible yet, and there are many
more things left to solve/agree, like keyformats, sign+crypt support in
pbp, among others.
best regards,

@_date: 2014-02-10 16:39:07
@_author: Thomas von Dein 
@_subject: consistent pcp/pbp formats 
References:  <20140115134145.GF3900
  <20140120133104.GL3900
  <20140204150729.GB62910
  <20140205125110.GE62910
 <20140206192412.GC20154
Would be easily possible but doesn't make much sense currently, since
there's only 1 algorithm supported and the key size for it is static.
Btw, at least in pcp there's a -t option which can be used to display
all details about a key.

@_date: 2014-01-13 19:41:55
@_author: Thomas von Dein 
@_subject: serialization formats [formerly: Curve p25519 Replacements for 
I'm the author of pcp. Just wanted to note, that I'm not using plain
base85 but Z85 ( instead. It's fast and
small. The reason is to have compatibility with ZeroMQ in the future.
best regards,
PS: sorry for destroying the thread tree, I wasn't subscribed until now.

@_date: 2014-01-14 12:16:53
@_author: Thomas von Dein 
@_subject: consistent pcp/pbp formats (was: Curve p25519 Replacements for 
more than fine with me.
I'm currently using big endian for multibyte values whereever they
appear. It's already verified to work on little and big endian platforms
(e.g. tested on aix/ppc)
Could you please explain this further?
In pcp there's already such a hint included in exported keys, however
I'm not using it, since there's no choice of different curves in
libsodium so far. But it's on the list.
As already stated in the other subthread, I use Z85, while stef is using
base85. Since Z85 is a subset of base85, I'm pretty sure we can agree on
There's a human readable version of keys in pcp, but the tool itself
doesn't use it (example attached). It uses the z85 encoded binary part
of such a file.
pcp has some more fields stored in a key than pbp:
- a key id (e.g. 0x54E9C62E1852EBC5) which is required to identify a key
- some text fields (owner, mail)
- a serial number
- key format version number
I'm not sure, how stef solved the ed25519 issue (you can't use a
curve25519 secret key to create an ed25519 signature directly). After
some discussion on the libsodium mailinglist we came up with this:
When the user generates a new key, the ed25519 secret key will be
generated first. The curve25519 secret will be derived from that, since
the ed25519 already contains a usable curve25519 key. In pcp I store
both of them for easier access, so the ed25519 and curve25519 secret and
public keys are stored, the secret keys are encrypted and I store the
nonce as well (see include/pcp/key.h).
Speaking of key encryption:  according to your docs you're already
using scrypt() for key derivation. I'd like to use that as well, but
it's not part of libsodium (afaik), so I use my own method for this til
scrypt() is implemented in libsodium. That's because I want to avoid
writing crypto code myself.
Maybe we should iron out the details off-list?

@_date: 2014-01-15 10:34:43
@_author: Thomas von Dein 
@_subject: consistent pcp/pbp formats (was: Curve p25519 Replacements for 
References: <20140114111653.GD3900
Well, the libsodium developers not only told me how to do it, it was
their idea. However, it's of course very simple to generate them
That's the way curve25519 works. It would be possible to use one time
keys but for this there has to be some kind of key exchange process
before. But since pcp runs in offline mode, I'm not sure how to do this
in a user friendly way.
No, it doesn't. In order to decrypt a message one needs the recipient
secret key and the sender public key.
While I don't know how stef does it in pbp, I only add the key id to the
cipher so that the recipient knows which key has to be used to decrypt.
I'm not sure how it is bad to publish a key id. That's daily business
with pgp as well.
Again, this is how curve25519 is designed.
The sender needs a public key from the recipient anyways. And to be able
to decrypt the message, the recipient has to retain her secret key. Funny, but neither I nor stef invented anything. DJB did. - Tom

@_date: 2014-01-15 14:41:45
@_author: Thomas von Dein 
@_subject: consistent pcp/pbp formats (was: Curve p25519 Replacements for 
References: <20140114111653.GD3900  <20140115093443.GE3900 We're not talking about RSA, do we?
As I alredy said, it's no problem to have separate keyspairs for signing
and encrypting, just a couple of lines to change.
Ok, let me formulate it better: I can use a single-use keypair on the
sender's side and include the public part in the message. Cool. But the
sender would nevertheless need a public key from the recipient. This one
has to be from a long-term key, since we're operating in a
store-and-forward environment. But it doesn't make sense to use a
single-use key only on one side of the communication, does it?
As a sidenote, in pcp it's possible to generate a keypair for one
recipient (it's derived from the long-term keypair), so you'd at least
have one keypair per peer. But it's unclear to me, how to use single-use
keys on both sides of a communication in a store-and-forward
environment. Any hints? Really? I'll try it, but if this is the case, then it's bad indeed.
Yea, I see.
ok, got it.
Come on, have a heart. The only thing I "invented", was how to store
keys and encrypted files. It's just a fun project in it's early
stages and everything can be changed. And I'm really glad when someone
points out some errors I made.
ok, really got it.
- Tom

@_date: 2014-01-20 14:31:04
@_author: Thomas von Dein 
@_subject: consistent pcp/pbp formats (was: Curve p25519 Replacements for 
References: <20140114111653.GD3900  <20140115093443.GE3900  <20140115134145.GF3900 Nope, the sender's public key is included by pbp with the encrypted
message. Since yesterday pcp does the same. However, I use a dynamic
keypair on the sender site now. I'm currently in the process to change
the encrypted output format of pcp to match the one of pbp.
Absolutely. Speaking of mistakes: I had even a note in the manpage where
I mentioned that it might be a bad idea to include the key-id with
encrypted messages, though I totally forgot it :) Oh - and I didn't
really include the key-ids, but a hash from it instead. However, this
has already been changed.
Well, now you know, I don't like linux :)
best regards,

@_date: 2014-01-21 11:10:57
@_author: Thomas von Dein 
@_subject: consistent pcp/pbp formats (was: Curve p25519 Replacements for 
References: <20140114111653.GD3900  <20140115093443.GE3900  <20140115134145.GF3900  <20140120133104.GL3900 Let me recap to see if I really got it right:
the sender does:
- generate a random single-use keypair
- generate a random secretbox key
- secretbox the message 32k-wise with the former
- box that key for each recipient
- put into the output the cipher, the recipient stuff
  and the public key part of the random single-use keypair
Is that right?
So, in order to communicate with someone, only user A has to publish her
public key. User B takes it, box()es a message for her, puts his
(random) pk into it and sends it. A then uses the public key included in
the message plus her own secret key, decrypts the message and drops B's
public key afterwards.
Because, usually with curve25519 both A and B had to exchange their
public keys in advance to be able to communicate. The scheme above makes
it a lot easier for users but is it sufficient securitywise?

@_date: 2015-07-10 09:00:20
@_author: Tom 
@_subject: From: root@hackingteam.it To: vince@hackingteam.it [and who?] 
References: Wouldn't it have been enough to post the url?
- Tom

@_date: 2015-07-10 09:51:27
@_author: Tom 
@_subject: From: root@hackingteam.it To: vince@hackingteam.it [and who?] 
References:  <20150710070020.GF61602 Normally I'd agree. But in this case it's different imho. Nobody knows
if I read the list posted on wikileaks since the access is tls
encrypted. However, now that the whole list has been posted by mail in
the clear, everyone sniffing on my mail traffic knows that I've got it.
And I'd better not mess with such people:
- Tom

@_date: 2015-11-03 08:14:57
@_author: Tom 
@_subject: Facebook censorship 
References:  <56380CC2.2070506
 <20151103035136.50a9ff16
Besides, that's already possible:  Article:
- Tom

@_date: 2015-11-06 10:44:20
@_author: Tom 
@_subject: UK To Ban Crypto In Devices, Email And More 
References:  <56391C22.7010101
Also, they will NOT use the system to find evidence against already
known suspects but to find suspects in the first place. And this makes
you suspect:
a) you avoid certain communication channels, i.e. don't use social
  networks or leave your phone turned off while meeting with someone.
b) use encryption.
- Tom

@_date: 2015-10-26 08:02:42
@_author: Tom 
@_subject: mailing list etiquette violators list 
References: <20151025103124.GW7122
 <562D1A98.3080602
This is how your mail looks in mutt: As you can see, not everyone is using Thunderbird, in fact most people
use Outlook anyway . And there *are* indeed people on this planet who
still read mails on the console.
Also take note that it is easier to read text in smaller columns than if
it is as wide as the whole monitor. That's the reason news papers print
text in columns and not as 60cm wide articles.
- Tom

@_date: 2015-10-29 20:15:31
@_author: Tom 
@_subject: Cypherpunks is broken - Welcome to Secret Admirers 
References: <48b20a0d7226de7ec81e6a2eefacbec0
How do you know?
This is wrong on multiple levels. The most important one being, that I
will not hide for public communications. By going dark you will help
tighten the surveillance state and not fight it. Fighting against this
has to be done in public, otherwise the fight doesn't exist.
Who set those rules? And why?
Ah, yet another "code of conduct"? Fuck it!
"Followers" as in sect members?
    status.
And of course there's a process in place to handle cases where members
are ill, in holiday, jailed or whatever. What kind of mailing list does this?
I call bullshit.
- Tom

@_date: 2015-10-30 11:20:35
@_author: Tom 
@_subject: Droidjack raids in germany 
German police raided a couple of poeple's homes who've purchased the
android RAT tool DroidJack. They justified the searches with the claim
Droidjack is an offense-only tool which has no dual use (which is
nonsense) and that by purchasing it the user is therefore already a
criminal (nonsense as well).
Beside this claim they didn't provide any further evidence, like if the
person has indeed used the software against someone. The searches are
therefore probably unlawful. However if the scheme persists before the
courts then it may be illegal to buy/own/use "hacker software" in
germany. And since judges usually don't have any clue, the prosecution
can tell them whatever they please and will be able to convict basically
everyone in the security industry at will.
German law blog article:
BBC report:

@_date: 2015-09-11 08:39:05
@_author: Tom 
@_subject: Fwd: Do ethnic Germans have the right to racial and cultural 
droves.
References:  <55F1F9C9.9070009
I am german, so let's look at your question:
It does. Because there's no uniform ethnicity or whatever you might call
it, in a country, at least not in germany. Germans are: Saxons,
Bavarians, SaarlÃ¤nders, Turks, Roma, Blacks, Asians, Moslems,
Everything. There is a mix of people with different backgrounds,
different religions (or no religion), different ancestors. Their sum
forms what we know today as the "german culture", whatever that might
Or course not.
All humans are refugees or descendants or refugees. Look at north
america. Coloured people came from africa (well, they didn't exactly
"came", they've been brought), caucasians came from europe, the natives
even came from siberia (50.000 years ago or something). Those migrations
happened all the time during the last 2 mio years over human history.
Therefore, to claim to have a right to live in a uniform culture,
undisturbed by newcomers, is arrogant and absurd. And even if such a
right might exist, the right to live trumps it anyway.
Wanna send back children into a war zone because Oktoberfest?
Tom

@_date: 2015-09-28 15:08:55
@_author: Tom 
@_subject: Allegedly Volkswagen cheated to both governments and lusers 
References: <20150927103913.GA2584
 <2016654741.1567232.1443375840565.JavaMail.yahoo
 <20150928104137.GB2569
 <0B73AF69-673C-491D-83A9-32A1970789A2
 <20150928112142.GC2569
in germany this is at least known since 2007:
 (german
source, sorry) and the auto industry is being covered by the german
government(*). The government does even lobby in the EU against stronger
norms in vafour of german auto industry since years.
So, if you ask me, it is implausible that eh EPA found out about this
only recently. IMHO they knew it all the time. Now there has been "that
call" from D.C. ordering them to open the box. Why now? I don't know,
but maybe looking east and south from germany may help...
*) this means, at least in germany they didn't cheat. The government
did in effect.
- Tom
PS: oh, and it's now VW only, it's all of them.

@_date: 2016-08-17 09:12:25
@_author: Tom 
@_subject: software - multiple version installs (any distro developers here?) 
References: <20160816052039.GF27807
 <20160817033017.GC25656
Developers != distro|package maintainers, and free software should be
portable and not distro specific. So, developers wouldn't have anything to
do here, only maintainers.
  :)
Because humans are not the intended audience for this stuff.
Use dpkg -l [| less or the like].
There are already solutions for this, e.g. look at PC-BSDs packages.
Or use a container. Or compile yourself and set --prefix accordingly.
You're free to start a new project. Maybe others will join, maybe not.

@_date: 2016-08-17 14:00:28
@_author: Tom 
@_subject: Global warming/climate change 
References: No, they're not, and not scientists either.
- Tom

@_date: 2016-01-28 08:39:54
@_author: Tom 
@_subject: request for comment re "contributor-covenant.org" 
References:  <20160127111709.Horde.sMzLRyyRTFJyDfqEn1S8wTp
 <56A8C8F9.4070208
 <1453930474.10710.43.camel
And fascist policing of the mailing list would improve the quality of

@_date: 2016-07-12 15:28:10
@_author: Tom 
@_subject: The Moon landing again - Fw: Neil Armstrong's Boots 
References: <20160711234912.GK30352
No atmosphere, no blowing.
- Tom

@_date: 2016-07-12 16:07:02
@_author: Tom 
@_subject: The Moon landing again - Fw: Neil Armstrong's Boots 
References: <20160711234912.GK30352
 <20160712132810.GC4387 <806691468331676
Ok. It's been debunked anyway:
- Tom

@_date: 2016-06-09 14:06:31
@_author: Tom 
@_subject: NATO preparing an invasion of Russia, Bundeswehr about to 
References: <20160609095519.GA11276
This is nonsense.
Their source is:
deutsche-wirtschafts-nachrichten.de is run by one stupid paranoid liar.
(german only)
- Tom

@_date: 2016-06-28 10:13:44
@_author: Tom 
@_subject: [OT] Five Simple Rules 
References:  <5771DEBD.7000803
Hi Cecilia,
first of all: thanks for posting this, many people seem to have
forgotten these things lately.
There's no need to believe, observing is sufficient. From our vantage
point it may seem everything is getting worse. We kill each other, we
exterminate species, we destroy the environment, intolerance, corruption
and lies, lies and much more lies.
But the thing is: it's not the reality, it's just what we perceive it to
be. Actually it's the other way around: things are getting better and
better. Yes, sometimes it's two steps forward and one backward.
However, look at the details. How many pople are being killed during
wars these days? Of course, still too many, but not millions as in past
times. More and more people pay attention to the environment. Who did
that 100 years ago? Nobody. Who did protest against forest clearance in
those times? Nobody. Against discrimination? A handfull. The list is
The difference to past times is this: 100 years ago children got missed
all times, every day. The general public didn't care much, or even
notice. Today, if a child gets lost, all the media - sometimes even
international ones - report about it, every day 24/7, for weeks.
This is the cause of the perception "oh my god all this criminality!"
while in reality there's LESS criminality than ever before.
You might counter: but what about unreported missing black children? What
about the desastrous violence in Venezuela and Mexico? What about all
those global warming deniers? What about the rising fascisim in the EU?
What about idiots like Trump or Farage? Yes, these things must be fixed.
But if you "zoom out" a little and look on the big picture, you'll
realize that we as a species are developing, growing and indeed getting
Well, at least this is as I see it. I just hate it that almost every one
laments all day "we're going to die, the past was so much better" and
such crab. Try to make a living in 1850. Or 1650. Or 350. Or 14000 b.c.
Today is the best times of all. Todays poorest people are rich
compared to poor people a couple of centuries ago.
So, I don't need to believe, I know it's getting better. Even if local
situations might be worsen here and there, this doen't matter that much
for the species as a whole.
