
@_date: 2012-10-02 11:18:07
@_author: Zooko Wilcox-OHearn 
@_subject: [tahoe-dev] Tahoe-LAFS Weekly Dev Chat, 2012-10-02 
Tahoe-LAFS Weely Dev Chat, 2012-10-02
in attendance: Zooko (scribe), David-Sarah, Andrew
CAVEAT LECTOR; Some of this was added by Zooko after the chat ended.
Andrew Miller has found three bugs in  1. There's a bug. 2. A
different code path partially compensates for it sometimes
(David-Sarah calls this "a masking bug"). 3. The tests aren't smart
enough to realize that that the task has been done wrong and masked
rather than done right. Unclear if Andrew will fix  before
David-Sarah stops accepting patches into Tahoe-LAFS v1.10.
Andrew: "Dynamic Merkle Tree" -- a Red-Black Merkle Tree
deterministic balancing, good asymptotic cost even in the worst case,
good small constant
Any data structure can be Merklized by replacing the links with hashes.
Take MDMF and replace the Merkle Tree with a Red-Black Merkle Tree.
Now you have an LDMF! (Except the backend needs to be able to store,
find, and insert data blocks efficiently. Fortunately
LeastAuthority.com's new Cloud Backend can do that! Well actually
maybe it can't because it currently identifies the blocks by their
*block number*. But it is a lot closer than the current disk backend,
which stores the each block under its offset in a single share file.)
Andrew is trying to work out how to do the physical storage and
addressing, apart from the logical -- Merkle-Tree-authenticated
integrity-checking. He's looking at B trees or B+ trees. Zooko thinks
this may be closely related to tickets  Zooko is excited because of the history here. Brian and he thoughtof
the design of LDMF, then thought it was too hard and thought of the
design of MDMF, then thought that was too hard and invented SDMF,
which was stupid enough that they could implement it. Much later,
Kevan came along and, not realizing how hard MDMF was, decided to do
it for a summer project (Google Summer of Code) and worked really hard
and well on it for about two years, which is why we now have MDMF. So
why is Zooko excited? Because hopefully Andrew doesn't realize how
hard LDMF is!
Zooko recommended N. Askitis's dissertation on cache-oriented data structures.
Andrew has at least two other ideas, and is talking about putting all
three of them into his dissertation. Zooko thinks that's three
dissertations. Maybe Andrew should get three PhD's.
If you add access control at the sub-file level of granularity, so
that you can grant access to only *part* of an LDMF, then what's the
difference between a directory structure and an LDMF? You could store
a deep directory structure in an LDMF. The question is how do you
identify sub-parts of an LDMF in order to talk about them with someone
else and grant someone else access to them. You don't want to grant
them access to a byte span! Like, here's read access to bytes 1000
through 3000 of this file, because then you could no longer safely
insert and delete things in that file.
Brian once suggested packing the share data of multiple files and
directories together for more efficient download and storage -- a
"Virtual CD" --  Once we finish the next RAIC Milestone, David-Sarah will focus on
Tahoe-LAFS v1.10 release. Zooko may not be able to focus on that much
due to ongoing LeastAuthority.com work. LeastAuthority.com is bidding
for another contract.
 "virtual CDs"
 download a subtree
as an archive
 remove
ResponseCache in favour of MDMFSlotReadProxy's cache
 rearrange share
format to make downloads faster
 store copy of
block-hash-chain with each block
Zooko Wilcox-O'Hearn
Founder, CEO, and Customer Support Rep
tahoe-dev mailing list
tahoe-dev at tahoe-lafs.org

@_date: 2013-04-05 14:37:17
@_author: Zooko Wilcox-OHearn 
@_subject: [tahoe-dev] notes from weekly dev chat 2013-04-04 
Hi folks! Here is your regularly scheduled incomplete, cryptic notes
from the Weekly Dev Chat!
in attendance: Zooko, Daira, Andrew, Brian, Amber, Samuel
All tickets were either moved out of the 1.10 Milestone or assigned to
someone. They are all in the state of reviewing and fixing -- no new
code needs to be written.
Brian will cut an RC1 release of v1.10.0 within a week.
Next week's meeting will be a Nuts And Bolts meeting, but it will be
*post-1.10* Nuts and *post-1.10* Bolts! That will be fun!
proposed theme for 1.11 cycle: New automation to lower the friction of
the release process, so we can have more frequent releases. Buildbot
is chugging along, but needs oiling, new robot arms.
LeastAuthority.com submitted a second DARPA proposal. We'll find out
in about two weeks if it got accepted.
Zooko Wilcox-O'Hearn
Founder, CEO, and Customer Support Rep
tahoe-dev mailing list
tahoe-dev at tahoe-lafs.org

@_date: 2013-08-16 21:46:10
@_author: Zooko Wilcox-OHearn 
@_subject: [cryptography] open letter to Phil Zimmermann and Jon Callas of Silent Circle, re: Silent Mail shutdown 
also posted here: This open letter is in response to the `recent shutdown of Lavabit`_ ,
the ensuing `shutdown of Silent Circle's “Silent Mail” product`_, `Jon
Callas's posts about the topic on G+`_, and `Phil Zimmermann's
interview in Forbes`_. Also, of course, all of this is unfolding in
the context of the `2013 Mass Surveillance Scandal`_.
Dear Phil and Jon: Hello there! It is good to have a chance to chat
with you in public.
Please accept the following in the spirit of constructive criticism in
which it is intended.
For those readers who don't know, I've known you both, personally and
professionally for decades. You've each written texts that I've
learned from, inspired me to follow your example, we've worked
together successfully, and you've mentored me. I have great respect
for your technical abilities, your integrity, and your general
reasonableness. Thank you for the all of that and for holding fast to
your principles today, when we need it more than ever.
Your job is not yet done. Your customers are currently vulnerable to
having all of their communications secretly monitored.
I just subscribed to the service at  and
after I paid $120 for one year of service, it directed me to install
the Silent Text app from Silent Circle on my android phone, which I
did. Now, when I use that Silent Circle app to send text messages to
other Silent Circle customers, I have no way of verifying whether it
is really encrypting my message on my own phone, and if it is really
keeping the encryption key only for me, or if it is leaking the
contents of my messages or my encryption keys to you or to others.
If some attacker, for example the U.S. Federal Government — or to pick
a different example the Zetas Mexican drug cartel — were to coerce
Silent Circle into cooperating with them, then that attacker would
simply require Silent Circle to distribute an update to the app,
containing a backdoor.
There is no way for me to verify that any given version of Silent
Text, including the one that I just installed, is correctly generating
strong encryption keys and is protecting those keys instead of leaking
Therefore, how are your current products any safer for your users that
the canceled Silent Mail product was? The only attacker against whom
your canceled Silent Mail product was vulnerable but against whom your
current products are safe is an attacker who would require you to
backdoor your server software but who wouldn't require you to backdoor
your client software.
Does that constraint apply to the U.S. Federal Government entities who
are responsible for PRISM, for the shut-down of Lavabit, and so much
else? No, that constraint does not apply to them. This was
demonstrated in the Hushmail case in which the U.S. DEA asked Hushmail
(a Canadian company) to turn over the plaintext of the email of one of
its customers. Hushmail complied, shipping a set of CDs to the DEA
containing the customer's messages.
The President of Hushmail `emphasized`_ in interviews with journalists
at the time that Hushmail would be able to comply with such orders
regardless of whether the customer used Hushmail's “client-to-server”
(SSL) encryption or its “end-to-end” (Java applet) encryption.
.. _emphasized: Phil had been Chief Cryptographer of Hushmail years earlier, and was
still a member of the Advisory Board of Hushmail at the time of that
case. He commented about the case at that time, and he also `stated`_,
correctly, that the Hushmail model of *unverified* end-to-end
encryption was vulnerable to government coercion. That's the same
model that Silent Circle uses today.
.. _stated: You have just taken the courageous act of publicly shutting down the
Silent Mail product, and publicly stating your reasons for doing so.
This, then, is your opportunity to make your stance consistent by
informing your customers of the similar dangers posed by the software
distribution practices currently used by Silent Circle (along with
most of the rest of the industry).
I don't know the perfect solution to the problem of the
*unverifiability* of today's software. But being frank about the
current approach and the vulnerability that it imposes on users is the
first step. People will listen to you about this, now. Let's start
talking about it and we can start finding solutions.
Also, warn your users. Don't tell them the untruth that it is
impossible for you to eavesdrop on their communications even if you
try (as your company seems to be on the borderline of doing in public
statements like these: [ `¹`_, `²`_]).
.. _¹: .. _²: We're trying an approach to this problem, here at LeastAuthority.com,
of “*verifiable* end-to-end security”. For our data backup and storage
service, all of the software is Free and Open Source, and it is
distributed through channels which are out of our direct control, such
as Debian and Ubuntu. Of course this approach is not perfectly secure
— it doesn't guarantee that a state-level actor cannot backdoor our
customers. But it does guarantee that *we* cannot backdoor our
This currently imposes inconvenience on our customers, and I'm not
saying it is the perfect solution, but it shows that there is more
than one way to go at this problem.
Thank you for your attention to these important matter, and your
leadership in speaking out about them.
(By the way, LeastAuthority.com is not a competitor to Silent Circle.
We don't offer voice, text, video, or email services, like Silent
Circle does/did. What we offer is simply secure offsite *backup*, and
a secure cloud storage API that people use to build other services.)
Zooko Wilcox-O'Hearn
.. _recent shutdown of Lavabit:
.. _shutdown of Silent Circle's “Silent Mail” product:
.. _Jon Callas's posts about the topic on G+:
.. _Phil Zimmermann's interview in Forbes:
.. _2013 Mass Surveillance Scandal:
cryptography mailing list
cryptography at randombit.net

@_date: 2013-08-23 15:21:47
@_author: Zooko Wilcox-OHearn 
@_subject: [cryptography] Reply to Zooko (in Markdown) 
Dear Jon:
Thank you for your kind words and your detailed response.
I am going to focus only on the issue that I think is most relevant
and urgent for your customers and mine.
That urgent issue is: what's the difference between the now-canceled
Silent Mail product and the products that you are still offering, such
as Silent Text?
I don't understand why the Lavabit shutdown and the related domestic
surveillance disclosures imply that Silent Mail was unsafe in any way
that wouldn't also mean Silent Text is unsafe.
Before I go on, I'd like to point out a critical fact that some
readers might not be aware of: Ladar Levison, the owner of Lavabit,
now claims that he is being threatened with jail time *for having shut
down the service*:
This changes the equation, because it means not only can the U.S.
federal espionage authorities say "Backdoor all of your customers or
close your business.", they can also say "Backdoor all of your
customers or go to jail.". As the owner and CEO of a
privacy-protecting service ( and a U.S.
citizen, and as the father of three precious boys who do not want to
be separated from me for any length of time, this concerns me greatly.
Now, maybe the U.S. espionage authorities wouldn't make that threat
again. Maybe Ladar Levison's resistance will teach them that it was a
mistake. I don't know, but we have to take into account this
possibility for now. Your decision to shutter the Silent Mail product
was made because of such possibilities.
But your decision to *keep* the Silent Text service (and the others)
still operating while shutting down the Silent Mail service would make
sense only in the following scenario:
Attacker: "We're here to compel you to give us access to the
confidential communications of all of your customers."
Silent Circle: "But, to do that we would have to change our client —
for example, change its random number generator to produce output that
we can predict — and then upload a software update to the Apple and
Google app stores, and then wait for all of our customers to
automatically upgrade to the new version!"
Attacker: "Oh, well in that case nevermind."
Why do you think that this scenario is plausible? I don't think it is
plausible. Instead, I think the conversation would go like this:
Silent Circle: "… and then wait for all of our customers to
automatically upgrade to the new version!"
Attacker: "Okay. Do that."
Now, there is a big, complex, and interesting question about how to
enable others to *verify* the security of software. It is not
impossible, as you suggested. Good progress on enabling independent
verification of security is being made, by Whisper Systems
( my own company LeastAuthority.com, the
Tor Project (
Gitian ( Debian
( and Bitcoin
But before we get into the nuts and bolts of how to facilitate
verification of end-to-end security, I want to hammer on the first
issue: before going forth to try to improve an issue, we should first
admit to our current customers and to the public that the issue
exists. We shouldn't mislead our customers into thinking that they are
safe from something that they are not. Silent Circle's closure of
Silent Mail for the stated reason is inconsistent with its continued
operation of the Silent Text service. The stated reason was that the
US federal government could compel Silent Circle to backdoor the
Silent Mail service. That same reason applies today to the Silent Text
service and the other services that Silent Circle is still operating.
To be clear, I'm not asking you to shut down your other services. I
think that would be a loss for everyone. And I'm not asking you to
magically fix all of the problems by tomorrow. I know, in part from
your detailed letter, that you are currently working on improving some
parts of your process, and I think that there are other techniques
that you could use (including licensing your source code as Free and
Open Source software) that would help. But I understand the challenges
of running a business, actively serving customers, and performing
sophisticated engineering all at once. I know that improvement takes
time. What I'm asking you to do is to *be clear* with your customers
and with the public about the current limitations.
Currently, the US federal espionage agencies can compel Silent Circle
to secretly provide access to all of Silent Circle's customers'
private communications. That's too bad. But it is fixable! But to fix
it starts with admitting what the problem is.
Zooko Wilcox-O'Hearn
Founder, CEO, and Customer Service Rep
Freedom matters.
cryptography mailing list
cryptography at randombit.net

@_date: 2013-08-23 17:49:57
@_author: Zooko Wilcox-OHearn 
@_subject: [tahoe-dev] weekly dev chat notes from 2013-08-21 
notes Tahoe-LAFS Weekly Dev Chat 2013-08-21
in attendance: Zooko (scribe), Jeff "psi2", Mark, zab, Brian
Agenda Item 1: next week's Dev Chat
for the next Weekly Dev Chat meeting, we're going to do an experiment:
* invite people more widely (everyone who reads tahoe-dev, everyone
who follows me (zooko) on twitter, etc.)
* upload a recording of the dev chat to youtube
* try to finish reviewing  *before* the meeting so that we can
focus the meeting on:
* planning Tahoe-LAFS v1.11!
Agenda Item 2: I2P patches
Jeff and zab from the I2P project joined Tahoe-LAFS Weekly Dev Chat
for the first time to help us integrate the patches that I2P needs in
order to use an unmodified LAFS on I2P. Jeff tagged the specific
tickets that are blocking the I2P people on that:
We dug into  We agreed to make a "[node]anonymize", which means
"On startup, verify that all configuration options are compatible with
anonymity. If any aren't, stop the process with a useful error message
about the configuration option that is dangerous to anonymity.".
Action item for me: add a comment to that proposing a configuration UI
that I would like, then email Brian about it. Action item for Jeff:
update the patch on  use only 127.0.0.1
as local address
Agenda Item 3: Tahoe-LAFS v1.11.0
I don't want to release Tahoe-LAFS v1.11 with regressions that make it
worse than Tahoe-LAFS v1.10. Currently, there are seven such
The next step in the process of releasing v1.11 is to "elect" a
Release Manager. And by "elect" we mean that someone somehow gets
appointed to that role, and if they don't want to do it they have to
fight a bear.
Zooko Wilcox-O'Hearn
Founder, CEO, and Customer Support Rep
Freedom matters.
tahoe-dev mailing list
tahoe-dev at tahoe-lafs.org

@_date: 2013-08-27 16:46:20
@_author: Zooko Wilcox-OHearn 
@_subject: [tahoe-dev] join us for the Tahoe-LAFS v.11 planning meeting tomorrow 
Everyone is invited to participate in a video conference using Google
Hangouts tomorrow, Wednesday the 28th, at 15:00Z, for 1 hour.
Here is more detail:
The video conference will be recorded and posted to the public on
youtube (if we can figure out how to make it do that).
The topic will be: What is coming in Tahoe-LAFS v1.11! ☺
Zooko Wilcox-O'Hearn
Founder, CEO, and Customer Support Rep
Freedom matters.
tahoe-dev mailing list
tahoe-dev at tahoe-lafs.org

@_date: 2013-07-31 11:36:52
@_author: Zooko Wilcox-OHearn 
@_subject: [tahoe-dev] press release: LeastAuthority.com announces Spy-Proof Backup 
We're really happy to be offering our LAFS-based ciphertext storage
service to the public! Please spread the word. Thank you very much to
everyone in our little community for making things like this possible.
Zooko Wilcox-O'Hearn
Founder, CEO, and Customer Support Rep
            LeastAuthority.com Announces A Spy-Proof Storage Service
   Wednesday, July 31, 2013
   [1]LeastAuthority.com today announced “Simple Secure Storage Service
   (S4)”, a backup service that encrypts your files to protect them from the
   prying eyes of spies and criminals.
   “People deserve privacy and security in the digital data that make up our
   daily lives.” said the company's founder and CEO, Zooko Wilcox-O'Hearn.
   “As an individual or a business, you shouldn't have to give up control
   over your data in order to get the benefits of cloud storage.”
                         verifiable end-to-end security
   The Simple Secure Storage Service offers verifiable end-to-end security.
   It offers “end-to-end security” because all of the customer's data is
   encrypted locally — on the customer's own personal computer — before it is
   uploaded to the cloud. During its stay in the cloud, it cannot be
   decrypted by LeastAuthority.com, nor by anyone else, without the
   decryption key which is held only by the customer.
   S4 offers “verifiable end-to-end security” because all of the source code
   that makes up the Simple Secure Storage Service is published for everyone
   to see. Not only is the source code publicly visible, but it also comes
   with Free (Libre) and Open Source rights granted to the public allowing
   anyone to inspect the source code, experiment on it, alter it, and even to
   distribute their own version of it and to sell commercial services.
   Wilcox-O'Hearn says “If you rely on closed-source, proprietary software,
   then you're just taking the vendor's word for it that it actually provides
   the end-to-end security that they claim. As the PRISM scandal shows, that
   claim is sometimes a lie.”
   The web site of LeastAuthority.com proudly states “We can never see your
   data, and you can always see our code.”.
                               trusted by experts
   The Simple Secure Storage Service is built on a technology named
   “Least-Authority File System (LAFS)”. LAFS has been studied and used by
   computer scientists, hackers, Free and Open Source software developers,
   activists, the U.S. Defense Advanced Research Projects Agency, and the
   U.S. National Security Agency.
   The design has been published in a peer-reviewed scientific workshop:
   Wilcox-O'Hearn, Zooko, and Brian Warner. “Tahoe: the least-authority
   filesystem.” Proceedings of the 4th ACM international workshop on Storage
   security and survivability. ACM, 2008.
   [2]
   It has been cited in more than 50 scientific research papers, and has
   received plaudits from the U.S. Comprehensive National Cybersecurity
   Initiative, which stated: “Systems like Least-Authority File System are
   making these methods immediately usable for securely and availably storing
   files at rest; we propose that the methods be further reviewed, written
   up, and strongly evangelized as best practices in both government and
   industry.”
   Dr. Richard Stallman, President of the Free Software Foundation
   ([3] said “Free/Libre software is software that the users
   control. If you use only free/libre software, you control your local
   computing — but using the Internet raises other issues of freedom and
   privacy, which many network services don't respect. The Simple Secure
   Storage Service (S4) is an example of a network service that does respect
   your freedom and privacy.”
   Jacob Appelbaum, Tor project developer ([4]
   and WikiLeaks volunteer ([5] said “LAFS's design
   acknowledges the importance of verifiable end-to-end security through
   cryptography, Free/Libre release of software and transparent peer-reviewed
   system design.”
   The LAFS software is already packaged in several widely-used operating
   systems such as Debian GNU/Linux and Ubuntu.
   [6]
   Visible links
   1.    2.    3.    4.    5.    6. tahoe-dev mailing list
tahoe-dev at tahoe-lafs.org

@_date: 2013-03-11 06:27:05
@_author: Zooko Wilcox-OHearn 
@_subject: [tahoe-dev] Weekly Dev Chat notes from 2013-03-07 
Sheesh, it takes a lot longer to write these notes up for the list
than it does to actually attend the dev chat.
in attendance: Oleksandr, Zooko (scribe), David-Sarah, Randall
"ClashTheBunny" Mason, Brian (latebone lash), Tony (latebone lash)
not in attendance: Andrew (ABSENTbtwo lashes)
sort-of-in-attendance (on the IRC channel): a lot of folks
Agenda: Tahoe-LAFS v1.10 (Nuts and Bolts)
This was awesome. We got lots of tickets closed, or at least pushed forward a
step or two. This was the most productive hour of ticket-closing work
ever. We're going to do it again next week! If you like doing code-review and
writing unit tests, you should join us.
You can see also use the Trac Timeline:
ClashTheBunny has some patches for IPv6 for Tahoe-LAFS and Foolscap (
and has some tests of them but needs more thorough tests. However, we didn't
look at that this time, because we focused on tickets for Tahoe-LAFS v1.10.
Nejucomo said on IRC that he wasn't going to get around to manually verifying
that the bug we fixed in ticket  was the same as the bug he reported. I
decided to just close the ticket for the following reasons: there *is* a bug
that we understand, there is a fix which is clear, there is a unit test that
exercises the bug that is red without the fix and green with the fix, and The
Dod manually verified that it fixed the problem in practice for him. The only
reason we've left the ticket open waiting for Nejucomo to test is in case
Nathan actually has a *different* bug than this one. But we don't need to
keep the ticket open for that eventuality.
ClashTheBunny did design review on  He approved the design and made
good comments that showed that he actually had thought about it. Subsequently
Zooko added another design question and assigned it to Brian for design
We looked at  It is a blocker because it makes the SFTP frontend
incompatible with the current stable release of Twisted. However it is closed
as a duplicate of  because the improvement in  would remove the
incompatibility. We briefly considered kludging it by requiring people to
install an older Twisted, but instead decided to fix it the good
way. David-Sarah had already implemented the fix to  but there was
something wrong with the unit test.
NEWFLASH! This just in! As we were going to press, David-Sarah posted on
 a comment that they are currently working on it.
We discussed  David-Sarah had an idea for how to make the
implementation simple, by incrementing the server-wide counter once for each
service. Brian will work on it. It and  are the two blockers that
require new code to be written before we release Tahoe-LAFS v1.10.
We closed  as fixed. Yay!
 is finished, reviewed, and ought to go into Tahoe-LAFS v1.10, but I
can't figure out how to merge it into master using git. I don't understand
how to use git very well, since I've only been using it on a daily basis for
a little more than two years now...
 was already applied, but there was something wrong with it according to
Brian. Do we need to fix that as a blocker for 1.10 release?
We agreed to drop support for Python 2.5 and therefore for CentOS 5.
In the last few minutes of the hangout, we agreed that next week's hangout
will be another Nuts And Bolts like this one, hopefully bringing Tahoe-LAFS
v1.10 close to completion. Brian will work on  Someone (maybe Zooko??)
will work on Then we briefly mentioned the possibility of switching from a "semantic
versioning" style version number, to a YEAR.RELEASE_COUNT version number like
Twisted does. So instead of Tahoe-LAFS v1.10, this might be Tahoe-LAFS
v13.0. Then if there is another release in 2013, that would be Tahoe-LAFS
v13.1. We also considered leaving it alone for the "v1.10" release, and
switching styles for the next release.
Currently we use the "1." in "Tahoe-LAFS v1.10" to mean that it has
backward-compatibility with all of the stable Tahoe-LAFS releases since v1.0
(released March 25, 2008:
). I'm not sure that's accurate. While we have never deliberately violated
that goal, and we are not aware of any change that we've made which would
break that compatibility, on the other hand we don't have automated or manual
testing of backwards compatibility. Anyway, I suspect that there aren't any
users of Tahoe-LAFS versions older than 1.9.2:
tickets mentioned in this letter:
 use ipv6
 CLI: overzealous
quoting of error messages
 SFTP: handle
download failures correctly; remove use of IFinishableConsumer
 Nondeterministic
NoSharesError for direct CHK download in 1.8.3 and 1.9.1
 consider changes
to webapi "Move" API before release
 write test for
anti-Ubuntu-crash-reporter exception-catching code
 update
Announcement "timestamp": sequence number?
parse_abbreviated_size doesn't accept T for terabytes (and other
quibbles with the regex it uses)
 Failed to load
application: cannot import name IFinishableConsumer

@_date: 2013-03-16 13:29:34
@_author: Zooko Wilcox-OHearn 
@_subject: [tahoe-dev] Tahoe-LAFS Users Group Meeting, San Francisco, 
You are invited to the Tahoe-LAFS Users Group Meeting!
Tahoe-LAFS is a secure, fault-tolerant, scalable storage system. It is
a Free/Open Source Software project. It is also an idea: we want to
see a World Wide Web that can't be censored or surveilled; a Web with
no master.
when and where:
Tuesday, March 19, 2013, 6 PM to 9 PM
Rackspace, 620 Folsom, Suite 100, San Francisco, CA
There will be pizza, from Goat Hill Pizza. Thanks to Rackspace for the
location and food!
1. "Announcing Tahoe-LAFS v1.10"
2. "Tahoe-LAFS For Engineers Who Don't Care About Security"
A 20-minute demo of installing the Tahoe-LAFS software, deploying a
grid of storage servers, using them to upload, download and browse
files. Then the punch line: did you notice what we *didn't* do during
this demo? Screw around with certificates, keys, encryption, or
decryption! You don't have to spend your time messing with that stuff
in order to use Tahoe-LAFS.
3. "What Should We Put Into Tahoe-LAFS v1.11?"
Who is using Tahoe-LAFS, what are you using it for, and what would it
make it more useful for you?
Zooko Wilcox-O'Hearn
Founder, CEO, and Customer Support Rep
tahoe-dev mailing list
tahoe-dev at tahoe-lafs.org

@_date: 2013-10-07 21:17:14
@_author: Zooko Wilcox-OHearn 
@_subject: [zfs] [Review] 4185 New hash algorithm support 
Hi folks:
I just joined this list because I saw this thread. I'm one of the
architects of a distributed storage system named Tahoe-LAFS
( It has quite a few things in common with
ZFS, architecturally, but it is also very different from ZFS, because
it's not so much a real *filesystem* as it is like a BitTorrent that
has an upload button as well as a download button. But it is like ZFS
inasmuch as they both involve a heck of a lot of hashing for
I'm also an author of a secure hash function which has been designed
for this kind of usage and which you should consider as an alternative
to SHA-256, Edon-R, or Skein for use in ZFS. It is named BLAKE2. Here
are the slides I presented about BLAKE2 at a recent academic crypto
conference: ¹.
¹ The slides mention ZFS. ZFS is mentioned on a slide with a list of
tools that use secure hash functions for data-intensive purposes. Out
of the list there, Tahoe-LAFS and ZFS are the only ones that use a
hash function which is actually secure — SHA-256. The others all use
hash functions that are known to be more or less unsafe — MD5 and
So, before I go on with my pitch for why you should consider BLAKE2,
first please clarify for me whether ZFS really needs a
collision-resistant hash function, or whether it needs only a MAC. I
had thought until now that ZFS doesn't need a collision-resistant hash
unless dedup is turned on, and that if dedup is turned on it needs a
collision-resistant hash.
But this thread seems to indicate that even when dedup is turned on,
it might be possible to use a MAC, by having a pool-wide secret to use
for the MAC key… If I understand correctly (which I probably don't),
that would make it impossible for anyone who doesn't know the secret
to cause collisions during dedup, but still possible for someone who
knows the secret (presumably root on that system, or someone who stole
the secret) to generate blocks that would collide during dedup. If you
used a collision-resistant hash for that purpose, then nobody would be
able to cause collisions.
If you need a MAC, I suggest Poly1305-AES. It is very efficient, has a
nice proof that it is as secure as AES is, and it is part of a new
proposed cipher suite for TLS ².
² If you need a collision-resistant hash function, I suggest BLAKE2. It
is more efficient than SHA-256, Skein, or Keccak (see ³), and it has a
better reputation among cryptographers than Edon-R has. In fact,
BLAKE2's parent, BLAKE, was rated by NIST as being even more
well-studied than Keccak was — see my slides, linked above, for quotes
from NIST's final report on the SHA-3 contest.
³ I get the impression that BLAKE2 has gotten a certain "mind-share"
among cryptographers, because after this article ⁴ from the Center for
Democracy and Technology came out, questioning NIST's plans to modify
SHA-3 to improve its performance, there has been a heated discussion
on the SHA-3 mailing list, and several of the cryptographers in that
discussion (including the inventors of Keccak) have mentioned BLAKE2
as an example of a high-performance hash function. There has been one
academic research paper analyzing BLAKE2 so far: ⁵ (in addition to a
ton of them analyzing its predecessor, BLAKE, during the SHA-3
⁴ ⁵ In addition to being high-performance in normal single-stream mode,
BLAKE2 comes with parallelized modes, so that you can use 4 or 8 CPU
cores to compute a hash up to 4- or 8- times as fast.
You can get the academic papers, source code (both simple reference
implementations and optimized implementations in various languages),
test vectors, and so on:
Zooko Wilcox-O'Hearn
Founder, CEO, and Customer Support Rep
Freedom matters.
Archives: RSS Feed: Modify Your Subscription: Powered by Listbox:

@_date: 2014-10-09 18:12:39
@_author: Zooko Wilcox-OHearn 
@_subject: Tesla Coils & Corpses, 2014-10-09 — the DOOM and GLOOM Edition 
.. -*- coding: utf-8-with-signature-unix; fill-column: 73; -*-
Tahoe-LAFS Tesla Coils & Corpses, 2014-10-08
The DOOM and GLOOM Edition
Daira, Zooko (scribe), Nathan, Andrew (lurker), Za (briefly)
[Disclaimer: this is pretty much all just Zooko's rant that he typed
in during the meeting, and doesn't reflect anyone else's opinions very
We all sat around reading  .
Then Nathan and Zooko got distracted by wondering about basic attack
incentives in Bitcoin…
Zooko used to think that block rewards and transaction fees deterred
roll-back attack, thus making transactions safer when the rewards and
fees were higher. But, maybe that's actually incorrect.
There are (at least) two cases to consider: 1. no actor controls ≥ 51%
of the hashpower, and 2. an actor controls ≥ 51% of the
hashpower. Here's the surprising fact about case 2: block rewards do
not incentivize such an actor to cooperate with the protocol, and
transaction fees incentivize that actor to defect (i.e. to attack)!
First look at the block rewards. As an actor who controls 51% of the
hashpower, you have the choice of either cooperating with the protocol
(mining atop the current longest known chain) or defecting (mining
atop a secret alternate chain and then later revealing it in order to
supplant the shorter public consensus chain).
If you cooperate, then over the next 100 blocks on the public
consensus change (the next 1000 minutes), you'll get 51 (on average)
of the block rewards. If you defect, then over the next 51 blocks on
your secret chain, which is simultaneous with the next 49 blocks on
the public chain (i.e. the next 1000 minutes), you'll get exactly 51
of the block rewards!
So block rewards do not actually incentivize an actor who controls ≥
51% of the power to cooperate.
(Also, if you cooperate then other people will get 49 block rewards,
but if you defect then other people will get 0. That's an incentive to
defect, but a very small one.)
Next look at the transaction fees. If you cooperate, then you'll get
(on average) 51% of the transaction fees that get posted over the next
1000 minutes. If you defect you'll get 100% of the transaction
fees. So transaction fees incentivize you to defect!
In addition to the consequences of reward, and of fees, of course,
there is also the benefit of double-spending, which is an additional
incentive to defect.
What does this mean? Does it mean that Bitcoin is broken? One
interpretation of the above in light of the fact that Bitcoin has
never yet been rolled-back is that Bitcoin is designed to avoid any
one actor gaining ≥ 51% (case 1 above), but that it breaks badly if
that fails (case 2 above).
Another way to interpret it is to say, well, there's another incentive
overlooked in the analysis of case 2, above, which is the value of
Bitcoin. If you are an actor who controls ≥ 51% of the power, then one
consequence of launching a large attack (such as a 49-block rollback)
would be a crash in the price of Bitcoin in terms of other currencies
(e.g. US Dollars). Would that disincentivize you from performing the
Well, there are two ways that you might be committed to the value of
Bitcoin: by holding the currency yourself or by investing in mining
capital. The former is probably not a big incentive on you as a
would-be attacker, because you can sell your Bitcoin holdings. You
have an advantage over all other traders in terms of knowledge here,
and your sell orders might even be able to race ahead of the
news/realization of what has happened.
In addition, if you can effectively short Bitcoin, then the opposite
incentive applies — the fact that the price of Bitcoin would crash is
an added incentive for you to perform the attack.
The other incentive would be if you have invested in Bitcoin mining
capital, and the product of that capital will be worth less if the
price of Bitcoin goes down. I think this is a real deterrent — the
first real incentive that I've found, in this rant, for a
51%-controller to cooperate!
One interpretation of that is that Bitcoin says “Oh, you've gained a
massive amount of mining power? That means you have the ability to
destroy the currency, and you have a monetary incentive to do so. But,
we'll give you a steady transfer of value from all current holders of
Bitcoin to you (i.e. the block reward) from now on, so that you will
choose not to do that because you anticipate future transfers of
Bitcoin value from others to you.”
That sounds kind of ugly — it sounds more like you've become an
effective rent-extractor than that you are providing any ongoing value
to anyone in return for the ongoing transfer from the public to you.
Another concern I (Zooko) have is: what if the controller of the
mining capital isn't the owner of the mining capital? Suppose you've
illicitly taken over two large mining operations, so that now you
temporarily control ≥ 51% of all of the Bitcoin the mining power. The
legitimate owners of the mining operations will probably eventually
discover your incursion and retake control of their capital. One
option you have is to go ahead and perform a massive rollback attack,
earning earning ⓑ from rewards, fees, short-sales, and double-spends,
and selling all of your newly acquired ⓑ as fast as possible because
you expect a massive price crash.
The end
P.S. Daira actually appears to have spent the whole meeting reading
the paper, so maybe she learned something entirely different from
Zooko's doom and gloom rant.
