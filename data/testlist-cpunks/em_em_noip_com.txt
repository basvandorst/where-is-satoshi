
@_date: 2004-04-29 20:01:57
@_author: Enzo Michelangeli 
@_subject: Can Skype be wiretapped by the authorities? 
Sent: Wednesday, April 28, 2004 4:49 AM
What do you mean with "operator"? AFAIK, the system is fully peer-to-peer
( ).
Regarding the crypto, at  they
 What type of encryption is used?
 Skype uses AES (Advanced Encryption Standard) - also known as Rijndel
 - which is also used by U.S. Government organizations to protect
 sensitive, information. Skype uses 256-bit encryption, which has a
 total of 1.1 x 1077 possible keys, in order to actively encrypt the
 data in each Skype call or instant message. Skype uses 1536 to 2048
 bit RSA to negotiate symmetric AES keys. User public keys are
 certified by Skype server at login.
OK, so "Rijndael" is misspelled and the RSA-based key exchange does not
provide forward secrecy, but apart from that it doesn't smell like snake
oil. Not too bad, at least.
BUT, unfortunately, the implementation is closed source, so there are no
guarantees that the software is not GAKked. And yes, definitely an
opensource (and multiplatform) alternative would be a cool thing to have.
A message I posted a while ago to the list p2p-hackers was reposted by
Eugene Leitl to cypherpunks
( at minder.net/msg81814.html ) but
the couple of followups it elicited didn't seem to center the issues I
raised. I didn't reply then because I'm not a subscriber of cypherpunks
any longer, so I'd like to take this occasion for doing it here now:
Major Variola (ret) commented (indented lines, followed by my comment):
 >Skype claims to use RSA-based key exchange, which is good for
 >multi-party conferencing but does not preserve forward secrecy.
 >Maybe some variant of ephemeral D-H authenticated by RSA
 >signatures, with transparent renegotiation every time someone
 >joins the conference, could do the job better.
 RSA (ie persistant keys) may be an option but MUST NOT be
 required, for secrecy reasons as mentioned.  (At worst RSA keys
 can be used once, then discarded.  Lots of primes out there :-)
Well, I don't see why RSA signatures (only for authentication of the key
exchange) could endanger forward secrecy.
 Also, this is *voice*, ie biometric auth,
 so public-key-web-o-trust verislime scam is
 unnecessary at best.
It's not only voice, it's also IM-style text chat. And even with voice,
biometric authentication becomes awkward to use with conference calls.
 >One could always implement a brand new
 >network, using Distributed Hash Table algorithms such as Chord or
 >Kademlia,
 We don't give a flying fuck as to which shiny new algorithm you use,
 although were we a graph theory wonk, we might care.
The issue here is that DHT algorithms allow to implement a fully
distributed directory, which means one much more resistant to attacks
(especially from institutional attackers) than implementations based on
centralized servers (see, in a related fild, the different destinies of
Napster and its distributed successors such as Overnet or the less
efficient Gnutella). Still, a full search takes O(log(n)) steps, making
them practical for implementing directory/presence services.
 >but it would be much easier to rely from the very beginning upon
 >a large number of nodes (at least for directory and presence
 >functionality, if not for the reflectors which require specific
 >UDP code).
 What the NAT world (yawn) needs is free registry services
 exploitable by any protocol.  Those NAT-users with RSA-clue can
 sign their registry entry.
Not only that: NATted agents cannot be "called" unless they first register
with some reflector on the open Internet. And centralized reflectors are,
again, easy to attack, and also expensive to operate, as the bandwidth
requirements are substantial (all the traffic flows through them): see
e.g. John Walker's analysis of the reasons that led him to abandon
SpeakFreely at  .
Thomas Shaddack suggested to leverage on Jabber, but:
1. Jabber uses TCP as transport, and therefore can't be efficiently used
as transport for telephony, i.e. using encapsulation of the voice packets
in the Jabber protocol in order to traverse NAT devices.
2. Jabber is based on a client-server paradigm similar to e-mail. Running
a Jabber server requires an always-on machine with its own domain name;
and, although dynamic DNS can help, the model again tend to be
hierarchical, easy to attack etc. That pretty much rules it out also for
session initiation, directory/presence etc.
The beauty of Skype, encryption aside, is that it's based on an overlay
network solely based on P2P servents, relies (if their FAQ tells the
truth) upon NO central registry for presence and directory services, and
each client that runs non-NATted can transparently act as reflector
supporting NATted users. Plus, all this (including, besides voice,
text-based instant messaging) works with zero configuration with an
idiotproof UI.

@_date: 2004-03-13 19:03:17
@_author: Enzo Michelangeli 
@_subject: [p2p-hackers] Ideas for an opensource Skype lookalike 
Hello everybody,
I just joined this list after lurking for a while on its archive at
I'd like to gather opinions about using P2P techniques to support a type
of application that never managed to become really popular: a secure
internet phone. I have recently begun to monitor the development of
Speakfreely on Sourceforge ( ) after
its creator John Walker decided that the future of Internet was an
inhospitable environment for it and abandoned further development
( ). I think that John overlooked the
possibilities offered by P2P architectures, in two critical areas:
- Directories for location and presence. Nothing fancy here, already done
before for P2P chat systems.
- Working around NAT routers. John says of implementing third-party
    "[...] no non-commercial site like mine could possibly
    afford the unlimited demands on bandwidth that would
    require. It's one thing to provide a central meeting
    point like a Look Who's Listening server, which handles
    a packet every five minutes or so from connected sites,
    but a server that's required to forward audio in
    real-time between potentially any number of
    simultaneously connected users is a bandwidth killer."
However, what a centralized system can't do, is a piece of cake for a
distributed system ("_One_ can't, perhaps," said Humpty Dumpty, "but two
can.[...]"). The fact that something like Skype does exist, works, and may
claim an average of more than 150,000 users online at any given time,
looks like a proof of feasibility to me!
Unfortunately, Skype is closed-source (which is a showstopper for a crypto
application), and Windows-only to boot. However, nothing prevents
borrowing some ideas at  for
an opensource alternative.
Speakfreely might not represent the best starting point, but it usually
works out of the box (which is more than can be said for most other
Internet phones), it's multi-platform, and already contains an RTP stack
and bulk encryption code.  As an alternative to Speakfreely's code, one
could assemble together an RTP stack such as oRTP
( a bulk encryption and authentication
layer such as SRTP ( a portable
audio abstraction layer such as Portaudio ( and an
unencumbered codec such as Speex ( It would be nice if all
the components were or could be ported to WinCE, for use on wireless
What Speakfreely sorely lacks is a sensible session initiation protocol,
and access to non-NATted reflectors to help NATted peers to find each
other and exchange UDP traffic. That's where a P2P network (especially one
supporting the concept of non-NATted "ultrapeers") can save the day.
In my opinion, traditional server-based (i.e., non-P2P) session initiation
protocols like SIP -not to mention H.323- represent a poor choice for a
consumer-friendly application: they require an arsenal of infrastructural
applications (directories, proxies, gatekeepers etc.) which make them
attractive only to telcos and hardware vendors (hence Cisco's support for
SIP, and the venom liberally spilled on Skype at
Besides, as I wrote on speak-freely-devel at lists.sourceforge.net, "the
mechanisms that SIP/SDP use for session key negotiation range from the
pathetic (key sent in cleartext!!) to the impractical (S/MIME CMS, which
is a monster built on the clay feet of a PKI that isn't quite there)".
Skype claims to use RSA-based key exchange, which is good for multi-party
conferencing but does not preserve forward secrecy. Maybe some variant of
ephemeral D-H authenticated by RSA signatures, with transparent
renegotiation every time someone joins the conference, could do the job
But the thing I particularly would like to discuss here is if, and how, to
leverage on existing P2P networks. One could always implement a brand new
network, using Distributed Hash Table algorithms such as Chord or
Kademlia, but it would be much easier to rely from the very beginning upon
a large number of nodes (at least for directory and presence
functionality, if not for the reflectors which require specific UDP code).
That would somehow repeat the approach initially adopted by Vocaltec when,
in 1995, they launched their Iphone making use of IRC servers to publish
dynamic IP addresses. Incidentally, the IRC users community didn't
particularly appreciate ;-), triggering the Great Iphone War, which
quickly led Vocaltec to set up its own dedicated IRC servers.
searches are only based on flooding, and therefore full-network searches
are nearly impossible; on the other hand, Overnet (which relies upon the
Kademlia algorithm) could perhaps be used as a sort of distributed
presence/location "server", and also key server (perhaps it would be wise
to use an OpenPGP key format to enjoy WoT features from day one). The
Overnet protocol is unpublished, but it's been reverse-engineered at least
in part by the mldonkey team.  Alternatively, Freenet or Entropy could
perhaps provide similar services, but with a large code overhead (I'd like
to keep the code small enough to be ported, one day, to a PDA) and perhaps
slower propagation (?).
Comments, as I said, are much welcome.
p2p-hackers mailing list
p2p-hackers at zgp.org
Here is a web page listing P2P Conferences:

@_date: 2004-05-11 01:09:39
@_author: Justin 
@_subject: Can Skype be wiretapped by the authorities? (fwd from 
References: <20040510183014.GF15626
  <20040509203640.GT25728
  <20040510183014.GF15626
Truth like this?
Sandy has discovered the deep dark secret of crypto! I worked for Intel
from 1974 to 1986 and can confirm this to be the case.
Every crypto key is secretly recorded by Intel microprocessors. Motorola
processors do not yet record keys, which I why use a Macintosh. The
specific instruction is the so-called "NSA instruction" which John Gilmore
identified some time ago. Sun Microsystems was ordered by the NSA to redesign their chips to capture
keys, which is why the SPARC processor was introduced. SPARC stands for
"Sun Processor Allowing Remote Capture."
Once the keys have been captured and stored on the user's hard disk (notice
how the drives occasionally turn on a night?), they are forwarded to the
NSA and National Surveillance Organization by "screen saver" programs, like
"After Dark," which were actually written by the Berkeley Microsystems
cut-out operation of the NSO. Real hackers don't use cutesy screen saver
This new automated system is much more convenient than the previous system,
where the FBI and NSO had to break into homes and offices in order to
retrieve the keys the Intel processors had recorded.

@_date: 2004-11-05 16:10:56
@_author: Enzo Michelangeli 
@_subject: Your source code, for sale 
Sent: Friday, November 05, 2004 7:01 AM
In the world of international trade, where mutual distrust between buyer
and seller is often the rule and there is no central authority to enforce
the law, this is traditionally achieved by interposing not less than three
trusted third parties: the shipping line, the opening bank and the
negotiating bank. First, the buyer asks his bank to open an irrevocable
letter of credit (L/C), which is a letter sent to the seller's bank
instructing it to pay the seller once the latter presents a given set of
documents: these usually include the "bill of lading" (B/L), issued by the
shipping line to declare that the desired cargo was indeed loaded on
board. The seller gets the letter of gredit from his bank and is now sure
that he will be paid by the latter (which he trusts); so he purchases or
manufactures the goods, delivers them to the shipping line getting the
B/L, passes it together with the other documents to his bank, and draws
the payment. The seller's bank sends by mail the documents to the buyer's
bank (which it trusts due to long-standing business relationships),
knowing that it will eventually receive the settlement money. The buyer's
bank receives the documents, debits the buyer's account, remits the monies
to the seller's bank, and delivers the documents to the buyer. When the
ship arrives to the buye's seaport, the buyer goes to the shipping line,
presents to it the B/L and in exchange gets the cargo (in sea shipments,
the B/L represents title to the goods).
That's way trickier because there are no trusted third parties, not even
e-gold Ltd. / G&SR, Inc. The trust chain with the L/C works well because
delegation of trust is unnecessary: every link in the chain bears
responsibility only to its adjacent links.
Interestingly, with L/C's this problem is addressed by involving yet
another third party: an internationally-recognized inspection company
(e.g., the Swiss SGS) that issues a document certifying that the cargo is
indeed what the buyer expects and not, i.e., bricks. Banks and shipping
lines don't want to get involved in these issues; the seller's bank will
only check all the documents requested by the L/C (possibly including the
inspection certificate).
But it's hard to assess the value of partially-released code. If the
gradual transfer bits-against-cents is aborted, what is left to the buyer
is likely to be unusable, whereas the partial payment still represents
good value.
A more general issue is that source code is not a commodity, and
intellectual property is not "real" property: so the traditional "cash on
delivery" paradigm just doesn't work, and looking for protocols
implementing it kind of moot. If the code is treated as trade secret,
rather than licensed, an anonymous buyer may make copies and resell them
on the black market more than recovering his initial cost, at the same
time undercutting your legitimate sales (see e.g. the cases of RC4 and
RC2). This can cause losses order of magnitude larger than refusing to pay
for his copy.

@_date: 2004-11-07 19:46:20
@_author: Enzo Michelangeli 
@_subject: Your source code, for sale 
<1576.82.70.142.134.1099797702.squirrel
----- Original Message ----- Sent: Sunday, November 07, 2004 11:21 AM
Actually, seeing issuance and acceptance of L/C's only as a money-lending
activity is not 100% accurate. "Letter of credit" is a misnomer: an L/C
_may_ be used by the seller to obtain credit, but if the documents are
"sent for collection" rather than "negotiated", the payment to the seller
is delayed until the opening bank will have debited the buyer's account
and remitted the due amount to the negotiating bank. To be precise: when
the documents are submitted to the negotiating bank by the seller, the
latter also draws under the terms of the L/C a "bill of exchange" to be
accepted by the buyer; that instrument, just like any draft, may be either
sent for collection or negotiated immediately, subject, of course, to
final settlement. Also, depending on the agreements between the seller and
his bank, the received L/C may be considered as collateral to get further
allocation of credit, e.g. to open a "back-to-back L/C" to a seller of raw
However, if the documents and the draft are sent for collection, and no
other extension of credit are obtained by the buyer, the only advantage of
an L/C for the seller is the certainty of being paid by _his_
(negotiating) bank, which he trusts not to collude with the buyer to claim
fictitious discrepancies between the actual documents submitted and what
the L/C was requesting. (And even in case such discrepancies will turn out
to be real, the opening bank will not surrender the Bill of Lading, and
therefore the cargo, to the buyer until the latter will have accepted all
the discrepancies: so in the worst case the cargo will remain under the
seller's control, to be shipped back and/or sold to some other buyer.
If it acted differently, the opening bank would go against the standard
practice defined in the UCP ICC 500
( and its reputation would be
badly damaged). So, the L/C mechanism, independently from allocation of
credit, _does_ provide a way out of the dilemma "which one should come
first, payment or delivery?"; and this is achieved by leveraging on the
reputation of parties separately trusted by the endpoints of the
Generally speaking, it is debatable whether "doing banking" only means
"accepting deposits and providing credit" or also "handling payments for a
fee": surely banks routinely do both, although they do not usually enjoy a
_regulatory franchise_ on payments because failures in that field are not
usually argued to be capable of snowballing into systemic failures.
(Austrian economists argue that that's also the case with provision of
credit, but it's a much more controversial issue). In the US, as we know,
Greenspan's FED decided several years ago against heavy regulation of the
payments business, and most industrialized countries chose to follow suit.
That would probably end up attracting unwelcome attention by the
regulators. Besides, wouldn't that require some sort of fractional
banking, resulting in a money supply multiple of the monetary base by an
unstable multiplier, and ultimately bringing back the disadvantages of
fiat currencies?

@_date: 2004-11-12 17:53:07
@_author: Enzo Michelangeli 
@_subject: China's wealthy bypass the banks 
Re: China's wealthy bypass the banks
Tyler Durden
Wed, 10 Nov 2004 14:56:08 -0800
Actually, that doesn't apply to any century. The ancient philosophical
school that inspired Mao Zedong was actually Legalism, which provided the
theoretic foundations to the absolutist rule of Qin Shi Huangdi (to whom
Mao liked to compare himself). Mao, as many other Chinese reformers and
writers of the early XX Century, hated Confucianism as symbol of China's
"ancien regime" and decay. Which is why the campaign against Zhou En-lai
of 1974-75 had an anti-Confucian theme (see e.g. the posters at
 )
Legalists and Qin Shi Huangdi himself were pretty nasty types, and their
domination saw widespread confiscation of books, ridiculously harsh rule
(arriving late to work could bring the death penalty!) and large-scale
assassination or rivals: several Confucian philosophers were buried alive.
The ruthless methods of the Qin dinasty ultimately resulted in its
downfall: it only lasted one and half decade (221 - 206 BC), half of what
Maoism did.
By comparison, Confucianism was remarkably enlightened, which is also why
Voltaire expressed a good opinion of it. Some Confucian philosophers like
Mencius (372-289 AC) were early theorists of people's sovereignty:
"The people are the most important element in a nation; the spirits of the
land and grain are the next; the sovereign is the lightest [...] When a
prince endangers the altars of the spirits of the land and grain, he is
changed, and another appointed in his place."
[Mencius, Book 7:  ]
...and of the right to tyrannicide, justified by the loss of legitimacy
brought by misrule:
"The king said, 'May a minister then put his sovereign to death?' Mencius
said, 'He who outrages the benevolence proper to his nature, is called a
robber; he who outrages righteousness, is called a ruffian. The robber and
ruffian we call a mere fellow."
[Mencius, Book 1:  ]
