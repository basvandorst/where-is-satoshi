
@_date: 2007-07-16 18:12:18
@_author: FreeDMoney SVN 
@_subject: [freedmoney-svn] r247 - trunk/src/cash 
Author: rachel
New Revision: 247
   trunk/src/cash/init.cxx
create directories before opening database
Modified: trunk/src/cash/init.cxx
--- trunk/src/cash/init.cxx	2007-07-16 16:21:03 UTC (rev 246)
+++ trunk/src/cash/init.cxx	2007-07-16 17:12:17 UTC (rev 247)
 -194,6 +194,18      int count=0;
     Db_Sqlite3 db;
+    // Create directories
+    if (!areDirsCreated())
+        {
+        std::cout << "Creating Dirs" << endl;
+        if (!create_dirs())
+            {
+            throw runtime_error("Cannot create Dirs");
+            }
+        }
     db.open();
     //
 -246,17 +258,6          db.Exec(sql);
         }
-    // Create directories
-    if (!areDirsCreated())
-        {
-        std::cout << "Creating Dirs" << endl;
-        if (!create_dirs())
-            {
-            throw runtime_error("Cannot create Dirs");
-            }
-        }
     count=0;
     // read issuer details from DB
freedmoney-svn mailing list
freedmoney-svn at freedmoney.org
--- end forwarded text
