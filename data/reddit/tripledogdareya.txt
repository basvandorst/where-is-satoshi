@_author: tripledogdareya
@_date: 2018-01-02 01:53:31
Maintaining a channel has a cost to your partner as well. If you leave a channel open without transacting over it, they are liable to unilaterally close the channel if it becomes an inconvenience or for them to charge an increasingly obnoxious relay fee. If the on-chain transaction fees are high, you'd be stuck paying the high LN fee or the high mining fee. 
@_date: 2018-01-03 19:22:01
Rebalancing requires routing transactions through other nodes, subject to fees. If the wallet is unable to assess the route selected, a compromised node could be made to select attacker-controlled, high-fee routes as a means of extracting funds.
@_date: 2018-01-03 14:41:54
A home node could potentially work. Using a third-party node would be a form of centralization, remove anonymity, risk censorship and higher fees.
@_date: 2018-01-21 01:06:01
It's not illogical to discuss problems even without an immediate solution to offer. Perhaps the problems are not really problems at all. Or maybe they indicate a major change in approach is required. My limited research into the issue is not nearly sufficient to provide direction beyond "perform additional research," but at least it exposes an area that _needs_ more research. Until that research is performed, the problems mitigated, or the issues shown not to affect a given use case, users may want to adjust their expectations of the privacy provided accordingly.
@_date: 2018-01-12 01:15:50
Who said anything about failing? (Haven't gotten to _that_ fun, yet.) This is just about abusing the basic routing requirements of the network to manipulate the options available.
@_date: 2018-01-10 23:02:05
If Segwit adoption is ineffective at reducing the on-chain fees to a point where Lighting adoption is feasible, would you at some point seek a block size increase to help alleviate the costs? At what point would that be appropriate?
@_date: 2018-01-14 22:43:17
Just want to make sure you're equipped with as accurate of information as possible. Best of luck on your crypto-adventures.
@_date: 2018-01-25 16:43:53
While it's always possible, I don't think it's very likely that FinCEN flips the opinion on miners without a change in the regulations themselves. The regulations are intentionally written to be all-encompassing, giving FinCEN significant leeway in carving out exceptions. Say what you will about the nature and intent of the regulators, FinCEN does a reasonable job of explaining the reasoning behind their decisions. Consistency in reasoning is essential for their decisions to be upheld when challenged. To alter the existing Administrative Ruling without some fundamental change to the nature of mining activity would undermine the reasoning of unrelated rulings that happen to share properties used in the current decision.
@_date: 2018-01-22 23:51:44
1. The private key used to manage a channel is the same key required to close the channel on-chain. Every time you negotiate a new balance with your peer, you're signing a valid transaction to distribute the coins committed during the funding transaction.
2. A hacker stealing those keys can close the channel, moving funds on-chain or negotiate new balances to steal funds on Lightning Network.
I don't think tiered keys would be a workable solution without a major change to the signature scheme. You could offload signing functions to a dedicated system and perform fraud analysis of transactions before signing them. You're just _moving_ the problem, not really solving it though.
Detecting malicious transactions is likely to be a challenging as well. Rebalancing and routing are unlikely to be zero-sum activities. You receive fees when routing (even if you don't request them) and send fees when rebalancing (unless you can find a net-zero route). They also involve transactions on different channels, so you'd need to correlate those. That might be possible with an anti-fraud system, but almost certainly rules out a key-based solution since the contracts are executed independently.
@_date: 2018-01-12 18:53:56
It's not about the _ability_ to find a route, but the security features of the routes you _can_ find. Onion networking is meant to hide the source and destination of traffic, and its use in LN claims to have similar properties. It is obvious by the nature of how nodes are connected that this cannot be so. At a minimum, the per-hop mix qualities are exponentially degraded from their TOR counterparts. When we also consider the ability of intermediary nodes to manipulate the route options available on other nodes and to construct intentional paths, we can see that given a specific target there are techniques that can reduce or eliminate the protections.
@_date: 2018-01-11 03:39:08
It's deeper than that. Attempting to map complexly interdependent transactional networks to layers of the OSI model is simply techobabble.
@_date: 2018-01-20 18:57:38
I'm not very good at the whole FUD thing, then.
The Lightning Network design documents make specific claims about the privacy provided by the onion routing implementation. I find the accuracy of these claims questionable and have presented my reasoning as a falsifiable critique. If my reasoning is flawed I've provided a sufficient view of my understanding that it should be relatively easy to correct.
@_date: 2018-01-15 14:56:39
Somewhat ironically, highly-connected hubs could make Lightning Network's onion routing exponentially more effective, at the expense of centralization and the regulation that would invite.
@_date: 2018-01-20 20:16:43




The proposed constructs are one possible way for an adversary to influence and determine the route length. The contrived hops could be stretched out into long paths intended to exhaust the maximum possible route selection. This would ensure the adversary controls (or at least has deep knowledge of) all the hops belonging to construct, greatly reducing the number of remain hops that can meaningfully contribute to the mix.


There is no alteration of the route chosen by the source. In some strategies the adversary may force route failures, causing the source to attempt a new route, but the source still makes that decision. The adversary influences the source's decision when finding/selecting a route through their control the choices from which the source can pick.
@_date: 2018-01-14 19:10:37
Unfortunately for the beginnings of your research, **I** am the source of these assertions. I can provide some pointers to where you can begin to look for holes in my claims, however.
The design of  Lightning Network is best described in the [Basis of Lightning Technology (BOLT) documents]( 
[BOLT  P2P Node and Channel Discovery]( covers the importance of channel announcement in providing the ability for sources to construct routes.


It further describes how that announcement is accomplished.


[BOLT  Onion Routing]( describes the requirement that intermediary route hops share a channel.


This requirement, when met with the channel announcement mechanism for route discovery, results in the immediate collapse of a primary assurance offered by the Sphinx protocol, on which Lightning's onion routing is based. This assurance is described earlier in the same document:


Because the state of channels is broadcast to all nodes, an intermediate node knows the **very limited** set of viable hops _before_ their predecessor and _after_ their successor. In the case where there is only one such hop, the intermediary can know with extraordinary confidence the network identity of `n_i-2` and/or `n_i+2`. If there are no viable channels _to_ their predecessor or _from_ their successor, the intermediary can know with extraordinary confidence that `n_i-1 == n_0` or `n_i+1 == n_r`, respectively, and consequently their own position in the route.
That's just a start, of course, demonstrating that the design of onion routing on Lighting Network does not satisfy the claimed properties. My additional claims build on this breakdown and other properties of the Lightning Network that can be researched in the BOLT documents.
@_date: 2018-01-30 14:31:42


Have any examples of blockchain-related patents?
@_date: 2018-01-26 21:29:55
Have you an alternate interpretation?
@_date: 2018-01-15 01:07:43
That may be the case, I cannot speak with authority for FinCEN or to what extent they would attempt to regulate non-profit use of LN.
I'm quite certain, based on previous findings, that profitability is not strict requirement for an activity to constitute business. Regardless of how draconian the government is in enforcing regulation against individuals, efforts against larger, law-abiding businesses would likely be effective at reducing mass adoption of Lightning Network, decreasing its utility to participants. If the majority of transactions on Lightning Network are limited to commerce intended to evade government regulation, they may be encouraged in deeper infiltration of the Network.
@_date: 2018-01-14 17:55:28
Money Transmitter regulations do not apply strictly to currency.






@_date: 2018-01-10 16:43:20
You're right that the impact to privacy is substantial. I wouldn't be so quick to discount the financial motivation, though. Consider, once the attacker has used this manipulation to build a profile of your transaction patterns they can make the attack far more specific. Say they detect you receive a paycheck payment every Friday between 4 and 6pm. Now on Friday evenings they manipulate your channel state such that the only viable route is through nodes they control. Either the sender pays whatever fee the attacker asks or you can't get paid. They could hide this rent-seeking several hops deep in the route and only enforce it on the days and times when you regularly receive (or send) payments. It would be very difficult for you or the payroll provider to prove which of you is being manipulated. You not getting paid is really not an option, so they're going to have to cough up the transaction fee.
@_date: 2018-01-26 20:26:33


@_date: 2018-01-10 05:54:28
Lightning doesn't work that way. Once you've depleted Joe's channel in a given direction no more transactions in the same direction can occur on that channel until sufficient funds have moved in the opposite direction.
The 0.1 BTC that Joe received during the relay **remains** Joe's. He can do with it as he wants. The 0.1 BTC he forwarded comes from the funding of the outbound channel, **not** the inbound channel.
@_date: 2018-01-21 18:55:01
You say that as if they'd be opposed to such an outcome.
@_date: 2018-01-10 15:49:19
Security is a hard problem. You can't just "set up a secure LN node" and be done with it. To achieve an adequate level of security you must adopt consistent proactive and reactive processes, continuously testing, validating and improving.
Mitigating spam or the manipulation attack I mentioned is tricker than you suppose, too. The relay fee for a channel is broadcast _before_ transactions are sent. That information is necessary for the sender to find a route. You can proactively adjust the fee to entice traffic in a specific direction, but you cannot alter the fee in response to a transaction without causing a failure. If the attacker is able to influence enough of your capacity in this way, they can similarly assign super high fees to relay over the channels they've permitted, reducing the ability for you to naturally rebalance. At that point, if you want to send any funds your *only* choice would be to pay their fee or close the channel.
@_date: 2018-01-10 17:18:18
BCH is willing to accept huge blocks and a massive blockchain because they believe that, despite the  obvious consolidation of mining to those capable of supporting the huge blocks, the competing self-interest of the miners is sufficient to compel honest behavior. They don't believe the validation performed by non-miners is of particular value.
BTC, holding an opposing view, should have no problem achieving consensus on the block size restricting soft fork, or at least forcing it via UASF if the non-mining majority feel the growth rate threatens cost-effective validation.
@_date: 2018-01-27 03:07:01
Ideally this is true, but the topology restrictions inherent to Lightning Network and its channel-based connection mechanism affect the privacy that onion routing can obtain. [Lightning developer Rusty Russell agrees that comparisons to Tor are misleading.](
@_date: 2018-01-10 00:41:01
I don't know where you would have read that. It is inaccurate, regardless. Transacting on LN is an interactive process. Your node has to be online to participate and, unless you want to coordinate coming online to transact with senders, the node needs to be online all the time.
@_date: 2018-01-25 00:31:19
Privacy is one of Lightning's highly touted features.
Bitcoin is _intentionally_ not private. Properly used, its pseudoanonymity can make it exceedingly difficult to correlate disparate transactions. Even with poor opsec, the correlation is often limited to implication.
Lightning weakens that pseudoanonymity by explicitly correlating transactions with a long-term node identity and promises a measure of transaction privacy in its stead. If that privacy is weaker than users are lead to believe, they risk exposing transaction relationships they'd rather keep secret.
@_date: 2018-01-14 05:36:16
The examples given so far are very basic, just to demonstrate the ability to control routing decisions. If Alice is actually just one of Sybil's many identities, she can hide the manipulation several hops deep. You don't know that Alice is to blame for the manipulation and unless you're opening channels with trusted third parties, you can't know that they aren't just another of Sybil's identities. Even then, you can't know how much influence Sybil has over them. Things start to get really interesting when Sybil has influence over subgraphs in the network. A lot more research to be done here.
@_date: 2018-01-26 03:11:40
Oh boy, that's a really big question deserving of its own post. As if my reputation in these parts wasn't tarnished enough...
Short answer: Lightning Network opens the door for all types of correlation.
Long answer (at least partial): 
@_date: 2018-01-25 14:39:08
I'm not entirely sure I understand the structure you're proposing, but I fail to see how this works without the exchanges relaying. If I understand correctly, you're suggesting that users could have a channel open direct to an exchange and use that to top off their other channels. However, balances are not directly transferable between channels; the user would need to send the funds back through the exchange and have them relay to another channel in order to top it off.
@_date: 2018-01-03 19:54:17
A channel balance that cannot fall below a given amount is reduced in utility. It could still be drained to that limit at which point... it's useless? Or it gets topped up and drained again?
Transactions will rarely ever be balanced, they have to pay fees. The wallet could be configured with an acceptable fee limit, but that is just a cap on how much can be extracted per transaction.
For the hardware wallet to be aware of all its channels and balances you're adding extra functionality and state. This is possible but adds complexity to the device, increasing its cost and security footprint. This would be more efficiently handled by an external system with strong security, regular auditing, etc. Leave the HSM to what it is good at, protecting key material.
@_date: 2018-01-26 19:36:01
That document covers all three types of entities that FinCEN recognizes: administrators, users, and _exchangers_. Entities we usually think of as _exchanges_ certainly fall into the _exchanger_ category, but not exclusively. The _exchanger_ label applies to entities "engaged as a business in the exchange of virtual currency for real currency, funds, or other virtual currency."
Don't let that "as a business" bit fool you. FinCEN interprets that differently than you or I might. It has nothing to do with earning profit or operating as a formal business. They consistently use that in justifying _exclusions_ from the rules by determining if the activity that would otherwise constitute money transmission occurred as an ancillary act to other business. For instance, the cashier at a grocery store accepts funds from a customer and transmits them to the store by placing them in the till. She is excluded from the definition of money transmitter because she is engaged in the business of _selling groceries_, not in the business of _transfering funds_. 
@_date: 2018-01-11 04:12:06
"Broadcast of transactions on the Bitcoin network" is so fundamentally different from "broadcast of bits on a wire" in both form and function, that the cross-application of layering strategy is misguided. To then use that comparison to justify a strategy because they use common words to describe very different things that happen to share _a_ property is absolutely deceptive.
@_date: 2018-01-27 02:53:23
Yes, you can run a lightning node and refuse to relay transactions. This would limit some potential use cases and the reduced utility offered to your peers  would increase the relative cost of maintaining channels with you. This might lead them to seek higher fees on your transactions.
Alternatively, since you don't route transactions your peers can know that transactions originating from your node are sent by you. This potentially leads to several monetization strategies, ranging from rent seeking to selling your transaction profile, maybe even up to blackmail if they detect illicit transactions to/from your node.
ISPs only transmit data. Lightning nodes (likely) engage in the regulated activity of _money transmission_. When data transits an ISPs infrastructure, no currency-denominated funds are exchanged between the routers. That type of value transfer is precisely what occurs when Lightning nodes route a transaction from sender to recipient.
@_date: 2018-01-21 01:44:31
You're welcome to your opinion of my approach. Part of that approach is to avoid offering direction in haste. I do not presume to instruct others as to what they should do - I try not to, anyway.
Designing distributed anonymity systems is not my specialty. Understanding how systems work and why they break is. I reckon that I _do_ have more to contribute, but doubt it will come in a form more to your liking.
@_date: 2018-01-16 21:36:40
LN is a step towards increased privacy, but reduced pseudoanonymity. Unfortunately, the privacy claims are overstated, so the tradeoff may not be so ideal.
@_date: 2018-01-20 18:28:16
I've been digging into the literature a bit, but not actively working on an alternate solution. My research has been far from exhaustive, but I haven't found anything to support Chaum-style mix networks over restricted topologies. Mix cascades and probabilistic routes over sparse graphs are examples of restricted topology mix networks, but those don't seem to lend themselves to decentralized value transfer.
It may be that onion routing is the best solution available. Not having a better way on offer has no bearing on my assessment of the claims made of the existing design. It is better that we explore the edge cases and limitations that might apply early rather than too late.
@_date: 2018-01-10 15:39:41
Some people insist on being their own worst enemies.
@_date: 2018-01-22 14:36:00
[Comparisons to Tor are misleading.](
Onion routing as applied to the Lightning Network breaks some assumptions of the technology. The affect on privacy is not fully explored.
@_date: 2018-01-14 05:17:30
When Alice controls your second channel, she can fail to route your attempts at rebalancing with Bob.
You don't know that a transaction has been routed through you until it  reaches you in-flight. You may refuse to route it at that point if you'd like, although regularly causing route failures will reduce your node's utility to your partners and may result in them closing the channels you share. This also impacts your ability to mitigate via fees. Ignoring the fact that Alice may be willing to pay those fees in order to capture your transaction flows, the fees are announced _before_ the transaction route is determined by the sender. You have no chance to consider the impact of a set of transactions until they have already reached you. Again, you have the option to fail them, but you're only reducing the threshold Alice must reach to deplete that channel. You're making the attack _less expensive_ for Alice!
A third channel does introduce some challenge for Alice. Adding channels is no panacea, however. Her control over your routing options is limited to the funds she is able to capture on channels she influences. The share of your cumulative channel funding that Alice can affect will determine her capabilities. Things start to get really interesting when Alice has influence over subgraphs. It helps, if course, if she's very well funded.
@_date: 2018-01-12 06:14:38
Receiving more than you spend is the objective of _most_ businesses. People... Ok, not so much there.
I'm not outright dismissive of LN, it just has a lot of tradeoffs that limit it's mass appeal. The operational complexity is quite high, its privacy features questionable, and the security model ... damn near suicidal for small businesses (and many big ones). With high pressure to perform right out of the gate, this is not a recipe for successful adoption.
@_date: 2018-01-26 22:58:45
Don't let that "as a business" bit fool you. FinCEN interprets that differently than you or I might. It has nothing to do with earning profit or operating as a formal business. They consistently use that in justifying _exclusions_ from the rules by determining if the activity that would otherwise constitute money transmission occurred as an ancillary act to other business. For instance, the cashier at a grocery store accepts funds from a customer and transmits them to the store by placing them in the till. She is excluded from the definition of money transmitter because she is engaged in the business of _selling groceries_, not in the business of _transfering funds_. 
@_date: 2018-01-21 16:48:51
Segwit fee discount only applies when you _spend from_ a Segwit output. Funds in a non-segwit wallet will pay non-discounted fees if and when you spend them.
@_date: 2018-01-09 20:29:39
Send and receive keys are the same. In order to receive payments without coordination, your node *must* be online with autonomous ability to sign using the private keys that manage your channels.
@_date: 2018-01-16 23:10:53
By explicitly associating many transactions across multiple payment channels to a node identity, the pseudoanonymity offered by Lightning Network is strictly reduced from that achieved by transacting on-chain. It is claimed that the transactional privacy Lightning Network provides (of which Bitcoin intentionally provides *none*) is a sufficient substitute for this deficiency, or even preferable.
@_date: 2018-01-12 00:06:56
Automatic rebalancing makes nodes increasingly vulnerable to route manipulation. Yah!
Onion routing is effective when the nodes are perfectly interconnected, unable to influence routing decisions, and gain no information to help distinguish potential paths. None of that is true on Lightning Network.
@_date: 2018-01-26 19:16:52
That's an understandable reason to care about KYC.
@_date: 2018-01-20 20:01:09
The design documents makes specific claims of the privacy provided. If those claims are inaccurate, users should be made aware of that fact. Perhaps the conditions that can lead to a violation of privacy can be avoided or worked around, but we won't know to do so if we are unaware of the risks.
@_date: 2018-01-09 20:36:03
The intermediaries know the approximate amount of the transaction. With that knowledge and an a graph of the network channel state (necessary for all nodes to identify routes), they can estimate the possible routing paths many hops before and after them. Using more active methods, they can gain greater confirmation of their estimates and even proactively manipulate the availability of paths to and from other nodes.
@_date: 2018-01-18 23:23:10
Specifically claims made by the developers, in the developer-focused documentation for Lightning Network. Although, these claims have been repeated in various venues by many people.


@_date: 2018-01-26 15:45:10
You may be interested in a previous post, calling out the importance of node security.
I think I will need to revisit some of the topics discussed there, in particular the auditing of node/transaction behavior. At the time my focus was mainly on the risks to a compromised node. With better understanding of the limitations of onion routing, I think there needs to be more analysis of the _network's_ behavior to help identify potential sybil constructs or other attempts to manipulate channel state, both locally to the node and deeper in its routes. That is a very complex topic though, and I'm not sure I'll be able to do much more than scratch the surface.
If people are actually interested in the success of Lightning Network, they've got to overcome the tendency to declare all challenging information FUD. No matter how great the developers are, there is always a tendency to myopically focus on how a system is _intended_ to function, and miss out on potential risk areas. I think the implementation of onion routing serves as a good example if this. On the surface it seems to solve several immediately challenging issues, but the overall design and requirements of the network results in a degraded guarantee of privacy than might otherwise be assumed. Hopefully posts like these will gain some traction and help reverse the trend toward knee-jerk, reactionary denial of valid security considerations.
@_date: 2018-01-22 17:28:37
Lightning Network uses source routing and hides the routing control data in an encrypted _onion_. The sender creates that onion and each hop is only able to decrypt the layer intended for it, receiving just enough info to know where to send it next. The warehouse doesn't know the final destination, and if it tried to send it on a different next-hop, that hop wouldn't be able to decrypt the next layer of the onion.
@_date: 2018-01-20 21:14:32
I struggled with the title a bit. The _appropriateness_ I'm specifically thinking of is if onion routing _can_ be effectively applied to a restricted network topology comprised of untrusted, decentralized nodes controlling the availability of route options. My understanding is that this topology is incompatible with the strong privacy guarantees that onion routing can achieve. It may be the case that I am mistaken in that understanding or that I'm missing some quality of the network's topology that makes it viable.
@_date: 2018-01-11 01:01:16
How long are you willing to wait for Segwit and L2 to be effective? What conditions would indicate success or failure?
Edit to stir the pot:




@_date: 2018-01-14 16:44:07
You know my arguments, wanna take it from here?
@_date: 2018-01-10 22:36:06
To the extent that Segwit is able to double the number of transactions, it has the same bloating effect on the block chain as a straight 2MB increase would have. Segwit doesn't make transactions smaller, it just measures them differently.
@_date: 2018-01-26 14:14:51
This post isn't about attacks or vulnerabilities. I'm just exploring some of the data that may be exposed to an analyst and useful for deanonymizing Lightning node operators. Once we know what weaknesses exist, we can begin to consider defenses around them.
To be fair, these discussions haven't netted me all that much karma.
@_date: 2018-01-20 19:21:58
More specifically, that to be a next-hop candidate the peers must share a sufficiently funded _and_ balanced channel.
There may be additional limitations that can be known. For instance, there is are adjustable limits for in-flight HTLCs and minimum balance on a channel. These lead to active strategies by which an adversary may be able to _better_ know the suitability of given channel to service a hop.
@_date: 2018-01-21 20:52:55
Exchanges are explicitly covered under money transmitter regulations, which will prove a significant hurdle for the on-ramp function from fiat that exchanges currently provide. I'm not saying these things are insurmountable, but it will not be a swift nor painless transition.
@_date: 2018-01-09 17:38:00
Unfortunately the application of onion routing on Lightning Network is far from ideal. Unlike TOR nodes, which are perfectly interconnected via the internet, Lightning nodes are point-to-point connected by their payment channels and only channels which are sufficiently funded and appropriately balanced can be used to route a transaction. This greatly weakens anonymity as analysis of the network can reduce the possible sources and destinations to a manageable level. 
As if that wasn't bad enough, channel state is broadcast to the network, necessary for the source routing required of the scheme, but further impacting the protection provided. The same information necessary for successful routing provides an observer valuable data from by which to deanonymize transactions.
And it still gets worse. The balance limitations of channels allows a well-connected, well-funded adversary to selectively _manipulate_ the route options of _other nodes_! By intentionally passing transactions through those nodes' channels, maximizing their send or receive capacity, they can entice transactions toward routes over nodes they control. Since they control the availability of all subsequent hops, they can construct paths to help identify the transacting parties.
Onion routing works for TOR because it is a second layer built on a fully interconnected network. Nodes have no ability to choose their route neighbors and cannot affect the routing decisions made by the users. Nothing about the traffic limits the route selection and an observer cannot monitor network state changes without observing the entire internet. Lightning Network shares *none* of these properties, and the promise of onion routing is degraded beyond recognition.
@_date: 2018-01-19 18:24:10
Channel peer selection may have a significant impact on the privacy of your transactions and even the security of your funds. Leaving that choice to your wallet provider is a substantial investment of trust.
@_date: 2018-01-19 04:45:19
Finding a path on Tor is super easy. A user (via their Tor client) can just select any nodes in any order, since all the nodes are perfectly interconnected via the internet. Pathfinding is far more difficult on Lightning Network because the nodes are not perfectly interconnected; each hop on the path must share a sufficiently funded and balanced channel with the hop before it and the one after it. Not only does this require significantly more work to be performed by the client, it also degrades the privacy properties of the paths discovered.
@_date: 2018-01-27 03:47:32
Sure, if the faucets aren't opening the channels the capacity concern isn't an issue. As long as the faucet can find routes to the users that will not impose fees, that could work. It could be a promotional idea to encourage users to open channels with a participating hub.
While there is nothing wrong with that idea, I wouldn't encourage users to select channel peers based on offers of free pocket change. Lightning's restricted topology and channel-based connections give peers more control over transaction privacy than many people expect. While I don't have any good metrics by which to judge peer-worthiness at this time, promotional gimmicks are unlikely to be high on that list.
For more details on the limits of Lightning's onion routing and some of the data that could be exposed to peers, check out the following posts:
@_date: 2018-01-15 00:23:36
I've been meaning to respond to that initial question. Sorry to have left it unanswered so long. To do so honestly risks appearing grandiose and, perhaps, more than a little insidious. But because you have asked in apparent good faith, I will reply in hopes of similar reception.
I feel it best serves my immediate purposes that u/tripledogdareya remain a Reddit-specific persona. This choice has painted me into a bit of a corner as, having started the discussion on Reddit, I cannot very well go about kicking hornet nests in other venues without drawing obvious connections. And so, I limit myself to the tools available to this persona until such time as the public discussion receives sufficient attention to disassociate my participation elsewhere.
I am aware that this is not the most efficient method for disseminating these issues. My choice to proceed in this manner exposes me to accusation of shilling. The issues I present may be disregarded by those unable or unwilling to acknowledge them. The few voices willing to honestly engage this discussion, however, help me to improve the quality and accuracy of my position.
Thanks for being one of the engaged.
@_date: 2018-01-14 20:45:31
By explicitly associating transactions across multiple payment channels to a node identity, the **pseudoanonymity**  offered by Lightning Network is *strictly reduced* from that achieved by transacting on-chain. It is claimed that the transactional **privacy** Lightning Network provides (of which Bitcoin intentionally provides *none*) is a sufficient substitute for this deficiency.
It is apparent that the privacy claims are exaggerated, at best, and dependent on the behavior of untrusted third-party intermediaries. It may still be sufficient, particularly for uses cases which do not rely on strong privacy or pseudoanonymity. Users who _do_ desire those features need to closer assess the trade-off between them and determine if the privacy that Lightning Network is actually capable of providing is worth the diminished pseudoanonymity.
No one is well served by promulgating factually inaccurate claims about Lightning Network's privacy properties. Example of these inaccurate claims include:
* Intermediate hops cannot know about the other hops in a route other than their immediate predecessor and successor.
* Intermediate hops cannot know their position in the route.
* Intermediate hops cannot know if their predecessor is the originator or their successor the receiver of a transaction.
There exists conditions under which an intermediary hop most certainly **can know** these facts. These conditions are met in some of the most commonly cited use cases for Lightning Network.
@_date: 2018-01-11 18:30:59
Exchanges operate hot wallets and we rightfully chide them for their poor security practices when they get hacked. If the people for whom operating a hot wallet is a core business function can get it so wrong, what chance do mainstream merchants have? They can't even keep their customers' credit card numbers safe.
@_date: 2018-01-17 03:55:39
Who you are is a matter of anonymity, which both Bitcoin and Lightning reduce to pseudoanonymity. To function with either, you must be identified by a pseudonym in the form of cryptographic keypairs. If your true identity is ever linked to the pseudonym, all activity traceable to the pseudonym is similarly linked to you. Used as intended, with a new pseudonym for each transaction, Bitcoin results in only weak links between multiple transaction. Even when one spends the change from a previous transaction association between the public keys involved can only be inferred. Lightning Network's channels are intended to be reused for many transactions. Lighting also associates multiple channels with a single node identity. This results in explicit linking of multiple transactions to a channel and multiple channels to their node.
The fact that you've engaged in a transaction and with whom are matters of privacy. Under ideal privacy, no one would be able to know that you have engaged in a transaction or with whom. Ideal privacy is not particularly useful for most transactions, so we generally reduce that requirement to confidentiality between the counterparties. Bitcoin eschews privacy entirely, under the assumption that sufficient pseudoanonymity prevents meaningful interpretation of public transaction information. Lightning Network seeks to provide a means to keep transaction information private from network participants and confidential between counterparties.
If Lightning Network succeeds in achieving transactional privacy, the reduced pseudoanonymity may be an acceptable trade-off for many users. If the privacy of transaction information is not assured, the reduced pseudoanonymity would permit the explicit association of transactions, regardless of channel, to the node identities of the exposed counterparties. If the true identity of one if these counterparties is exposed, they would likewise be explicitly linked to the transactions.
The implementation of onion routing used by Lightning Network is largely borrowed from Tor. However, the purpose of Lightning Network - a trustless value transfer system - results in requirements that do not apply to the Tor implementation. These requirements result in the potential for conditions under which an intermediary may know more about other hops than is desirable. In some cases this can even allow an intermediary to ascertain the source and destination of a transaction with extraordinary confidence. You can find additional details on the failure of onion routing as applied to Lightning Network in the following comment:
 
@_date: 2018-01-14 02:53:05
Hops on TOR do not require that the nodes share a direct connection. Every node is perfectly interconnected by the internet. A route constructed across TOR nodes can choose *any* node in the network for each hop.  If nothing else (and there is *a lot* else) it is obvious that the per-hop mix quality of onion routing on Lightning Network is exponentially weaker than on TOR.
The requirement that nodes share a direct connection gives them control over the route choices available to you.
@_date: 2018-01-25 20:31:22
How about Rusty Russell:


@_date: 2018-01-09 17:16:10
In order to receive payments without manual coordination with the sender, your Lightning Node must act as a hot wallet with autonomous access to the private keys used to manage channels. Unlike on-chain payments, LN nodes must sign channel commitment transactions when receiving.
@_date: 2018-01-13 22:54:43
Since the channel with B has been depleted in your direction it can no longer be used to receive until you send from it.
@_date: 2018-01-02 16:12:27
It doesn't make transactions any smaller, in fact it can make some transactions _bigger_! Segwit enables the use of some extended space for the witness data, fees for which are currently calculated with a discount.
@_date: 2018-01-12 02:14:40
It's not really a vulnerability so much as a design failure. That's why I ask what state would satisfy your doubt - if you can't see the issue as presented, I'm not sure you'd grasp it any better in a demonstration.
@_date: 2018-01-02 02:40:20
Intermediate nodes are always adjacent to someone. Even if, and perhaps _moreso_, you were smack in 'the middle' of the network, your node's utility to your channel partners is predicated on its availability, channel balance, and total funding. If you're not providing sufficient utility, maintaining channels with you is economically untenable.
@_date: 2018-01-02 23:49:35
Do you want to receive payments without having to manually coordinate with the sender to be online?  Do you want to make your channels available for others to route over, earning some small fee for your self? If _yes_ to either of these questions, then your node will need to be always-online with autonomous signing capabilities - access to your channels' keys.
If you just want to send payments then your node only needs to be online while transactions are being executed. Under ideal conditions this should only take a matter of seconds, but under non-ideal conditions could take longer and if you go offline your channel partner may be forced to unilaterally settle on the blockchain.
@_date: 2018-01-03 03:08:58
Cross chain swaps would happen by transacting on two channels, one backed on either chain. In the simplest set up you would share two channels with a single partner, one BTC and one e.g. LTC. You issue an HTLC on the BTC channel requesting some amount of LTC be credited on the LTC channel. The partner issues an HTLC on the LTC channel requesting the secret required to complete the BTC contract. You claim the LTC by releasing that secret, which in turn allows the partner to claim the BTC. Swap complete.
This could be extended with any amount of routing before or after the swap, just so long as you eventually reach a node which has reachable channels for the coins you're trying to swap. It could even go further and involve a swap to some intermediate coin before swapping to the desired currency.
@_date: 2018-01-16 04:08:04
Last thing anyone needs is me on a soapbox.
u/tripledogdareya will remain a Reddit-specific persona for now and likely be abandoned when it no longer suits my purposes. If I were to generate content in another venue it would almost certainly be disassociated from this identity.
@_date: 2018-01-27 05:30:23
This is a possibility, yes. Channel updates may help indicate the path that a transaction takes through the network. Timing may be complicated as the network specifications recommend that nodes batch announcements before relaying to their peers. Just how much information on transactions can be gleaned from these communications remains to be seen. Until the network  begins to take shape and there is substantial economic activity across it, it is difficult to predict the impact.
@_date: 2018-01-27 02:06:11
That chart isn't great to work with, but make do with what we've got.
Looks like a spike in average transaction size over the last couple days. Nothing that exceeds regular variance, but barring additional evidence to the contrary, it could demonstrate an increase in batching.
@_date: 2018-01-23 01:07:07
You're debating against a misunderstanding of my argument.
@_date: 2018-01-10 02:42:48
Are you ok with a solution that requires you to entrust your private keys to a third party? You would not be using Lightning Network at that point. You would not even be using Bitcoin. _This_ is the horrid PayPal 2.0 that everyone warns about.
Thankfully, I don't think anyone (sensible) is actually suggesting that.
@_date: 2018-01-14 02:41:39
B &amp; C (all channel pairs really) announce their existence to the network, along with the fee desired for routing over that channel. C can be a monopolistic asshole, as you say, at the risk of being cut out. But what if B and C are controlled by the same entity and their channel was never meant to be used (unless they desire it)? The high fee serves to provide an illusion of connectivity, while reducing the chance A would choose that path. Unless A _really_ needs to exit that path since it is near the maximum route length (20 hops) and has close proximity to the intended destination. This is a basic start to deanonymizing transaction destinations.
Alice is not _a_ node, or perhaps more clearly stated, Alice is only _one of many_ nodes controlled by Sybil. Sybil can disguise her activity by hiding it several hops deep in the artificially constructed routes she provides to the victims. Abusing the pseudoanonymity promised by the use of onion routing, it may become exceedingly difficult for honest network participants to identify the evil player. Transactions designed to influence routing cannot necessarily be differentiated from honest transactions between Sybil's many identities. Route failures used to enforce her desires cannot be provably  associated with her. Using her position of power, Sybil may come to learn of patterns to your transaction behavior. She could limit the most obvious of her manipulations to target specific transactions she _expects_ you to perform.
@_date: 2018-01-13 17:05:42
Any substantial VPN provider (or at least their infrastructure) would be an obvious target for intelligence collection, willing or not. By using a VPN you're essentially outsourcing your internet-facing system administration and [FVEY hunts sysadmins](
@_date: 2018-01-18 17:22:04
That's basically the same situation, just removing an intermediate wallet. You're still limited to working with the coins committed to active channels which, in the absence of additional on-chain funding transactions, is at best fixed and realistically diminishing.
@_date: 2018-01-20 21:55:23
For one, I would like for Reddit to be an environment welcoming to technical discussion. I can't force that to occur, but I can influence the discussion that occurs here.
@_date: 2018-01-03 02:37:37
Ideally you only pay the third-party enforcement fees in the event that your channel partner goes rogue, in which case you're entitled to the full amount of the channel funding so you might still come out ahead.
@_date: 2018-01-04 16:26:30
Except that's not what we're seeing here. The address in question last spent coins in November 2010.
@_date: 2018-01-20 01:37:33
Depends on what you mean by "still be up." The channel will not just go away due to an intermittent connection. The channel exists as a product of a contract confirmed on the blockchain. Until one or both of the peers publish a transaction which finalizes that contract the channel will remain.
However, if the node or hub are unable to communicate, the channel cannot be used to transact. This is not such a hurdle if the node's primary use case is as a spending account, but it is a major change from Bitcoin for recipients.
@_date: 2018-01-26 19:20:34
Ok, Lightning transactions don't constitute payment orders. What do payment orders have to do with money transmitters? Where in the definition of _money transmitter_ does it include any mention of payment orders?




Instead of reading want we _want_ into some fragment of regulation, regardless of it's relevance, let's look at what FinCEN actually has to say on the matter. In 2013, FinCEN released a guidance document that explained their interpretation of the types of activities that entities might engage in using cryptocurrencies. In that document, they describe two forms of activity ascribed to entities they call _exchangers_. The first form, which I've excluded from the quote below, covers the conversion to/from fiat and the transfer of funds for purchases of goods. That form of activity may also apply in some circumstances to Lightning network nodes, but the second form has more universal application.
[Application of FinCEN’s Regulations to Persons Administering, Exchanging, or Using Virtual Currencies (FIN-2013-G001)](


@_date: 2018-01-26 17:33:39
Bitcoin nodes relay information about transactions, they do not relay value. Lighting nodes, on the other hand, receive value on one channel and transmit value on another, "at the direction and for the benefit of the user."
@_date: 2018-01-10 16:52:02
If consensus is that the soft fork restricting block size is unnecessary then it shouldn't be applied, right?
The blockchain will always be growing, no way around that. Block size restriction puts an upper limit on how fast it can grow, not how big it will get.
@_date: 2018-01-14 05:23:21
Alice can refuse to route your rebalancing transaction with Bob. Or she could charge you extraordinary fees to do so. That leads to an interesting monetization strategy when your node autonomously rebalances.
@_date: 2018-01-02 03:53:58
Node security is likely to be a major cost, this is even noted in the Lightning Network whitepaper.


Security is a continuous concern and, even when executed perfectly, only _reduces_ risk. It is inevitable that some Lightning Network nodes _will_ be compromised and their hot keys used to strip their balance. By announcing their payment channel information, Lightning Nodes will be broadcasting the bounty an attacker can expect to earn. While a Raspberry Pi likely has sufficient computational power to run a LN node, users expecting success with such a limited investment are in for a rude awakening.
@_date: 2018-01-18 13:40:39
There are some potential strategies malicious actor could attempt to influence routing decisions of other nodes toward nefarious ends.
@_date: 2018-01-23 01:50:50
So we agree then?
@_date: 2018-01-11 22:36:38
Because onion routing? Oh boy, have I got some bad news for you...
@_date: 2018-01-26 15:58:07


I suppose they would have to if they desire to use it with any hope of anonymity. This post lays out some of the areas they'd need to consider and adjust their opsec accordingly to compensate. It is hardly comprehensive, however.
Even for everyday users, the ones who have _nothing to hide_, I think exploration of this topic is enlightening. All of these data points can be combined and linked with other sources, allowing anyone doing the analysis to improve the profiles they built. Just consider if the data points here were collected by Facebook, how much more they might know about your online activities. We largely live in a post-privacy world, something the design of Bitcoin takes into consideration. In some ways, Lightning is a step back in terms of the sovereignty we have over our personal data. Granted, users would be voluntarily giving up that sovereignty, but let's at least take effort to make it clear just what they're revealing.
@_date: 2018-01-12 04:20:47
*Checks back of envelope. Thinks hard. Wipes egg from face.*
Right you are. So how badly does that break the attack?
* Starting again with our (now moreso) imposing number: 5^20
* Worst case scenario, we're the penultimate hop. 5^19
* We also know which channel the hop before us used.
* They must be routing between two channels. 4^18
* The channel must be sufficiently funded and balanced. They also cannot loop. This is where we have  to get a bit fuzzy. Going with 3^18.
* If we have multiple nodes (x,y) in the route we can figure out the minimum distance between them (x-&gt;y, x-&gt;j-&gt;y, x-&gt;j-&gt;k-&gt;y, x-&gt;j-&gt;..-&gt;k-&gt;y). Don't know ideal construct configuration yet but this reduces the search depth between 1 and 4 hops. 3^17 to 3^14
That's too much to be usable, but this represents collection of random traffic. When we begin to build and position collection constructs with the intent to target specific subgraphs we have more context to work from.
The more hops we control the better we can do. Since we control the channel availability of our own nodes, we can construct long routes with exits at different lengths toward monitored receivers or high density nodes. Making them progressively fee-favorable may entice long paths through them, reducing our search depth back to the source. The path and exit chosen may reveal context about the destination as well.
@_date: 2018-01-12 06:23:14
I'm working on it here and there. It's not exactly my primary focus; quite far down in the priority list. Maybe sharing my thoughts will inspire others in their own efforts. Or not, and this can remain speculative until I get around to it.
@_date: 2018-01-13 22:07:37
The source is free to select any route they like with the requirement that each hop shares a channel with the hops immediately before and after it.  Intermediaries control the availability of those channels. In the example with Alice and Bob, once she has captured your funds available for sending, you're free to select any route **Alice chooses to make available to you**.
@_date: 2018-01-26 13:50:43


Ideally that is true, however, the current implementation of onion routing exposes easily correlated data, allowing a well connected adversary to track a payment as it traverses the network. Additionally, the restricted topology and channel mechanisms of Lightning increase the risk of route capture by adversarial peers.
@_date: 2018-01-14 04:15:22
There are many strategies that may be applied via control of Lightning Network routes, I will not claim an exhaustive knowledge of them. I cannot fathom the multitude of possible outcomes or the entities that may desire them. All I can say is that the claims made of the Network's capabilities are not borne out in its design.
@_date: 2018-01-15 17:58:03
Especially terrible is that this is a issue of _strict liability_. If one were charged with violation of these regulations, the prosecution is not required to demonstrate _mens rea_, a guilty mind. Intent to perform the _actus reus_, guilty action, is sufficient. You don't have to intend to break the law, you just have to intend to perform the illegal action.
@_date: 2018-01-13 20:57:39
They also stand to be highly connected nodes, if they have the funds to keep up. That could result in  significant influence and control over the routing decisions of new participants to the network. If routing fees cannot be maintained, perhaps they will seek to monetize that influence in other ways.
@_date: 2018-01-26 03:46:19
Ideally that would be the case. However, the topology restrictions and channel mechanics of Lightning Network lead to situations where intermediaries can know more about a route than is preferable.
@_date: 2018-01-21 00:24:40
I'm not certain what the appropriate claims would look like, to be honest. Determining that requires a lot more consideration. More immediately important, however, is what happens to the qualities which derive from those claims. If they're not accurate, it may impact the usability of the network under certain conditions or use cases.
@_date: 2018-01-21 18:37:14
It's dressed up in a little bit of legalese, as can be expected, but that's fairly close to the legal definition of _money transmitter_.




@_date: 2018-01-13 06:28:44
Another potential business model would be to monetize your transaction behavior. Relying on your wallet provider (or any third-party) to select channels on your behalf is a major grant of trust. The more channels you share with nodes controlled by a single entity the greater influence they can exert over your route selection and availability. This position of trust can allow them to peel off layers of onion routing to learn far more about your transactions than you might desire. If you ever discovered their misbehavior, unilaterally closing many channels could be quite expensive.
@_date: 2018-01-13 21:15:44
Are you sure about that?
Say you have channels with Alice and Bob, both perfectly balanced by their initial funding commitments at 0.5BTC available in either direction, represented as A(5/5) and B(5/5). Alice and Bob also have channels to the network that allow them to indirectly transact.
Alice can deplete your channel with Bob by routing  0.5BTC worth of payments on your shared channel, through Bob and across the network back to herself. When these transactions complete, the channel you share with Alice is depleted toward you - A(0/10) - and your channel with Bob depleted in his direction - B(10/0). If you want to spend any funds on these channels, routes through Alice are your *only* choice.
Alice can also deplete the channels in the opposite direction. She now routes 1BTC worth of transactions across the network, through Bob, to the channel she shares with you. This leaves the channels A(10/0) and B(0/10). The only routes available for you to receive funds now must go through Alice.
If Alice is a massively connected hub or a virtual construct of many well connected nodes, she may have substantial influence on enough of your channels to control the flow of most transactions you perform. Once the flow is captured, she controls the availability of **every subsequent hop** until she *allows* you to route to a node she does not control.
@_date: 2018-01-26 21:10:20
Ok, Lightning transactions don't constitute payment orders. What do payment orders have to do with money transmitters? Where in the definition of _money transmitter_ does it include any mention of payment orders?




Instead of reading want we _want_ into some fragment of regulation, regardless of it's relevance, let's look at what FinCEN actually has to say on the matter. In 2013, FinCEN released a guidance document that explained their interpretation of the types of activities that entities might engage in using cryptocurrencies. In that document, they describe two forms of activity ascribed to entities they call _exchangers_. The first form, which I've excluded from the quote below, covers the conversion to/from fiat and the transfer of funds for purchases of goods. That form of activity may also apply in some circumstances to Lightning network nodes, but the second form has more universal application.
[Application of FinCEN’s Regulations to Persons Administering, Exchanging, or Using Virtual Currencies (FIN-2013-G001)](


@_date: 2018-01-12 01:45:29
What initial conditions and resulting state would satisfy your disbelief?
@_date: 2018-01-17 14:27:44
You don't always have to be online, just when you want to receive. You could coordinate with the sender to come online.
@_date: 2018-01-18 16:03:16
The total token supply from a given blockchain is limited to those coins committed to active channels on Lighting Network. Although you may be able to refill your BTC channels with LTC swaps, that still requires that a transaction had occurred to commit the funds. As long as you're working with coins already committed to channels, you can continue to offload those transactions to other chains. But as coins coalesce and channels close, new funding transactions would need to be performed on-chain.
@_date: 2018-01-10 16:32:17
Restricting blocksize back down is a soft fork.
@_date: 2018-01-13 21:38:28
Even low fees are problematic. If capturing your transaction flow is profitable, Alice may be willing to spend the necessary fees to do so. You can raise fees over specific channels in an attempt to keep them naturally balanced, but as fees are broadcast _before_ you know the transactions are incoming, you need to honor the previous rate for a short while or risk increasing route failures. This would effectively give Alice an extra method to DOS a channel. Keep failing routes and that channel partner may come to see you as unreliable, terminate the channel all together, and leave vulnerable to even more direct control by Alice.
@_date: 2018-01-03 02:27:39
_Someone_ needs to watch the channel to ensure that your partner does not close it unilaterally using a revoked commitment from a previous time. If no such commitments exist, which may be the case if you have never received any funds on the channel, then there is nothing to worry about. If there are revoked commitments, then either you need to periodically check that they do not use them or you must outsource that task to a third party, who will likely want a fee for doing so. They may be satisfied with collecting their fee from the funds you receive as part of executing the breach remedy, but it is yet to be seen if that is sufficient motivation. Regardless, by outsourcing this responsibility, you're placing a degree of trust in this third party to execute on your behalf.
Checking for a breach and executing the breach remedy transaction _do not_ strictly require your node to be online, but there needs to be a system online that can monitor the Bitcoin blockchain, has sufficient information to identify revoked transactions, and can publish a pre-signed on-chain transaction.
@_date: 2018-01-18 20:12:08
To the extent that they can provide the liquidity without needing to increase the total supply, that can work. But the flow of money tends to consolidate funds over time and users are likely to extract funds for various reasons. The fact that channels are limited in their total and directional capacities adds significant friction to ideal circulation, even ignoring the reality of economic transactions. On-chain transactions aren't going away and will continue to _increase_ if Lighting Network is to become mainstream.
@_date: 2018-01-15 15:42:10
If it were just data being relayed, Lightning Network would be entirely unnecessary - we have plenty of ways to relay data already. The truth is Lightning Network nodes relay far more than just transaction data, they relay the *value* of those transactions. That act, the relaying of value, is one which many governments highly regulate.
That nodes relay value is also a significant factor in the failure of onion routing as applied to Lightning Network. It results in a requirement for each hop in a transaction route to share a sufficiently funded and balanced channel with their predecessor and successor. This limits the viable paths a sender can select from when plotting their route. It provides information that allows an intermediate hop to know more about the hops before their predecessor and after their successor than is desirable. In some situations an intermediate hop may be able learn their relative position in the route, identify the network identity of distant hops, and even unmask the source or destination of a transaction.
@_date: 2018-01-20 18:43:15
The question isn't if onion routing is better than on-chain, but if the claims made of the privacy it achieves are accurate. It is likely that even if the claims need to be adjusted, Lighting Network would still provide better privacy; as you point out, on-chain offers no privacy.
Opening and closing channels has a cost in both time and money. This friction can provide a malicious actor the leverage necessary for abusive rent-seeking behavior. The ability to disguise that behavior behind a sybil-based construct could greatly complicate detection of the behavior and identification of the adversary.
The proposed attack strategies and capabilities are illustrative of the risks. They may not all be viable against a highly-aware target, but worthy of consideration when building or assessing services on Lightning Network. 
@_date: 2018-01-22 14:42:43
Route discovery is handled by the sender. Channel states are broadcast to the Network and each sender is responsible for finding a route to their destination.


@_date: 2018-01-10 06:22:38
The Bitcoin (or gold bars, if you prefer) assigned to Joe's channels are non-transferable except to the channel partner. Not even Joe can directly transfer those funds between his channels.
Let's take your gold bar example and make it work closer to how Lighting _actually_ works. Alice has two gold bars in her right hand which can only be spent by passing them to Joe's left hand. Joe has a gold bar in _his_ right hand that can only be spent by passing it to Carrol's left hand. Joe has no ability to directly move bars in one hand to the other - they can only be passed to their respective channel partner.
Now Alice wants to send Carol two gold bars, but Joe only has the one gold bar available. No problem, you say, we'll split the transaction and do it twice. With her right hand, Alice passes the first gold bar to Joe's left hand, but keeps a firm grip on it. Joe reaches out with his right hand to pass that bar of gold to Carol's left hand, also maintaining his grip.
Carol tells Joe the transaction secret which convinces him to release the bar they're holding. Carol has received her payment and now has a gold bar in her left hand.
Joe turns to Alice and tells her the secret Carol shared, convincing Alice to release the bar to Joe. Joe now has a gold bar in his left hand but his right hand is empty. All the same to Joe, though, he's got the same number of gold bars he did at the start. Alice is down one gold bar, but that was the intent, and she has proof that Carol received the first installment.
Everything is working great so far! Let's make that second half of the payment.
Again, Alice reaches out with a gold bar in her right hand, keeping a firm grasp when Joe accepts it with his left. Joe looks down at his empty right hand. Oh no, Joe exclaims, I have no bar to pass to Carol. With no bar as payment, Carol is understandably unwilling to release the transaction secret to Joe. Joe can either release the second gold bar in his left hand, shared with Alice, or wait for Alice to get tired of waiting and rip it back.
Until Carol passes that gold bar back to Joe for some reason, Joe **cannot** facilitate any more transactions in Carol's direction.
@_date: 2018-01-11 22:24:51
Just because a merchant deals in low cost products doesn't mean they can get away with small wallets. The requirement for channel balance means that a merchant's wallet must have enough capacity to accept _all_ the payments they expect to receive during the course of a expense cycle.
For instance, if the pizza parlor sells $10,000/week and pays the supplier one day a week, they need to ensure that $10,000 inbound capacity will be available. Presumably they make a profit on those pizzas, so they only pay the supplier $5000 out of the week's take. Unless they establish new channels providing the necessary additional $5000, they're going to run out of receive capacity by the middle of the week and be unable to accept any more payment!
Any use case that involves making a profit runs into this problem.
@_date: 2018-01-25 13:52:59
One of the "facts and circumstances" that FinCEN has used in the past to judge if an entity is acting as a money transmitter is if the entity has a stake in the transactions they facilitate. Due to nature of funding and balancing of channels, it is quite plain to see that a Lightning node has a stake in the transactions it relays. Miners have no stake in the transactions facilitated through their mining.
Another F&amp;C cited by FinCEN is if the activity places an obligation on the entity to transmit received value. This is one they called out in the Administrative Ruling that explicitly exempted private miners from the definition of money transmitter. Again, it is plain that Lightning nodes have such an obligation - in order to complete the HTLCs they receive they must show evidence of forward transmission by providing the payment secret.
Modern money transmitter definitions and KYC/AML regulations were written specifically to target value transfer systems, many of which are structured nearly identical to Lightning Network. They are not some kind of consumer protection that the government will turn a blind eye to if companies find loopholes. The very purpose is to give governments visibility into the movement of money. It is nearly unthinkable that they would allow Lightning Network to go unregulated when its structure and operation are so obviously inline with the intended coverage of those regulations. This is *especially* true for organizations already subject to regulation - they can't step out of line without risking their existing business.
@_date: 2018-01-23 17:25:44
Interesting research, thanks for the link!
Route control on Tor via exhaustion sounds the closest in kind to the limits of onion routing across an adversary-influenced Lightning Network. The example of Freedom Network still assumes a fully-connected graph between nodes. PipeNet makes some concession on that requirement, _approaching_ a fully-connected graph due to the randomized routing, but that doesn't seem suitable for a value transfer network with strong ownership enforcement.
Lightning Network's topology is still unique from other examples of mix networks (that I know of, admitted limited), onion routing in particular, in that an adversarial peer has absolute control over the routes extending from it. This appears an unavoidable consequence of the lower-layer scaling limitations. No matter how much work is done to mask correlation points in the traffic, such an adversary can reduce the network's anonymity set according to the properties of the contrived, necessary hops they add to any route. The adversary will always be able to correlate, with absolute confidence, the inputs and outputs of their constructs, leaving only the preceding and successive hops to meaningfully contribute to the mix. A contribution limited by the routing requirements: proximity, directionality, and capacity.
Are you convinced that onion routing is the best mix scheme to build on for Lightning Network or, in your opinion, is that still an open question?
The claims made in the BOLT documents don't stand up to scrutiny, at least not without significant qualifiers. It seems a disservice to portray Lightning, in its current form, as a providing strong anonymity when there are known data leaks which lead to correlation. Knowing of the existing issues, should user expectations of privacy using the current implementations be tempered? 
@_date: 2018-01-12 01:40:44
Wild claims of basic logic!
@_date: 2018-01-20 22:30:56
Are you aware of any research that supports the idea that onion routing can achieve the privacy claims made of Lightning Network when applied to a restricted topology? It seems self-evident to me that they are irreparably degraded in at least some scenarios.
Example: An adversary on either Lightning or Tor controlling three nodes can correlate a packet which crosses all three in an uninterrupted sequence and thus know their relative positions in the route. However, the Tor adversary has no means to _cause_ the route to do so. On Lightning, the adversary can
_guarantee_ that any route passing through such a construct must necessarily pass through all three nodes. 
Are there qualities of the current network that could be modified, perhaps with concessions in others, to satisfy the existing claims?
If not, are there other mix network designs  that may be better fit for purpose, that offer topologies supporting the requirement that value ownership can be enforced until delivery is confirmed?
@_date: 2018-01-02 02:33:47
Users cannot 'just move to a different node'. If you're not available, they cannot access the funds committed to your shared channel without settling on the blockchain. There is a cost to them in both money (miner fees) and time (HTLC timeout, since you're not available to cooperatively close).
@_date: 2018-01-20 20:55:36
To the extent that I can be said to _support_ anything, it would be that Bitcoin must use a blockchain generated by the largest pool of its work proof providers. BTC has an unimpeachable record of doing so. I *am* in favor of a block size increase, but I am hardly alone in that.
I have been accused by both r/bitcoin and r/btc of being a shill for "the other side" - though you may be the _first_ to accuse me of being subtle.
@_date: 2018-01-04 14:54:57
Deceptive; the implication of that claim is that he has the key spend the _output_ of block 9. Having the key to spend an address that _received_ from block 9 is not the same thing at all.
@_date: 2018-01-11 23:10:47
You've got the basic understanding right. In order to receive $10k worth of payments, a merchant must have sufficient balance across all of the channels in his wallet.
For this to be the case, between he and his channel partners, _at least_ $10k worth of BTC must be committed on-chain to these channels, **and** that 10k must currently be owed to his channel partner. That is to say, if the channel were to be closed at the beginning of the week, the partner would get $10k and Pizza Guy whatever remains.
As he collects payments over the course of the week, the balance will shift toward him. By the end of the week he is now owed the $10k in the event the channel were to be closed. But he doesn't close the channel since that's expensive. Instead he pays his supplier $5k for next week's sauce and dough. That shifts the balance of the channel to a $5k/$5k split.
Pizza Guy's receive capacity is only $5k, that's not enough for next week's income!
@_date: 2018-01-17 14:13:37
If Mycelium's servers are to receive payments on your behalf, they will have custodial control of those funds.
@_date: 2018-01-27 04:04:40
A Docker instance on a machine you control is certainly a step up from shared infrastructure. Take care where you get the Docker image from, undoubtedly there will be malicious versions making the rounds at some point. That could be a great way for someone to pull off one of the quieter, long term attack strategies, such as modifying routing logic to intentionally send payments through high fee nodes under the attacker's control.
If you're going to be putting a significant amount of funds on the node (per your risk tolerance), I'd recommend running it on dedicated hardware and isolated from the local network. Monitoring of network and transaction activity, along with regular security maintenance, are highly encouraged. If the node is hosted in your home and you regularly have visitors, you may want to consider additional precautions to protect it from physical attacks.
Running a privately shared node carries many of the same risks as hosting in public cloud environments. You have the advantage of picking your co-hosters, which is an improvement, but greed has been known to come between the best of friends. If responsibility for managing the environment is given to one or a limited set of the participants, they'd be on the hook should the system be compromised or funds lost due to technical issues beyond their control. It's a lot of trust and responsibility to place on someone else.
@_date: 2018-01-26 15:16:48
I don't know, to be honest. I'll have to look more into how confidential transactions will affect Lightning node correlation. I suspect that using CT to fund LN channels would have an _adverse_ affect on the confidentiality of the funding transaction due to all the other data points. That is just a naive guess, though.
@_date: 2018-01-21 00:10:25
Thanks for the encouragement! Hopefully discussion of this type will draw more of the same and inspire those who want to participate to seek greater understanding.
FUD thrives on ignorance. Knowledge is the best defense.
@_date: 2018-01-12 05:32:24
The failure is primarily in the mix-net features of routing. Although Lightning allows source routing, route options are restricted by the decisions of intermediaries. This is different than the intended use case for onion routing, where hops can be selected arbitrarily. Furthermore, transaction metadata leaks information that informs intermediaries of potential route options beyond their immediate neighbors. In particular, approximate knowledge of the value (slightly complicated by the inclusion of fees) is necessary for intermediaries to execute their relay function. However, the transaction value affects the suitability of prospective hops.
Control of route options by the intermediary makes it possible to construct contrived routes via controlled or influenced nodes intended to assist in identification of the source and destination of transactions. As the intermediaries control the set of hops to choose from and their actual availability for routing, routes that enter such a construct can only exit at points of the intermediaries choosing.
For these constructs to be of any use, we need to entice the targeted source or destination to use them. These strategies apply to either direction, with slight variation.
* If the only channel a target has available is an entry to our construct, it will offer the only possible routes over which they can transact.
* If our construct is one of several channels a target has available and they make themselves available for routing 3rd party transactions, we can degrade the availability and capacity of alternative channels while maximizing the availability of our shared channel by selectively routing transactions through the target.
* If our construct shares several direct channels with the target, direct channels with other partners of the target, or can otherwise influence the routing options of the targets immediate neighbors and beyond, more strategies can be used to manipulate their routing decisions. (More research needed in this area)
* It is hypothesized that even indirect influence over a sufficient number of a target's channel partners is can permit manipulation of their routing decisions with a high degree of reliability. (Much more research needed.)
What do these constructs enable?
* Transaction pattern analysis
* Partial-to-full source/destination decloaking, assisted by transaction value data leak
* Disguised rent-seeking
* Dynamic reconfiguration of route options and availability
* Unknown evil things. (Look at all this space for research!)
@_date: 2018-01-14 17:48:47
Is there a workable implementation of channel factories yet?
I am not sure how much they will help with the larger scale version of this attack. If Sybil has significant network presence, she _may_ be able to exert influence over an entire factory. 
Channel factories come with their own set of problems. It certainly wouldn't help if Sybil was all the other members of your factory. Even if she had a single identity in the factory she could cause it to be unilaterally closed, locking participants into the channel arraignments configured at that time.
Channel factories appear best suited for when the participants have some existing relationship that can mitigate the risk of unilateral closure. Their use may make Sybil's job easier - redundant, even - if she's attempting to cluster a set of nodes.
@_date: 2018-01-16 00:46:28
With whom? Selection of channel partners could have a dramatic affect on the privacy of your transactions and availability (maybe even the security) of your funds. Automatic selection of channel partners is an awfully big trust investment in the developer of your wallet software.
@_date: 2018-01-23 04:07:39
It wouldn't necessarily take a BTC pool to out-mine BCH. And even if it did require the cooperation of multiple miners, due to the economic incentives, we could presume in this hypothetical that they find it more profitable to dedicate some of their hash power to the task because it increases the profitability of BTC mining and/or protects wealth already acquired.
The point being, there is reason to believe the majority pool has the _potential for motive_ to act against the minority. By mining BTC instead of BCH, miners have demonstrated that they are motivated by BTC's incentives. The death-spiral theory assumes that if BTC incentives are challenged that BCH's incentives are automatically the next best thing. But that isn't necessarily the case - if BCH threatens the profitability and wealth of BTC miners, they _might_ decide it is worth the investment necessary to undermine the competition.
Personally, I don't believe that the death-spiral result would be a positive outcome for Bitcoin, regardless of its plausibility. The largest pool of work capacity switching to support an alternate history of a forked ledger would be devastating to the confidence that work source is capable of providing. I find it discomforting enough that the majority of new work was willing to switch during BCH's EDA cycles.
@_date: 2018-01-19 07:15:52
This would be highly problematic for regulated exchanges.
@_date: 2018-01-15 16:42:31
Custody of funds is not a definitional requirement of what constitutes a money transmitter. The act of receiving and transmitting value is. This relaying of value is the central function of Lightning Network.
31 CFR 103.11(uu)(5):




@_date: 2018-01-19 01:11:42
It is not my intention to offer insight into the personal motives of any developer, ulterior or overt. I am not familiar enough with the individuals nor with the full context of the project's development history to be qualified in such judgement. Attempting to do so would be a distraction from my effort to understand the design *as it exists*.
I have identified issues that I believe to exist in the design, given its intended purpose and manner of use. Based on these, I believe the security claims, especially in regards to the knowledge available to third-party intermediaries and the influence they wield over transactions routed through them, is dangerously overstated. I have little to say on _why_ those design decisions were made at this time.
@_date: 2018-01-27 02:36:20
Is your expectation that the faucet would open the channel with the user?
@_date: 2018-01-12 07:11:34
And in case you missed it, a bit more detail on those constructs can be seen here.
One of their goals would be to reduce or eliminate that exponential complexity by controlling for as many variables as possible. This appears to be possible when you have specific targets for your collection efforts. The real questions, IMO, are how much control and influence can a direct channel partner exert, what is the minimum level of indirect influence that can result in reliable route selection manipulation, and how can this be exploited for profit ($ or intel).
@_date: 2018-01-31 04:56:21
On Lightning Network, the sender selects the route. So in theory, you _could_ select routes that go through the negative-fee hop. Of course, the sender is limited in the paths available based on the state of the channels controlled by their peers, so it's also possible that that no such route is exists or, at least, any such route is cost prohibitive.
@_date: 2018-01-02 04:30:23
A low-funded node attempting to position itself between two well-funded hubs will quickly be cut out of the arrangement. If it cannot provide adequate liquidity for routing and channel rebalancing, maintaining channels with a core  intermediary becomes a liability and unnecessary fee sink rather than an asset. 
@_date: 2018-01-02 02:18:45
Have you factored in the cost of running highly-available and secure nodes for the purposes of autonomous transaction routing? Surely this has some cost that must then considered when determining if committing your wealth in this manner is profitable over simply keeping it off LN.
@_date: 2018-01-25 20:25:02
I have not seen an example of a FinCEN Administrative Ruling where custody of actual money was a determining factor in deciding if an entity was acting as a money transmitter. The regulations do cover actual money, but they extend much farther to cover receiving and transmitting any carrier of value.
I have not researched how FinCEN might apply regulations to PoS validators. It would seem there is a significant distinction between a PoS validator's deposit and a Lightning node's channel funding. While the validator uses their stake in the network to perform their function, the value of that stake is not directly involved in the transactions they validate. The value of a Lighting nodes own funds are used in the transmission while facilitating transactions.
@_date: 2018-01-10 05:43:02
You can't send the second 0.1 BTC until Joe spends the first one.
@_date: 2018-01-21 18:21:45
Lightning nodes _receive_ and _transmit_ value. This is different than carrying data about value.
Edit for evidence:
The sum total balance belonging to an intermediary does not change (absent any fees) but the the specific channel balances involved in the transaction certainly do. This is evidence that the **value** of the transaction has been both *received* and *transmitted* by the intermediary.
This can be further demonstrated if we suppose there is a failure during the transaction. Take a simple transaction between a sender and recipient utilizing a single intermediary:  `n_0 -&gt; n_i -&gt; n_r`. In the course of transacting, `n_r` completes the HTLC with `n_i` by providing the transaction secret and claiming the funds meant to be paid by `n_0`. At this moment, `n_i` suffers a catastrophic failure and goes offline until after the HTLC shared with `n_0` expires. Having not received evidence that the transaction completed, `n_0` reclaims the funds. `n_0` has all of their original  funds, `n_r` has the funds meant to be paid, and the total balance of `n_i` is reduced to make up the difference. The only way this scenario can be sensibly interpreted is that `n_i` transmitted the funds but failed to receive funds in compensation. That the system has safe guards to prevent these failures in most reasonable cases does not alter the nature of the transactions.
@_date: 2018-01-21 21:19:03
Running a Lightning node has a cost, both in terms of the funding required and the controls necessary to secure it. It will likely be difficult for hobbyists to profitably run a Lightning node without exposing themselves to excessive risk. Security is even noted in the Lightning Network white paper as a major competitive vector for successful nodes.
@_date: 2018-01-26 23:33:18
The _visibility_ of transactions is certainly reduced from on-chain, only visible to the hops through which route passes (or attempts pass, success not required). But users rely on intermediaries to keep that data _confidential_. Onion routing is an attempt to make make the transaction details _private_ by obscuring the sender and receiver. It can't really work to make the transaction content private, as the only real content is the value of the transaction, which the intermediaries must know (approximately) to execute their relay function. As previously discussed, the restricted topology inherent to Lightning's design allows adversarial peers and intermediaries to affect the anonymity users can achieve through the use of onion routing.
Taking the above into account, we can see that the actual privacy afforded to Lightning transactions is largely dependent on the behavior of the untrusted, unmonitored intermediaries. That's not particularly different from most existing financial platforms, but it is a substantial change from on-chain transactions and it doesn't line up with popular descriptions or expectations of the Network.
@_date: 2018-01-12 05:43:32
When Alice is a direct channel partner, as in this case, she can simply refuse to accept attempts to rebalance  to/from the channel with Bob. If Alice is not just a node but a more complex construct, this actual source of this activity can be masked.
A primitive example of monetizing this attack:  if you're automatically rebalancing your channels, Alice could slowly increase the fees she charges to do so, testing your thresholds automatic acceptance.
More thoughts on the matter here: 
 The failure is primarily in the mix-net features ...
@_date: 2018-01-05 01:38:12
Eh, Pop has a lot bigger trouble keeping his LN node secure. He'll probably outsource payment handling to Bitpay, a more likely target for regulatory enforcement.
@_date: 2018-01-14 17:10:10
Let's start with the easiest claim to prove and see if that is worthy of further investigation.
Hops on TOR do not require that the nodes share a direct connection. Every node is perfectly interconnected by the internet. A route constructed across TOR nodes can choose *any* node in the network for each hop.  If nothing else (and there is *a lot* else) it is obvious that the per-hop mix quality of onion routing on Lightning Network is exponentially weaker than on TOR.
The requirement that nodes share a direct connection gives them control over the route choices available to you.
@_date: 2018-01-25 14:01:55
If legal use of Lightning is restricted by regulation, it makes illegal use all the more obvious. That could encourage governments to infiltrate the Network in an attempt to track "black market" payments. The current implementation of onion routing exposes data that can easily be used to correlate payments as they traverse the network, allowing a well-connected adversary to deanonymize the transacting parties. It also allows for route capture, where an adversarial peer can influence or control some or all of the route a payment can take.
@_date: 2018-01-23 02:04:03
I certainly don't mean to make this a philosophical argument over what is the _real_ Bitcoin, just underlining that being sourced from the largest pool of work power is an important contributor to the confidence that the Bitcoin mechanism provides. No matter how much work power supports a coin in absolute terms, if a larger source is known to exist and is not motivated by the incentives of the coin, the future reliability of its ledger is challenged.
That doesn't mean the larger source of work _becomes_ Bitcoin.
@_date: 2018-01-13 21:40:38
Absolutely true. But that reduces your utility to your channel partners.
@_date: 2018-01-22 01:42:19
Thanks for your feedback, Rusty.
You mention the size of the network as a factor in these concerns, but it seems to me that they exist regardless of the total network size. It is more a function of channel balance and path distance to a sybil-construct entry. Regardless of what exists for the rest of the network, any channel  peered with such an entry point will necessarily route through it, subject to the paths the adversary makes available.
Example: An adversary on either Lightning or Tor controlling three nodes can correlate a packet which crosses all three in an uninterrupted sequence and thus know their relative positions in the route. However, the Tor adversary has no means to _cause_ the route to do so. On Lightning, the adversary can
_guarantee_ that any route passing through such a construct must necessarily pass through all three nodes in an order of their choice. A user still may not select such a route, if they have another choice, but if they do select to route through those nodes they are restricted in their choice to the path the adversary makes available.
Are you aware of any research that supports the notion that onion routing can achieve the privacy claims made of Lightning Network when applied to a restricted topology, especially one where the routers control the next-hop choices? 
Are there qualities of the current network that could be modified, perhaps with concessions in others, to satisfy the existing claims?
If not, are there other mix network designs that may be better fit for purpose, offering topologies which support the requirement that value ownership can be enforced until delivery is confirmed?
@_date: 2018-01-21 17:26:08
Use of actual money is not a requirement for classification as a money transmitter.
@_date: 2018-01-26 17:53:37
At the end of a transaction, the balance of the receiving channel is higher than it was before. They absolutely _recieve_ value. That they are obligated to _transmit_ a (near) equal amount of value on another channel in order to receive the incoming value doesn't change the nature of their activity. In fact, that combination of _receiving and transmitting value on behalf of a user_ is **exactly** what qualifies the activity as money transmission.
@_date: 2018-01-12 18:08:43


TOR is a second layer directly above the internet. A  packet can be routed from any node to any other node in one TOR-level hop (though it takes many internet-layer hops to do so). The nodes are perfectly interconnected, a complete graph, thanks to the internet layer.
LN is something different. It uses the internet for communication, true, but it is another network constructed of point-to-point channels between nodes. A route over these nodes can not be constructed of arbitrary hops; each next-hop is strictly limited to the vastly reduced subset of nodes sharing a sufficiently funded and balanced channel with the current hop. The selection and availability of those hops is entirely in the control of the intermediary nodes.
@_date: 2018-01-21 19:06:05
Not defending anything. Just clarifying that Lightning nodes almost certainly would qualify as money transmitters under the existing regulations.
@_date: 2018-01-12 01:33:10
Really? It's not even that tough of a thought experiment.
Say you have channels with Alice and Bob, both perfectly balanced by their initial funding commitments at 0.5BTC available in either direction, represented as A(5/5) and B(5/5). Alice and Bob also have channels to the network that allow them to indirectly transact.
Alice can deplete your channel with Bob by routing a 0.5BTC payment on your shared channel, through Bob and back to herself. When this transaction completes, the channel you share with Alice is depleted toward you - A(0/10) - and your channel with Bob depleted toward in his direction - B(10/0). If you want to spend any funds on these channels, Alice is the *only* choice.
Alice can also deplete the channels in the opposite direction. She routes a 1BTC transaction across the network, through Bob, to the channel she shares with you. Now the channels are A(10/0) and B(0/10). If you want to receive payment at this time, the channel you share with Alice is the only option.
It gets more complicated with the addition of more channels, and Alice could be limited in how much control she has depending on how much influence she has on other nodes with whom you have established channels. If Alice is a massively connected hub or a virtual construct of many well connected nodes, she may have substantial influence on enough of your channels to control the flow of most transactions you perform.
@_date: 2018-01-20 22:43:00
That is a strategy a client could take. It may not be highly effective if an adversary can hide their behaviors deep in a route construct or if route failure is a common occurrence. Depending on implementation, it may also expose the client to other manipulations. For instance, it could allow an adversary to make other nodes appear unreliable, further encouraging routing through their constructs.
@_date: 2018-01-14 19:35:19
I have only read through the spec a handful of times and have not had the chance to substantially consider the impacts on the proposed strategies. It may be the case that channel factories are able to limit the abilities of Sybil, but I have seen nothing to convince me that this is so.
I do suspect that factories could provide additional *opportunity* for  Sybil, reducing the cost to build her constructs and enabling dynamic reconfiguration of the intentional paths they offer without the increased risk of route failures that accompany other techniques.
Even picking worse paths is no help if Sybil controls _all_ the paths. She can even use the willingness to select less-than-ideal routes as a measurement of **requirement** to do so. If Sybil's intentional paths can be designed with many necessary hops, she can use the choice of exit hop to help deanonymize the recipient, as they could only be a limited number of additional hops away.
@_date: 2018-01-26 15:07:16
Once things settle back to the chain, you're right that an analyst can only infer relationships between inputs and outputs if that is all they have to work with. But if those outputs or their descendents come back to Lightning, there are stronger correlations available. If the fresh receiving address is later used to fund a new channel, it may be possible to correlate. If that new channel is owned by the same node as the previous one, that's an obvious match. If it is a new node sharing the IP of the previous node that's a _pretty good_ match. If Lightning transaction data is available, it might even be possible to associate the nodes based on activity patterns.
Even if the outputs never come back to Lightning, the node/IP correlation that occurred weakens on-chain anonymity a bit. One of the features of Bitcoin is that nodes can't be sure where a transaction originated from. This is stronger on-chain than Lightning's attempt to obfuscate transaction sources. But a global, or very well connected, adversary could link a LN node's IP profile to subsequent on-chain transactions submitted by that same profile. This would allow them to infer or confirm the continued chain of ownership.
@_date: 2018-01-15 18:43:50
I wonder if u/starkbot and Lightning Labs have engaged with FinCEN to request an administrative ruling on the subject. I know it can take several months to complete this bureaucratic process, but it would be the best way to put this concern to rest.
Edit: it would probably help to get u/starkbot's username right. I wonder if edits trigger alerts.
@_date: 2018-01-26 19:01:27


FinCEN _has_ clearly stated that some activities involving cryptocurrency transfers **do** constitute money transmission and are subject to regulatory control. They made this clear way back in 2013.








@_date: 2018-01-22 14:50:01
Things get a lot worse than that if you start opening channels indiscriminately.
@_date: 2018-01-03 03:00:03
Current implementation uses source routing. All the nodes broadcast channel information and the sender is responsible for graphing the network and finding a suitable route.
@_date: 2018-01-10 17:29:25
Manipulating routes only costs LN transaction fees, not on-chain fees. Unless you're counting the funding commitments used to establish the channel, which is the same cost as establishing a non malicious channel.  Since the channel partner can abuse onion routing to cloak the fee-collector and sybil nodes to perform the manipulation, it could be difficult to identify the exact nature of the attack, especially if it is only used periodically.
@_date: 2018-01-11 14:09:22
They're going to need  assistance in learning how to operate highly secured nodes. Pushing business to adopt Lightning before they're prepared for the responsibility will expose them to excessive risk. Nothing would slow Lightning adoption more than a wave of early adopters suffering major theft.
@_date: 2018-01-05 07:57:05
If merchants are balancing their channels by servicing third party transactions, they may be MSBs.
@_date: 2018-01-26 18:26:04
Control of other people's money is not a determining factor in identifying if an activity constitutes money transmission. The regulations are **not** designed for consumer protection; they are intended to provide government visibility in to the flow of money and value.
Yes, they have control over their own money. The value of which they _received_ in the course of facilitating a transaction on behalf of a third party. They facilitated that transaction by _transmitting_ a corresponding amount of value to another third party, who may or may not have been the final recipient. Receiving and transmitting value at the direction and for the benefit of others **is** a determining factor in identifying if an activity constitutes money transmission.
@_date: 2018-01-03 00:14:20
You'll need your own node if you want to use LN at all. For the send-only use case, an LN-enabled wallet on your mobile device would probably be sufficient.
@_date: 2018-01-19 04:26:30
You're correct, at least for LND.


@_date: 2018-01-11 22:08:04
Unfortunately the application of onion routing on Lightning Network is far from ideal. Unlike TOR nodes, which are perfectly interconnected via the internet, Lightning nodes are point-to-point connected by their payment channels and only channels which are sufficiently funded and appropriately balanced can be used to route a transaction. This greatly weakens anonymity as analysis of the network can reduce the possible sources and destinations to a manageable level. 
As if that wasn't bad enough, channel state is broadcast to the network, necessary for the source routing required of the scheme, but further impacting the protection provided. The same information necessary for successful routing provides an observer valuable data from by which to deanonymize transactions.
And it still gets worse. The balance limitations of channels allows a well-connected, well-funded adversary to selectively _manipulate_ the route options of _other nodes_! By intentionally passing transactions through those nodes' channels, maximizing their send or receive capacity, they can entice transactions toward routes over nodes they control. Since they control the availability of all subsequent hops, they can construct paths to help identify the transacting parties.
Onion routing works for TOR because it is a second layer built on a fully interconnected network. Nodes have no ability to choose their route neighbors and cannot affect the routing decisions made by the users. Nothing about the traffic limits the route selection and an observer cannot monitor network state changes without observing the entire internet. Lightning Network shares *none* of these properties, and the promise of onion routing is degraded beyond recognition.
@_date: 2018-01-15 19:43:20
To help skip a few clicks, there is a comment in that post which includes some (mostly generic) security considerations that you'd want to cover when operating a Lightning Node, as well as specific indicators you could audit for to help detect abuse. It is by no means comprehensive, but it's a place to start.
@_date: 2018-01-15 19:50:53
I cannot speak to the quality of the previous commenter's referenced material, but I can provide insight into the potential for Sybil attacks on Lightning Network to capture channel funding, disguise rent-seeking behavior behind route constructs, and potentially deanonymize senders and receivers.
@_date: 2018-01-06 22:10:26
Not impossible; RBF is not a consensus-backed policy. Some miners will accept the higher-fee transaction regardless of RBF-signalling and _any_ will accept it if the original has been evicted from their mempool. Dependably getting it to a miner is another story. Nodes have the same option to refuse relay, but that also only applies if the original is still in their mempool. You could start broadcasting the new transaction now in anticipation that the old one will be evicted, trying to get the replacement circulated before it's replayed.
@_date: 2018-01-24 02:21:15
The pathfinding algorithm is not part of the spec. The sender is responsible for finding a route (however they want to do it) and sending the control data via an encrypted onion.
Other implementations may be using other pathfinding algorithms, but LND at least *is* using a modified Dijkstra.


@_date: 2018-01-10 16:28:20
Yes, dynamic fees are meant to help keep channels naturally in balance. But that assumes your channel partners and their upstream partners are operating in good faith. If an attacker has sufficient influence they can prevent you from rebalancing. They might be willing to pay the fees necessary to do this if they believe capturing your transactions will net a profit.
@_date: 2018-01-20 22:58:34
I don't think any of them would be so bold as to claim perfect anonymity. BOLT 4 makes specific claims about what intermediaries cannot know:


While these may seem to be small claims, they are fundamental to assessing the anonymity achievable by the system.
@_date: 2018-01-21 03:18:21


I'm glad some are able to understand that fact and find value in this post, imperfect as the messenger may be. This field is filled with interesting problems, that's what keeps bringing me back. As much as I wish I knew how to solve them all, I also know the limits of my abilities. Having these discussions is one way I can expand them; hopefully others can as well.
@_date: 2018-01-23 01:27:36
The protocol obviously matters to the construction of the chain. But SHA256 work is SHA256 work no matter what it's hashing. PoW functions allow us to determine how much work was performed, and chaining the output of repeated PoW function execution tells us how much work over time. So long as we can compare two sources of work capacity by virtue of them constructing such chains, we can know which has greater capacity.
If the pool with greater capacity isn't mining Bitcoin now, it could start to do so. If it did, it could out-mine the current source of work. That would reduce the confidence that the present view of the blockchain will be consistent with a future view.
The work that the bigger pool has done in the past has no bearing on the Bitcoin blockchain, because it hasn't been applied to the chain rules. But if it has been applied to another chain it demonstrates the _capacity_ to out work a smaller pool _in the future_.
@_date: 2018-01-03 18:03:26
While these may be suitable for some use cases, the intentionally limited capabilities of hardware wallets prevent them from providing advanced anti-fraud capability. For instance, detecting anomalous routing would require an up-to-date view of the network. This either needs to come from a trusted source (which itself needs to be secured) or the wallet needs to be able to acquire it for itself. Start adding complex features to the waller, such as a network stack and LN client, and you add additional security footprint. These are less concrete capabilities, which will require more complex updates. Even the suggestion of external storage comes with security complications - from where is the data sourced, how is that data encrypted and authenticated, how are the data encryption keys protected?
Yes, moving keys to HSM is an excellent idea, but when performing autonomous signing you need strong controls around submission. HSMs alone are not sufficient nor suitable for this purpose.
@_date: 2018-01-14 05:29:47
Alice is not _a_ node, or perhaps more clearly stated, Alice is only _one of many_ nodes controlled by Sybil. Sybil can disguise her activity by hiding it several hops deep in the artificially constructed routes she provides to the victims. Abusing the pseudoanonymity promised by the use of onion routing, it may become exceedingly difficult for honest network participants to identify the evil player. Transactions designed to influence routing cannot necessarily be differentiated from honest transactions between Sybil's many identities. Route failures used to enforce her desires cannot be provably  associated with her. Using her position of power, Sybil may come to learn of patterns to your transaction behavior. She could limit the most obvious of her manipulations to target specific transactions she _expects_ you to perform.
@_date: 2018-01-10 03:06:53
Think merchants are ready for that responsibility?
@_date: 2018-01-12 05:55:41
Routing fees is one example, but that's likely a slow depletion. Think more of the coffee shop example. Expenses largely occur on a schedule - weekly shipments, biweekly paychecks, quarterly taxes, etc. Whereas income arrives in a more regular daily stream. Not all income goes toward expenses, some of it is profit.  For LN to support this setup requires a rather substantial outlay of funds just to establish sufficient capacity to accept that daily stream of income and hold it until expenses are due. Having all of that capacity in one channel would introduce risk to its availability, so spread that out over several channels. If profits are kept on LN, the capacity of those channels will become depleted over time. All the options for handling the profits involve on-chain fees that may be unfavorably high - or reliance on a trusted third-party.
@_date: 2018-01-25 20:36:28
No. I don't believe there is anything there of which the devs are unaware. If you disagree, you're free to bring it to their attention.
Users, on the other hand, are unlikely to read the mailing list. If they just listened to this show and heard Andreas compare Lightning Networks privacy to that of Tor, they may come away with a misleading impression of the actual privacy provided.
@_date: 2018-01-31 05:13:05
Hey, it's the man himself!
Rather than rehash it all here, I'll just link to a post I made a few days ago that covers it in detail:
I would be very interested to hear your thoughts on the  issue and what advancements in privacy you see in Lightning's future.
@_date: 2018-01-10 07:12:55
Transactions don't clog the pool, they're flowing out at the maximum rate. The drain is over capacity.
@_date: 2018-01-15 18:09:56
The conditions laid out in that ruling are unlikely to cover Lightning Network nodes without an explicit extension. For exactly the reasons earlier proposed as to why LN nodes should _not_ be money transmitters, specifically that they do not retain custody of funds, we can see that they certainly to not satisfy the exemption given to miners:


In fact, application of that ruling would likely classify Lightning nodes as _exchangers_, and explicitly declare them as money transmitters.




@_date: 2018-01-15 19:12:36
I don't hold them responsible for seeking the clarification, but as a major contributor to the project claiming that regulations do not apply, they are in an ideal position to make that request.
@_date: 2018-01-15 17:16:35
Transactions on Lightning Network are of a different nature than on-chain transactions. Even if this were not so, FinCEN has published an Administrative Ruling that explicitly exclude Bitcoin miners from the definition of money transmitter, within specific limits. It would behoove the community to seek such a ruling if they would like this issue clarified.
I have enquired myself with FinCEN as to how they might perceive the activities of Lightning Network nodes. I was provided references to the same type of information I've shared here and told that an Administrative Ruling would be the only way to be certain. The process to receive a ruling can take up to 6 months and involves, at minimum, a formal request sent to FinCEN. I have not taken it upon myself to complete that process.
@_date: 2018-01-20 21:00:07
Have you a reference on your second edit?
@_date: 2018-01-19 19:34:21
One of the major benefits of large volume and reserves for exchanges is the ability to keep the bulk of reserves in offline cold storage. Keeping the funds in Lightning channels requires that they stay in their associated hot wallets. This is far from an ideal security strategy for custodial accounts.
Even if use of Lightning was able to offset the need to keep traditional hot wallets funded, it introduces new challenges in terms of availability and privacy. Funds are not directly fungible between Lightning channels and transactions spending them must be sent through the specific channel peer. The exchange would be reliant on those peers being available for routing on demand. In addition, despite claims of Tor-like privacy via onion routing, the topology and properties of Lightning Network may significantly reduce the privacy which can be practically achieved.
@_date: 2018-01-23 02:58:56
Their exact path finding algorithms may be different, but they're all using the same onion routing protocol which necessitates source routing.
@_date: 2018-01-18 20:27:12
On further consideration, what a **horrible** proposal. I'm assuming exchanges would provide that liquidity by swapping user reserves? That would lead to awful market exposure. I suppose if they were matching swaps with orders in their books, that wouldn't be _as_ bad, but in general, it's not desirable that exchanges keep significant funds in hot wallets.
@_date: 2018-01-23 18:02:04
The risk of hacking is not limited to peers. Anyone who has hacked a node could use the keys to send funds to any other node.
@_date: 2018-01-26 13:53:58
Onion routing might help with Lightning transaction correlation, it does nothing for the rest. The current implemention of onion routing, however, has several qualities that call its privacy guarantees into question.
@_date: 2018-01-13 20:49:54
Unfortunately, most of the few available Lightning Network resources fail to address node security requirements with the gravitas they deserve. As new resources and guides become available, they will build upon the information presented before them. If early adopters of the network treat security as an afterthought instead of a primary design consideration their tales of loss will serve as warning to later participants.
@_date: 2018-01-23 00:51:23
I never said the rules are meaningless or that the largest pool of energy expenditure necessarily is Bitcoin. Just that the Bitcoin blockchain must come from the largest pool of work power. 
The work is independent of the chain consensus. The rules allow us to prove the amount of work done over a period of time. Regardless of chain rules, so long as the work is interchangeable, we can meaningfully compare the work proof between them. If a larger pool of work capacity is known to exist and remains unmotivated by the incentives for mining a given chain, the confidence in its future reliability is reduced.
@_date: 2018-01-14 21:41:47
Unfortunately that's not up to you. The decision if you are operating "as a business" is left to FinCEN's interpretation of "facts and circumstances." If found in violation of these regulations, you would be afforded the opportunity to argue your case in court. Considering that modern money transmitter regulations are *explicitly written* to target informal value transfer networks, which Lightning Network almost certainly qualifies as, it seems unlikely that, absent a regulatory clarification specifically exempting Lighting Network, judgement would be in your favor.
But, hey, I'm not your attorney. Give it a shot and let me know how it goes. 
@_date: 2018-01-13 17:20:23
If you're going to be running an autonomous node (pretty much a requirement for routing transactions or receiving payments), please make security a high priority. Nodes must be able to sign with the private keys that control their channels. If your node is compromised, your share of the balances on open channels is vulnerable to theft.
@_date: 2018-01-22 14:29:31
That is an out of date proposal. The current implementations of Lightning Network rely on source routing. Channel states are broadcast to the Network and each sender is responsible for finding a route to their destination.


@_date: 2018-01-11 22:35:23
If you're using Lightning as a payment system, what do you do with your profits?
As profits accumulate the capacity of your channels will become depleted. If you operate at 50% margin, you stand to lose half of your capacity per cycle. If your capacity was scaled to support a week's worth of income, you'd only be able to receive half a week's income the second week unless you establish new channels or extract the funds from Lighting Network - paying the relevant on-chain fees to do either.
Or I suppose, you _could_ send that excess profit off to a trusted third party to hold on to. That doesn't seem like it aligns with the goals of the system, though.
@_date: 2018-01-08 15:23:07
If they're _just_ setting up channels for direct transfers there is limited difference. But they wouldn't really be using Lightning, just bi-directional payment channels.
@_date: 2018-01-22 17:23:43
That sort of depends on the definition of *topped up*. Splicing in new funds increases the total capacity of the channel, allocating balance accordingly. It is certainly a way to make a channel usable again, but its total effects are different than rebalancing a channel over the Network.
@_date: 2018-01-10 03:19:02
The current implementation of Lightning only supports relatively small payments. Low-value transactions are not causing the high fees associated with Bitcoin's restrictive block size. Even if Lightning enables lots of currently-infeasible transactions it will have a negligible effect on the transactions which actually account for the mempool backlog.
@_date: 2018-01-12 02:03:47
Industry standard...
I like you. You've got some spark of skepticism. Try applying it to ideas you think are true.
@_date: 2018-01-17 04:36:44
@_date: 2018-01-21 20:31:29
Is it? Hard to call it a black swan when they've had _years_ to see it coming. Far different than Bitcoin's sudden appearance (assuming that wasn't a false-flag black swan).
Participation in Lightning Network is far easier to regulate for _law abiding_ businesses than is Bitcoin. For example, I can hardly imagine the regulated exchanges participating in the public Network if they cannot apply KYC/AML controls. They may be able to use the underlying technology, but would need to hold nodes accountable for the transactions they relay.
@_date: 2018-01-26 21:16:37
That receiving and transmitting Bitcoin, or the value thereof, at the direction and for the benefit of third parties may constitute the regulated activity of money trasmission.
@_date: 2018-01-13 17:28:02
If you're going to be running an autonomous node (pretty much a requirement for routing transactions or receiving payments), please make security a high priority. Nodes must be able to sign with the private keys that control their channels. If your node is compromised, your share of the balances on open channels is vulnerable to theft.
@_date: 2018-01-01 02:16:57
You can claim anything you'd like.
@_date: 2018-01-22 17:16:23
This runs into problems with the onion routing scheme. You'd need to keep the HTLC 'circuit' to the warehouse open for an extended period and they're stuck trying the same path to get to the recipient. If any of the intermediaries on the second half of the route go offline or change their routing parameters, the warehouse can't change the route to accommodate.
This could be accomplished easier if you're willing to give up custody of funds to trusted parties or give up routing privacy, but those both go against the goals of Lightning Network.
@_date: 2018-01-14 17:30:41
That's an upgrade from hypothetical.
The exponentially reduced per-hop mix quality on Lightning Network compared to TOR is demonstrable with simple math.
That route selection is strictly limited to channels under the control of intermediaries is self-evident from the design of Lightning Network.
I have demonstrated that, in some limited contexts, a channel partner can capture the flow of a node's transactions.
Yes there is more work and research to be done. But there is plenty of smoke to indicate a fire.
@_date: 2018-01-06 23:23:29
Unfortunately the application of onion routing on Lightning Network is far from ideal. Unlike TOR nodes, which are perfectly interconnected via the internet, Lightning nodes are point-to-point connected by their payment channels and only channels which are sufficiently funded and appropriately balanced can be used to route a transaction. This greatly weakens anonymity as analysis of the network can reduce the possible sources and destinations to a manageable level. 
As if that wasn't bad enough, channel state is broadcast to the network, necessary for the source routing required of the scheme, but further impacting the protection provided. The same information necessary for successful routing provides an observer valuable data from by which to deanonymize transactions.
And it still gets worse. The balance limitations of channels allows a well-connected, well-funded adversary to selectively _manipulate_ the route options of _other nodes_! By intentionally passing transactions through those nodes' channels, maximizing their send or receive capacity, they can entice transactions toward routes over nodes they control. Since they control the availability of all subsequent hops, they can construct paths to help identify the transacting parties.
Onion routing works for TOR because it is a second layer built on a fully interconnected network. Nodes have no ability to choose their route neighbors and cannot affect the routing decisions made by the users. Nothing about the traffic limits the route selection and an observer cannot monitor network state changes without observing the entire internet. Lightning Network shares *none* of these properties, and the promise of onion routing is degraded beyond recognition.
@_date: 2018-01-20 22:36:43
My issue is with the specific claims made of the design _today_. Results are usually better when building from a strong foundation, or at least with a clear understanding of the potential weaknesses.
@_date: 2018-01-25 16:54:55
Andreas' description of onion routing on Lightning Network is too generous, at least for the current implementations. There are significant differences from Tor that affect the privacy guarantees that Lightning can provide. Users should be aware that it is entirely possible for intermediaries to correlate payments as they traverse the network or even to influence or control the routes that payments take. This can lead to deanonymization of the transacting nodes and aid in deanonymization of the operators themselves.
@_date: 2018-01-17 04:25:38
Nodes and channels between them are announced, broadcast, to the Lightning Network. Your pseudonym is known to the entire network. Your transactions, hopefully, are not.
@_date: 2018-01-10 18:00:33
The attack is described at a maximum for ease and clarity. It doesn't need to be performed at an extreme level, especially if the channels will be open long-term. The attacker could price routes slightly higher than average and, so long as it exceeds the fees spent manipulating your channel state, still enjoy higher profit than they would otherwise. Slowly walking fees up in this manner may avoid some heuristic detection, as well.
@_date: 2018-01-25 00:04:47
Major features of Lightning are not in place. A significant missing piece is strong transaction privacy. For instance, the onion routing scheme exposes data that can be used to easily correlate a transaction as it traverses the network. It is also vulnerable to route capture, allowing an adversarial peer to dictate significant portions of routes, in some cases _entire_ routes.
Lighting may be usable in this pre-alpha state, but it is not nearly ready for mass adoption. You'll be giving up a lot of anonymity in exchange for the risk of testing incomplete software.
@_date: 2018-01-09 18:21:23
All end users will run nodes. A LN-enabled wallet _is_ a LN node.
@_date: 2018-01-26 16:16:22
Ok, Lightning transactions don't constitute payment orders. What do payment orders have to do with money transmitters? Where in the definition of _money transmitter_ does it include any mention of payment orders?




Edit for more direct evidence that relaying of transactions constitutes money transmission:
In 2013, FinCEN released a guidance document that explained their interpretation of the types of activities that entities might engage in using cryptocurrencies. In that document, they describe two forms of activity ascribed to entities they call _exchangers_. The first form, which I've excluded from the quote below, covers the conversion to/from fiat and the transfer of funds for purchases of goods. That form of activity may also apply in some circumstances to Lightning network nodes, but the second form has more universal application.
[Application of FinCEN’s Regulations to Persons Administering, Exchanging, or Using Virtual Currencies (FIN-2013-G001)](


@_date: 2018-01-12 01:13:22
You are right, onion routing is quite effective when routes can be constructed between arbitrary nodes. But you can't do that on Lightning Network. Each hop can only be selected from the very small set of nodes with which the previous hop shares a sufficiently funded and balanced channel.
@_date: 2018-01-03 20:23:58
Experience tells me that none of this is trivial. There are many edge and corner cases to consider, we haven't even scratched the surface in exploring the potential exploits. Crypto is **hard**, cryptosystems are **harder**.
Secure autonomous nodes will likely be out of reach for mainstream users for quite some time. Simple users who just want a spending account can probably be supported (especially if they're willing to trust third-party route providers, channel selection, etc.), but the cost of entry for merchants is way too high for a niche payment system.
@_date: 2018-01-19 05:27:08
You may also want to consider the use case for the transactions. Some transactions are likely to stay on-chain regardless of value due to other qualities or requirements.
For instance, transactions that would result in a net increase in total coin ownership (i.e. the receivers total channel funding increases) require the creation or expansion of a channel via an on-chain transaction. A practical example: Alice is a dedicated hodlr who practices dollar cost averaging, buying $100 worth of BTC every Friday evening. Alice knows that BTC is headed for the moon, she wouldn't think of spending her Lambo funds when she could instead spend depreciating fiat. And she certainly isn't going to keep her coin on an exchange! Lightning is probably not much use to Alice and performing her buys on-Network wouldn't necessarily prevent any on-chain transactions. Since Alice's total coin ownership is constantly increasing, she would need a new channel every time her existing channels are depleted in her direction. Her exchange, or another liquidity provider, may be willing to fund her initial channel with more coin than she purchases, but they would be committing those additional funds to a channel that will not see much use. This would impose a cost to the channel peer that they would need recoup.
Another type of transaction that may remain on-chain regardless of value are those that require strong disassociation through pseudoanonymity. Lightning Network trades reduced pseudoanonymity for increased privacy of transaction information (of which Bitcoin's public ledger provides *none*). Users may not find this trade-off advantageous depending on the specific requirements of their use case.
@_date: 2018-01-14 20:53:29
Our discussion is a "cyclical connection." I am not certain if I am unable to clearly articulate the matter in a way which you can comprehend or if you are simply unwilling to do so. If the fault is mine, I will attempt to improve my communication of these ideas in future discussions.
@_date: 2018-01-25 14:47:08
I suppose so, although that doesn't really relate to my previous comment. Deanonymization attacks don't involve breaking anything; payments need to go through or there is little point in deanonymizing them. Well executed, a user would be unaware that the attack occurred. An attack might even involve providing an optimal route. Even with complete visibility of the network topology a route capturing construct wouldn't necessarily be obvious.
@_date: 2018-01-19 18:44:48
This doesn't seem like a realistic expectation, in my opinion. Smaller exchanges, especially those that skirt regulatory requirements, may implement it simply as a gimmick, but there doesn't seem to be much value for the larger exchanges.
* They don't want users extracting funds from their exchange. They make the bulk of their earnings on fees from trading. Any reasonable friction they can apply, *especially* for transferring to a competing exchange would be welcomed.
* The flow is unlikely to be well balanced. Whichever side has the greater outflow of funds would need to commit a larger amount to their channels. Just to make it cheaper/easier to move to a competitor.
* Keeping funds in Lightning channels would mean more customer assets in hot wallets. This is the exact opposite of what anyone should desire of an exchange. Custodial accounts already carry enough risk, far better to encourage well-secured, offline cold storage of reserves.
* For exchanges subject to regulation, this could be a major KYC/AML nightmare. At minimum, I'd expect that the exchanges would only peer with other compliant services. It may also require that the exchanges share identity verification and transaction information.
Overall, Lightning doesn't appear to have much to offer the exchanges' business models. It complicates a lot of operational aspects, adds substantial risk, and largely works _against_ their profit motives. While it may work in the favor of smaller exchanges, I can't see why the larger, more established exchanges would be particularly enthusiastic about it.
@_date: 2018-01-27 06:16:47
I really wish he'd stop over-selling the privacy afforded to transactions on Lightning Network, comparing it to that provided by Tor. There are significant issues in the present design that could leak data critical to correlating transactions traversing the network and aid in deanonymization. The types of users he speaks of in greatest need of privacy, unaware of these issues, could face severe consequences if their transactions were less anonymous than they were lead to believe.
@_date: 2018-01-12 20:50:53
Someone (you, Coinbase, or some other channel partner) is still going to need to pay an on-chain fee for you to get your coins. And again each time you increase the total number of coins you have access to on Lightning Network.
@_date: 2018-01-20 19:57:59


Regardless if the feature is in high demand or not, the design documents make specific claims of the privacy provided. The privacy is often compared to that of Tor, from which the onion routing protocol is largely borrowed. If the topology of the network results in different privacy outcomes, those should be noted so users can plan their strategies appropriately.


My observations are not nearly robust enough to account for all possible scenarios. I've only picked at the threads exposed by changing the assumption of Chaum-style mix network topology. I feel that _high confidence_ is an accurate assessment, _absolute certainty_ would require require more precise information regarding the conditions than I can provide at this time.
@_date: 2018-01-10 22:58:00
Lightning has a very different concern with what could be called "spam". Spam transactions on LN can be used to influence the channel state of your node, manipulating the availability of channels in the send or receive direction, and entice transactions you generate, or those you route, on to attack-controlled paths.
Done carefully, this technique could be used extract additional profit from long-term channels either through higher fees or by compiling transaction pattern information.
A more aggressive attacker could shift your balances to fill the channel and set obscene fees to allow transactions. You would be left to decide between closing the channel (paying the on-chain fee plus waiting for the HTLC to expire before regaining access) or paying their ransom. Combined with previous transaction pattern analysis, an attacker may be able to identify a time during which regular payments are made and the inconvenience and delay of closing the channel would be untenable.
@_date: 2018-01-14 17:14:13
No. The source decides their route. But their choices are limited to the channels the intermediaries choose to make available.
@_date: 2018-01-03 05:30:32
You can outsource the breach remedy to provide a defense against that, in exchange for a fee and a bit of third-party trust.
The bigger problem with a mobile node may end up being routing. If you're not online you won't have an up-to-date graph of the network. That will take some time to generate/update unless you outsource that, too, which entails a *much higher* level of trust.
@_date: 2018-01-14 22:27:35
Your diet must be fascinating.
I've tried to present my claims in a digestible manner. If I have failed in that, I hope you are able to at least find enough value in them to consider that the evidence supporting Lightning Network's privacy claims is itself lacking.
If you simply find the veracity of my claims  unpalatable, I can offer no consolation.
@_date: 2018-01-11 14:24:26
A Lightning node has a much different security profile than a Bitcoin node. In order to service third party transactions in milliseconds your node will require autonomous signing capability with the private keys controlling your channels. Make sure you're prepared for the responsibility or your risk will be far from zero.
@_date: 2018-01-03 19:41:27
Rebalancing funds come from the channels being rebalanced. Without anomaly detection, a node could continuously and rapidly rebalance between two of its own channels, paying fees to the attacker on each transaction. It wouldn't run out until the channels were drained.
@_date: 2018-01-12 00:56:42
I'm willing to learn if you're teaching.
@_date: 2018-01-14 16:32:57
The anonymity of Lightning transactions is highly questionable. Onion routing on LN is far less secure than on TOR, and the ability for intermediaries to control routing decisions opens the potential for them to deanonymize senders or receivers.
@_date: 2018-01-27 03:22:07
Lightning nodes require access to the private keys used to manage their channels, and those used to relay transactions or receive payment without manual coordination require autonomous signing capability. This means that the private keys must be stored unencrypted (or _effectively_ so). A compromised node could easily have the balance of its channels drained, though there are worse attacks a patient hacker could perform.
I would strongly discourage running a Lightning node in a shared environment. Your funds will be at severe risk from the operators of the platform and anyone who compromises it. Vulnerabilities like the recently announced Meltdown bug in Intel processors will be around for a long time. That bug is particularly nasty in that could allow users on shared hardware to read memory belonging to processes of other users. It's not the only vulnerability of it's kind, either. Check out rowhammer for an example of a bug common in hardware memory modules that could result in similar consequences.
@_date: 2018-01-15 03:03:54
Tor nodes create a circuit over TCP at the request of, and according to the route provided by, an end user. When selecting hops on the route, the user is free to select any node at any position on the route. This ability is due to the fact that any Tor node can establish a TCP connection with _any other node_ thanks to their interconnectedness on the IP layer.
The Lightning Network does not share that property of complete interconnectedness. Consequently, when selecting next-hops on their route, a sender is limited to the channels the current hop has made available. The intermediaries control the options from which the sender may select.
@_date: 2018-01-24 03:03:19
Node and channel discovery are covered in [BOLT  Short version: Nodes broadcast their channel announcements and updates to the network. Nodes can also broadcast their own announcements, inviting new peers to open channels with them. When a node comes online it can ask a peer for a full dump of its current view. Nodes are expected to store-and-delay-forward announcements to stagger the broadcasts.
@_date: 2018-01-26 14:10:40
The long term node identity and transitive properties of channels complicate anonymization on Tor. An operator would need to ensure that no sub-nym identifiable on Tor can ever be correlated with a sub-nym on clearnet. This would require very strict separation and opsec - something which should already apply to those wishing to stay anonymous, but introducing a lot of new ways to mess up.
Lightning's long term identities also complicate anonymity on Tor. An operator would want to ensure no other communication occurs over the Tor circuit used for LN, or else it would expose a correlation point.
@_date: 2018-01-27 05:23:09
I can share a bit of knowledge on scaling challenges that Lightning faces. This is only a rough introduction based on my own research, so it is hardly a complete picture, but you may find value in it nonetheless.
With the current design specifications of Lightning, the primary scaling bottleneck is related to route discovery. Lightning uses a technique called _onion routing_ to obscure the source and destination of transactions, attempting to provide a degree of privacy ([with questionable effectiveness]( Onion routing requires that the sender is able to find a viable path, through properly funded and balanced channels, across the network and to the recipient. 
This set up poses a number of challenges as the network grows. The first one is related to bandwidth, though the latency is less of an issue than simply the sheer amount of data that can be moved. Since senders need to know not just about the existence of channels, but also information about their available capacity and current fees, nodes must regularly broadcast updates about their channels - that's two updates per channel as each peer has an inverse balance and can set fees individually. Obviously, broadcast of all these channel updates will require a fair amount of bandwidth, though it's difficult to provide specific estimates without a truly production instance of the network in operation.
Getting all the data about channel states is just the prelude to the more challenging computational issue. The node must build and update a graph of all the channels based on the received announcements. When a user wishes to send a transaction from the node, it must find a suitable route on the graph to do so. Ideally, the sender could find many such routes and select them based on criteria important to their use case - low fee, maximum security, high reliability, etc. Unfortunately finding routes of this sort across a highly dynamic network with restricted topology is **hard**. Like, really really hard. The kind of hard that earn mathematicians PhDs for barely _scratching_ at.
Thankfully, we don't **need** to find the _best_ route, let alone _all possible_ routes, even if that would be preferable. While the network is small, it won't be too exceptionally challenging to simply find _a_ route. That may gradually become more difficult as the network grows, depending on how distributed it ends up being. Unfortunately for your premise, _the more distributed the network becomes, the harder it is to find viable routes_. This is where Lightning Network starts to hit roadblocks. Again, estimates are challenging without real world usage data and knowledge of how the network will eventually form. Lightning developers have estimated that the current design may be reasonable for up to a million nodes. Personally, I suspect we'll run into greater problems with privacy failures due to the limitations of onion routing before hitting that mark, but I may be biased in that assessment.
Senders who cannot generate routes quickly enough can expect to suffer increased route failures as the network's channel state naturally shifts. They will also find less routes to pick from in a given period of search time, affording them a lower ability to choose based on desired features.
There have been a number of alternative routing methods suggested, but none seem to have taken hold. Approaches are hindered by common expectations of a value transfer system - strong enforcement of value ownership until transaction finalization, transaction privacy, and speed are examples of competing concerns. What the future holds in regards to Lightning routing is up in the air.
@_date: 2018-01-15 00:54:18
Regardless of how many people are connected to the network, the `n_i+2` candidates will _always_ be limited to nodes that share a channel with `n_i+1`. Because the channel states are broadcast to the network to facilitate source routing, `n_i` _always_ knows that set with exceptionally high confidence.
@_date: 2018-01-26 20:51:23
Onion routing is generally applied to overlay networks on which the routers are perfectly interconnected by the underlying layers. The routers form a fully-connected graph, each router has (or can establish at inconsequential cost) a path to _every other router_ on the network. A user generating a route over this graph can select the hops arbitrarily, placing _any_ node in _any_ position on the route.  Routers have no direct ability to limit the paths through them nor the direction in which a route must traverse. This quality is critical to achieving much of the anonymity that onion routing can provide. 
Lightning Network's overlay is a restricted topology in that nodes are not fully interconnected. Users generating a route across the network are limited in their hop selection to nodes that share a sufficiently funded and balanced channel with their immediate route neighbors. By virtue of their ownership and maintenance of those channels, intermediary nodes have the direct ability to limit the paths available for routing and the order in which a transaction must traverse them. They also have the ability to influence the availability of channels on _other nodes_ by selectively routing contrived transactions to deplete or fund them as they desire.
@_date: 2018-01-10 05:50:16
A difference, and one not addressed in the article, is that payment channels must maintain balance in order to have utility.  If Amazon's channels are receive-heavy, they will necessarily need to frequently close channels or otherwise flush their balances back out.
@_date: 2018-01-22 23:20:30
I would argue that Bitcoin's blockchain must come from the largest pool of work power _regardless_ of consensus rules. The confidence afforded by the system that the present view of the ledger will be consistent with a future observation is only as reliable as the confidence that the chain will outgrow any competitor. The BCH blockchain follows different consensus rules but they do nothing to ensure that a segment of the BTC miners will not mine a malicious chain, overwriting the recent history.
[You can read this comment in r/btc for a more complete explanation of this view.](
@_date: 2018-01-13 17:27:20
But every user of LN will require a node. Expecting them all to be experts doesn't sound very functional.
@_date: 2018-01-31 05:04:23
Nothing on meeting the privacy expectations set out in the onion routing design. That's unfortunate.
@_date: 2018-01-09 17:11:48
Hopefully you've spent all of your previous paycheck or pretty soon your channel will become unbalanced and unable to receive any more payment.
@_date: 2018-01-10 06:38:57
It's completely right, not that you'll believe a troglodyte such as I in these matters.
The contract Joe has with Carol only protects one gold bar. If they're both willing to write a new contract, Joe _could_ commit more of his gold bar stash to a new contract to expand the capacity of their channel, but writing a new contract is expensive.
Joe *cannot* use the gold bar in his left hand to fund that new contract, either. That bar is currently encumbered by the contract he shares with Alice. To use that in a new contract with Carol he would first need to terminate the contract with Alice, which is as expensive as writing a new contract, and he'd no longer have a channel with Alice to perform the second half of the payment.
No matter  how many gold bars Joe has in his left hand, left foot, right foot, front pocket, back pocket, coat pocket or backpack, he cannot send them to Carol under the protection granted by their one-bar contract.
@_date: 2018-01-10 18:58:23
It would certainly be an interesting experiment, but I doubt it would be a very accurate model. Available strategies are dependent on total funding, which starts the game off highly imbalanced. In the real-world the vast majority of users can be expected to act in a passive / hands-off fashion. They don't know there is a game, wouldn't care to understand the rules or objectives, and don't have the capacity to alter their strategy beyond what is offered by the software they use.
A more useful model might attempt to see what malicious strategies are most effective against this passive majority. This could help detect if they are ever executed in the wild and lay some prep work for mitigation. Or it could be abused to help fine-tune the attacks and figure out the most profitable, least detectable ways to implement them. Win/Win?
@_date: 2018-01-19 21:49:30
Contributions to open source projects can come in many forms, not simply by committing code to the project. The following is my contribution to Lightning Network, a critique of its onion routing implementation. I offer this not as a complaint, but as a falsifiable explanation of the issues as I understand them.
The privacy of Lightning transactions is highly questionable. Onion routing on Lightning Network provides far less privacy assurance than it does on Tor, and the ability for intermediaries to control routing decisions opens the potential for them to deanonymize senders or receivers. In particular, [BOLT  Onion Routing] ( makes the following claims regarding the privacy it affords routed transactions.
* Intermediate hops cannot know about the other hops in a route other than their immediate predecessor and successor.
* Intermediate hops cannot know their position in the route.
* Intermediate hops cannot know if their predecessor is the originator or their successor the receiver of the transaction.
There exists conditions under which an intermediary hop most certainly **can know** these facts. These conditions are met in some of the most commonly cited use cases for Lightning Network. It may also be possible for an well funded adversary to manipulate the availability of channels on intermediary systems to influence or control route selection.
The failure is primarily in the mix-net features of routing. Although Lightning allows source routing, route options are restricted by the decisions of intermediaries. This is different than the intended use case for onion routing, where hops can be selected arbitrarily. The difference in topology can be seen by comparing the Tor white paper to the Lightning BOLT documentation.
Every node on Tor is connected (or has the potential to directly connect) with every other node:




On Lightning Network nodes must share a channel in order to route directly between them:




Furthermore, transaction metadata leaks information that informs intermediaries of potential route options beyond their immediate neighbors. In particular, approximate knowledge of the value (slightly complicated by the inclusion of fees) is necessary for intermediaries to execute their relay function. However, the transaction value affects the suitability of prospective hops.
[BOLT  P2P Node and Channel Discovery]( describes how nodes on Lightning Network learn about the channels that other nodes offer for routing.


Because the state of channels is broadcast to all nodes, an intermediate node knows the very limited set of viable hops before their predecessor and after their successor. In the case where there is only one such hop, the intermediary can know with extraordinary confidence the network identity of `n_{i-2}` and/or `n_{i+2}`. If there are no viable channels to their predecessor or from their successor, the intermediary can know with extraordinary confidence that `n_{i-1} == n_0` or `n_{i+1} == n_r`, respectively, and consequently their own position in the route.
As Lightning is a decentralized network, nodes have absolute authority over which channels they maintain and make available for routing. Control of route options by intermediaries makes it possible to construct contrived routes via controlled or influenced nodes. As the intermediary control the set of hops to choose from and their actual availability for routing, routes that enter such a construct can only exit at points of the intermediary's choosing.
For these constructs to be of any use, we need to entice the targeted source or destination to route over them. The following strategies apply to either direction, with slight variation. They serve only as examples, other strategies may exist.
* If the only channel a target has available is an entry to our construct, it will offer the only possible routes over which they can transact.
* If our construct is one of several channels a target has available and they make themselves available for routing 3rd party transactions, we can degrade the availability and capacity of alternative channels while maximizing the availability of our shared channel by selectively routing transactions through the target.
* If our construct shares several direct channels with the target, direct channels with other peers of the target, or can otherwise influence the routing options of the target's immediate neighbors and beyond, more strategies can be used to manipulate their routing decisions. 
* It is hypothesized that even indirect influence over a sufficient number of a target's peers can permit manipulation of their routing decisions with a high degree of reliability. 
What do these constructs enable?
* Transaction pattern analysis
* Partial-to-full source/destination decloaking, assisted by transaction value data leak
* Disguised rent-seeking
* Dynamic reconfiguration of route options and availability
* Unknown evil things
@_date: 2018-01-17 04:12:36
The explicit association of multiple transactions to a single Lightning Network identity is weaker pseudoanonymity than the implicit association between multiple identities on the Bitcoin blockchain.
@_date: 2018-01-15 19:19:20
Profitability is not a strict requirement for an activity to be considered business. There may be other reasons that providing Lightning transaction routing on a limited, personal basis does not qualify as "engaging as a business," but charging a fee for the service is unlikely to be among them.
@_date: 2018-01-08 16:27:22
What's the use case for these cross-exchange transactions? If this is user funds switching between exchanges, is that _desireable_ for exchanges? I can see why they might want to make it easy to move funds _in_, but not so much moving them out. Do you really think cross-exchange transactions are balanced enough to make long-term channels viable or would they become depleted quickly? Maybe unidirectional channels make more sense.
@_date: 2018-01-26 14:01:02
`channel_announcement` messages contain the channel's `short_channel_id` which allows any node on the network to find the funding commitment in the UTXO set. This is an intentional design, allowing nodes to confirm the existence of a channel and the peer nodes' ownership of it.
@_date: 2018-01-21 20:06:25
Data carriers _do_ have explicit exemption in the regulations. Largely because they do not have a stake in the transaction.
Lightning nodes _do_ have a stake and an obligation (as enforced by the HTLCs) to transmit value on behalf of a third-party in facilitation of transactions. These properties are given in previous Administrative Rulings as reasons why an entity would be considered a money transmitter.
It appears I won't have much luck convincing you that the transmissions occurring on Lightning Network involve more than just data. I'm perplexed how that could possibly be missed by an honest evaluation of the system, but everyone is entitled to their opinion. Best of luck to you in your future crypto adventures.
@_date: 2018-01-15 17:42:15
The sum total balance belonging to an intermediary does not change (absent any fees) but the the specific channel balances involved in the transaction certainly do. This is evidence that the **value** of the transaction has been both *received* and *transmitted* by the intermediary.
This can be further demonstrated if we suppose there is a failure during the transaction. Take a simple transaction between a sender and recipient utilizing a single intermediary:  `n_0 -&gt; n_i -&gt; n_r`. In the course of transacting, `n_r` completes the HTLC with `n_i` by providing the transaction secret and claiming the funds meant to be paid by `n_0`. At this moment, `n_i` suffers a catastrophic failure and goes offline until after the HTLC shared with `n_0` expires. Having not received evidence that the transaction completed, `n_0` reclaims the funds. `n_0` has all of their original  funds, `n_r` has the funds meant to be paid, and the total balance of `n_i` is reduced to make up the difference. The only way this scenario can be sensibly interpreted is that `n_i` transmitted the funds but failed to receive funds in compensation. That the system has safe guards to prevent these failures in most reasonable cases does not alter the nature of the transactions.
@_date: 2018-01-26 19:13:19
Allowing LN to bypass regulation would drive a gigantic loophole right through them. The US is hardly the only jurisdiction with similar regulations on money transmitters, and the US government is quite adept at influencing other governments to act on its behalf.  Expect LN to face regulatory pressure from all over the world. It won't keep _everyone_ from running nodes, but it will severely limit the anonymous use of Lightning Network among law abiding businesses.
@_date: 2018-01-19 19:04:41
Exchanges don't care how much you trade, they care how much you trade _on their books_. Making it easier to move coins and trade on a competing exchange works against their business model.
As a user of an exchange, the on-chain transaction involved in moving coin between them has the benefit of proving the coins actually exist. If cooperating exchanges performed those transfers on Lightning, I would have no way of knowing if possession of actual coins moved or if the exchanges are conspiring in a fractional reserve scheme.
@_date: 2018-01-21 18:53:19
The direct channel between your nodes cannot be used to rebalance the small wallet's channel out to the network. Once you've spent the $10 in that channel you will not be able to spend from it again until you receive funds _on the same channel_.
@_date: 2018-01-23 02:52:23
The larger pool can also make the coin unusable, censoring it with empty blocks or blocks filled with contrived transactions.
I'd note that your expectation of correction (miners leaving the pool), and the economic pressure not to attack in the first place, result in the blockchain being produced by the largest pool. And they're only reliable for the chain built by that pool. This one always earns me some jeers in r/btc: the BCH blockchain is  protected by the economic incentives of the BTC blockchain - it is more profitable to mine BTC than it is to attack BCH.
@_date: 2018-01-27 03:30:12
I don't believe you can batch funding transactions as they involve the negotiation of HTLCs. It might be possible with a single-party funding, but would certainly complicate the process.
That's not the only issue, though. Channels have _capacity_, limited to the amount committed on-chain to fund them. Neither peer can ever have a balance that exceeds this capacity as that means they already control all the funds in the channel. Presumably the faucets would be providing a miniscule amount of Bitcoin, which means the channels they create to do so would not be particularly usable for anything. They would not even be useful for routing as their capacity would be insufficient to relay an average transaction before depleting the available balance.
@_date: 2018-01-25 15:30:41
So the exchange would be acting as a custodial wallet of sorts. What is the advantage of using Lightning over a centralized system for this? Seems like extra risk and hassle with little benefit.
@_date: 2018-01-11 05:17:11
"Broadcasting data to a computer network" is not the problem routing in Lightning Network solves. That problem is already taken care of for us by the internet! It is *trivial* for me to directly send you the data pertaining to a transaction. We can even handle that anonymously by connecting over TOR.
The reason the analogy breaks down so quickly is that Bitcoin and, in turn, Lightning aren't _data_ networks, they're _value ownership_ networks. They _use_ data networks to transfer information about the state of value ownership, but data is not what is being routed on Lightning - value ownership is. Value ownership has vastly different properties than bits of data, which affects the reasons routing is required for it and the qualities desired of the process to do so.
Notice, too, that this *need* for value routing is entirely due to the nature of Lightning Network. There is no _broadcast of value ownership_ happening on the lower Bitcoin layer, and Lightning Network in no way alleviates the fundamental **requirement** of data broadcast to the Bitcoin network.
Bitcoin will *always* require broadcasting of data pertaining to value ownership recorded in its ledger. No amount of routing can replace that (and since that broadcast occurs over the internet there is already plenty of routing occuring) because the problem being solved at that level is not data transmission between specific endpoints. The requirement is synchronization of state among all participants. No matter _how_ that is accomplished in the future - say some type of instantaneous quantum entanglement network - because the data is going to all participants it will be a form of broadcast.
The limits of broadcast capability that Bitcoin faces cannot be solved through routing because broadcast transmission is the *desired* quality. The solution can only be to improve the capacity for broadcasting. Second layer solutions may reduce the amount of data needed to be broadcast because the underlying layer is receiving less direct use, but they will have their own properties, challenges, and needs. Lightning's value ownership routing requirement is an example of that.
@_date: 2018-01-12 17:32:59
The node needs autonomous signing capability. Even if you lock up the key material itself, a compromised node can still be used to issue transactions.
In the case of retail POS, I assume you'd still need to support other payment methods such as credit cards. Merchants have enough trouble keeping those secure today, adding internet connectivity to their POS terminals only exasperates the issue.
@_date: 2018-01-26 18:39:32


@_date: 2018-01-14 01:09:56
*Pays the fees* is only one monetization strategy that Alice can implement. She could also use her control of your route selection to partially, if not completely, deanonymize your payment destinations.
She can exert control in the opposite direction, requiring any payments be routed through her.
To the best of my current knowledge, in the example given, Alice can only control one direction at a time. I still need to work out the proofs, but my present hypothesis is that Alice can exert full, bidirectional control over any subgraph of nodes which displays the following conditions:
* Alice has total network funding that exceeds the total combined funding of the channels belonging to the  targeted subgraph.
* Alice shares one fully controlled channel on each node.
* The nodes all allow relaying transactions between them.
* On at least two of the nodes, the total funding of Alice's channels constitutes at least 50% of that node's total funding.
* (Edit to add) Channels shared with other members of the subgraph account for at least 50% of each node's total funding.
@_date: 2018-01-21 17:26:53
Lightning nodes receive and transmit *value*.
@_date: 2018-01-11 03:13:28
I'm being unfairly antagonist in the layering reference. I can appreciate the analogy for conceptual purposes. But being familiar with the concepts already, and deeply familiar with the specifics of the OSI model in theory and practice, I find the direct comparison somewhere between simply inaccurate to grossly misleading. 
@_date: 2018-01-12 17:03:32
Maybe a Lightning Network based POS would spur development of more secure POS platforms. Unfortunately if you take any of the major retail POS systems that exist today and slap on an always-connected, internet-facing LN node, you'd be inviting absolute disaster.
@_date: 2018-01-21 16:20:23
If Lightning worked like Tor you _might_ be right. That's the problem, though. By applying onion routing to a restricted topology network, the privacy is greatly reduced. It no longer takes a global adversary to deanonymize counterparties in a transaction.
@_date: 2018-01-04 23:13:54
TPTB could be plenty happy to force merchants to deny acceptance (or report as suspicious) if they can't prove the source of the funds. This is the basis of regulation on Money Service Businesses. 
@_date: 2018-01-15 17:02:36
To the best of my knowledge, profitability is not a requirement for an activity to be considered business. The determination of the nature of such activity would be left to FinCEN's discretion and interpretation of the "facts and circumstances."
The "engaged as a business" provision, from my observation, is most often used to exclude certain types of transaction handlers. For instance, the cashier at a grocery store, although she receives funds from the customer and transfers them to the till, is not a money transmitter. She is engaged in the business of selling groceries, not the business of providing money services.
Considering that modern KYC/AML regulations, and in particular the definition of money transmitter, are specifically written to address governmental concern over the use of Informal Value Transfer Networks, it seems very likely that they would apply them to Lightning Network.
@_date: 2018-01-11 00:37:49
What follows is clipped from a recent comment of mine. It presents a basic overview of the mechanic, in an admittedly reduced context.
For instance, say you have channels with Alice and Bob, both perfectly balanced by their initial funding commitments at 0.5BTC available in either direction, represented as A(5/5) and B(5/5). Alice and Bob also have channels to the network that allow them to indirectly transact.
Alice can deplete your channel with Bob by routing a 0.5BTC payment on your shared channel, through Bob and back to herself. When this transaction completes, the channel you share with Alice is depleted toward you - A(0/10) - and your channel with Bob depleted toward in his direction - B(10/0). If you want to spend any money on these channels, Alice is the *only* choice.
Alice can also deplete the channels in the opposite direction. She routes a 1BTC transaction across the network, through Bob, to the channel she shares with you. Now the channels are A(10/0) and B(0/10). If you want to receive payment at this time, the channel you share with Alice is the only option.
It gets more complicated with the addition of more channels, and Alice could be limited in how much control she has depending on how much influence she has on other nodes with whom you have established channels. If Alice is a massively connected hub or a virtual construct of many well connected nodes, she may have substantial influence on enough of your channels to control the flow of most transactions you perform.
@_date: 2018-01-16 01:36:58
Directly stealing your funds is not the only form of theft you might suffer from a compromised node. For instance, an attacker could modify the node's routing logic to intentionally route transactions through a high-fee hop they control. This would allow them to syphon value at a slower rate, but with a lower chance of detection. Over time, this type of attack may be far more profitable than immediate theft of channel balances. The plausible deniability of this strategy makes it an ideal attack for a disgruntled sysadmin or consultant responsible for implementing Lightning-based payment systems, too.
@_date: 2018-01-15 23:09:48
Those are the best upvotes.
@_date: 2018-01-11 22:51:56
Not one bit. Every node is broadcasting their channels and capacities to the network. That information can be used to construct the potential and likely hops a route could have taken. Any hop that doesn't have suitable channels to be acting as a relay is an automatic candidate for the source. This information can further be enhanced by probing the nodes along those paths to observe changes in channel availability. 
Finally, by manipulating channel availability of other nodes, a well funded attacker can influence the routes available to and from a given node, helping to isolate the transactions it generates from those it relays.
@_date: 2018-01-20 20:41:48
I do not care for my reputation, other than that I strive to approach issues using the best facts and knowledge at my disposal. It improves my own understanding of a topic to engage in dialog. I'll make no apologies for _what_ topics I discuss, _who_ I discuss with, or _where_ those discussions occur. You've at least looked at my post history; if you review my posts on r/btc you will find that I am _at least_ as critical of their sacred cows as I am of Lightning Network. 
The design of Bitcoin is an example of post-privacy anonymity technology. It _eschews privacy_, with the assumption that it cannot be ensured. In its place we are afforded a degree of pseudoanonymity. It is not easy to use this feature to its full extent, but it is possible. Lightning Network trades a lower degree of pseudoanonymity to reintroduce a degree of privacy. The claims made of that privacy are vital to assessing the impact of the tradeoff to specific use cases.
Rent-seeking does not imply the adversary will strangle the victim in fees, or even stress them to the point of discomfort. It is a loose example of a strategy in which the self-interest of an intermediary may align with a capability to keep profits artificially inflated.
@_date: 2018-01-16 15:08:53
Profitability calculation is more complicated than just how many people are mining. Unless there is a dramatic break through in miner efficiency, energy consumption increases with total network hash rate. Even with such a breakthrough, any reduction in consumption is likely temporary as long as new hash power comes online. Only if the total network hash rate decreases would there be a reduction in consumption.
@_date: 2018-01-21 20:08:00
Just don't piss off the powers that be. Also, wouldn't hurt to be middle class and white. Know your place.
@_date: 2018-01-08 14:49:59
Exchanges attempt to *minimize* the amount of coin they keep in hot wallets. Those who don't are mocked when their reserves are predictably stolen. Lightning Networks security properties don't seem so attractive in comparison. What kind of auditor hell would Coinbase have to endure from their insurance company if they locked up another 1-2% of their funds in autonomous Lightning nodes?
@_date: 2018-01-02 23:43:33
What plans do you have for securing your Lightning Node, considering its need for autonomous signing capability?
@_date: 2018-01-03 18:27:26
That would prevent autonomous channel rebalancing.
@_date: 2018-01-15 21:49:44
I really don't see why regulators would _desire_ to exclude Lightning Network from coverage. The purpose of these laws is to ensure visibility into the flow of money - ostensibly to counter money laundering of criminal proceeds and funding of terrorism. Even if you believe there to be more tyrannical intent, and perhaps all the more so, exempting Lightning Network from regulation would open a giant loophole. It's not like Lightning Network is getting accidentally lumped into some poorly written definition; the regulations are _carefully worded_ to be as broad as possible with the intent of covering everything that even vaguely looks like Lightning.
@_date: 2018-01-04 22:00:21
Unfortunately the use of onion routing on LN is far from ideal. Unlike TOR nodes which are perfectly interconnected via the internet, LN nodes are point-to-point connected by their payment channels. As if that didn't degrade the anonymity enough, only channels which are sufficiently funded and appropriately balanced can be used to route a transaction. This greatly reduces the potential route a transaction could have taken. Since channel state is broadcast to the network, more valuable clues are leaked, further reducing the protection provided.
@_date: 2018-01-14 16:53:50
Just the ravings of a madman to go from at the moment. I think I managed to outline it fairly well in a previous comment, which I will copy here:
The failure is primarily in the mix-net features of routing. Although Lightning allows source routing, route options are restricted by the decisions of intermediaries. This is different than the intended use case for onion routing, where hops can be selected arbitrarily. Furthermore, transaction metadata leaks information that informs intermediaries of potential route options beyond their immediate neighbors. In particular, approximate knowledge of the value (slightly complicated by the inclusion of fees) is necessary for intermediaries to execute their relay function. However, the transaction value affects the suitability of prospective hops.
Control of route options by the intermediary makes it possible to construct contrived routes via controlled or influenced nodes. As the intermediaries control the set of hops to choose from and their actual availability for routing, routes that enter such a construct can only exit at points of the intermediaries choosing.
For these constructs to be of any use, we need to entice the targeted source or destination to use them. These strategies apply to either direction, with slight variation.
* If the only channel a target has available is an entry to our construct, it will offer the only possible routes over which they can transact.
* If our construct is one of several channels a target has available and they make themselves available for routing 3rd party transactions, we can degrade the availability and capacity of alternative channels while maximizing the availability of our shared channel by selectively routing transactions through the target.
* If our construct shares several direct channels with the target, direct channels with other partners of the target, or can otherwise influence the routing options of the targets immediate neighbors and beyond, more strategies can be used to manipulate their routing decisions. (More research needed in this area)
* It is hypothesized that even indirect influence over a sufficient number of a target's channel partners is can permit manipulation of their routing decisions with a high degree of reliability. (Much more research needed.)
What do these constructs enable?
* Transaction pattern analysis
* Partial-to-full source/destination decloaking, assisted by transaction value data leak
* Disguised rent-seeking
* Dynamic reconfiguration of route options and availability
* Unknown evil things. (Look at all this space for research!)
@_date: 2018-01-14 16:42:32
Say you have channels with Alice and Bob, both perfectly balanced by their initial funding commitments at 0.5BTC available in either direction, represented as A(5/5) and B(5/5). Alice and Bob also have channels to the network that allow them to indirectly transact.
Alice can deplete your channel with Bob by routing  0.5BTC worth of payments on your shared channel, through Bob and across the network back to herself. When these transactions complete, the channel you share with Alice is depleted toward you - A(0/10) - and your channel with Bob depleted in his direction - B(10/0). If you want to spend any funds on these channels, routes through Alice are your *only* choice.
Alice can also deplete the channels in the opposite direction. She now routes 1BTC worth of transactions across the network, through Bob, to the channel she shares with you. This leaves the channels A(10/0) and B(0/10). The only routes available for you to receive funds now must go through Alice.
When Alice is one of Sybil's many identities, operating  a massively connected virtual construct of many well connected nodes, she may have substantial influence on enough of your channels to control the flow of most transactions you perform. Once the flow is captured, she controls the availability of **every subsequent hop** until she *allows* you to route to a node she does not control. She can hide her manipulations deep in the routes offered to her victims, better masking the activity and source.
@_date: 2018-01-10 14:39:44
A Lightning node, especially one used to service third-party transactions has substantial different security requirements than a Bitcoin full node. Make sure you're ready for the responsibility.
Spam transactions on LN can be used to influence the channel state of your node, manipulating the availability of channels in the send or receive direction, and entice transactions you generate, or those you route, on to attack-controlled paths.
@_date: 2018-01-12 01:09:35
If everyone is opening 20 channels, sure. That's going to get really expensive though. There is another elimination strategy I didn't cover which can drastically reduce even massively connected graphs like that.
@_date: 2018-01-21 19:37:09
That's a really broad question. My guess is that it would depend on the specific circumstances of any given situation. An easy application that fits existing standard operating procedures would be to include it as an additional charge with any tangential related crime to add leverage on a plea bargain.
@_date: 2018-01-14 06:51:05
Reality, sadly, disagrees.
@_date: 2018-01-15 22:45:51
The energy expended in mining a block is entirely independent of the number of transactions it contains. The need to mine is in no way decreased by transaction being performed on Lightning Network instead of on-chain. The protocol will still target one block every 10 minutes, and miners will still expend as much energy as is economically justifiable in an effort to capture the rewards for doing so.
@_date: 2018-01-21 21:36:36
It's not hard to run, perhaps, but security is not easy to maintain. Plenty of game server operators wouldn't necessarily recognize they'd been hacked, and the reward for doing so would be minimal for the attacker. Lightning nodes will have a bounty on them. If the operator is unaware of the initial compromise, an attacker has long-term strategies that could make it even more profitable.
@_date: 2018-01-16 21:32:45
Unfortunately onion routing is poorly suited to the architecture of Lightning Network.
@_date: 2018-01-15 22:10:33
Should tie an onion to her belt.
@_date: 2018-01-19 20:45:41
This doesn't obviate the need for the exchange to maintain a hot wallet, though it may reduce the balance stored on their side of the channels used. There is unlikely to be substantial cost savings in terms of security as they still need to secure it well enough to support their maximum capacity. They _could_ reduce that capacity and the number of channels they must support by not opening direct channels with users, relying on a liquidity provider intermediary. This is additional cost to the exchange, as the provider must _also_ maintain sufficient security for the maximum balance of their channels. It also introduces risk to the users in terms of availability, should there be a rush to load or offload coins from the exchange. And this all works _against_ the business interests of the exchange, who wants you to keep your coins in their custody and trading in their books.
@_date: 2018-01-26 17:59:08
They have control of the value received once they've fulfilled their obligation.
@_date: 2018-01-09 19:55:40
No one can sign for you unless you trust them with your private keys. At which point you're not using Lightning Network, you're using a payment processor who uses the Lightning Network.
@_date: 2018-01-21 02:54:37
The claims in question are foundational to the onion routing privacy mechanism. If they are not applicable due to the network design, then in my opinion they should not be made. Since the design borrows so much from another system (namely Tor) it would be prudent to acknowledge known differences, assuming my concerns are valid. Until more is known about the impact of these differences, I cannot know what satisfactory would look like.
@_date: 2018-01-26 20:20:05
They regulate, among other things, the facilitation of transacting with currency and currency substitutes.
@_date: 2018-01-24 03:21:14
Scalability isn't the only issue that arises from this arrangement. 
@_date: 2018-01-09 17:34:58
You cannot receive on the Lightning Network when offline. Unlike on-chain payments, the receiving side must _actively sign_ the rebalancing commitment transactions with their channel partner to receive transmitted value.
@_date: 2018-01-14 21:30:51
Of course LN provides an improvement in privacy over on-chain transactions. On-chain transactions offer no privacy, *by design*. But that privacy comes at the expense of pseudoanonymity. If we do not have an accurate understanding of the privacy offered, we cannot appropriately judge the impact in the trade-off.
Making 100 transactions from the same on-chain address is not the intended method of use. If, instead, those transactions paid out to change addresses which were then used in subsequent transactions, their association to owner the original address can only be *inferred*. This is strictly better, in terms of pseudoanonymity, than the explicit association with a node identity that Lightning creates. Lightning further explicitly associates multiple channels with a single node identity, something that would not befall even your example of misused on-chain transactions if it were expanded to a second address.
Neither solution can stop users from reducing their best-case assurances through misuse. But given the best case application of them, they offer a different balance of privacy and pseudoanonymity. Trading one for the other may be acceptable to some users, but they should make that decision with a full and honest understanding of what they're receiving for doing so.
@_date: 2018-01-16 00:25:29
The regulations do not appear to indicate the source of the value carrier received must be the same as the value carrier transmitted. Such an interpretation would seem to run counter the intent of these regulations to apply to Informal Value Transfer Systems, where all types of carrier mixing might occur.
@_date: 2018-01-10 08:04:26
Routing in this manner causes the alternate channel to become unbalanced. It is a useful technique for dedicated intermediaries who will only slowly deplete their channels through the accumulation of fees. It is less useful for merchants with a substantially higher net-receive profile. If Amazon were to attempt this they would end up committing an ever-increasing amount of funds to open more and more new channels.
@_date: 2018-01-14 16:16:24
An LN wallet is a node.
@_date: 2018-01-21 18:23:58
Not really vague. _Intentionally all-encompassing_ would be a better description.
@_date: 2018-01-15 00:30:05
I have taken no particular effort to challenge them on this issue. As far as I know, no one else has found my claim sufficient to bother them with it.
@_date: 2018-01-27 01:19:30
An increase in batching should be apparent by an increase in average transaction size. Is that the case?
@_date: 2018-01-12 07:00:22
TOR has its vulnerabilities, to be sure, though onion routing works far better in that environment.
Since we all know the value of exponential complexity (and how to calculate it), we can see the immediate improvement when the nodes are completely interconnected via the internet:
* Entry/exit nodes can be selected arbitrarily, not required to start with a channel partner
* Hop choice is arbitrary, not limited to a tiny subset of intermediary-selected options
* Transaction properties don't limit hop suitability
Most of the weaknesses I've seen from TOR are related to information leakage that shortcuts association of public and darknet identifiers. Services with unique identifiers (keys, certificates, names) exposed on both sides, uniquely identifiable clients, personal artifacts (PGP, email, names). A lot of that is just bad opsec.
But it's not all opsec failure either. Advanced adversaries have intelligence and observational capabilities allowing them to associate network traffic based on timing and other factors to deanonymize TOR. There have been a number of data leaks in the protocol known to have been exploited as well. And then there is always the chance for malware to used to attack directly.
That was actually what drew my interest to LN. Knowing that even with a more suitable network onion routing has its flaws, I was curious just how broken it might be when applied in a poorly suited context. It's been fun to ponder and about what I expected.
@_date: 2018-01-11 23:52:27
20 hops with 5 channels is 3.2 million potential senders. That does seem like a lot. Let's see what we can do about that.
We know they're not paying _us_ so it's really more like 19 hops maximum. 2476099 is still a lot.
Of course one of those channels goes to the node after it, so that cuts us down to 130321. A bit more manageable.
Not all of those channels are going to be viable for the payment. Some of those paths are going to be total dead ends, with no suitable routes that could be the source of a relay, we can terminate early on those and mark them as a potential source. This is a bit of a spitball, but let's call it about 7000 at this point.
We can apply some estimate of the fee logic the sender used when constructing their route. Now we can't really rely on this knowledge directly because the sender could be using different logic, but we can use it to prioritize some active testing. Let's start sending transactions from other nodes we control to test the availability of our suspected routes. Lightning network is super fast and cheap so it shouldn't cost us much to enumerate 7000 potential hops. And we can stop early on routes that _are_ available, so our exponential decrease continues ensuring we don't need to test anywhere near all of them.
 
The privacy picture isn't looking so swell any more...
And this hasn't yet taken into account that we, being the well-funded attacker we are, likely control several of the hops along this route. We can be almost certain of that because we can selective manipulate route availability of other nodes on the network, engineering a preference toward our intentionally constructed pathways.
@_date: 2018-01-15 02:38:04
No matter how randomized a sender attempts to make their route, their choices are always limited to the set of possible routes. That set is determined by the intermediaries, not the sender, through their actions to make channels available.
@_date: 2018-01-21 19:43:36
Money transmitters don't have to move actual money to be considered so. The laws are written with the intent of including all types of value transfer systems, regardless of the carrier (value substitute) used in the act. Channel balances and the HTLCs that reassign them are one type of carrier.
Rather than trying to deny this, effort would be better spent working to get FinCEN to provide an Administrative Ruling that explicitly exempts Lightning nodes from money transmitter status. Given that would drive a major hole through the intent of the regulations, it seems unlikely to succeed, but the alternative is to finally accept the reality when you find yourself on the wrong side of the law.
@_date: 2018-01-15 03:25:33
You can get a pretty decent idea of the current balances of channels with some active analysis. First deplete the channel in one direction routing transactions through it in that direction, this sets a baseline. Immediately deplete it in the opposite direction. The value that you can route in the second direction is, approximately, the portion of the total channel funding currently assigned to the peer on the far side of that channel.
Edit: this assumes the nodes have sufficient capacity on other channels over which the transactions can be completed.
@_date: 2017-12-21 21:01:06
The automation is a differentiator, too. Most people probably aren't used to their wallet performing transactions without their knowledge/consent. It complicates auditing a bit as well:
* Why did this transaction happen? 
* Was it routing a third-party transaction or rebalancing?
* Was the decision to rebalance necessary or optimal?
* Why did it choose the route it did?
* Could it have taken a less expensive route?
* Is there any indication the route selection was manipulated, either on-node or by the network?
These are questions that the vast majority of Bitcoin users have never had to ask. Never mind the possible tax implications...
@_date: 2017-12-18 03:33:48
It takes effort to monitor and effort has an associated cost. Watching the blockchain for offending transactions isn't that hard, it just requires uptime. Publishing the breach remedy isn't super difficult, either, though during a high-fee period it may require adjustment to the fees paid, retransmission, etc.
Not so bad, right? Do it yourself.
But here's the tricky one. If you want that to be automated, you've got to keep the channel keys accessible to the service, unencrypted. This adds significant risk and cost to the operation of a node. Exchanges go through a lot of work to secure their hot wallets; at least the ones that don't lose millions of dollars in funds. Think the average user can keep their node secure enough for that? Think all those merchants regularly getting hacked and exposing credit card details are ready to protect a persistent hot wallet containing the keys directly responsible for their recent income?
@_date: 2017-12-20 14:22:31
If **your node** is not correctly secured, yes, you risk having **your funds** stolen.
@_date: 2017-12-27 02:03:51
This is a consequence of the trustless negotiation scheme when initially funding a channel and when issuing new commitments to update the channel balance. This applies to all payment channels defined for use in LN.
The initial funding transaction **must** be confirmed on-chain, after which you can rebalance the payout _of those funds_ by exchanging new commitments that invalidate the immediately proceeding commitment. As long as those commitments remain unpublished, you can go on shifting the balance back and forth without paying an on-chain transaction fee, but you can only work with the funds initially committed.
You could expand the total funding of a channel by committing additional coins _with an on-chain transaction_. This effectively creates a new channel, mixing the payout of the old channel with the new funds into its funding transaction.
Edit to add: _invalidate_ as used above when talking about the commitments has a particular meaning. The deprecated commitment transactions remain entirely valid as far as the blockchain is concerned. During negotiation, each party reveals to each other key material that would allow the counterparty to issue a breach remedy transaction if the previous commitment were ever to be published.
@_date: 2017-12-24 19:42:34
It's not a flaw in and of itself, that's just how cryptographic signing works. It's important to know this, though, so you can take the right precautions.
@_date: 2017-12-27 08:05:43
A Lightning node, especially one used to service third-party transactions had substantial different security requirements than a Bitcoin full node. Make sure you're ready for the responsibility.
@_date: 2017-12-22 14:46:36
Does using the Lightning Network in this limited way modify any of the economic incentives and assumptions about its security or trustlessness?
@_date: 2018-01-11 17:28:40
You don't need to be online to receive payment on-chain. Your private key never even needs to directly touch a network-connected system.
You must **actively sign** commitment transactions to receive payment on Lightning Network. Unless you are willing and able to manually coordinate to perform transactions with your counterparties, your network-connected, always-on node **must** have autonomous  signing abilities with your private keys. This is a radical shift in security requirements.
@_date: 2017-12-26 15:05:31
If you never want to settle to the blockchain then there is no point to using LN. Without that settlement function, LN provides nothing of value.
@_date: 2017-12-20 23:48:44
Accepting on a Segwit address would not reduce the fee. That's dependent on the sender's address being Segwit-enabled.
@_date: 2017-12-21 03:39:08
Is that the one where too much free beer leads to speaking too freely? I'm all too familiar with _that_ problem.
@_date: 2017-12-27 07:47:59
There is a limit to how much income you can receive if you don't spend an equal or greater amount. At any given time, your share of the channel balance can never exceed the total funding amount of the channel. If too many people tried to pay you at once or over a short time, you may deplete your channels and be forced to open a new channel to receive on or to stop accepting payments.
@_date: 2017-12-18 04:04:17
Running a Lightning Node, especially one performing bidirectional transactions and routing between multiple channels has **significantly different** security requirements than a Bitcoin full node. Since channels are rebalanced by exchanging pre-signed transactions, nodes will need to have access to private key material. This is closer in nature to the hot wallets used by exchanges.
@_date: 2017-12-19 20:07:14
Worst case scenario is that your node gets compromised and the attacker uses it to send a LN payment of 4 BTC to a node they control. Actually, it gets worse than that, but this demonstrates the risk.
@_date: 2017-12-19 21:40:57
Make sure you're prepared for the security implications of running a Lightning Network node, especially if you plan relay transactions or intend to receive payments without manual coordinatation. LN nodes need access to the *unencrypted* private keys used to manage their payment channels. This essentially makes them hot wallets. Compromise of your node could very well lead to theft of your channel balances.
This would have lesser impact while the network is operating  on testnet without substantial token value, but will be a critical issue for running a node on mainnet. Use this time to learn and implement strong security practices. Bad security habits formed now could leave you in an unfortunate spot once real money is on the line.
@_date: 2017-12-21 16:06:25
Before the Lightning Network can solve scaling problems, we first need to prepare the community for the responsibility of operating secure nodes. Transacting on LN is an active process and nodes require access to the unencrypted private keys used to manage their channels. If a node is compromised the available balance on open channels is exposed to theft. This is a significant difference from the offline transacting supported by Bitcoin. To get the full benefits of LN, users will not simply be able to secret away their private keys on airgapped hardware wallets.
@_date: 2017-12-16 21:12:07
Your node offers no protection though. It is the majority work proof commiting transactions to the block chain that prevents double spending. Your non-mining node plays *absolutely no role* in preventing it.
@_date: 2017-12-16 16:47:34
133MB blocks are required for 14 billion transactions *per year*. Enough for each person to open and close one channel.
@_date: 2017-12-18 19:40:05
No qualms about laundering money via Lightning transactions? This is yet another largely unexplored topic, but one that deserves some research, especially when we start looking at cross-chain transactions.
@_date: 2017-12-27 07:27:45
Such a channel could never be settled on-chain. It would offer no security.
@_date: 2017-12-23 08:37:20
Can't receive payments, though. Weird, wonder why that is.
@_date: 2017-12-17 03:35:48
I'm quite lucid. Non-mining nodes have never contributed to consensus of the network. In fact, in 2009, a client that did not mine would likely not have even been called a node.
@_date: 2017-12-25 07:19:51
It is a natural consequence of payment channels. The funds on a channel can only be balanced between the two partners. While the partner can relay that change in balance on other channels, all transactions involving funds comitted to a channel *must* go through the associated partner.
If I know you have $100 that you can only spend by passing it through me or by paying $20 to break our contract and establish a channel with someone else, I have leverage over you on fee negotiations for providing the service.
@_date: 2018-01-23 02:12:27
Hmm... I still see us as in agreement here. Perhaps the language of my initial comment is not as nuanced as it could be. You're not the only one to read into it a suggestion that a larger work source would become Bitcoin, so I suppose the fault is likely mine. Does this do it better justice?


@_date: 2017-12-31 04:30:45
Bitcoin Core already supports 4MB Segwit blocks. But that would only happen with very heavy multi-sig use, which isn't in line with reality. Even with 100% adoption of Segwit, that extra space is unlikely to be used.
@_date: 2017-12-27 09:20:19
If there is a cost to closing the channels, then the partner has leverge on the fee negotiation.
Identifying vulnerabilities and weaknesses is not FUD. Disregarding them as such is detrimental to the success of Lightning Network.
@_date: 2017-12-22 04:21:46
You won't need to give up your private keys if you're running your own node - and that's what a Lightning Network wallet would be (unless you're doing some crazy hosted wallet thing which... well, just don't do that). To get the full use of your node, however, it needs to perform autonomously, and will therefore require access to the unencrypted private keys that manage its payment channels. This is why it is important that the node be secured; compromise of this always-on node could lead to theft of funds.
@_date: 2017-12-29 16:11:13
If the only *viable* path to your counterparty is through a CB/KGB construction, you end up in the same trap, with _maybe_ a couple hops to help hide. Because channels require proper balance in the proper direction to be viable for routing, a well funded adversary can manipulate the options of nodes not even under their direct control to push transactions into their routing construct. And, again, all of this looks completely decentralized.
If financial regulators want hooks into LN, they may require Coinbase to terminate the account of anyone found to have unapproved channels and to limit routing options only to channels for which KYC/AML is effective. It would not take much to force law-abiding businesses on to these subnetworks.
@_date: 2017-12-31 07:02:57
I have not.
@_date: 2017-12-19 18:12:22
In the event that no one shows up to dispute this, I don't want you to be left taking my word for it. I'd like to help you research the facts for yourself, if you're interested.
You say you're not an expert on Lightning, but I'm not sure how familar you are with it. Is there some particular point at which you believe my assertion fails?
If you're not familiar enough to take specific issue, then I suggest starting by looking into how the bi-directional payment channels that make up the Lightning Network infrastructure work. The need for access to private keys is a direct consequence of how counter-parties rebalance their channel to effectively transmit value between them.
I'm happy to answer any questions you have or, if I don't know the answers, assist in researching them. This is a topic that has gone largely ignored in the discussion of LN. If high on-chain fees result in a rushed release and push for uninformed users to run nodes, it could lead to a lot of pain for common people.
@_date: 2017-12-21 07:52:17


Massive nodes are an inefficient way to control the network. A better approach would be to control many nodes *and* the interconnections between them. This would provide more opportunities to _farm_ third party nodes, consolidating them into routing paths that can be optimized based on their transaction patterns and utility for channel balancing. The illusion of decentralization established in this way could help to disguise abusive rent seeking fee behaviors and give the operator greater deanonymization capabilities.
@_date: 2017-12-18 19:20:41
Given much thought to the legal and regulatory implications of acting as intermediary servicing third-party transactions? I'll probably catch a thrashing for bringing up this "FUD", but given your reasoned stance on node security risks, I'd be interested to hear your opinion on that angle, as well.
@_date: 2017-12-22 15:37:15
The mechanism for the channels is the same, yes. But what about the network? If you only have one channel open, what economic constraints does that partner have on the fees they can charge? At some point you're likely to scoff and exit the channel, but if the exit cost is high you're likely to pay the fee, especially if your payment is urgent.
@_date: 2017-12-30 20:22:03
Those private keys must be available to the node in order to manage the channel. If Bob's node is compromised, Alice can use the node to sign the transaction on behalf of Bob. Though there are better attacks that Alice can perform.
@_date: 2017-12-24 04:28:36
Don't think of it as a warning so much as a call to action.
@_date: 2017-12-16 04:00:07
The vast majority of Bitcoin trading happens off-chain at Exchanges. Giving up a huge part of Bitcoin's security by trusting the exchange with its custody allows for low-fee, high volume trading. Since Exchanges also tend to serve as on/off-ramps for fiat, their order books are the defacto source for quantifying the value of the currencies thus traded.
@_date: 2017-12-19 14:05:33
Even these solutions only serve to make the rebalancing easier. You still cannot rebalance your way to net receiving in excess of the sum total of your channel balances.
@_date: 2017-12-25 15:36:10
Control of a society's money has been a means of influencing and controling societies since the invention of money.
@_date: 2017-12-22 01:08:01
Are there any community efforts or open projects focused on collecting and disseminating security guidelines for running a Lightning Network node? It continues to surprise me how many very exuberant LN promoters are unaware of the active nature of transacting and the fact that nodes will require access to unencrypted private keys to receive payments or service third-party transactions. It would be quite the set back if early adopters lose funds from a malware infection because they didn't understand the risks and take appropriate precautions. 
@_date: 2017-12-19 20:04:07
Bitcoin allows you to receive payment without ever being online. Even generating a transaction never requires your keys on a connected system. With some very minor security trade-off in exchange for ease of use, this makes solutions like Trezor and Ledger highly secure options for anyone to use. And they use them because keeping a wallet on a network connected machine, even encrypted at rest, poses a risk.
It is **very common** for existing malware to search compromised hosts for cryptocurrency wallets. It will be a minor upgrade to arm them with LN node key stealing or channel draining functionality. This will be directly and immediately profitable for the malware operator. LN nodes will be specifically targeted for that bounty. LN nodes *advertise themselves on the network*. Fish in a barrel.
@_date: 2017-12-18 21:18:37
Automation of Lightning Network channel management operations requires that the node software have access to the unencrypted private keys. Nodes essentially act as a type of hot wallet, making them a valuable target for exploitation. The requirements for secure operation of a Lightning Network node are vastly different than a Bitcoin wallet or even full node.
Nodes will almost certainly want to be automated - can you imagine having to communicate your desire to purchase out-of-band so the vendor can temporarily bring their node online to perform the transaction? But this security is going to come with an increased operational cost, one that will be priced into the fees nodes will charge to service transactions.
@_date: 2017-12-24 04:07:58
Before the Lightning Network can solve scaling problems, we first need to prepare the community for the responsibility of operating secure nodes. Transacting on LN is an active process and nodes require access to the unencrypted private keys used to manage their channels. If a node is compromised the available balance on open channels is exposed to theft. This is a significant difference from the offline transacting supported by Bitcoin. To get the full benefits of LN, users will not simply be able to secret away their private keys on airgapped hardware wallets.
@_date: 2017-12-21 05:46:26
Remember that those machines will need to be kept appropriately secure for the funds to which they have access. If they themselves are nodes, they will need to have access to the unencrypted key material used to manage their channels. Any balances on open payment channels would be at risk if the system is compromised. If they are not nodes themselves but rather equipped to initiate a transaction from a remote node the possibilities may be more limited, but it still carries risk.
@_date: 2017-12-25 06:23:26
There is a similar solution that can be completed off-chain, providing easier flexibility: 
@_date: 2017-12-26 16:17:29
Make sure you're prepared by planning your node security strategy now. An LN node effectively acts as a hot wallet, requiring access to the unencrypted private keys used to manage its payment channels. There is a substantial difference in the security requirements of an LN node compared to holding a Bitcoin wallet or even full node.
@_date: 2017-12-18 20:23:47
My current thoughts, and these are **very preliminary**, are that passive observation of the broadcast channel announcements would be useful in statistical analysis, but perhaps not reliable de-anonymization. Still, it may be sufficient to identify _potential_ fee laundering when the amounts are tuned to minimize over-all cost by consuming as much available throughput from the non-involved intermediaries. Exhausting their channels would trigger rebalancing that should be observable as a change in advertised fees. More careful maintenance by the laundering system could mask that, though perhaps at an increased operational cost.
Since LN features long-term channels with unique identities and offers intermediaries abilities to affect the timing of transactions, active network reconnaissance is almost certain to be far more fruitful in de-anonymization. Actors who can host large numbers of well-connected, independent-looking nodes should be able to entice senders to route through them and use that position to make controlled observation of various types of interference and delay.
@_date: 2017-12-22 14:53:34
The node needs to _sign_ payment channel commitments with the private keys. To do that, it must be able to access them unencrypted. 
@_date: 2017-12-25 15:29:17
Centralization of money is cheaper in terms of energy expenditure, but very expensive in terms of freedom and human suffering.
@_date: 2017-12-26 19:37:33
Your routing decisions are limited by the connectivity of your channel partners. Despite the use of onion routing, you cannot route through arbitrary nodes as you can in Tor.
Your first hop on every route for a transaction sent from a channel **must** be that channel partner. The second hop **must** be a node with whom that partner has an established *and sufficiently balanced* channel. And so on.
The route selection is likewise restricted in the reverse direction. The last hop **must** be the partner of the receiving channel. The second to last hop **must** be a node with whom that partner has an established *and sufficiently balanced* channel. And so on.
You can choose from any route that fits those parameters. Can you think of any ways the intermediaries can manipulate your decision?
@_date: 2017-12-06 02:56:28
You'll have to keep your private keys in memory on your LN node for it to manage its payment channels. It needs to stay online pretty much constantly, publicly exposing services to the internet. You may be more than capable of securely managing an always-on server directly processing financial transactions, but it is not widely held skill set, even by those regularly do so.
@_date: 2017-12-27 09:22:57
Collecting fees requires asymmetrical sending and receiving. The potential for negative fees makes this even less predictable.
@_date: 2017-12-27 04:23:20
Running a well-connected Lighting node will not cost nearly nothing. The committed funds alone may be substantial. Add on top of that the security required, and the cost begins to climb.
The fact that sequential hops must have a direct channel means you can't select them arbitrarily. On each hop you can only select from a relatively tiny fraction of all nodes, and that subset is determined entirely by the preceding hop.
Reputation is fleeting. You would still rely on your partners upstream channels to be well behaved. A well funded adversary (lots of stake) will be in a position to manipulate the channel state of the network. It will take an incredible level of vigilance from the network participants to detect and avoid attacks.
@_date: 2017-12-27 03:01:07
That is a potential use case, yes. One I have not denied.     All I said is that the channel can become depleted. If you sell too much, you'll be unable to receive more payments until you spend or establish another channel. With multiple channels you can shift balances around, but if your spend/receive activity is not balanced, eventually you need to add or expand channels. 
Will you agree to open your mind as well? Can you think of ways your channel partner can abuse you when using Lightning Network in the way you proposed?
Some places to start:
* They will always be the last hop for transactions paying you on the channel.
* They will always be the first hop for payments made from the channel.
* Your second hop choices are limited to nodes for which your partner has established and sufficiently balanced channels.
* There is a cost to your partner for maintaining the channel and the available capacity on other channels for you to spend/receive through.
@_date: 2017-12-22 18:06:02
It would seem lots of people are interested in having this discussion.
@_date: 2017-12-03 19:07:40
The coins are protected by being committed to a multiparty contract with your payment channel partner. You will own the private key responsible for your actions on the contract, your counter-party owing the key for their actions. This contract is a type of Bitcoin transaction, recorded on the blockchain, so the keys could be generated from an existing wallet's seed - ultimately this is up to wallet implementations.
When opening a payment channel contract the counter-parties commit an share of funds and trade unpublished transactions that allow closing the contract and the release of an agreed balance. To transact, the parties swap new, unpublished transactions that adjust the balance paid. The exit transactions are pre-signed by the counter-party, only requiring the signature of the holder to become valid on the Blockchain. Using these transactions, the contract is closed in one of three ways:
* **Mutual agreement, immediately paid.** The parties mutually agree to close the contract by countersigning and publishing an immediately payable exit transaction at an agreed upon balance.
* **Unilateral closure, time delayed.** Either party can close the channel at any time unilaterally signing and publishing the latest, pre-signed exit transaction. These transactions are constructed such that funds are released immediately to the counter-party, but funds to the publisher are locked for a specified amount of time. Publication of the exit transaction also exposes key material necessary to execute a punishment transaction.
* **Punishment.** If one party signs and publishes an out-of-date exit transaction in attempt to acquire a larger share of the balance than they are rightfully due, the contract is written such that the other party can respond during the time delay to claim *all the funds* of the channel as punishment. Using the key material exposed in the maliciously published exit transaction, the honest party can publish a transaction that breaks the time lock and takes the funds otherwise intended for the dishonest party.
@_date: 2017-12-07 05:19:57
No doubt the IRS would want the money accounted for, one way or another, but this liability might not fall on Andreas. 
Presumably he has received this donation without expectation of renumeration, qualifying it as a gift. When the giver is a US-taxpayer, the giftee owes no taxes. The giver, however, is liable for taxes under certain conditions. Any amount over $14,000 gifted to an individual during a calendar year is subject to a federal gift tax of a whopping 40%. A married couple can each gift that amount to single person, for a total of $28,000. This is obviously way over the mark, but there is something that the giver can do reduce or eliminate the tax due. In addition to the annual exemption, taxpayers also have a lifetime exemption of $5.34 million to split between gift and estate taxes. The giver could exempt the entire gift, at the expense of burning ~10% of their lifetime exemption.
If the gifter is not a US-taxpayer, and especially if they are a US-expatriate, things get a bit more complicated. This could be compounded if the giver remains anonymous, increasing the difficulty in determining if the relevant tax requirements have been met.
Receiving a gift of this magnitude, especially when the source is unidentified, can lead to non-tax related issues as well. It opens the door for accusations of impropriety and could affect Andreas' ability to work in certain regulated fields. If the source of the donation is ever linked to illegal or unethical activity, it could taint his reputation by association.
@_date: 2017-12-27 02:28:53
No, I said they can never exceed their *total funding*. If each of us commit 5 BTC to a channel, there is 10 BTC total funding. From that starting point, the biggest payment I could forward to you is 5 BTC, the share of the funds currently assigned to me. Now that all the funds are assigned to you, I cannot pay you on this channel until we have shifted the balance back in my favor. However, you are now able to send a payment to me for up to 10 BTC, the share of the funds currently assigned to you. But that's the maximum value payment we could ever make on this channel. If you owed me 15 BTC, you'd need to send me the remaining 5BTC on another channel.
@_date: 2017-12-21 06:54:54
Just to emphasize: 
Even if the money is legally obtained and you pay all the right taxes on it, structuring transactions like this is a felony in and of itself. If you were to be prosecuted for structuring, there is no need to prove additional intent beyond avoiding the paperwork requirements that come with $10,000+ transactions.
If you don't like prison, don't do this.
@_date: 2017-12-19 19:24:35
Client Bitcoins will absolutely be at risk for any node that automatically accepts payments or services third-party transactions as an intermediary.
@_date: 2017-12-21 04:52:01
They're not _quite_ instant, but assuming everything goes well they should be very fast. If there is an interruption in a transaction you may be left with open time-locked contracts, basically tying up the affected funds until they expire or the transaction completes. But your money is safe during that.
@_date: 2017-12-22 16:51:00
A channel is most certainly not set in stone. This is the fundamental misunderstanding I see a lot. Payment channels work by varying the payout balance of the  committed funds. This happens by swapping new, **signed** commitment transactions. Under normal, cooperative conditions these commitments are never published, but they are the thing that allows unilateral closure of the channel.
@_date: 2017-12-29 15:40:55


@_date: 2017-12-18 03:22:51
Sending and receiving on LN are sparate sides of the same activity, unlike Bitcoin where they are completely disconnected. Difficulty in receiving means difficulty for the sender. If the sender can't find a sufficiently funded route to the receiver, the payment fails. If the reciever has limited routes available, the sender may have to pay inflated fees to reach them. If intermediaries or the receiver prove unreliable, the sender may have their channel funds in limbo until the contracts time out or the channels are closed.
@_date: 2017-12-27 05:04:21
The properties of Lightning are likely to expose lots of opportunity for deanonymizaton of Tor traffic. Probably won't be a good mix if you're looking to avoid the law.
@_date: 2017-12-27 04:38:37
You never considered a thought counter to your established opinion. 
@_date: 2017-12-26 16:13:21
The high fees aren't being generated by people making lots of low-value transactions. No matter how many micropayments LN could support, it won't reduce the fees if it doesn't attract a majority of the high-value transactions that are pushing up the fees. But LN doesn't support high-value transactions...
@_date: 2017-12-21 23:24:04
I think it's a seriously undercommunicated issue that will have significant impact on the long term success of the Lightning Network. It's a topic that tends to make people uncomfortable, though. The worst thing we can do is wait until it's too late. If users are unaware of what they need to do to protect their nodes and private keys, a widespread malware attack stealing funds would have a devastating impact on public perception and confidence in the system, not to mention all the pain for those affect.
@_date: 2017-12-19 20:50:42
You don't need to have a wallet open on your computer to transact with Bitcoin. You can send and receive while your keys stay entirely offline.
You can not make full use of Lightning Network without making your keys accessible (different levels of "accessible" are possible for a price) to the node software all the time. That is a very big difference.
@_date: 2017-12-21 04:24:29
The best thing you can do to help ensure the success of Lightning Network is to learn, implement, and share strong information security practices. Compromise of Lightning Network nodes puts funds at risks in ways that compromise of a Bitcoin full node does not. To get the full utility of your LN node it will require full-time connectivity and access to the **unencrypted private keys** used to manage its payment channels.
@_date: 2017-12-23 00:43:31
If they can't match a buyer and seller, no trade occurs.
@_date: 2017-12-18 06:34:42
Bitcoin clients are networked software, receiving and processing packets from arbitrary sources. There is always the potential that a vulnerability in the processing of those packets or the data they contain could result in the execution of malicious code. Such a vulnerability could be introduced unintentionally or on purpose. The likelihood of a code execution vulnerability being introduced is largely dependent on the implementation of secure development practices, thorough review and testing of the code, and vigilant review of the build environment/process.
Processing Bitcoin protocols is orders of magnitude less complex than what occurs in commonly exploited network software, such as web browsers and their plugins. However, poor implementation of even the simplest protocol has the potential to result in exploitable conditions.
Edit: An example of a potentially exploitable vulnerability introduced by the improper use of an external library in 2012.
@_date: 2017-12-21 07:01:53
Damn right I'm paranoid. I break security for a living. Stealing payment card track data, banking details, and other sensitive records has lost its thrill. I eagerly await the chance to demonstrate the horror of an LN node compromise to an over-confident client. I'm trying to save the rest of you that pain.
@_date: 2017-12-25 05:26:52
And that is a great mitigation strategy here, as well. Secure implementation of an HSM is an expensive undertaking, however. And it does not entirely solve the problem - the node still needs to autonomously _cause_ the HSM to sign transactions. If the node is compromised, the attacker may not be able to steal the keys, but they could use the node to generate the theft transactions and have the HSM sign it, resulting the the same consequence.
We can and should go further, adding abuse/fraud detection and prevention capabilities to the signing process. At a cost.
@_date: 2017-12-29 05:58:19
That is not at all a standard or even common approach open source project versioning.
@_date: 2017-12-22 18:43:47
How can you derive new keys from a locked away master key?
@_date: 2017-12-26 19:53:28
Single large hubs would be inefficient. If you _wanted_ to be in the center of _most_ transactions, it would be better to control lots of smaller nodes. By manipulating their interconnections, you could farm less well-connected nodes on to routing paths based on their utility to generate fee revenue or to be used in automated rebalancing. Because transactions would still be routed over lots of anonymous nodes, this would have the illusion of decentralization to end users. Since you control most, if not all, of the nodes on their path, you would be able to deanonymize the transactions routed through the farm.
@_date: 2017-12-27 09:29:17
This is sounding like a fairly speciallized device. Placing a lot of trust in the soundness of its implementation.
@_date: 2017-12-19 19:28:44
Effective counter-parties will automatically sign transactions that rebalance the channel in their favor. If the attacker can present such a transaction (which they can with the keys compromised from a node) they can then complete the counter-signed transaction by signing with the compromised key. This allows them to send the available balance of the channel to a node they control.
@_date: 2017-12-20 06:24:03
Once compromised are _they_ really running it any more?
@_date: 2017-12-27 04:14:24
Even a stopped clock is right twice a day. And someone can be right for the wrong reason.
I don't know if there is a distinct forwards and backwards in all of this. It's a different balancing of trade-offs to achieve different properties and qualities.
Bitcoin trades reduced decentralization of consensus (get the pitchforks!) and anonymity to establish economic incentivizes toward honest behavior, further enabling the partial centralization of PoW and its absurd costs. This has the unfortunate side effect of requiring an ever expanding blockchain, and if we wish to keep fees low, an expanding block size.
We've decided that those side effects are undesirable and a second layer is required to minimize the blockchain activity, and Lightning is the best that anyone has been able to come up with. That's not backwards, just a different arrangement of priorities. Unfortunately, it doesn't look like anyone has looked deep enough at the side effects that Lightning Network will expose. One of those is that well-funded, well-connected adversaries can affect the channel state of other nodes on the network, affecting the potential routes that can be established. We don't yet know the full consequence of this, but it isn't too hard to make some estimates.
@_date: 2017-12-21 06:26:08
Make sure you're prepared by planning your node security strategy now. An LN node effectively acts as a hot wallet, requiring access to the unencrypted private keys used to manage its payment channels. There is a substantial difference in the security requirements of an LN node compared to holding a Bitcoin wallet or even full node.
@_date: 2017-12-16 01:16:36
Channels can be refilled if they are exhausted by sending funds through them in the opposite direction. In the absence of regular inflow, this requires convincing the counterparty to rebalance in your favor. You might accomplish this by sending them funds on-chain or in fiat. You might do the same with a liquidity provider, basically pay someone a fee to send yourself money.
To expand a channel with the cooperation of the counterparty, I believe you could leverage the existing commitment to add additional funds. If I'm not mistaken this would require only one on-chain transaction, not the two necessary to close-and-reopen.
@_date: 2017-12-23 20:10:50
It is likely technologically viable, but it remains to be seen if it can maintain the desired properties of decentralization, trustlessness, speed, and economy for the various use cases.
@_date: 2017-12-20 14:09:45
Right or no, you had no _ability_ to exercise any ownership authority.
@_date: 2017-12-21 18:35:33
A hot wallet that broadcasts its existence, address, and initial funding levels to the network.
To make the most use of the Lightning Network a node must be online at all times with automated access to its unencrypted keys. That is far different than how most users secure their Bitcoin wallets. LN nodes are similar to the hot wallets used by exchanges, a common source of grief when security around them fails. Obviously the average user is going to have far less funds committed to their LN node than an exchange would, but that's little comfort if a widespread malware attack steals your rent/food/school/retirement/etc. funds.
@_date: 2017-12-27 08:45:18
Security is not a one time event. It is a ongoing process that you must consistently apply. When you consider things like Intel's ME, "locking down a node completely" starts losing all sense of meaning.
@_date: 2017-12-21 04:02:53
Pray you don't become prey.
Operating a secure system isn't a one time thing. If your Lightning Network node is compromised your portion of the channel balances is vulnerable to theft. You're going to be broadcasting to the world the fact that your system is holding the keys to immediate reward. Hackers can even look up the funding transaction to estimate what your node is worth. You need to develop strong security practices and follow them daily.
@_date: 2017-12-15 20:58:02
That is a very succinct summary of the *exact opposite* of what I posted. You have a bright future in journalism.
@_date: 2017-12-27 03:20:01
Got that mind open?
Your channel partner controls the minimum fee paid for any transaction on the channel. They can't force you to transact, but if you do, he decides the minimum fee. Every time, in or out.
Onion routing on LN doesn't work like it does on Tor. You can't select arbitrary hops - each hop must share a pre-existing, sufficiently funded channel with the hop before and the hop after. You channel partner is *always* the first hop and has absolute control over the possible choices for a next hop. By limiting your choices, they can force you through as many nodes as they control as they wish. Manipulation of the graph in this way can be used to deanonymize your transactions.
@_date: 2017-12-21 19:24:56
Lighting Network is going to complicate your key security recommendations. Lightning Network nodes require access to the unencrypted keys used to manage their channels, compromise of which exposes your open channel balances to risk of theft. To make full use of Lightning Network, nodes need to be connected at all times, essentially making them hot wallets. Any user wishing to receive payments without manual coordination or to earn fees for servicing third-party transactions will need to keep a high-availabilty node with automated access to the private keys and signing ability. Users wishing primarily to spend may be able to get away with keeping their keys encrypted most if the time, but that severely limits their utility to the network for dynamic channel rebalancing. It is reasonable to think they may face higher transaction fees due to the cost for maintaining their payment channels.
@_date: 2017-12-31 04:02:12
Once she's compromised Bob's node, Alice could sign LN transactions spending Bob's balances to a node she controls. This saves the 2x on-chain fees for publishing a deprecated commit as Bob and subsequent breach remedy as Alice would entail.
She could alternatively modify Bob's routing logic, passing all rebalancing transactions through a high-fee node she controls. This is a lot quieter than out-right stealing his funds, but if it goes undetected for a long time could result in a better take. This is an ideal attack for malicious insiders, say a disgruntled sysadmin.
The weak link is that Lightning dismantles all the features that makes Bitcoin easily secured. Bitcoin doesn't require all users to run an interactive network client to transact, Lightning does. Bitcoin allows you to passively receive payments, Lightning requires the receiver to autonomously sign a transaction. Bitcoin has no third-parties involved in the path of transaction (or _everyone_ is a third-party), that is the very basis of Lightning. These changes make LN a totally different beast to secure, one that running Bitcoin hasn't prepared anyone for.
@_date: 2017-12-16 21:29:35
With no chain, there are no confirmations. Unless you're accepting 0-conf (sure you're not using BCH?) you'll never consider the transaction received. You don't need to validate anything for that, a SPV wallet would do the same.
@_date: 2017-12-16 04:28:32
That's not a picture of a healthy, decentralized blockchain you're painting there. If miners must 'bend the knee' to Core, how can I trustless interact with Bitcoin if my self interests are ever at odds with those who own the Core identity?
@_date: 2017-12-21 04:56:35
You do lose the utility of that channel - can't send or receive on it, can't use it to rebalance your other channels, won't earn any fees relaying through it. I suspect this will lead to nodes charging higher fees to channel partners who regularly go offline as the relationship doesn't have much other benefit for them.
If the node stays offline or you don't like the behavior of a channel partner, you can always unilaterally close the channel (for an on-chain transaction fee).
@_date: 2017-12-22 20:31:21
Their public keys (no risk) and *your private keys* (risk!). This is a necessity for your node to sign the new commitment transaction with your counter-party. That is how the channel's balance payout is modified to recognize the transfer of value to you.
@_date: 2017-12-22 04:38:46
In celebration of 500+ views with 90% upvotes - quite an accomplishment for a post that cannot be seen in the subreddit's main feeds - here's a first, rough pass at some high-level node security recommendations. This is clobbered together from some of my other comments on the topic and should really be thought of as a starting point, not a definitive guide.
For the users with a minimal use case - mostly sending, rarely if ever receiving, no automated rebalancing, no fee generating transaction servicing - it very well may be that a phone-based node is the way to go. For most of the general population, their phone is the most secure computing device a person may own. Major Android models and iPhone will feature storage encryption while at rest and have dedicated secure enclaves that could be used to hold private keys if the node app supports it. Of course, there are a lot of physical security issues around that, so you might want to adjust some of you common behaviors, such as sharing access with friends or charging from unknown power sources.
Users who want to get full use out of Lightning, or even just have the ability to receive payments without manual coordination, will likely want to run a server-based node. This is where things get more challenging, as the server will be online all the time and performing background transactions autonomously. You'll obviously want to deploy and maintain the server in a secure state, but you also need review the nodes activity for signs of suspicious behavior and compromise.
**Host and Network Security**
These suggestions are pretty generic and not at all comprehensive as its difficult to pin down just what will be required by time Lightning Network is production ready. Strong security is not a one time event, it requires routine, timely maintenance and habituation.
* Use dedicated hardware or well secured virtualization to isolate node software
* Isolate network access to the node from the internet and your general internal network
* Implement strong access controls to the host, services and user interfaces
* Use multifactor authentication when possible
* Regularly update the OS and installed software
* Monitor network and node for indicators of breach
* Periodically audit configuration and system integrity
* Secure backups - encrypted and distributed
**Auditing the node transaction history**
Lightning Network nodes are expected to operate in a largely autonomous fashion, which is why the keys must be available in the first place. It would be a wise idea to regularly review the transactions your node performs to ensure it is operating efficiently, cost effectively, and non-maliciously. Here are some initial questions you might consider using when reviewing the transactions made from your node.
* Why did this transaction happen? 
* Was it routing a third-party transaction or rebalancing?
* Was the decision to rebalance necessary or optimal?
* Why did it choose the route it did?
* Could it have taken a less expensive route?
* Is there any indication the route selection was manipulated, either on-node or by the network?
That last point is of particular interest in the discussion of node security. Specifically the chance of on-node route manipulation. A potential attack vector for a compromised node is to modify its routing logic to intentionally route through high-fee, attacker-owned nodes, slowly  and quietly leeching value. This would be an ideal strategy for a disgruntled administrator or contractor responsible for managing a business' node. It would be difficult to detect without routine audits and provides plenty of plausible deniability. Route manipulation by the network is another vector, but it doesn't have to do with host security necessarily, so it's best left for another discussion.
@_date: 2017-12-19 23:33:28
I think Lightning has strong foundations, but it reintroduces concerns that stymied pre-bitcoin attempts at cryptocurrency. If the community refuses to honestly assess and address the issues that *do* exist, the uphill battle it faces will be all the harder.
The challenges Lightning Network faces are not merely related to the security of the protocol itself, as this discussion of node security demonstrates. Nor are the concerns restricted to technical matters - as much as the community loathes to admit this, legal and regulatory challenges *will* affect Lightning Network. It's easy to talk big on the internet when you've nothing on the line, but a lack of personal recognition to the legitimacy of government does little to keep it from enforcing its laws.
These challenges are not necessarily insurmountable. If they are, there may be alternative solutions to the desired goals. But claiming they don't exist and avoiding the actual work of resolving them is the most painful path to likely failure.
@_date: 2017-12-18 22:16:57
Performing the signing operations off-box is a great strategy, thanks for bringing it up! You might be able to protect the key material itself using a hardware security module (HSM), similar to Trezor or Ledger. But in order to receive (and thus relay) in an automated fashion, the system must be able to generate and sign transactions without user interaction. This really only moves the exploitation target to the system that generates the transactions or feeds the information to generate the transactions. Good steps to take, but a lot of additional complexity.
@_date: 2017-12-25 05:20:19
If you preload those funds on a single channel, your channel partner will have direct control over the minimum fees you pay for _any_ transaction using them.
@_date: 2017-12-29 03:00:00
FinCEN releases Administrative Rulings which serve as official clarification of regulation. This is the method by which they explicitly exempted cryptocurrency miners from definition as money transmitters. The following link is to an Administrative Ruling regarding armored cars companies, but makes generalizations to other types of couriers.
There are other ARs that apply to couriers as well. The major take away is the the courier must be transporting the funds to/from the same owner (or to/from a bank, US mint, or federal reserve). The courier must not have a stake in the transaction.
@_date: 2017-12-21 04:19:52
If you're sharing access to that system with friends and family, you almost certainly don't want to run a Lightning Network node from it. LN nodes require access to the **unencrypted** private keys that manage their payment channels. This essentially makes them hot wallets. If your node is compromised your share of open channel balances could be stolen. You'll want to prepare yourself for the responsibility of operating a secure node.
@_date: 2017-12-29 05:22:25
You need to run a node to send a Lightning transaction, but it does not need to be always-on and autonomous. Your Bitcoin wallet may incorporate LN node functionality, but to do so, it will be a node on the network.
@_date: 2017-12-18 22:33:45
The more functionality you give the signing system, the more  exposure it faces. There are all sorts of techniques you could use for timing and fraud detection, but that will result in less fluid channel operation, necessitating more channels, higher funding levels, and reduced utility for servicing third-party transactions. That may be acceptable for merchants expecting mostly inflow, but it poses serious constraints on nodes wishing to profit by acting as intermediaries.
General home users keeping hot wallets with the hope of acting as relays will be in for a rude awakinging if a worm or wide-spread malware ever targets Lightning Nodes. The more sophisticated node operators will already have a better security posture that might limit the immediate risks. But over time, if Lightning Network achieves any kind of popularity, control over channels will be just as much a target as payment card details are today.
@_date: 2017-12-20 16:22:39
In this logic it might be best not to think of them even as BCH and BTC until they're in your sole possession - let's call them cbBCH and cbBTC while on Coinbase. When coins are on Coinbase, they are in an address for which Coinbase holds the private key (I think their Vault product allows you to have mulitsig with a key you own, but lets skip that for now) and likely mixed together with the deposits of many other customers. You can't simply 'download' your coins, you must instruct Coinbase to transfer them to an address you control. 
You've always been able to exercise ownership authority over the cbBTC in your Coinbase account even if you didn't control the actual BTC  it represents. You have entered into an agreement that limits some of your ownership authority, such as withdrawl/transfer limits.
Before yesterday you had no ability to exercise control over the cbBCH that Coinbase would _eventually_ distribute. Did you even own anything? That's sort of up to interpretation, but since Coinbase (per terms of service, legality not withstanding) has the sole discretion for supporting forks or not, it is _reasonable_ to think that you did not. We can only say "eventually distribute" with the benefit of hindsight. But now they have distributed the cbBCH and you can exercise control over them. You can instruct Coinbase to transfer them to an address you control (converting them, if you will, to actual BCH).
I'm just trying to peice together a reasonable logical construction, using my personal understanding of the tax codes. I'm not making any claim that this is absolutely how the IRS would decide things. 
@_date: 2017-12-21 21:55:14
Before the Lightning Network can solve scaling problems, we first need to prepare the community for the responsibility of operating secure nodes. Transacting on LN is an active process and nodes require access to the unencrypted private keys used to manage their channels. If a node is compromised the available balance on open channels is exposed to theft. This is a significant difference from the offline transacting supported by Bitcoin. To get the full benefits of LN, users will not simply be able to secret away their private keys on airgapped hardware wallets.
@_date: 2017-12-20 15:37:11
Maybe neither? When you have a binding bill of sale?
@_date: 2017-12-20 22:50:08
The savings for segwit-enabled address are only realized when you _spend_ from them. To accomplish what you're asking, Coinbase would have to migrate all of their coins currently residing on pre-segwit addresses to new segwit-enabled addresses. That would be wildly expensive, cause a flood of non-segwit transactions, and raise fees even higher than they are now.
@_date: 2017-12-18 18:14:27
Lightning Network nodes need access to the private keys used to manage their channels. This means they are essentially hot wallets, as the software will need to use the keys in an automated way. This is a substantial departure from the basic security requirements needed to transact on-chain with Bitcoin. If you intend to commit funds to servicing third-party LN transactions, take care to educate yourself on what it takes to securely run a full-time, internet connected service with direct control over monetary assets.
@_date: 2017-12-24 03:13:47
One of the best ways to help them prepare for the Lightning Network is to make sure they're ready to run a secure node. Receiving payments on the Lightning Network requires that the recipient's node be online with autonomous access to the unencrypted private keys used to manage its payment channels. There is a substantial difference in the security requirements of an LN node compared to holding a Bitcoin wallet or even full node. Nothing will undermine public confidence in LN faster than if a widespread malware outbreak ends up stealing funds from early adopters. The pervasive data breaches across companies large and small demonstrate that most are not yet prepared for the responsibility that awaits them when Lightning strikes. The community must act now to promote strong security or look on as LN flashes and fades, leaving only the rumble of disillusioned supporters.
@_date: 2017-12-20 03:19:43
How does Coinbase's use or non-use of Segwit have any bearing on that? BTC has Segwit enabled, blocks mined containing Segwit transactions cannot use covert ASICBoost. BCH doesn't have Segwit, all blocks are free to be mined with covert ASICBoost. Nothing Coinbase does or can do changes that situation.
@_date: 2017-12-20 06:15:45
Hrm? I think by definition bad actors would be running all the compromised nodes.
@_date: 2017-12-21 16:45:57
Offloading the signing function to a secure element is an excellent approach to remediating the risk for certain use cases, but it does not resolve it completely and adds complexity (cost). If a node is compromised an attacker can generate and submit perfectly legitimate-looking transactions to be signed by the secure element. Fraud detection can be implemented, but it too must be handled securely or it can be bypassed. Adding human interaction requirements reduce the nodes utility for non-coordinated receiving of payments, automated channel rebalancing, and servicing of third-party transactions.
@_date: 2017-12-25 07:40:04
That's a bigger question than it might appear and no simple answer will be sufficient for all use cases. This is a discussion the community has been reluctant to engage in, but is absolutely vital to the success of Lightning Network.
Until the Bitcoin and LN affiliated projects step up to drive focus on this topic, the best I can offer you is some high level suggestions. More of a starting point than anything complete.
@_date: 2017-12-18 18:37:41
I'm glad you've given the risks involved the proper consideration. This is a topic that has been overlooked near entirely in discussion of Lightning Network from what I've observed. The regular compromise of credit card data from e-commerce and and traditional merchants makes it fairly obvious that, for the most part, they're not ready to take on this responsibility.
It's going to be a hell of a wake up call the first time a wide-spread malware is armed to extract private keys from LN nodes. But that pales in comparison to what the 2nd or 3rd generation will do - quietly injecting themselves into the routing module to slowly sap value by intentionly routing through high-fee, attacker-owned nodes. Why burn the host when you can parasitically leech from them over an extended period?
@_date: 2017-12-16 03:49:03
Bitcoin received as income is immediately taxable as if it were dollars of an equal value. That rate would then serve as his cost-basis for any capital gains/losses when if he later converts to fiat.
@_date: 2017-12-22 20:11:57
That's a mitigation not a solution. The keys in the hot wallet are still at risk. Furthermore, you must take steps to keep the offline keys secure, i.e. making sure they're really _offline_. We need to teach the community the importance of these mitigations and how to perform them.
Thank you for continuing this discussion. These are all points worth bringing up. The community needs to be aware of these techniques to secure their Lightning Network nodes and private keys. All I'm trying to do is raise awareness of this to help reduce the chance of loss to anyone and limit the  impact. Simply ignoring the risks is not a good option, and denying they exist will bring the worst consequences of all.
@_date: 2017-12-26 05:56:16
Bitcoin's PoW-based consensus is achieved through the acceptance of blocks expressed by extending the chain through the application of work proof. If a full node does not accept the longest chain, it is the node that is out of consensus.
@_date: 2017-12-05 04:07:28
The Murray Gell-Mann Amnesia effect




@_date: 2017-12-15 21:42:34
I get the frustration. Same thing happens to me when I point out that Segwit doesn't radically diverge from "Satoshi's Bitcoin", RBF didn't kill 0-conf, and the problems that come from relying on a minority chain  (oddly, this last one gets downvotes from _both_ sides). My comments in this thread are likely to get downvoted and maybe we'll see some insults lobbed at my comprehension of proof-of-work. Those things won't enlighten or inform me, however. Nor will I allow them to disuade me from civil conversation in an attempt to improve our collective understanding.
Edit: Sorry for the journalism comment, by the way. That _did_ come from a place of frustration and was not civil.
@_date: 2017-12-20 01:10:46
No. In order for them to claim the transmitted value they must fulfill the contract under which you offered it. By time the money is in their hands, it's their money.
Under particular scenarios, a compromised node could result in failure to fulfill the transaction. Your money is still yours but you may need to publish the ~~breach remedy~~ latest commitment transaction and wait for the HTLC to time out. The same wait is likely if the attacker plunders the compromised node's funds. In that case, the full balance of the channel is likely assigned to you, but the legitimate counter-party may be unable or unwilling cooperate in closing the channel.
Edit: wasn't thinking right when I posted this. It's not the breach remedy that you'd need to publish, just the latest commitment transaction. 
@_date: 2017-12-29 04:13:04
You hooked it up to your bank account, a BSA regulated financial institution. It's not that they can only serve banks, they must _use banks_ to settle value transfers. If Carol was hooked up with Anne's bank and Bob's bank, transmitting between your accounts, she'd be square (pun intended). But she's using the blockchain for settlement, so she cannot qualify as a payment processor.
These regulations are meant to apply to the exact activity intermediaries on LN are engaged in, and they're written to be all encompassing.  These aren't some consumer protection laws, they're meant to protect the State. The State gets to interpret them and dole out punishment for violations. Even if there were a loophole, they'd close it.
Check 31 CFR 103.11(uu)(5), which has the base definition of money transmitter:






Part B is a catch all. And don't let the "as a business" part fool you, it's there to exempt direct recipients and their agents. The cashier at the grocery store, for instance, is not engaged in money transmitting when she takes your cash and puts it in drawer, she's engaged in the business of selling you groceries. That is where they derive the exemptions for couriers and others. But it's ultimately up to FinCEN's determination, and if you don't have an explicit exemption *before you engage* in the regulated activity, you'd stand the chance of being found in violation. Look back on the armored truck AR, the company was paying fines while waiting for FinCEN to clarify and clear them. And they didn't even get that issue settled in the ruling, because FinCEN pokes the tiniest hole they can and leaves the rest to _their_ interpretation of the facts for a given case.
Carol's _only_ involvement in Anne and Bob's transaction is engaging in the receiving and transmitting value. She is without a doubt a person engaged as a business in the transfer of funds. The only way out of this is to find some existing exemption or get FinCEN to define a new one. Both are unlikely because **they want this activity to be regulated**.
@_date: 2017-12-26 18:11:15
As you're describing it you'd not be using LN at all - Bread _might_ be using it, but it's an awfully cumbersome scheme if you're placing full trust in a 3rd party webwallet. The actual expectation is that _you_ (represented by your node) will find the route.
@_date: 2017-12-26 19:16:58
To be fair, the work of doing all this would be handled by software. It's not like the users would have to sort out each hop, double check that the contracts are proper, etc.
But they do need to be aware of what is being done and they need to select channel partners based on utility. To entrust that responsibility to the software exposes them to all types of risk and abuse.
Still a very high bar to set. We haven't even begun to look at the ways that LN can be abused, so there is no guidance available to help detect and prevent it.
@_date: 2017-12-24 04:17:39
One of the best ways to help people and services prepare for the Lightning Network is to make sure they're ready to run a secure node. Receiving payments on the Lightning Network requires that the recipient's node be online with autonomous access to the unencrypted private keys used to manage its payment channels. There is a substantial difference in the security requirements of an LN node compared to holding a Bitcoin wallet or even full node. Nothing will undermine public confidence in LN faster than if a widespread malware outbreak ends up stealing funds from early adopters. The pervasive data breaches across companies large and small demonstrate that most are not yet prepared for the responsibility that awaits them when Lightning strikes. The community must act now to promote strong security or look on as LN flashes and fades, leaving only the rumble of disillusioned supporters.
@_date: 2017-12-29 19:40:30
Owner of the server. An attacker could spend the node's own balances to an attacker-owned node.
By manipulating the nodes channel selection, it may be possible to cause other users to route over unfavorable nodes to collect higher fees. But they would not have their funds directly stolen.
@_date: 2017-12-27 08:03:00
The best thing you can do to help Lightning Network is to prepare yourself and the community for the responsibility of running secure nodes.
@_date: 2017-12-27 02:10:31
Not without committing new funds with an on-chain transaction.
@_date: 2017-12-27 01:16:36
Your channel balance can never exceed its full funding amount. If you start with an evenly balanced channel (10BTC total, split 5/5) the maximum you could have when the channel is closed is twice your share of the funding (rebalanced 10/0 in your favor).
The amounts used are just for ease of explaination, feel free to add the appropriate SI-prefix of your choice. Except for the on-chain fees, those don't scale relative to the funding amounts. Or the fixed costs of node operation.
@_date: 2017-12-22 18:14:49
I'm seriously not trying to troll you. I think you misunderstand my concerns. I have never said that private keys are broadcast or shared with all nodes. 
*Your private keys* are available to *your node* in an unencrypted state. If *your node* is compromised those keys can be used to steal *your share* of the open channel balances. Please take care to secure *your node*.
I'm sorry if I have been unclear in my meaning and will endeavour to improve in the future. I wish you the best in your crypto-adventure.
@_date: 2017-12-19 05:30:38
If you didn't sell them, then it's just a wallet transfer. IRS will want their cut when the coins move from _that_ wallet.
@_date: 2017-12-21 15:08:07
We need to spend this time preparing the community for the responsibility of operating secure nodes. Transacting on LN is an active process and nodes require access to the unencrypted private keys used to manage their channels. If a node is compromised the available balance on open channels is exposed to theft. This is a significant difference from the offline transacting supported by Bitcoin. To get the full benefits of LN, users will not simply be able to secret away their private keys on airgapped hardware wallets.
@_date: 2017-12-16 21:52:00
Ok. Look, you're super confident in your understanding of how things work. I'm not going to be able to convince you that you've got some very fundamental basics totally backwards. That's cool. I tried to help and that's all I can do.
I would strongly suggest, however, that you take some time to investigate this on your own a bit more. Maybe, if you come to find that things aren't quite how you think they are, you'll send me a message to let me know. Or not, that's on you.
Best of luck in your crypto-adventures!
@_date: 2017-12-22 05:36:03
A possible approach to manipulating transaction routing paths would be to control many nodes and the interconnections between them. This would provide opportunities to _farm_ third party nodes connecting to these centralized subnets, consolidating them on to restricted paths optimized based on their transaction patterns and utility for channel balancing. The illusion of decentralization established in this way could help to disguise abusive rent-seeking and adverse fee behaviors. Controlling signifiant portions of a node's route options would also give these operators deanonymization capabilities, desirable by everyone from traditional marketing firms and payment providers to law enforcement and intelligence services.
The more complexity that is hidden from the user, the more trust they must place in the correctness of the software and the less ability they have to detect abusive network behavior. Users seeking the least complex use-case - mostly offline wallet, high send to receive ratio, no third party transaction routing - are therefore _most at risk_ of rent-seeking and other external abuses.
@_date: 2017-12-18 20:00:32
In the current implementation, each hop only knows about the hop before it and the hop after it. I strongly suspect that, due to the nature of LN, it's highly likely that observation of the network could result in de-anonymization of these transactions, but again this needs more research.
There is another way for laundering to occur on LN other than looping back to the same node. For instance, the launderer could host a fairly regular looking, if well connected, node to act as its clean output. To clean funds through it, nodes controlling dirty funds could select it in the path of a transaction to other dirty nodes or in the course of making unrelated transactions. By paying the clean node a high fee, funds can be extracted and accounted for as earnings from operating a node. This is one technique at which regulators might point to justify the need for KYC/AML.
@_date: 2017-12-21 16:00:14
Watching for channel fraud only requires monitoring the blockchain, so the LN node itself need not be online. Still, this is a great example of the **active** nature of Lightning Network. Where Bitcoin's security is passive in its static state, LN requires some level of constant vigilance.
@_date: 2017-12-21 06:44:05
That's an awesome response! Make sure to read the Lightning Network whitepaper, too. The transaction mechism is quite sound.
One topic that has been widely overlooked, however, is the secure operation of Lightning Network nodes. Unlike Bitcoin, LN transactions are an active process between sender, receiver, and the intermediaries providing the channels relaying the value. In order to function in an automatic way, even simply to receive payments without manual coordination, nodes need to have access to the unencrypted private keys that manage their payment channels. If a node is compromised the owner could lose their share of the balances on any open channel, or worse!
It's vital to the success of Lightning Network that the community become familiar with risks they must mitigate to securely operate a node. Widespread theft from unprepared early adopters would be huge blow to public confidence in the system and set efforts back.
@_date: 2017-12-19 23:37:21
If you check my recent comments, this has been my topic of the day. Glad to go more into it later if you have questions.
The risk I'm attempting to illuminate is to the *operator* of the node. If the node is compromised, they can lose *their share* of open channel balances.
@_date: 2017-12-28 18:42:08
Since autonomously relaying transactions on LN requires signing capabilities, do you unlock the hardware wallet just when first starting the node and then it remains unlocked? Does the hardware wallet just blindly sign anything passed to it or does it have anti-fraud logic that assesses the transactions sent to it for reasonableness?
@_date: 2017-12-25 18:59:06
Question 1 is not a problem for Carrol, it is not a strict requirement that the contracts fulfill in order. If Dave withholds R from Carrol and instead slips it to Bob, Dave cannot claim the value she forwarded. She doesn't get the funds Bob forwarded, but neither is she out any money. Alice doesn't particularly care, either, so long as she ends up with R.
As for question 2, there are a lot of potential ways that abusive behavior can be performed, overtly or disguised, thanks to the structure of the Network. In my opinion, large hubs are not an attractive strategy for centralization because they are inefficient and don't allow for _enough_ abuse. Slightly more complex arrangements can undermine most, if not all, of the  properties desired of Lightning. Users seeking the most simplified interfaces and making use of a subset of features have a higher risk of third-party abuse with less ability to detect and respond when it occurs. A healthy LN requires a well informed, vigilant, and secure userbase, maximizing their Network utility over highly interconnected channel graph.
In question 3, Carol can not send nor receive more funds than are committed a given channel. Within the parameters of LN, she can never over extend herself - there is no credit, just contractually encumbered _committed_ funds.
@_date: 2017-12-19 22:19:16
Unless you only intend to receive (at least at first) and trust him **entirely** not  to claim the funding balance, he still needs to commit funds to the channel.
@_date: 2017-12-19 14:57:22
Lightning Network nodes require access to the unencrypted private keys used to manage their channels. This effectively makes them hot wallets and is a substantially different security footprint than even a Bitcoin full node. If your LN node is compromised, the balances of all your open channels will be at risk. And there are even _worse_ things malware could do than simply steal your funds outright. Node operators, especially those who wish to act as intermediaries servicing third-party transactions should familiarize themselves with what it takes properly secure their systems and network before taking on the risk.
@_date: 2017-12-22 17:17:39
Unbalanced channels are the biggest problem with send-heavy nodes. Their channels will nearly always be unbalanced - initially toward them when they top up, progressively toward you until they're depleted. In order for them to relay through you, you'll need to have an equal amount committed toward the rest of the network over multiple channels. The more edge send-heavy nodes you have connected to you, the more you must commit to ensure sufficient liquidity to support them. If they all get paid on Friday, you must have enough capacity from the rest of the network to support all of that inflow. If they all pay their rent on the first of each month, you have to have the outflow capacity to route that. If you don't maintain that capacity, they will be forced to either close their channel with you or commit new funds to open a channel with a competitor.
@_date: 2017-12-21 19:11:36
There is a cost associated with routing around a counter-party once you've established a payment channel. If agents of centralization are able to control enough nodes and their interconnections, they may be able to consolidate external nodes and subnetworks into routing paths optimized for rent-seeking through fees and by utility for channel rebalancing. Through deanonymization and transaction analysis make possible by illusory decentralization, these operators could work to target fees as high as possible before triggering an expensive change in channels. Users wishing for simplified use and to avoid micromanaging their payment channels will be at greatest risk for abusive behavior.
@_date: 2017-12-16 04:22:03
How will full nodes veto miners? Without work proof they are unable to generate meaningful signals on the network.
@_date: 2017-12-27 07:32:45
Channel partners cannot directly steal your funds. They _can_ perform abusive behaviors that result in you paying higher fees than you otherwise would. If your node is compromised, your share of balances on open channels could be stolen.
@_date: 2017-12-24 03:17:29
Eclair does little to help Ma and Pa use Lightning Network at the pie shop - it can only _send_ LN payments, it cannot receive.
@_date: 2017-12-24 19:36:24
Or receiving payment without manual coordination. Like most merchants will want to do.
@_date: 2017-12-27 09:33:57
Hrm... I'm currently on a mobile device. That's not necessarily a great example. Some phones platforms are remarkably secure, but their walled gardens are far from decentralized and trustless.
@_date: 2017-12-21 17:34:06
If users aren't running their own node, they aren't really using Lighting Network. Their funds would necessarily be in the complete control of their service provider. Their provider _could use_ LN to execute transactions, but what advantage would that have over existing centralized services such as PayPal? A whole lot of extra complication for a lot less profit, not exactly a viable business plan.
@_date: 2017-12-26 23:49:29
I'm just using big numbers to make it easy. The same problems apply if you scale those numbers down to something more reasonable.
What doesn't scale down quite as well is the cost to your channel partners to maintain the usability of your channel. For each (5/5) channel they have with you, they'd need a (10/10) channel toward the network to ensure you could always send a max payment.
Let's consider another scenario where your channel partner is _oversubscribed_. That super awesome Mogwai breeding game had a special Christmas DLC drop at midnight so everyone is rushing to buy Leftovers tokens to feed their furry friends. Even though you have a maxed channel (10/0) with your partner, all their other partners have performed a lot of spends recently, and the highest capacity channel you could route over can only handle 2BTC. That's it, that's all you can spend. Now your mogwai won't be transforming into awesome gremlins. Christmas is ruined for everyone! 
@_date: 2017-12-16 03:46:13
In all likelihood, his employer would have withheld the taxes on his behalf, very possibly at the maximum tax bracket rate. OP might have to file just to get the refund of the over-withholding.
@_date: 2017-12-20 04:50:07
A lot of posts have asked what can be done to speed up deployment of the Lightning Network. The answer needs to be **learn and teach strong information security practices.**
The number one thing you can do to ensure the success of Lightning Network is to make sure you and others are prepared for the security implications of running a node. This is especially true if you plan to relay transactions or intend to receive payments without manual coordinatation. The security requirements of operating an LN node are **substantially higher** than keeping your Bitcoin wallet encrypted or even of running a full node.
Lightning Network nodes require access to the *unencrypted* private keys used to manage their payment channels. This essentially makes them hot wallets. Compromise of your node could very well lead to theft of your share of the balance on open channels. This is only one example of a fast attack, there are other attacks that could take place over longer periods of time to slowly and quietly leech Bitcoin from your node.
While the network is being put through its paces on testnet, use this time to learn and implement strong security practices. Testnet tokens have no substantial value so you can afford to make mistakes. Bad security habits formed now could leave you in an unfortunate spot once real money is on the line.
Everyone who wants Lightning Network to succeed should make this effort their **first priority**, even above encouraging others to use LN. A rash of theft from first-generstion LN nodes could have a devastating effect on confidence in the system. 
@_date: 2017-12-16 03:01:01
That would be inflow, which serves to recharge the payment channel. But any single inflow transaction can never exceed the channel's available inflow. This would be the full channel funding amount in an outflow-exhausted channel, but less than that on a non-exhausted channel.
Without expanding the channel, you may run into the perverse situation where the channel has received too much inflow without balanced outflow and can no longer receive. This will require either having the payor wait to pay until you can rebalance the channel sufficiently to accept the inflow or opening a new channel, paying on-chain fees and comitting funds, in order to receive payment.
@_date: 2017-12-16 21:37:14
Nope. And you don't even need access to the chain to transact. Just to validate, which, to repeat myself again, provides absolutely no protection against a double spend.
@_date: 2017-12-19 07:36:59
I'm not suggesting you owe taxes on the Bitcoin you transfer from your Coinbase account to your private wallet. You're right, Coinbase calls that a "sell" but you should have little problem helping the IRS understand that it was just a wallet transfer. Ownership never changed and it's still Bitcoin. But now they know where you keep your coin, and they know your cost basis for it.
In future years, the IRS is going to want to know what happened to that wallet. Maybe you transfer the balance around a couple more times, but always in your possession. Cool, no taxes due. But in 5 or 6 years you decide to cash out that loose change to get another Lambo. Now the IRS is going to want their tax on the _gains_ your coin has earned. And they're going to have the record of you owning it, so trying to avoid that tax may be problematic.
And yes, if you bought that third Lambo with an appreciated gram of gold, you'd need to pay taxes on those gains, too. Might be better off than with Bitcoin, even. At least your ownership may not be recorded on the blockchain for their analysis.
@_date: 2017-12-16 19:27:04
A node does nothing to protect you from a double spend, unless you're accepting zero-confirmation transactions. Even then, *at best*, it can only give you early _awareness_ of the double spend. Which ever transaction ends up confirmed by the miners is the legitimate one according to the network and there is absolutely nothing a non-mining node can do to change that.
@_date: 2017-12-26 23:21:15
How you use those connections will matter greatly. For instance, if you opened those channels with 10BTC funding from you and your partners (split 5/5) you'd have committed a total of 15BTC. But you can't make a single 15 BTC payment with these channels, *ever*. You could make 3 separate 5 BTC payments if you can find a route for each to the counter party. Or you could rebalance one channel to have 10BTC (ignoring the fees involved for doing so) then send one 10BTC payment and a 5 BTC payment.
Of course, now those channels are depleted, so you will want to load more value on them. You can max them out to 10BTC each, but then they won't be any good for receiving value. So let's just max out two of them, for a total of 20BTC - this will require two incoming transactions, one for each channel. It's not entirely clear how you'll do that, but let's say an exchange like Coinbase is willing to accept your fiat and send you the LN value. This was not a trustless transaction, had to trust Coinbase with your fiat after all, but _everyone trusts Coinbase_, right?
Great news! I've got that 8BTC I owe you from that one time. Let me send it to you over LN. You've got those two maxed out channels, I can't send to those, so I'll send to your depleted channel.
Oh yeah, I owed you another 5BTC for that other time. Let's see... Well, crap. You only have 2BTC worth of channel capacity left. I guess I can send you the 2 now and wait until you spend some to send the other 3. Good thing you trust me to owe you.
Hey, I saw your ad on Craigslist and you said you accept LN, that's so awesome! So I'll just send you this  2BTC when I come to pick up the thing. Wait, what do you mean you **can't accept** my payment?
You can see that things can get a bit convoluted here.
@_date: 2017-12-21 06:02:06
There are keys which can manage the channels' funds, yes.
@_date: 2017-12-22 18:20:16
For certain definitions of censored.
@_date: 2017-12-21 06:06:18
To set up a channel capable of sending $1000 in either direction you'll each need to lock $1000 worth of Bitcoin into the channel funding contract. Those funds won't be available to establish other channels until you close the channel on-chain.
@_date: 2017-12-24 20:29:44
Even with a million dollars, he can only open so many channels. And then he is burdened with keeping a million dollars secured.
@_date: 2017-12-22 21:22:21
1. It happens autonomously (for certain use cases).
2. Receiving funds requires signing a transaction (all use cases that involve receiving).
@_date: 2017-12-16 21:33:56
No, they cannot, not without a chain. Confirmations are literally a count of how many blocks have been added to the chain since the transaction was committed to the chain. No chain, no confirmations.
@_date: 2017-12-17 06:32:03
Not entirely pointless, just not all that useful. There's nothing _wrong_ with wanting to validate that you've got the same understanding of the rules as evidenced by the chain. Its certainly interesting from an academic or research perspective, if nothing else. But as you say, since you can't influence it through validation, there isn't a lot of utility in everyone doing it on their own. If you have some reason to do so, spreading the cost is a better approach than insisting the blockchain remain small enough to fit on your cellphone.
@_date: 2017-12-27 09:06:34
More things you may want to consider. Even this is just scratching the surface.
* How many payment channels will you have open and what is the sum total funding amount?
* Is the node running on dedicated hardware or are there other services?
* What else shares the local network with the node?
* What other network exist on the inside of your network perimeter and how are they connected?
* Who has access to those networks and how?
* How will you perform updates?
* How will you perform back ups and where do you store them?
* How will you audit and alert on any changes to configuration or suspicious activity?
@_date: 2017-12-21 07:06:10
You can check without connecting to the Lightning Network by monitoring the blockchain, but this is still a valid concern.
@_date: 2017-12-18 22:42:58
A sufficiently hardened device might make recovery near impossible. You'd be placing **a lot** of trust in the manufacturer. It could use deterministic key generation to ease recovery, but then automation suffers, you'd have to put in the master key on every power cycle, at least.
These are not insurmountable problems, but security is neither easy nor cheap. It requires adherence to operational procedures to which most people are simply not inclined to commit. Bitcoin's simplicity allows for users to transact while keeping their private keys completely offline. Lightning Network is very different in that sense.
@_date: 2017-12-31 04:05:20
It wouldn't be the first time government has taxed contraband.
@_date: 2017-12-19 04:39:22
You _may_ be able to claim capital loss for personal assets taken in a theft. I'm guessing the IRS would expect to see a report properly filed with law enforcement, which introduces an additional charge of falsifying a police report should that not be true.
@_date: 2017-12-31 05:58:18
As the percentage of Segwit transactions increases more transactions can fit the 1MB base size, but the use of the 3MB discounted witness space depends on how much witness data those transactions contain. It's not a straight forward equation to solve.
@_date: 2017-12-21 17:27:58
The number one thing you can do to help prepare the community for the Lightning Network is to make sure you and others are aware of the security implications of running a node. This is especially true if you plan to relay transactions or intend to receive payments without manual coordinatation. The security requirements of operating an LN node are **substantially higher** than keeping your Bitcoin wallet encrypted or even of running a full node.
Transacting on LN is an active process and nodes require access to the unencrypted private keys used to manage their channels. If a node is compromised the available balance on open channels is exposed to risk of theft. This is a significant difference from the offline transacting supported by Bitcoin. To get the full benefits of LN, users will not simply be able to secret away their private keys on airgapped hardware wallets.
@_date: 2017-12-19 22:13:34
Well, I guess he can afford to fund quite a few channels.
@_date: 2017-12-29 06:00:14
Will the anti-fraud logic execute on the secure hardware wallet or externally, either on the node or a secondary non-specialized system?
@_date: 2017-12-26 04:42:24
**Carol and Dave**
When Carol and Dave negotiated the forward transfer of H, they established an enforcable contract that would rebalance their channel if Dave closed it on chain, with two conditions - a timeout and the requirement to reveal R. Dave is in possession of this transaction, _presigned by Carol_. If he obtains R within the timeout period it is 100% his responsibility to either renegotiate the contract with Carol (supercede the previous contract by revealing R and removing the conditions, preventing the need to immediately broadcast the transaction and close the channel) or, if she is unwilling/unable to cooperate, execute the contract on-chain by fulfilling the conditions. It is entirely out of Carol's hands - she is powerless to unilaterally cause or prevent the payment to Dave as the contract to do so is already active.
Carol has two options: wait for either Dave to complete the H/R contact or for it to timeout, or close the channel with the previous commitment. The last option is unilateral, but it can only make things less favorable for her. For the cost of an on-chain  transaction she can broadcast the previous commitment that her and Dave had negotiated. If Dave never completes the H/R contract, Carol gets her funds and the channel is closed, a slight loss of utility. If Dave gets ahold of R before the timeout, however, he can now publish the breach remedy to claim all the funds of the channel, Carol's share included. In fact, he'll *need* to do this to recover the forwarded funds.
Non-cooperative closing of a channel does not involve any penalty, just a transaction fee. Either partner has the right to unilaterally close the channel at anytime using the most recently negotiated commitment. The breach remedy can only be used if your channel partner attempts to close the channel using a  *deprecated* commitment. The time lock condition of commitments has a bypass that the breach remedy uses. Each time you negotiate a new commitment, the partners reveal to each other their part of the key material that can used to trigger that bypass in the previous commitment.
I don't have a definitive answer, but my current thought is that if end-users are low-utility nodes as I previously described, the favorable properties of LN are a pipe dream.
**Over extending**
Payment channels ensure that no one can be over extended. As long as the LN routing contracts are generated to properly account for the time locks between each hop, the funding is guaranteed either through cooperation or unilateral on-chain closure.
@_date: 2017-12-25 05:17:39
LN has costs other than direct fees, such as security. If on-chain fees are less than those, LN would only be attractive in cases where the requirement  for near-instant transactions is sufficient to justify the cost.
@_date: 2017-12-19 20:27:46
You'll want to go back and review how bi-directional payment channels work. Your client is a node. It has the keys to manage the channel. If you want to use LN in an automated fashion, which you will if you want to receive payments without manual coordination, those keys will be unencrypted and vulnerable if your node/client is compromised.
@_date: 2017-12-29 16:55:45
Intermediaries know how many public channels the previous hop has. If the channel they share is the only one, then that is almost certainly the transaction source. If the hop before entering the construct has multiple channels, they can be intentionally depleted in one direction or the other to selectively route transactions, helping narrow down the potential sources. Passive fee analysis and active probing can provide additional information to identify sources.
Paths out of the construct can be tracked similarly. If the last hop has no other channels, it is obviously the destination. The same techniques of depleting channels and analysis can be used to reduce the search space for destinations when the exiting hop has multiple viable channels.
If the constructs are sufficiently connected to network edge and the paths contained of sufficient length, the operator would have a complete or nearly complete view of the transaction path. This, along with metadata gleaned from the network, transaction patterns, and KYC information on compliant channels, has the potential to chop through the anonymity provided by onion routing.
@_date: 2017-12-19 03:17:26


Got any references on this? I suspect you might be referring to that Coinbase/LN on-ramp thing that showed up today, but I'm not certain. If so, while there isn't much information available that I've seen, my first impression is that you're sacrificing trustlessness in the funding transaction to eliminate (or defer) the on-chain transaction. This probably makes the most sense if you're converting from fiat at the same time. If you already have BTC, you'd need to make an on-chain transaction to move them to a Coinbase wallet first,  but then you might as well just open a channel directly.
Edit: Turns out that Coinbase/LN on-ramp thing was just a scam. Was there some other LN ramp with reduced cost to which you were referring?
@_date: 2017-12-26 05:14:40
It really only matters if the majority of hash power accepts the block and continues extending from it. When transacting in Bitcoin no one is considering the validity of the transaction according to their counter party, since the counter party may be hostile or otherwise disinclined to recognize the transaction's validity. Instead, Bitcoin works by allowing the counter parties to agree to abide by the consensus of the hash power majority, as recorded in the longest blockchain.
Non-mining nodes are a useful auditing tool, but they contribute in no way to the network's consensus on the state of the blockchain.
@_date: 2017-12-27 03:51:11
I think your total node count is low, but you're overestimating the number of unique node owners. 
What in the history of cryptocurrency, or money in general, would make anyone think this will be a friendly game, played with honor? Node security is likely to be the primary determining factor in who can afford to run a core (well-connected, well-balanced, used for autonomous routing) node. 
Compromise of nodes can lead to direct theft of the channel balances, placing an especially rich bounty on well connected nodes. Routing logic can also be attacked on a compromised node to steal value in less obvious, though slower ways. Even without compromising a core node, a well connected adversary can manipulate the state of a node's channels by routing its own transactions through it. Or they can perform denial of service attacks.
There is a concept in computer security called _Weird Machines_. These machines exist in a layer above the CPU's opcodes, as computational artifacts of programs that allows code execution outside the intended specification of the program. By carefully crafting inputs, an attacker can program these machines, forming an exploit. Using the attack primitives above, along with others yet to be discovered, I believe that LN routing will be prone to a similar family of attack, _Weird Networks_ one might call it.
Competition in this space is going to get nasty, violent and _Weird_. Bitcoin avoided all of this by eliminating intermediaries, Lightning Network is bringing it back.
@_date: 2017-12-24 01:15:55
Soft forks require miner consensus, but non-mining nodes will impotently follow since more restrictive application of a valid rule is still valid.
Edit to add: 51% of hash power can enforce a soft fork,  though more is always better.
@_date: 2017-12-27 07:25:01
The sum of their balances doesn't change, much anyway - it might increase due to collecting fees. But the individual channel balances absolutely do change.
@_date: 2017-12-16 17:06:07
Only so long as their net in/out flows never exceed their total channel funding, minus fees, in either direction. With only a single channel they cannot service 3rd party transactions to rebalance.
@_date: 2017-12-22 04:17:02
I don't know of any guidance provided by the LN affiliated projects, so let me throw out a high-level general guide. This is clobbered together from some of my other comments on the topic and should really be thought of as a starting point, not a definitive guide.
For the users with a minimal use case - mostly sending, rarely if ever receiving, no automated rebalancing, no fee generating transaction servicing - it very well may be that a phone-based node is the way to go. For most of the general population, their phone is the most secure computing device a person may own. Major Android models and iPhone will feature storage encryption while at rest and have dedicated secure enclaves that could be used to hold private keys if the node app supports it. Of course, there are a lot of physical security issues around that, so you might want to adjust some of you common behaviors, such as sharing access with friends or charging from unknown power sources.
Users who want to get full use out of Lightning, or even just have the ability to receive payments without manual coordination, will likely want to run a server-based node. This is where things get more challenging, as the server will be online all the time and performing background transactions autonomously. You'll obviously want to deploy and maintain the server in a secure state, but you also need review the nodes activity for signs of suspicious behavior and compromise.
**Host and Network Security**
These suggestions are pretty generic and not at all comprehensive as its difficult to pin down just what will be required by time Lightning Network is production ready. Strong security is not a one time event, it requires routine, timely maintenance and habituation.
* Use dedicated hardware or well secured virtualization to isolate node software
* Isolate network access to the node from the internet and your general internal network
* Implement strong access controls to the host, services and user interfaces
* Use multifactor authentication when possible
* Regularly update the OS and installed software
* Monitor network and node for indicators of breach
* Periodically audit configuration and system integrity
* Secure backups - encrypted and distributed
**Auditing the node transaction history**
Lightning Network nodes are expected to operate in a largely autonomous fashion, which is why the keys must be available in the first place. It would be a wise idea to regularly review the transactions your node performs to ensure it is operating efficiently, cost effectively, and non-maliciously. Here are some initial questions you might consider using when reviewing the transactions made from your node.
* Why did this transaction happen? 
* Was it routing a third-party transaction or rebalancing?
* Was the decision to rebalance necessary or optimal?
* Why did it choose the route it did?
* Could it have taken a less expensive route?
* Is there any indication the route selection was manipulated, either on-node or by the network?
That last point is of particular interest in the discussion of node security. Specifically the chance of on-node route manipulation. A potential attack vector for a compromised node is to modify its routing logic to intentionally route through high-fee, attacker-owned nodes, slowly  and quietly leeching value. This would be an ideal strategy for a disgruntled administrator or contractor responsible for managing a business' node. It would be difficult to detect without routine audits and provides plenty of plausible deniability. Route manipulation by the network is another vector, but it doesn't have to do with host security necessarily, so it's best left for another discussion.
@_date: 2017-12-19 18:36:20
If you don't intend to *receive* funds on a regular basis, you could go offline and/or encrypt your private keys. You may want to outsource your breach remedy responsibility for each channel you have, but depending on how they were funded, if you're only sending from them, there may not exist a commitment transaction that the counter-party could use to take more funds than they're owed.
If you're only sending, though, you will exhaust your channels over time. This would necessitate a new deposit inward on the channel. This is likely to require an on-chain fee or transacting in a non-trustless manner with a liquidity provider. At this point you'll have adverse deprecated commitment transactions and will certainly want to outsource breach remedy. 
This also sets you up for abuse by your channel counter-party. Your channel's regular depletion and unavailability for automated rebalancing (since you're offline most of the time) makes it more expensive to service. It would stand to reason that they'll want to collect a higher than average fee on transactions on your channel. But they could take this too far. Since you have no alternative to relaying the value on the channel through them, except to close the channel, they are free to engage in rent-seeking behavior. With a little bit of trial and error, they can figure out just how **high** of a fee they can charge without provoking channel closure.
They can also rent-seek in the opposite direction. Since they're the only possible last-hop for any transaction inward on the channel, they can charge a high fee to your liquidity provider, indirectly increasing the fees they charge you for the service. I'm not even sure you'd easily detect that unless the liquidity provider informed you.
@_date: 2017-12-20 15:40:00
According to the Coinbase terms of service, they have no obligation to support any fork nor credit you for them. When you have Bitcoin on Coinbase, *you don't own the coin*.
@_date: 2017-12-25 02:58:43
With one channel you can _in theory_ transact with anyone to whom you can find a path over a series of channel hops, with certain limitations:
* Your channel had a _funding amount_ and _balance_ which represent, respectively, the total money supply of that channel and how the funds will be split between you and your channel partner when it settles on the blockchain.
* The BTC used to fund the channel are locked for the channel's lifetime and cannot be used directly - _you no longer own them_, but you have a joint contract with your channel partner as to their eventual distribution. 
* The balance of the channel can never extend more than the total funding amount in either direction. That is to say, if you and your partner both lock 5 BTC to the channel, for a total of 10BTC, you can never send a single payment greater than 10 BTC and at most times less than that.
* At any given time, you can never send a payment greater than your current share of the channel balance, nor receive a payment greater than your partners current share of the balance. On a brand new channel with total funds of 10 BTC, split 5/5 between you and your partner, the largest possible payment you can send is 5 BTC (your current share of the balance, now 0/10 in favor of your partner), after which you can no longer send any payment until you receive payment  to restore balance in your favor). Continuing from there, let's say you're paid 8 BTC over the channel for services rendered (balance now 8/2). Shortly after, a second payment of 8 BTC is owed to you for additional services. This payment cannot reach you, the most this channel can support at the time is 2 BTC.
* Any payment in or out of the channel **must** route through your channel partner. They are free to charge you any amount they'd like for this service. You are free _not_ to pay it, but if you want to use the funds committed to the channel you would then need to pay the on-chain fee to close the channel and wait some predetermined amount of time for the funds to be available.
* In order for you to _route through_ your channel partner, they must have another established channel on the path to your destination with sufficient balance to support your payment. Each hop in the chain shares this requirement.
* Since transactions on the channel **must** route through your channel partner, they have a level of direct control over your routing options, by virtue of the fact that the *next* hop can only be a node with whom they have an established channel. Your channel partner can also influence your routing decision by offering different rates to relay to different next hops.
Super easy.
@_date: 2017-12-19 20:22:01


That's an excellent description. Mind if I steal it?
That is a bit overstated, to be honest. I don't **know** how vulnerable any given node on the network is. I **do know** that if they are comprised, unless they have taken extraordinary and expensive measures, their private keys are vulnerable and can be used to steal their funds.
@_date: 2017-12-19 19:54:49
Online (availability) and secured (security) are opposite sides of the same spectrum. An increase in one results in a decrease in the other, or at least and increased cost to achieving the other.
Relying on reputation is certainly a viable approach, but it is a trade-off for what is meant to be a trustless system. It is also no pancea against high fees, as on-chain BTC transactions demonstrate. When you have limited channels, your channel counter-party is free to analyze your transaction patterns and connectivity to the network to determine how much they can get away with charging you in fees. When the cost of on-chain transactions are high, they have more leverage.
@_date: 2017-12-21 15:41:04
I don't think it's necessarily a wrench in the works, just a complication that hasn't been given much attention. It would be a great thing to improve everyone's security hygiene. What better motivation can we ask for than tying it directly to control if their wealth?
@_date: 2017-12-23 05:58:59
_pfffft!_ You can't hack Windows 10, it's the most secure Windows ever. It's got, like, Cortana and shit.
@_date: 2017-12-27 09:15:41
Yes, keys could absolutely be protected in this way. But it is only a mitigation. Since autonomous nodes must be able to cause transactions to be signed, a compromised node can still have its channel balances stolen. This is also a additional cost associated with running a LN node.
@_date: 2017-12-29 05:50:46
Require regulated exchanges and banks to refuse/report funds linked to Lightning Network payment channels. That could make it pretty difficult for law-abiding businesses to use.
Require regulated exchanges to only fund direct channels. All transactions sent to and from these channels could be restricted to approved KYC/AML compliant intermediaries. Report any on-chain settlements, especially when the funds are used to establish new, non-compliant channels. Refuse service to any user found to be doing so.
@_date: 2017-12-24 19:58:03
Why would that be a surprise? Bitcoin needs unencrypted keys to work and LN payments are constructed out of Bitcoin transactions.
@_date: 2017-12-24 05:12:14
Yeah, only loosers sink to that level!
@_date: 2017-12-20 04:18:08
Transactions never need to go to "the mempool" as there is no such thing. Each node maintains its own unique mempool and they have absolutely no control over what another node puts into their own mempool. Nodes can and should verify transactions before relaying them, but there is no requirement that transactions ever be broadcast, let alone verified, by anyone before inclusion in a block. Only once a miner has released a block is there the expectation that its transactions be available, as all the other miners will need to see them to validate the block.
Jihan would find blocks at exactly the same rate as he does now. Miners work independently. If he controls 20% of the hash power he will find, on average, 20% of the blocks even if he is mining transactions that no one else has seen. There is a very slight increase in the risk that his blocks would be orphaned on occasion, since every other miner would have to collect the transactions as they were never broadcast, but that's pretty minimal.
@_date: 2017-12-24 15:25:03
I'd much rather see users implement strong security for their nodes than just shrug the risk off. There are a lot of additional problems that arise if the majority of users treat Lightning like a pre-paid, refillable credit card. To maintain a healthy Network, people will need at least a basic understanding of how it all works.
@_date: 2017-12-16 19:59:14
Double spends don't break any rules that a full node can validate in isolation. They work by spending the same inputs to different outputs on **different chains**. Only one of those chains is legitimate, and if your full node isn't validating the right one, it cannot know that the input was double spent on the legitimate chain.
@_date: 2017-12-16 21:06:40
Unless you're _willing_ to follow a minority chain, those types of miners pose no real threat to you. Either their chain will have a minority of accumulated work proof or you'd want to be following the same rules they are enforcing.
If your node cannot see the longest chain then it cannot inform you that a double spend has been attempted. Even if it _can_ see the longest chain, it can do nothing to keep the **honest miners** from committing the competing replacement to the **legitimate chain**. Absolutely nothing. And once it's committed to the chain, *everyone* else, following the same rules you are, will see that other transaction as legitimate. **Your node will see the competing transaction as legitimate!**
@_date: 2017-12-23 05:47:33
Don't forget, that online node has your unencrypted private keys. So you gotta keep that secure or you might get your funds stolen anyway.
@_date: 2017-12-15 09:23:37
The payment channel exists as a transaction on the blockchain. The counterparties are responsible to constantly monitor the blockchain to detect if the other unilaterally spends that transaction with a deprecated exit transaction. The hash time lock on the commitment contract provides a specified time frame in which to publish a _breach remedy transaction_ which claims the share of the dishonest party. It is possible to outsource the monitoring and response to a third-party, potentially by assigning them a portion of the breach remedy output.
@_date: 2017-12-22 17:36:48


How does this happen?
@_date: 2017-12-28 19:01:51
Who is making small transactions when the mempool is maxed out? If LN can't facilitates the high-value transactions that are worth paying high on-chain fees, it can't have any significant affect on those fees. If the fees remain high, it won't be practical to fund low-value payment channels. If the fees have periodic spikes, it may be economically impractical to enforce breach remedy when a channel partner cheats, or even to close a channel to release funds.
@_date: 2017-12-22 14:50:30
Are you saying that the master key scheme in the whitepaper  offers some protection against the impact of a compromised node?
@_date: 2017-12-16 21:26:31
If an attacker has different rules they will either produce a chain with less work proof, or your 'legitimate' chain is itself a minority chain. **If** the longest chain is the legitimate chain, then all you *need* to know to differentiate them is how much work proof was used to build them. You can calculate that quickly without validating anything but block header hashes. **If** the legitimate-by-your-rules chain is **not** the longest, well shit, might want to double check that you're not using BCH. That's the *best case*, otherwise your PoW algorithm needs to be hard forked soon as the majority of hash power is backing a different rule set.
But that's all beside the point. Even if you are following the longest chain, and it is the legitimate chain, an attacker would not be violating any rules by double spending. It is not within the capability of your node - or any individual node - to prevent it. Only the majority of hash power, committing transactions to the blockchain, will determine which of the competing transactions is legitimate. That's it. You're entirely at the mercy of the miners.
@_date: 2017-12-20 06:44:13
Well.. ok then. So why would bad actors _want_ to run a compromised node?
@_date: 2017-12-21 14:22:37
The more that is hidden from the user, the more trust they must place in the correctness of the software and the less ability they have to detect abusive network behavior. Users seeking the least complex use-case - mostly offline wallet, high send to receive ratio, no third party transaction routing - are therefore _most at risk_ of rent-seeking and other external abuses.
That is why it is so important that users understand how to operate a secure node. While they would have increased exposure to attack against their system, it also provides them the visibility into the network to identify and address bad behavior.
@_date: 2017-12-23 20:16:16
@_date: 2017-12-22 18:50:17
From the whitepaper:




@_date: 2017-12-16 21:15:44
There is still _some_ point in validating rules, but it doesn't protect your transactions. Validating the chain ensures that the majority of work capacity has been applied honestly. This doesn't need to be performed by everyone, though. If its a big concern for you, you could form a co-op to spread the cost among like minded individuals.
@_date: 2017-12-28 22:07:41
Despite the name, the definition of Money Transmitter has no requirement that *actual money* be used.
The receiving and transmitting of *any value substitute* in the facilitation of transactions between third-parties is the basis of defining an entity as a money transmitter. There are exemptions, but running an LN node is unlikely to qualify under any of those.
LN nodes receive and transmit *value* by shifting the balance of their channels. This is evident by the fact that channels require balancing. This is further evident by the ability to perform cross-chain swaps, which may even qualify node as another type of MSB: an exchange.
The fact that the actual Bitcoins only move between the members of a channel is immaterial. The regulations aren't concerned with what happens with the actual money. They're concerned with how the *value of the money* is transferred. The value is obviously relayed between nodes. It is almost certain that FinCEN will recognize them as Money Transmitters or else explicitly exempt them.
@_date: 2017-12-18 17:46:32
In its current implementation, all the nodes that want to make channels available can broadcast their willingness on the network.
Keeping a node up 24/7 will likely use less bandwidth than seeding a torrent, but the security requirements are vastly different. In order to balance channels and service 3rd-party transactions, your node software must have access to the private keys used to manage the channels. This means that it is essentially a hot wallet and a compromise of your system could result in the theft of all your payment channel balances. This puts a significant bounty on every LN node.
@_date: 2017-12-22 22:42:21


I hear that a lot, which is why this is such an important conversation to have.
Yes, you must be online to receive payment on the Lightning Network. The receiver has to rebalance their payment channel with the last intermediary in order to receive the value transferred. Execution of their rebalancing results in a cascade back through the route as each intermediary is able to complete their contract with the proceeding intermediary until, finally, the first intermediary rebalances with the sender, completing the transaction.
Here is a simplified example of an LN transaction adapted from a previous comment:


























@_date: 2017-12-22 15:00:29
If users are not intentionally selecting their channel partners, they're exposing themselves to fee abuse. The more complexity that is hidden from the user, the more trust they must place in the correctness of the software and the less ability they have to detect abusive network behavior. Users seeking the least complex use-case - mostly offline wallet, high send to receive ratio, no third party transaction routing - are therefore _most at risk_ of rent-seeking and other external abuses.
@_date: 2017-12-27 04:58:49
The costs to be involved at any level except as an occasional sender of value may actually be quite high. To be of any use for autonomous receiving of payment or acting as a relay for third-party transactions, Lightning nodes must be always online, maintain high interconnectedness, maintain the balancing of all their channels, and above all be highly secure. That last part is especially important as in order to do the rest, nodes must have access to the **unencrypted private keys** used to manage their channels. If a node is compromised an attacker could use those keys to steal the nodes share of balances on open channels.
@_date: 2017-12-24 08:30:19
Let me try again.
I suspect the slow uptake of Segwit is in large part due to how it was presented as an optional upgrade, as well as the uncertainty and controversy in its deployment. Despite the economic majority's apparent acceptance of the soft fork, the necessity of rapid implementation was not well understood, especially in regards to the consequences of block space exhaustion.
I do not think people and services _should_ adopt Lightning any faster than they have Segwit if they are not prepared for the responsibility it entails. Enabling Segwit did not greatly increase the exposure of private keys, Lightning does. Segwit did not involve a drastically different method of transacting, Lightning does. Segwit does not require a new method of routing across intermediaries relying on novel economic incentives, Lightning does. I don't take issue with any of these things that Lightning brings, but it is apparent that the community does not have a clear understanding of what their responsibilities will be when Lightning launches. If we want them to move quicker to implent LN than we have seen with Segwit, these topics must be openly and widely discussed.
@_date: 2017-12-24 16:51:53
They cannot be encrypted. The node requires access to the keys in order to sign the transactions to rebalance their payment channels.
@_date: 2017-12-22 04:28:11
Which is a great security technique, but precludes full use of the Lightning Network. Even for a send-only node, you'll probably need some kind of special hardware support.
@_date: 2017-12-21 03:30:52
It will only be _usable_ while both nodes are online. The payment channel will exist until closed on-chain.
@_date: 2017-12-30 00:00:07
On the other side of VPN I could be coming from anywhere on the internet. Unless you can see both sides of the connection, you don't have any information that can narrow down my source.
On the other side of a LN node I could *only* be coming from that node or one of its open channels. Nodes broadcast their channels to facilitate routing, so you know what other channels the previous hop I'm coming from has available. To be used for routing a transaction, channel must also have the available balance. You could send transactions through that node to block certain routes or to test if they are currently in use, narrowing down the potential paths I could have taken. Since nodes want to balance the traffic across their channels, they also broadcast the fee they would charge to route across them. This is one more data source that can help identify the route I took.
Bouncing around in some trusted nodes would be of limited use to increase anonymity. It may even be harmful, as it provides metadata that can be used to group the users of that set of nodes.
@_date: 2017-12-27 05:41:48
Very big difference from onion routing on Tor. Let's compare some of their properties:
* Tor is a layer on top of the internet, which interconnects all nodes in a single effective hop.
* You can choose hops arbitrarily and any given node has no ability to limit your options.
* Each node knows little about the contents of your message, and what information they do have provides no help in estimating your route selection any further than the previous and next hops, which they necessarily know.
* Nodes have very little ability to affect the state of other nodes to influence your routing decisions.
**Lightning Network**
* Nodes are connected via point-to-point payment channels.
* You cannot arbitrarily select nodes to build a route; all routes absolutely **must** start with the partner of the payment channel holding the value to be transferred.
* Each subsequent hop must have an established and sufficiently balanced channel to the previous node and the next.
* Each node controls your available next-hop routing options by virtue of controlling its payment channels.
* Nodes have a rough idea of the value being transmitted, a massive data leak that allows them to narrow down the potential hops beyond just their immediate route neighbors.
* Transmitted value causes detectable changes in node state as the transaction is relayed, further assisting in deanonymization of distant hops.
* Nodes can affect the state of other nodes channels by routing their own transactions over them, influencing your routing options, and potentially leading you into a route where they control most of the intermediary nodes.
LN is just about as dissimilar as could be. Tor's onion routing is designed to be used on a complete graph with connection properties similar to the internet. Applying it to LN breaks most of the valuable features it offers.
@_date: 2017-12-26 03:59:46
The recommendation by Lightning devs is that LN should be used for small transactions. At recent high transaction fees, there are very few small transactions occurring. Even if LN replaced _all_ small on-chain transactions it would not provide substantial relief from the fee pressure.
@_date: 2017-12-16 04:50:04
It does not matter that it is not a currency. Stock is not a currency either, but you'd still owe income tax on the market value if given shares as a bonus. If he's a regular employee, OP's boss almost certainly would have withheld taxes on the bonus, and likely at a higher rate than is due. OP would have to file for a refund just to get the full (post-tax) amount he is owed!
@_date: 2017-12-06 04:16:52
The only mining performed in Bitcoin is the work that results in the generation of blocks. Simplified, the puzzle solved by the miner is formed by assembling a set of valid transactions in a valid order and finding a nonce (arbitrary random number) that, when combined with the selected transaction set and the header of the previous block, hashes to a value below the current network difficulty threshold. While only one node will ultimately win each opportunity to extend the previous block in this manner, **many** (think warehouses full of them) specialized computers are working on these puzzles all the time. This is the most energy intense part of the Bitcoin system, and intentionally so. The economic incentives and game theory that make decentralized, Proof-of-Work consensus viable require that the work performed be *expensive*.
As the value of the rewards increase in relation to the price of energy, we are likely to see an increase in the amount of energy expended to capture them. This is offset by expenditures on research and development of efficiency mechanisms, particularly in the design and manufacturing of more efficient specialized mining hardware. One way or another the money will be spent, as doing so increases the percentage of block rewards the investor will win. No matter how cheap miners can acquire energy or how efficient they can build their hardware, the Bitcoin protocol is designed to automatically adjust the difficulty to ensure that mining remain expensive.
The puzzles each individual miner constructs need not be identical, and in fact are unlikely to be unless the miners are pooling their capacity. The very first transaction in every block is the _coinbase_, with which the miner can claim their block generation reward and any fees paid by the transactions included in the block. Since miners usually want to award themselves with the prize, at a minimum each of their puzzles is built with a different coinbase transaction. Any of these puzzles could result in a valid block if the miner is able to identify an appropriate nonce, but blocks can only ever be linked to two other blocks - the one proceeding it, the header of which was included in the current block's puzzle, and the one following it, which will be the result of the first miner to solve a valid puzzle including the current block's header. Once a miner sees that someone else has already found a block that extends the same block they've been working on, they will immediately switch to working on extending this new block instead.
There is no separate mining of transactions, just the mining of blocks. Full nodes relay transactions and blocks to and from other nodes and users. Full nodes can validate users' transactions and blocks published by miners to ensure they are constructed according to some ruleset before relaying them onward. However, the validation they perform is only meaningful to the operator of the node. Just as mining is intended to be expensive, validation is intentionally, and exceptionally, *inexpensive* to perform in comparison. Because full nodes do not perform provably expensive work, any signaling they generate has near zero cost and is unsuitable for establishing decentralized consensus or any reliable information about the state of the network. It is impossible for anyone but its operator to prove that a full node has actually performed validation of the blocks and transactions it relays. Because of this, every node on the network must repeat the validation process for themselves. Validation is *so drastically less expensive* than mining that, even with this massively duplicated effort, the total cost across the network doesn't come anywhere close the energy expended in the creation of new blocks.
@_date: 2017-12-19 21:00:50
Glad to hear it! That outcome is the intent of my post.
Best of luck to you on your crypto-adventures!
@_date: 2017-12-25 09:07:25
I cannot force you to transact over our channel. But for any transaction that does occur, I set the fee. If I set it too high, I risk losing your business, but the decision is entirely in my hands.
To an extent, this is necessary. Maintaining our channel and sufficient other channels to service your transactions has a real cost to me. I need to recover that cost in order to continue in my role. But, if there is a high lock in cost, there is room for me to be abusive.
@_date: 2017-12-21 06:16:43
The best thing you can do to help ensure the success of Lightning Network is to learn, implement, and share strong information security practices. LN nodes come with a very different risk profile than Bitcoin wallets or even full nodes. In order to operate without manual interaction, nodes will require access to the **unencrypted** private keys used to manage their payment channels. They essentially act as hot wallets and compromise of your node could result in the theft of your share of open channel balances
@_date: 2017-12-21 21:55:54
Before the Lightning Network can solve scaling problems, we first need to prepare the community for the responsibility of operating secure nodes. Transacting on LN is an active process and nodes require access to the unencrypted private keys used to manage their channels. If a node is compromised the available balance on open channels is exposed to theft. This is a significant difference from the offline transacting supported by Bitcoin. To get the full benefits of LN, users will not simply be able to secret away their private keys on airgapped hardware wallets.
@_date: 2017-12-27 02:12:46
It doesn't matter what channels other people have, _your channels_ can only work with the funds committed to them.
@_date: 2017-12-26 17:07:33
Lightning Network nodes perform transactions in a significantly different way than on-chain Bitcoin transactions are performed.  LN nodes have security requirements much higher than Bitcoin wallets, especially if you want to receive payments without having to manually coordinate with the sender every time or if you want to service third-party transactions. You'll want to prepare yourself for the responsibility of operating a secure node. If your node is compromised your share of open channel balances is at risk of theft and worse!
@_date: 2017-12-19 04:43:55
You'll need to account for the missing value then. What did you sell them for? Where is the evidence to that effect? Claiming to have sold Bitcoin of substantial value, i.e. enough to get the interest of the IRS, without meeting the proper reporting requirements may be admission of a crime with greater punishment than tax evasion.
@_date: 2017-12-22 16:36:13
If most people are using the network primarily to send, their channels are going to be heavily weighted in one direction and of low utility for you in terms of balancing. To ensure sufficient capacity you would need to commit at least 2x the channel funding for partners on the edge. You may be able to get away with less, but risk being unable to service your channel partners' transactions. It seems reasonable that you (and everyone else) would want to charge higher fees to those types of channels. With high exit/commitment costs, there is a substantial level of lock-in, so while you may be in competition, it's not exactly a buyer's market.
@_date: 2017-12-25 07:02:59
Funding a channel isn't quite equivalent to _depositing_. Rather, you're _contractually encumbering_ the coins. Although you give up sole ownership of them (not your keys, not your coins), you never take your eyes off of them and neither channel party can distribute them in a way that both have not previously agreed to.
That said, plenty of things to be aware of when using Lightning Network that can break some of it's most desired properties. 
@_date: 2017-12-21 03:34:49
Make sure you're ready for it. LN nodes have a higher security requirement than Bitcoin nodes. If you're going to have more than a token amount of funds committed, I'd suggest not running it on a system used for other services.
@_date: 2017-12-21 04:46:52
Running a secure system **never** starts with "simply" and ends with "good to go". Being your own bank is going to take actual work.
@_date: 2017-12-23 15:15:51
_Any sends or receives_ requires both sides, and all intermediaries, to rebalance their payment channels by _signing and exchanging_ new commitment transactions and fulfilling the contract obligation they establish. This requires them all to be online. In theory this _could_ be done manually, with each channel coming online in sequence (and then in reverse sequence to complete contracts), but the coordination required makes it completely impractical.
To more directly answer your question: depending on how flexible your definition of _hardware wallet_ is, it is possible to have a node offload signing to another device or hardware security module, if the node software supports it. However, in order to send or receive in an automated fashion, the node must be able to either sign new commitment transactions itself or cause them to be signed without human interaction. So even if you have a hardware wallet, you _still_ need strong security for the node ensure it doesn't cause malicious transactions to be signed.
@_date: 2017-12-29 02:11:01
I think you've caught the jist my argument at the end there. We _could_ say they were connected _in a way_ by the transaction - but that way was through a series of intermediaries, not directly. Once the transaction is complete, all the contracts between Anne and Bob are closed, so they are no longer connected in even that indirect way.
A slightly more explicit example of how going offline demonstrates the value transmission occuring. Let's add Carol as the single intermediary between Anne and Bob. Anne establishes the HTLC with Carol, Carol establishes one with Bob. Bob reveals the secret, competing his HTLC with Carol. Carol drops offline at this point for some reason, not returning until the HTLC with Anne is expired. Bob unilaterally settles on the blockchain, including the value from his HTLC with Carol. Anne settles on the blockchain, without having to give Carol the value she meant to send to Bob. Carol has lost the value she sent to Bob. This proves that the the value Bob has at the end of a transaction with Anne does not come directly from Anne, but is instead relayed _through_ Carol. Carol has acted as a money transmitter.
@_date: 2017-12-22 05:18:18
Not with that attitude.
@_date: 2017-12-29 03:30:01
If Carol can qualify as a payment processor, which she cannot when using Bitcoin and LN.
In FIN-2014-R009, FinCEN sets out four conditions for an entity to be designated as a payment processor:








@_date: 2017-12-15 21:28:49
Well, they also rely on a blockchain built from less than a supermajority of work capacity, so they're obviously less concerned about falling out of consensus with the majority. Just because _they're_ wrong doesn't mean _you_ should delude yourself about what a node can do.
There are plenty of folks on this side that will feed that misunderstanding, whether out of innocent mistake or more sinister intent. So don't take my word for it either. And if you find that I'm wrong, correct me so that I and others can gain that knowledge. Misrepresenting opposing views provides no value to others and denies yourself the opportunity to fully consider them.
@_date: 2017-12-20 06:54:08
20% was just a number I pulled out of nowhere. I have no idea how much hash rate Jihan controls nor how many on-chain transactions Coinbase performs. Regardless, if they really were willing to avoid Segwit just to funnel high fees to their favored miners, they could give them as many as they could support and broadcast the rest.
I'm not saying it's impossible, but the reasoning would have to be so convoluted as to be unreasonable.
@_date: 2017-12-31 17:11:10
Step 5 involves **two** taxable events. You need to explain where the Bitcoin coming into the Coinbase account originated. They would be taxed as income, immediately due.
@_date: 2017-12-19 19:08:48
We're operating under the assumption that your node has been compromised. This could happen directly from the compromised host or, with a combination denial of service and re-established connection, from a node fully-owned by the attacker impersonating you. We can make no assumptions then about what the nodes will allow, all that matters is what is possible to accomplish with the keys.
The keys can be used to negotiate arbitrary outbound Lightning Network transactions.  This provides the ability to drain all the funds currently assigned to your side of the channel by sending a payment to an attacker-owned node. Your counter-party has no way to distinguish this from any other send and will happily countersign the attacker-generated commitment since it transfers the complete channel balance to them. You will have no recourse to this attack.
@_date: 2017-12-21 05:09:18
If it's offline its no longer hot, I suppose.
For maximum availability, you'd want the node to be able to start up without intervention so the keys would likely still be decrypted at rest. Alternatively you may opt for security over convenience and store the keys encrypted, requiring user interaction to re-enable the wallet. This is an implementation detail; I'm not certain how each of the existing implementations handle it or how configurable they are.
@_date: 2017-12-21 17:54:34
I wouldn't be so quick to write it off as a non-issue. While no one is suggesting Lightning channels are cold storage, neither has anyone really addressed that nodes are hot wallets. To achieve full use of the Lightning Network, users will need to operate their own nodes and that requires more than the basic level (or less) security that most people practice on a regular basis.
@_date: 2017-12-19 04:10:03
Let's simplify things a bit and just look at the basic exchange of value. I want to buy something from you and you want me to pay you over the Lightning Network but we don't share a direct channel. Thankful I have a channel with Charlie, you have a channel with Dennis, and Charlie and Dennis have a channel between them. We can relay across this network!
Now, you think up a crypto puzzle. It doesn't need to be _complex_, just impossibly hard to solve, which is fine because you're going to end up providing the answer anyway. So you give me this puzzle and say that once you receive the value from our transaction you'll release the answer.
I, only having this puzzle and a known route to you, need to convince Charlie and Dennis to rebalance their channels towards you. If things go well, the value I owe you will be credited on the channel you share with Dennis. I turn to Charlie and offer him a deal: _If you can solve this impossible puzzle, I'll give you the value I owe u/bilbobagholder plus a little extra for your troubles. By the way, Dennis can buy the answer from u/bilbobagholder, and I've included a bit of fee for him, too_
Charlie, realizing Dennis is going to want most of that money to buy the answer decides that the fee I'm paying him on top of the transaction value is worth the effort. He accepts this offer and hits up Dennis with one of his own: _I've got this puzzle that I can't solve myself, but u/bilbobagholder will sell the answer for this much. I don't have a channel to him but you do. u/tripledogdareya included some extra fee for you if you're willing to facilitate this._
Dennis, realizing he's going to have to give you most of the value to get you to disclose the answer, looks at the fee I've included and decides it's worth the effort. He accepts Charlie's proposal and turns his attention to you. _Look, I've got this puzzle that u/tripledogdareya and Charlie say you'll give the answer for if I rebalance our channel in your favor by this much. Give me the answer and it's all yours._
You, now in a position to receive the value, gladly give Dennis the answer to the puzzle. With that in hand, he fulfills the contract that he had with Charlie by revealing the answer to him, recovering the funds plus his fee. Charlie has the answer now so he fulfills the contract he and I had, recovering the funds plus his fee. I no longer have the value, as I've sent it out through the network, but now have the answer to your puzzle as evidence that you've been paid. Although, you already received your value when you resolved the contract with Dennis.
Of course there is a bunch of crypto stuff that goes on during each of these steps to ensure that no one can claim the value before the answer the puzzle is revealed. And there are protections to ensure that Charlie and Dennis can't cheat either of us or each other, or cut each other out of the transaction. That's all very interesting to explore, but on a very basic level, this is pretty much how a transaction occurs on Lightning Network.
@_date: 2017-12-15 20:51:05
It's not that they're _useless_, just that full nodes don't contribute to consensus on the state of the ledger. They're very useful for validating a given chain against your understanding of the consensus rules to see if you've fallen out of consensus. They're also valuable as archives of transactions.
Because full nodes do not contribute work proof, they have no ability to enforce rules on the network or generate meaningful signals. The most they can do is refuse to relay blocks/transactions that they find invalid and to disconnect from the nodes broadcasting them, effectively self-segregrating to a network of like-minded nodes. This is great if the majority of hash power is in agreement, less so if it is not.
When it comes to relaying _new_ transactions, they are potentially an extra hop between the sender and a miner, but that might be preferable for the sender as it adds plausible deniability as to the transmission source.
If the blockchain is to scale, even just enough to support Lightning Network, it may become impractical for _everyone_ to run a full node. So long as the majority of mining power is distributed across mutually incompatible, self-interested agents, the economic incentives are meant to keep them largely self-policing. If users want extra assurance, they'll have to foot the bill for individual nodes or form validation co-ops. If they absolutely do not trust the system (as a whole, *not* individual agents) to function as designed, then small blocks and chain congestion it must be. But if you don't think the system is sound, what's the point of using it in the first place?
@_date: 2017-12-21 07:09:22
I'm sure there will, but they won't just spring out of the aether.  Unfortunately turnkey security will come with its own tradeoffs. Maintaining a secure, trustless system is hard.
@_date: 2017-12-16 16:54:18
Block size increase would necessitate a hard fork. According to some, legitmate hard forks must include manditory replay protection. This becomes far more complicated once long-term payment channels become the norm.
@_date: 2017-12-28 19:40:17
I don't see a reason why you couldn't wormhole in that way if the channel partners are willing to trust whatever backs their channel. LN does allow for channels based on other chains; that feature could be used to support this.
The current channel announcement broadcast mechanism would make those channels apparent and it would be in a user's best interest to not relay over them as they'd have unknown dependability. Until they found path back onto the BTC blockchain, their routing options would be limited to nodes using channels on this alternate chain - with grave consequences for the anonymity promise of onion routing, not that BTC-based channels necessarily fare any better.
Edit: this is a great system for hidden economy, much like the traditional value transfer networks used by criminal syndicates. That alt-chain could be any 'currency', Bitcoin goes in one side, out the other comes drugs, weapons, slaves; payment for which is sent forward, back on BTC. Leverage the everyday transactions of normal people to disguse and launder the proceeds of criminal activity.
@_date: 2017-12-24 05:00:41
It would help a whole lot if the wallet could _receive_ LN payments as well as send them.
@_date: 2017-12-21 17:40:40
Before getting everyone using the Lightning Network, we first need to prepare the community for the responsibility of operating secure nodes. Transacting on LN is an active process and nodes require access to the unencrypted private keys used to manage their channels. If a node is compromised the available balance on open channels is exposed to theft. This is a significant difference from the offline transacting supported by Bitcoin. To get the full benefits of LN, users will not simply be able to secret away their private keys on airgapped hardware wallets.
@_date: 2017-12-30 20:17:49
Node security will need to be a high priority for Lightning Network. Unlike a Bitcoin full node, LN nodes must autonomously sign transactions, which in turn requires access to the unencrypted key material.  There has been very little public discourse on what will be required to secure LN nodes. For users seeking the simplest use case (pre-paid credit/checking account), there is no need for autonomous signing, so their keys can be kept encrypted and offline. That use case is fraught with its own issues, but that's a separate topic. Merchants and users wanting to service third-party transactions will need their nodes to perform autonomous signing, and will need to take appropriate measures to secure their systems. This will come at a cost that will need to be recouped via fees.
Some proposed solutions offload signing to dedicated hardware, similar to Trezor or Ledger, although they would need to be always-on/always-unlocked to facilitate autonomous operation. While these solutions protect the raw key material, it doesn't solve the problems of a compromised node. An additional layer of logic is required to ensure the signing requests are within reasonable parameters, or else the hacked node could be made to request a malicious transaction be signed. This logic must then be run within a secure environment separate from the node.
Robust information security practice, and perhaps a little bit of luck, is what will protect Bob's node from Alice and all the other Mallorys of the world. Risk mitigation can reduce Bob's dependence on luck by trading convenience (and operational cost) for damage limitations. Breach insurance is a mitigation growing in popularity for other fields of information security concern, though it will probably be quite a while before insurers would want to take on the risks for general users.
@_date: 2017-12-27 07:41:56
Current implementations rely on source routing. All of the nodes broadcast their channel states. You build a graph of these states and pick a route through channel-connected nodes. The first hop must necessarily be the partner of the originating channel. The last intermediary must necessarily be the partner of the receiving channel. Your choice for each hop is strictly limited to nodes with whom the current hop has an established and sufficiently balanced channel. Each node is free to set a relay fee based on the channel used and the direction of transmission. Dynamic fees are one method to assist in maintaining channel balance, but the variable fees and dynamic balances mean that a selected route may not be viable by time the transmission occurs.
@_date: 2017-12-21 22:57:15
Before the Lightning Network can solve scaling problems, we first need to prepare the community for the responsibility of operating secure nodes. Transacting on LN is an active process and nodes require access to the unencrypted private keys used to manage their channels. If a node is compromised the available balance on open channels is exposed to theft. This is a significant difference from the offline transacting supported by Bitcoin. To get the full benefits of LN, users will not simply be able to secret away their private keys on airgapped hardware wallets.
@_date: 2017-12-27 09:31:33
I encourage you to do so. I just hope you do so securely. I would hate for you to lose any money in the event your node is compromised. It would be damaging to you, obviously, and damaging to the reputation of LN and by association Bitcoin.
@_date: 2017-12-29 15:53:22
If you create a channel with Coinbase (or Putin for that matter) all transactions on that channel will use Coinbase/Putin as their first hop. Since CB/KGB has control over the other channels they have available, they are able to limit your next hop options, perhaps to ones they control or are have an information sharing agreement. This can continue over as many hops as they like, with CB/KGB in full control of the minimum distance to your counterparty and minimum transaction fee. Because you're hoping through a bunch of anonymous nodes that you selected (from the CB/KGB approved list) you might think that there is some degree of decentralization or anonymization, but if CB/KGB controls all or most of the route, neither is true.
@_date: 2017-12-22 16:42:33
Relaying transactions requires signing new commitments for   both the incomming and outgoing channels.
The difference I'm trying to raise awareness of is that effective nodes need to do all of this autonomously. The key material must be available to the node in order to do so. Since the nodes need to be online all the time (for significant use cases) they are hot wallets that require more security consideration than your Trezor/Ledger.
@_date: 2017-12-26 05:05:08


Yes, and not an insignificant amount.


Yes. More precisely, your current share of balances on open channels could be directly stolen. Other attacks are also possible, such as modifying your nodes routing logic to intentionally relay transactions through attacker-owned, high-fee nodes to slowly and quietly leach value.


It needs access to the unencrypted private keys used to manage its payment channels. These are the keys an attacker could use to steal your funds.
@_date: 2017-12-24 00:54:38
Lowering the block size is a more restrictive rule; it can be implemented as a soft fork.
@_date: 2017-12-20 03:46:17
I guess... That's a fairly minor advantage when the transactions are being broadcast any way. If they were in such cahoots, why doesn't Coinbase simply forego broadcasting the transactions all together and only provide them to Jihan? Then they could be absolutely certain that no other miner earns Coinbase's inflated transaction fees.
@_date: 2017-12-27 04:35:56
Keep rocking that open mind.
@_date: 2017-12-19 19:35:46
They need the keys in order to update the settlement transaction. Updating that transaction is how you rebalance a channel; it is the foundation which makes Lightning Network transactions possible.
If you only intend to send, or are willing to manually coordinate being online every time you receive, you could encrypt the private keys. This renders your node useless for servicing third-party transactions, and opens the door for some interesting and abusive rent-seeking behavior by your channel counter-party.
@_date: 2017-12-25 07:53:57
The idea is that you don't need to open direct channels with all these people. Instead you can *route* payments using the nodes as intermediaries. In theory this works, but I suspect that it leaves a lot of room for abusive behavior by the intermediaries, especially if you want it to be a seamless, user-friendly system.
@_date: 2017-12-27 19:34:03
This only works so long as the cost to settle on-chain is low enough to make unilateral settlement economically viable. As the cost of on-chain transaction rises, the channel counterparty gains leverage in fee negotiation.
@_date: 2017-12-22 17:55:56


I have, many times over.


How do they create a new spend? 
@_date: 2017-12-25 17:57:37
I am not sure how secure your full node is, there are too many possible factors to consider that it is impossible for me to reliably estimate without a lot of additional information. If your security practices are inline with those of the general public, I would feel comfortable guessing that your full node is less secure than would be ideal for an autonomous (able to receive payments without manual coordination and to route third-party transactions) LN node. However, unless you are signing transactions on it, the value to an attacker in compromising your full node is limited. Consequently, your current risk is probably low.
Limiting the amount of funds controlled by your LN node is a good mitigation to reduce the risk or, at least, minimize the potential loss. This strategy is accompanied by its own tradeoffs. With limited funds committed, you will have less ability to establish multiple useful channels from your node, which in turn reduces the utility of the relationship to your channel partners, increasing the relative cost of maintaining a channel with you. It stands to reason that your channel partners will seek to recoup this cost through the transaction fees they charge you for routing transactions over the channel you share. Because a channel's funds can only be directly rebalanced with the partner, this gives them leverage in negotiating these fees, more so as the cost of an on-chain transaction to close the channel and repurpose the funds increases. Their position as the required first/last hop also gives them a significant measure of control over your routing options, opening the potential for more abusive behavior than simply rent-seeking.
Although Lightning is built on the back of Bitcoin, it operates in very different way. Its use changes nearly every expectation you may have about transacting compared to on-chain.
@_date: 2017-12-23 15:29:23
Hardware/mobile wallets should be effective for this use case, yes.
The use case itself - mostly offline, single/few channel, primarily sending - increases the potential of rent-seeking and other abusive behaviors by the channel counter-party, however. 
@_date: 2017-12-19 19:46:12
They only need to control one side of the channel. They can only drain the balance owed to the compromised node. The counter-party only needs to do _exactly_ what is expected of it; it will be entirely unaware of the malicious nature of the transaction.
If the general population is running a Lightning Node from their home, it will be trivial for malware to execute this attack if they get infected. Even large businesses fall victim to malware and hackers, losing their customers' payment card details, passwords, and banking information. This happens **all the time**. It usually takes months or even _years_ before they detect it, if they ever detect it at all.
In that time a compromised node could be abused in far more profitable and less detectable ways than simply draining the balance. For instance, an attacker could modify the nodes routing logic to always send transactions through high-fee nodes controlled by the attacker.
@_date: 2017-12-19 16:31:08
I don't disagree with your conclusion; it is unreasonable to assert moral culpability on all participants of an economic system for the abuses of a few. But the potential for abuse will no doubt attract attention from government. Make sure to include that fact in your risk assessment and mitigations when deciding to engage as a third-party relay.
In addition to what we've discussed so far, and based on your bringing TOR into the mix, I think it's worth pointing out that running LN _on top of_ TOR may be detrimental to your overall privacy. Deanonymization of LN channels or transactions may result in deanonymization of associated TOR activity. Even if it does not do so directly, the ability for LN intermediaries to perform fault injection and timing analysis while servicing transactions, may provide valuable intelligence collection primitives by which to gather the necessary data to associate TOR sessions. The unique channel identies present an opportunity for  deanonymization if they're ever leaked in the clear net, and their association with blockchain addresses make them trivial to link if you don't take care to isolate your identifiable wallets from those you intend to be anonymous.
@_date: 2017-12-21 06:21:55
Channel factories allow you to recycle channels, swapping them between members of the factory. This will extend their usefulness, but it is not possible to increase the total liquidity of the factory without committing more funds on-chain.
@_date: 2017-12-16 16:17:05
Transactions involving $10k are required to submit a Currency Transaction Report. This is just a form, a reporting mechanism not an investigation. If the regulated entity observes suspicious transactions, say a series of sub-$10k transactions that might be structured to evade reporting requirements, they are required to submit a Suspicious Activity Report. Again, a form, not an investigation.
@_date: 2017-12-24 15:55:35
Sorry you haven't gotten a response to this yet. Thankfully, the questions you're asking are palatable to the community and there are more visible discussions that might help:
@_date: 2017-12-29 05:27:10
If you're going to be running an autonomous node (pretty much a requirement for routing transactions or receiving non-coordinated payments), please make security a high priority. Nodes must be able to sign with the private keys that control their channels. If your node is compromised, your share of the balances on open channels is vulnerable to theft.
@_date: 2017-12-25 07:32:09
When you fund a channel, you and your counterparty agree to each commit a specific amount to a multisig address and create an enforceable contract that determines how those funds can be paid out. In the most basic example, you agree to commit equal funds and the contract pays you out your half of the total funds.
Because you require the channel partner to sign any transaction that spends the funds (not your key) you don't have full ownership of them (not your coin). 
However, that contract is *already* signed by your channel partner, so any time you want, you can execute the contract and recover the portion of funds you're due. There are some extra features of the contracts that place a timeout before you can access the funds when you execute it. The contract can also be updated if both you and your channel partner agree to a new payout balance. If one partner attempts to execute an old contract that awards them a larger share than the most recent version, the other partner can use information traded during the renegotiation to take *all* the funds as punishment, but must perform this during the timeout.
@_date: 2017-12-25 05:10:59
You will need to find a new trustless, decentralized consensus mechanism - Proof of Work is not suitable for this task. Using PoW-based consensus to enable transacting was a technique explored prior to the invention of Bitcoin, and is essentially what Adam Back's Hashcash attempted to apply to email.
Although there are several issues that this proposal leaves to the implementation to resolve, its primary and consistent failure is economic. In order for PoW to be meaningful enough to be of use, the work performed must be sufficiently _expensive_. As the consensus network matures and grows in value, the work required must become _exceedingly expensive_. This creates an economic bottleneck as it eventually becomes _too expensive_ for the users of the network to transact. The value of their funds will be out-paced by the the cost to perform transactions (sound familiar?)
Bitcoin resolved this issue in a unique way. By limiting consensus activity to those willing to invest in building the capacity to perform the exceedingly expensive work, then compensating them for their efforts using the value tokens their work proof protects, we can establish economic incentives to keep the consensus workers _honest_. Furthermore, if we limit the responsibility of the consensus workers to a task for which the output is otherwise arbitrary (establishing the fixed order of transactions), all we need of them is to honor their consensus once reached (a type of honesty). These two ideas combined opens a new possibility: we can offload the consensus gathering work and spread the cost across all transactions, lowering the total cost to the network.
Contrary to popular belief, the consensus network - represented by the miners alone - was never meant to be *greatly* decentralized as Bitcoin matured. It needs only to be *sufficiently* decentralized such that the economic incentives, the miners' self-interest, and the risk of undermining their wealth keep them from colluding in dishonoring their previously established consensus. It is important that the system be externally auditable, but it does not require that every user do so. Because of the miners restricted responsibility, their malicious actions are limited in scope to their ability to affect consensus on the order of transactions. Due to the majority-rules nature of PoW consensus, nothing can be done to directly punish a dishonest majority except to abandon their work proof as a consensus source, destroying the value of their investment in work capacity.
@_date: 2017-12-24 03:49:53
Before getting everyone using the Lightning Network, we first need to prepare the community for the responsibility of operating secure nodes. Transacting on LN is an active process and nodes require access to the unencrypted private keys used to manage their channels. If a node is compromised the available balance on open channels is exposed to theft. This is a significant difference from the offline transacting supported by Bitcoin. To get the full benefits of LN, users will not simply be able to secret away their private keys on airgapped hardware wallets.
@_date: 2017-12-17 16:00:18
Oh man, all those Wordpress e-commerce sites getting hot wallets. This will be _awesome_.
@_date: 2017-12-16 20:10:05
No, same rules. One just has less than the majority work proof behind it. But you node doesn't know that, remember, you're isolated from the legitimate chain!
@_date: 2017-12-16 03:27:34
They have no problem broadcasting transactions in a timely manner. They (or their customers) just pay a lot in fees for it.
@_date: 2017-12-25 08:19:38
Yeah, about that nice, easy package...
The more that is hidden from the user, the more trust they must place in the correctness of the software and the less ability they have to detect abusive network behavior. Users seeking the least complex use-case - mostly offline wallet, high send to receive ratio, no third party transaction routing - are therefore _most at risk_ of rent-seeking and other external abuses.
That is why it is so important that users understand how to operate a secure node. While they would have increased exposure to attack against their system, it also provides them the visibility into the network to identify and address bad behavior.
@_date: 2017-12-20 23:46:23
Correct. In order to transmit value over payment channels, the channel participants must interactively negotiate the new balance. Lightning Network provides the protocol by which to negotiate, but you must be able to communicate.
@_date: 2017-12-18 23:35:39
You can never receive more than the total available balance on a channel. If you're not living paycheck to paycheck, your channel(s) may become exhausted after a few paydays. You might need to pay an on-chain transaction fee to open a new channel so that you can continue to get paid.
@_date: 2017-12-28 17:47:43
How are you managing security for the LN private keys? Any particular precautions you recommend for users to implement?
@_date: 2017-12-28 23:54:51
Your analogy completely misrepresents what actually occurs during a Lightning transaction. The merchant does not *withdraw money via the blockchain from the payer*.  The receiver is credited funds by the last intermediary on their shared channel. The payer credits the first intermediary on their shared channel. Each intermediary receives funds on one channel and transmits on a second.
This is made obvious in the fact that if the receiver closes his channel immediately after receiving the sender is completely unaffected. The *value* was already transmitted. Nothing further connects the sender and receiver.
Edit: Couriers **are** explicitly exempted from Money Transmitter regulations because the regulations are so broad that they otherwise would qualify in some situations.
@_date: 2017-12-23 20:28:40
Decentralization means a lot things. Could you make your question more precise?
@_date: 2017-12-21 01:47:40
Sure, if you can arrange that with all of your transaction partners. It would eliminate the promise of instant payments or at least puts a qualifier on 'instant'.
This also reduces your node's utility for relaying third-party transactions and channel rebalancing. While not a certainty, it is reasonable to expect that your channel partner may seek higher fees to relay your transactions since maintaining the channel provides them with little other benefit.
@_date: 2017-12-16 19:49:55
Your only protection, full node or SPV wallet, is to connect to enough other participants to satisfy your belief that you have observed the longest chain. If that is not true, if you really are isolated from the legitimate chain, a full node can not even alert you that a double spend has been attempted. You will accept the transaction on the malicious chain until such time as you finally do observe the legitimate chain. At that point, no matter how many confirmations you _thought_ the transaction had, your node will come to the sudden realization that, in fact, that transaction _never happened_.
@_date: 2017-12-24 03:56:01
Are there any community efforts or open projects focused on collecting and disseminating security guidelines for running a Lightning Network node? It continues to surprise me how many very exuberant LN promoters are unaware of the active nature of transacting and the fact that nodes will require access to unencrypted private keys to receive payments or service third-party transactions. It would be quite the set back if early adopters lose funds from a malware infection because they didn't understand the risks and take appropriate precautions. 
@_date: 2017-12-22 20:39:38
Your understanding of the crytography in use and the mitigations offered by the whitepaper are flawed.
The deterministicly generated keys **must** be unencrypted in order sign with them. The master key **must** be unencrypted to derive deterministic keys from it. The node must either have direct access to those keys on order to use them, or it must offload the signing function to another system - one which must be secured to the same extent **plus** be able to authenticate signing requests from the node. Which introduces a whole new set of issues to consider in the event of node compromise.
@_date: 2017-12-20 03:28:38
Whatever you were sending never really went anywhere. Until a transaction has been confirmed in the blockchain it hasn't actually happened yet.
However, until you move the same coins involved in the dropped transaction, that transaction is still valid. Just because it was dropped from one (or all) mempools doesn't mean that someone couldn't replay it or even mine it into a block. If you want to be absolutely sure the dropped transaction will not be mined at a later time, you need to broadcast a new transaction spending at least one of the same inputs with a high enough fee to get confirmed.
@_date: 2017-12-27 04:27:29
@_date: 2017-12-27 02:36:13


Managing these balances can be complicated.


If you spend less than you earn, your channels will eventually become depleted. You may not be able to get paid without opening a new channel, at the cost of an on-chain transaction. Hope the pay exceeds the cost of opening the channel.
@_date: 2017-12-19 20:16:29
The attacker is not draining the entire channel funding amount, necessarily. They're draining the balance due to the compromised side. They use the basic Lightning Network function of rebalancing payment channel to do so.
In order to receive funds or service third-party transactions in an automated fashion, you **cannot** use strong encryption on the keys, they **must** be available unencrypted to perform the rebalancing. That is the risk I'm pointing out.
The average person wouldn't know if they've been infected with malware even after the friendly "Microsoft Tech Support" agent charges their credit card and helps clean up their system over Team Viewer. But even companies get hacked **constantly**. It's an open secret that network security in *most* companies is a complete joke. Why do you think there are so many breaches? What percentage of the actual amount do you think ever hit the news?
@_date: 2017-12-29 03:14:46
We're only concerned about how the payment value transferred, not delivery of goods and services. G&amp;S might be covered under the same general regulations if they also qualify, but the delivery would be distinct. The fact that there may be a direct exchange of G&amp;S _in return for the payment_ has  no bearing on determining if the intermediaries _relaying the payment value_ are acting as money transmitters. This really isn't about Bob and Anne at all, it's about Carol.
Bob can complete the contract but Carol is still the counterparty to it. When Bob settles, he gets the value from the channel funding he and Carol share. Anne's value never reaches Bob, yet he still gets paid.
@_date: 2017-12-27 07:14:00
Only if they overtly try to screw you. Once you're locked into a contract, your channel partner has a lot of influence and some control over how you can use those funds to transact. If the cost to open and close channels are high, they have leverage over you in negotiationing fees for transacting. You can't take them to court for most of the abuses this enables.
@_date: 2017-12-21 16:36:44
You **do not** have to give up your private keys to use LN, as long as you're running your own node. However, LN nodes require access to the unencrypted keys, compromise of which exposes your open channel balances to risk of theft. The point of the linked post is to raise awareness of the security requirements that come along with running a node and to encourage the community to engage the issue sooner rather than later.
@_date: 2017-12-26 06:33:40


How does a non-mining node express its voice and how are their votes tabulated? How can other nodes receive and validate signals sent?
If it is a matter of voting, why would an attacker need to take down the other nodes when they could just spin up more nodes to overwhelming vote in their favor?
@_date: 2017-12-21 04:14:13
Lightning Network nodes perform transactions in a significantly different way than on-chain Bitcoin transactions are performed. Unless you are willing to trust a third-party with complete control of your funds (i.e. not really using the Lightning Network directly) your wallet will be a node. LN nodes have security requirements much higher than Bitcoin wallets, especially if you want to receive payments without having to manually coordinate with the sender every time. You'll want to prepare yourself for the responsibility of operating a secure node. If your node is compromised your share of open channel balances is at risk of theft and worse!
@_date: 2017-12-26 22:50:06
It's slightly more complicated than that. The edges connecting the graph nodes have properties which limit how much and in which direction value can flow. It is entirely possible that you could be connected to the graph an unable to send to or receive from any particular node based on the states of the channels between you and them.
@_date: 2017-12-27 09:12:57
If you're allowing the node to autonomously facilitate third party transactions, you've seriously increased the security requirements. And that doesn't  help much in this case. Rebalancing in way this doesn't introduce  new liquidity except for the fees you collect, it just shifts liquidity between channels.
@_date: 2017-12-07 04:36:21


Warning: I'm going to take things a bit to the extreme here. Please read the following with the understanding that I'm only attempting to provide one _possible_ viewpoint, less tempered by my personal opinions than it might otherwise be.
Ideally, a peer-to-peer currency would require no fees for its use. Unfortunately, such a solution has yet to be discovered. Until then, proof-of-work based consensus can be leveraged to manage a globally shared ledger in which we can record the ownership and transfer of tokens.
In order for PoW to be meaningful, it is necessary that the work performed be expensive. Compensation for that expense through block rewards and transaction fees establishes the foundation of Bitcoin's positive economic incentives, rewarding honest participation. In addition to the direct costs of mining, those investing in the capability also take significant risk. Failure to fulfill the needs of the system's users will result in devaluation of their accumulated tokens, their specialized hardware, and the work proof they generate. Since deviation from the majority results in the immediate loss of value for earned rewards, miners are unable to unilaterally control the system to ensure sufficient honesty, motivating heavy reinvestment and compounding their assumed risk. 
Lightning nodes do not perform expensive work and the design of the Lightning Network does not provide the same mutual benefits as the economic incentives framing Bitcoin. It is a vehicle for rent-seeking, allowing those with the greatest wealth to leverage their position to attract an ever-growing share. 
Lightning nodes may be equal, but some are more equal than others, their utility determined by the excess wealth of their operators. For the less wealthy, Lightning provides little more than a means by which to transact. It will be difficult for them to commit the excess wealth required to establish well-balanced channels from which they can earn fees. The necessary liquidity will instead be furnished by those whose excess wealth allows them to commit large sums to the maintenance of high-throughput, balanced channels. As the Bitcoin-bound contracts ensure complete and timely settlement, they need take no risk in doing so. The expectation of fees in this system is essentially a requirement that, in exchange for the _privilege_ of transacting their own money, the poor must pay the rich _simply for being rich_.
@_date: 2017-12-16 03:26:10
They're following the majority chain, with Segwit, just the same as they would have if Segwit2x had successfully activated.
What do does 'turning on Segwit' look like in your estimation? What will Coinbase be doing differently once they've turned it on?
@_date: 2017-12-24 14:40:11
One of the best ways to help prepare for the Lightning Network is to make sure you're ready to run a secure node and teaching others to do the same. Receiving payments on the Lightning Network requires that the recipient's node be online with autonomous access to the unencrypted private keys used to manage its payment channels. There is a substantial difference in the security requirements of an LN node compared to holding a Bitcoin wallet or even full node. Nothing will undermine public confidence in LN faster than if a widespread malware outbreak ends up stealing funds from early adopters. The pervasive data breaches across companies large and small demonstrate that most are not yet prepared for the responsibility that awaits them when Lightning strikes. The community must act now to promote strong security or look on as LN flashes and fades, leaving only the rumble of disillusioned supporters.
@_date: 2017-12-18 06:58:21
It's really not a stupid question. Keep questioning and learning more. Don't let comments like the above curb your curiosity.
@_date: 2017-12-24 03:47:11
With the high fees, who is using BTC for micro payments? If no one is making micro payments how does facilitating them take any load off the main chain?
@_date: 2017-12-18 22:11:22
Lightning network provides alternative ways to extract funds from a compromised node. For instance, malware could use the keys to perform an outgoing transaction sending the funds anywhere. If the attacker is patient a more diabolical attack might be to inject new logic into the routing module and slowly syphon value by intentionally sending transactions through high-fee nodes they control. This is less likely to be detected and the plausible deniability makes it a  great strategy for a malicious administrator.
@_date: 2017-12-15 21:09:41
Hardly useless! If you end up on a network with no miners, you can be pretty sure that you've fallen out of consensus with the majority of the hash power. That's a great thing to know - you'll want to identify why that happened. If the majority of the network is openly confirming blatantly invalid transactions, you might decide not to trust that source of work proof in the future. If they've only modified a parameter, you'll need to consider if you are willing to accept the changes to consensus the majority has agreed on. Some of those parameters might make it more expensive to run a full node, so take that into consideration when deciding.
And you left out the other useful functions that non-mining nodes can perform: archive and transmission obfuscation. These are not minor things.
@_date: 2017-12-21 15:03:20
If the ideal Lightning Network is to be realized, we first need to prepare the community for the responsibility of operating secure nodes. Transacting on LN is an active process and nodes require access to the unencrypted private keys used to manage their channels. If a node is compromised the available balance on open channels is exposed to theft. This is a significant difference from the offline transacting supported by Bitcoin. To get the full benefits of LN, users will not simply be able to secret away their private keys on airgapped hardware wallets.
@_date: 2017-12-25 15:34:34
High fee direct settlement on the blockchain undermines the trustlessness of LN under the use cases most compatible with consumer adoption. High fees create channel lock-in, exposing consumers to rent seeking and other abuses by their channel partners. As fees approach or exceed the balance of a channel, it becomes economically infeasible to enforce the breach remedy transactions that keep channel partners honest.
@_date: 2017-12-19 20:46:42
Yes, with restrictions. When you cooperatively close a channel with your counter-party, you can fund a new channel with the output due to you. This would require a little bit of coordination as you must set up the new channel with the new counter-party (could be the same counter-party even) to establish the address to be used for output when you close the original channel. This would save you one transaction fee. No idea if the current client implementations support this at the moment, but it is supported by the protocol itself.
@_date: 2017-12-12 16:43:37
Unless you're mining, your full node does not participate in block confirmation. Blocks are confirmed by mining new blocks on top of them.
@_date: 2017-12-29 00:49:50
No, I mean nothing connects them any more at all. After a transaction has been routed, when the payer settles to the blockchain it is a peer-to-peer transaction between him and his channel partner. When the sender settles to the blockchain  it is a peer-to-peer transaction between *her* and *her channel partner*. There is never peer-to-peer settlement on the blockchain between the sender and receiver (for _routed_ transactions).
I can look up the specific regulations later and reply again. There is also guidance from FinCEN wherein the existence of a contractual arraignment to forward value is used as an example *contributing* to defining someone as a money transmitter, so that argument probably works against claims to the contrary.
@_date: 2017-12-23 08:32:56
Just make sure you're prepared by planning your node security strategy now. An Lightning Network node effectively acts as a hot wallet, requiring access to the unencrypted private keys used to manage its payment channels. There is a substantial difference in the security requirements of an LN node compared to holding a Bitcoin wallet or even full node.
@_date: 2017-12-17 22:59:04
The more you understand LN, the more moving parts you see behind it, the more you realize that ease-of-use will require sacrifices in security and/or increased operational costs. Hot wallets for merchants and intermediaries, channel balancing, route selection, breach remedy; each of these introduces complexity and risk. Reducing the complexity increases the risks. Even if the contracts are perfect and the cryptography sound, the operation of LN is far removed from simple security basics required of Bitcoin.
@_date: 2017-12-21 03:49:24
I imagine that will be powerful enough, but physical isolation is just the start.
* Isolate the node on your network
* Access control to the host, services and UIs
* Regularly update the OS and installed software
* Monitor network and node for indicators of breach
* Periodically audit configuration and system integrity
* Secure backups - encrypted and distributed
Now figure out how to break all that security so you can do it better before the bad guys do.
@_date: 2017-12-21 22:54:54
Before the Lightning Network can solve scaling problems, we first need to prepare the community for the responsibility of operating secure nodes. Transacting on LN is an active process and nodes require access to the unencrypted private keys used to manage their channels. If a node is compromised the available balance on open channels is exposed to theft. This is a significant difference from the offline transacting supported by Bitcoin. To get the full benefits of LN, users will not simply be able to secret away their private keys on airgapped hardware wallets.
@_date: 2017-12-25 15:25:24
Before the Lightning Network can solve scaling problems, we first need to prepare the community for the responsibility of operating secure nodes. Transacting on LN is an active process and nodes require access to the unencrypted private keys used to manage their channels. If a node is compromised the available balance on open channels is exposed to theft. This is a significant difference from the offline transacting supported by Bitcoin. To get the full benefits of LN, users will not simply be able to secret away their private keys on airgapped hardware wallets.
@_date: 2017-12-16 19:01:49
Full nodes have no more ability to enforce rules on hostile miners that attempting to perform invalid transactions. The full node can reject and disconnect, but it cannot generate a meaningful signal informing anyone else of that rejection. Honest miners will _also_ reject, after their own validation, ignore the invalid block, and continue mining. Their eventual acceptance of a legitimate chain, signalled by their extending of its blocks, is all that is necessary for the rest of the network to know that the hostile block is invalid.
@_date: 2017-12-19 23:52:26
It's not my place to speak to others intentions. It isn't unreasonable to operate new software while risking minimal funds, at least initially. The small default channel size might also promote higher interconnection, but that puts additional funds at risk.
@_date: 2017-12-19 01:32:35
I don't think we're at disagreement here, so let me try to clarify.
A single inflow transaction (where you are the receiver) can never exceed the available channel balance (the portion of channel funding currently due to your counter-party). You can have multiple channels open, but receiving on each of those would require separate transactions. You can never receive (at one time) more than the sum of the available balances of all your open channels.
Rebalancing a channel that has been inflow-exhausted requires sending funds **out** of that channel. You could send this to another channel you have open if it has available balance to do so, but it must flow through your counter party at a minimum. It will also move the second channel closer to exhaustion. If you don't have another channel open, or your channels are all exhausted in the same direction, you would need to open a new channel (with associated on-chain fees and funding commitment) to use for balancing. Alternatively you could negotiate with your expended-channel counter-party to pay them out-of-band to rebalance the channel in your favor or to expand the channel by committing additional funds, both of which would likely include at least one on-chain transaction.
@_date: 2017-12-17 02:58:38
9000 * 0 = 0
And that is the very reason _why_ it must be so. What you've described is a sibil attack. If non-mining nodes had any ability to enforce their will on the consensus of the network, Bitcoin could not work.
@_date: 2017-12-24 13:53:09
Oh god, can you imagine? I would hope we could expect people to at least understand that, but I suppose it is worth pointing out. Still, the private keys of the payment channels would be vulnerable, and that  could be a substantial amount for some users, especially if they aren't aware of the risk involved.
@_date: 2017-12-19 17:23:25
One topic on this that has not received as much attention as it needs is around the security requirements for operating a Lightning Network node. This is a discussion that needs to occur _before_ pushing the average user or business to run a LN node, especially one meant to receive payment in an automated fashion or to service third-party transaction as an intermediary. The regular compromise of credit card data from e-commerce and and traditional merchants makes it fairly obvious that, for the most part, they're not ready to take on this responsibility.
Lightning Network nodes need access to the private keys used to manage their channels. This means they are essentially hot wallets, as the software will need to use the unencrypted keys in an automated way. This is a substantial departure from the basic security requirements needed to transact on-chain with Bitcoin. Lightning Network nodes will have a bounty on them, at minimum the immediate combined balance of their open channels. But there are worse things an attacker (or malicious admin) could do than simply steal funds outright.
It's going to be one hell of a wake up call the first time a wide-spread malware is armed to extract private keys from LN nodes. But that pales in comparison to what the 2nd or 3rd generation will do - quietly injecting themselves into the routing module to slowly sap value by intentionly routing through high-fee, attacker-owned nodes. Why burn the host when you can parasitically leech from them over an extended period? This attack provides plausible deniability, perfect for the disgruntled admin wishing to extract a bit more of their worth from an ungrateful employer.
@_date: 2017-12-19 20:58:08
I know, I wouldn't want to misreprent your intended meaning. But it really is the unfortunate truth of the situation. It's not a Lightning Network killer, by any means, but it has a dramatic impact on the economics that has been largely ignored. A rash of theft from first-generstion LN nodes could have a devastating effect on the confidence of the system.
LN transactions are remarkably secure, from what I've found in my research. The nodes themselves are the weak spot. A lot of posts have asked what can be done to speed up deployment of the Lightning Network, perhaps the answer needs to be **learn and teach strong information security practices.**
@_date: 2017-12-22 18:07:58
And if you want to receive payments with out manual coordination, your wallet keys must be accessible to the node in an unencrypted form.
@_date: 2017-12-20 06:57:09
Their own money?
The risk I've presented is to the operator of the node. They can have _their own_ balances stolen if their node is compromised. This does not allow the compromised node to steal funds from other users or from the payment channel counter-parties.
@_date: 2017-12-21 17:12:41
This approach is certainly workable, but puts a heavy trust dependency on the manufacturer of the hardware and their node implementation. It's a trade-off I'm certain many casual users are willing to make, but a trade-off none the less.
It will be interesting to see how simplified we can make initial selection and addition of channels before introducing new risks of abusive rent-seeking behavior from channel partners. Users who don't want to be bothered micromanaging these details will be most exposed and least equipped to identify when they occur.
@_date: 2017-12-27 09:27:49
It's all so easy when you don't consider less immediate incentives.




@_date: 2017-12-27 04:47:10
You're fighting a strawman. I've wasted my time in an attempt to correct your misinterpretation of my position in the hopes that you have some spark of intellectually honest curiosity that could be kindled into a meaning discussion.
I will part ways here, wishing you a very cryptic 2018.
@_date: 2017-12-20 14:26:25
Use of a LN node is required for direct participation in the Lightning Network. In theory, you could use a hosted node, sort of like a Bitcoin web wallet, but then you're trusting the operator of that wallet entirely.
You could still use Bitcoin on-chain without touching Lightning Network if you'd like.
@_date: 2017-12-21 07:38:55
Hardware Security Modules (HSMs) are a great mechanism for key security. They're quite practical for the LN user who primarily sends and only occasionally receives, making it easier to coordinate.
HSMs are a bit less practical for merchants or nodes wishing to earn fees by servicing third-party transactions. They would still be a valuable control, one I would recommend, but they would not eliminate the potential for theft. In those cases, an attacker could target the systems that generate transactions to be signed by the HSM. They could also modify the nodes' routing logic to intentionally route transactions through high-fee, attacker-owned nodes, discreetly siphoning off value. As these use-cases require automated transaction generation and signing, periodic auditing will be called for.
I'm not bringing any of this up to undermine the Lightning Network, but to help the community prepare for its secure implementation. It's unfortunate that you dismiss these risks so easily. I hope for your sake that you never face the consequences of poor security hygiene. I have seen the results of that in the shattered remains of small businesses and ruined careers.
@_date: 2017-12-21 07:03:31
You cannot receive funds if your node is not online, either.
@_date: 2017-12-20 05:19:43
Bitcoin is not a stock. Since IRS treats it as personal property, my guess is that they'd count from when it undeniably came into your ownership. If that is accurate, you'd start the clock today (maybe tomorrow if things remained lock, but whatever). Since this isn't earned income, I don't think you'd be required to pay tax immediately, but you would probably use a cost basis of $0 when you do finally sell.
Best to consult a knowledgeable tax accountant, especially if you have significant holdings. Wouldn't hurt to make sure they're prepared/able to appear in the event you're audited. The couple of hours you'd pay them for this will more than cover the trouble of dealing with it yourself. You're far more likely to get favorable treatment from the IRS when they see that you made an honest attempt to report accurately given the uncertainty.
@_date: 2017-12-25 15:39:47
I'm not much of a scholar on the topic; I don't believe I'll be able to provide you a satsifying answer.
@_date: 2017-12-22 04:33:42
It's not as horrible as it might sound, but it absolutely is not a drop-in replacement for the Bitcoin transactions we are familiar with. That's why it's so important the Bitcoin/LN community have this discussion _now_ rather than _after_ the next WannaCry comes around and cleans out everyone's Lightning nodes.
@_date: 2017-12-26 06:13:08
Contrary to popular belief, the consensus network - represented by the miners alone - was never meant to be *greatly* decentralized as Bitcoin matured. It needs only to be *sufficiently* decentralized such that the economic incentives, the miners' self-interest, and the risk of undermining their wealth keep them from colluding in dishonoring their previously established consensus. Due to the limited responsibility of the miners, their malicious actions are restricted in scope to their ability to affect consensus on the order of transactions. Due to the majority-rules nature of PoW consensus, nothing can be done to directly punish a dishonest majority except to abandon their work proof as a consensus source, destroying the value of their investment in work capacity. If miners adopt rules which the users find untenable, the proper response is to move to a new source of work proof, one where the majority of capacity follows the preferred rules.
@_date: 2017-12-21 22:12:33
Before the Lightning Network can solve scaling problems, we first need to prepare the community for the responsibility of operating secure nodes. Transacting on LN is an active process and nodes require access to the unencrypted private keys used to manage their channels. If a node is compromised the available balance on open channels is exposed to theft. This is a significant difference from the offline transacting supported by Bitcoin. To get the full benefits of LN, users will not simply be able to secret away their private keys on airgapped hardware wallets.
@_date: 2018-05-09 14:43:48


Not to undermine your confidence in me, but keep digging and you'll probably find me making some sort of claim along those lines. Not specific to one chain or the other, but that _with proper opsec_ on-chain transactions can achieve stronger anonymity than Lightning Network transactions. This is of course at the expense of transaction transparency. I think this is a well justified position given the issues I've raised with onion routing across LN's overlay network.


On Tor, the user can craft a route that hops from one OR to any other OR on the network. They can start their route from any entry node and end it from any exit node. The intermediary nodes can be selected in an arbitrary order. An intermediary can choose not to permit the requested route, but that doesn't (or at least shouldn't - it's not like Tor has a perfect track record either) give them additional information even if they're selected as part of a subsequent re-try route.
None of this is true on Lightning Network. The first hop for any route over a channel must **necessarily** be through its peer. Each subsequent hop is limited to the channels the current hop has established and which have sufficient capacity. This results in a false sense of choice - the user is still able to source route, but the only possible routes are those which their channel peers make available.
There are also techniques which may allow an adversary to manipulate the channel availability on remote nodes to influence the routing decisions made by users with whom they do not share a channel. Regardless of how a user is lead to select a route containing the adversary's node, any route extending from it is only available at the will of the adversary.
@_date: 2018-05-09 17:51:24


On-chain transactions are not private, but can be more anonymous. It is a lot of work -hard work- to execute with the type of operational security necessary to stymie a global adversary. Most people are not equipped to pull it off, but in all honesty, it's not a realistic threat for most people, either. History shows that the tide can turn quickly and it would be fantastic if we could provide turnkey solutions to tyranny - but we're not there, yet.
Bitcoin is a tool that, when used right, can provide an amazing amount of anonymization and obfuscation, but it isn't a one-size-fits-all fix against the powers that be. A problem with great opsec is that you have to be applying it _before you need it_. Once you realize you're at risk, it is too late to undo what's already done. Most people are not willing to go to the necessary lengths unless their lives are already on the line.
@_date: 2018-05-11 14:23:14
A channel's total capacity is limited to the sum of its on-chain commitments. A 1 satoshi channel would only be good for moving 1 satoshi back and forth between the channel peers. There are plans for slice in/slice out to allow dynamic channel capacity changes, but these involve new on-chain commitments.
@_date: 2018-05-21 15:31:35
The basic rule for what makes one a _money transmitter_ under US law is rather simple - not in a vague way, but an intentionally broad way. Receiving and transmitting anything of value on behalf of a third-party is all it takes. The additional rules are exclusions from the basic rule. Most of those are to rule out obvious issues of such a broad definition (a cashier receiving funds and transmitting them to the till is not _in the business of money transmission_) or when the activity is already covered as a different type of _money services business_.
@_date: 2018-05-06 14:53:59


Per the emails which Mike Hearn released, we can gain some insight into that particular decision:


@_date: 2018-05-31 00:47:48


Perceived value of a service is linked to the price paid. Human nature will naturally lead many to better trust services for which there is an associated fee and trust less those provided for free, either assuming there is a catch or that the service is "worth what was paid." Although _your_ free watchtower may be reliable, it is well within the realm of likelihood that many others will not. You may be providing a _better_ service by changing a _moderate_ fee (edit: or at least a token fee), lest end-users mistake the concept of watchtowers as unreliable due to a few experiences which they cannot distinguish.
Edit to include a practical scenario of why a fee may be preferable: Suppose the chain is experiencing a period of backlog such that the fee included in the breach remedy is insufficient to ensure it is included in the next few blocks. A malicious peer is able to CPFP their deprecated state broadcast while a no-fee watchtower has no incentive to do so. Either you pay out of pocket to protect the funds of anonymous users or you fail to provide the expected service. Ultimately it is the user's fault for allowing the channel state to be in such condition and for not checking in to CPFP the breach remedy themselves, but from their perspective - that was supposed to be _your_ job.
@_date: 2018-05-09 16:31:18
I won't go so far as to assign ill intent, but encouraging users to simply ignore the complexity of peer selection and the risks it presents is negligent.
I look to these two quotes to help me understand how this may have come about innocently:


It is all too easy to fool ourselves, and an unfortunate natural human trait to reject information which runs counter to a belief once formed. This applies to me just as much as anyone, so I am open to the possibility that I am the one mistaken about the severity of these issues.


This helps me justify the confidence with which I maintain my position. I've laid out my concerns as I understand them, exposing them for critical analysis and review. The responses I've received have not been sufficient to offset my personal assessment.
@_date: 2018-05-08 21:20:20


I'm not sure if the common hash issue has been fixed, but this was true at one point, and still may be regardless. A global adversary is considered outside of Lightning Network's scope. Due to the restricted topology of Lightning's overlay network, it may not even require a global adversary to have a substantial impact on the privacy of transactions passing through a malicous peer.
@_date: 2018-05-29 05:55:14


An excellent recommendation! Learning how to make the most of Google's (and other engines') capabilities is vital to efficient and effective research. I'm constantly surprised how frequently it occurs that a question which could be easily resolved through the proper search is left unanswered due to poor technique. It is close to the moden equivalent of _literacy_ (ignoring, for the moment, the problem of modern illiteracy)  - those who acquire the skill will be more capable in their analysis of the world around them.
How ever you found your way here, I'm glad you found the thread informative. It is a difficult and sensitive topic to discuss. Whether you agree with the conclusions drawn regarding the suitability of Onion Routing on the LN, or not, hopefully it will as least encourge discussion about the _potential_ for risk. A well-veted system is one for which we know its breaking points. Any system which claims invulnerability is either functionally useless or, more likely, insufficiently examined.
@_date: 2018-05-08 21:11:20
It doesn't win me many friends to discuss this, but there are some elements of Lightning Network's design which do have the potential to aid in deanonymizing users and transactions. In particular, the channel-based topology of the overlay network severely limits privacy obtainable through application of onion routing. Additionally, the long-term identities formed by channels and sets of channels allows for correlation of transactions across channels, which may further aid efforts to link a transaction to its sender and/or receiver.
@_date: 2018-05-08 02:45:46
That handles transactions that have been broadcast, assuming the margin is sufficient, but not transactions which have not been broadcast. Consider HTLCs, similar to those used in Lightning Network to provide breach remedy, though performed with legacy transactions. If those contracts were not closed before the change, they would become unenforceable. Another simple example would be a signed transaction kept in encrypted storage, perhaps as part of a will, for which the private key is no longer accessible to regenerate the transaction under the new format.
There are several ways in which existing transactions may be encumbered with what effectively amounts to a time-lock, both on- and off- chain. While it may some day be necessary to invalidate them in order to protect the chain from greater harm, it has been the general approach that a once-valid transaction should remain so, at least until its inputs have been spent by an equally valid transaction.
Breaking this backwards compatibility amounts to implementing anti-replay. While appropriate for a minority fork wishing some measure of protection against the majority consensus from which it is defecting, it is arguably undesirable for the majority branch.
@_date: 2017-12-16 18:20:38
That's only true when the network is massively _interconnected_. If it evolves toward a hub-and-spoke model, channel management costs and rent-seeking from the highly-connected intermediaries could push fees upward. An echo of the network neutrality issue and the intermediary position of ISPs.
@_date: 2018-05-10 17:30:06
Anonymity and privacy are related but different. Bitcoin provides a post-privacy framework for pseudoanonymous transactions. There is still a huge amount of work for a user to do outside of bitcoin to achieve and maintain anonymity by disassociating from their on-chain pseudonyms, but the variables to do so are well within the individual's sphere of control.
@_date: 2018-05-05 18:53:59
A bit late to the party, but yes you are correct. Since the agreement authorizes the sale of technology implementing the protected IP, first sale doctrine likely covers use of it by purchasers.
That said, it doesn't change the poison-pill nature of the agreement for any IP holder who makes their technology available under it.
@_date: 2018-05-18 23:26:23
Sounds like you need to open a bug report with the vendor. Being unable to record the base unit of a currency in an accounting package is a breaking bug.
Edit: Seems like there are some work arounds, though they're not ideal.
@_date: 2018-05-06 15:00:36
The BIP39-stanardized word choice and encoding were new, but even the the idea of using a common dictionary to convey binary data in a human-compatible way was a well established technique. 
@_date: 2018-05-08 17:59:03
Lightning network as implemented requires the transactions be segwit, but the HTLC scheme it uses can be performed with legacy transactions. Segwit's  malleability fix makes it easier to observe if a deprecated state is broadcast, but is not a strict requirement for the general (non-LN) implementation.
Are such contracts in use? It's pretty hard to say with any certainty, but they are only one of many examples of valid transactions which could become invalidated, possibly rendering funds inaccessible. It would work against the goals of sound money and store-of-value to break backwards compatibility.
@_date: 2018-05-08 19:40:59


As is your natural right. The market may even be overwhelming appreciative/supportive/accepting/forgiving (depending on perspective) of the decision to do so. It would, however, set the undeniable precedent that, on at least one occasion, the consensus rules had changed such that previously valid and useful transactions were invalidated.


I agree that this is an ugly solution, but also estimate it to be far more inline with the expectations of bitcoin. It  would probably be quite effective at mitigating any DoS due to the difficulty in acquiring the private keys to existing outputs.
Another potential option, since we're only really worried about transactions and not node compatibility in this hypothetical hard fork, would be to restrict legacy transactions to small blocks. This is also not particularly favorable as those blocks would likely require higher fees due to the limited number of transactions, negatively impacting fungibility.
@_date: 2018-05-07 23:25:06


Out of neglect or as an expression of consensus _against_ the change? If the former, that doesn't comport with the reality of Segwit's near unanimous signalling. If a majority actively disagree then activation would constitute defection from consensus.  If only a minority disapproves, the majority could soft-fork to orphan non-signaling blocks first, decimating the defectors' profitability before the hard fork occurs.
Such conditions could be built into the proposal from the beginning, so majority consensus would include the provision to orphan non-compliant blocks without the need to go back and gain additional support. The overt agression might make the proposal less attractive to some, but would probably result in a smoother transition than Segwit proved, assuming it gains consensus.
@_date: 2018-05-08 18:05:20


You're likely correct that such transactions are extremely-niche, but it's not a great precedent to set. If users are to trust bitcoin to be sound money and a reliable store of value, it should be preferable that the system avoid introducing changes that could render funds inaccessible or break enforceability of contracts embodied in transactions.
@_date: 2018-05-11 22:15:27
They kind of allow you to swap channels between participants in the factory, but not create brand new channels. Factories also have a major trust overhead, if I recall correctly - any factory member can unilaterally collapse the factory, locking everyone into their channel peers at that time.
@_date: 2018-05-11 18:45:38
If its something that actually works and isn't just CommonMethod+Blockchain, I don't think there is much chance that nChain would get to it first.
@_date: 2018-05-29 12:00:49


The timestamp in the blockheader is actually quite flexible. A new block's timestamp does not necessarily need to be greater than the previous block's, only greater than the median of the past 11 blocks' and no more than 2 hours beyond the current network time.
@_date: 2018-05-09 15:09:25


Right on, you've got the gist. Everything after that is just finding way to covertly (or overtly for that matter) abuse their position.


It really is and, in my opinion, it is largely being ignored. At an absolute minimum, users should take some precaution in the peers with whom they establish channels, but how is this being addressed? **Autopilot.**


@_date: 2018-05-07 23:44:28


Even with a hard fork, can that be fixed without invalidating existing transactions which have been signed but not yet confirmed?
@_date: 2018-05-09 02:51:27


Not with the design of the network being what it is. The restricted topology isn't a matter of scale but of the way in which peers are connected. Lightning Network constructs its overlay network on top of point-to-point payment channels. Each channel is locked in a 1-to-1 relationship on either end, which restricts the hops across the network to the peers made available by each sequential intermediary in that route.
Compare this to Tor, which builds its overlay network on top of the internet, for all intents and purposes a complete graph on which every peer can directly connect to every other peer on demand. A route selected over the Tor network can request arbitrary next-hops at each point along the way.
This complete-graph topology is vital to the privacy assurances of onion routing. It gives the highest confidence that you can select a route, essentially at random, and not be trapped within a subset of the network controlled or influenced by an adversary. On LN's channel-based topology, your view of routes through the network is restricted to the hops that other nodes make available. As your payment channels are locked in relationship with your peers, they ultimately control the available selection of possible routes and could potentially use that position to force or influence your transactions along routes they control.
The posts I linked to and the comments within cover a lot more detail about how the restricted topology negatively impacts the privacy which onion routing can achieve. There are also plenty of comments describing how I'm a shill with no idea what I'm talking about. I guess you'll have to make a judgement call on that, but if you do decide to keep reading, you'll find some decent discussion about the technical aspects, risks, existing known vulnerabilities, and the work done (or yet to be done) to address them.
@_date: 2018-05-29 05:06:46
Hell of a thread to pull from the dust bin of history - 20 days is close to an eternity in Reddit-time. If I may ask, what lead you down this obscure path?
@_date: 2017-12-21 05:14:39
'Hot' implies being online. If it's offline it won't be processing anything. No one can send funds to it since it isn't online to negotiate channel rebalancing.
@_date: 2017-08-25 05:27:10
The summary from the accepted answer is pretty on point.


With full disk encryption, thorough destruction of the key material is tantamount to rendering the disk content to random data. It also helps with other edge cases where physical issues may result in forensically recoverable data - blocks marked bad and skipped during wipe, SSD firmware failing to trim, hardware failing before wipe, etc.
@_date: 2017-08-25 01:18:14


Due to the density of modern magnetic disk hard drives, a single pass of zeros or random data is sufficient to make deleted files unrecoverable. SSDs pose an extra challenge in that the firmware performs wear-leveling to maximize the life of the flash memory, making it difficult to ensure that any specific block has been overwritten. However, they often feature a *trim* command which marks blocks for zero-ing.
@_date: 2018-06-16 06:23:33


With FTL comms, PoW consensus-based currency might be unnecessary. If there is some other way to reliably establish instantaneous shared state, it could form a ledger of its own.
@_date: 2018-06-09 17:43:01


That depends on what you mean by _harder_.
The target _difficulty_ for a block hash will increase.
It makes success with a fixed work capacity less likely. 
It _might_ mean that it requires more energy to reach the same success, although that may be offset by the development of more efficient hardware.
However, by one measure, it is just as hard as ever: your success rate is proportional to the share of total work capacity at your disposal.
@_date: 2018-06-07 06:52:26


1. Stand up many Lightning Network nodes using dirty funds.
2. Stand up a few Lightning Network nodes using clean seed funds.
3. Rapidly route transactions between dirty nodes through the clean nodes, paying higher-than-necessary fees.
4. Report routing fees as income, pay taxes on now clean funds.
Granted, Lightning Network probably doesn't have the capacity to handle cleaning a $1M at the moment, but it's something to look forward to.
@_date: 2018-06-09 03:22:45


If you only open channels with people you trust - which  I don't entirely disagree with - you risk undermining some of the privacy that LN is hoped to achieve. Analysis of self-selected clustering and trust relationships can provide a wealth of information about nodes and the real-world identities of their operators.
@_date: 2018-06-08 03:43:18
BCH has modified their difficulty adjustment schedule (for a second time) to account for this. The difficulty adjusts on every block as a function of the time to discover the previous 144 blocks. Although substantial hash power could be applied to ramp up the difficulty, it would rapidly become expensive to maintain and adjust back down relatively quickly. The potential for 32MB blocks and low usage would help to prevent high fees even during the recovery period.
@_date: 2018-06-08 19:11:38


Why does it need to be non-random? Genetic algorithms can be quite effective at identifying novel solutions to a problem, introducing random variation over many generations of attempts and selecting those which lead to more favorable outcomes as the basis for future generations.
@_date: 2018-06-04 21:58:06


FinCEN has explicitly excluded Bitcoin mining from the classification and provided clarification of how they arrived at that determination (the aforementioned lack of receiving and transmitting data on behalf of third-parties, primarily). Any other system designed such that it avoids the specificly regulated activity can likewise expect to not qualify for regulation under those structures.


Since Bitcoin miners are not involved in the receiving and transmitting of value on behalf of third-parties, and it is unlikely that the definition of money transmission could sensibly be extended to cover the actions they do perform, the regulators would almost certainly need to be vested with new powers to regulate mining.  New regulations  almost always come with some amount of lead time, providing warning on the impending change and allowing a response from the public. Even if new regulations appeared overnight with no notice, activity performed before its enactment would not constitute a violation.
The regulation on money transmission is already enforceable law. Even if you don't realize you are engaging in the activity, you can be charged for regulatory violations. This has impacted several individuals who have unwittingly exposed themselves to prosecution by engaging in relatively low-level money transmission activities involving Bitcoin. If Bitcoin mining did involve the receiving and transmitting of value on behalf of third parties, miners would be at serious legal risk, even if FinCEN had not explicitly stated the activity is to be considered money transmission. This is the risk to which Lightning Network routing nodes are currently exposed. Their activities clearly involve textbook money transmission and no exclusion from the regulation has been demonstrated nor confirmed to apply. If FinCEN does announce that LN routing constitutes money transmission, there is no change to the legality of performing the activity - routing performed _before the announcement_ would constitute a prosecutable violation of the regulations.
@_date: 2018-06-09 03:15:24
Wildcard option: infiltrate major node implementations and manipulate Autopilot-style peer selection
@_date: 2018-06-10 02:57:47


Game theory requires that the players _act_ and theory only holds under _optimal play_. Software alone cannot be relied upon to make the system work; win or lose, it's in the users' hands.
@_date: 2018-06-03 14:04:56


Of course what non-mining *users* do is important. However, their most effective control is not in choosing to accept a chain produced from a minority work capacity. This only puts them at risk. Non-mining users who disagree with the majority can most effectively assert their will by abandoning the work performed by the miners - not specificly the work to extend the majority chain, but all compatible work.


And 60% of mining capacity has a different opinion. The blocks generated by the minority _may not_ be there next time you look.
@_date: 2018-06-24 11:48:31
Although Watchtowers will help protect channel balances when your node is offline for extended periods, they won't enable you to receive payments while offline.
@_date: 2018-06-06 01:58:12
While LN does present some interesting potential for money laundering, the real kind that results in plausible accounting of 'legal' earnings, there is a lot wrong with technique as suggested in this article.
To start with, the receiving nodes can't receive arbitrary amounts over their channels. You'd need to find enough peers willing to fund their side of each channel sufficient to account for the maximum balance you expect the receiving node to accumulate.
The next issue is that careless [use of the Lightning Network has the potential to expose a great deal of information about the real identity of a node operator]( You'd want to take great care to minimize any data leaks that might reveal more information tham intended.
Finally, since [ Network applies the Sphinx onion routing protocol to a channel-based, constrained topology overlay network, the maximum privacy potential is severely diminished). When routing through an adversarial peer, additional hops are not guaranteed to add any obfuscation to your route and may in fact allow the intermediaries to gain additional information about where in the route they sit, discover the network identities of the sender and/or recipient, correlate multiple transactions (especially when AMP is used), and impose abusive fee behaviors.
If you're going to launder the proceeds of a crime you don't want coming back on you, there might be ways that LN can be leveraged to assist. This article is not a shining example to work from, however. 
@_date: 2018-06-09 03:28:17
They can do more than simply correlate transactions, although thats a pretty big risk on its own. [Due to LNs application onion routing to its constrained-topology overlay network, peers have a measure of influence over your routing decisions.]( Although you are free to select a route, the only  _possible_ routes are those which the intermediaries choose to establish and make available 
@_date: 2018-06-25 00:51:41
It is certainly counter to expectations for those familiar with transacting with Bitcoin.
@_date: 2018-06-17 02:49:41
Bots can collude. It is easy to make lots of bots, making it easier to collude. 
@_date: 2018-06-02 23:13:48
There is a pervasive belief that users should select the chain they want to follow based not on accumulated PoW but some other arbitrary rules they feel are important. While they certainly are able to do so, if that chain is not built from the majority work-proof, they are abandoning the foundational premise of Bitcoin and Nakamoto Consensus.
This belief is attractive to BTC proponents who think they should have direct influence over the miners' decision on which rules to implement - via the concept of UASF. It is equally attractive, if not more so, to the users of BCH, who want to believe that a minority chain can offer the same security as a majority chain so long as they reject the rules enforced by the majority. Both are misguided in their belief, but it is firmly held and supported by their respective group-think.
@_date: 2018-06-07 13:22:56
It would probably suffice to control _most_ of the nodes between the sender and receiver. Since LN's overlay network is constrained, that's easier to achieve than one might suppose.
@_date: 2018-06-12 20:24:42


As she was not dispensing an authoritative ruling, no, her answers were more nuanced than that. However she did highlight this passage:




In the mining process, the miner never receives virtual currency (value) from the users that they are then expect to transmit to others. They are paid fees, but they get to keep those. They get block rewards, but those too are theirs to do with as they will.
LN nodes clearly receive and transmit value during routing. The value received on one channel is transmitted on another channel. The funds committed to the channels are distinct. The _obligation_ to transmit in order to receive further confirms the activity to be money transmission. The _lack_ of such an obligation is called out in FinCEN's reasoning for why mining does not constitute money transmission.


@_date: 2018-06-04 13:06:47
Every time a transaction occurs  in one direction without a corresponding transaction in the other direction (or multiple transactions of equal value), a channel become closer to depleted in the direction of the original transaction. Channels are not automatically replenished, although they can, optionally, be rebalanced by moving funds between them. However if a merchant receives more inflow than they spend in outflow, eventually all their channels will become depleted in the inbound direction. They will be unable to receive any more payments until they increase their capacity or spend from their channels.
@_date: 2018-06-07 20:25:58
And thanks for your open-minded consideration of the topic.
@_date: 2018-06-04 16:12:09


No. Anyone who _received and transmits money or value substituting money on behalf of third-parties_ is likely engaged in money transmission.
In the US, the regulatory agency responsible for the determination, FinCEN, has officially acknowledged that Bitcoin miners do not receive and transmit value on behalf of the users performing transactions in the course of their mining activities. Miners receive value in the form of fees paid, but that value is theirs, not a third-parties. With no obligation to transmit the received value in part or in whole, the miner has not engaged in money transmission.
Compare this with how transaction routing work on Lightning Network. When Alice offers Bob a fee to pay Carol, the relevant funds on the Alice-Bob channel will become Bob's to do with as he wishes. However, in order to claim Alice's funds, he must fulfill an obligation to transmit other funds already in his possession to Carol. Bob is clearly receiving and transmitting value on Alice's behalf. He  might never have the total funds unencumbered, but unilateral custody is not a determining factor in classifing activity as money transmission, whereas an obligation to further transmit value received is.
@_date: 2018-06-08 03:37:33
I don't see why they couldn't do both, across a number of exchanges, simultaneously.
@_date: 2018-06-07 19:12:42
Most specifically on the claims made regarding what intermediaries can know about the sender and recipient of a transaction, as well as their absolute and relative positions in a route. More generally on the concept that source routing grants a sender full control over their routing paths. Broader still on the extent to which onion routing across the constrained topology of LN's overlay network can achieve transactional privacy and the confidence which a user can be assured of that privacy.
@_date: 2018-06-27 06:58:15


Why? If all the nodes are under single control what is the disadvantage to sharing storage and compute functions between them?
@_date: 2018-06-27 11:39:25
What does multiple nodes on unique IPs give you that a single node behind multiple IPs does not? How can anyone else tell the difference?
@_date: 2018-06-07 13:57:47
[Unfortunately, the constrained, channel-based topology of Lightning Network's overlay network severely reduces the privacy achievable through the use of onion routing.]( With far fewer than 80% of total network nodes, an adversarial peer can limit your routing options, only exposing or making available paths along which they control or influence the intermedary nodes. The capacity limitations of payment channels permit a well-connect, well-financed adversary to extend their influence by manipulating channel availablity on their peers and even distant nodes to direct more payments through constructs under their control. Source routing under these conditions gives the user _an illusion of control_, and many proposed solutions to the challenges Lightning Network faces (e.g. Autopilot, AMP, automatic route retry) could potentially amplify or mask malicious behavior.
@_date: 2018-06-28 15:28:53


While such a payment provider arrangement could be established, it is not a feature of LN. In such a setup, the payer would send to the payment provider - not to the intedended payee. This would be a custodial arrangement, much like existing payment providers, and subject to the same risks.
@_date: 2018-06-08 19:06:43


That is not a very meaningful statistic without some other approach to compare its success against. Innovation is an inherently failure-prone endeavor.
@_date: 2018-06-27 12:21:41


Is there no distinction, then, between multiple nodes with unique storage and validation and a single node with multiple IPs representing itself as multiple nodes? 
@_date: 2018-06-04 14:49:29
The regulations that define _money transmitter_ are intentionally broad. Even then, the activity that miners perform likely would not qualify under a plain reading of the definition, whereas LN routing more likely does. One major differentiator, however, is that the regulators have _explictly exlcuded_ cryptocurrency miners from the classification, so long as they are mining for their own benefit. Lightning Network routing nodes have not been given such an exemption, and while it is not _impossible_ that once could be made, it is _exceedingly unlikely_ as the activity in which they are engaged is textbook money transmission.
@_date: 2018-06-11 21:07:04
There are two distinct issues here. One is if new regulations will be created to cover on-chain transactions, effectively regulating miners. The other is if Lightning Network faces regulatory risk at present.


The activity performed by engaging in LN routing is already regulated. The question is not "will LN face regulations?" (it already does) but "will the regulations which apply to LN be enforced?" Just as with _other_ Bitcoin-associated activities which fall under existing regulations, I would expect that the regulations which apply to LN routing will be enforced _at least occasionally_ when it serves government interest to do so. I further expect that this will result in a chilling effect, significantly reducing the number of participants willing to risk prosecution.
A very applicable parallel exists with exchanges. Exchanging virtual currenency for real currency (FinCEN language, not mine) is a regulated activity. Despite the obvious profit potential in offering this service, few providers exist that eschew local regulatory controls. Those that do are likely targets for investigation and eventual prosecution, even internationally.
@_date: 2018-06-08 19:33:03


I'm not even disagreeing with you, simply pointing out that the argument you presented lacks substance. Knowing that 9/10 VC-funded start-ups fail doesn't tell us that it is ineffective or inefficient unless we have a standard by which to compare it.
@_date: 2018-06-07 21:49:08


[Activity on the Lightning Network involves much more than just sending transactions and your privacy footprint is likely to be substantially larger than transacting on-chain.]( Beyond just transaction privacy, well-funded and well-connected adversaries on LN have means to engage in rent-seeking, abusive fee manipulation, and other malicious behaviors that do not apply to direct use of the blockchain.
@_date: 2018-06-10 02:47:49
Unless a branch takes particular efforts to break Lightning, it would largely depend on if one or both introduce transaction replay prevention. This is most likely to affect a minority fork, as there is little reason for the majority to do so. With replay protection in place it is unlikely that either party could unilaterally close their shared channel using their pre-existing, counter-signed transactions. Depending on the exact implementation, they _might_ be able to cooperatively close, though. Users would want to be cautious in their use regardless - there is potential to leak information that could allow the counterparty to apply the breach remedy on one branch if channels are not closed.
@_date: 2018-06-07 21:18:00


How rewarding it is for those willing to put in the effort.


I am better at breaking things than I am at making them. Thankfully humanity's mastery of communication allows us to harness our individual strengths to further our collective progress. That said, in this specific instance, if onion routing is determined to be under-effective or otherwise inappropriate in the context of Lightning Network, a fix will almost certainly entail a significant design overhaul. Any proposal of that magnitude would (hopefully) be greeted with a desire to fully understand the issues to identify their validity and if there is potential for less aggressive remediation. Conflating presentation of _a solution_ with exploration of _the problem_, especially when it impacts the core premise of the current approach, has greater potential to result in dismissal of valid issues should the proposed alternative have failings of its own.


Hopefully you won't miss your opportunity when it comes around.
@_date: 2018-06-28 15:48:43


No amount of money that you already have can be used to allow you to receive payments. The money is already yours. If you establish a new channel, those funds are already on your side of the balance.
In order to receive, you must find a peer willing to fund a channel _with their money_. You can _both_ commit funds to the channel, but your ability to receive is limited to the share of the balance owned by the peer.
@_date: 2018-06-08 20:40:42


I'm not convinced that a 90% failure rate is an indication that you're doing something wrong when attempting to innovate. You fail until you succeed, and often you only keep succeeding until you fail.
@_date: 2018-06-05 12:19:07


That's not really my problem. If FinCEN believes it to be centralized then they would need to prove it so to a court. They have investigatory powers to assist with that. It would be a poor business decision for PayPal to try and skirt the regulations by falsifying the distributed nature of their hypothetical currency.


The ruling covers the intended activity money transmission. If an LR clone so closely resembles a decentralized virtual currency and the administrators cannot be demonstrated to receive and transmit value for the benefit of others, then they are not subject to regulation as money transmitters.
If the government wishes to regulate administrators of decentralized virtual currency who do not receive and transmit value on behalf of third parties, they certainly _could_ create new regulations doing so. Yes, they could even expand the definition of money transmission to cover some broader set of activities. So what? There is a gigantic gulf between "the government could make this illegal tomorrow" and "if you do this today it is a crime".
@_date: 2018-06-11 22:27:46


That is factually incorrect. _If_ LN routing constitutes money transmission (allowing uncertainty for the moment) performing the activity _now_, before any specific official guidence has been issued_, is a violation of the regulation. There is no requirement that FinCEN declare a specific context in which the activity occurs to be money transmission. The regulations are written so as to be all-encompasing. If the action satisfies the very simple definition of money transmission and an explicit exemption does not apply, it is a regulated activity.
From your own link:


This is the "what you do with your coins" that they care about. You're free to convince yourself that somehow LN routing doesn't meet this definition at your own peril.


They might view LN nodes and mining nodes in the same regard, and that _still_ indicates that LN routing constitutes money transmission. Miners (administrators in FinCEN speak) and exchangers (the likely category for a Lightning Network routing node) _can_ qualify as money transmitters if they engage in the regulated activity of receiving and transmitting of value for the benefit of third parties. Again from the document you linked:




I have not gone through the effort of requesting a formal Administrative Ruling on the matter, however I have personally opened an inquiry with FinCEN.  The [FinCEN Resource Center]( is surprisingly responsive. Shortly after I initially submitted my inquiry, a researcher contacted me requesting additional information. Through a number of phone calls and emails, she established the information required, even reaching out to more senior staff to seek clarification. Within a few days time (including a weekend) she provided references to several documents, including the one you linked to, and offered some non-binding guidance on how to interpret the 'facts and circumstances' relevant to the context provided. The informal guidance I received is reflected in my comments. You have no reason to trust my claim, however I would encourage you to do the same if you're curious about the opinion of the regulatory body responsible.


If you think that FinCEN doesn't understand the basic operation of Bitcoin, you're seriously underestimating the challenges Bitcoin and Lightning Network face.
@_date: 2018-06-28 15:38:16


This would result in the service essentially paying you with your own money. That doesn't make any sense. You need a liquidity provider willing to commit _their own funds_ to new channel.


Negative fees might work to rebalance channels, but it does not increase net capacity (or does so insubstantially). It can improve the ability to receive over different routes, but a merchant's total inbound capacity is still limited.
@_date: 2018-06-05 05:30:13


You can read [their ruling]( and judge for yourself. The guidance given explains when a miner (administrator in FinCEN language) would be engaging in money transmission and when they would not.
First they list the general rules for what constitutes money transmission:




The guidance then goes over a number of activities common to cryptocurrency. The first which might touch on your question involves administrators of _centralized virtual currencies_.


And finally _decentralized virtual currencies_ are covered.






It's worth pointing out here that a plain reading of this guidance might consider Bitcoin miners to be money transmitters if they cash out their mining rewards for fiat instead of directly purchasing goods and services. However, FinCEN released [follow-up guidence]( clarifying that this is not necessarily the case.


This additional guidance is also explains FinCEN's interpretation of a Bitcoin miner's activity with regards to _accepting and transmitting of value_.


You can best determine where the different models you propose might fit in those descriptions.


FinCENs guidance doesn't appear to be particularly concerned with who defines consensus and seem more inclusive in their definition of "decentralized" than you. If your PayPal-like coin only allows a single administrator to issue it, probably a centralized virtual currency. BCH, even with fewer nodes than BTC, still permits anyone with sufficient work capacity to administer its blockchain and earn BCH-denominated rewards - probably a decentralized virtual currency. Regardless, the guidance indicates that _how_ the currency is issued is irrelevant to determining if an administrator is acting as a money transmitter.


In conclusion, FinCEN is quite consistent in the guidance they provide regarding their regulatory position on Bitcoin mining and other virtual currencies. If you are not receiving and transmitting value on behalf of third parties, you are not engaged in money transmission. They have clearly stated that the lack of obligation to transmit mined currency excludes that activity from the rules applied to money transmission.
@_date: 2018-06-12 12:55:14


Exchanging virtual currency for another virtual currency falls under the exact same regulations. Perhaps they would not have enforced the regulation in that case, but it would be no less illegal.
@_date: 2018-06-07 22:04:31


The CIA might. LN presents some interesting opportunities to make deniable payments through fee differentials. If a well-funded adversary could influence route selection by exhausting channels on alternative routes, they could redirect a disproportionate amount of financial activity through nodes they wish to reward (or away from those they wish to punish). Even charging fees within the standard range, the benefactors of this increased activity would experience higher than otherwise expected income as a result. In collaboration with the adversary, favored nodes may even be able to increase their routing fees during these redirection events to maximize the reward. The adversary never needs to directly transact with the intended recipient, they'd literally be paying with other people's money.
@_date: 2018-06-07 18:41:15
That's not quite an apples-to-apples comparison, but I suppose in some ways it might be. However, some of the worst potential outcomes that could result from adversarial LN peers do not apply to SPV: rent-seeking, fee manipulation, malicious routing influence, etc.
@_date: 2018-06-11 06:37:38
Bitcoin, or at least mining of Bitcoin, is effectively bounded by the speed of light. As the distance between nodes increases, the lag in transmitting information about newly discovered blocks puts the furthermost at a severe disadvantage.
@_date: 2018-06-03 00:07:25


Only if you follow some very unusual rules. If an attacker generates a longer chain which follows the rules you node accepts, it _should_ cause your node to  'roll back' as well. If that is not the case - say if your node is programmed to lock onto the the first new block it sees - you're liable to get stuck by a chain split the first time it runs into an orphan.
@_date: 2018-06-11 19:47:10


They're interested in monitoring the flow of value transactions in and out of various financial structures. Bitcoin's open ledger does give them some view of that which may reduce the urgency in implementing new regulations. This is especially true while they can still apply regulation to the on/off ramps of the traditional banking and financial networks.
I'm sure some in the government would like to apply KYC to on-chain transactions, and certainly such regulation _could_ be established. However, mining presently falls outside the scope of the existing regulatory framework. When specific activity has crossed the line into regulated territory, the government _has_ used existing regulations to control that activity and punish non-complaint individuals. They don't act every time, but every instance of violating current regulation is an opening for the state to exercise its monopoly on force.
Routing on Lightning Network falls squarely within that framework, however. There is no need to craft new regulations. At any time the state can justifiably (within its own framework) exert its rule of law.
Bitcoin is in a race to relevance. If it becomes sufficiently entrenched, governments will face pressure from their citizens to minimize interference. It is not yet at that point. Helping its opportunity to reach that state is the ingenious removal of existing regulatory chokepoints. Willingly reverting to systems featuring such checkpoints is counterproductive to the goal.
@_date: 2018-06-07 20:14:04


I wouldn't exactly call u/roasbeef's [response a 'refutation'](  I'm not even sure he slowed down to consider the points made based on his comments. I will admit, I found his brush-off quite disheartening and, at that time, was simply not up for reiterating each point after I had put the effort into a clear and relatively well-received post.
You're free to accept it as a complete refutation if you desire and I've included a link so anyone else may come to their own conclusion. I might suggest also considering the opinions of other respondents, including [Lightning Network developer Rusty Russell](
(u/rustyreddit) and [resident cypherpunk Adam Back](
(u/adam3us). While not necessarily any more convinced by my arguments, their responses indicate at least a modicum of reflection.


As for my motives, again, you are welcome to think of me as you will. Admittedly, this profile is primarily used to address a handful of controversial issues and often with a particularly critical bent. For better or worse, my personal skill set is focused on the examination, validation, and exploitation of systems. This is what I have to offer as my contribution to the collective understanding and development of Bitcoin and cryptocurrency. I hope that my detailed and reasoned posts on the topic are of greater value than mere concern trolling. You are hardly alone in your assessment of my intentions, but the positive responses I receive from people who expand their own knowledge in examining my arguments or simply enjoy the technical depth of the conversation that ensues - even when they hold an opposing view! - inspire me to continue. 
@_date: 2018-06-04 14:33:12
It's probably not accurate to describe liquidity providers as payment processors. They don't necessarily need to have a direct role in payment, just funding the channels over which payment will occur. It is possible that merchants would prefer to deal with a payment processor rather than go through the hassle of managing their own Lightning Network channels. In that case, payment transactions across LN would stop at the payment processor and the funds would be sent to the merchant by some other means.
In either case, liquidity providers and payment processors can both be expected to desire profit for their services. Although it is often claimed that LN will guarantee low routing fees, that remains to be seen. In all likelihood, highly asymmetric channels are likely to incur fees appropriate to the time-value of the funds dedicated to them.
To avoid fee-capture, merchants could accept payment over new channels unilaterally funded by their customers, but these are by-and-large going to be unreliable for routing purposes (low capacity, low-availabilty peers) and already exhausted in the direction for which they most need  capacity. They'd end up having to close such channels regularly, costing them on-chain transaction fees in the process, on top of the fee paid to establish the channel.
@_date: 2018-06-04 14:06:03


I don't think this is largely considered a problem in need of a solution by the developers of Lightning Network; it is expected behavior.




The merchant putting money into his channels won't solve the problem - he already owns those funds, so they can't be used to pay him. Paying his suppliers over Lightning Network would help keep his channels viable longer, although assuming he is profitable, the channels will still trend closer to depletion. He can (or will be able to once implemented) splice in and out of a channel, using on-chain transactions to extract or inject funds into existing channels. That's one way he could move his profits to the chain, either to keep there or to establish new channels.
What the merchant likely needs is to connect with a _liquidity provider_ who will put their own money into a channel with the expectation that it will eventually become depleted in the merchant's direction.


The majority of end-users are expected to primarily spend, with a smaller subset being merchants who primarily receive, and an even smaller group of liquidity providers who provide the necessary funding to establish sufficiently balanced channels. Technically, any of these user-classes could offer transaction routing, but the liquidity providers will be the best suited to deliver the high-throughput, highly available, well-funded channels necessary for heavy use. They'll also be ideal targets for regulation as money transmitters, but that's a different set of issues.
@_date: 2018-06-04 16:32:37


Because to legally perform certain types of financial activities, they must occur through regulated mechanisms.


The definition of money transmission is sufficiently broad to capture the targeted activity. If the US government seeks to regulate Bitcoin mining it is unlikely to modify money transmitter regulations to also cover that distinct activity. There is always the option of defining a new regulation that covers the specific activities which miners perform.
@_date: 2018-06-05 13:59:41


Your parallel with drug laws is pretty weak. The definition of money transmission is intentionally wide-reaching while being very specific about the type of activity covered. That is to say, it is intended to cover that specific activity regardless of the context in which it occurs. While the definition could be changed to be less specific in the activities it covers, that would introduce additional edge cases and make it a less effective tool for regulatory enforcement.
These are the original statements you made to which this thread has been a response:




It is clear that the regulatory agency responsible for making the determination has not found your logic to apply to miners/validators of decentralized virtual currencies. Certainly, nothing precludes them from changing that opinion. However, having issued formal guidence on the issue, until that hypothetical change is likewise formalized miners/validators who do not engage in the receiving and transmitting of value for the benefit of third parties have a legal defense against claims that their actions constitute money transmission. Hubs, on the other hand, do not have the same defense. While no specific formal determination has been issued, such a determination is not a precondition to prosecution. Hubs very clearly engage in receiving and transmitting value for the benefit of third parties and, not withstanding some other exclusion, almost certainly qualify as money transmitters under the currently imposed regulatory framework.
@_date: 2018-06-07 20:34:11
If subsequent layers are built under erroneous assumptions about the features LN provides, they are less likely to achieve success in their own goals. It is vital that the claims of every layer be critically examined - not just now, but continuously as new information is acquired. If we reject evidence of flaws in such claims, we will not form an accurate understanding of the limitations and invite future failures when the faults have been compounded by additional development.
@_date: 2018-06-05 13:01:09




You're free to make this assertion, but it flies in the face of reason and reality. Money transmission is a specific activity which miners/validators of decentralized virtual currencies are not engaged in (at least not directly in their mining/validating role).
@_date: 2018-06-10 15:59:31
1% Joe could offer a transaction replacement service for a fee.
@_date: 2017-11-06 18:12:03




Mempool is for transactions, not blocks. And a node not relaying doesn't remove a block from circulation, it's just not participating in that circulation.


If other nodes (on your same network) can't tell that your node has rejected a block, refusal to relay is indistinguishable from not yet having received the block. If your node's enforcement has no effect on other nodes, in what way is it enforcing anything?
The only thing a node can do is break direct connection with other nodes. That doesn't remove a misbehaving node from the network, however, since it could still be connected to many other peers. Nodes can refuse to accept or relay anything they choose, but their enforcement powers are limited to their own actions.
@_date: 2017-11-07 08:17:37
This has strayed off topic and has little room left before we're simply debating semantics. If you don't believe miner signaling to be relevant then there is no point in arguing over it.
Regardless of the cost and consequences of miner signaling, I hope we can both agree that it is intrinsically tied to the capability of a miner to perform a measurable amount of work, the type of work necessary to extend a blockchain. Believe the their signaled intentions, or not, the empirical observation of BCH mining is that the NYA and non-NYA signaling capacity defect at approximately the same rate.
@_date: 2017-11-07 05:51:37
Once a transaction is publicly broadcast, you should assume it goes everywhere. In your specific example, the exchange might replay the transaction. It could be some random node configured to rebroadcast all transactions. Regardless, it's likely to happen. Due to the increased block capacity permitting lower fees, with equal hash power and demand, replayed B1X transactions would be more likely to confirm on B2X than the other way around. Once hash power and demand are taken into consideration it becomes more complicated to determine which direction would be more susceptible to replay.
@_date: 2017-11-07 17:17:16
Even easier for the hash power minority to end their obstinate insistence on maintaining an insecure branch. That would also prevent a split.
@_date: 2017-11-07 14:58:28
You can just ignore the S2X like it doesn't exist. No one is to blame if the market chooses to value your S1X less. It isn't being *forced* to do so, S2X is just a new option being made available. If you want to protect your investment value in terms of fiat, store it in fait.
The 'decent thing' you describe is exactly what is being done. 
@_date: 2017-11-07 13:44:48
It's a good thing for the rest of us that the gossip network used by these hostile, fully-invalidating wallets is secondary to Bitcoin, then.
@_date: 2017-11-07 07:10:35
Signaling doesn't turn BIPs into code. Mining has never had an effect on code. Signaling has only ever been about what others think you'll be doing latter.
If there are no consequences for signaling then there is no risk to miners disregarding consensus of the chainstate.


You're free to keep repeating that. It won't make it true. It takes a great deal of determined work to signal in a block. Regardless of consequences, this is far from free. 
@_date: 2018-06-07 17:57:17
I have. Perhaps you'd be interested in [a critique of the claims it makes](
@_date: 2017-11-06 23:33:10


It isn't much of a threat if you can protect yourself by simply ignoring it. Replay only carries risk if you intend to access coins on the 'attacking' chain. If you don't think the chain is legitimate, you can simply ignore any replay, it will have absolutely no effect on you.
@_date: 2017-11-07 22:24:36
LN has so many ways to leak identifiable and trackable information. If that's the darknet plan... Goodbye darknet.
@_date: 2017-11-06 22:55:23


You've got this quite backwards. If you moved coins on 1x from address 1A to 1B, replay would cause the same transaction to occur on 2x, moving coins from 2A to 2B. At worst, if your 1x transaction is not replayed, the coins in 2A are right where you left them. Only if **you** intentionally double-spend between the two chains do coins end up elsewhere, and where is still up to you.
@_date: 2017-11-07 14:25:38
The market value of your asset is not yours until you sell it.
The market is not a fixed whole and the concept of shifting value is a simplification. If your post-fork S1X is valued at 85% of it's pre-fork price that is because the market values it 15% less. It is independent from the fact that the market values S2X at 15% of the pre-fork price. It's highly unlikely those will add up to 100% in the first place. It could end up 80/50, 30/20, 0/0.
Nobody is forcing S2X on anyone. You can chose to ignore it. The market may value your asset less because a new asset has attracted it's attention. That's how markets work.
@_date: 2017-11-08 19:07:24
That is great! I totally support your strong security stance. You realize that's not very representative of the rest of the internet, right? Depending on your exact implementation of end-to-end encryption, those 'ends' are usually the servers on either side, exposing the content of your messages to once they reach the recipient's mailbox.
Discounting metadata as gibberish is not as strong a security stance. Metadata reveals a great deal about relationships, activities, routines, and can even lead to disclosure of otherwise protected content!
Keep up the great email security practices and encourage your conversation partners to do the same. If you want to discuss more about the risk that metadata poses and what you're doing or could be doing to address them, I'd be excited to participate.
@_date: 2017-11-07 16:36:14
Why would S2X proponents want to launch a new altcoin? Their intention is to upgrade Bitcoin, not create a second chain. Including replay protection *increases* the risk to user funds. Any hard fork upgrade to Bitcoin will **require** the same forward compatibility, which breaks entirely under mandatory replay protection and is severely damaged by opt-in or opt-out replay protection. This quality is why the upgraded branch will have any value to the market.
The safety of your funds, as always, is in your hands. If you ignore S2X as an invalid upgrade of Bitcoin, you can continue to transact on S1X with absolutely no risk to your funds. If you treat S2X as designed and ignore S1X as an invalid minority branch, you can transact on S2X with absolutely no risk to your funds. If you're unaware of the fork, the *lack* of replay protection is the best possible condition to keep the branches synced until the longest chain emerges.
**Only If you choose to treat S1X/S2X as unique assets** - in contradiction to the design intent of **both** branches -  do you need to do anything. If you make this active decision, violating the cryptographic warranty,  you'll want the coins split into district addresses and *you* need to put in the work to do so. 
You are attempting to do something unsupported by the asset, it is your personal responsibility to do so in a safe manner.
@_date: 2017-11-07 03:59:26
Not the hashing algorithm, the transaction format or contents.
@_date: 2017-11-09 01:50:13
Your description of a bank-run system on top of cryptocurrency sounds like the result (or harbinger) of the regulation I would expect to see. I never meant to imply that regulation would lead to full control of cryptocurrency systems, rather they would regulate _specific uses_ of those systems and the actions of users. By pushing legal/desirable commerce into that compliant system, and pushing illegal/undesirable commerce out, the flow between becomes easier to monitor. 
With regard to email and PGP, it's good to hear you take your communication security that far. The static nature of stored messaging, unfortunately means we're likely only hiding that data temporarily. At some point current crypto schemes are likely to fail, hopefully by time they do the data will be little more than a relic. I'm a big fan of adding features like perfect forward security and the use of ring signatures to provide deniable encryption where appropriate. Of course, the nature of those systems lead to metadata trade-offs, much like email - worse, perhaps, with many common implementations. All about using the right tools for the job, and using them well.
@_date: 2017-11-30 17:36:18
Yeah, this position doesn't appear to be about cryptocurrency at all.










@_date: 2017-11-07 23:06:26
The benefits of signaling are great, that's the mechanism by which we can know state of the shared ledger. It can also be used to inform us of the intentions of those commanding work capacity so we can respond accordingly.
The consequences of false signaling are up to the rest of the system. If it reduces user confidence in the miner consensus of the chain state (which I argue it _should_, but understand that is a matter of opinion) that will harm the price of bitcoin. If users will not enforce consequences for false signaling, they lessen the benefits received.
It is highly relevant to the success of S2X for many reasons, among which is that it demonstrates not only the desire for S2X to be implemented, but also the capability to generate the longest chain in so doing.
@_date: 2017-11-10 00:07:25
To start with, identifying the valid chain if cumulative work proof is insufficient. And then all the problems introduced by any solution to the first.
@_date: 2017-11-09 22:36:51


@_date: 2017-11-04 01:08:58
I'm not suggesting we rely on anyone's good will. The intention of Bitcoin's incentives are to entice reliable signaling. The most vital of the signaling is acceptance of blocks, but there is no reason why we shouldn't hold miners accountable other signals they send, especially when they establish consensus through a majority signal. We don't _have to_ hold them accountable, but that false signaling will be used in the future to argue for diminished reliability of their signals.
@_date: 2017-11-07 04:14:53
Damn... that might be my degeneracy poking through again.
But if it gets an emote out of you, guess that's worth it. Cheers!
@_date: 2017-11-01 18:12:43
Pre-Bitcoin solutions could handle double spend, it just required centralized clearing houses. Bitcoin was the first to do so in a decentralized manner.
I get that the different schools of thought have different opinions on the application of economic theory, the role of government in the economy, etc. I can see how some of those schools would be _opposed_ to the implementation of fractional reserve banking and, although I don't know if this specifically applies to an existing school, structure the definitions of money and money supply to preclude a market of debt instruments from impacting the effective supply.
What I struggle to get is how that could be consistent with acknowledging that FRB exists in the fiat systems but is impossible under cryptocurrency.
@_date: 2017-11-10 14:15:35
SPV nodes can be set to follow a specific node, but that is a degraded mode of operation as it introduces the need for trust. Even then, it is only partially helpful. For a 51% attack to be successful, the blocks generated will not violate any rules and full nodes will follow right along with the attacker's chain.
This is where the natural conclusions reached by the requirement for following the longest chain get **really** unpopular. If a full node does not validate the longest chain, it is the _node's rules_ which are invalid. A node which does not accept the longest chain will instead follow a chain with less than a supermajority of accumulated work proof - a chain which cannot demonstrate its immutability.
To attempt to flip this requirement on its head, to say that the valid chain is the longest chain *following specific rules*, abandons the very concept of PoW consensus and throws the incentive structure in to disarray. Bitcoin Cash is an example of the results this approach brings, weakening user security and the effectiveness of their economic influence  by providing miners with alternative uses for work capacity and competing incentives.
@_date: 2017-11-07 22:11:19
The tie between signal and capacity is absolute. In order to signal in a block, a miner **must** perform the work necessary to generate that block. We cannot be sure of much in this world, but if Bitcoin means *anything*, we can be certain that the signals sent by miners can be used to calculate their minimum work capacity, and signals on a given chain reveal the minimum work capacity they have dedicated to it.
Mining is meant to be pseudonymous, just like the rest of the system. The identifiers are an optional convention. I won't judge anyone negatively for availing themselves of freedom the system provides.
@_date: 2017-11-07 13:27:23
The keys are compatible, wallet support is dependent on the wallet itself.
@_date: 2017-11-06 03:05:54
That is not even an ELI5 level of answer.
What does enforcement look like? What does the code _do_ when it detects an invalid block and in what way does that constitute enforcement?
@_date: 2017-11-07 00:56:30
The "fork" only exists as long as there are multiple activity extended branches of the parent chain. It _could_ last forever if one of those branches is willing to accept the risk of operating with a minority of the available proof-of-work. There is also the possibility that the minority chain is forked to a new PoW. The branches never recombine, though. One or the other stops, or at least, reasonable people stop taking one seriously.
In this highly volatile market, a PoW-fork is the most likely choice for a minority chain that wants to continue. Speculating on the results of such an action are difficult. There would almost certainly be debate over which PoW to move to, so there may end up being more than one new chain. PoW-fork is the hardest of hard-forks, the miners of it would have to chose a point on the parent chain to consider the last legitimate block from which to extend. These complications make it impossible to ensure transactions made prior will be recorded on their chains. But remember, these problems only apply to the minority chain.


The _lack_ of replay protection is the best possible condition to keep the branches in sync until it is resolved. If you are _only_ concerned with coins on the **longest chain**, you could replay your own transactions to get them recorded on both chains. There may be some difficulty in that the minority chain will take longer to generate blocks, resulting in congestion and high fees. To confirm on both chains your transactions would need to satisfy the requirements of the most expensive chain. You could just submit transactions to one of the chains and hope for the best, rebroadcasting any missed transactions once the fork resolves.
In the end, if you're transacting with another user, you'll need to ensure the transaction will record on the branch that satisfies them. The same applies to any payments you receive. If you want to ensure that the longest chain contains  a record of the payment to you, you might insist that the sender confirm the transaction on both branches.
@_date: 2017-11-12 00:16:41
The  incongruity of your asking that question while claiming superior knowledge of Bitcoin is endlessly amusingly.
@_date: 2017-11-04 15:19:29
Mining _is_ signaling. It is an action that is expensive to undertake and conveys information on the intention of the actor. Broadcasting a newly discovered block _signals_ the miner's intention to treat all previous blocks as the legitimate, immutable record of the blockchain.
Consensus is _emergent_ from those signals of intent. Once satisfied that only a majority of available work capacity could possibly have generated the cumulative signaling of intent, we can consider consensus established - if, and only if, the majority have signaled honestly.
Nakamoto Consensus is only ever about the actors' intent, giving us a reliable predictive capability into their future action. Intent to treat the previous blocks as valid is the primary use of it. If they intend to treat the blocks as valid, we can predict that transactions relying on that state of the ledger will be valid in the future. However, nothing stops miners from including other information in their signals, such as acceptance of a plan to update rules. If they do not follow through, it does not directly affect the validity of the blocks they produce, but it diminishes the reliability - the _honesty_ - of their signaling. This in turn reduces the reliability of the consensus they reach.
@_date: 2017-11-01 06:50:53
If _nobody_ ever took or made a loan, sure. The same can be said for fiat as well. But people have a tendency to _want_ more than they can immediately _afford_. The real trick to fractional reserve banking isn't that it creates currency out of thin air, but that it creates debt instruments that can be _treated_ as money. This allows for the effective money supply to increase even if the actual units of currency are fixed. Similar to how Bitcoin can be money even if some people "don't believe in it", those debt instruments are part of the money supply so long as holders of them have a market of buyers willing to treat them as such.
Under a deflationary monetary policy, the benefits of holding debt are reduced. Because new wealth is accruing into a fixed pool of currency units, interest paid must exceed the expected natural increase in value. The interest borrowers must pay becomes evermore burdensome over the lifetime of a debt, likely increasing the rate of default.
Inflationary fiat flips the incentives. The lender's money will lose value if they simply hold it, so it is in their best interest to do _something_ with it. If lending it can provide acceptable interest at an acceptable risk, then it's a good move. There's good news for borrowers, too. The interest that they pay is relatively less burdensome later in the life of the debt. They end up paying more in the end, trading the time-value of their wealth for **new shiney now**.
But now we're headed down those rabbit trails, so let's get back to that pie before it mysteriously shrinks on us again. Wonder if that has anything to do with the recent inflation of _dog_ in my home.
@_date: 2017-11-07 01:20:29
NYA signaling on in BTC blocks hasn't shown any significant wavering during the BCH profitability periods which have drawn upwards of 50% of the total BTC mining capacity. This would indicate that, under non-fork conditions, the two camps are drawn at approximately the same rate. During fork conditions ideology may win out over immediate profit, but the minority branch still suffers more from any defection than the majority branch.
@_date: 2017-11-08 01:33:39
LN use will generate large amounts of metadata and timing information that can be used to correlate channels and deanonymize traffic passing through darknets.
* Payment channels are associated with addresses on the blockchain
* Long-lived, uniquely identifiable channels
* Payment receivers may have identifiable information from senders
* Predictable, time-boxed actions
* Mechanisms to entice actions
* Fingerprintable daemons
@_date: 2017-11-06 04:29:23


You have not, and I appreciate your taking the time to explain it more thoroughly. Thank you.


I assure you, I am here for knowledge. I am trying my best to understand the many assertions that often get boiled down into brief and non-specific mantras. I apologize if the tone of my questions was abrasive. I generally find direct questioning of statements to yield positive dialogue, but it can come across as aggressive in a forum such as this.


Were that the case, no invalid blocks would ever be sent. If it could be enforced through a decentralized mechanism there would be no need for mining, we could just rely on all nodes running the same code to produce a consistent view of the ledger.


Removed from what?


It will still continue to be relayed by which ever node sent it to your node and any other nodes running rules which accept the block. Is it possible for any other node to know that your node has explicitly rejected a block?
@_date: 2017-11-09 18:39:25
SPV wallets follow the longest chain, by design. "Fixing" that would introduce a whole new class of problems.
@_date: 2017-11-06 23:40:17
If miners do not follow through their consensus signaling to activate 2x, how would that affect your future assessment of their reliability for following through on their consensus signaling on the state of the ledger?
@_date: 2017-11-08 16:22:29
Thanks for taking the effort to read the guidance. Taken in total with all the regulation and public guidance, I have come to the same conclusion. Unless there is a specific carve out made explicitly for LN-style transaction relay, this appears to be a fairly settled matter of law. Since value relay networks are one of the major things these regulations exist to regulate, it doesn't seem very likely to receive such an exemption.
@_date: 2017-11-01 04:55:42
Even fiat represents _a portion_ of the total wealth denominated by it. While infinite slices can be added to the pie, there is still a finite _whole_. Your share of it just shrinks over time.
@_date: 2017-11-08 17:03:29
You'd still be relaying value through rebalancing of payment channels. It _might_ present an argument that nodes are not operating as a business, but I doubt that would get much traction. There are also problems in the viability of a fee-free LN, such as spam/denial-of-service prevention, incentive to participate, and route selection mechanisms rebalancing channels with more flow in one direction than the other.
@_date: 2017-11-06 05:41:04
As I stated in my previous reply, all the examples of measurements you provided are unreliable, vulnerable to sybil or abuse of trust. They are hard-to-impossible to verify. But it doesn't matter, all of my proposed scenarios give S1X support the benefit of the doubt.
If the two networks aren't talking to each other,  what difference does node count make in the context of the fork?
Miners of either branch will get an equal number of new coins on the branch they mine. Neither can spend those new coins for 100 blocks. With 20% of the total hash power, that could mean days of uncertainty for S1X miners, during which time the price may change. Any defection (to S2X or even BCH) would increase maturity delay, subjecting miners to even more uncertainty or the possibility that their rewards will _never_ mature. If they dump their S2X coins cheaply as you suppose they will, it would provide minimal supplementary income to hold them over.
S2X miner rewards with 80% would mature in a little less than a day. If the price is still low, it may not be worth selling them at that time. However, if those miners are heavily committed to S2X they could sell S1X coins to supplement their efforts until S2X wins the day. 


And you don't think that could be an incentive? Consider:
* Sell 1 S1X @ $7000
* Buy 70,000 S2X @ $0.01
* Wait for suckers
* Sell 70,000 S2X @ $0.10
That's a fairly attractive opportunity. Especially with the example of BCH proving that people will buy coins on a minority blockchain.
@_date: 2017-11-10 17:47:16
I think I have spotted at least some of the cause for our disconnect. I am not the user who made the firm statement and from whom you asked for evidence. I responded to your request with a link to my earlier comment because it includes references I thought helpful in understanding the regulations and the conditions under which they might apply, such that you or other readers could reach your own reasoned conclusions.
That said, I am still interested in reading about your reasoning that leads to the conclusion that LN nodes would not be engaging in money transmission. I believe my linked comment covers my reasoning, but if you'd like more detail, I can provide it. Or, having resolved the identity confusion, we can end the speculation here.
@_date: 2017-11-07 13:58:05
You could completely ignore 2X and your funds will remain as secure as they are now.
@_date: 2017-11-08 13:22:15
If either coin survived for 10 weeks with 20% support and 5x price, I'd throw in the towel on the whole thing. Such a world isn't compatible with Bitcoin.
@_date: 2017-11-08 16:49:06
Apologies for my loose word choice. There is a substantial difference in what Bitcoin and LN nodes relay in their respective networks. Bitcoin nodes relay information about transactions occurring between two or more parties, they are not a participant in the transaction itself. LN nodes engage in value exchange through the rebalancing of payment channels. They actively receive and transmit "currency, funds or other value that substitutes for currency" in the facilitation of transactions between third-parties. This is the regulated activity.
Again, no need to take my word for it. For a government organization, FinCEN is amazingly responsive to questions from the public. Or perhaps better yet, consult a lawyer specializing in these matters.
@_date: 2017-11-03 21:15:05
I agree with your observation that the very public schism has set the stage for a very big payday. While either side could stand to profit, the divide is so lopsided that B2X has a near 8x prize vs B1X 0.15x.
Your statement on mining and signaling being far apart, however doesn't hold up. Hash power is _used_ to signal, and the cumulative hash power signaling the same thing is how the Bitcoin protocol establishes consensus. Mining and broadcasting a block is signaling, specifically signaling acceptance of all preceding blocks. Because miners can include arbitrary data in those blocks, they have the capability to signal acceptance or support for anything else they want. And the vast majority of hash power is being used to signal NYA.
@_date: 2017-11-06 23:08:40
What loss in mining? Miners will still get the same number of coins for their effort. They can't spend the block rewards or collected fees for 100 blocks anyway That could be plenty of time for the market to flip once it's apparent which side has the mining support.
That 100 block coinbase maturation delay will hit the minority chain much harder. No matter what the market price is for the coins, they can't collect while waiting for the rewards to unlock.
@_date: 2017-11-10 09:31:22
Yes, that is precisely the case. There is no trustless way to roll back a 51% attack. In most cases, it is not even possible to prove to other participants or future observers that an attack has occurred. This is acceptable because there is very little an attacker can accomplish. They are limited to censoring the network or rolling back their own transactions, and only for as long as they can maintain their majority. It will be incredibly costly in terms of the hardware investment required as well as the coins and value they could have earned through honest participation.
@_date: 2017-11-06 02:51:40
Your first paragraph is basically what BCH did with their Emergency Difficulty Adjustment algorithm. While it kept the chain alive, it's ultimately been seen as a failure and there will be an attempt to fork to a new (and still probably less than ideal) algorithm just before the S1X/S2X fork.
It seems that the original Bitcoin difficulty adjustment algorithm is very good at disincentivizing defection from the chain with a supermajority of cumulative work proof when there are multiple chains attempting to share the same work pool. It stands to reason this is intentional - after all, all invalid chains are treated the same in Bitcoin. To the longest  chain, a valid BCH block is equivalent to an unintentional short-chain block or a malicious low-hashrate orphan attack chain. They're not the longest so they get ignored.
It's only blockchains wishing to cannibalize the Bitcoin work pool and that don't mind operating with less than a supermajority of cumulative work proof that run into a serious issue with the original DA. Since they are violating that pivotal security requirement, they introduce all manner of new concerns into what is otherwise a relatively simple component of the system. While this has shown to have an impact on Bitcoin, its DA has so far proven effective at minimizing the disturbance caused by intense but brief competition for work.
@_date: 2017-11-07 03:31:23


Interesting way to describe an intentional design decision meant to discourage defection from PoW consensus.
I don't expect the market to bend to anybody, least of all _me_. I don't even have a particular dog in this fight; quite frankly either side of the fork can service my immediate needs of Bitcoin. I expect that rational agents will desire to use a blockchain built from the work-proof of a verifiable majority of total available capacity. That could go either way, but I suspect it will not take long for there to be no doubt which side has the support of that capacity.
The majority of work capacity has consistently signaled support for 2X. Maybe they're just posturing, I honestly cannot say. Once the flag block is reached, though, there is no turning back. Each block mined from that point will signal the fate of the majority chain.
@_date: 2017-11-07 03:56:06
The intent of Segwit2x is to be an upgrade, not a source of new coins. You are correct that any replay of a B1X transaction would result in an identical transfer on B2X. If you only care about one branch or the other, you can completely ignore replay. Transactions may get replayed on the opposing branch, but if you consider that branch invalid, what difference does it make? It is only if you intend to treat both branches of the fork as unique coins that replay introduces any risk. Since this is against the design intent of Segwit2x, you'll have to double-spend between the chains or use some other technique to split off your minority branch coins.
@_date: 2017-11-10 18:46:49
Without significant mining support, the maturation time will seriously temper chances at profitability. If the fork does receive a minority of work capacity strong enough to be practical on some scale, at least where attacking it has higher opportunity cost than the enjoyment it would bring the attacker, its possible that injections of speculative investment could be profitable for those who buy it cheap enough. But without a dump event from the holders of the 1x coins, even that potential profit could be absorbed by those willing to take the effort to split their coins.
@_date: 2017-11-07 17:23:55
Didn't claim they do. Miners dictate the existence of a branch, though. They are the only ones who can cause or prevent a chain fork.
@_date: 2017-11-07 14:05:22
Your funds will still be just as secure as they were.  If you choose _not to ignore_ S2X, you're right, you'll need to do some work to transact those coins independently.
@_date: 2017-11-08 13:31:10
Immediate market value may not be the best indicator of actual profitability. Miners cannot spend block rewards and fees for 100 blocks. That is plenty of time for the market value to change in response to the evident work proof accumulating on either side.
@_date: 2017-11-01 01:48:42
Reducing the profitability calculation to the immediate value of an intermediate currency unit ignores many of the other factors I presented.
If a miners desires to accumulate wealth denominated in B2X, that's likely because they prefer its incentives and believe the market currently undervalues it. If the miner believes the incentives offered by B1X are lacking, it follows that, in their opinion, the market overvalues it. The miner has the capacity to perform work and earn income on one or both of these branches, denominated by coin of the branch worked. Income earned in this way can not be accessed for about a day. They also have an equal number of coins from each branch representing their stored wealth in the pre-fork coin. Finally, a verifiable majority of other miners are signaling they agree with this sentiment.
Given these conditions, there is a strong financial incentive to mine the B2X branch. They can rapidly divest their holdings of BX1  to a hungry market, paying expenses from the proceeds and converting the remainder to the undervalued B2X before the market corrects. They _could_ attempt to mine more coins but it will take 100 blocks to mature and the signaling indicates they'd have to mine more of those themselves than normal, increasing the delay.  Mining B1X also reduces the rate at which they can mine B2X, the latter of which would increase market confidence and support the correction they predict. We've already established that they predict the market is overvalued and what they really want to accumulate is B2X. While the immediate value in USD may be below mining cost, the miner prefers to accumulate B2X and only converts to USD when required to cover expenses. Sale of the accrued B1X supplements income and potentially covers all expenses. If they do need to sell B2X, the signaling indicates that mined profits will mature sooner, facilitating this. This strategy maximizes their accumulation of their desired asset. 
This isn't a prediction of what _will_ occur, and certainly not a  manifesto on what I personal feel _should_ occur. It's a thought experiment to help in identifying the potential strategies a miner might consider. My hypothetical miner could be wrong in their predictions, but that has little bearing on the strategy. We could complicate things by including their confidence it their prediction, signaling of other miners, and user sentiment. Those things are easier to work in after we figure out what maximum utilization looks like. 
I could also be wrong in my structuring and understanding of the economic incentives. This would have more of an effect on the development of strategies. Discarding them out of hand only serves to terminate exploration of a wide range of potential strategies. If there really can be no economic incentive, this would be a useful tool to reduce effort, but until that can be evidenced, there is more to be gained from attempting to identify the conditions that may result in incentives.
Edit: minor reorganization of sentences and wording for clarity.
@_date: 2017-11-10 16:58:07
Besides the unfortunate fate certain to befall a massively low-powered chain, mining _a_ block is not sufficient to capture market value. Miners are unable to spend the transactions containing their block rewards and fees until they reach maturation - 100 confirmations.
@_date: 2017-11-08 18:41:16
@_date: 2017-11-07 03:03:29
That mountain of value is not mine to command. Nor is it the miners' or pool operators'. The work capacity, however, is under the control of the miners or the pool operators to whom they freely choose to delegate it. If the owners of that mountain of value find interest in the capability miners' capacity brings, they have all rights to balance their value as they see fit.
@_date: 2017-11-07 17:07:11
If anyone seeks to control a financial system, S2X is a completely ineffective way of doing so. The fork as implemented is the most secure option. Replay protection would make it less secure.
Your argument seems to be (and correct me if I'm mistaken, I don't mean to put words in your mouth) that S2X proponents don't have the **right** to upgrade the network they use. This is an absolutely untenable position, utterly incompatible with the decentralized, permissionless nature of Bitcoin. Everyone is free to run the code they desire, with whatever rules they want. Everyone is free to value or not value the coins of others based on the rules supporting them. Everyone is responsible for the security of their own coins through unique ownership of their private keys.
Cryptographic control of ownership and the design of Bitcoin means that any assets with identical identifiers and controlled by a given private key are effectively a single asset, even across branches of a fork. At the time of the fork, corresponding S1X and S2X tokens will have identical identifiers and share control by the same private key. They are not meant to be traded independently. Both branches of the fork treat this the same - if you use your private key to reassign ownership, all identified inputs are transferred accordingly. There is only risk if you attempt to violate this trait. Doing so requires violating another basic property of Bitcoin, as well - treating a minority chain as anything but invalid.
@_date: 2017-11-05 15:36:51
Only nodes broadcasting newly mined blocks (miners) make their opinion known in a verifiable and trustless manner. All other sources of opinion are vulnerable to sybil, censorship, or abuse of trust.
Nakamoto Consensus considers all of the verifiable, trustless signals of opinion and resolves consensus on the opinion of the majority.
Anyone can determine (verify) consensus by observing the verifiable, trustless signals and calculating the majority opinion.
@_date: 2017-11-07 17:46:54
And a blockchain without miners is worth less.
@_date: 2017-11-06 23:03:17
If both chains manage to survive, it may even be better than that for you. You don't have the same amount of coins split on 2 chains, you have the same amount of coins **on** both chains. Double the number of coins!
Of course the combined fiat exchange values of those coins might be temporarily depressed, but you're hodlin', I suspect you're prepared to weather a couple bumps in the market.
@_date: 2017-11-06 01:53:43


It's exceedingly difficult to measure the size or qualities the S1X camp. It's easy enough to include the current Bitcoin Core developers in that camp. Beyond that, it largely relies on trusting the accuracy of reports and public announcements. Node count, business support, and user collectives can all be inflated for little to no cost and validating them is prohibitively expensive.
We do know who is _not_ in that camp, &gt;80% of the mining hash power. Even if this is the entirety of the S2X camp, that is a significant difference in **capability** to effectively extend a blockchain. Unlike the S1X camp, signaling via hash power is *definitive and costly*, validating is nearly effortless.


If we're accepting a split into two coins, what do non-mining nodes matter? The networks will quickly split when their view of the ledger becomes irreconcilable. Fully validating nodes cannot extend a blockchain.


The issue of replay is distinctly lopsided. S2X features higher  block capacity allowing for lower transaction fees, even if it had a minority of hash power. Combined with an 80%+ mining advantage, low-fee S2X transactions replayed on S1X are unlikely to occur in a reasonable time. Making use of this asymmetry by replacing low-fee transactions with RBF on S1X is likely to be a popular coin splitting mechanism.


Assuming S1X has the reported support, that still doesn't mean everyone is chomping at the bit to dump their S2X. The most conservative move is to hold both coins until the uncertainty blows over. Dumping S2X when it already has a low price has minimal profit potential and risks missing out on the potential for rapid appreciation in the event miners stick to their signalling. 


Successfully dumping S2X would indicate _someone_ is buying at some price point. The lower that price is, the less it needs to appreciate in absolute terms to multiply investments. Even if S2X _objectively loses_ the fork, if it is able to survive, the low entry point may still allow for profitability. BCH has shown that the market is willing to pump value into just about anything. 


There is minimal risk in liquidating S1X for fiat during the confusion. If S1X prevails, it is unlikely to appreciate rapidly, at least not by multiples of its fork price. If S2X fails, any fiat could be put back into S1X relatively quickly, throttled only by the liquidity of the market. Selling S1X to buy S2X _is_ more risky in the event S2X dies, but again, if it survives there is still potential to exit profitably.


Even during BCH's brief periods of profitablity, the percentage of mining power signaling has not significantly wavered. If BCH does see an increase before the fork, especially given the plans for an EDA replacement just before, it may end up being a safehaven for minimal-profit and break-even miners looking for quick maturation of a relatively predictable reward, leaving only the ideologues with sufficient capital to mine at a loss working either side of the fork. Based on miner signaling, this would hit S1X far harder.
I can't say which side will win with any confidence, but I find the case for a S1X landslide highly questionable. It relies on an unreliable majority to literally sell the bottom out from under S1X. It is a wildly non-conservative prediction when there so much potential for profit simply by holding. The miners have a great deal of influence at stake to uphold their support for S2X, even at the risk of temporarily mining below profitability. Already Core has argued to cut miners out of signaling for upgrades. This would complicate coordination of future forks, hard or soft, especially when controversial. That complication would hit miners harder than anyone else if S2X fails; not even a majority signaling against it (or for that matter, _for_ it) would be seen as reliable.
@_date: 2017-11-08 15:58:34
While you have no reason to take my word for it, I did some research and contacted FinCEN seeking clarification on the issue. They were able to provide some insight, though the process to receive a full Administrative Ruling is a bit more involved than I've bothered with.
There is existing guidance regarding how money transmission regulations apply to decentralized cryptocurrency and the different roles one might take in the space. Basically, mining for personal use does not qualify. Full nodes don't do anything that qualifies.


There are specific carve outs to exclude some functions that would otherwise fall within this definition. The transaction relay activity central to the concept of LN is unlikely to qualify for any of those exceptions. In fact, that type of value relay network is a primary target for KYC/AML regulations. The lack of intermediaries was one of the biggest breakthroughs of Bitcoin, removing a major choke point for regulation.
No need to take my word on it, all of this information is available to anyone looking for it. This guidance from 2014 clarifying how regulations apply to mining is a great starting point with a lot of summary and references to published regulation:
@_date: 2017-11-07 14:12:40
Market value is absolutely **not** yours, unless you're the buyer. It is what someone else has and will *give* you for your asset.
It's nice that you want these things, but why are you entitled to easily accessing S2X? This is part of the value proposition the fork provides and from which you're attempting to profit. If S2X _had_ included replay protection, breaking forward compatibility, it may not have received 15% of the market value.
@_date: 2017-11-07 04:07:13
To the extent that both branches survive, one will undeniably receive a majority of the total available work capacity. While the minority branch may retain value, it is likely to be severely diminished. Its position as a minority chain will expose to risk from the majority, and after such a contentious fork, there may be additional attacks against it. A hard-fork to new PoW is probably the only viable path in that case, but contention over _which_ PoW to use and from which block of the parent chain to begin will likely divide any remaining value across numerous additional forks.
@_date: 2017-11-01 05:14:32
Adding to the whole is actually a positive for you. Your portion now represents more absolute wealth than it did. It's the added slicing that gets you, since it shaves a bit off all the existing slices.
@_date: 2017-11-06 23:28:04


No, there is no chance you'll lose btc by sending a transaction.
At the time of the fork, until it resolves, there will be two chains, 1x and 2x. If you send a transaction on 1x from address 1A to 1B and the transaction is replayed on 2x, the corresponding coins at address 2A will be sent to 2B. At worst, if the transaction is _not_ replayed, the coins in 2A will still be there. If and when the fork resolves back to one chain (the intent of Segwit2x) either the transactions will have been recorded as expected or the coins will remain untouched. The resolution may not be so clean if one chain continues despite operating with an insecure minority hash power. If you care to use coins on that minority chain distinct from the coins on the majority chain, you will need to use one of the many techniques to double-spend across the chains to split them.
@_date: 2017-11-07 03:13:35
Imagine the payoff if instead of buying $1500 futures now, you wait until the highly vocal population announcing their intent to dump B2x sell below market price trying to undermine the value!
@_date: 2017-11-03 23:45:48
If they don't follow through with their signaled intent, it will severely damage future perception of the reliability of their signaling. That in turn will reduce confidence in the immutability of the Bitcoin ledger and make coordination of future forks, hard or soft, that much more complicated.
@_date: 2017-11-11 22:38:01
The longest chain is the only valid chain. Its existence precludes any other chain's assurance of immutability.
@_date: 2017-11-07 16:11:03
That is correct, worst case scenario is that the corresponding coins end up sent to the same address on the opposing chain. There is no scenario in which coins on either chain go to any other addresses than those listed as outputs in the transactions you sign.
@_date: 2017-11-07 15:17:51
S2X is a hard fork.
Now you're complaining that independent actors in a decentralized system are exercising their autonomy?
Personal responsibility is dead.
@_date: 2017-11-07 03:08:23
What if the attack is meant to drive the 2X side down so it can be acquired cheap?
@_date: 2017-11-08 05:01:13
Ah, fair enough, I misunderstood your post.
I'm not entirely sure I'd rely on the onion routing of LN to serve the same purposes as Tor. Certainly not at the same confidence level. The design is based on long-lived payment channels requiring a consistent identity for the duration and ultimately tied to blockchain addresses. The information necessary to generate routes is useful for fingerprinting nodes and provides a rough map of network. The dynamic fee system for channel re-balancing could likely yield more information on transaction flows and leak timing information.
That's just scratching at the surface. It might fit some use cases, depending on the projected adversary, but I'm not convinced its a radical transformation of anonymous payment networks. But it's hard to outshine when standing in the shadow of Bitcoin and its significant contribution.
@_date: 2017-11-10 09:13:40
I know this opinion is not widely shared, but as much as everyone hates it - the longest chain is the valid chain, no matter what. The longest chain can be _compromised_, but no minority chain can be considered valid. A chain either has the supermajority of accumulated work proof or it cannot demonstrate its immutability.
This isn't to say miners control Bitcoin. But miners do produce the chain. If the longest chain is compromised, the users must decide either to accept that condition until such time as the majority of work capacity returns to honest participation or to disenfranchise the miners by rejecting their work proof.
Bitcoin is decentralized, no participants have control over the actions of others. Everyone is free to seek their own self-interest. The incentives constructed by the system ensure those interests are maximized through honest participation, but only if they are executed.
@_date: 2017-11-07 01:24:28
@_date: 2017-11-07 23:14:41
Privacy of the transaction contents, sure. Hard to be _less_ private than broadcasting to the world to be recorded for all eternity. But the need to establish long term, uniquely identifiable channels is an identity privacy killer. Add to that the mechanisms it provides to provoke predictable actions within a defined window and you're just spewing metadata.
@_date: 2017-11-05 15:28:41
That would require an hard fork equivalent to what was done to make BCH viable. By nearly all definitions the result would be an altcoin.
@_date: 2017-11-05 15:18:23
While it might be a temporary setback, if B2X-supporting miners successful 51% attack the B1X chain and kill it, the future would likely see the events as BTC (B2X being the last one standing) killing off an aggressive minority chain. Not ideal for BCH confidence, but not a total black mark on BTC.
There are other, less overt actions majority-chain miners could take against the minority chain if their hash power advantage is substantial. For instance, under the assumption that minority-chain mining rewards will never mature, or be inconsequential by time they do, miners could divert some hash power to mine no-fee minority-chain blocks moving their stored assets to exchanges while burning the reward. That would allow them to sell more of the minority coin while it still has value and simultaneously signal a strong preference for the majority chain. This is probably only economical if and while the minority chain has a temporary lead in market value.
@_date: 2017-11-08 05:20:44
Miners can't spend rewards and collected fees for 100 blocks. On a minority chain, that could result in substantial delays during which market values could change. Miners operating at low profit margins may gravitate towards chains with quicker block discovery times and more predictable maturation value. That would include the majority chain of the Bitcoin fork and potentially Bitcoin Cash, hot off its own difficulty adjustment algorithm hard fork. Based on the insignificant effect on NYA signaling during previous BCH profitably culls, capacity from either side appears to defect to it at relatively equal rates. If exchanges limit or suspend deposits of B1X/B2X, as many have indicated they will, there might be just a bit more pressure to defect for miners that need to cash out rewards to keep the lights on.
@_date: 2017-11-08 00:22:16
Use of LN over Tor would make it easier to deanonymize your Tor traffic.
@_date: 2017-11-12 23:07:30
It does not. EDA was a feature Bitcoin Cash added during its initial hard fork. It is really only helpful for bootstrapping a minority fork, and there is another hard fork planned in a few hours from now to remove it. The new adjustment algorithm will recalculate difficulty on each block, using the difference between the median timestamp of the past 3 blocks and the median timestamp of the 3 blocks 144 blocks before those.
@_date: 2017-11-06 23:50:55
Miners are extending the chain, and by virtue of their capacity to do so can embed signals. If they chose to delegate the content of those signals to pool operators, they are no less responsible for it.
@_date: 2017-11-08 18:35:13
Not to sound like a total conspiracy nut, but governments can and do collect and process massive quanties of email and other traffic sent over the internet. That they don't regulate the content more heavily than they do has less to do with their raw _ability_ to do so than with the _value_ of doing it, and the _loss of value_ in intelligence gathered if they got too heavy handed about it.
It wouldn't take a lot of effort to disrupt the viability of LN if a government found value in doing so. Businesses wishing to stay on the right side of the law are unlikely to participate if it would invite additional review from regulators. A few high profile arrests for violating money transmitter regulations would be enough to limit widespread adoption. Link some of those, even tenuously, to particularly heinous activity - human trafficking, child exploitation, terrorism - and those willing to participate will self-select to a limited group. Quite frankly, governments might be happy to let it continue at that point just for the intelligence value of observing who would still willingly involve themselves under such conditions.
@_date: 2017-11-08 18:39:54
Tor is not a panacea, especially against governments. The design of LN has several properties which could seriously undermine the identity protection that Tor provides.
@_date: 2017-11-01 07:51:30
Cryptography isn't some magic that changes how money and  economy works. It's used as a mechanism to manage ownership of currency units. There is no reason why the same type of ownership could not be applied to a centralized fiat. Several pre-Bitcoin attempts at 'digital gold' featured similar ownership controls as well.
I know enough about schools of economic thought to know that I don't know much. I would expect some disagreement between them on the utility and soundness of fractional reserve banking, over the source from which money derives value, or even what constitutes money and money supply. That there is an internally consistent economic theory which can acknowledge the existence of fractional reserve banking within modern economies but exclude it as a possibility in a cryptocurrency economy, I find both surprising and fascinating. I hope that my unintentional-Keynesianism will not dissuade you from throwing a couple resources my way for further review. I may not be persuaded, but my understanding is always improved through challenge.
Your ideas are intriguing to me and I wish to subscribe to your newsletter.
@_date: 2017-11-07 04:11:16
@_date: 2017-11-05 14:38:33
Your prediction of events treats the immediate market price at the time of the fork as static and doesn't consider the liquidity of off-chain exchanges, and the illiquidity of mining rewards. A couple adversarial points for consideration:
* Many high fee S1X transactions may be replayed on the S2X chain.
* Miners with significant holdings of BTC at the time of the split would be best positioned to sell S1X while prices are high, supplementing mining and buying of S2X.
* Miners are unable to spend coinbase transactions for 100 blocks, giving the market time to adjust and potentially eliminating the reward advantage, and discouraging defection from mining S2X.
* Selling S2X at low prices provides less supplement for delayed S1X mining rewards.
* Ideological dumping of S2X creates a massive profit potential for those buying low. If the market balances due to S1X's high fees, long confirmation, and visible minority of hash power, conversion to S2X stands to multiply value of holdings even if price is only a fraction of S1X.
* Seeing the profit potential, the market begins to favor S2X, reducing S1X reward advantage.
* Seeking quicker access to mining rewards, break-even miners defect to S2X, increasing S1X backlog, fees, and reward delays.
@_date: 2017-11-08 05:26:30
How would they fool you into relaying one of their blocks? Are you running some kind of node that relays without bothering to validate?
@_date: 2017-11-07 05:20:48
If you have not split the coins, yes. Hopefully for you, your exchange is prepared to handle that eventuality and return your unintentionally transferred coins. To limit the possibility of this, it appears that many exchanges will temporarily suspended deposit/withdrawal of affected coins shortly before the fork and until things settle down. If you hope to sell your coins quickly, you should check with your exchange of choice as you may need to have the BTC in the exchange before the fork occurs to have that opportunity. Depending on the exchange, this may include the benefit of having them perform the split for you once withdrawals reopen. Of course, there is the added counterparty risk to consider when entrusting your coin to a custodial exchange.
@_date: 2017-11-06 22:38:50
You _could_ just ignore 2x. If you don't want to claim the coins replay of your 1x transactions bears no risk.
@_date: 2017-11-07 14:00:33
Market value is not yours to get back. It is the thing someone else has and is willing to trade for what you have. If you want to claim that value, you'll have to work for it.
@_date: 2017-11-07 01:12:09
Why would you believe what they say? They've used the blocks they've been mining and broadcasting for the last 75 days (and before that) to say they intend to mine the 2x chain. If the same group of people are saying contradictory things, how can we know which pronouncement carries more weight?
@_date: 2017-11-08 05:59:20
My plan is mostly to let it blow over. I take effort to keep my participation in matters of finance and technical research rational and emotionally neutral. Bitcoin sitting at the intersection of these domains can some times get the better of me. It is a very conservative position, certain not to result in maximum yield, but I don't see much upside to be had participating in an firesale, either. 
That said, I'm human and naturally greedy like anyone else. I do have some coin and fait available on an exchange that has stated they will enable independent trading of the branches and handle splitting on withdrawal. If I detect what I believe to be an opportunity based on my observation of the market, public sentiment, and blockchain activity, I may decide to pursue it. I don't expect I'll come out all that far ahead, but won't be risking anything that it would bother me to lose. Passive observation can be _rewarding_, but it is rarely as _thrilling_ as forming a hypothesis and placing a stake.
@_date: 2017-11-07 03:47:23
That is the intent of Segwit2x. It was never meant to provide new coins and that will only happen if one branch of the fork is mined even after undeniably establishing it has a minority of work capacity.
@_date: 2017-11-08 21:53:21
Great question! I haven't done significant research into how regulations might apply to Drivechain and only preliminary research on Drivechain or other sidechain proposals. My initial thoughts are that the blockchain-like qualities of it and the similar nature of mining may fit it into the same bucket as Bitcoin mining. The ability to perform atomic swaps is one area that may be problematic as that activity  could fall under regulations of a different type of Money Services Business, an Exchange.  Drivechain also has some qualities that _almost_ hint at being a type of escrow service, which is one of the exceptions carved out from the definition of Money Transmitter and might earn it some leeway. Qualifying as an escrow service has some specific requirements, though, and I'm not sure Drivechain would make the cut.
It is certainly an area worth investigating. It will probably require clarification from the regulators on how they perceive the Exchange regulations to apply between chains when the exchange is mediated by the decentralized consensus of miners.
Thanks for bringing this up, I'll have to look into it further.
@_date: 2017-11-06 03:01:10
By what mechanism do nodes enforce consensus rules?
If a block violates a node's consensus rules the only thing the node can do is refuse to share it. There is not even a method for nodes to _signal_ their rejection of a block. Nodes are incapable of enforcing anything on anyone other than their own view of the blockchain. And that is exactly what you want in a decentralized system.
@_date: 2017-11-09 06:21:46
I wouldn't count out a short-lived minority S2X fork still occuring. Enough to stir those futures around, perhaps. Wouldn't want to dip my toes in those shark infested waters.
@_date: 2017-11-06 22:35:45
Since the intent of Segwit2x is to upgrade Bitcoin, not create a new altcoin, it is logically consistent to not include replay protection.
Replay protection is only useful if you want to claim ownership of the different branches as distinct​ coins. If you simply don't care about S2X, you could chose to completely ignore it. The replay of your S1X transactions would have no effect on you whatsoever. The same holds true for supporters of Segwit2x who view S2X as an upgrade of a continuous chain. If they chose to simply ignore S1X as an invalid chain, replay of their transactions is meaningless.
It is only when you want to extract value from both branches that replay is a concern and you need to spit the coins. This implicitly means recognizing both sides of the fork as valid chains under distinct rulesets. As this does not follow the intent of Segwit2x, it is not supported. The risks associated with replay are only manifested if you choose to play both sides of the fork.
The drama over this issue - replay protection specifically, the whole fork in general - is mainly stirred up by those looking to profit from the confusion.
@_date: 2017-11-07 06:29:15
You must generate blocks in order to signal, it is not free. How bound miners are to the signaling is really up to the rest of the ecosystem. The miners have been signaling NYA with the very same blocks they use to signal acceptance of the previous blockchain state and from which emerges the consensus that insures the global ledger's immutability. If these blocks are not an accurate representation of the miners' intentions with regards to the fork, why should we give them any more weight regarding their acceptance of the chainstate?
@_date: 2017-11-10 19:25:40
Difficulty adjustment targets an average block generation time of about 10 minutes, but it only adjusts on fixed intervals of 2016 blocks. The Segwit2X flag block is somewhere in the middle of this adjustment period, with 1152 post-fork blocks until it hits. Additionally, the algorithm used by Bitcoin limits the adjustments to factors of 4 - no higher than a 4x increase and no lower than a decrease to 1/4 of the previous difficulty per adjustment period.
@_date: 2017-11-06 23:16:23
It's important to note that the intent of Segwit2x is to upgrade Bitcoin, not result in a new coin. It is logically consistent to not include replay protection under that condition.
The lack of replay protection poses no danger to anyone on _either side_ of the debate if they don't want the coins of the opposite fork. It is only when you want to treat the two sides of the fork as unique coins that replay is an issue, and only because it makes it harder for you to split them.
@_date: 2017-11-08 08:24:11
And yet not all mining capacity defects to bleed BCH when it is profitable.
@_date: 2017-11-08 20:18:42
It's unfortunate that you have interpreted my well-intentioned attempts to foster constructive conversation as covert provocation and 'statist garbage'. I suspect this may limit our ability to engage in meaningful exploration of this topic together. I'll keep the rest of this reply brief then forego any additional reply to this particular thread. Perhaps my future conduct will change your opinion of my intentions and lead to a mutual respect where we can debate ideas rather than accusations.
I've attempted to convey my understanding of the differences between the actions performed by Bitcoin miners and intermediate nodes participating in LN transactions. Based on the different qualities of those actions, I have researched and and enquired about how regulations might be applied per the view of those in a position to do so. I suspect this might be interesting to others as those regulators represent at least some of the bodies from which the system is meant to resist censorship. 
If, as you contend, my understanding of the facts is wrong, then the output of my research and the conclusions I arrived at are undermined and perhaps unfounded. I don't find the arguments you made to the contrary convincing, but don't discount the possibility that my position is in need of refinement.
Best of luck to you in your pursuits.
@_date: 2017-11-05 16:08:24
If you're just selling to a fiat reserve, not selling to reinvest in your preferred coin, your strategy is far from ideal. Based on current future prices, B1X doesn't have much room to increase without a post-fork surge of outside investment, and B2X has a relatively short fall to the bottom.
By selling B2X low, in the event that B1X survives the profit would be minimal with substantial risk if B2X prevails. There is much greater profit potential from selling B1X high if B2X takes the lead, with far lower risk if B1X wins.
Obviously, if you're reinvesting immediately, you take on additional risk of the investment target failing, which is unlikely to occur with a fiat reserve over the short window of fork uncertainty.
@_date: 2017-11-01 14:18:07
PoW change is an important economic lever at the heart of Bitcoins incentives, to be sure, but it's not without a cost. The ledger is transferrable, but once you have lost the security of cumulative work proof on the original chain, you must come to decision on what will represent the last-valid state from which to build. A pure PoW cut over essentially results in a new genesis block, and since the the majority of the old PoW is ostensibly hostile to your chain, its history before that point will be forever uncertain.
Bitcoin is secured by the risk to  _wealth_ denominated in its currency. If the incentives are effective, miners should not seek to undermine the validity of their own wealth.
@_date: 2017-11-11 22:33:00
You've got me flagged for wrong camp. My one and only allegiance, as it were, is to the longest chain, the chain built from a supermajority of work proof. That is the only chain capable of assuring its immutability.
I know exactly what nodes do and the value they provide to their operators. And that is why I know the risks to which your misunderstanding leads. A node operator is absolutely free to instruct their node to follow a minority chain. But in so doing, they provide miners alternative incentives to defect from the valid chain. This is what leads to things like Bitcoin Cash. When misunderstanding becomes the common understanding, the balanced incentives Bitcoin constructs to entice honest participation from the miners will be undermined.
@_date: 2017-11-06 23:36:24
They wouldn't be throwing away any of their money by ignoring the opposing fork, they would still have exactly the number of coins they started with. Those coins may lose market value, but that isn't something anyone is entitled to until they sell. If they want to try claiming value from both sides, splitting coins is the cost for doing so.
@_date: 2017-11-06 08:28:50
I'm not dismissing S1X support, just pointing out the difficulty in measuring it. Every scenario I've put forth assumes S1X support is as high as you suggest.


[TX validation rule 11](  covers coinbase maturation. Miner rewards and collected fees are non-spendable for 100 confirmations.
There is no guarantee that the exchange rate will hold for 100 blocks, especially if the chain is operating at 20%. That 100 block timer is unique for each block, so the delay will continue to apply until capacity returns to the chain or difficulty is reduced to compensate. If more capacity defects, it will take even longer for rewards to become spendable.
If destroying the $115,000 blocks causes the cheapo block rewards and even cheapo-er coins purchased from dumpers to rapidly appreciate, then that is absolutely a viable plan for profitability. There is a risk that the market would _still_ largely reject S2X, but if miners can 10x their investment in dumped coins (or more, depending on how cheap they can buy coins) with only a tiny portion of the total marketcap, that's still coming out ahead in the short term.
I'd watch out for the possibility of BCH syphoning mining capacity during the fork. There is planned hardfork of their own on November 13, which will alter the difficulty adjustment algorithm, ostensibly to smooth the spikes. It accomplishes this by making adjustments once every 144 blocks. If BCH is riding high in the market at that time, the low difficulty and rapid reward availability is likely to be a draw, especially for low-profit miners who need to cash out to pay expenses.
@_date: 2017-11-01 13:53:28
And they won't be able to access those new coins for 100 blocks.
If miners are not storing their excess profits in Bitcoin, accruing wealth in the system, all the worse for us. The economic incentives binding them to the continued existence of Bitcoin is limited to their reinvestment in depreciating assets, not a particularly strong basis for decentralized money.
@_date: 2017-11-07 01:02:20


Damn Poe's law. I can never figure out if you actually believe the utter drivel you post or if you're just a highly dedicated troll.
@_date: 2017-11-07 15:19:27


What does that look like? What exactly becomes immutable and how is that accomplished?
@_date: 2017-11-01 06:03:15
That will be true in 2140, but for now that 1 bitcoin represents slightly less than a 1/16,000,000 share of Bitcoin's total wealth. Miners shave a bit off on each block they mine as a reward, but you probably don't mind too much so long as the total wealth accumulates faster than your share is shaved.
You're not going to have much luck accumulating wealth by shaving it from others' portion anyway. That isn't the intent behind the inflation in fiat, either. That's another whole rabbit hole, though. Suffice to say, in both fiat _and_ Bitcoin, the most consistently effective strategies for acquiring your own wealth involve convincing others to _give you_ a portion theirs, perhaps in exchange for goods and services that they value more than their currency. There is also a set of riskier strategies that involve _forcefully taking_ wealth from others. But if you're opposed to shaving pieces off their pie in pursuit of wealth, you're probably not partial to shaving pieces off people either.
@_date: 2017-11-01 02:06:30
That is advantageous to this strategy. Miners can quickly reallocate their accrued wealth before disrupting the market. This is particularly beneficial if they believe their preferred coin is undervalued in comparison to the high value coin. In reverse, the potential pay off is substantially lower, even if the miner believes the higher value coin to also be undervalued.
@_date: 2017-11-08 06:18:46
I don't know, that's a decision miners would need to make on an individual basis.
This might just be artifact of casual language, one I am often guilty of myself, but given the weight of the topic, it's worth clarifying. The longest chain won't be determined by the support of &gt;50% of miners as individuals, but by the support of &gt;50% of the work capacity. It may only require a few die-hard ideologues to mine at a loss, realized or only as temporarily depressed assets, to accomplish that for either side. Neither has much chance at a legitimate future without the majority position, however.
@_date: 2017-11-07 02:34:14
That's quite the accusation. Would my degeneracy be lessened were I in actuality not associated with brigading upvote bots? No way to prove the negative, but at least I would be able to take some comfort in the knowledge that your opinion of me was colored by a misunderstanding.
@_date: 2017-11-10 16:51:18
No, I'm interested to read _your_ speculation and the reasoning behind it. I can understand if you don't wish to offer any.
@_date: 2017-11-11 21:53:15
The proof in proof-of-work is provided by the miners in the form of a value, that when hashed with the block header, results in a value below the difficulty threshold. Cryptographic hashing is a suitable type of work because the work is easy to perform but the output is effectively random and unpredictable for a given input. This means that it takes a lot of work to discover a suitable value, the quantity of work performed can be measured, and validation of the work proof is minimal and fixed.
Your misunderstand or misrepresentation of the basic functionality of proof-of-work cascades into several additional fallacies about the role that non-mining nodes play in the system. Nodes don't reward miners for anything; fees are paid by transactions, functionally destroyed, and rewards of new coins are created _ex nihilo_ in accordance with the rules of the system. Nodes can observe which chain has the most work proof, but they do not provide the proof - it is self-evident in chain as constructed by the miners.
@_date: 2017-11-10 16:26:35
I fully acknowledge there is no reason to take me at my word. You are welcome to disregard them entirely, though I would be interested in your reasoning if you believe existing regulations on the act of money transmission would not apply to LN nodes.
@_date: 2017-11-12 02:41:45
Nodes only validate transactions for the use of their operators and those who trust them. The validation a node performs adds no value to anyone else. Nodes can also relay transactions and blocks to assist in their broadcast, which is useful to other nodes so that they may validate on their own. Finding a transaction or block invalid, the only option for a node is to refuse to relay it; there there is no trustless means to inform the network of its rejection.
@_date: 2017-11-01 06:16:15
Supply, but not total wealth. It's another way to make more slices from the same _whole_ pie. There is nothing that strictly prevents fractional reserve banking with Bitcoin, though its (eventual) deflationary nature changes the incentives of lending and borrowing that create the debt necessary for it.
Enjoy your pie!
@_date: 2017-11-08 00:19:32
I'm saying that if you're using Tor/I2P/etc to hide your identity, using LN over it would introduce many avenues to  deanonymization of your activity.
@_date: 2017-11-07 17:21:26
The upgrade was locked in at the same time as Segwit. Even if that wasn't so, for the percentage to be meaningful you must provide a period over which it is measured. It would take an unimaginably sharp decline to reduce the cumulative signaling over the past 90 days to below 80%.
@_date: 2017-11-06 23:47:28
I thought you were going to give me the benefit of doubt. Is that withdrawn the moment I share knowledge I've acquired?
If anything I've posted is factually incorrect, please help me sharpen my knowledge by identifying and correcting it. Calling me names does nothing to improve anybody's understanding.
@_date: 2018-03-23 20:44:02
Nodes do not need to be direct peers in order to route transactions for one another. However, a sender must have knowledge - potentially indirect knowledge - of a given channel in order to include it in the route it builds. Private channels would require an alternate announcement mechanism, forming a shadow route to a private network. In order for the private channel to remain so, the alternative announcement would need to limited to a trusted network.
@_date: 2018-03-14 02:14:15
It is quite a bit different than Tor. The topology restrictions inherent to Lightning Network and its channel-based connection mechanism affect the privacy that onion routing can obtain. [Lightning developer Rusty Russell agrees that comparisons to Tor are misleading.](
@_date: 2018-03-23 21:20:30
Your position sounds awfully familiar.


@_date: 2018-03-25 01:13:32
Unfortunately, onion routing is designed to be used on an overlay network comprising a complete graph. When applied to a restricted topology, the privacy that can be achieved is substantially reduced.
@_date: 2018-03-22 19:46:27
I'm not well-versed enough in those other transaction privacy mechansims to make a definitive claim, but I'd hazard to guess that there are still tradeoffs involved, known or yet to be discovered. Dorian Nakamoto gets the only free lunch in crypto.
@_date: 2018-03-24 13:56:41




Due to the short-notice announcement, Halong has at least a one-generation headstart on oAB-optimized hardware.


Is it irresponsible of Halong and Slush to promote the use of version-rolling before the proposed BIP has received widespread community support? Consider not just the side effects from version rolling, but the precarious position early adopters have been put in, relying on a controversial technique to obtain the advertised hash rate.
@_date: 2018-03-23 03:10:05
The IRS doesn't view it as a currency, so you're not quite out of the woods. As long as you hold BTC (or any other cryptocurrency) the change in value has no tax implication. When you exchange it for dollars, units of other currency (crypto or fiat), goods or services you run into a taxable event and owe tax on the gain in fair market value of the asset you exchange.
Where people have gotten bit is when they exchange at a profit (thus owing tax) but later reinvest the full amount and experience a loss in value. They could sell their asset at the lower value to pay the taxes owed, even genearating a loss that can offset their previous gains. Unfortunately, if the loss is realized in a different year than the gain, they can't offset what they owe.
The most risk adverse strategy would be to set aside an amount of fiat equal to the tax liability generated by any BTC spend. Basically perform withholding, like employers are required to do when paying employees. You'd probably want to make quarterly tax installments, too, so you don't get hit with any penalties for under-withholding or late payments.
@_date: 2018-03-16 01:36:43
The funds between A/R and R/B channels are not directly fungible; funds are committed to a channel and never leave it until the channel is closed. Slight variation on your example to demonstrate:
* Step 1 - A:2 -&gt; 0:R:1 -&gt; 0:B
* Step 2 - A:1 -&gt; 1:R:1 -&gt; 0:B
* Step 3 - A:1 -&gt; 1:R:0 -&gt; 1:B
After step 3, R is no longer capable of sending funds to B over their shared channel - B already controls all the committed funds. A _could_ send funds (different funds than those committed to the A/R channel) to B via another route, but only if A has funds available on another channel *and* B has available receive capacity on another channel *and* a route between them can be established.
@_date: 2018-03-25 01:50:29






Presumably, the patent  licenses that Apple obtains grant them the right to sublicense for use by purchasers of their devices. BDPL explicitly excludes the right to sublicense the patents shared through the scheme.






Edit: It would appear the licenses that Apple obtains may impose limits on how they may sublicense to end users in some cases. There _are_ uses of your iPhone that would infringe upon patents if you do not seek licensing through other means.




compliance with the MPEG-4 Systems Standard, except that an additional license and payment of 
royalties are necessary for encoding in connection with (i) data stored or replicated in physical media 
which is paid for on a title by title basis and/or (ii) data which is paid for on a title by title basis and is 
transmitted to an end user for permanent storage and/or use. Such additional license may be obtained 
from MPEG LA, LLC. See  for additional details.


is licensed under the MPEG-4 Visual Patent Portfolio License for the personal and non-commercial use 
of a consumer for (i) encoding video in compliance with the MPEG-4 Visual Standard (“MPEG-4 Video”) 
and/or (ii) decoding MPEG-4 video that was encoded by a consumer engaged in a personal and non-
commercial activity and/or was obtained from a video provider licensed by MPEG LA to provide MPEG-4 
video. No license is granted or shall be implied for any other use. Additional information including that 
relating to promotional, internal and commercial uses and licensing may be obtained from MPEG LA, 
LLC. See 


AVC requires additional licensing and the following provision applies: THE AVC FUNCTIONALITY IN THE 
iOS SOFTWARE IS LICENSED HEREIN ONLY FOR THE PERSONAL AND NON-COMMERCIAL USE OF 
A CONSUMER TO (i) ENCODE VIDEO IN COMPLIANCE WITH THE AVC STANDARD (“AVC VIDEO”) 
AND/OR (ii) DECODE AVC VIDEO THAT WAS ENCODED BY A CONSUMER ENGAGED IN A PERSONAL AND NON-COMMERCIAL ACTIVITY AND/OR AVC VIDEO THAT WAS OBTAINED FROM A VIDEO 
PROVIDER LICENSED TO PROVIDE AVC VIDEO. INFORMATION REGARDING OTHER USES AND 
LICENSES MAY BE OBTAINED FROM MPEG LA L.L.C. SEE 


@_date: 2018-03-10 08:35:37
Then I suppose we are talking past each other. I have not offered an opinion on the ramifications either way. I sought only to point out that BTC is on track to reach the halving first.
@_date: 2018-03-15 23:38:23
If the receiver is behind shadow routes from _multiple_ rendezvous nodes, that is all the worse. This would then correlate those nodes by the recepient's trust relationship with them.
@_date: 2018-03-26 01:17:25
In order for Alice to pay Carol through Bob, Bob must have funds in a channel with Carol.
@_date: 2018-03-10 07:34:05
I'm not sure that's an accurate inference. In absolute terms, BCH's average hash power has increased; BTC's has increased at a higher rate.
Since the chains are playing by different difficulty adjustment rules, the relative difference in absolute hash power is not the primary factor determining which will reach halving first. Rather, it is a matter of BTC sustaining a rate of increase sufficent to push its average block time below that of BCH. There is an asymmetry in that BCH would need a substantially higher sustained rate of increase to affect its average block time so as to reverse the current trend.
@_date: 2018-03-25 17:06:15
The DPL does not include this condition. The only reason for automatic termination of license in the DPL is if one DPL User directly raises action against another.
@_date: 2018-03-28 12:45:31
Each node is _at most_ one person or business. At this stage it is likely that a user would have multiple nodes if they're using more than one device. In the future, end-user devices may be hidden behind shadow routes, so visible node count will be limited to core routing nodes. Some shadow routes may be in use today, but they're unlikely to greatly impact the user count.
@_date: 2018-03-24 17:21:15


If I may be so bold: it sounds like you should be in support of a soft fork to block overt ASICBoost in that case.
If the protocol does not readily support either form of ASICBoost, then we would have minimized the influence of the relevant patents without the risk of unduly favoring either side. To the extent that covert ASICBoost remains economically viable post-SegWit - which is debatable - its use is also less provable, and thus less subject to enforcement action.
@_date: 2018-03-24 15:28:34


It occurs to me that BDPL may not be equitable to all participants. For instance, to the best of my knowledge, Little Dragon brings _only_ the ASICBoost patent they have acquired and Halong has _no_ patents to offer under its terms. In exchange, Bitmain would have to agree to forego enforcement of patent violations against their more substantial intellectual property holdings.
Now, while I am not opposed to this in principle, I don't think changes to the protocol should be introduced with the intent to subjugate other participants. I cannot know the intent of anyone else, so as a user I desire a level of consistency and take a harsh view of of any hint of impropriety.
@_date: 2018-03-25 18:15:25
Copying this from deeper in the thead for context:


Suppose Halong also joins the DPL so they may make use of the patents Blockstream has made available through it. We all agree that these are defensively licensed (at least for purposes of this thought experiment). Bitmain sees an opportunity for evil here and joins the BDPL to gain access to ASICBoost, but *does not* join the DPL. Halong, now having license to Bitmain's IP, incorporates their serial power supply circuit into their design. The trap is sprung! Bitmain intentionally and flagrantly infringes on a patent held by Blockstream. Acting reasonably, predictably, and **defensively**, Blockstream sends Bitmain a C&amp;D kindly asking them to stop the infringement. Bitmain terminates Halong's license to the serial power technology under BDPL 2(e)iii. Halong must stop production, use, sale, export, etc. of all their models using the technology, at least until they can come to some licencing agreement with Bitmain.
@_date: 2018-03-15 18:24:42


Only if the narrow channel is alternately routing equal value in the opposite direction. Possible, but likely to result in poor reliability.
@_date: 2018-03-15 22:49:18
Thinking more on it, it seems inescapable that such an approach would involve exposing additional information. In order for payments to reach you on multiple channels, you'd need to provide the sender with _all of them_. This immediately allows them to correlate those channels to a single node. Granted, this is already the case due to the requirement of announcing all channel states for route discovery. It's not making the present situation any worse, but adds a complication for any proposed solution.
@_date: 2018-03-15 23:18:31
So the receiver identity is reduced to a set of rendezvous nodes. Not a huge improvement when paired with multiple sources of route metrics. At best, when the receiver announces a completely unique rendezvous set, they would still necessarily be within the subset of nodes reachable from the _minimum_ remaining hops of any one transaction - or a shadow route from the same, which is, for all intents and purposes, off-network
@_date: 2018-03-23 17:38:46
No issues on Halong "cheating" at PoW with their use of overt ASICBoost or the "disruption or inconvenience [...] the use of version-rolling will cause until BIP8/9 warning systems are adapted"?
@_date: 2018-03-16 16:50:26
A channel which is consistently becoming saturated in one or both directions will be unable to route in that direction and cause routing failures when users attempt to transact across it. Being of limited utility, more of a nusiance than a valuable peer, other nodes are less likely to maintain channels with low-liqudity neighbors.
@_date: 2018-03-25 19:18:45
You don't know the extent of my experience, but I will not appeal to authority here.


Not that this would engender trust in the results, but are you even aware of who was involved in working on this? Again, BDPL is an entirely different regime than DPL, with different participants. In fact, the _only_ [Known BDPL Users listed on the official site]( are Little Dragon and Halong. If BDPL fixes loopholes in DPL, why are DPL Users not flocking to it?
@_date: 2018-03-25 18:07:08
BDPL doesn't enhance anything; it trades a limitation of reasonability within the existing patent system for a **far worse** condition. How many patent-protected technologies do you use in a day for which you have been unknownly (to you) granted a license? If your license to use those technologies was contingent on the non-infringment by every one of their respective holders against any other, you would very quickly be in violation, through no action of your own.
**DPL** - you will grant all other DPL Users license to your IP in exchange for theirs.
**BDPL** -  you will grant all other BDPL Users license to your IP in exchange for theirs *and never make use of non-BDPL technology.*
@_date: 2018-03-22 19:57:54
Is it a network flood DDoS attack that is causing problems? That chat screenshot of BitPico taking credit appears to indicate a file descriptor exhaustion attack, which would be a very different type of DoS. For one, it would require far less resources from the attacker and be much more service specific. Additionally, as hinted at in that screenshot, it could interfere with a victim's ability to write payment secrets to disk, potentially exposing them to loss of funds.
Normal users aren't going to withstand a 1.3Tb/s flood, but that isn't highly sustainable for an attacker nor scalable across a growing network. However, if the issue at hand is a low-cost DoS due to an implementation flaw, a small number of attackers could cause significant disruption. Thankfully, that's also a _fixable_ problem - if the root cause is identified.
@_date: 2018-03-25 16:32:02
M can simply be flagrant in their infringement of T, inviting action against them. It doesn't require any collusion.
@_date: 2018-03-29 21:16:23
I don't get why interexchange Lightning Network would be particularly attractive to the exchanges. They're competitors and make money by the trades you make on their platforms. What advantage is it to remove friction when moving your funds to another exchange?
@_date: 2018-03-22 19:40:52
Counterintuitively, the public nature of the ledger may be one of the best privacy mechanisms. Yes, it is possible to correlate transactions between a set of addresses to build a profile, but many actors can achieve significant anonymity when executing with a proactive opsec intent. By accepting that transaction data is public, information asymmetry is reduced and weighted toward ephemeral data over which the user has direct control (timing, initial broadcast source). 
Conversely, techniques to make transaction data private, such as Lightning Network, result in relatively static data points (channel states, node identity). These artifacts can also be used to correlate activity, potentially to a greater degree due to the inherent reuse and overlap. While any one intermediary may only observe partial data, a user cannot know which intermediaries are colluding and therefore cannot be certain the full extent of an adversary's knowledge. In estimating a worse case scenario, the user would be wise to assume all signals have been collected.
@_date: 2018-03-25 21:09:47
You're really stretching this apples and oranges comparison. SegWit is not a legally binding patent agreement. Nor is it anything I've ever spoken against.
You may continue to focus on your baseless accusations against my character and intent if you choose. Those of us with anything worthwhile to contribute will focus on matters of fact.
@_date: 2018-03-24 00:31:14


You must not have looked too closely at _what_ I post in r/btc if that's your conclusion. I haven't reviewed your post history, so please don't take the rest of this as a personal condemnation; it is commentary on the general zeitgeist.
It seems disingenuous that Bitmain was lambasted for their use of ASICBoost, only for the sentiment to change when a dark horse manufacturer, with nebulous ties to prominent players in the Bitcoin space, emerges with a long-planned but previously unannounced ASICBoost _dependent_ product of their own. Previous claims were that it was an attack against PoW, that the optimization constituted cheating. Or even - to whatever extent it might be true - that Bitmain resisted the implementation of SegWit because it would make the covert approach less effective. I can't fault someone disagreeing with a protocol change that damages their profitability.
Now that the protocol has been changed to make one method infeasible, the rhetoric is largely limited to it being a patent concern. But the method that still works is equally encumbered and the dark horse upstart stands to benefit not only from the implementation of their state-sanctioned monopoly, but _also_ leverage it to damage the advantages other manufacturers hold. There is a sense of impropriety to the whole thing.
If ASICBoost is a legitimate optimization (which if you read my post history, you will find has been my position) then Bitmain could be seen as justified in their resistance to SegWit as implemented. If it is an attack on PoW then the vulnerability that enables it should be remediated for the overt method as well. Holding double standards just because you favor the stated intent of one side over the other is not commendable.
@_date: 2018-03-25 19:22:47
I don't recall claiming any of that.
@_date: 2018-03-24 13:19:28
Covert ASICBoost is pretty much a non-concern now that SegWit is deployed. Overt SegWit is still patent encumbered, results in an uneven playing field, and will cause disruption and inconvenience.
Are these less of a concern now than they were pre-SegWit? Would you find it acceptable if a majority of mining power soft forks to orphan version-rolled blocks?
@_date: 2018-03-25 20:48:31
ASICBoost is a patented process. One must be licensed to use that process or they will be infringing the patent holder's excusive rights.
@_date: 2018-03-25 18:03:03
And that is an unfortunate effect of how the modern patent system works. BDPL doesn't solve it; it trades this limitation for a **far worse** condition. How many patent-protected technologies do you use in a day for which you have been unknownly (to you) granted a license? If your license to use those technologies was contingent on the non-infringment by every one of their respective holders against any other, you would very quickly be in violation, through no action of your own.
**DPL** - you will grant all other DPL Users license to your IP in exchange for theirs.
**BDPL** -  you will grant all other BDPL Users license to your IP in exchange for theirs *and never make use of non-BDPL technology.*
The DLP and BDPL are not even compatible. You wondered how one can flagrantly infringe a defensive patent, here's an example:
Suppose Halong also joins the DPL so they may make use of the patents Blockstream has made available through it. We all agree that these are defensively licensed (at least for purposes of this thought experiment). Bitmain sees an opportunity for evil here and joins the BDPL to gain access to ASICBoost, but *does not* join the DPL. Halong, now having license to Bitmain's IP, incorporates their serial power supply circuit into their design. The trap is sprung! Bitmain intentionally and flagrantly infringes on a patent held by Blockstream. Acting reasonably, predictably, and **defensively**, Blockstream sends Bitmain a C&amp;D kindly asking them to stop the infringement. Bitmain terminates Halong's license to the serial power technology under BDPL 2(e)iii. Halong must stop production, use, sale, export, etc. of all their models using the technology, at least until they can come to some licencing agreement with Bitmain.
@_date: 2018-03-24 01:40:21
Not if the ASICBoost-enabled miners are following the rules. They find a block, publish it and continue trying to extend the chain from it. Everyone else ignores that block, finds another, and extends the chain from theirs. If the non-AB miners have a majority of hash power, their chain grows faster and the AB miners reorg accordingly.
Then the AB miners, at least the Halong-based ones, get really pissed-off because the advertised 16Th/s rate of their hardware depends on version-rolling. Without it they only get 4Th/s and their shiny new hardware is worthless junk with no hope of reaching ROI. And that's a big contributor to the sense of impropriety - high profile individuals have been promoting Halong's hardware for months, personally attesting to the performance and encouraging pre-orders. Were they unaware that those metrics are predicated on the use of this broadly demonized technique?
@_date: 2018-03-10 07:53:30
Is it your contention that BTC is *not* likely to reach its halving first? Or is it that the differences between the chains' difficulty adjustment strategies mitigate any adverse effects that would otherwise result from the change in mining profitability?
@_date: 2018-03-25 03:39:00
Comparisons to Tor are inappropriate. Lightning borrows Tor's Sphinx protocol for protecting the routing control data, but applies it to a restricted topology overlay network, undermining many of the privacy properties one would hope to achieve.
@_date: 2018-03-27 21:19:49
The PoW is a block header, linked to the previous block header by inclusion of its hash, that when itself hashed satisfies the difficulty requirements of the chain. Once a miner has done the work of finding such a block header, it is broadcast to the network.
Consensus comes not from any one node or block, but from the accumulation of work proof, demonstrated by the network's approval of a chain of such headers and signaled by the majority of hash power being expended in its creation. The need to accumulate work proof is behind the requirement for multiple confirmations. Observing consensus is a probabilistic exercise. Only once you have seen sufficient demonstration of accumlated work proof can you be confident that it must be the product of the majority of work output and, consequently, no other source of work could out proof it.
@_date: 2018-03-25 21:30:55
I suppose I could have better integrated their pledge into the example, although I'm not confident that has any aspect of enforceability. Regardless, the Blockstream patent pledge does not preclude them from enforcing their patents; it defines the limited contexts in which they would do so.
With only a little imagination the example given can be adapted to account for this pledge, an excercise left to the reader. Alternatively, one could replace Blockstream with any other DPL User who may have more agressive approach to infringement by non-DPL entities. That would spin us into a deeper discussion of just what constitutes a defensive patenting strategy, distracting from the topic at hand.
@_date: 2018-03-14 02:18:27
Hops on LN are not security-equivalent to hops on Tor. The restricted topology of Lightning Network allows malicious peers to influence route availability and significantly reduce the anonomity set of the mix network.
@_date: 2018-03-25 18:39:38
It really is not sensationalized at all. That is the tamest way I could describe it. I just became aware of this situation in the past 18 hours or so. The more I've dug into the text of the BDPL, the more objectionable it started to look. 
The big thing that got me though - something I didn't realize at first - is that the BDPL is a whole new regime, distinct from and incompatible with the DPL which has gained well-deserved notoriety.
@_date: 2018-03-25 22:03:05
This is aggressive to the deteriment of the purported goal of the license. It enables a malicious P(n) to constructively cause P1's licenses to be automatically revoked. This in effect precludes P1 from using _any_ patented technology licensed outside of the BDPL, at least not without great risk.
@_date: 2018-03-25 18:30:21
Interesting you say that. The BDPL explicitly excludes the right to sublicense the covered technology for use by end users. In order for a miner to *use* the protected ASICBoost technology, they too will have to join the BDPL. It is not enough simply to have purchased hardware from a  BDPL-compliant manufacturer.
The BDPL fucks everybody.
@_date: 2018-03-22 06:00:11
Lightning encodes routing control data very similarly to Tor. The overlay network through which it routes transactions, however, is decidedly un-Tor-like.
@_date: 2018-03-24 02:42:00


Little Dragon has a monopoly over the implementation and use of overt ASICBoost. Revenue has nothing to do with it. They control the exclusive right to build and use chips that make use of their protected invention and can call upon the state to enforce punishment against any who breach it.


SegWit was a change to the protocol that inhibits one method of ASICBoost. I'm fine with that. I'm also perfectly content if miners decide to inhibit overt ASICBoost by soft-forking a change that rejects version-rolled blocks. Heck, I'm even ok if they _don't_ block it, although I'd be a little suspicious of why they would permit it against their own self-interest.


I never called anyone a bad guy. I expect everyone to maximize their self interest, and don't fault them when they do. I've simply called out inconsistency in the public discourse as I've observed it.
@_date: 2017-09-04 05:23:29
Do you really believe that? Internet routers do not receive and transmit value between endpoints. The relay of value through intermediaries is the entire basis of LN. Comparing transactions over LN to internet routing is absurd.
@_date: 2018-03-16 04:10:45
It is simplified, but accurate in the given context. Zooming out, all three participants would, presumably, have other channels open. Funds committed to these channels would likewise be constrained, but the liquidity they provide would enable additional transactions which could replenish the channels in the example. Furthermore, participants would likely strive to prevent complete saturation of any given channel, both for pratical reasons related to routing capacity, but also because depleting a channel might leave them in a position where issuing a breach remedy is economically non-viable.
@_date: 2018-03-25 21:53:29
The current version of 2(e)(iii) does not appear match the description given in that link. The published BDPL v1.0 substantially expands the third-parties whose actions could result in automatic termination of a BDPL Users license.
From your link (emphasis mine):


From the BDPL v1.0 (emphasis mine):


@_date: 2018-03-24 14:52:26


I'm simply revisiting the arguments I observed in earlier public discussions about ASICBoost. I have always seen it as a legitimate optimization. I had no problem with Bitmain implementing it and I have no problem with Halong implementing it. My only desire is that the protocol be managed consistently, without preferential deference to any group.


Two arguments I can see for irresponsible behavior:
1. Version rolling disregards protocol specifications by misusing bits in the version field. This has the potential to cause disruption and inconvenience.
2. Marketing and pre-selling hardware at advertised  specs only achievable using a technique knownly vulnerable to immediate deprecation by a trivial soft fork.
@_date: 2018-03-15 18:19:59


It would certainly help mask total transaction value from any one intermediary, assuming the sender and recipient are using multiple, unique peers. I wonder, though, if it might introduce a correlation point to assist well-connected adversaries in deanonymization. Multiple associated transactions traversing a contrived routing construct would grant the observer additional opportunity to determine directionality and route-length through forced path extension and fault injection. Seems like one of those cases where hiding complexity from the user also hides malicious behavior.
@_date: 2018-03-23 19:27:04
Overt ASICBoost allows a miner to reduce the work required at least as much as covert. Is that not cheating?
Covert didn't risk disruption or inconvenience due to version rolling. If this is no big deal, why is there a request open for a BIP to change how the version field is handled? Is it cool for Halong to start version rolling before that BIP is approved, regardless of any disruption it may cause?
@_date: 2018-03-24 02:19:54
Ignoring blocks that don't conform to the majority's adoption of stricter rules is not a 51% attack, it's a soft fork.
@_date: 2018-03-24 02:15:07
While not a monopoly in the specific sense of antitrust law, it is a common turn of phrase, using a generalized definition - _the exclusive possession, control, or exercise of something_. Patents are a state-sanctioned exclusive right to implement and use a technology or process. By the force of law, the patent holder can seek injunction and damages against any other entity implementing or using their protected invention.
I sought to make my argument clear, so I'm disappointed to hear you find it disjointed and feel that I am equivocating. My concern is simply as a user of this technology; I have no vested interest in mining hardware whatsoever. As a user, it is important to me that changes to the protocol do not _intentionally_ disenfranchise one set of miners over another. If that were to be so, it would degrade the usability of Bitcoin for me. I **know** I'm not part of an in-group whose intent can be actualized as changes to the protocol, which means I'm potentially vulnerable to those who are. I cannot be certain such a group exists, let alone guess which pseudonymous addressees they might control. The best outcome for _me_ in this trustless system is one where consistency is maximized.
@_date: 2018-03-16 00:52:15
The major difference from Tor is the topology of the overlay network. When source routing across Tor nodes, you can select arbitrary hops at each point in the path. The nodes are all _peers_ - any node can (relatively) freely open a channel to any other, on demand. Nodes have no special influence or control over the route selected.
Lightning Network borrows the control data privacy mechanism - the encrypted 'onion' containing next-hop info - but applies it to a _restricted topology_ overlay network. Only nodes sharing a sufficiently funded and balanced channel are viable next-hop candidates on a given route. As intermediaries control which channels they establish and make available, they have the ability to manipulate the choices from which a sender may select.
To make matters worse, funds committed to a channel can only be transacted through that channel's peer. Contrast that with Tor, where a sender can enter the mix network from any entrance node and exit from any exit node. This grants a user's immediate peers a substantial ability to leverage the previously described route manipulation to a number of nefarious ends.
The threat does not stop at a user's immediate peers, however. Because of the funding and balancing requirements, a sufficiently funded and connected adversary can manipulate the availability of channels _on other nodes_, nodes they do not directly control. This could potentially be used to capture the routes selected by nodes disconnected by several hops.
@_date: 2018-03-25 22:07:43
BDPL Section 2(a) states:


A manufacturer, licensed under the BDPL, has no right or ability to issue a sublicence for other BDPL Users' patented property to end users.
@_date: 2018-03-24 01:02:09
Another option is to break overt ASICBoost, as well. In fact, since overt ASICBoost is _overt_, a simple majority of miners can refuse to accept blocks using it. Unless and until the BIP for repurposing the version field to support rolling is approved and widely implemented, Halong and Slush's use of it will, [in the words of u/btcdrake, cause "disruption and inconvenience"]( 
I'm not totally up on where that proposal stands, but from what I see in the mailing list it hasn't even been granted a formal BIP number. In light of the problems version-rolling might cause and to prevent rapid devaluation of their own hardware investments, it might be reasonable and justifiable for existing miners to orphan overt ASICBoost blocks. I suspect that Halong-aligned miners would argue that to be an unfair attack against them, but it is also the approach that doesn't invite a reliance on state enforcement.
@_date: 2018-03-24 03:27:22
I'm sorry, but that is an absolutely ridiculous argument. By right of their monopoly they will _grant_ you license to use their patent, if you're willing to grant them license to all of your patents.
I don't actually have any problem with this arrangement, mind you - it's a perfectly reasonable strategy given the patent system that exists. Laudable, perhaps. But how they choose to exercise their exclusive right, which includes the right to license, does not negate the fact that they have the exclusive, state-enforced right in the first place.
@_date: 2018-03-27 17:39:02
You can do the distributed deadman's switch piece using an HTLC sort of like Lightning's breach remedy mechanism. Make it immediately spendable by yourself and anyone-can-spend after your desired delay. A distributed service can then watch for the spends and react accordingly. As long as you keep spending the transaction before the expiration, it doesn't trigger. If you miss the expiration, miners are incentivized to spend it for you.
Where you have a problem is a distributed, trustless secrets keeper that can be relied on to only release your secret when the deadman's switch triggers. No such thing exists, to my knowledge, and it seems an intractable problem.
@_date: 2018-03-25 05:13:37
ASICBoost is an optimization in the SHA256 hashing process particular to the structure of the Bitcoin block header. SHA256 works against a fixed size input; when a value that exceeds this size is to be hashed, it is broken into chunks which are then processed and eventually combined into a value fitting that size. When the Bitcoin block header is to be hashed, it exceeds the size that SHA256 supports and is broken into two chunks, the second of which contains the _nonce_, a random value which is _rolled_ by the miner in an attempt to find a block that meets the difficulty requirement.
The optimization that ASICBoost introduces is based on the observation that a significant portion of the processing for the second chunk is independent of the processing for the first chunk. If you can create block headers where the first chunk is different but the second chunk identical, you can reuse the independent work on the second chunk in each round. The difference between overt and covert ASICBoost is in how they achieve this collision.
Overt ASICBoost co-ops fields, particularly the version field, in the first chunk, allowing the miner to _roll_ a value there while not touching the content of the second chunk. This is pretty straight forward, but does introduce some issue  as nodes may mistake the random versions generated as signals for the activation of unknown rules.
Covert ASICBoost reorders or swaps in and out the transactions included in a block. This results in a change in the merkle root (a hashed reduction of the transactions) of the block. The chunks are split over the merkle root, with the majority of it ending up in the first chunk, but a small portion at the beginning of the second. This is a bit of a problem - remember, the miner needs the second chunk to be identical in order to reuse the work and gain any efficiency. Luckily for the miner, it is not very difficult to find transaction orderings that result in collisions in the small part of the merkle root that gets included in the second chunk.
SegWit, however, throws an extra complication at the covert method. A block containing SegWit transactions is required to include a special input to its coinbase transaction, the witness commitment. This input is another merkle root - not of the transactions, but of the witness data that has been segregated from them. It wouldn't be so bad, except that the value of this witness commitment is dependent on the order of the transactions, requiring a covert ASICBoost miner to recompute it for every round of their transaction shuffle while searching for orderings that have the desired partial merkle root collisions. This extra work ends up offsetting the gains afforded by reusing the work from processing the second chunk, making the whole exercise not worth the effort.
@_date: 2018-03-25 21:49:58
The current version of 2(e)(iii) does not appear match the description given in that link. The published BDPL v1.0 substantially expands the third-parties whose actions could result in automatic termination of a BDPL Users license.
From your link (emphasis mine):


From the BDPL v1.0 (emphasis mine):


@_date: 2018-03-25 07:41:56
A borderline unhealthy compulsion toward study and research.
@_date: 2018-03-24 20:40:21
That is slightly problematic, isn't it. I'm no patent attorney, but from my lay reading of the BDPL, even if Bitmain were to enter that agreement in order to gain licence to manufacture, sell, and use technology covered by Little Dragon's patent, they are unable to sublicence those rights to end users. You could buy the hardware, but would need to enter the BDPL yourself in order to use it.
@_date: 2018-03-23 22:34:07
Which is what I described. The origin node can construct a route because it maintains a graph of the network. It can build this map because everyone broadcasts their channel announcements.
The receiver _can_ provide the sender with a partial onion to get the transaction from a rendezvous node to its final destination, but that partial route can't include more than a single private hop - which must be the last hop - without introducing a trusted announcement mechanism.
@_date: 2017-09-04 07:11:19
Not until one of them creates a payment channel with a third participant and routes a transaction between them.
@_date: 2017-09-04 06:42:43
Indeed. However, I have yet to see a reasonable explanation for how LN doesn't qualify as an informal value transfer system and therefore subject participating hubs to regulation as money transmitters. These are regulations which already exist and, if they apply to LN, make the act of routing transactions across the network without proper licensing and compliance with reporting a crime from day one.
@_date: 2018-03-22 12:39:29
_Deep Packet Inspection_, I'd imagine. DPI usually refers to network analysis tools which reassemble and examine the content of traffic rather than packet-by-packet as it crosses the wire. I suspect the poster here is using it in some more general sense of nefarious surveillance.
@_date: 2017-09-12 15:03:03
Probably not. FinCEN regulations specifically address casinos and if you're operating within your State laws, you're likely within the clear.
We could go in circles coming up with all sorts of transactions that have a vague similarly to LN, but it's harder to nail down relevant examples. Regulations carve out exceptions for classes of businesses and account for the fact that other regulations cover specific cases. FinCEN uses its Federal perview to insist that operators follow the State-level regulations of _every State_ where _any user_ exists.
How regulations apply depend on how FinCEN classifies LN hubs. Because hubs have no involvement in the transaction other than providing a secure trasmission system, they are likely to be classified as money transmitters. In the case where a hub performs atomic swaps between currencies, they may even be classified as a currency exchange.
@_date: 2017-10-06 23:39:22
Incentivising honest behavior from miners *is the whole point* behind Bitcoin. In order to transact in a trustless environment, we need a way to agree on the state of our ledger. Since we don't trust each other or any third party to keep an honest accounting, we need a different solution. Bitcoin provides an economic incentive structure that encourages honest behavior from miners in maintaining that ledger, and proves dishonest behavior. However, it's only reliable so long as a majority of the hash power is honest. A dishonest majority is able to hide their malicious behavior, and since the system is trustless, no one is able to conclusively prove it.
@_date: 2018-03-24 16:40:10
And who ever they collude with to share that information. But what kind of business model involves collecting private identifiable information and constructing profiles based on observed and inferred relationships? That would never be a thing, I'm sure.
@_date: 2018-03-25 22:05:11
My experience has no relevance to the matters of fact.
@_date: 2017-10-08 22:32:17
I cannot trust your node, and you cannot trust mine. We have no way to know the rules the other has instructed their node to operate under. If the success of our transaction relies on either node accepting it, we are at an impasse.


Now we've reached the meat of our debate. We don't let them do *anything*. Miners are, ideally, independent rational actors. If anyone, any group, can let/make/unduly influence them to signal dishonestly, their work proof is useless at assuring concensus.
Which of these is not true?
* Miners own the work proof generated by their infrastructure.
* Miners have the natural right to use that work proof in any way they choose.
* Proof of work, paired with appropriate economic incentives, is sufficient to demonstrate majority concensus between the owners of that work proof.
If all of those are true, how does this not logically follow?
* Miners can reach a majority concensus to change the rules for how they broadcast their concensus moving forward.
I'm not saying you need to like or accept their rules, quite the opposite. All I'm saying is if their concensus on how they will act, something totally under their control, is not even reliable for accurately representing that, why should any of us think it reliable for establishing a shared view of the global ledger?
@_date: 2018-03-15 21:10:16
It absolutely gets unbalanced by routing in one direction. A channel's capacity in a given direction is diminished by the value routed in that direction. They are compensated, made whole, on the countervailing channel, but that only allows them to direct funds in _that_ direction.
@_date: 2017-10-31 20:34:07
That is not an accurate representation of my position.
Mining solves a problem in distributed money that had plagued prior solutions. It is possible that solving this problem may uncover, or even produce, new and unforeseen problems that ultimately make the system untenable. It does present challenges of its own and includes measures to address the known risks.
Specifically, to secure a globally shared ledger using PoW, the blockchain must be built from a supermajority of work proof and be continuously extended with a majority of work. Miners are required to invest heavily in order to participate in this work, an investment that is intended to have no greater utility than acquiring the units of currency tracked by the ledger. We offer incentives toward honest participation in the form of rewards and fees denominated in the currency of the ledger. The market reenforces these incentives and encourages accumulation of wealth in the ledger's currency though long-term appreciation. If this all works out, everyone participating should be able to maximize their utility through honest participation. We have achieved Bitcoin.
But things are not so perfect. What if the maximum utility a participant seeks is to destroy Bitcoin? No incentive we can offer within the Bitcoin system can satisfy that utility; their overriding incentives are external and incompatible with Bitcoins existence. If they have the ability to seize control of the work output, it would be disastrous for our ledger. It would be exceedingly costly for them to pull this off and if successful, they would be left with a massive investment in useless specialized equipment, the devaluation of which is the economic punishment I referred to. 
Here's the crazy part... _They still can't destroy Bitcoin_. If they can reach that position and still are not incentivized to use their capacity to generate more coins than anyone else rather than undermining the basis of their own wealth, we never achieved Bitcoin in the first place. The worst possible outcome would be for us to _refuse to abandon Bitcoin_ at all cost. If Bitcoin is not viable as decentalized money, some of its features could be twisted to horrific use under other conditions.
Bitcoin is an idea, and ideas are hard, perhaps impossible, to kill. Even if every person with knowledge of it were wiped out, all records destroyed, and our grand experiment forgotten, it is likely that Bitcoin would again be independently rediscovered by a future Satoshi should his society benefit from decentralized money. It is even possible, perhaps probable, that if intelligent life exists elsewhere in all of time and space, they too may land on Bitcoin as a monetary solution.
So no, I don't seek to destroy Bitcoin and replace it with a new solution. I am observing the development of Bitcoin. To the best of my ability, I am applying adversarial thinking while formulating understanding from those observations. And I am presenting my ideas to large group of participants who ostensibly share an interest in the topic, seeking further refinement. Should we fail at achieving Bitcoin, I hope that this effort will be useful in comprehending the deficiencies in  the idea. Perhaps it would only require minor adjustments to the incentives to make it successful. Or maybe we will discover that the problems uncovered by Nakamoto Consensus are harder to solve than alternative paths.
I can only ask that you not reject my attempted contribution to our collective knowledge as the machinations of some conspiring force, as I grant the same consideration to yours. Perhaps I am a useful idiot of that shadowy puppet master, but what hope have any of us poor souls to disentangle from the strings if challenging ideas are met with intellectually dishonest misrepresentation instead of rigorous examination?
@_date: 2018-03-23 23:05:27
Little Dragon is not freely licensing their ASICBoost patent, either. While agreeing to the BDPL involves no direct monetary fee, it may be _incredibly_ expensive in terms of the intellectual property a participant must make available in exchange. Whether this is an equitable exchange is up to each participant to decide for themselves, but it is no less an example of using a state-granted monopoly to gain advantage than if they charged a fee.
@_date: 2017-10-10 04:44:39
I have no problem with goverance, and the model that you described sounds suitable for many open source projects. It's a particularly great model for that use case because if anyone is dissatisfied, they can freely fork and no one has much cause to mind.
What it is not is *decentralized*.
@_date: 2017-10-26 16:57:48
The market, especially as represented by unregulated, custodial exchanges, is not particularly Sybil-resistant. If it were, we might not need Bitcoin's PoW consensus solution in the first place.
The naming decision and branch support will be individual decisions. Considering eventual immutability as a core feature of Bitcoin, it seems like a sound argument that the only branch of a fork capable of delivering on that ability - the branch with the highest cummulative proof-of-work - should be called Bitcoin. If you don't consider eventual immutability a defining  feature of Bitcoin, then it would not be a good basis for that decision.
There is no need to wait for an attack to justify a PoW change. If your preferred chain does not have the support of the majority of work proof, it **must change** if it is to be immutable. The further behind it falls in cumulative work proof, the more vulnerable it is to malicious rewrites. There is a correlated argument that attacks against a minority chain are justified as they provide alternative incentives to defect from the majority consensus. In that view, the attack could even be seen as in the best interests of the users of the minority chain, exposing their chain's insecurity and forcing it to a new PoW.
@_date: 2018-03-25 20:32:57
Have any note-worthy DPL Users announced they will switch to or cross-license under BDPL? Have any even indicated they were involved in the creation of BDPL?
I'm not sure if this would bother the Bitcoin Cash crowd. That camp was not as hostile to the idea of covert ASICBoost. If Bitmain's license for covert ASICBoost is sufficient, it might even be preferable for those hostile to BTC to see SegWit make mining it less attractive due to onerous patent encumbrance.
@_date: 2018-03-25 21:52:44
The current version of 2(e)(iii) does not appear match the description given in that link. The published BDPL v1.0 substantially expands the third-parties whose actions could result in automatic termination of a BDPL Users license.
From your link (emphasis mine):


From the BDPL v1.0 (emphasis mine):


@_date: 2017-10-24 22:53:48


The only measure of consensus in Bitcoin is that obtained through the cumulative work proof expended in extending the blockchain. The only parties contributing to that process are miners.
@_date: 2017-10-26 15:02:04
I don't think we disagree on the fact that naming things is a human problem.
But Bitcoin does provide the solution for _identifying_ which protocol ruleset can support a ledger with eventual immutability, among multiple protocols using the same PoW, so long as the expended PoW is measurable between them. Consensus on the chain with the most cumulative work is the **only possible** valid source for that feature. Maybe the social consensus will be that Bitcoin doesn't require that feature.
@_date: 2017-10-06 13:32:42
The mutual exclusivity of the S1X and S2X branches presents the most powerful validation of miner honesty that Bitcoin has enjoyed in quite some time. Miners have clearly signaled their intention to modify a network rule that affects how they achieve concensus. Since their value to the network is their ability to determine the validity of a single history among a set of mutual exclusive options, they cannot  signal for NYA/S2X then subsequently extend the S1X branch and remain honest.
It is up to the rest of the Bitcoin system to reject the proof of work generated by a network of provably dishonest nodes. If the hash power fluctuates between logically inconsistent histories, the hash power used to signal the rule change has been proven dishonest. The design of Bitcoin is resistant to some attacks by a hostile mining majority, but that is no reason to continue supporting the work of a dishonest network.
@_date: 2018-03-23 20:59:20
Not necessarily every node. You're right that Charlie can give Alice the information necessary to get from Dave to him. But if we extend it one more hop, so Charlie gives Alice a route from Bob-to-Dave-to-Charlie, we run into a problem. If B-D is secret and D-C is secret, Charlie can't know how to create that route. If Dave tells Charlie about the (edit) B-D channel, he must trust Charlie to keep it secret. (edit) Dave would also be violating Bob's trust at that point.


@_date: 2017-10-11 00:14:35


@_date: 2018-03-24 19:31:21
I assure you I am in no way attempting to misrepresent you. If I have failed to adequately acknowledge your points, perhaps I am misunderstanding them. I will reflect back on this dialogue at some time in the future to see if my efforts at communication, both presenting and receiving, could have been more effective.
To avoid any further misunderstanding, why don't we just stop here. Hopefully next time we happen to converse we can start again from a position of mutual respect and not allow this unfortunate exchange to taint our assumptions of each other's intentions.
@_date: 2018-03-09 22:14:49
The second hard-forked change to BCH's difficulty adjustment algorithm has reduced variance from the 10 minute average block time. The chain-height gap has been closing and if the trend continues BTC can expect to reach halving earlier than BCH.
@_date: 2017-10-05 17:19:37
If you do not signal acceptance of S2X then you can continue mining the S1X branch without being dishonest. Signaling acceptance of NYA/S2X is a clear intent to consider the branches as mutually incompatible, to then extend the S1X branch would be dishonest. Either you were dishonest in your signaling or you're attacking the S1X branch - either one is dishonest behavior.
Since a vast majority of hash power has and continues to signal for NYA/S2X, S1X is left in a precarious position. It very well may survive and draw a majority share of hash power back to it, but that hash power would be provided by a majority of proven dishonest nodes.
@_date: 2017-09-04 07:20:54
In the jurisdictions where AML/KYC is an issue, the applicable laws do not necessarily require that money transmitters use actual money in their activities. If an intermediary trades grain as medium of value in service of facilitating a value transmission between third parties, they may be acting as a money transmitter.
@_date: 2017-10-07 01:52:07
I'm honestly not that concerned over which side of the fork 'wins'. I'm far more concerned that both branches will persist, meaning that the users of Bitcoin are failing to show good stewardship of their financial sovereignty. 
The vast majority of hash power has used the same mechanism they use to signal concensus on the validity of blocks to signal concensus on using S2X rules for future validation of blocks. If the majority sticks to this, sucks for S1X, but no problem for me. If supporters really don't want that fork to die, that's dumb, but it'd be even dumber to not change PoW.
If the majority changes their signaling to indicate they will stay with the S1X rules and follows through with it, sucks for S2X but also fine by me. If supporters really don't want that fork to die, that's dumb, but it'd be even dumber to not change PoW.
If the majority continues to signal S2X but fails to follow though, sucks for everybody and I do have a problem. But my problem is not with the miners. Sure they're dumb, but the real idiots are the users supporting their duplicitous and dishonest actions by continuing to rely on their work proof for concensus. Everyone should be running for the PoW door.
@_date: 2017-10-23 04:48:40
Still not quite right. The balance does nothing to support or protect the network. Unless miners actively go out of their way to demonstrate blatant dishonesty, full nodes cannot even prove _to each other_ that miners have acted inappropriately. Each full node truly is an island unto itself.
What _is required_ is that the miners, as represented by **their nodes**, have sufficiently incompatible self-interests as to prevent a majority of hash power from conspiring to act dishonestly in their consensus signaling. This is completely unaffected by non-mining nodes.
@_date: 2017-09-04 04:36:49
LN hubs - those nodes routing transactions between nodes who do not share a direct payment channel - are in all likelihood operating as _money transmitters_. The action of receiving and transmitting funds for the purpose of providing a secure payment system is a heavily regulated activity. Existing US regulations covering money transmitters require the identification of customers and reporting of suspicious transactions. Basically, if LN hubs are money transmitters, you could expect them to be subject to many of the same regulations that exchanges must follow.
@_date: 2017-10-23 16:32:24
By which measure of consensus should this rule apply?
@_date: 2017-09-04 06:35:36
Despite the name, the regulation around money transmission  are quite explicit in *not* requiring that the units of value received and transmitted be directly considered money. It is enough that something representing value be transferred in this way to consider the intermediaries money transmitters.
To escape that classification there would need to be an exclusion for cryptocurrencies added to the regulations. An unlikely event in my estimation, considering the intent of the laws are to regulate the precise activity that LN facilitates.
@_date: 2017-10-07 08:42:48




The honest chain only wins with a honest majority. A dishonest majority will reject your honest chain keep building on theirs. Being the majority, their chain will always have more proof of work than anything the minority can build.
In fact, one the dishonest majority has a sufficent lead, the honest minority is indistinguishable from an attack, and subject to the same pressures to falling behind that malicious minority is. This is why it is so vital that the concensus network be abandoned quickly after the majority is proven dishonest: if we keep using it, we flip the economic incentives - the most rational, profitable behavior for the honest miners becomes to join the dishonest miners! With a super majority they even have the potential to rewrite the history that proved their initial dishonesty.
@_date: 2017-10-25 11:40:50
Even without replay protection, new Bitcoin rewards would be invulnerable. As those are created in the new blocks' coinbase transactions they are non-replayable, nor are transactions spending them or their child outputs.
@_date: 2017-10-08 16:24:03
Crazy how words mean different things in different contexts, huh? The unless you mine, you have no direct role in the concensus miners reach. And the concensus they reach cannot dictate anything to you. They're *not* agreeing for you, only amongst themselves.
When you transact with bitcoin, *you are agreeing with your counter-party* to rely on the concensus of a given set of miners as to the state of a shared ledger. You make this agreement of your own free will every time you sign a transaction.
And this is an **awesome** arrangement for you. It gives you *influence* on the concensus process of the mining network. If you don't like the decisions they arrive at, you're absolutely free to stop using their concensus abilities to mediate your transactions. If you do that, they no longer receive the fees your transactions generate.
There is a catch, however. If you continue to form transactions in a way compatible with their concensus network, it is *impossible* for them to know if you intended for a transaction to be included in the ledger they manage. Of course, this really only matters if you intend to claim ownership of the coins in *that* ledger.
@_date: 2017-10-29 19:52:07
BTC would be the blockchain existing at the time of the NYA-promoted fork and extended per consensus rules consistent with the latest production version of Bitcoin Core at that time.
Is that a correct summation? I know I'm heading toward pedantry, and promise not to take it further. It's just that a future payment can't be made under the past application of rules, so it's vital to clearly understand the future rules that would apply. For instance, if I have the definition correct and _if_ Bitcoin Core were to release a PoW hard fork subsequent to the NYA fork, payment would *not* be expected on that new chain. If that is not the desired outcome, further clarification would be required.
@_date: 2017-10-07 18:28:33
Double spending and censoring (really two sides of the same coin) are the only non-self-evident attack miners can perform. Double-spending is executed by creating mutually exclusive blocks, then subsequently censoring the original that the recipient received and building on the other. That is the threat scenario a dishonest majority poses and what users are responsible to be vigilant against. If the majority of miners 
When the mining majority has shown that there are sufficent economic incentives for them to create mutually exclusive blocks and promote the one in opposition their previously broadcast statement of intent, it is no longer reasonable to utilize the work proof or the concensus it generates to trustlessly establish the state of the shared ledger. I can have no cause to believe they will follow through on their intent to honor any other rule when the evidence of their duplicity is bundled right in to the proof of work they perform.
@_date: 2017-10-25 12:20:10
By attempting to get their transactions to confirm on both chains? What consequences is this protecting SPV wallets from?
@_date: 2017-10-05 20:26:54
The miners will only be motivated to stay honest if all the incentives are in play. If Bitcoin users are willing to accept the work product generated by a provably dishonest majority, the incentives have shifted from the axioms supporting the theory.
@_date: 2017-10-05 16:00:04
And in that scenario, the BTC blockchain will be secured by a majority hash power provided by proven dishonest nodes. That is the power of Bitcoin. You don't have to trust that they are dishonest, the evidence will be eternally committed to the chain by their own work proof.
The security of the Bitcoin ledger depends on the majority of miners being honest. They are incentivised to be so through rewards and fees on every block they mine. If the majority of hash power is undeniably dishonest, the blockchain built from it is insecure and vulnerable to manipulation.
@_date: 2017-10-05 16:29:39
I think we're using a very similar meaning of honesty.
Longest valid chain, correct? We can't force miners on what they consider valid, other than to refuse their hash power if we disagree. On the other hand they have a unique ability to reach a trustless concensus on how they will use their hash power to confirm the validity of the chain. If they signal acceptance if a new rule only to extend a mutually exclusive branch, they are not extending the longest known (and valid *by their own definition!*) chain. 
@_date: 2017-09-12 02:41:11


The article ignores any concerns for the legality of acting as a money transmitter in an informal value transfer system. If FinCEN determines that LN hubs require KYC/AML, there would be a huge monopolistic advantage to banks and existing money service business for anyone wishing to transact with users in the US.
@_date: 2018-03-25 16:52:44
A need not be at fault in this situation at all. Say A has license to use a patented process owned by T in their manufacturing. T has no interest in the BDPL. If M infringes on T, it can be expected that T would enact enforcement. M's action, and the subsequent response by T, is all that is required for M to terminate A's license.
You may say, A should not make use of any non-BDPL patented technologies. But that is entirely unreasonable and basically impossible under the modern patent system. Patents are not like copyright, where the 'infectious' nature of things like the GPL work out.
@_date: 2018-03-25 18:11:36
This is a giant invitation for lawyers to work their lawyerly ways.
@_date: 2018-03-23 20:51:10
That's not how routing works now and, while possible, is incompatible with the desire that transacting parties remain anonymous.
The way that routing works now is that nodes broadcast announcements of their channels and everyone builds their own map of the network. It's noisy and runs into scaling limitations because that map needs to be continuously updated as channel states and fees evolve.
@_date: 2017-10-31 17:16:49
They're contributing zero hash rate to your bitcoin, but _they still have the ability to perform the work_. If they are not incentivized toward participation by the rewards your bitcoin offers, you're left to rely on external incentives - incentives over which you have far less influence - being sufficient to keep them from directing that capacity to negatively impact your blockchain.
Edit to add: Or, as demonstrated by BCH, use that capacity to extract value from the market for your bitcoin and convert it to units of _their_ bitcoin. 
@_date: 2017-10-07 00:59:07
Thank you for the thorough and detailed explanation as to why Bitcoin is designed to operate in a trustless manner. If you or your non-mining node were in anyway responsible for maintaining an honest and consistent ledger of transactions, Bitcoin would be well and truly fucked.
Your description of the role of miners and nodes is so twisted it's almost hard to know where to start. You abuse the change in language that has occurred over the past decade to disguise your blatant misrepresentation. This is evident by the fact that your referenced document only uses the word 'miners' once and only as an analogy to 'gold miners'.




How do nodes extend the blockchain? What specific function do they perform to 'attach' the new block?
Now let's see what you say miners do:


Ok, so that's three things, but whatever. Who does the whitepaper assign this task to?








Obviously the nodes described in the whitepaper are responsible for performing some of the actions you ascribe to miners.
Notice number 5 is missing up there, wonder what that one is...


Hey, look at that. In addition to that 'one function' your miners  are responsible, the whitepaper also assigns them a task you say they don't perform.


On second thought, you would make a great miner. Your dishonesty is so blatant and reckless and provable, we'd know exactly how much your concensus means.
@_date: 2017-10-27 18:34:39
A chain with less than a majority hash rate loses **all** assumption of correctness. The transactions themselves cannot be spoofed, but the double spend protection of eventual immutability is completely lost.
Consider _why_ the longest chain must be the only valid chain. We don't actually know how much hash power exists in the world. That means that what we think is the majority of hash power at any point could be wrong. We are only _reasonably confident_ that the majority of existant SHA256 work power is dedicated to mining bitcoin. If that isn't true, then *no chain* can be considered immutable. For a minority chain, this situation is even worse - we can *prove* there is a larger source of hash power in existence, and even _that_ majority may not be all of it. A minority chain has **no hope** of being immutable.
We don't need to predict which chain will be the longest. Any chain that doesn't have the majority of cumulative work power is noise. We may need to wait for a few confirmations to be confident, but as long as the majority of hash power is used to extend the longest chain, no other will catch it.
@_date: 2017-09-12 06:06:36
The US has _already_ decided to regulate like this. According to FinCEN regulations, a third party receiving and transmitting anything of value, or substituting for value, in order to facilitate the transfer of funds between other parties is acting as a money transmitter.
@_date: 2017-10-31 15:12:19
The result would be a blockchain built from an uninterrupted supermajority of cumulative SHA256 work proof, linking all transactions back to the Bitcoin genesis block, and continuing to be extended by a demonstrable majority of new work.
Same thing holds true for B1X should it attract the hash rate necessary to retain a supermajority of cumulative work proof, by the way. But the incentives are different.
Focusing only on the market price fails to account for other incentives. It only makes sense if miners are already operating at or below their costs. But the successful ones almost certainly profit from their activities and, if the incentives meant to secure the bitcoin ledger are sound, retain those profits in BTC.
@_date: 2018-03-12 16:51:49
You will need to better specify what you mean by TPS and confidence of such metrics will vary based on the availability of information. In the most mesurable terms, and most in accordance with the protocol-level definition of a transaction as a set of inputs and outputs, batching _consolidates_ multiple transactions into a single transaction. A batch transaction is larger than a single transaction, meaning fewer can fit in a given block space, but it encapsulates economic activity more efficiently than if it were represented as multiple transactions.
If you want to deconstruct batched transactions, you must make assumptions about the economic activity represented. The accuracy of these assumptions will determine the validity of the resulting metrics. In a decentralized system it can be very difficult to confirm assumptions; at best the results serve as limits on estimates.
@_date: 2017-10-27 02:50:57
They can also be tricked into following a minority chain. It would be highly unfortunate for them, considering they use a software intended specifically to follow a blockchain formed with the majority work proof of their chosen consensus network.
@_date: 2017-10-28 00:30:22
Well yeah, that's exactly what it is. It is unwise to use a chain when you know its incentives have not been sufficient to entice 51%+ of the existing hash power to work on it.
@_date: 2017-10-09 21:54:30
Ok... that doesn't answer the questions at all. By what process has concensus been reached on the adoption/rejection of previous ideas? How have we known that concensus was reached and how did we know the decision?
@_date: 2018-03-26 04:33:03
You may extend the context of that if you'd like, sure. Regardless, while Alice may be the sole funder in her channel with Bob, Bob must have his own funds in some other channel in order to route a payment on Alice's behalf.
@_date: 2018-03-29 22:42:09
Admittedly, exchanges are a service and must facilitate their users' use-cases. But they also balance the cost to implement features with the reward for doing so. Implementing Lightning payment channels with their competitors is high-cost (direct cost of implementation, opportunity cost from lost trades, security cost of maintaining liquidity in LN hot wallets) for minimal return.
Even from the user perspective, what advantage does it bring in exchange for the reduced cost? You cannot directly observe that a Lightning Network transaction has occurred, which reduces confidence that the funds actual exist. The exchange must take higher risks with your money instead of keeping it in cold storage. There is minimal upside and all sorts of room for shenanigans.
@_date: 2017-10-09 01:07:53
The miners can come to concensus on *anything*, and you're right to point out that their concensus has no bearing on anything they don't control. I've never claimed otherwise, so you're wasting your breath doggedly pursuing this line of discussion. What you don't seem to grasp is that it *is* important to observe the concensus network to see if the miners use it to come to concensus on things they *do* control, such as how they intend to act in the future.
Your apparent belief that by running a full node you somehow prevent the miners from changing the rules on a whim is dangerous to the integrity of Bitcoin. They don't decide the rules *you* use, they do decide the rules *they* use.
Since *we* need a concensus network that uses rules compatible with both of our rulesets in order to transact, we signal to each other that we will accept the rules of a given network. Because we don't want that network to change rules out from under us, we want to make damn sure its reliable. No matter how long the network we choose has followed the rules in the past, they have free agency, so we can't trust that they will be reliable in the future.
Thankfully, since we only need them to come to concensus on an order of transactions that we can self-validate, any dishonesty on their part in that regard is easy to prove. What isn't possible to prove is that the majority hasn't shown us an order of transactions at one point and a different order, possibly missing our transaction, at later time. Because we cannot prove that, we rely on the economic incentives in place to discourage that behavior. But we'll only know that it's happened after the fact. So we still need to keep a close eye on the network for any signs that its operators might not handle the responsibility that comes with their position to honor the concensus they achieve on _any topic_, especially those for which they exercise complete control, i.e. their own behavior.
@_date: 2017-10-27 23:29:26
That's fair, I was pretty sloppy in my wording.
Nakamoto Consensus is achieved through the cumulative application of work proof on extending a blockchain. So long as the majority of work units are expended extending a single chain, no other chain can ever catch up. After sufficient time, the history of that chain is supported by so much accumulated work proof that it is exceedingly unlikely that an alternate version of the chain could be created.
However, a chain built from the work proof of less-than a majority of the work units does not have this property. It is always at risk of, at minimum, disruption by the remaining work units. The smaller the minority working this chain, the faster it falls behind. This lag in accumulation increases even more if the total amount of work units in existence increases and the minority does not grow at least as fast, in absolute terms not relative, as the majority chain. If this condition persists, an ever shrinking percent of the majority's share of work units are required to disrupt the minority chain.   Eventually, the majority will be able to temporarily use an insignificant fraction of its total work units to not just disrupt the minority chain, but rewrite its history all the way back to its genesis.
_Nothing about this situation requires that the chains use compatible signaling or block structure._ The risk to the minority chain exists so long as the work units between the chains is shared. In fact, the majority chain faces the exact same risk, should there exist an unknown, unmeasured source of work units capable of attacking it. The disadvantage for the minority chain is that its users can be *certain* the incentives offered for honest participation have failed to entice the application of the work unit majority. The users must instead hope that the incentives offered by the *majority* chain are sufficient to keep the work units focused on extending that chain instead of attacking. But as examined earlier, unless the minority keeps pace at growing its share of new work units, it is only a matter of time before a tiny, insignificant fraction from the  majority work units will be able to invalidate the entirety of the minority chain's history and render any future extension functionally impossible.
So yes, you can set up a protocol to reach consensus only considering the work proof of the blocks that follow your chosen rules. But without a majority of the existent work units on your side, the resulting blockchain is more a house of cards, a dead man walking.
Edit to add:
Bitcoin is predicted on the establishment of an immutable ledger. Since the minority chain is incapable of providing that, it cannot be considered valid. It is not fit for purpose even if it follows all the rules.
@_date: 2017-10-05 17:27:10
They are signaling their intent to modify what they consider valid. Having reached overwhelming concensus on that change, if they do not follow through their future work proof is insufficient to establish an honest concensus on the validity of the Bitcoin ledger.
If you want to continue purchasing work proof from a network with a majority of dishonest nodes, that's your decision to make. Bitcoin is even able to resist *some* of the attacks that decision would leave it exposed to. But it's not a sustainable situation.
@_date: 2017-10-31 23:15:55
Thanks for the constructive dialog.
Market value is only weak reflection of Bitcoin's worth, the consequence of Bitcoin's value as decentralized money. While market value is denominated in the centralized money Bitcoin could supplant, it could also be a highly deceptive measure of worth.
Those most at risk of losing control should Bitcoin succeed are the monetary authorities who control the supply and function of domestic currencies. Those powers are vital to the efficient application of fiat money, which despite its faults, has contributed to the success of the modern world (and all _its_ faults). These same powers are among the tools through which money is used to lead, manipulate, and control a population; punish, silence, and discredit dissent while rewarding, promoting, and enticing compliance. And when not by the physical force of the State, the market is where these powers are applied.
Banks often take stupid risks with investor and customer funds. Corporations can be instruments of unfettered greed. Individuals can cross moral, social, and legal bounds in their pursuit of wealth. They may abuse their positions and the abilities granted them, but none are imbued with direct control of the State's money. If Bitcoin is to succeed, they too will need to transfer their accumulated wealth, and will do so at greater risk of targeted retribution than the average individual. The decentralization of monetary authority may require them to find new ways to operate and profit where existing strategies are no longer viable. Those unwilling to adapt or believing there is greater reward to be had by doubling down on the status quo may collaborate with the established monetary authorities to damage or prevent the success of Bitcoin. But if the promise of decentralized currency does attract the majority that is required for Bitcoin to be realized, these will necessarily be in the minority.
But you know all this already. Why have I wasted the time in writing it all out? To emphasize my points: the enemies to Bitcoin already exert control over the markets; manipulating populations through the application of money is a strategy as old as money itself; don't automatically judge as enemies those who have competing interests unless antithetical to your survival.
@_date: 2017-10-27 15:34:55
The consensus system is sufficient to allow the mining majority to reach distributed, decentralized consensus on any issue. Including the rules by which *they* choose to operate. Of course they're biased, everyone is biased, that's the whole point of self-interest.
The only thing miners are the arbiter of is how they apply their hash power. Code will be written to support that, either by them or someone else of their own will. No one is dictating _anything_ to anyone. Everyone is free to leave the system or modify it to their own liking. There just happen to be _natural_ limits to which of those modifications can offer security.
No one can stop the miners from changing the rules they follow, just like no one can stop you from changing the rules you follow. If they could, the system would no longer be decentralized. No one can decide what code is run or written except those writing the code. Everyone can decide how they will participate in the system. No one is required to support the participation of any one else. Math grants the participants aligned with the greatest work proof a measure of security unavailable to anyone else. Rules supported by a minority of the total work proof cannot offer the same security. "One CPU, One Vote" is the best mechanism known for determining which rules have the support of the majority.
@_date: 2017-10-06 20:14:03
You need a majority of them to be honest. Each block they commit to the chain is promise to honor the state of the ledger represented by all the proceeding blocks, at least until they are presented with a *provably more true* state. If they are dishonest and do not keep that promise, they can rewrite the history of the ledger. The economic incentives of Bitcoin are constructed in such away as to make that malicious action less profitable, but you cannot know all of the incentives the majority is considering.
The power to establish concensus through proof of work provides the miners an ability to reach concensus on any topic they want, including changes to rules on how they will reach concensus in the future. This is a *natural right* they have by virtue of controlling their hash power. You don't have to agree to the rules they come up with and you don't have to accept the concensus they achieve with their work proof. But when they signal for commitment to making a rule change, you should hold them to it. Honesty is a measure of how your future actions align with your previous declarations, how well you keep your word. If miners are not honest in their commitment to change a rule, there is no reason to believe they will be honest in applying other rules in the future.
@_date: 2017-10-11 22:06:52
BCH implemented an EDA to speed the rate of reduction to help minimize the length of time that BCH is unprofitable to mine as a minority chain utilizing the SHA256 consensus network. This ability to make difficulty "drop like a rock", along with irrational market sentiment over Bitcoin scaling, has probably helped prop up the market value of BCH. Without a persistent majority share of their consensus network's work proof, BCH is insecure, vulnerable to malicious actions by the majority of the network. S1X will face similar risks, though it plays out a little different.
Without a hard fork to change difficulty adjustment, "dropping like a rock" on the S1X (legacy) branch means something different. For starters, it must wait 2016 blocks between adjustments. EDA causes BCH to adjust difficulty *faster* the less work it receives. Where as S1X's inherited difficulty adjustment means it takes progressively longer.
BCH broke backwards compatibility with BTC transactions,  which  prevented  replay across chains. S2X *may* offer opt-in replay protection, but that remains to be seen. For the 2016 blocks before the first difficulty adjustment, since S2X transactions can be replayed on S1X and they can have lower fees due to S2X increased capacity, the S1X mempool fills with these replayed transactions. Users wanting to get transactions committed on the S1X branch specifically will need to use constantly growing fees to have them included in S1X blocks. That might sound profitable for S1X miners at first glance, but unless S2X includes replay protection, those high-fee transactions can be replayed on the S2X branch as well, which will have higher total block fees while charging less per transaction. Presumably these conditions pushes market value to S2X and reduces value of S1X. This price difference siphons more of the S1X miners to the S2X branch, resulting in a feedback loop that amplifies all of these effects.
Assuming that the S1X branch does make it to it's next adjustment period, it is limited to a 75% drop in difficulty. That's a pretty significant reduction, but if the market value has already suffered, that may not be enough of a drop to bring miners over. It's going to be another 2016 ever-slowing blocks, with ever-increasing fees, and a market value affected by that feedback loop before another 75% drop.
This could all be made worse if some of the S2X miners direct hash power at the S1X branch and maliciously manipulate it. They could, for instance, orphan every block containing replay protected transactions to ensure those all high-fee-paying transactions can only get confirmed on S1X if they're also available to replay on S2X.
Let's say S1X makes it to the first difficulty adjustment and market value is high enough to entice miners to switch over. This is indeed a very interesting situation. The miners could start to swing back and forth, just like with BCH, S1X would experience accelerated block discovery until reaching the next difficulty adjustment where it could jump back up a maximum of 4x. That would put it back at the original difficulty. Unless the market value has rapidly increased during those 2016 blocks before the adjustment back up, S1X will once again be unprofitable to mine and miners go back to S2X.  S1X would be starting the second cycle at an even even lower value the the first cycle, increasing miner loses during the non-profitable period and amplifying the feedback loop all the more.
If, during the S1X high-profit period, a majority of miners work on the S1X branch, there is the possibility that S2X users recognize that the SHA256 network has become dishonest, verified by majority hash power extending mutually exclusive branches of the BTC chain. They may decide to hard fork a second time, abandoning the consensus network. In this case S1X gets to have all the hash power of the consensus network. But this is no win for S1X. They'd have won the battle to lose the war. In order to operate trustlessly, Bitcoin needs an honest consensus network. No matter what the market price is, no matter what their coin is called or which symbol it trades under, S1X will be forced to hard fork to their own new consensus network or give up the properties that made it Bitcoin.
@_date: 2017-10-22 14:12:12
Consensus is achieved by extending blocks through proof-of-work. Unfortunately, your full node does not contribute to the Bitcoin consensus process. You can be sure that your wallet is following the rules of your choice, however.
@_date: 2017-10-05 15:10:47
It is undesirable to have two chains, that is the crux of the NYA/S2X fork. If a miner believes that S2X is the new valid ruleset for Bitcoin and has signaled accordingly, it is a logical impossibility for them to honestly extend the S1X branch. Miners use their work proof to confirm and and  arrive at concensus on which one of a mutually exclusive set of ledger histories is valid. To the extent that any of the nodes signaling NYA at the time of the fork event ever mine against the S1X branch, they will be doing so dishonestly. As Bitcoin relies on a majority of hash power to operate honestly, neither side of the S2X debate should desire the work proof generated by dishonest miners.
@_date: 2017-10-29 07:18:54
This is a circle, let me try one more time. Really, try to put aside your preconceptions and take in what I'm saying, it's pretty straight forward. Just *consider it* for moment.
Regardless of the rules used to extend two different chains, if they share PoW, you can calculate their relative share of the total work proof. Yes, the blocks they build are invalid on the other chain, but that doesn't matter. You can still compare the relative power. Only one of them can have a supermajority of that total. At any time, the workers extending the supermajority chain can start to follow the other chains rules and disrupt it. With an big enough majority of current workers, a smaller portion of it's work is required to disrupt the minority chain, potentially crafting a chain **completely valid according to the minority's rules** that overwrites the entire history of that chain. The supermajority does not use previously expended work proof to do this, it uses brand new work.
@_date: 2017-10-10 18:17:37
They're irresponsible, why would you _want_ them to be responsible for the security of your property? What *entitles you* to encumber them with that duty?
You keep coming back to this idea that someone is stealing from you, and say that I am defending it. The only thing you've pointed to as stolen is market value, something that by definition you don't own and are not entitled to. I don't condone anyone stealing from you, and certainly not in damaging you or your property. Are their actions damaging to the Bitcoin network? Probably. But you don't own that either, nobody does; tragedy of the commons.
I do absolutely defend anyone's right to offer a competing property even if it damages the market position of my, or your, property. If they replay my transaction, it's no problem to me because I make no claim of ownership to the coins on the other chain. I could make a viable claim to such ownership, possessing the private keys for the coins and all. But if I am careless enough to *assign* possession of those coins to someone else, no one, and certainly not the miners of that alternate network, have stolen them from me.
**Personal. Fucking. Responsibility.**
@_date: 2017-10-15 23:56:43
Some CEOs represent companies that control hash power. Decentralization demands those companies have autonomy over the hash power they own. Any one else, individual or group, exerting control over how that hash power is applied, superceding the owners' autonomy, would be detrimental to decentralization.
Hash power must be coordinated in order for there to be _any_ planning of Bitcoin. If the companies owning the majority of hash power, represented by their CEOs, must be able to exercise autonomous decision making, what other result is possible?
If the decisions they reach and the results of those actions are not to your liking, what recourse do you have?
@_date: 2017-10-27 03:59:48
I won't think any less of you for it. I assume everyone is after my bitcoin like children trying to steal that leprechaun's Lucky Charms.
@_date: 2018-02-28 20:47:34
Thank you for taking the time to respond.


I am not convinced that mitigations intended to increase potential route diversity adequately compensate for the *change in kind* between the complete-graph topologies on which onion routing has  proven itself and the complexly-restricted topology to which Lightning applies it.
Best of luck with your endeavors!
@_date: 2017-10-22 19:07:44
There is one consensus network, which is the miners. They signal not through packets on a network, but through the construction of blocks. They need to broadcast these blocks, as well as receive transactions to include in them. The network that full nodes and other wallets connect to is one way to enable this. Miners also communicate over the FIBER network, which provides faster distribution of new blocks. They could also receive transactions through any other means; there is no need that transactions be broadcast _before_ inclusion in a block as the block itself will be broadcast.
@_date: 2017-10-31 01:04:20
What performance and security bottlenecks would exist with 800 nodes. How would the fact that many of them are sybils affect their ability to service the network?
@_date: 2017-10-27 03:17:15
Figure I'm doing my part by not trying to trick them into following a minority chain. The rest is kinda on them.
@_date: 2017-10-05 15:16:18
If miners signal their intent and fail to follow through, they have demonstrated blatant dishonesty. Bitcoin relies on an honest majority of miners. Neither side of a fork should desire that their hash power is provided by a majority of provably dishonest nodes.
@_date: 2017-10-21 04:53:19
1 CPU = 1 vote is holding up exactly as it was meant to. Why isn't your CPU contributing work proof if you want to have a say in how Bitcoin goes?
@_date: 2017-10-05 15:41:23
Any miner signaling for NYA/S2X at the time of the fork event is declaring that further extension of S1X is an invalid alternate history of the Bitcoin ledger. Having done so, it is a logical impossibility for them to honestly extend the S1X branch. To the extent that NYA signaling hash power remains or returns to S1X post-fork, it will be a demonstrable display of dishonesty. Neither side of the fork should desire to depend on the work proof provided by a majority of dishonest nodes.
@_date: 2017-10-31 18:50:53
That's an unbacked assertion counter to the stated intent of many in a position to act. It may end up that you are correct, but your unwillingness or inability to construct an evidenced argument for it is not encouraging.
That's ok, though. You don't owe it to me.
Also, it was inappropriate of me to characterize your interaction as an attack. My immediate interpretation of the conversation was colored by the 'delusional' comment, but your subsequent messages contain no overt attempt to offend. Thanks for the dialogue.
@_date: 2017-10-07 07:55:30
My suspicion has always been that the end game was to convince governments or government-like entities to provide the majority of hash power. Just as we rely on the competing self-interests of miners to drive honest cooperation in concensus gathering, perhaps to even a greater extent, these parties can be assumed to have some level of sovereignty at stake for which money is a proxy that they would not risk their influence by acting dishonestly.
@_date: 2017-10-21 05:18:45
Nodes, or 'full nodes', as most people tend to think of them these days, are fully-validating wallets. They don't do anything particularly special. They can be useful for distributing the blockchain (assuming the correct port is exposed), however, all that work they do to _validate_ has to be redone by anyone else downloading historical blocks from them. They have no means of enforcing rules for anyone other than their operator and do not contribute to the network's consensus.
@_date: 2017-10-31 18:31:18
Cool, it sounds like you're confident the system works like it's supposed to. Why are you attacking me for exploring potential scenarios where the outcome is not favorable to your preference? It would be far more valuable (and fun!) if you could point out the flaws in my reasoning. If that's not motivation enough, it would also be a much bigger blow to my ego than telling me to go back to r/btc.
@_date: 2017-10-10 19:43:36


Cool, thanks for pointing that out, I can work with that. 
Absolutely, if you claim ownership of those coins through unique possession of the relevant private keys, per the rules of Bitcoin, B1X, and B2X, they belong to you. If someone takes those coins from you without your express consent, they will have stolen them from you. I think we're in agreement on this point, correct me if I am mistaken.


That is what a transaction (with strangers), in any currency, is. A replayed transaction cannot send the funds to an address of the miners' choosing, that is controlled by the cryptographic properties of the transaction's signature. 


*Your* signature, generated by the private key uniquely controlled by *you*. The receiver is not even a total stranger, at a minimum you know that it is the owner(s) of the matching address on the intended chain. The miner on the unintended chain has claimed the fees paid, but the nature of the transaction implicitly assigns those to whomever mines a block containing them in a compatible chain. Are we still in agreement?
Now, for a given transaction, a miner may have no way of knowing for which chain a compatible transaction was intended. Could they have chosen to use an incompatible transaction format to make this easier on you? Absolutely! Do they have a *duty* to do so, a responsibility for which you can hold them accountable? I think we may diverge here, but I contend that *they do not*. In fact, their *value proposition* may hinge on backwards compatibility of transactions; the very value you wish to extract using your ownership claim.
Assuming you disagree, with my assessment, by what *authority* does their duty to make it easy for you to prevent transaction replay derive? Who is in control of that authority and thus able to enforce judgement against them for failing to fullfil their responsibility?


Sabotage is far too imprecise of a word to argue against. Some forms of sabotage may rise to the level of criminal, to be sure. But that would require damage to the actual property of a victim. Market value is not the property of the owner, is a dynamic quality of the property they own. Yes, unfair or illegal competition can and does lead to lawsuits, but to be successful (at least ostensibly and in the American legal system) those lawsuits must show that the defendant had a legal duty which they failed to uphold.


Coca Cola is a registered trademark, protected under the authority of the Federal Government of the United States of America (and I assume many other countries as well). If you are under the jurisdiction of the United States, their authority imposes a legal duty on you to comply with trademark law as it has set forth. If you market your product in violation of that mark, the registered owner can sue for redress and injunctive relief as enforced by that authority.
See, that was easy. Now, do the same for Bitcoin.
@_date: 2017-10-15 22:45:15
If the actions of those people alone dictates the future of Bitcoin, then Bitcoin is only as decentralized as their autonomy in decision making. If their actions are not enough to determine the future of Bitcoin, where does that authority lay and why so much concern over how *they* chose to act?
@_date: 2017-10-29 05:38:20
An opposing chain may be invalid per some rule, but that does not invalidate the work proof used to build the chain. You can't fake work proof, that's why we use it.
The supermajority is of **cumulative** work proof. The chain with a simple majority of *current* work spent extending it will either *have* or *be approaching* the supermajority of cumulative work proof. Only the chain that has had &gt;50% of work applied to it over a given period will have the supermajority. The eventual immutability of the Bitcoin blockchain can only be realized if it maintains that supermajority position. As Bitcoin is predicated on the creation of that immutable ledger, one might even go so far as to say _the chain built from the supermajority of work proof may not be Bitcoin, but it is the only chain that **can** be Bitcoin._
Bitcoin Cash has never had the supermajority of cumulative work proof. In fact, as chains receiving less than a majority of work **must**, it has been falling behind Bitcoin in this metric. On occasion the EDA rules of that chain and particular market incentives have presented opportunities where it was profitable for a majority of work to be directed toward extending it. During these temporary phases, the cumulative work proof of BCH begins to *approach* that of Bitcoin's supermajority. Not that it has gotten anywhere near catching up. On a longer scale, BCH has been losing ground in terms of cumulative work proof to Bitcoin at an *accelerating* rate.
Ethereum uses a different proof-of-work algorithm than Bitcoin, B1X/B2X, or Bitcoin Cash. Direct comparison of cumulative work proof is difficult, if not impossible, between different work algorithms. You could construct some weaker comparisons using proxy measurements such as total expended energy, but there would be many confounding variables, such as relative efficiency at converting energy into work.
@_date: 2017-10-10 02:43:49
The cryptographic properties of Bitcoin ensure no one can steal your coins on B2X any easier than on BTC. If you're claiming ownership of the coins, you've also got to take the personal responsibility for protecting them. That means not broadcasting transactions valid on that system that you don't intend to spend.
Any one can spin off a new fork at any time, even one that permits violation of the cryptographic properties for direct coin theft. I'm guessing that if you don't care about those forks, you don't claim ownership of those coins or worry about anyone stealing them. Why do you care about B1X?


That is absurd, no one is *taking* anything from you. Market value is what someone else is willing to *give* you in exchange for the thing you do own, your coin. You don't own the value of your coins, it's not theft that the market values your coins less today than it did yesterday. Markets fluctuates constantly and for many reasons, is it theft every time your property loses value? How do you even quantify who is to blame, the market itself, who ever introduced something that people value enough to value your thing less,  or the people who don't think what you have to offer is worth what it was?
I'm not pretending anything and I don't have that strong of an opinion on the S1X/S2X split. Either one will work well enough for me. What I am concerned about, and why I engage in conversation, is that the concensus network Bitcoin uses remain reliable. That requires the users to act rationally and in their own self-interests. We've already seen that the SHA256 network lacks *loyalty* to Bitcoin, being willing to sell it's work proof to Bitcoin Cash for short-term gain even if it damages Bitcoin.
We're about to find out if the economic incentives of Bitcoin are enough to ensure that the concensus network is *honest* in its signaling. If it ends up that it isn't, and Bitcoin is to remain a trustless, decentralized currency, users will need to take personality responsibility and economically punish the network. Yes, this will hurt market value for some time, and yes it will require a lot of hard work to rebuild. But the other choice is to give up the properties of Bitcoin that ever made it special. And for what, that you get to keep calling whatever that thing which remains *Bitcoin*?
Personal responsibility can start, in part, by running a full node, but that only gives you the ability to observe the signaling of the concensus network. Since it's largely impractical for most people to participate in concensus directly now days, we're left with the real test of the Bitcoin experiment, the economic incentives. I've observed from recent discussion that many people have taken to the idea that their full node gives them some kind of input into or even collective control over the concensus network, and I worry this belief may lead them to eschew the actual influence they *do* have.
@_date: 2017-10-11 07:15:07
Weird, the consensus network is able to achieve consensus even with no users. How can it do that if consensus requires users to select a network?
@_date: 2017-10-06 21:14:54
You need the majority of hash power to be honest. This has been recognized since the very inception if Bitcoin, it is the entire basis of the mechanism that allows us to transact without trust. The non-mining nodes are far, far less important as they can't prove anything to you, or me, or anyone else. The fact that we cannot rely on each other's nodes is the reason miners generate work proof. They use that proof of work to establish concensus on the state of the shared ledger. If they are dishonest, they can tell us one state then change it later.
When we transact, there is no agreement that each of our nodes, or any of the other thousands of non-mining nodes, will accept the transaction. Bitcoin works because we agree to accept the concensus of a given network of miners who will confirm the transaction into a shared ledger through their proof of work. We rely on honest application of validation rules by a majority of that network. But we need not *trust* them, as dishonest behavior is provable. If we care to not have our ledger rewritten after our transaction has been confirmed, we should not agree to using the concensus achieved by hash power with a dishonest majority.
@_date: 2017-10-27 21:19:20
The established consensus rule is simply that consensus is established by a cumulative majority of hash power. Everything else is about how to signal with that hash power so that it can be accurately measured. You're free to count it however you want, but if you decide to use a minority of the work proof as a consensus mechanism, anything you build from it will be open to manipulation and attack by a known-to-exist majority. Not exactly suitable for a trustless, decentralized currency.
If you don't have the majority of existant hash power, the signalling protocol doesn't matter. The consensus you achieve is of poor reliably.
@_date: 2017-10-07 19:08:22
Remember that Bitcoin is an experiment. We don't actually know that its economic incentives are sufficiently tuned to ensure that honest participation is the most rational and profitable approach. It must continuously prove itself, forever.
The whitepaper really only describes the concensus network. That was the new and unique thing that Satoshi was describing. This has lead to some people getting mixed up over the term 'network node' and mistakenly think non-mining 'full' nodes are somehow participants in the concensus mechanism. The whitepaper doesn't go into detail about how to change proof of work because that means building a new concensus network. That is obviously not a function of the existing network, especially in the event that its participants no longer believe there is an honest majority with whom to reach concensus. The whitepaper states it over and over, the network's concensus is only valid when the majority of participants are honest. It is an unstated assumption that if the axioms supporting the concensus method are not true (i.e. that a majority of the participants are not honest) that it's not worth participating in.
A dishonest majority is a complete and irrecoverable failure of the concensus network. Once a dishonest majority exists, you cannot descern them from an honest majority except by carefully watching them to ensure they uphold the rules they tell you they will follow. 
@_date: 2018-07-03 02:05:54


To be honest, I was far less well-informed as to the regulatory environment back then. From what I remember, the lack of value transfer between third-parties in the activity of mining convinced me fairly quickly that it did not qualify as money transmission. In fact, when I began to research Lightning Network it wasn't even something that I had bothered to consider and had casually dismissed the idea on those occasions I saw it brought up. It wasn't until I chanced across a video discussing Informal Value Transfer Systems and how money transmission laws were reshaped in the early 2000's to better equip regulators to monitor them that I gave concept more than a passing thought. I was struck by the similarity between diagrams of the basic IVTS structure and those presented by Poon and Dryja. 
Looking more in to it, I realized the similarities ran deeper than the surface. They both involve intermediaries that send and receive value on behalf of third parties. IVTS often involve the transfer of value between intermediaries in abstract ways, decoupled from the currency inputs and outputs at either end, such as invoice manipulation or the trade of goods. This could almost be considered a type of (not-quite) atomic swap. Unfortunately, I can find little to distinguish Lightning Network from an IVTS especially in the qualities that apply to money transmission.
I'm not particularly concerned about the moral or ethical implications of  users acting as money transmitters, should that be the final determination. My personal outlook is flexible enough to accept that other are free in their actions and it would be unreasonable to assign any culpability to the users of a money system due to the actions of others.
From a legal perspective, my concern is mostly practical. Satoshi took great effort to remain anonymous, the corporate-affiliated promoters of Lightning (not claiming all are corporate-backed or that corporate involvement is a bad thing, mind you) tend to be less so. Development and promotion of the concept is unlikely to be of issue, but encouragement to engage in a specific criminal activity can itself be a crime.
It will certainly be interesting to see how the regulators end up classifying the activity and how enforcement is used by the state. I suspect that the earliest cases will be similar to those we've seen related to the use of Bitcoin in regulated activities: as means of leverage to seek additional evidence in support of other enforcement activity or as a supplemental charge to enduce plea agreements in cases having only minor overlap with the issue. Long-term, however, ignoring or explicitly exempting Lightning routing from regulatory oversight risks undermining the intent of those regulations on a grand scale. I'm not convinced the state will simply shrug it off.
@_date: 2018-07-02 21:38:47
My views have not changed significantly. While I have not followed progress exceptionally closely, I have kept an ear to the ground and check in occasionally. I am not aware of any significant moves towards resolving the privacy concerns I raised regarding the application of onion routing to a restricted topology overlay network. Direct comparison to Tor is still a common talking point, despite the obvious differences. I don't believe the BOLT documentation has been modified to properly reflect the limitations to Lightning's routing privacy.
There are two highly touted features with an uptick in publicity that I believe have the potential exasperate the existing risks associated with adversarial peers. 
The first is Autopilot, the automatic selection of channel peers by the client software. This strikes me as a rather inappropriate mechanism for a decentralized, trustless network. No matter the selection criteria, users are at the mercy of their node developer to implement the selection in their best interest. I understand the desire to reduce UX complexity, but that is a bad habit to engrain in users and opens the door to all types of abusive behavior. 
The second feature that I believe has the potential to worsen the existing issues is Atomic Multi-path Payments (AMP). By splitting single transactions across multiple routes and failing all of them if any one is unable to complete introduces a new _fault-injection_ mechanism for adversarial peers. It has the potential to expand their capabilities to manipulate route availability and offers new ways to disguise the intentionally induced failures that can be leveraged to help deanonymize transaction participants.
As a slight aside from technical risks, I'm disappointed to see no evidence of action by the major corporate proponents of Lightning Network to reach out to financial regulators seeking a clear, definitive, and legally applicable statement of how transaction routing on Lightning Network would be classified. Based on my own research and communication with FinCEN, it appears inevitable to me that routing of transactions for third-parties over LN constitutes the regulated act of money transmission, at least within the United States. If my assessment is correct, it would be exceedingly reckless for the public-facing representatives of the many organizations working directly on Lightning Network implementations to encourage the users to engage in illegal activity. If they strongly believe that LN routing does not qualify as money transmission, it would be wise to direct some resources to establishing that fact through an unambiguous exemption from the relevant regulatory agencies in different jurisdictions. If they believe LN routing has a high-likelihood of qualifying as money transmission but should receive explict exemption, then starting the political pressure to do so early would be better than later.
@_date: 2017-10-08 20:32:43
How do you know which is the valid order of transactions? Do the miners just *tell* you and you *trust* them? Or do they do something else to *signal* that a majority of them have reached concensus on the order? Since you require miners to order the transactions in the first place, against what are you validating the order they provide?
Let's check out the whitepaper and see if it gives any hints on how to accomplish that.




Now I know it says 'nodes' there, but since only mining nodes can "[work] on creating the next block in the chain" this is obviously referring to miners.
Maybe the author of that paper also offered some clarification on it after publication.


@_date: 2017-10-31 18:18:21
If your bitcoin doesn't have the majority of miners contributing hash rate to it, wouldn't it be a joke as well?
@_date: 2017-10-05 15:48:33
You don't have to trust the miners to be honest, but the majority of miners **must** be honest for the security of the network to be assured. The breakthrough that makes Bitcoin possible is that through Nakamoto Concensus nodes can trustlessly prove their honesty. If they instead decide to use that ability to visibly and undeniably operate dishonestly, it is incumbent upon Bitcoin users to find a new source of work proof to secure their shared ledger.
@_date: 2017-10-05 19:06:10
This has nothing to do with a signed document, other than the clarity that it provides as to the miners' intent. Nakamoto Concensus does not consider the opinion of anyone other than those contributing the work proof by which it establishes concensus. And no one else can or should be held to follow a concensus in which they did not participate. 
But those who have signaled - and continue to signal - have conclusively and definitively announced their intent to modify the rules by which they operate. They have committed this decision to the very blocks that record the collective wealth of Bitcoin. If they do not follow through, we have no reason to believe that they will honor the state of the ledger represented in those blocks or any future blocks they may work on. Do you simply want to *trust* that they won't act dishonestly again?
@_date: 2017-10-10 04:19:45
Just an idea:


Nah, that could never work.
@_date: 2017-10-09 18:54:43
Can you explain that to me a bit? If B2X forks off, you've still got all your BTC. What is it you're worried about them making off with?
@_date: 2017-10-05 19:50:37
Interestingly, accepting work proof from miners who choose to disregard their signaling after achieving concensus means providing an economic incentive to act dishonestly. This is obviously counter to the goals of Bitcoin.
The miners have made their bed. They either lie in it or lie to us. The next move is ours.
@_date: 2017-10-10 04:12:45
Let me rephrase that more precisely. I must have the approval of existing contributors, through their exceptence of my contribution, to earn the right to participate in concensus.
That is centralization in a nutshell.
@_date: 2017-10-26 00:32:25
This will link all of your addresses. That may not be desireable.
@_date: 2017-10-06 22:23:56
Security against what?
Cryptography secures ownership and transfer of coins, which is otherwise static. Ideally it could take care of everything, but there is a problem that cryptography can't overcome - without trusting a third party, how do we come to agreement on the current state of the ledger so that users don't spend already spent coins?
Proof of work based concensus only secures against double spends. It does this by providing us a method to trustlessly agree on the state of a shared ledger.
It is necessary that all participants are able to see a copy of that ledger, and the non-mining nodes assist in that. But we don't trust any particular source to provide an honest accounting, so we have a network where we try to connect to a sufficiently diverse group such that we can eventually recieve proof of the present and past state of the ledger. It's also helpful to use that network to hide the source of our transactions and to ensure that they reach a majority of miners to ensure rapid inclusion in the ledger, but that's not required so long as it reaches enough to be eventually included.
The non-mining network serves important functions, but at best, it is ancillary to the security controls imposed by cryptography and double-spend protection provided by the shared ledger. Non-mining nodes cannot trustlessly prove any thing to any one on their own, not even their rejection of transactions or blocks. Non-mining nodes are _so_ bad at their role in the system that we have to connect to a whole network of them to ensure we find enough non-malicious one to be effective. Worst of all, it's nearly impossible to distinguish between healthy growth of the non-mining network from an attack! Thank goodness they are not relied on for security, they are without a doubt the _weakest_ component in the system.
What non-mining nodes _are_ good at is letting their operator validate transactions *for their own use*. They're also vital for checking on the miners to ensure they are following the validation rules they claim to. Non-mining can't enforce the rules miners follow, but they can catch the miners misbehaving and capture evidence of that misbehavior recorded by the miners own work proof.
@_date: 2017-10-07 17:36:42
The attack in the situation you describe is not that of the miners, but by whomever has convinced the users that they can rely on the work product of a concensus network willing to find concensus on mutually exclusive statements. Participants in the Bitcoin environment are expected to operate in a rational and self-service manner, and a majority **must** for its security properties to hold. If the concensus network used by the participants ever becomes controlled by a majority willing to rubber stamp contradictary statements, they must abandon it. That is the only disincentive we have at our disposal. If we instead pick sides and fight it out, we are altering the economic incentives of miners, financially encouraging them to act inconsistently.
@_date: 2018-07-03 20:50:17
I don't know that we yet have sufficient data on which to base such models with much accuracy. To facilitate privacy, the design of the network intentionally obfuscates details which could aid in that type of analysis. Given sufficient emperical measurements it should be possible to make relatively robust assumptions based on statistics and heuristics.
For example, we could consider the public properties of a node (e.g. individual channel funding, overall funding, number of channels, averge channel lifespan), its relationship to the network (e.g. routing fees, diversity of immediate peers, hop/cost-distance from source/destination) and reputational data (e.g. transaction failure rate when included in a route) to hopefully find a node model with some predictive capability. If that is successful, we could apply it more generally to nodes for which we lack reputation information to arrive at reasonable assumptions about their reliability based on features we can observe.
We could also start to look at how network conditions affect the assumptions. With sufficient nodes sharing information about the transactions they are engaged in, a general sense of the network activity could be obtained. The easiest patterns to detect would likely be cyclical rhythms, but it may even be possible to get a feel for directionality or currents within the flow of funds. Some of the most valuable information could be collected during spontaneous events, as these might reveal when behavior can be expected to deviate from baseline models at a higher rate.
Without that kind of data, I think we're left to make assumptions with very little support. u/YeOldDoc's 2x funding is as good a place as any to start, fitting the assumption of balanced channels. I might suggest that be increased slightly to account for minimum balance requirements meant to ensure both peers have direct interest in the channel at all times. I don't think this will be highly predictive, though.
@_date: 2017-10-27 21:28:53
How does the economic activity flowing through the node have any bearing on it's ability to disincentivize malicious actions by the miners? A fully validating node can detect and alert on those actions regardless of any other activity.
Even if every full node stopped relaying maliciously mined blocks, the miners would still push them out and all the non-full nodes would just get them from the miners. What specific actions can full nodes perform to enforce a disincentive on the miners?
@_date: 2017-10-27 04:10:33
I make no claims to sainthood. I am a fairly average individual attempting to maximize my self-interests through rational and honest participation in the Bitcoin space. As with most financial matters, I do my best to minimize emotion and take an analytical approach. Certainly I fail at that occasionally; it's just such an exciting technology!
@_date: 2017-10-08 17:28:12
Why do you rely on them for the order of the blocks?


Litecoin miners achieve concensus on the state of the the Lightcoin ledger. I have no idea why you don't support Lightcoin, but that is your free choice and and I support you in it.


The miners have not declared a signal they intend to represent opinion on the election of Donald Trump. They very well could have reached concensus on the matter using some signal known only to the majority, but unless they reveal that signal, we have no way to verify it. Regardless, the social contract backing the legitimacy of the American government has not agreed to use the concensus of Bitcoin miners to resolve the matter of presidential election.


*Yes, exactly!* Additionally, we can monitor their subsequent actions to see how they comport with their stated intentions, that is to say, measure the honesty of their signals. That gives you and I a great basis by which to choose if we want to use their concensus network for our future transactions.
It doesn't matter if the signals they send have any bearing on the Bitcoin protocol. Those signals are not meant for you. The signal Bitcoin cares about is that the *cumulative majority* off hashrate is used to signal reliable intention of future concensus.
@_date: 2017-10-22 14:42:13
No, it's impossible for anyone else to positively identify the rules your node is running. It can be _inferred_ based on the user agent string, but that is trivial to spoof.
@_date: 2017-10-07 05:50:45
Intention is the closest thing you can get to commitment in a decentralized concensus system. There is no central authority to enforce any course of action, you can only penalize violators after the they have deviated from their stated intent.
Signaling miners have always been free to do whatever they want with their hash power, and what they've chosen to do is achieve concensus among themselves to change the rules by which they validate blocks. There is always the potential they won't follow through, but why would you rely on their concensus on the validity of the future state of transactions when the previous blocks are filled with coinbase messages demonstrating their dishonesty?
The miners have made their bed and now they must lay in it. Even if they come crawling back to your bed, why would you want anything to do with them?
@_date: 2017-10-06 16:03:51
Not sure what you're getting at. S2X is a protocol change, making S1X invalid. An honest miner will not extend against an invalid block.
@_date: 2017-10-08 16:39:28
You don't need to agree with the concensus of the miners. Unless you're mining, you are not part of the concensus network and have no direct involvement in the concensus it achieves.
You and your full node are absolutely free to refuse the work proof of the concensus network containing the vast majority of the world's SHA256 hash power. You're free to accept the work proof of a concensus network comprised of a minority share of the world's SHA256 hash power (though this would be insecure). You're even free to accept the work proof of a concensus network in which the majority dishonestly signals their intent to each other (though this would be unreliable).
I am also free to make those decisions. When you and I transact with bitcoin _we must agree with each other_ on the concensus network we will use to represent the state of the ledger against which we are transacting.
@_date: 2017-10-08 20:00:24
So **your** node defines the rules of Bitcoin? That doesn't sound very decentralized. If you, or I, or *anyone* decides the rules that define Bitcoin, it is not a trustless system.  
Your node follows the rules that _you_ want it to follow, as it should. Likewise, my node follows the rules that *I* want it to follow. We don't trust each other's nodes to be following the same rules, so how can we be sure that we are operating from the same current understanding of the ledger and agree on the state of that ledger after we transact? Bitcoin proposed that we mutually agree to abide by the majority concensus of the mining network, signaled through the collaborative effort they apply to building a chain of blocks containing our transaction and sufficent work proof such that only a majority could have built it.
Having come to that agreement, you no longer need to care if my node accepts your transaction, or even sees it. I and no longer need to care if your node accepts my transaction. We have effectively removed our nodes from the equation. So long as the majority share of the concensus network's work proof is used to extend a chain containing our transaction, we have fulfilled our agreed terms.
If one or both of us feel the majority of the concensus network will not fulfill its role of including the transaction, building upon the resulting block to extend the chain, and honor that concensus in the future, we should not agree to use it. Any concensus network which has signaled concensus on an intent to change its rules at a specific time and has not followed through is not sufficiently reliable for us to trustlessly transact using its work proof.
@_date: 2017-10-29 04:52:48
Agreed (pre-edit). I said as much in my comment. But different rules doesn't prevent us from comparing cumulative work proof between different chains sharing PoW. Even with different rules, only one chain can have the supermajority of total cumulative work proof. 
@_date: 2017-10-29 22:09:41
Sure, that could be sufficiently specific.
Sorry if the questioning was misleading, as I am not in a position to make such a trade. I was seeking to better understand the implications of your publicly announced offer. Thanks for making the effort to clarify.
@_date: 2017-10-27 20:24:48
Miners don't want to relay directly to other miners? What's that whole FIBRE network about then?
@_date: 2017-10-07 06:10:14
The work that they do is demonstrate their honest intent to honor the transactions against which they worked. They provide proof of that work, to say in essence:


The work itself is meaningless. It has some specific properties to make it hard to perform and easy to verify, but otherwise it doesn't accomplish anything in and of itself. The proof that they were willing to expend the energy to do the work what's important. It's important because, if the incentives of Bitcoin are properly tuned, a rational actor should determine that their self-interest is maximized through honest behavior. And the measure of honesty is that the transactions the blocks contain are true.
By signaling their intent by placing messages into coinbase transactions, the transactions that reward them for honestly maintain the ledger, they have littered the blockchain with a special kind of transaction. Most of the transactions we regularly deal with involve using cryptographic proof to validate. These special transactions are validated by the miners following through on their signaled intent. To do otherwise will leave the blockchain full of transactions containing provably false information.
Any miner who would extend a chain of undeniably false transactions cannot be relied on to honestly maintaining the Bitcoin ledger. If the majority of miners are so willing, the only option to recover an honest majority is to reject the miners' work proof and abandon them for a new PoW.
@_date: 2018-07-05 15:24:11


@_date: 2017-10-06 23:26:22
The validation that non-mining nodes perform is only useful to the node and it's operator. They can express their acceptance of a block by re-transmitting it, but no other node trusts them and must validate the block for themselves.
Non-mining nodes play absolutely no role in confirming transactions. There is not even a way to measure how many nodes have validated a block. Confirmation is not measured by number the of nodes that have validated a block, but by its depth in a chain of blocks containing sufficent work proof  that it could only have been generated by a majority share of the mining hash power.
@_date: 2017-10-26 00:30:08
Developers control their repos. Nobody controls Bitcoin beyond their own involvement. That is decentralization.
@_date: 2017-10-07 07:36:26
When everyone is participating in a concensus network and you believe the majority are acting dishonestly, you would necessarily need to stop mining against their blocks or would become dishonest yourself. I suppose you could keep working on the honest chain, but the majority will eventually win with their dishonest chain so what's the point? Refusing to extend the dishonest chain, and obtaining from extending *any* chain once it it hopeless to recover is equivalent to abandoning the concensus network.
While a dishonest majority can not affect the validity of sufficiently confirmed transactions, their attacks can disrupt the network to a point of unusability. The simple presence of a dishonest majority, once proven to exist, is enough to render the affected concensus network unsuitable for its role of establishing the state of the shared ledger.
They can double spend their own coins, or assist others in double spending. They can decide to censor transactions, immediately or retroactively. If I want to transact with you, I have no way to know if you're part of the dishonest concensus network capable of executing an attack or in cahoots with them and likely to benefit at my expense from their behavior.
Once the network has been proven to be dishonest, the cryptographic controls on the ledger provide Bitcoins users the opportunity to move the ledger to a new concensus network and restart it at an agreed upon point. Until that new source of concensus is found, however, the old network is unusable for trustless transactions.
@_date: 2017-10-16 01:01:52
That is entirely tangential to what I posted.
@_date: 2017-10-10 04:07:43


Hashcash is a proof-of-work system, but it does not establish distributed concensus. Satoshi borrowed only a general implementation detail from Hashcash, specifically the application of two successive cryptographic hash functions on a set of data (work to do) targeting an output below a given value (how to measure and prove the work was done). There is a good bit more to decentralized concensus than *how* to generate proof-of-work, a technique that had been around well before Hashcash.


That is a horribly unreliable and insecure measurement. Unsuitable for establishing concensus. Satoshi said as much:


@_date: 2017-10-23 03:48:33
I don't think that is an accurate representation of the design and expectation of Bitcoin. The following is a quote from a response Satoshi wrote to a question raised on his initial announcement email for the Bitcoin whitepaper.


network grows beyond a certain point, it would be left more and more to specialists with server farms of specialized hardware. A server farm would only need to have one node on the network and the rest of the LAN connects with 
that one node.
It was always known, _and expected_, that mining would consolidate to a limited number of participants. And that's ok. The incentive structure that Bitcoin provides is meant to limit the responsibility of miners to honest participation in reaching and maintaining consensus on a single valid history  of a shared ledger. Miners cannot create transactions out of thin air and thus cannot steal coins directly. The ledger itself is portable between work proof networks. If miners *ever* use their hash power to dishonestly signal consensus, Bitcoin users are able to destroy the value of their hardware investments by rejecting their proof-of-work.
Because of their highly restricted role, miners would have to go spectacularly out of their way to dishonestly signal consensus. The one job they have, to select the valid order of transactions, is arbitrary; so long as they follow the longest POW chain, they **literally** cannot be wrong. The only other thing they can do to provably display dishonesty is to signal intent for their future actions and not follow through. This is particularly meaningful at the moment since the vast majority of miners have signaled their intent to change the permitted block size per NYA/S2X. Agree with that rule change or not, if miners fail to uphold that consensus, they will have demonstrated - in the hardest, yet only possible way - provable dishonesty in their consensus signaling.
@_date: 2017-10-10 03:26:57






To even be *considered* a proposal must first be *approved* to become a BIP? This is not decentralized.
How is voting handled? How do we ensure each contributor is a unique entity entitled to a vote? If you must be a contributor to vote, but must have the approval of the existing contributors to contribute, is this really a trustless distributed concensus?
The process above sounds ok for *an* implementation of a concensus protocol but woefully inadequate for managing the protocol itself. Yeah, I know *reference implementation*. But everyone is free to run any code they want, and we don't even have a reliable method to come to concensus on how many uniquely owned nodes running which rules are out there.
@_date: 2017-10-23 02:49:13
_Most_ new transactions are broadcast through the wallet node network; though that is mostly by convention. The network as it exists now is sort of devolved from the original P2P network that was used when nearly all nodes mined. When you hear about transaction accelerators, those are alternate, direct-to-miner submission services. Instead of broadcasting your transaction, a miner may provide a submission method that, for a fee, will include your transaction in the next block _they_ mine. The transaction will still eventually be broadcast to the whole network once the miner has successfully mined a block containing it. However, they can charge a fee for that service, incentivising them not to broadcast the transaction before mining it into a block.
@_date: 2017-10-10 14:36:50
By definition, there is no stopping anyone from having say in the development of a decentralized protocol. Participants in the network completely control the code they use. That is why "absolute security" is not a requirement of the network. The only hard and fast requirement is that the majority of participants be honest in their signaling of concensus. Everything else, including the rules that that determine just what it is they're coming to concensus on, is necessarily up for negotiation.
Whether or not people like the rules the network decides to use is of utmost importance. If you don't think the rules are sufficient to keep the participants honest, don't use the concensus signal their network generates.
The concensus network is not a proof-of-stake democracy, it is a natural proof-of-stake plutocracy. Miners get a vote equal to their share in wealth of the concensus networks currency - hash power. This decoupling of the concensus currency from the value token it tracks is a key component in establishing the economic incentives used to entice honest operation. All participants in the concensus network have  a stake in it, and no one besides the participants controls how they generate concensus, by design. Any belief that you do is an illusion of control.
Why would you trust such a network to reach concensus on your behalf? Because it is really expensive to operate and it is good for *nothing* else. That last bit is important here:
we require the majority to come to concensus, most of the network *must* be supporting our use case at all times or it becomes unreliable. If the network becomes unreliable, either because the majority are not working on our use case or because the majority are not honest in their concensus signaling, we can, should, and must stop using their concensus signal. Since the network is good for nothing else, the wealth that gives them power within their plutocracy is no longer valuable to anyone outside of it.
If protocol development were instead controlled by a meritocracy of developers, as you have proposed, you lose this tremendous economic lever keeping the network honest. The developers need have no stake in the plutocracy. You have no verifiable way of insuring they're looking out for your best interests. You don't even pay them, how easy would it be for them to fall under control of the miners, anyway? No matter how qualified someone is at software development, it has no bearing on their ethics. The best programmers would be capable of secreting malicious side effects into the code they generate that would be difficult to detect and even harder to prove.
We could defer the decision to the market, but who do you think dominates _that_ plutocracy? The corporations whom you don't trust and, even more so, the central banks that can manipulate the exchange rate *at will*. They may debase their currency at the same time, but what do they care, you've traded all your wealth in Bitcoin for their now-worthless fiat. These are not the economic incentives you're looking for. These are the conditions Bitcoin gives you the tools to fight against. In the market of money itself, "voting with your wallet" is an other illusion of control, fed to you by those who can manipulate the share of wealth represented by the promissory notes you carry.
Please, do not stand on the sidelines. I'm not asking you to shut up and take it. Use the economic lever at your disposal to ensure the concensus network you use remains honest and reliable in its signaling. If they signal to change rules in a way you don't approve, stop using the work proof they generate. If you are able to convince them to invalidate their concensus in favor of the rules you prefer, you haven't won anything besides control over a provably dishonest, and thus broken, concensus network.
@_date: 2017-10-09 22:22:06
Nodes can lie about their version and the rules they enforce. Nodes are also incredibly cheap to spoof, so you can't just rely on a majority of nodes to indicate concensus. Is there no way to come to concensus on updates before your node stops working?
And still, that's getting ahead of yourself. How does Bitcoin come to concensus on what should be included in a new version?
@_date: 2017-10-21 04:57:10
That's just silly. Once the split happens, their blocks will be ignored by the &lt;10% non-S2X miners and any non-S2X fully-validating wallets. Before the split, their blocks are totally valid to everyone and _shouldn't_ be ignored.
@_date: 2017-10-10 17:09:33
I know, and that's a great ideal. But it isn't possible, or at least no one knows how to do it yet, not efficiently. If it were, the ecosystem could just come to concensus on the state of the ledger.
Bitcoin is the product of this realization: it is impossible for an open (free to participate), trustless (honesty is verifiable, or rather dishonesty is provable), and distributed (all participants are free to persue their own self-interests, run whatever rules they want) system to reach a reliably honest majority concensus. There must always be a compromise in one or more of those features. By focusing the compromise on one aspect, the cost of participation, we *can* construct a system which uses the other two properties to ensure honesty. We can make a distributed concensus system in which it is *exceedingly expensive* to participate (thus limited to those willing to invest in it) and leverage participants' self-interest (in seeing returns on that investment) by paying them in a currency tracked through the honest concensus they achieve (providing that return) and threatening to destroy the value of their investment (the economic 'incentive') if they prove dishonest.
The trick to making it work, Satoshi found, was to decouple the concensus currency from the value token. Other proof-of-work cryptocurrencies had been developed, but the need to constantly increase the difficulty and the fact that the use of the value token required participation by generating work proof, meant that it constantly becomes more and more expensive to use and secure. A centralized clearinghouse can help control the cost, but that is no longer decentralized.
Its ok to use Bitcoin without mining, not everyone needs to participate in the concensus network. It wouldn't work if everyone did. Its ok to use Bitcoin without running a full node, you're just not taking part in *observing* the concensus network to watch for evidence of dishonesty. You **can't** use Bitcoin with a dishonest concensus network, not because of anyone's say so, but because it is a defining feature of Bitcoin. Whatever that system is, regardless of what anyone calls it, regardless of what symbol it trades under, it isn't *the Bitcoin*.
@_date: 2017-10-05 18:37:57
I make no such assertion that miner concensus on how they will validate future blocks in any way dictates what other participants in the Bitcoin system must do. But it does limit the options available. Having reached concensus on a rule change, the miners have effected a situation where they can either act honestly and follow through, or prove themselves dishonest contradicting themselves.
Bitcoin users are absolutely free to continue purchasing work proof from anyone who will supply it for their preferred version of the ledger. However, because the miners have reached this concensus there is no possible future in which S1X can have a majority of the existing hash power provided by honest nodes. That majority simply does not exist, and logically **cannot** exist as it entails the miners proving their previous dishonesty.
@_date: 2017-10-26 00:55:25
Miners _can_ change whatever they like. Just like you or I can. They can even come to a distributed majority consensus on those changes, something far harder for us, the reason why consensus mining had to be created in the first place. This is desirable; this is decentralization. Everyone has full control over their participation and nothing else.
If miners can't change whatever the hell they like, Bitcoin has become centralized and failed. If miners make changes that are unpalatable and users don't abandon their work proof, Bitcoin has demonstrated it's incentives structure is insufficient and has failed.
@_date: 2018-02-27 18:26:15






Although I'm happy to see this issue acknowledged, the coverage given glosses over the potential impact of a restricted topology. In particular, the length of a route is immaterial in the event that an attacker is able to control the available hops, which is the case for malicious LN peers. This is not a trivial implemention difference, rather it is a change to fundamental assumptions of the scheme.
u/cdecker, are you familiar with any published research that evidences the privacy guarantees of onion routing as applied to a restricted topology network?
@_date: 2017-10-09 18:25:11
Satoshi invented the proof-of-work concensus system used by Bitcoin because before that there was no known method for reaching decentralized concensus. How is a non-governance system supposed to come to concensus on issues of how to change its rules? How will we know when that concensus is reached and what the decision is? 
@_date: 2017-10-11 19:29:55
That's all well and good, but you're forgetting that any consensus outside of a Nakamoto Consensus network has no control over the actions of that network. This is by design.
Nakamoto Concensus is not a bounded process, it is continuous. Pre-Nakamoto Consensus is no longer usable for determining the qualities of the SHA256 proof of work consensus network. Nor is it desirable. The consensus it achieves is measure in majority support over a length of time. It is an emergent property of the network and subject to change over time, but the historical record of consensus at a previous time is very hard for a dishonest majority to change, approaching impossible the older the time in question. If an alternative consensus can be enforced on the network, it could alter the historic record of consensus.
Bitcoin attempts to use specific incentives to ensure that commitment to Nakamoto Consensus is the best strategy for maximizing honest participation in the system by making that the most rewarding strategy. If another strategy can compromise that consensus, replace or override the consensus it achieves, the system has failed. It is exceedingly difficult to enforce any other consensus on the decentralized participants of a Nakamoto Consensus network, you must convince a majority of power to agree to your external consensus. It is impossible to do so by force and maintain the network's decentralized nature.
You can use other forms of consensus to form a new Nakamoto Consensus network. You can't use them to alter an existing one without destroying its useful properties. Those properties ensure that no one but the participants in that network have any direct control over its consensus. The rest of us simply have no say, no matter how many of us agree.
The useful output of Nakamoto Consensus for Bitcoin is its honesty. Without that, we cannot trade. Because we can only verify honesty by observing dishonesty, we make it impossible for the network to be dishonest unintentionally. The only thing they need to do is agree on an order of transactions and maintain a record of that consensus over time. If the majority comes to honest consensus they literally cannot be wrong, it is a decision left entirely in their hands. This has a side-effect  in that they can, at the risk of proving themselves dishonest, a feat otherwise impossible, arrive at consensus on any topic, including how the network will operate.
Since commitment to their consensus is the most rewarding strategy, and proving themselves dishonest destroys the usefulness of their consensus to us, it is rational and desireable for them to use the consensus they achieve to decide on how to operate. Having arrived at that consensus, it is necessary that they commit to it. If they want to back out they can reach consensus on an different course of action, but due to work-time requirement of their consensus mechanism, they eventually reach a point of no return.
This is a big responsibility for them, but its one that we have left to the consensus network, absolving ourselves of control in order to make it useful. If they seriously mess up by reaching consensus to do something ultimately damaging and are unable to achieve consensus on an alternate plan before the point of no return, they're in serious trouble. They could rely on a consensus of users to *overlook* this one incident of dishonesty, but once an another form of consensus can override the consensus of the network itself...
@_date: 2017-10-07 17:26:43
If there is no concensus behind S2X, there is no concensus behind Bitcoin. The only measure of concensus is that reached by the application of a majority share of work proof generated by the concensus network, the miners. No other concept or definition of concensus is a part of Bitcoin.
Users of Bitcoin are free to not accept the concensus reached by the network. If you believe the majority of that network can be relied upon to validate transactions in a manner you find suitable, you absolutely should not use them as a source of concensus when transacting your cryptocurrency.
But I urge you to consider this. If the concensus network, just the miners, has reached concensus to change the rules by which they operate but they do not follow through, what cause can you have to rely on them enforcing any other rule now or in the future? 
@_date: 2017-10-06 22:28:09
Sorry, mining nodes, the only ones able to trustlessly signal concensus.
@_date: 2017-10-05 16:21:42
No doubt. And miners are free to lie about a lot of things. But if they are dishonest about how they will achieve concensus moving forward, that future concensus cannot be relied upon  to honestly record the Bitcoin ledger.
@_date: 2018-07-03 03:25:55




It is important to note that the hash which the subsequent block header contains will **not** be of the data as presented here. The hashes that link one block header to the next are _only of the header_, not the full transaction data.
Transaction data does _influence_ the header content and consequently its hash. That influence is difused through many, many rounds of hashing, however. The transactions contained within a block are indirectly referenced in the block header through inclusion of a _merkle root_. This value is the result of pairing all the transactions and building a tree-like data structure - this could also be visualized similar to a tournament bracket. Each transaction is hashed, then that value is hashed with its neighbor. Once all the top level leaves have been hashed and combined in this way, the process moves down the tree a level, hashing the previous outputs with their nearest neighbor. This continues until the entire tree has been hashed - the final two branches are combined and hashed, resulting in the _merkle root_.
It is not sufficient to examine a block header to know what transactions it contains. That information must be communicated independently. The merkle tree structure makes it possible to prove a known transaction (or, more specifically the hash of the transaction) is included in a given merkle root without requiring knowledge of all the transactions it contains, but this does require knowledge of the hash chain which leads to it. Although you can prove the existence of a specific transaction within the merkle root, it is computationally infeasible go backwards and check for the existence of a specific transaction (hash) unless you already know every other hash from which the root is derived.
@_date: 2017-10-27 20:19:36
Doesn't just _one_ full node fully validate 100% of transactions?
@_date: 2017-10-22 19:03:01
If you broadcast transactions, even using a Core full node, without replay protection, they are likely to be included in both branches of the fork. If you don't care about S2X coins or if you think that S1X and S2X represent the same ledger, this is not a problem, perhaps even preferred. If you think S1X and S2X are or should be distinct tokens and you want to extract independent value from both sides of the fork, it would be inadvisable to transact until you have a strong plan for splitting the coins.
@_date: 2017-10-07 15:54:02
Bitcoin solves a problem that had previously confounded other attempts a decentralized currency. We can use cryptography to easily prove and transfer ownership of a coin, but how do we come to agreement on what the current distribution of coins looks like? When some one sends us a coin we need to be able to reference a ledger that demonstrated that they actually have the coin and haven't already transferred it to someone else. But we don't trust each other to control that ledger, nor do we trust any particular 3rd party. We need some way to keep that ledger without having to trust anyone.
The solution Bitcoin uses is to make that ledger available to everyone. Everyone can read it and trace the history of every coin. But we make writing to it hard, or more accurately, expensive. In order to write a new page in this ledger, the bookkeepers must show evidence that they expended a substantial amount of computing power. To compensate they bookkeepers for that effort and to encourage them to keep an honest accounting, they're allowed to generate a fixed number of new coins using a special transaction on the page they write. They can also require everyone else to include a fee in their transactions or refuse to include them. 
By adding up all the expended power used to write all the pages, we can see that at any given time, a majority of the power controlled by the bookkeepers has been dedicated to the task. This demonstrates to us that the bookkeeper have come to *concensus*, the majority agrees that what is recorded in the ledger is an honest accounting and they will honor its balances in future transactions.
For past several months, on top of nearly every page in that ledger, as part of the first transaction that pays them a considerable amount of money, they've written a statement of intent: 


Then they've taken all those transactions, including the statement, and stamped them with the expensive seal they use to signal that they all agree that the contents of these transactions are true and will be treated as true in the future.
If you flip through, you find that message on more than enough pages to satisfy the condition. But when you land on page 494,784 to check if a transaction trying to transfer coins to you actually has control of the funds, you find the page does **not** follow the new rule. You clearly and obviously see that the previous pages of the ledger contain transactions consisting of untrue statements.
If you cannot rely on what those previously stamped pages tell you about how new pages will be written, why would you ever rely on them to tell you an honest state of the transactions they contain?
@_date: 2017-10-09 21:50:18
Replay attacks only move coins on the chain you don't intend to use, in this case, B2X. If you don't like that chain, don't intend to use it, and/or think the market will destroy it, what is the risk? You want to make sure you get coins on a chain you don't want to use?
If the B2X chain *does* kill the BTC chain, there will be only be the one chain. I assume you'd want the replayed transactions to be recorded on it then, or is that inaccurate?
@_date: 2017-10-09 12:30:55
Concensus is signaled through the application of the cumulative majority of work proof extending a chain of blocks. Only miners generate work proof. Only miners extend blocks.
No one else is required to accept the concensus of the concensus network, they don't decide the rules for everyone else, but no one else is participating in it.
@_date: 2017-10-27 03:05:51
Only due to the fact that I have to specify _consensus network_ to help avoid confusion with the gossip circle on which most wallet software communicates and receives broadcasted blocks from the miners.
@_date: 2017-10-09 02:01:16
Lacking proof of that work, I assumed you lied. Nothing personal, PoW || GTFO after all. ;)
Thanks for taking the time to educate me on Bitcoin, I really do appreciate the effort. The conversation has been enlightening, even if not particularly effective at achieving that goal.
Best of luck on your mining efforts, I've got a feeling 2038 is your lucky year.
@_date: 2017-10-10 03:44:43


There is no theft in this scenario, no thieves. Your personal responsibility is to protect your property from _your own_ actions.


I'm not defending any side of any fork, just *everyone's* right to run whatever rules they want.
It's fair that you don't like the rules of the new chain, and you don't have to use it if you don't want. You can just ignore any replay on that chain and not be deprived of anything you own. It is only when you *want* to use that chain, to claim rights to coins on it so you may extract value from them, that you need even concern yourself. To do that, you must accept its rules, within the context of that chain, not because anyone forces you to, but because you chose to.


Excellent, that's the spirit! Just don't let that distract you from monitoring the concensus network maintaining the ledger for the coins you *do* like. They're the ones with the real power to fuck you over. Save some of that vitriol for them if they ever show proof of dishonestly signaling concensus.
@_date: 2017-10-06 19:49:41
The only form of concensus defined for use in the Bitcoin system is that established through proof of work. There is no concensus _besides_ miner concensus. Non-mining participants are not obligated to agree with nor to accept the concensus that miners achieve, but there is no other mechanism by which they can trustlessly establish the true state of the Bitcoin ledger.
Rejection is an utterly useless measurement for Bitcoin; **everything is rejected by default**. It has no significant performance cost, provides no information on the state of the ledger, and lacks any signal of future intent.
Concensus is a measurement of _acceptance_. Proof of work ensures that it is expensive to perform, provides a trustless basis for agreeing on the true state of the ledger, and it signals a node's intent to honor the state it represents unless and until it recieves information on a more reliable state.
Bitcoin exists because I can't trust your node to be honest and you can't trust mine to be honest. Likewise, we cannot and do not trust any particular third-party to be honest. By agreeing to concede to the concensus of the mining network, we can transact without ever needing to trust each other or an intermediary. So long as the network we agreed to resolve the state of the ledger reaches concensus by *its* rules, I don't care if your node rejects my transaction and you shouldn't care if mine rejects yours; that was never part of our arraignment.
What your node *is* useful for, and why it is at all important to the network and not just you, is that it can check that the mining nodes are applying their work proof honestly according to the rules you *expect*, that is to say, the rules they have *told* you they will follow. By design, there is no way to directly force the miners to follow the rules you *want*. If there were, I could not rely on the concensus they achieve to transact with you.
@_date: 2017-10-07 15:03:35
I have no problem with the miner choosing mine whatever they want. All I'm saying is that *nobody* should want to use the work proof of a majority, operating in opposition to their stated intent, as the basis for a concensus network.
But, hey, my understanding of how Bitcoin works is fucking backwards. So I guess the system is perfectly healthy when a dishonest majority controls the ledger.
I just want the users of Bitcoin to take some fucking responsibility.
@_date: 2017-10-31 18:14:43
They are seeking to maximize their self-interests, not sure what more insight into their motivations you need or why you feel entitled to it. Everyone is allowed to have private conversations if they wish. If you believe the incentives of Bitcoin are not sufficient to secure the system, that some participants have the capability to break the incentive structure, then abandon it! If you believe that Bitcoin is working and will continue to work as intended, then participate in the manner you see fit.
They very much may not want your support. They are concerned for their own self-interests, after all. If your interests are misaligned to the extent that you do not want to participate in the same system with them, you don't have to. If one of the resulting systems is less secure than the other, don't be shocked when the more secure of them extracts value from the lesser. If you're right, you get to be the one doing the extracting.
@_date: 2017-10-15 18:56:19
In what sense would their coins become centralized that they are not already? Or perhaps, in what sense are their coins decentralized now?
@_date: 2017-10-25 22:46:09
How could Litecoin ever overtake Bitcoin when they use different proof of work algorithms? How would you compare those different units to determine the most worked chain between them?
Fully validating wallets have their place, but they are not Bitcoin network nodes; the consensus network is not composed of non-mining nodes. Nodes do not have to dictate anything, the valid chain is emergent through the consensus they achieve. The valid chain for a given PoW consensus network is the longest chain, no matter what. 
Wallets are, of course, free to collaborate on treating a different chain as valid, but if that chain does not have the majority rate of existant hash power for a given PoW algorithm - the consensus if that network - it is vulnerable to rewrites by the majority. The smaller it's minority, the larger the risk and the further back in the chain's history a rewrite can affect. If users decide to use a minority chain, they will be transacting with a ledger that lacks the eventual immutability that Bitcoin is meant to provide.
If users are unhappy with the chain produced by a consensus network, they should abandon it's PoW, not in half-measures like pretending their preferred chain is valid in the face of demonstrable insecurity, but through the ultimate punishment to those who have invested in the power behind the network and abused their role.
@_date: 2017-10-10 17:39:53
Absolute security is not a necessity of the concensus network, or any other part of the Bitcoin ecosystem. If it were, it would already be failed; absolute security is not possible. Security of bitcoin currency is through cryptographic controls, something that has nothing to do with the network. Even that security is not absolute, just *really damned good*.
Ultimately it doesn't matter what any group of developers creates. There is no co-opting of a distributed system, there is no control to co-opt! The miners own their hash power and are free to do with it as they will. Concensus network participants can and will run whatever code they want. You cannot verify the code they run or the rules they enforce. You _can_ observe which of your desired rules they *don't* enforce. If they don't enforce the rules you like, you don't need to value their concensus by using the value token they track.
But there is one rule that full nodes are not well suited to validating, which is that the majority of the network be honest in its signaling of concensus. The nature of the protocol always assumes that the chain of valid blocks with the most hash power spent in creating it is *the* valid chain. A successful double spend attack from the majority of the concensus network is indistinguishable from any other orphaning event.
Since you can't use the protocol to validate the honesty directly, you must observe the miners using their concensus abilities for other purposes and see if they comport themselves accordingly. If they fail to uphold the majority concensus in one matter, why *trust* them to uphold it in another? They knew the risk of embedding proof of dishonesty into the blockchain, if we don't respond using the incentives at our disposal when they do so, why would they fear any reprisal for signaling dishonestly on things we *can't* prove?
@_date: 2017-10-05 16:56:01
Honesty and greed are not mutually exclusive. Bitcoin leverages greed to incentivise honest behavior. Honesty is what Bitcoin is all about - it answers the question "how can a decentralized network ensure the honest and consistent recording of a shared ledger?"
What Bitcoin doesn't depend on is *trust*. We don't need to trust the miners to be honest, they can prove and we can validate their honesty. But if they are proven dishonest, their work proof is insufficient to ensure the honest recording of our ledger.
@_date: 2017-10-07 04:37:21
He wasn't wrong about that. You're just using words differently. The important functions allowing for trustless transactions that Satoshi attributes to nodes in the whitepaper are performed by what is now commonly referred to as 'miners' or 'mining nodes'. There are plenty of examples to show that Satoshi realized 'full nodes' would exist and participate on the network, but their contribution to its security was, and still is, so unessential that he didn't bother describing them.
@_date: 2018-07-06 00:37:18
Specific implementation details are left vague to provide consulting opportunities for cartel-aligned developers. I'm sure with appropriate funding far more robust solutions can be identified than anything I would come up with.
@_date: 2017-10-29 03:54:47
You can compare the cumulative work proof of two chains using different rules so long as they use the same work. 
Bitcoin is predicated on the creation of an immutable shared ledger, which is only possible if the majority of the existing work power is put towards extending that chain. It doesn't matter if the other chains follow different rules (that's a given, or else they'd be the same chain); if a chain doesn't have the majority share of the work power behind it, its ledger is vulnerable to the actions of a known majority which has indicated that the chain's incentives have thus far been ineffective at enticing honest participation. This is an unstable position, waiting for conditions to reach a point that some _external_ incentive is great enough to encourage destruction of the chain.
@_date: 2017-10-21 05:49:50
So if _your node_ is powered off, they can still check _their node_ and see that you've received the funds sent in a transaction? If I understand correctly, it sounds like _your node_ doesn't play much of a direct role in receiving transactions then.
@_date: 2017-10-07 05:31:15
Why would he say they don't fully validate? Anyone can validate the blockchain, that's the whole point of a shared ledger. But that validation is only meaningful to the person performing it. Without hash power, you cannot provide meaningful, trustless attestation to the continued validity of the blockchain, and you certainly cannot extend it.
Non-mining nodes' don't *do* anything to keep the miners in check. They *can't* do anything because they play no meaningful role in the security of the network. Their operators can use the blocks generated by the miners as evidence of dishonest behavior, but without a separate consensus system, they're left to rely on trust when using that as proof in convincing others to move to a new, presumably honest, PoW network.
That is why the S2X fork is a meaningful event. The overwhelming majority of miners has been creating coinbase transactions containing a message to the effect that if such signaling exceeds a given threshold they will change the rules by which they validate blocks. They are literally putting their money where their mouth is, using the very transactions that pay them for honest behavior to signal an easily verifiable intent.
That threshold has been met and now we wait to see what they do. If the S1X branch receives more hash power than the S2X branch after the designated block, the ledger it represents will be filled with transactions containing a falsehood. If the miners are willing to validate blocks in those conditions, by what basis are we to believe their validation of any other transaction?
This is a great opportunity the miners have afforded us to observe a display of their honesty. If they do not follow through, then they have shown that economic incentives exist that can convince them to mine inaccurate transactions. If this happens, the only possible recourse if we want to continue the Bitcoin experiment is to fork to a new PoW.
This is how miners are kept in check. And it is the only mechanism in Bitcoin that can do so.
@_date: 2017-10-27 01:48:27
Just point your SPV or light wallet toward nodes you trust to follow S1X. Or double check transactions with one of the many block explorers. Problem solved.
@_date: 2017-10-10 04:15:51
This is starting to sound like a lot of governance for a 'non- governance' system.
@_date: 2017-10-26 19:25:40
Variance and lag is why Bitcoin provides, at best, eventual immutability. With the lack of replay protection between B1X and B2X, and the stated intent if NYA to upgrade Bitcoin not to spin off an altcoin, the ideal situation is that one side of the fork take and maintain a quick lead. With the 100 block maturity delay for coinbase transactions, if even a slim majority of miners sticks with one side at a temporary loss 'on paper' they may still come out ahead if the other chain loses market share once it is realized which has the majority and coins from the minority chain become unspendable or worth less.
The nature of custodial exchange markets do increase the uncertainty of that, however. Since they don't rely on chain-backed transactions, trading can occur without immediate regard for the ability to actually recover the coins. Not to mention all the possible ways exchanges could manipulate their numbers, even allowing trades with non-existing assets. It's an environment perfect for manipulation. Playing out heavily conspiratorial scenarios, one could even imagine miners and exchanges fomenting discord in the social layer to depress the futures of a fork that they plan to mine even in the face of temporary loss so as to acquire large quantities at discount. This would be particular helpful for exchanges who may have debts demoninated in bitcoin or who have lost - through neglect, misappropriation, or theft - funds in their custody.
@_date: 2018-07-02 19:31:25
These are only _potentially suitable_ routes; the methodology only considers total channel capacity, not the current state of channel balance. If the channels are not appropriately balanced, transactions attempting to route through them will still fail.
@_date: 2017-10-07 09:00:42
A dishonest block, say one that was used to perform a double spend, with a majority of hash power can be otherwise valid. Under normal circumstances, the miners assume that their fellow majority are operating honestly and thus that block is treated as true. The problem arises when the miners are aware that the majority are dishonest. The majority will always determine the concensus, so the only way you can progess anything on that network is to concede to their dishonesty.
@_date: 2017-10-15 19:40:14
What difference in properties accounts for these classifications?
@_date: 2017-10-29 06:09:53
See my edit-to-my-edit above.
Edit for your edit: Damn, you make a lot of meaning-impacting edits.
@_date: 2018-07-03 19:34:47
In Hashcash a user _mints_ a single token. Using a similar work scheme, a Bitcoin miner _mines_ a cache of new outputs, some recycled from fees and others out of fresh ore. It could be that Satoshi used _mining_ to differentiate the intent and outcome of applying the similar process to a different context. Were he to borrow the method _and_ term, it would introduce extra confusion.
Speculation is fun, but reading too much into someone's choice of words tends to lead toward erroneous, self-fullfilling conclusions based on initial assumptions.
@_date: 2017-10-25 20:18:33
Tie breaking is a secondary use of hash power, related to its primary purpose of adding a direct cost to the generation of blocks.
Tie breaking is important since blocks are chained but there is latency on the network which means multiple equally valid branches may exist. A single block doesn't tell us enough information to know if the majority of hash power has been expended in it's honest generation. Once extended enough to break a tie, we can be confident that the majority has reached consensus on the validity of that chain.
Reconsider the original argument for longest chain in discussion of the whitepaper:




In that context, it doesn't make sense to say that the rule only applies to valid chains - _being the longest is what makes it valid._
This security model only holds if one, and only one, chain can demonstrate continuous majority support of all existant hash power for a given PoW algorithm. For instance, it's not possible to verify that dishonest miners are not performing malicious chain rewrites during the BCH EDA cycles.
@_date: 2017-10-08 14:22:48
Way to completely miss the use case of concensus in the Bitcoin protocol. Do you often agree to rely on the decision of a provably honest arbitrator only to complain when they don't violate the rules they told you they would follow to express their decision?
@_date: 2017-10-29 05:51:47
Block count is not equivalent to cumulative work proof. Cumulative work proof is a function of block count **and difficulty**. By reducing difficulty, BCH is able to produce more blocks using less work. It is only profitable (occasionally) to work that chain because the difficulty drops faster than the market reacts.
This is mis-read by some people as 'miners following the market', when it's quite the opposite. Yes, miners are seeking to maximize their profits, but they are only able to do so because the market is trailing behind.
Edit to respond to your extended comment: Yes, if you hijacked enough work power to build a chain following the Bitcoin rules with a greater amount of cumulative work proof than the current one, it would be **impossible to prove** to a new participant, one who is only seeing the two chains for the first time, that the current chain is the real one. NSA chain *is* the valid chain.
Edit to my edit: I may have misread your question. If the NSA chain doesn't follow the current Bitcoin rules, it may not be _the Bitcoin_. But as you now have proof of a supermajority work source _not_ incentivised to extend the current chain, it also is not _the Bitcoin._
@_date: 2017-10-23 05:03:53
A chain with less than a majority of hash power can be rewritten by that majority. An attacker need only overpower the hash rate of a chain by a small amount in order to force empty blocks. The smaller the minority attempting to extend a chain, the easier it is to attack in this way. If the attacker significant over powers the chain's hash rate, they can mine an empty or alternate history of the chain some time into the past, opening the door for double-spending transactions thought to be securely confirmed.
This is an area of some continued debate. While I'm still working out the full implications of this line of reasoning, I've begun to gravitate to the idea that there can only ever be a maximum of one valid chain (demonstrating work proof of the majority of hash power) for a given proof-of-work algorithm at any given time, regardless of the ruleset in question. The valid chain must demonstrate greater work proof than any other chain existing at the same time, using the same PoW, or else you can have no assurance it was not manipulated. This is not a popular opinion with people who have a strong interest in one ruleset or the other, but it is the most consistent approach.
@_date: 2018-07-03 17:31:46


Yes, there are a number of explicit exemptions. This is necessary due to the broad scope of the definition that can capture some activities unintentionally. However, most of the existing exemptions don't do much to help LN's case, as they clarify that the exempted activity is not money transmission because it is _some other_ MSB, subject to a different set of regulations. The few exemptions that don't fall into another category of MSB requires that the transmission be ancillary to some other service and that the would-be transmitter have a defined relationship with either the sender or receiver or both.
It is possible that an exemption could be made that covers the LN use case. That would require political pressure to implement and risks undermining the intent of the regulations. It would be an uphill battle and if that was a desired outcome, I suggest it is better to start work on building support sooner rather than later. Of course, this course of action necessitates acknowledging the likelihood that the activity does qualify as money transmission and admitting the risks that imposes for those who violate the regulations.


I don't entirely agree. The structure and high-level mechanics of LN is remarkably similar to any other IVTS. The cryptographic exchange is perhaps unique, but these agencies are used to identifying, understanding, and monitoring unusual methods of value transfer. It would be foolish to assume that they're just a bunch of empty suits who lack understanding of non-standard financial networks or cryptocurrency.


One might be able to make the case that B did not engage in money transmission in the example scenario since he did not receive, but that's beside the point. The contrived failure is simply meant to illustrate that _had_ B fulfilled the A/B contract, he would have received distinct funds from those he transmitted to C.
@_date: 2017-10-05 16:13:36
Hash power does not dictate the direction of a cryptocurrency. Bitcoin requires PoW to secure its ledger against rewriting that leads to double spending and censorship. But it doesn't particularly matter where that PoW comes from so long as transacting users agree to recognize its validity to extend the chain and that the majority of nodes operate honestly. Bitcoin gives us the tools to trustlessly prove honest behavior so that we can agree that a given source of work proof is satisfactory for validating the history of our ledger.
Work proof can be used to reach concensus between nodes over how they will apply that hash power in the future to reach future concensus. This is their right, and a massive responsibility. The miners have done so (or are in the process of doing so); by signaling acceptance of NYA/S2X, they are implicitly declaring the mutually exclusive S1X branch to be invalid. If they fail to follow through, they will prove to be dishonest. Bitcoin cannot not be secure relying on the work proof provided by a dishonest majority. 
@_date: 2017-09-12 13:39:46
At present, Bitcoin still needs to interface with traditional economy and monetary systems. For as long as that holds true, there are gates and there are gatekeepers. If LN is only usable through regulated hubs for legal commerce, it won't necessarily die, but it will quickly become centralized. 
In theory, anyone can make an account on LocalBitcoins and make easy money acting as an exchange. The same regulations hanging over LN relaying, however, complicate that and push the majority of currency conversion toward regulated exchanges. In turn, there is a premium associated with performing unregulated exchange, to compensate the exchanger for their risk.
No one has to push the government to add this regulation, by the way. Money transmitter regulations are already broad enough to cover LN activity.
@_date: 2018-07-06 01:56:45
Parody would probably be an accurate description, but it does have actual application.
Primarily, WitLess Mining is a refution of [a popular justification for why BCH had to fork before Segwit activated without establishing consensus]( It is evidence that BCH is _no less vulnerable_ to this wildly improbable attack. The introduction of new revenue streams that can be realized before the chain has eaten itself may actually make BCH _more_ susceptible.
@_date: 2018-07-03 07:21:39


Nobody wants _that_! Real-time communication limits my opportunities for self-editing and would likely become an even greater time sink.
I've been considering hanging up this persona recently. Its already outlived its original purposes and maintaining the desired isolation is becoming tiresome. Worse yet, it seems I've developed reputation or at least some recognizability. That makes it harder to help keep the focus of discussion on a specific topic.
A break would probably be healthy. I'll look into other venues to see if I'm comfortable with using them.
@_date: 2018-07-02 00:31:08
That is one possible concern. Another is that Lighting Nodes are essentially hot wallets, requiring access to the private keys that manage their channels. It is generally against cryptocurrency best practices to load your private keys into internet-connected hardware, _and especially someone else's hardware!_
@_date: 2017-10-29 06:22:42
Clean reply:
No, that is not the result of my analysis. There may be (and I'd argue there certainly _are_) other predicates defining Bitcoin than the immutable ledger. However, if the immutability of a chain is undermined, it cannot be _the Bitcoin._ It is a possibility that _the Bitcoin_ does not, _can not_, exist.
@_date: 2017-10-10 23:33:59
I am not paid to argue any point for anyone, at least not in the context of Reddit conversations. The opinions expressed are my own. I find adversarial discussion like this, on occasion, helpful to form and formalize those opinions. I reserve the right to clarify, modify, or out-right change my opinions should I receive new information or achieve greater understanding. I will endevor to take ownership of my previously held opinions and explain the my reasoning behind my alterations. I also reserve the right to argue both (or more!) sides of a debate. I'm doing it in my head, anyway, might as well subject you to it, but I will attempt to be clear about that at the time.
I'd like to think I have no unsound overriding ideological belief and that I am a rational, logical individual. I know, of course, that I surely have many unexplored and self-blinded biases. Discussion and research of opinions counter to my own are useful in evaluating those biases.
While there is no way for you to trustlessly confirm this, I have many years of experience researching, understanding, implementing, and breaking technical and social systems. I'm pretty damn good at my job, too. I don't say this to exert any authority, that would be useless and counter-productive, but offer it as partial explaination for my unusual conversation style. 
Illuminated? Care to share any insight into your own motivations?
 
All that said, despite my attempts to convey this clearly (too wordy?) our disagreement appears to stem from your assertion that a chain fork under the conditions of S2X would result in 'theft' of your coins. I disagree with that assertion, that's it. The conclusions you draw revolve around that disconnect and misrepresent my position.
@_date: 2017-10-29 08:07:52
But in this case, they're not killing the goose that lays _their_ golden egg, they're killing the goose that lays _your_ golden egg.
The Bitcoin blockchain has _always_ had the supermajority of SHA256 work proof, its incentives have been effective at enticing the majority of work into extending it. Not having the supermajority means the incentives of a minority chain have *already* failed.
**The supermajority doesn't want the coin produced by the minority chain; if they did, it wouldn't be the minority chain.** Users are free to stick with the minority chain and, just like we see with BCH, the supermajority will siphon away their value until they finally give up. If that means they have to produce some coins on the minority chain, they might do so when it's profitable, then use that to reinvest in the coin they do want, where the incentives were *always* more favorable to them. The minority chain's incentives have already proved insufficient to attract work, it is exceedingly and increasingly unlikely that a minority chain would overcome that deficit to regain supermajority of cumulative work proof.
@_date: 2017-10-26 00:48:01
Miners build the blockchain. No one else has a hand in building it. What exactly are you supposing they would hijack?
Just like everyone else, Bitcoin's property of decentralization allows everyone to run whatever rules they want. If majority consensus doesn't land on a result you find acceptable, you're in no way obligated to use that view of the ledger. But if you use a minority chain on the same PoW, your preferred chain will lack the security assurances that Bitcoin provides.
@_date: 2018-07-03 14:54:17


You're absolutely right, however, this isn't about regulating cryptocurrency per se. The act of _receiving and transmitting anything of value for the benefit of third-parties_ constitutes the regulated action of money transmission. That specific action is what the regulators are tasked with monitoring and enforcing, regardless of the value carrier used in its performance.


These are not consumer protection regulations. The ostensible purpose for the broad coverage of money transmission is to detect and interrupt the flow of money laundering and criminal or terrorist financing.


Irrevocable control of funds is not a prerequisite for money transmission. That said, a strong argument can be made that they in fact do achieve such control. When an LN transaction is routed through an intermediary, they receive funds on one channel and forward different funds on another. Once the transaction is complete, they have irrevocable control over the funds received. The obligation to forward transmit funds in order to receive the incoming funds is potentially a strong indicator that they are engaged in money transmission; one of FinCEN's justifications for why mining _does not_ qualify is a lack of such obligation:


@_date: 2017-10-29 06:40:25
It is relevant in estimating the existent work power. The immutability of a blockchain requires that it accumulates and maintains the supermajority work proof. We cannot know the actual amount of possible work output (within certain limits of what the universe can support) so we establish economic incentives to entice previously unknown  and newly created work generators to extend our chain. So long as those incentives are effective, we will have a majority of the work output and an ever expanding lead in cumulative work proof. If those incentives fail, we will not have a majority of the work output and our lead in cumulative work proof versus the total will contract. Once our cumulative work proof is no longer the supermajority, the immutability of our chain can no longer be ensured.
None of this requires the competition be using the same rules. If the workers behind the supermajority chain want to damage our chain, they have demonstrated the power to do so at will. Our security is now dependent on the incentives of _their_ chain to be sufficient to keep them from attacking. But we're the minority, our share keeps falling behind. Eventually, a trivial amount of the work being applied to the supermajority chain could be redirected, **changed  to build a chain compatible with our rules**, to disrupt or even completely wipe out our chain.
@_date: 2017-10-06 03:06:48
Bitcoin can always stop accepting the miners' proof of work. At least they are signaling their intentions regarding a mutually exclusive future. If that signaling proves honest, there cannot be a majority share of hash power securing the S1X chain. If the miners are committing dishonest signals to the blockchain and intend to treat S1X as valid or to alternate between chains, it would require an unacceptable amount of trust to believe they will honestly establish concensus on the state of the ledger moving forward. Either way, if miners persist in their signaling of NYA/S2X until the flag block, the only choice for S1X to retain a secure rate of honest hash power is to fork to new PoW.
@_date: 2017-10-22 21:29:37
Right, what I meant is that the btc1 node no longer announces itself via service bit by default, rendering ineffective the pre-emptive banning provided by Core 0.15.x. 
The &gt;1MB base block size requirement for the S2X flag block  will still be a reliable method for disconnecting incompatible nodes, even if it results in some temporary disturbance due to the net split.
@_date: 2017-10-22 18:56:45
Miners run their own network nodes which can receive broadcasted transactions to be included in new blocks. You need some method of broadcasting transactions, but that client doesn't need to be a full node.
Full nodes are more a type of wallet than anything. They store a full copy of the blockchain which allows you to validate transactions for your own peace of mind. This lets you know if the majority of hash power is following the rules you use. They can also be configured to provide historical blocks to help bootstrap new nodes and to relay broadcast transactions and blocks.
Without extending the chain using work proof, nodes do not contribute to consensus of the network. However, since everyone is free to run whatever code they want, no one is bound to use the consensus achieved by the majority of hash power. You can choose to configure your node to follow a minority chain, and it will disconnect from nodes following the majority when the blocks break conformance with your chosen rules.
@_date: 2017-10-15 19:38:56
Big server farms consolidate miner work power, but doesn't provide them any additional authority over your actions. The majority already have the power to reject any transaction at will, what new powers would be gained through this consolidation?
@_date: 2017-10-07 04:42:00
A chain split is not sufficient. The dishonest majority can always move to the split chain and use their advantage to cause equal havoc. The solution to a dishonest majority is to move to a new PoW.
@_date: 2017-10-29 17:58:44
While I can assume the intent, it can't hurt to ask for a minor clarification. Presuming the fork occurs, for the purposes of this trade what would be the basis for differentiating the coins. You call them BTC and B2X, but those descriptors may have inconsistent meaning post-fork according to the stated intents of different groups.
@_date: 2018-07-05 23:06:51
Attack improvement proposal.
@_date: 2017-10-07 05:01:06
Satoshi predicted that mining would become a concentrated activity performed by a limited number of network participants operating large farms of specialized hardware. This was the expectation for the steady-state of the network since before the genesis block was mined. The theory of security that Bitcoin tests is that with proper economic incentives, the majority of that hash power can be convinced that finding honest concensus on the state of the shared ledger is the most rational application for maximizing their self-interest.




@_date: 2017-10-06 18:37:17
Folding would be *even more* of a reason to 'crush' them. It's  one thing for them to desire a change to the concenus parameters. Everyone is entitled to promote a course of action that aligns with their own self-interests, after all. But having arrived at that concenus, they must follow through. If they fold or alternate between branches, they will have conclusively proven their dishonesty.
The vast majority of hash power has used their work proof to express two concurrent things: that the state of the ledger represented in the chain is the accurate history and they intend to adopt a new rule for validating that history. If one of those signals is proven untrue, we have no reason to believe they will honor the other.
If the majority of nodes continues to signal support for NYA/S2X, the only possible outcome that involves an honest majority is that they treat S1X as invalid. Consequently, under those conditions, there is no possible future in which S1X can have a majority share of the hash power and and a PoW network with sufficiently honest miners. If the miners fluctuate, *neither* side of the fork can have an honest majority - the majority will be proven dishonest.
@_date: 2017-10-21 05:07:18
You keep saying this but I don't get it - how do you use your node to 'receive transactions'? Aren't transactions recorded in a _shared, global_ ledger? At what point have you 'received' a transaction? If your node is turned off, are you then unable to receive transactions?
@_date: 2017-10-31 16:56:12
Miners aren't the market, though. If the incentives of Bitcoin hold, miners should desire to accumulate their wealth in the coin they produce.
When we see hash power shift to BCH during EDA-enduced profitablity cycles, miners aren't _following what the market wants_; they're reallocating their scarce resource (hash power) to most efficiently acquire their desired asset (BTC). They _give_ the market what it "wants" in order to extract profit from an asset that they perceive as over-valued.
If the majority of miners favors one branch while the market favors another, it's essentially a sale on the product that the miners desire. If and when the market corrects, the miners who took the opportunity to sell their undesired asset to acquire more of their desired asset will benefit from a multiplying effect. Even if per-unit value of their preferred coin has a lower exchange rate than the pre-fork coin, they will have increased their holdings by a substantial amount. This may be more than enough to offset short-term revenue loss if it requires mining non-profitably during the fork and any temporary decrease in post-fork revenue.
Without a BCH-style EDA, a minority branch of a Bitcoin fork is unlikely to have much of a future. Off-chain market trades will permit extraction of value limited only by exchange liquidity. Miners are also uniquely capable of unilaterally moving coins on-chain to supply additional liquidity. They have a huge advantage in ability to supply an asset they don't desire and a massive upside to converting it to an asset they do desire. _What the market wants_ be damned if they can supplement their income by selling it while acquiring more of their desired asset at discount.
@_date: 2017-10-10 20:36:54


By signing and broadcasting a transaction valid on both networks, you have explicitly assigned ownership of the coins represented by that transaction on the respective networks. As the sole owner of keys that make such assignment possible, it is your responsibility, and your responsibility alone, to only broadcast transactions that you intend to submit to compatible networks.


Only if he had some legal/moral/ethical duty not to do so. I have no idea *who* you think is stealing from you or who you think should be accountable. You can't know who replayed the transaction, it could have been anyone. You could have prevented it though. You're the *only one* who could have prevented it.
Forget legal authority, what ethical or moral obligation does anyone owe you that they have violated? From where does that obligation come? You act as if you are the sole arbiter of right and wrong. This type of reasoning and the behavior it produces is the reason we have to go to all the trouble of cryptocurrency.


Just not **you**. Because why should *you*, the only person in the world who could have prevented the predictable results of *your own actions*, be responsible for the consequences?
@_date: 2017-10-05 15:53:45
If you have a better meaning of "honest", I'm all ears.
@_date: 2017-10-11 06:58:25
Dirty little secret, there is more than one network in Bitcoin. The operators of the nodes participating in the consensus network have absolute autonomy to run any code they'd like. The same can be said for all the nodes. It's really damned hard to coordinate without a consensus network, though.
@_date: 2017-10-23 06:05:02
Your node only validates transactions in a way that is usable to you and you alone. It will relay transactions and blocks according to the rules you instruct it to follow, but to the rest of the network, your node is just as likely to be an attacker as it is to be legitimate. _All the validation work your node performs has to be redone by each node that receives from you._ This is not to say there is no value in running a node, but regardless of your usage, your node is doing nothing to verify transactions for the rest of the network.
@_date: 2017-10-27 20:49:38
That article only appears to suggest that miners want to know of the next block someone else produces as soon as possible. In my quick read through, I didn't notice any coverage of selfish mining.
@_date: 2017-10-09 03:56:54
Ok, last one and I'm done, promise. Of course you'll only be able to validate that by the absence of future replies...


How do miners have free agency? That's a pretty philosophical question, way too deep to go into when we're killing this thread. I can only say that it is an assumption of the system. The miner may represent a person, a corporation, a government or any other composite actor, but that actor is free to apply the hash power however it wants, according to the whims of what ever decision making process it possesses.


Nope, I'll stick to what I said. Your node does nothing to stop miners from changing they rules they use. It empowers you to detect that they're not following the same rules as you, but only _after_ they've changed their rules (and only if they've done so in a way that *violates* your rules). There is no absolute assurance that they will be reliable in the future.


Let me be very clear, I am in no way try to make this next statement a game of semantics, but this is at the heart of our disconnect: if Bitcoin required trust, it would be worthless. We rely on the economic incentives to ensure the miners signal concensus reliably, and we the users have a nuclear option.


**This** is your early alarm system. Follow me here:
* Miners are free to signal concensus on anything (even if that concensus doesn't have any bearing on anything).
* Their ability to do so is useful to us, so we pay them to reach concensus on the order (and inclusion of) our transactions.
* If the economic incentives we're offering are not sufficent to keep them reliable in their concensus signaling, it would damage our willingness and ability to transact.
* If miners signal concensus that they will do something totally within their power to do (act a certain way) and then they don't do it, their concensus signal was not reliable.
At this point, they haven't, to the best of our knowledge done anything shady, like execute a double spend. They're still faithfully enforcing the Bitcoin rules. However, we have a great big red flag, totally provable, that the majority of the miners are not reliable in their concensus signaling for something totally within their control.
You can continue using these clowns for ordering your transactions if you want, but in this hypothetical situation, Bitcoin's concensus network is provably under the control of a majority that does not respect the concensus they signal. Not a big deal, though, right? If they ever pull a 51% attack, we'll just prove that to everyone and (somehow?) come to concensus to move to a new concensus network. 
51% double spends are *not* easy to **prove** to a person, in fact, it is **impossible**. That's what makes them so dangerous. You can show **evidence** that the double spend occured, but that is not the same thing as proving it. Especially when the double spend is in the counter-parties favor and they're hostile to you. You can't prove it to anyone else, either, since the new order of transactions has a better claim to be the valid order: it has more work proof than the chain fragment you claim was shown to you, none of the concensus rules are broken, and the miners are continuing to build on it.
Even if the miners never go rogue, you can't know either way. If they do go bad, say come under the control of a unfriendly government or banking conglomerate and starve the market by mining only coinbase transactions, 100 years from now, kids learning about Bitcoin in school will look at a simulation of the blockchain and ask *"Why didn't they change networks the first time it proved unreliable?"*  The time to use your nuclear option was at the early alarm. The very first time the concensus network signals majority concensus for something within its control and provably fails to act accordingly. You won't get better, or maybe even another, opportunity to **prove** them unreliable.
I claimed this would be my last post in this thread, no matter how honest you think my intent is, you can never prove it, only disprove it if I act out of accordance. From that point forward, you'd probably be less likely to take me at my word, maybe even distrust me completely. As well you should.
Any concensus network on which the majority is willing to unreliably signal concensus regarding something completely within their control must be met with the harshest of economic disincentive: absolute and utter destruction of their investment. Bomb them back into the fiat age.
@_date: 2017-10-11 16:16:40


As do I. That is the most vital personal responsibility in the system.
One last point of clarification on *why* the responsibility falls on the individual. It will undoubtedly leave more questions than it answers, but I'll leave the option of a final word to you.
This is the only way the system *can* work, assuming it can work at all. It is the nature of decentralization that each participant is fully responsible for their own decisions, actions, and the consequences that affect them, regardless of the *proximate cause* of those consequences.
The decision not to act is still a decision, and standing still (inaction) while the other participants act is a type of action. The *ultimate cause* of all consequence in a decentralized system, what exposes them to consequence, is the first decision and action that every participant makes:  _to participate_. Through their autonomous participation, they implicitly accept the personal responsibility that entails.
These are the rules of the game, not because we *like* them, but because the rules *define* the game. We'd  be playing a different game if the rules were different. Everyone is free to quit the game at any point, though that is a final decision and action which may include its own consequences.
It would be nice if we could play a game where morals and ethics were reliable mechanics. They tend not to be when money, strangers, and secret information are involved. That's why games based on moral and ethical participants usually include law and the submission to it. Decentralized money exists because those games are vulnerable to the corruption of law. And corrupt law is the worst possible outcome. It steals and kills and does all manner of evil *in the name of the participants of the game*.
This game is offered as another option. The game is harsh. It is unforgiving. It can be played by the good and the evil and the rest of us, dispassionately. It is driven by self-interest. But each participant has personal responsibility, and that is better than the alternative.
@_date: 2018-07-03 16:44:21


Not my intent. They have control of the distinct funds at different times. They exchange control/ownership of one set of funds for control/ownership of the other. 
That said, the atomicity of Lightning Network transactions is not quite as absolute as is often portrayed. Under certain failure scenarios (highly unlikely and contrived as they might be) it is possible for a recipient to receive payment without the sender having to honor her initial contract. Let me provide an example as it serves as addition evidence that money transmission has taken place.
Consider a transaction successfully routes (A-&gt;B-&gt;C-&gt;D). D fulfills his contract with C by providing the payment secret, claiming C's funds. C uses the payment secret to complete her contract with B and claim B's funds. Suddenly natural disasters stikes - earthquake, super volcano, giant radioactive lizard attack, all three, whatever - B goes offline, unable to use the payment secret to complete his contract with A. The lizard is relentless in destroying B's city and he is unable to get back online until after the A/B contract expires. D has received the transmitted value, C has been made whole and A never had to pay anything, although she might not have proof that the payment was made.
This scenario is only possible if B and C are forward transmitting value using distinct funds from those they receive. Had the lizard not flattened B's server rack, and the contract had been fulfilled, there would be no material change to the nature of the transaction. The part that failed to complete is independent from the parts that succeeded; its completion or failure does not affect the contracts already fulfilled.
@_date: 2017-10-09 00:14:10




Only that you seem to think that anyone other than yourself should care that your node accepted or rejected something. Nobody cares, nor should they. That's why we use the concensus network. Without contributing hash power, your node's acceptance adds nothing to the miners' concensus. It's not even possible for anyone else to know if your node validated the transactions before relaying a block.
The *only* nodes described in the whitepaper are miners. The whitepaper doesn't detail the entire Bitcoin system, it  only goes in-depth into the distributed concensus network, as that was was the unique invention Satoshi was presenting. You're right, that the line before the quote I used explains how verification is done, and its totally possible, required even, that verification (for ones own satisfaction that the concensus network is behaving) can be performed without running a mining node. But the line *before* that has this to say about nodes:


Your non-mining node doesn't do this. Generating that work proof is how a node participates in resolving concensus. As the saying goes, *sticking feathers up your butt does not make you a chicken.* 
Other than that we seem to agree quite well on *most* of the rest, however you're quite insistent that my understanding is wildly incorrect. We could probably work out the whatever difference remain though clarification of our language, but you have so far been determined to construct strawman arguments, insult my intelligence, and project an air of superiority.
@_date: 2018-07-03 16:12:03


I don't believe splice-in would allow a third party to add funds to an existing channel. As I understand it, splice-in/out is more-or-less recreating the channel, spending some of the funds to new addresses (out) and committing the remaining balance and any new funds (in) back to the channel. It is an on-chain transaction that requires the cooperation of both channel peers to perform.
I suppose, you might be able to coordinate with the channel peer _and_ a third party, but could that be accomplished in a trustless manner?
@_date: 2017-10-31 05:10:35
Censorship resistance is one of the features that makes Bitcoin _usable_, but it does not do much toward securing the ledgers immutability. Both features, however, require a cooperative majority. If the majority is not incentivized toward honest participation on a minority chain (they aren't or else it would not be a minority chain) then _at best_ you can hope that the incentives for mining the majority chain are sufficient to keep them from censoring the minority.
@_date: 2017-10-07 20:54:52
Market participation is not a vote, it's influence. Concensus is not a direct democracy, more like a representative, technocratic plutocracy.
@_date: 2018-07-06 01:11:50
It has been claimed that BCH is _less susceptible_ to the attack because validationless miners would be limited to mining empty blocks, reducing their willingness to collaborate with the attacker. This has been a common justification for why forking before Segwit activation was so important that it could not wait for majority consensus. [This difference was even supported (first identified?) by Bitcoin's Peter Todd at one point.](
I don't know if he's already changed his opinion on that, but hopefully WitLess Mining will convince him that Segwit introduced no new risk that didn't already exist.
@_date: 2018-07-03 22:34:57
Come to think of it... When did Satoshi begin referring to the process of block generation as _mining_? He doesn't call it that in the whitepaper and a cursory search of relevant quotes didn't find _any_ instances of him using the term. 
@_date: 2018-07-03 17:01:31


Conversion of funds is one use case that involves money transmission and a common one in the case of cryptocurrency. It is not a prerequisite, however. In fact, FinCEN's guidance makes the distinction between Exchangers (those who convert funds between currencies, real or virtual), Administrators (in the case of Bitcoin, miners), and Users. Although some activities classify an entity as one or more of these, the guidance is clear that it is the action which matters.


@_date: 2018-07-02 21:59:55
By not implementing the functionality or defining the capability within the protocol specifications. Channel update messages, which inform the network in a limited way of changes to the state of a channel, are push-only and issued at the desire of the channel peers. There is no message type defined as part of Lighting Network to request a channel update.
@_date: 2017-10-31 19:19:29
If the incentives are not sufficient to secure the system from attempts to destroy it, it seems foolish not to abandon it. Bitcoin was a break-through idea, but if the idea is ultimately _wrong_ then it's not worthy of continuing the experiment. Sucks that we have to go back to the drawing board to continue the search for a solution to decentralized money, but on the plus side, we can inflict economic punishment on those who undermined it.
@_date: 2017-10-22 14:15:56
It will as soon as those 2x nodes start pushing 2x blocks. Until then, their blocks are as valid as anyone else's.
@_date: 2018-07-06 01:24:01
We are all Satoshi.
Thanks for the confidence boost, but honestly, this is just flipping Segwit on its head. Instead of decoupling the witness data from the TxID of the standard transaction merkle root and verifying the validation data with a witness commitment, WitLess commitments do the exact opposite - leave the witness data where it is and validate the WitLess versions of transactions using the same commitment trick. Since Segwit is a soft fork we know this can be done without a breaking change to consensus rules.
I've got to thank Peter Rizun, Chief Scientist at Bitcoin Unlimited, for the idea of using selfish mining to partially enforce a soft fork while introducing a short-term economic incentive enticing honest miners to engage in behavior with negative long-term consequences.
Building on the work of those that came before.
@_date: 2017-10-22 14:57:19
Fun is a perfectly valid reason to run a node.
Out of curiosity, since you mentioned it as something that would turn you away from Bitcoin: what would qualify as consensus being broken to you? How would you quantify it? 
@_date: 2018-07-02 21:01:14
Unfortunately the capacity of the channel has no deterministic influence on the state of the balance. There are some other passive mechanisms by which you might be able to estimate the balance available on either side of a channel, but nothing fully deterministic. There is also the complication that channel update messages are batched, resulting in delay of when you receive information and the current state.
Even if you had instantaneous, direct status updates directly from each node on a potential route, the state can change between the time a transaction is executed and when the cascading contracts reach a specific node - for example the balance could shift due to other transactions, the routing fee could change, or the node or either of its peers could go offline. Over time, it may be possible to establish general estimates based on statistical measures or per-node reliability reputations, however these techniques are in opposition to the privacy and anonymity features Lightning is meant to provide.
@_date: 2017-10-08 20:07:40
And that's fine by me. But I can no longer rely on a concensus network that has proven not to abide by its own concensus. You are free to continue using it, you can even call it Bitcoin for all I care. I only urge caution: the majority hash power controlled by a network that does not follow it own signaling is no longer sufficiently reliable for performing transactions.
@_date: 2017-10-08 15:55:42
That's how we, Bitcoin participants, use the concensus miners achieve. By virtue of the fact that they own their hash power, they have a natural right to use it to arrive at concensus on any topic they desire. They've decided of their own free will to use that right in signaling a change to how they will validate transactions. We have a natural right, by virtue of owning the private keys to our coins, to use or not use their ability to reach distributed concensus in the mediation of our transactions. No masters, nor kings, just free people agreeing to abide by common rules.
They're not signaling NYA to us, they're signaling it to each other. We can observe those signals and respond accordingly. If the majority of the concensus network proves to dishonestly signal to itself, it is not a suitable mechanism for Bitcoin to use to order transactions.
@_date: 2017-10-22 15:00:56
That's now a default feature on btc1, no?
@_date: 2017-10-26 13:57:26
The consensus network is unified primarily by it's PoW, and subsequently by the protocols making use of the work proof in establishing a consistent blockchain. The use of different protocols alone does not cause a split in the consensus network, so long as we can still measure the cumulative PoW and compare the relative work-rate between them. **If a sizable number of consensus network nodes disagree on protocol rules, Bitcoin provides a mechanism for majority decision making.** Since we need a majority of the network's work proof supporting a single chain, the chain with the greatest amount of cumulative work proof is the only possible valid chain produced by the consensus network.
Communication on the consensus network comes in the form of extending blocks through the application of work proof. Because miners are the only ones generating this work proof, they are the only ones able to communicate on it, and the only ones able to directly influence the consensus it achieves. That does not mean they dictate the protocol behind the network's valid chain any more than they _dictate_ the chain itself. Each miner is free to run any code they'd like. The rules, like the chain, are _emergent_ through their majority consensus.
Fully validating wallets, SPV wallets, exchanges, markets, Reddit, Twitter, forums, developers etc. all exist in that social layer. As they do not produce PoW compatible with the consensus network, they are all unable to communicate directly with that network. In fact, we don't know of any reliable, decentralized way for these participants to reach consensus among themselves. That is the problem Bitcoin is meant to solve. The solution put forth is to implement specific incentives to entice honest participation and to _defer_ consensus gathering to the PoW consensus network. Lacking its own means of decentralized consensus, it is **vital** that this social layer cannot dictate the rules of the consensus network. That would breach the independence of the node operators and centralize authority in whoever can dominate the social environment.
Networks do not enforce consensus. Networks provide channels of communication. Consensus emerges from the block acceptance signaling of miners through the accumulation of work proof such that it could only have been generated by a majority. Everyone is free to accept or reject the use of that consensus depending on how useful or reliable they find it. Social consensus decision making is not compatible with decentralization. It cannot dominate the decision making process because the decisions are to be made by each individual.
@_date: 2017-10-31 17:07:58
I'm not quite sure the point you're making. A node represents the person who spun it up and acts accordingly. Not that it matters very much as full nodes don't produce any proof of the work they perform since the work they perform is of insignificant value to anyone else.
@_date: 2018-07-02 21:49:25


That is a feature far outside existing capabilities of the protocol and one that has been explicitly avoided. There is no mechanism to query the remote nodes for a current state and revealing state on demand with any kind of specificity may leak information about the routes transactions passing through the node have taken.
Querying availability reveals interest in routing a transaction over a given path, subverting the effort to retain route privacy. It could be obfuscated, but that would likely impact reliability of the results. Perhaps there is a balance where the obfuscation could be sufficient to maintain privacy while still offering enough reliability, but I suspect that most - and potentially all - solutions along those lines are likely to involve a trade-off on one side or the other.
@_date: 2018-07-03 02:40:12
No, and I take a little bit of effort to keep it that way. I'm not seeking validation; rather the resolution of uncertainty.
@_date: 2017-10-07 17:45:04
I know you don't want to hear this, but non-mining nodes don't participate in concensus, they literally don't get a vote. They *could have* had a vote, all they had to do was mine. But that's expensive, so they stayed home.
@_date: 2018-07-03 20:18:27
You might be right - the payer is not concerned with retaining any control of the funds paid. Coordination might be non-trivial, but can likely be accomplished in non-adversarial conditions; after all, what wouldn't your channel have to like about the prospect of more fees from your eventual transactions with the new funds. 
It might be a little disconcerting for a peer if your channel becomes well-funded enough to out-weigh the sum of balances across his other channels, although there hasn't been much discussion of the threats that condition introduces.
It also removes some privacy options - the channel peer will be aware of the transaction between the two parties, in fact the whole network will, although only they will know which of the two were directly involved. It also precludes the use of partial onions or shadow routes to hide the recipients identity from the sender.
I guess that could be suitable for some use cases, where transactional privacy is not highly important.
@_date: 2017-10-31 15:24:14
Hardly necessary when the vast majority of trade happens off-chain anyway. If miners _need_ to move coins on chain in order to sell their B1X assets, they're uniquely capable of doing so unilaterally. Mining blocks containing only their no-fee transactions may be reasonable if they believe the resulting coinbase will never mature. If they're _really_ confident in that, they could even burn the rewards on those blocks and amplify their preference signal.
@_date: 2017-10-22 16:16:51
Just as you have the power to run whatever rules you wish on your node, consensus contributing nodes have the power to do the same. The only control that provides is a hash power weighted influence on the outcome of the consensus reached. Their control is limited only to their own actions; no one is bound to the consensus, especially those who had no participation in reaching it. 
What power and control would you not like to see parts of the consensus try to accumulate that they do not already have?
@_date: 2017-10-31 14:14:35
When the fork occurs, miners will have equal units B1X and B2X according to their wealth stored in BTC. You plan on selling your holdings to depress the profitability of mining on their preferred chain. However, that creates some competing economic incentives. If you intend to convert B2X to B1X, you present an alternative income source - selling you B1X. If miners truly do prefer B2X as their signaling indicates, the fact that you're willing to trade B2X at a discount could be a profit multiplier. They can sell off all of their B1X holdings at an inflated price, pay expenses, convert their profits to B2X at the depressed price, and still mine more B2X. If their majority is as solid as the signaling presents, B1X would end up blockstarved and the value of their newly acquired B2X would skyrocket.
If the BX1 price is high, miners don't necessarily have to mine it to profit from their existing holdings. Selling that asset could offset short-term losses while they mine their preferred chain.
@_date: 2018-07-03 06:50:33
Always happy to share my thoughts. It's not every day someone _asks_ for them first.
Honest criticism is what I have to contribute. I know that Reddit might not be the most directly impactful venue in which to share these thoughts, but it might be for the best. Although I _intend_ to be constructive, I realize I can be a bit relentless. I'm not sure thsr my particular style of criticism would be appropriate if directed to another venue, such as the lightning-dev mailing list.
@_date: 2017-10-10 05:50:09
Participation in the decision-making process requires the acceptance of your contribution by the existing membership. And that's ok for an implementation project. But it is the farthest thing from decentralization. Decentralized concensus has no requirement that *everybody* be able to participate in decisions, just that anyone participating in establishing concensus has a say relative to their contribution. The only ones participating in Bitcoins proof of work concensus network are those supplying the work proof.
For the development of a decentralized concensus protocol, making decisions on how to run the network executing that protocol, I think Satoshi's solution of using the network itself to establish that concensus is satisfactory. Yes, that means that *most* people don't get to participate directly in the concensus process, but that's not a requirement. If the network comes to concensus on rules that we don't like for any reason (big blocks too expensive to validate, small blocks lack capacity, hell no you can't change the block reward) those of us making use of the network's concensus generating capability can reject it and find/create a new concensus network. The threat of us doing that is awesome incentive to make sure they've taken our opinion into consideration, but the actual decision must be left up to the network participants, or else it is no longer decentralized.
@_date: 2017-10-29 06:45:19
If the bitcoin blockchain is not built with the supermajority of cumulative work proof, it cannot not have the necessary feature of eventual immutability. That is something that can **only** be achieved (though not automatically) by the supermajority chain.
@_date: 2017-10-27 01:06:37
I don't think you need to reach in to specific conspiracy theories to believe mass scale market manipulation has occurred and is occurring. Its a wild west free for all, nearly unthinkable that major (and minor) to players in the finance and investment spheres wouldn't be using this opportunity to  test out theories and strategies that would be _problematic_ in regulated environments.
Mining is not immune to manipulation, but the direct effects of manipulation are relatively limited, and the incentives of Bitcoin will (hopefully) be sufficient to keep the majority working on honestly extending the blockchain. The risks are much greater should you choose to use the consensus of a minority chain.
@_date: 2017-10-05 17:38:41
If a majority of nodes are dishonest, they can use their work proof to confirm an alternate history of the ledger. If you see it happening, you may be able to know that the rewrite occurred, but the trustless nature of the protocol ensures that you can't prove it to anyone else. They cannot, nor should they, trust your assertion that the blockchain was rewritten unless you can back it up with a majority of work proof.
I didn't come up with the term 'honest', it's been a part of Bitcoin since it's invention. Satoshi was never quite satisfied with that label as it carries some additional baggage, but its still the best description of what is required of miners.
@_date: 2018-07-06 00:31:08
Ironically, the more confident the userbase is that this attack is not viable the more profitable it stands to be in the short-term.


There is no format change, the initial phase of the attack is a soft fork. The WitLess commitment is only required for blocks produced by WitLess miners so that they may exchange information about their withheld blocks and mine on top of them. Similar to Segwit's Witness Commitment, this is a perfectly valid but meaningless input to the coinbase transaction according to the existing rules. Without WitLess commitment, miners would be limited to mining empty blocks as they could not rely on the transaction information to update their UTXO sets.


This comes in the later phase of the attack when it becomes more of a hard fork. The WitLess Mining cartel cannot engage in that type of fraud until the rest of the network has capitulated to validationless mining. At that point, the protocol will effectivly be modified to use WitLess blocks instead of standard blocks. It will be in the best interest of miners to never expose standard blocks which prove the chain invalid as they would lose the fees and rewards they earned mining it. 
It is likely that confidence in the affected chain will be irreparably damaged by that point anyway. Unlike similar attacks proposed on Segwit, WitLess Mining provides the cartel with potential revenue streams that could be profitable before the cartel has successfully compelled  validationless mining but while user confidence remains.
In truth, this attack isn't particularly expected to work. It is a demonstration that BCH is _no less vulnerable_ to this far-fetched attack than Segwit, in contradiction to claims commonly used as justification for the fork. That said, it might actually have a better chance of working against BCH than Segwit. The exuberant confidence in their coin's security, especially 0-conf, might allow a cartel of miners to maximize earnings early in the attack, subsidizing the revenue lost from temporarily redirecting hash power from a more profitable chain. If nothing else, this lowers the cost of attacking the minority chain as it requires less hash power than a straight 51% while enabling a relatively high capability to double-spend or otherwise destablize that ecosystem.
@_date: 2018-07-05 23:13:52
WitLess Mining is a method to provide an advantage to adversaries that does not require a full 51% attack to potentially be profitable. It may lower the threshold at which maliciously mining Bitcoin Cash becomes economically viable. It also undermines one of the most common talking points used to support the BCH fork in the face of Segwit approval. It is generally applicable to other Bitcoin forks, although tuned to be most effective against those featuring excessive confidence in 0-conf transactions.
I thought that r/Bitcoin might find it interesting is all.
@_date: 2018-07-02 22:36:51
For what its worth, the limitation of the modeling is expected. Given the current state of the network, limited use, and intentionally designed restrictions on collecting relevant stats, the methodology is suitable as a point for further development. I do question its predictive capabilities and it would be informative to compare emperical measurements against these extrapolations. Such research could be highly valuable in establishing baselines for comparison to various network conditions, such as the response to adversarial attempts at manipulating route availability.
Thank you, u/YeOldDoc, for acknowledging that the model has limitations. It cannot be overstated how important the willingness to accept critical input is to improving our collective knowledge. The thoughtful questions you raised in response, to which my own answers were perhaps pessimistic, give me a sense of hope that you care about capturing a realistic and accurate understanding of the network and the consequences of its states. I look forward to seeing how your future analyses build on this effort.
@_date: 2017-10-07 07:44:27
The overwhelming majority of miners has been creating coinbase transactions containing a message to the effect that if such signaling exceeds a given threshold they will change the rules by which they validate blocks. They are literally putting their money where their mouth is, using the very transactions that pay them for honest behavior to signal an easily verifiable intent.
You are right that it will not prevent them from mining where the money is. But if chasing the money leads them to act dishonestly, inconsistent with their stated intent and expressing the validity of mutually exclusive histories, the incentives offered by Bitcoin to encourage honest behavior have failed. Time to try again with a new concensus network.
@_date: 2017-10-11 06:53:35
Forkers are just as encumbered with personal responsibilities as you. However,  I am of the opinion that they have no moral, ethical, legal or other obligation to make the fork as safe as possible for you, your friends, or me. They have a practical obligation to make it as safe as possible for themselves, which thanks to the Theory of Bitcoin, means making decisions and acting according to their own autonomous opinions on what is best for Bitcoin. That theory also gives you means to inflict an economic punishment by virtue of your natural authority over your actions.
If you disagree with their majority opinion, its almost certain that what they consider the safest way possible is in direct contradiction to your thoughts on the matter. There is a finite number of ways that their actions can negativity affect you, and because they owe you no duty, it's your personal responsibility to act accordingly.
It's not ideal, I know, but that's the hard limitation of the solution at play.
@_date: 2017-10-06 18:45:08
It's not just chaos. Miners have embedded their signal of accepting a rule change into the same blocks they use to express acceptance of the ledger history. If they do not follow through and treat the S1X branch as invalid, they will have proven themselves dishonest. If one signal expressed in the already committed blocks was dishonest, we have no cause to believe they will honor the other.
Having siganaled acceptance of NYA/S2X, they must act accordingly or be proven dishonest. If a majority of the hash power is proven dishonest, we cannot rely on its future concensus to confirm the ledger.
@_date: 2017-10-21 05:33:13
So until _your node_ has validated the block containing it, you haven't received a transaction? Is there any way for the sender to know if you've received the transaction they sent you?
@_date: 2017-10-26 01:04:11
It was always expected, and intended, that mining would be consolidated to a limited number of specialists with specialized hardware. Balance can only come from within the consensus network. The self-interests of the participants must be sufficiently at odds as to prevent a majority from colluding in dishonest actions.
Non-mining users of Bitcoin have only one direct economic lever: abandoning the PoW produced by that specialized hardware, destroying the value invested in it. If the consensus network is no longer usable due to changes the miners have implemented, pull that lever!
@_date: 2017-10-22 07:36:58
Although S1X nodes will ignore S2X blocks and disconnect S2X nodes, S1X transactions are still valid in those blocks to the nodes that accept them. If you don't care about S2X coins and plan to ignore them, transaction replay is quite meaningless. It's only if you want to extract value from the split, treating the S1X and S2X coins as distinct tokens, that replay poses any risk. Since S2X is meant to be a continuation of the Bitcoin ledger, not an altcoin, the lack of replay protection is reasonable move. The intent is that only one branch survives, that which gets the most work proof.
@_date: 2017-10-08 12:20:24
They've boldly written their intent to change those rules in the ledger they use to record their intent to honor the transactions that make up the history of Bitcoin. To act against their own stated intent, or even worse to alternate between mutually exclusive truths, is dishonest.
@_date: 2017-10-05 16:49:21
You're right that we don't have to trust anyone, but we do require the majority of hash power to be controlled by honest nodes. Bitcoin gives us the ability to *prove* their honesty in a trustless fashion. Hashrate is only a neutral arbiter so long as the majority of it is applied honestly. Distribution *may* aid in that if you assume that most people are honest, but it is neither necessary nor sufficient on its own to ensure honest behavior. That is why the economic incentives of Bitcoin are so important, they drive honest behavior by leveraging self-interest. It should be most profitable to behave honestly.
The strongest control that Bitcoin users have against dishonest hash power is to abandon it, devaluing the dishonest miners' capital investment. In this way, users may actually be at their strongest when mining is less widely distributed. They can exercise the option to punish dishonest nodes with a minimal collateral impact.
@_date: 2018-04-11 15:28:27
What did I take out of context? Without ASICBoost, Dragonmint operates at 1/4 output, 4Th/s.
@_date: 2018-04-18 13:20:56
AMP, as mentioned by another poster, is what you're looking for, although it doesn't quite work the way described in your example. It would not be enough to have a single 100€ path through which to route the transaction piecemeal. You would need 100 100€ routes available (multipath) and they must all succeed simultaneously or the entire transaction fails (atomic). Due to the requirement that channels are properly _balanced_, in addition to sufficiently _funded_, a single 100€ path would not be sufficient even if the large payment were broken into 100 _non-atomic_ transactions.
@_date: 2018-04-03 04:31:02
Bitcoin uses Elliptic-curve Cryptography (ECC), which does not rely on the intractability of prime factorization, but derives its security from the discrete logarithm problem. ECC keys really are just really big random numbers within a certain range, no need to use primes.
@_date: 2018-04-11 16:53:14
Can version rolling not be disabled? Would it more accurate to say that DragonMint cannot mine without ASICBoost _at all_?
@_date: 2018-04-29 18:36:01


A non-mining node's rejection of a block does little, if anything, to protect the network. Rejection is, quite literally, _doing nothing_. An invalid block is of no threat to the network in the first place, unless a majority of mining capacity is expended in confirming the block and extending the chain by building from it. In which case, the argument that it is an _invalid block_ is questionable. It may not be a block that _you_ accept, but it is demonstrably a valid block of any majority chain which includes it.


This is a legitimate point, if a bit overstated. Nodes are perfectly capable of limiting their transmission rate to minimize load if they so choose; so again, this doesn't really serve to protect them. However, the more nodes willing to distribute the chain, the faster others can acquire it. Furthermore, it is not _strictly necessary_ that a node be bootstrapped by acquiring blocks peicemeal over the gossip network. A chain state acquired by other means can be validated against the latest blocks once processed by a node.
@_date: 2018-04-11 22:40:02
The comment I replied to stated that ASICBoost could only be used on blocks that don't contain Segwit transactions. My reply demonstrated how that was untrue and the consequences if it were. Any intent you're reading beyond that is very much out of context.
@_date: 2018-04-12 03:02:13
Even with the overt method, you can't really prove that a block was mined using ASICBoost, but this has the unusual version that is an expected feature and Halong claims to have mined it.
@_date: 2018-04-03 05:11:53


That was a half-complete thought on my part. I don't think they will, almost certainly not under the clarified rules. Most transactions performed by intermediaries should be nearly tax neutral - BTC come in one channel and go out the other. Fees would probably be considered taxable income/revenue. Where like-kind transactions _might have_ been applicable before the new policy is when intermediaries perform a cross-chain swap while relaying a transaction. Under the 2018 rules, to my understanding, there isn't much chance of having those be considered like-kind, and thus it would be a taxable event. That throws in a complication as rates would have to account for the intermediaries' tax liability.
Edit: Now that I think about it, it could even be problematic for BTC-to-BTC transactions. I'm not sure how fungible the IRS will be willing to treat Bitcoin. Would an intermediary be liable for increased value between when acquire their coin and when they start using it to relay?
@_date: 2018-04-03 04:11:05
Neither the funding nor withdrawal would _necessarily_ be taxable events. The taxable event occurs when you exchange the property for goods and services or otherwise divest it. It is possible that a funding transaction also include, in part or whole, a element of exchange. This is seen in unilateral channel funding, for instance. It is likewise possible to direct the withdrawal to a third-party as a means of exchange, which would be taxable.
A grayer area might be how intermediaries are taxed. Recent changes to the tax code eliminate like-kind exemptions which, on shaky ground for inter-crypto exchanges, seem like they might fit in LN.
@_date: 2018-04-29 19:47:54


Simply knocking mining nodes from the network would not be sufficient to establish an alternate consensus. An attacker would also need to assemble blocks with sufficient work proof to convince non-validating clients to accept their version of the chain's history.
@_date: 2018-04-12 03:13:05


[The BDPL is a poison pill.](
@_date: 2018-04-11 15:35:13
If you're mining solo, you'll still need to use ASICBoost to achieve 16Th/s on the Dragonmint.
How am I fear-mongering? I was demonstrating that **it is possible** to use ASICBoost with Segwit.
@_date: 2018-04-11 14:54:47
_If that were true_, Halong would be dead in the water - DragonMint can only mine 4Th/s without ASICBoost. Covert ASICBoost, achieved by finding merkle root collisions is nigh unusable with Segwit, but there is no technical reason Bitmain systems couldn't support overt ASICBoost through version rolling.
@_date: 2018-07-03 15:32:13


They _had_ control of the forward funds before forwarding. It would be an odd expectation for them to have control of funds after transmitting them to someone else.


Quite the opposite. The intermediary had two distinct channels on which they own a share of the committed funds. Their ownership increases on one and decreases on the other - receiving and transmitting, respectively.


To the best of my knowledge, FinCEN has not given any specific guidence regarding that fact, but has made it quite clear that whatever else mining might be, it does not constitute money transmission. I do not know of any regulations that cover _recording_ the transactions between third-parties.


I am not suggesting they would target LN, only the regulated act of money transmission. That it occurred in the course of routing cryptocurrency transactions over LN is tangential to the fact that the act occurred. It is only pertinent _here_ because we are discussing LN specifically.
Money transmission regulations _have_ been used to go after other uses of cryptocurrency, when those uses have involved the receiving and transmitting of value for the benefit of third-parties.
@_date: 2018-04-11 15:17:26


[From the guy who wrote the driver for it.](


.         


This is almost certainly a software change, not hardware.
@_date: 2018-07-05 22:18:17
I believe this is really only good for last hop. You can't route over hidden channels without a (minimal) trust relationship between the sender and the hidden channel's peers. If you inform the sender of your hidden channel it isn't so hidden any more.


@_date: 2018-04-11 15:01:51
That's why it's called overt. So what if it was made apparent?
@_date: 2018-04-03 04:35:16
[You're one of today's lucky 10,000.](
@_date: 2018-04-29 20:14:59


_I'm_ not arguing that.


If they have the resources to create an alternate chain, they don't need to knock the other miners off the network in the first place. They can just orphan the honest minority.
Sybil attacks are not of limited utility for lack of an ability to execute them; it is no harder to sybil massive numbers of non-mining Bitcoin nodes than it is to do the same for any other P2P protocol. Rather, sybil attacks are ineffective because PoW can't be faked. The victim of a sybil attack only needs to see the honest chain from a single peer to identify the malicious alternative as such no matter how many sybils vouch for it... just so long as the honest chain has the majority of work proof backing it.
@_date: 2018-04-03 05:27:31
Yeah, ECC is a form of asymmetrical cryptography.