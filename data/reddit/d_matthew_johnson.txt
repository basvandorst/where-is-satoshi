@_author: d_matthew_johnson
@_date: 2014-02-14 18:59:53
I've added details on how to actually get the addresses, and have tested...
			BlockPosition bPos = client.getBlockCount();
			BlockHash bHash = client.getBlockHash(bPos);
			Block b = client.getBlock(bHash);
			for (TransactionId txId : b.getTx())
			{
				TransactionRaw txR = client.getRawTransaction(txId);
				// Look for your "in" address and their "out" address and the amount.  When you see these then you know 
				// the real txid.  Note that you have to wait for a block to get generated before you can do this (or 
				// several blocks if your transaction does not make it in to the next block). Also if you used 
				// "sendtoaddress", then you don't really know what your actual in address(es) is/are, but you can check
				// it against all of your addresses, otherwise avoid "sendtoaddress" and use "createrawtransaction"
				// (which I have not done yet...)
				System.out.println("&gt; Scanning inputs for my address in this transaction (" + txId + ")...");
				boolean skip = false;
				for (VIn in : txR.getVin())
				{
					TransactionId txId2 = in.getTxId();
					System.out.println("&gt;   Getting outputs for in " + in.getSequence() + "...");
					// not quite sure how the get the input address other then looking up the last txid...
					if (txId2 != null)
					{
						TransactionRaw txR2 = client.getRawTransaction(in.getTxId());
						System.out.println("&gt;     Getting outputs for input transactions (one of these could be my address)...");
						for (VOut out : txR2.getVout())
						{
							System.out.println("&gt;       " + out.getScriptPubKey().getAddresses());
							System.out.println("&gt;       " + out.getValue());
						}
					}
					else
					{
						System.out.println("&gt;   0 inputs, don't bother looking further.");
						skip = true;
						break;
					}
				}
				
				if (skip)
					continue;	
				System.out.println("&gt; Scanning outputs for their address in this transaction (one of these could be their address)...");
				for (VOut out : txR.getVout())
				{
					System.out.println("&gt;    " + out.getScriptPubKey().getAddresses());
					System.out.println("&gt;    " + out.getValue());
				}	
			}
This is the result I get for sending a coin to mk9KDJPJCzKrek8krb9utsd6U8XQEdXyex on Litecoin Testnet:
    Scanning inputs for my address in this transaction (&lt;TransactionId name="result"&gt;ae21ea6d3322f707a7f02e0e90678d1cd7a2ad3aaa97ef9ff844f704f1b7482f&lt;/TransactionId&gt;)...
      Getting outputs for in 0...
      0 inputs, don't bother looking further.
    Scanning inputs for my address in this transaction (&lt;TransactionId name="result"&gt;d6d9de80edc0c38905f70abd22d0a217eb0395ce2e7ba225bb85ee6e3075573e&lt;/TransactionId&gt;)...
      Getting outputs for in 4294967295...
        Getting outputs for input transactions (one of these could be my address)...
          [&lt;BitcoinAddress name="result"&gt;mk9KDJPJCzKrek8krb9utsd6U8XQEdXyex&lt;/BitcoinAddress&gt;]
          &lt;Amount name="result"&gt;1.00000000&lt;/Amount&gt;
          [&lt;BitcoinAddress name="result"&gt;n2GqrLuzqDVAjNCUnXLzTQS5Du5gcYs2pb&lt;/BitcoinAddress&gt;]
          &lt;Amount name="result"&gt;1.69900000&lt;/Amount&gt;
    Scanning outputs for their address in this transaction (one of these could be their address)...
       [&lt;BitcoinAddress name="result"&gt;miAH9vdKhwyeWaGbXPFnDPv1cqpsYaxj8y&lt;/BitcoinAddress&gt;]
       &lt;Amount name="result"&gt;0.69900000&lt;/Amount&gt;
       [&lt;BitcoinAddress name="result"&gt;mk9KDJPJCzKrek8krb9utsd6U8XQEdXyex&lt;/BitcoinAddress&gt;]
       &lt;Amount name="result"&gt;1.00000000&lt;/Amount&gt;