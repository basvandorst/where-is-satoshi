@_author: deveshaggrawal19
@_date: 2017-07-16 12:42:00
I was able to run your script with a small change
storage.pu(u'gap_limit', 20)
It solved the problem but I cannot make the wallet object till now:


from electrum.wallet import Wallet
storage = WalletStorage('&lt;walletpath&gt;')
wallet = Wallet(storage)
The above code gives the following error:


  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "/usr/local/lib/python2.7/dist-packages/electrum/wallet.py", line 1757, in __new__
    wallet = WalletClass(storage)
  File "/usr/local/lib/python2.7/dist-packages/electrum/wallet.py", line 1564, in __init__
    Deterministic_Wallet.__init__(self, storage)
  File "/usr/local/lib/python2.7/dist-packages/electrum/wallet.py", line 1409, in __init__
    Abstract_Wallet.__init__(self, storage)
  File "/usr/local/lib/python2.7/dist-packages/electrum/wallet.py", line 104, in __init__
    self.load_keystore()
  File "/usr/local/lib/python2.7/dist-packages/electrum/wallet.py", line 1532, in load_keystore
    self.is_segwit = self.keystore.is_segwit()
  File "/usr/local/lib/python2.7/dist-packages/electrum/keystore.py", line 339, in is_segwit
    return bool(deserialize_xpub(self.xpub)[0])
  File "/usr/local/lib/python2.7/dist-packages/electrum/bitcoin.py", line 779, in deserialize_xpub
    return deserialize_xkey(xkey, False)
  File "/usr/local/lib/python2.7/dist-packages/electrum/bitcoin.py", line 773, in deserialize_xkey
    raise BaseException('Invalid header')
BaseException: Invalid header
@_date: 2017-07-16 17:53:48
found it, for testnet
from electrum import bitcoin
this does not create the error
@_date: 2017-07-16 08:50:21
When I did the above, following error is showing whenever I run electrum --testnet -w &lt;walletpath&gt;
Traceback (most recent call last):
  File "/usr/local/bin/electrum", line 379, in &lt;module&gt;
    d.init_gui(config, plugins)
  File "/usr/local/lib/python2.7/dist-packages/electrum/daemon.py", line 283, in init_gui
    self.gui.main()
  File "/usr/local/lib/python2.7/dist-packages/electrum_gui/qt/__init__.py", line 200, in main
    if not self.start_new_window(path, self.config.get('url')):
  File "/usr/local/lib/python2.7/dist-packages/electrum_gui/qt/__init__.py", line 157, in start_new_window
    wallet = self.daemon.load_wallet(path, None)
  File "/usr/local/lib/python2.7/dist-packages/electrum/daemon.py", line 220, in load_wallet
    wallet = Wallet(storage)
  File "/usr/local/lib/python2.7/dist-packages/electrum/wallet.py", line 1756, in __new__
    WalletClass = Wallet.wallet_class(wallet_type)
  File "/usr/local/lib/python2.7/dist-packages/electrum/wallet.py", line 1770, in wallet_class
    if multisig_type(wallet_type):
  File "/usr/local/lib/python2.7/dist-packages/electrum/storage.py", line 58, in multisig_type
    match = re.match('(\d+)of(\d+)', wallet_type)
  File "/usr/lib/python2.7/re.py", line 141, in match
    return _compile(pattern, flags).match(string)
TypeError: expected string or buffer
Other wallets are  working fine.
@_date: 2017-07-16 10:49:10
I am using a standard wallet, I also tried loading an encrypted wallet using the following commands:








This is also giving the same error, could it be that the wallet is encrypted that is why it is happening.
@_date: 2017-07-15 22:07:24
Thanks for the reply I have studied all the docs, but couldn't find a way to increase the gap limit over the json rpc calls, I can increase it from electrum console, but my server doesn't allow that since it does not have gui. How can i import my wallet in a different pytjon console then electrum's own console.
@_date: 2017-07-19 18:47:18
If you can help me, in this again, would be nice of you.
I am able to create addresses using master public key, but I also want to create their respective private keys
I read about pybitcointools, using this I was able to create addresses. It also provide way to create their private key, I think it have. But I am not able to do it, it gives me error, can you help me out.
@_date: 2017-07-19 19:42:32
I'll message you thanks for the reply
@_date: 2017-07-16 10:25:01
Actually I tried the python method, that what inflicted this error, then opened up the file to check what is in there but all the json vanished and only two lines were there, can you help me find what i did wrong
@_date: 2017-07-16 13:58:17
I tested it with both test net and main net. It is working flawlessly in the main net but giving the same error in test net. What do you think could be the problem
@_date: 2017-07-16 09:21:20
When I opened the wallet objet to which I had put the gap_limit all the json data has vanished and only the following two lines are there, that why the below error is also showing
    "gap_limit": "25",
    "seed_version": 13
What should I do?
@_date: 2017-07-16 13:09:29
Actually, I imported the Wallet class to call the wallet object and all the other functions of wallet. Can you tell me the exact way to interact with a wallet in python console