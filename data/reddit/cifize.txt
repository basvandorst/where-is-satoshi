@_author: cifize
@_date: 2015-06-29 21:33:01
In general, simply using the where clause to restrict the update to the correct original value (a form of optimistic locking) solves that problem just fine with a read committed isolation. 
Specifically for monetary withdrawals, however (and I led development on such a system for a billion-dollar company), never do withdrawals in realtime. When someone clicks withdraw, write a withdrawal request record to a persistent queue/table somewhere and process it *serially* outside of the request with some isolated, independent backend system. No possibility of a race condition, every transaction can be checked and verified safely, you can hang all sorts of monitoring off it to look for suspicious activity and suspend individual payments for investigation before the money leaves, and all this extra work doesn't affect your front end response time. Process the queue hourly, daily, whatever. If your users complain, implement an email system to notify them as their request goes through (your request has been received, your request is being processed, your request has been processed, have a nice day).
If you *ever* find yourself worrying about the merest theoretical possibility of a race condition when processing a withdrawal, redesign the system. 
@_date: 2015-06-29 17:56:26
There's nothing wrong with read commited, you just need to know how not to write terrible code like in that blog post. 
@_date: 2015-08-24 22:25:03
Yes. And 2009. Made a killing. 
@_date: 2015-08-26 22:29:52


Correct. What's your point?
@_date: 2015-08-27 07:03:05
Where did I say anything about knowing what the intrinsic value is? Stick to the point. 
@_date: 2015-08-26 22:24:57
You mean, if you took away those intrinsic qualities the intrinsic value would reduce? Well, duh. 
@_date: 2015-08-26 22:22:40
In the world we live in, oil has intrinsic value. Alcohol has intrinsic value. Medicine has intrinsic value. Houses have intrinsic value. Lots of things have intrinsic value, but it's not a requirement for currency, at all. 
@_date: 2015-08-26 22:47:21
Ron Paul failed because he was a catastrophically awful dinosaur of a candidate, not because he was old. 
@_date: 2015-08-26 22:44:03
Universal absolutes are of interest to theoretical physicists and the Sith. Not to anyone else. 
Within the context of human existence as we know it, intrinsic value exists. Outside that context, who gives a fuck?
@_date: 2015-08-27 07:13:25


No. Why would you think that? I said oil *has* intrinsic value, I didn't say that value was constant. 
@_date: 2015-08-26 22:35:21
I regard that whole line of reasoning as meaningless. If we all breathed hydrogen, oxygen would have no value. We don't live in that world, however. For all pragmatic non-bullshit reasons, gold has some intrinsic value. We need conductive materials. 
@_date: 2016-05-02 17:46:36
He's suggesting that the broken command is deliberate, and that the alias creates a deterministic order that is *opposite* to the expected order, allowing a falsified result to be reliably achieved. 