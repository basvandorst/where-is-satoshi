@_author: iancoleman
@_date: 2017-02-23 11:23:01
the bug is in the bitcore implementation (not electrum).
The bip itself is fine (it's bip32 that's under question here, not bip39)
bitcore is used by copay, among others.
@_date: 2017-02-23 10:08:11
... and any wallet using bitcore-lib behind the scenes.
@_date: 2017-02-23 09:15:43
Also please change title from bip39 to bip32, since this is a bip32 issue with bitcore-lib
It's been known since Feb 2016 so I'm surprised it's taken until now to gain traction. Still, not a nice bug to have out in production software :(
@_date: 2017-03-23 00:15:28
Interesting point about getting each involved party to state their requirements, however this starts down the path to 'design by committee'.
I think you may be interested in this blocksize tool which aims to explain it the other way: for a specific design of bitcoin, what is the minimum resources a node must be able to supply to be viable. Then the operator can decide if they can run bitcoin or not.
It doesn't specifically help progress the scaling debate, but it does help understand how changes to bitcoin may potentially impact node operators.
Getting 'involved parties' to say how bitcoin should work sounds like the start of a system of political parties to me, which is the opposite of what makes bitcoin interesting.
@_date: 2017-02-23 07:05:18
thanks, makes the investigation much easier with this info.
@_date: 2017-03-23 00:40:46
I agree and certainly data for a better understanding of what node operators are actually able to support would be helpful to the debate. Market research seems like an unsexy part of bitcoin compared to the coding, but it's really important.
@_date: 2017-09-05 04:29:13
Following this up, here's a prototype implementation:
@_date: 2017-09-05 09:33:42
Thanks for the extra info. I'd love to see what the trezor team can come up with.
@_date: 2017-09-08 02:19:56
The raw binary data is used.
Converting the original ascii (or unicode) mnemonic into shares results in very long mnemonics for each share.
@_date: 2018-02-09 01:16:28
264 bits of supplied entropy will be truncated to 256 (nearest 32 bits). So just use 256 bits. The extra bits of entropy for the checksum are added automatically by the BIP39 process.
@_date: 2017-09-05 22:26:30
12 bits for ssss allows up to 4095 shares. It's unrelated to the bit width of the mnemonic words. However, the reason for choosing 12 was not an engineered decision; I wanted it to be independent of the ssss library default (8 bits) and not be related the mnemonic bit width (11 bits).
This number only really affects the maximum allowable shares, and ideally it'd be configurable by a parameter extracted from the mnemonic, but currently it's hardcoded.
I've raised an issue to track progress on possibly implementing this:  - Include ssss bits parameter in mnemonic
Agreed on the checksum. See issue 1 for discussion on that too!
@_date: 2017-09-08 02:16:48
Relevant calculator: [Scaling With Big Blocks](
@_date: 2017-10-31 03:17:04
This is a direct link to the bip (bip174) since the one on the mailing list linked above returns 404
@_date: 2017-09-05 05:01:26
very cool. I haven't seen that site before.
@_date: 2017-10-31 23:20:22
There is a bip under development by several people for next generation mnemonics. It incorporates some of the features of shamir39. Not sure when that bip will be ready to be presented.
@_date: 2017-10-31 22:36:24
thanks, fixed!
@_date: 2017-05-31 03:02:27
I tested multisig by going to this tutorial using bitcoin-qt
It uses pubkeys
which when pasted into the multisig tool (and Bitcoin Testnet is selected) create the same address as the tutorial, ie 2N8oVq7BpYdVSUwgsyg7vv546K3wkUzbi5E
When I paste these three pubkeys into bitcore (used by copay) I don't get the same address. 
bitcore gives 2N2uX2sR1BtcJVNyCJAfHTWqZh4TWwRdze3
This corresponds to an ordering of CAB (ie third key, first key, second key).
It looks like copay is automatically ordering the keys from lowest to highest. This is in line with BIP45 - "The indices can be determined independently by **lexicographically sorting** the purpose public keys of each cosigner."
This is frustrating, since copay abandoned BIP45: 
Does this answer your question?
edit: Also see this issue 
@_date: 2017-05-01 00:35:28
I recommend using a BIP39 phrase, since it's equivalent to a BIP32 wallet (except it's much easier to use).
So any wallet that has a 12 or 24 word seed phrase is a good option, eg mycelium, breadwallet, trezor...
Then you can write that phrase down using a pen and paper (since some printers will keep a history of their printed documents so don't use a printer).
Don't try to write down a BIP32 xpub or xpriv key, you will probably make a mistake. Just us a BIP39 phrase.
Pitfalls of using xpub... yeah make sure to read this: 
@_date: 2017-06-27 11:16:52
The decision to start with world population and then narrow it down was deliberate - it makes big block supporters start from the premise 'bitcoin is for *everyone*' and then see the consequence of that premise.
Simplifying the setting to be only the total users doesn't convey that point as clearly.
@_date: 2017-06-07 03:07:00


That address is a mainnet address. Use the --testnet flag to generate the testnet address from the tutorial.
I tried to reproduce the issue but Copay seems to work nicely with both the bip39 tool and the multisig tool. Here's my steps to test:
* Create a new Copay multisig wallet 2-of-3 on testnet
* Invite two other users to that wallet
* Record the mnemonic from each wallet (3 in total)
* Enter the mnemonic for each wallet into the bip39 tool and copy the first bip44 public key for each one into the multisig tool
* Choose the ordering in the multisig tool so they public keys are in alphabetical / lexicographical ordering (which is how Copay does it)
* The multisig address in the tool matches that in the copay wallet
Here's my test data
    Wallet A
    forget drift garment provide nut laptop zoo old anxiety intact dune someone
    
    Wallet B
    rhythm home move possible rotate congress avoid surprise swallow helmet parrot switch
    
    Wallet C
    physical card destroy shield invite couch label drive glow sure sign ring
    
    Gives public keys of
    02417c2e8dd78d9f08cbe64f1d1d28294b5e49737bcce7acffe98e81e2bd8f2f0b
    032d7691ff5e1f337bf923e8032df9532a02b05164647fec741b94b973e1363e11
    027b1c8b7abfa330875114a579d5633266b4b2c05d6d73eefb5f139a816df7fb87
    
    which in the multisig tool should be order ACB to give the matching copay address of 2NDQmBRjrRtMWVdrLieTiwCc2Jg1KhAHpw3
If there's anything more specific you can tell me for the test you've done which *doesn't* work please let me know. As far as I can see, copay and the bip39 / multisig tool match each other.
edit: I also tried importing from the bip39 tool to copay, but they do not allow testnet importing - the testnet option is removed when using the Specify Recovery Phrase setting.
@_date: 2017-06-13 07:28:42
Haven't read this thread in depth yet but I'll be tracking progress in this issue when I get time to attend to this:
