@_author: darkdeepths
@_date: 2018-08-07 20:00:07
posting some more details soon.
@_date: 2018-08-08 03:29:50
this should not be a special case.
@_date: 2018-08-07 21:22:25
Alex’s service determined a rate (fetched from an exchange). the service displayed the rate, so, if there were other services or more liquidity providers, i could have shopped for a better one.
the amounts shown in the image give you the bch amount, btc amount, and the fee collected. i did the transaction this morning and it was something like $36 with a fee of around 1%.
@_date: 2018-08-07 20:44:38
tldr; wanted some bitcoin on the lightning network and used Alex Bosworth’s proof-of-concept to trustlessly swap on-chain bitcoin cash for off-chain bitcoin.
@_date: 2018-08-08 08:33:28
it’s the swap itself that’s trustless. deciding what to swap is a different matter - both parties have to agree to go through with it.
@_date: 2018-08-07 20:31:37
edit: hope the title isn’t misleading. i’m trustlessly swapping On-Chain BCH for Off-Chain BTC. check out Alex’s talk: 
i am fortunate enough to get a look at some of the cool submarine swap technology that Alex Bosworth is building. i decided i wanted to test turning some of my on-chain bch to lightning network btc.
the site is a work-in-progress, so was being served on a local network. 
i created a lightning wallet on moneni.com and generated the lightning invoice there (lnbc5200u1pdkn6xtpp55wzu5sck85y5uv0uxplgg6xx04nlvfcakznln4r8llshtptwqudsdqvv3jhqmmnd96qcqzysxqyz5vqzw7xzfn77y8cymllwstk273x7un5xnssjgwhvxsc89360ccz69xpkxae0xxgpdknmmfa339jscae7n22xmzfteag6dch8e7ef0tnaygq33nlld). 
Alex already had channel capacity, so all i needed to do was enter the invoice and pay the script that he provided. bch transaction: abd18273a61adce0e0d822ad93a2b88a98e1297d425a10e056659935d12e8dba
his service also returned a payload with a redeem script and a block height after which i could claim a refund (in case things went south).
@_date: 2018-08-08 00:04:00
see my other comments or one of the video links i posted. i’m exchanging on-chain bch for off-chain bitcoin. this is a poc for trustless swaps between lightning and non-lightning networks. bch scripts are enough for the integration.
@_date: 2018-08-07 22:42:10
yes, submarine operator kept the BCH. for this to work there needs to be someone willing to trade lightning btc for my on-chain coins.
i swapped for off-chain btc because i wanted coins for use on lightning and because this demonstrates how we can trustlessly swap coins that are not yet on lightning with lightning network assets.
Alex’s service did the heavy lifting. it handled matching me up with a liquidity provider, filtering mempools/blocks, and generating the scripts necessary for this to go down. his service needs to run nodes for this. he also already has many established channels.
As a user, all i did was 
1. create a lightning wallet (i didn’t have one) (this one is custodial and the service already had some route that reached Submarine service)
2. use the wallet  service to generate a lightning invoice
3. go to Submarine Swap site + enter my invoice
4. review the terms and script offered (i trusted script validity in this case, but you can check) + download refund payload 
5. pay the script my bch and receive btc in my new lightning wallet.
with some interaction + wallet support, i’m hopeful that this process can become more streamlined.
@_date: 2018-08-08 02:33:53
other networks, such as Litecoin, have been tested. without diving into network/protocol particulars, it’s hard to say which networks would work. i don’t immediately see any reason why PoS on its own would cause any trouble.
@_date: 2018-08-08 02:38:37
as long as the network supports a submarine swap implementation, it comes down to whether healthy markets for on/off chain swaps will be able to bootstrap and thrive. so optimistically, yes.
@_date: 2018-08-07 21:15:06
the bitcoin cash used here isn’t off-chain and we don’t need bch to support lightning. these swaps have one side off-chain (btc) and one side on (bch). i recommend checking out Alex’s talk on the subject: 