@_author: rustyreddit
@_date: 2016-08-15 03:14:45
Nothing is stored on the drives; if they are corrupted, you make a new one.  Kind of a pain, since you have to verify them again, and that introduces risk of course.
@_date: 2016-08-30 01:14:41
I'd look at localbitcoins.com; you'll probably have to buy in smaller increments (or do $500, $1000, $2000, etc from the same large seller).
@_date: 2016-08-06 05:34:55
Like "Oh, hi. I do work on lightning network. My intent is to help make bitcoin great again."? :)
@_date: 2016-08-31 23:50:55
Yes, someone sent you a heap of pennies, and the network charges transactions by weight.
I'm very surprised that core would have given you that fee.  If estimatefee said 0.00011582, that's *per kilobyte*, and your transaction is 11.5 kilobytes long...
@_date: 2016-08-01 02:22:39


Preserving this for posterity.  Just in case.
@_date: 2016-08-17 02:55:33
No work that I know of.  There are so many variables, but the general assumption is you'll only close when you have to (unresponsive peer).
@_date: 2016-08-01 04:25:44
Yeah, and I got goxxed.  Not much, but still: bad news propagates slowly in the bitcoin world.
@_date: 2016-08-15 00:51:56
I have a long history of writing "Rusty's Remarkably Unreliable Guides".  It's worked so far!
@_date: 2016-08-29 03:24:18
... Graph shows nothing of the sort.  Trend is upwards over the last 2 years, but not particularly this week.
@_date: 2016-08-19 11:11:39
FYI, names so far:
* 0.1: Mt Gox's Cold Wallet
* 0.2: Butterfly Labs' Timely Delivery
* 0.3: Nakamoto's Genesis Coins
* 0.4: Wright's Cryptographic Proof
Hope that helps!
@_date: 2016-08-16 00:08:23
It's a good question!  I expect eventually peers will just do this for each other; you're talking to them anyway, so might as well.
Frankly, I doubt anyone can make money from this; being online is pretty normal, and trying to cheat requires *knowing* the other party can't see the blockchain.  That's unlikely.  But perhaps it's a cute first use for micropayments (eg. 1 satoshi per transaction).  
@_date: 2016-08-16 20:36:50
From 
*A node MUST update bitcoin fees if it estimates that the current commitment transaction will not be processed in a timely manner...*
*As the commitment transaction is only used in failure cases, it is suggested that fee_rate be twice the amount estimated to allow entry into the next block, and that nodes accept a fee_rate up to ten times that same estimate.*
There **is** an assumption that the channels have enough capacity to pay these fees.  If using bitcoin becomes so expensive that's not true, obviously nobody will be able to establish channels, let alone redeem them.
@_date: 2016-08-25 06:11:14
Give us another couple of decades :)
@_date: 2016-08-21 21:23:57
OP asked "Is there a way they could have determined what the minimum would be to be in the  position?"
That implies a deep misunderstanding of how this works.  Estimate works well in practice because people are happy to overpay, and you only need to be in the top few thousand txs to get into a block.
@_date: 2016-08-16 02:01:49


I agree!


Yes, you definitely have new ways to fail.  But I think that's always true: if technology X uses technology Y, you are susceptible to the weaknesses of both. 
On the other hand, this post shows Lightning from inside: it's posted more for posterity and for implementers to read than for someone who's going to actually use it...
@_date: 2016-08-15 21:42:14
I'm hugely looking forward to this: the previous ones were super geeky and eye-opening.
@_date: 2016-08-20 11:11:55
Yes, someone needs to watch. Also, if they're badly behaved it can take a while for your time-locked payment on chain to be redeemable. But this is far less exposure than what people normally think of add "counter-party risk".
@_date: 2016-08-15 00:16:19
Yeah, if you bring your paper wallet online to spend it, it's worse.  Don't do that: 
@_date: 2016-08-21 05:04:27
1. You don't know what transactions the miner has seen.
2. You don't know what transactions the miner has included in it's working block yet (there's a delay between then receiving it and including it).
3. You don't view which miner will get the next block.
4. You don't know how long until the next miner will get a block.
All this means that you can estimate, that is all.
@_date: 2016-08-31 00:30:20
Yep! A huge number of Linux APIs were designed by them. You can't write a kernel module or modern userspace utility on Linux without using it on some level.
Like Blockstream, it's all open source of course.
@_date: 2016-08-31 07:14:59
Do you have the txid?  What wallet software/website?
@_date: 2016-08-18 11:02:28
Oh yeah, API is "Pay to bitcoin address".  Figuring out which channel to use, or how to juggle funds across channels to get enough into one to do the anchor split, that's Simply Software :)
@_date: 2016-08-18 01:51:11
Alice and Bob have a channel, balance is currently $5 each.  Alice wants to pay $2 to 1CarolAddress, onchain:
Alice: let's re-channel using this new-funding: txin=old-funding, txout1=$2 to 1CarolAddress, txout2=$8 to Alice&amp;Bob.  And here's my signature on the first commitment tx which spends new-funding and sends $3 to me and $5 to you.
Bob: Sounds good.  Here's my sig on your new commitment tx which spends that new-funding, too.
Alice: Great, here's my sig for the new-funding tx.
Bob: Here's mine, and I've broadcast it onto the network.
Bob: Hey I want to send some money, but the new-funding isn't confirmed enough yet.  So here's 2 signature: for txs against both the old and new funding txs.
Alice: OK, new-funding is 6 deep, let's stop exchanging sigs against old-funding, it's dead.
@_date: 2016-04-15 10:29:50


Probably not; part of the point of BIP9 aka version bits, is that you get two weeks (2016 blocks) between lock in and actual activation. So you know almost exactly when the change will hit.
@_date: 2016-08-29 06:40:11
Great.  And the other 32 countries are not.  And the overall graphs are not.
@_date: 2016-08-18 00:09:45






I agree, but there's a trick!  You can spend on-chain from the anchor transaction (as long as your counter-party cooperates) with no channel downtime.  Hasn't been implemented yet, but it's definitely something we'll want...
@_date: 2016-04-12 01:48:54
I agree with you, which is why I'm working on lightning.
Here's why: 1 satoshi is 1/2500th of a cent.  To have on-chain fees that low, assuming 300 byte txs, we'd need 375GB blocks to equal a 12.5 bitcoin reward.
Assuming 17% bandwidth growth per year, and assuming we can handle 1MB blocks now (though it seems miners are struggling with that!), we should have capacity for such blocks in 170 years :(
@_date: 2016-08-23 09:15:05
My current implementation allows two outputs when mutual close occurs. For unilateral close (ie. one side goes away) it's one output per side, plus one per htlc (but it will not create dust outputs, so could be less). These htlcs ate time limited, so they would normally be spent fairly soon.
@_date: 2016-04-23 00:25:46
Your transaction locktime field isn't passed. Nodes ready for BIP113 will use the median time of the past 11 blocks, so it'll take about an hour longer than before.
But we'd need to see the transaction to be sure...
@_date: 2016-04-12 00:41:48


OneBigHub tracks all your payments.  Damn it's convenient though!
Oh, looks like OneBigHub now offers to hold your coins directly: no more troublesome network to worry about, you can just pay other OneBigHub users at the touch of a button!  It's so fast and scalable!
I guess if that's what people want, we're unlikely to stop them.  But why use bitcoin?
@_date: 2016-04-15 00:50:10
Yes, indeed.  This is why I predict that eventually all payments will use segwit: it's significantly easier to reason about and implement a wallet which doesn't have to worry about malleability.
@_date: 2016-04-28 04:29:22
If he gives us the raw txs, we'll know one way or the other...
@_date: 2016-04-07 01:04:52
In theory, people should be charging for the hot wallet risk involved in running a node, plus plan on regaining the on-chain fees they pay to open and close the channel.  In practice, there are probably many people who have a poor sense of risk, so even if they lose their funds there'll be plenty of others prepared to "make money fast"....
@_date: 2016-04-14 06:21:37
I'm assured that the due diligence team at PieterWuilleFacts.Com check them all carefully for veracity.
@_date: 2016-04-12 00:38:01


Indeed, we need both.  Centralization is horribly fragile and terrible for privacy.  Fortunately, defaults are very sticky, too, so if the implementations are decent, and Do The Right Thing, we might still get away with it.
@_date: 2016-04-28 03:35:02


Indeed.  Let's check then:
can you getrawtransaction of these two txs on your bitcoind? 7aee2d6be4be8459e42c3d5be5ffb2fe08471f15ed5d1aa41db26d302f98d8e6 and ff76ac2f4641713f8ace2e61f27ca1c71669c614ff629e53d4359842870e9d7b.  Then we can confirm that they're malleated and that they're actually buried in the blockchain.
@_date: 2016-08-30 00:07:38
Sure, let me clarify!  I have a long history of working on Open Source projects; Linux in particular (see [Wikipedia](  To work in bitcoin, I only considered one employer: Blockstream.  They were the only ones doing development as their core business (rather than using bitcoin to run an exchange, etc).
In the early Linux world we had a very similar effect: RedHat started up producing a Linux distribution and attracted the highest concentration of kernel developers.  In particular, they had a very strong stance on Open Source for everything: this is one reason why they were so attractive to work for!  But they spent *years* fighting conspiracy theories from people sure that there was an ulterior plan ("The Microsoft of Linux" was my favorite!).
By keeping their eye on the ball and focussing on engineering, they eventually built up the reputation they have today.
And that's how I think of Blockstream today.
@_date: 2016-04-01 00:24:05
SegWit will use BIP9.  I think the confusion may be that BIP9 suggests 75% for *testnet* activation?
@_date: 2016-04-01 00:26:50
There seems to be some misunderstanding about BIP9.  Let me post about it...
@_date: 2016-04-28 23:51:58


Wait, what?  I've found him to sometimes be abrupt, and very black and white on issues, but I've never known him to cheat anyone or try to weaken the bitcoin protocol or bitcoin core client.  Quite the opposite.
@_date: 2016-04-14 23:49:40
FWIW I expect all future softforks to use BIP9; in fact I expect them to use the default parameters, too.
@_date: 2018-01-19 08:45:40
Brave because there are known and unknown bugs in the software.
@_date: 2018-01-03 17:14:56
No.  You want to spend bitcoin, your private keys are needed.  That's sort of the definition of "spend bitcoin".
@_date: 2016-04-14 07:18:50
So does [Anton Blanchard](
@_date: 2016-04-28 05:27:22
I've verified this, it has the same outputs (with a slight reduction to increase fees) and has two replaced inputs from the one you posted.  It can't harm you to sign and send this.  Even if the other one were to reappear, it conflicts with this, so you can't double spend.
(BTW, I also checked the inputs add up to .51725185 bitcoin)
@_date: 2016-04-27 23:43:55
Weird, two of those input txids are unknown to blockchain.info:
   {
      "txid": "7aee2d6be4be8459e42c3d5be5ffb2fe08471f15ed5d1aa41db26d302f98d8e6",
      "vout": 0,
      "scriptSig": {
        "asm": "3045022100949b2d34919500d9b73021ce7c71e74e51cd55aada55adec156dac2a6bca59f2022019399c7517697d8a8abf3b53df68f3dde01e8a0f07801fb77695a730c63cfe29[ALL] 0293acea6413e672f538938caea655adde312f7483b6806682c450b734f169852f",
        "hex": "483045022100949b2d34919500d9b73021ce7c71e74e51cd55aada55adec156dac2a6bca59f2022019399c7517697d8a8abf3b53df68f3dde01e8a0f07801fb77695a730c63cfe2901210293acea6413e672f538938caea655adde312f7483b6806682c450b734f169852f"
      },
      "sequence": 4294967295
    }, 
    {
      "txid": "ff76ac2f4641713f8ace2e61f27ca1c71669c614ff629e53d4359842870e9d7b",
      "vout": 1,
      "scriptSig": {
        "asm": "3045022100c50140b7123aa251c35d8f7d1769daa3940c463492c1b526468e9c0e9778a4540220161c1ae07689117af19b7fa11777bd1b92de78cc29c3abbcb843051ea98d9d60[ALL] 0365dffb1c616e74372b3cf862f7759fe3d69f969eaad405feea1a528a5cddb95f",
        "hex": "483045022100c50140b7123aa251c35d8f7d1769daa3940c463492c1b526468e9c0e9778a4540220161c1ae07689117af19b7fa11777bd1b92de78cc29c3abbcb843051ea98d9d6001210365dffb1c616e74372b3cf862f7759fe3d69f969eaad405feea1a528a5cddb95f"
      },
Complete guess: those transactions were high-S, got malleated so txids changed.  Your bitcoind spent unconfirmed outputs (as a last resort because it needed the funds, I guess).
Pretty sure a modern bitcoind would resend correctly so it Just Works.
@_date: 2016-04-14 22:52:05
More fanboism, I think! But his comment here where he developed a better checksum algorithm overnight was the final straw: 
@_date: 2018-01-29 05:10:46
Warnings get truncated, especially when there's hype and optimism.  So yeah, it's all about losing money.  Happy to get bug reports, though!
@_date: 2016-04-28 00:31:46
Hmm.  0.8.6 doesn't even have -zapwallettxs; 0.9.0 seems to have been the one with the malleability work.
So I think the advice is:
1. Upgrade.
2. Run once with -zapwallettxs
3. Re-send the transaction.
@_date: 2016-04-02 00:01:53
Hey, good catch! My devel/cvs directory is from the days when projects started exposing newfangled CVS repositories (rather then just handing out tarballs). The name stuck, though none of those are CVS any more :)
@_date: 2016-04-14 07:07:44
Or, hit the "Click For More Random Facts" button at the bottom of the page :)
@_date: 2018-01-17 01:35:38
Wait what?!   is the PhD, I'm the struggling postgrad.  Or something...
@_date: 2018-01-19 08:47:25
And the others have similar issues page
@_date: 2018-01-14 11:23:18


Economics.  In order to get the payment from A, B has to pay C.  When C collects the payment, it necessarily provides the info B needs to do that.


They know the amount, but the information itself is encrypted in hops.  It knows where it came from, and decrypts to find out where it's going, but that's it (plus some magic so the length is padded no to change).


They can always go down in the middle of a payment and then you have to wait for the blockchain timeouts to get your money unstuck.  But they can't keep the funds, no.


They can slow things down, to the limit of the payment timeout, but if they don't succeed or fail with time to spare, the node adjacent to them will close the channel.
It's possible to disincentivize this further, but it's subtle and didn't make the 1.0 spec...
Hope that helps!
@_date: 2016-04-01 02:25:27
Done :)
@_date: 2018-01-15 19:39:01


No, it times out.  Of course, C will usually tell you if it can't make the payment, and fails immediately.




No, if a node goes down at the wrong time, the adjacent node will have to close the channel with it; each payment has a timeout, and if a node is unresponsive you have to drop onchain to enforce that timeout.




No, you'd only close your channel because your counterparty is unresponsive (second party).  No third party can make you close it.
If nodes are very unreliable, that will cause centralization pressure.  But more importantly, it will make the network unusable...
@_date: 2018-01-12 22:07:33
Explains why the issue count is climbing :). Unfortunately is at a conference now, and I'm preparing for one, so we're a bit backlogged...
@_date: 2018-01-14 11:17:11
Well, I do it by running Ubuntu.  It's not in the default repository, but the guide  is pretty thorough....
@_date: 2018-01-28 03:47:26
There should be a backtrace to go with that fatal signal?! I'd really like to see it!
@_date: 2018-01-03 19:45:50
BTW, these have been renamed to lightning-charge :)
lightning-strike, lightning-strike-client-js, lightning-strike-client-php
[EDIT: Pull request placed with awesome-lightning-network github too]
@_date: 2018-01-01 01:00:53
That's not how it works: don't expect the network to be supported by charity.  If not supplemented by fee income, the price to attack the network would now only be 1.6BTC per block.
@_date: 2018-01-22 00:25:52
'Sipa': the unit of weight of a transaction (each segwit byte weighs 1 Sipa, each non-segwit byte weighs 4 Sipa, a standard transaction is limited to 400,000 Sipa and a block limited to 4,000,000 Sipa).
@_date: 2018-01-30 04:58:12
MAST 114 uses a new segwit version, 116 doesn't, but Taproot almost certainly will.  I believe the signature changes are all likely to use a new segwit version too, as would Simplicity.  There's a proposal for covenants which overloads an existing opcode, which doesn't need segwit, however.
The rest are independent...
@_date: 2016-04-12 20:28:16
OP_CHECKSEQUENCEVERIFY.  We needed the BIP112 softfork exactly for this; to create an output that can't be spent by the cheater for some delay after the first tx is mined.
@_date: 2016-04-28 00:33:43
Not really.  You have them, they're just under a different ID than bitcoind expected.  Annoyingly, that can change ("malleability"), and prior to 0.9.0 that would confuse bitcoind.
There's some good news: with segregated witness, this problem is finally solved once and for all.  But that's still being tested, and it's going to be a long time before it's everywhere, so...
@_date: 2018-01-29 10:20:08
I'm doing more shutdown tests now.  In theory, this should never happen: you should exchange, at worst, the same fee used for the final commitment transaction.  But bugs...
@_date: 2018-01-11 20:40:31
I am here for the tech. I left a successful career as a Linux kernel developer to become a Bitcoin developer, for similar reasons: exciting raw open source technology which can change the world.
The hype at the moment is bringing a lot of bad, confused tech. So I'd almost be happier if we crash for a few years, but fortunately for everyone else, the market doesn't care what I want :)
@_date: 2018-01-29 22:46:11
Yeah, I think we're still waiting for useful post-quantum stuff :(
@_date: 2018-01-12 03:57:57
Sure, non-zero money is good.  If I had to do this in my spare time, well, it wouldn't get done :)
Actually, the drive for lightning was mainly instant payments.  The scaling motivation came to the fore later (though I was working on micropayments since before lightning, because I find it an interesting problem and a missing capability).
@_date: 2018-01-29 05:31:06
Sure, and it's not a bad idea, but needs code.  In particular, you need to coordinate simultaneous open negotiations.  Again, not hard, but not trivial either.
@_date: 2018-01-18 23:48:53
Opening is currently a P2WSH, just so it can do a 2/2.  That could become a P2WPKH, dropping 12 vbytes (48 sipa).
Closing goes from '0 &lt;sig1&gt; &lt;sig2&gt;' '2 &lt;key1&gt; &lt;key2&gt; 2 OP_CHECKMULTISIG' (say,  210 byes) to '&lt;sig&gt; &lt;key&gt;' maybe 65+33 = 98 sipa.
@_date: 2018-01-29 22:45:34
That still takes multiple outputs, so no.  And it's hard to get N-party channels working (for N &gt; 2) with the current LN scheme, if that's what you're referring to.
@_date: 2018-01-01 23:46:04


But the only significant effect Blockstream has had on Bitcoin so far is to free up a few devs to work full-time on bitcoin.
If you disagree with what the Bitcoin developers actually did, that's nothing to do with Blockstream which has a strong policy of non-interference.  And even if you can't believe that, a cursory examination of contributions to the bitcoin-core repository make it clear there's no Blockstream monopoly on talent.
@_date: 2016-08-20 11:16:46


Unfortunately not; the hard part of routing is route discovery. Next version will use an irc channel to share channel information (just like originally bitcoin did), which is simply "everyone knows everything". The more sophisticated techniques well come later as this fails to scale...
@_date: 2018-01-11 03:03:26
Please report a bug!
@_date: 2016-04-01 01:28:50
@_date: 2018-01-29 05:20:41
wanted to allow the next-hop field of the onion to be a non-neighbor, which would be a more Tor-like design. The problem with that is that, just like Tor, it has a huge latency penalty, and is likely to be circumvented in practice for that reason.  It also makes for more interesting questions around fees, etc, so I consider it overdesign for the moment anyway.
This stuff is hard: see 
Anyway, you're at *best* limited to the minimum of   in network and 18^avg-conns-per-node for an intermediary.  If you can eliminate many connections for each node (eg. single-connected peers), it gets worse.
I think this limitation is fundamental, but I anticipate more research once we have a known topology...
@_date: 2018-01-28 03:57:05
Oh, and routing is really dumb right now. A recent change means it should disable the channel on closing, but anyway we should be feeding back that error so it tries something else...
@_date: 2018-01-22 07:40:05
Yeah, c-lightning also close to hitting 100 issues in the issue tracker!  
@_date: 2018-01-27 05:05:37
SLEEPYARC is the Blockstream store, BTW. Seems a number of people connected to it directly to buy stickers.  I expect that to change with the Next Big Thing.
@_date: 2018-01-20 01:18:52
No! This is just crazy testers...
@_date: 2018-01-02 03:01:04


Yeah, the devs that founded Blockstream, who have spent so many years contributing to bitcoin, are evil.  And they've pulled the wool over the eyes of the other developers; so much I even joined them!  And presenting that nonsensical business plan (screwing over the tiny number of current bitcoin users) is how they raised money.
This doesn't make sense on any level.
@_date: 2018-01-30 02:34:18
Traditionally I start with a "Time Better Spent" where I pick three fascinating and unrelated projects to talk about. That way, if you get nothing else out of my presentation, you might like those!
However, the timing was insanely tight, so that got cut.  But I did need to explain that this was not up to my usual level of thoroughness.
@_date: 2018-01-03 19:52:12
You don't understand.  Your wallet needs your private keys, whether to spend via lightning or onchain.  There  is no difference.
There are no "private keys on the lightning network" whatever that would mean...
@_date: 2018-01-29 22:48:01
Wait, what?  Australian, why?
@_date: 2018-01-29 09:48:47
Notes: 
Transcript: 
@_date: 2019-07-10 02:07:24
If you want to be a pedant, it's never "fully and finally settled".  Because bitcoin doesn't have finality.
Frankly, I consider it misleading to suggest it's *not* settled immediately, with the caveat about potential revocability after a known delay.
@_date: 2018-01-30 05:02:10
That's not true.  In the original Satoshi paper:


Lite nodes do not have these guarantees, and that makes such a 51% attack more attractive, even if it can't be maintained.  If we could provide this for lite nodes, the entire system would become more robust.
@_date: 2018-01-22 00:25:07
Yes.  vbyte is "virtual byte" which is a backwards-compatibility measure for pre-segwit.  Really, we should be talking in 'Sipa': the unit of weight of a transaction (each segwit byte weighs 1 Sipa, each non-segwit byte weighs 4 Sipa, a standard transaction is limited to 400,000 Sipa and a block limited to 4,000,000 Sipa).
@_date: 2018-01-01 01:06:31
That's not how it works; difficulty adjusts automatically.  10 years from now that 1.6 bitcoin per block is all that secures the network, unless fees are significant.
@_date: 2019-07-23 00:30:21
Two Weeks^**TM**
@_date: 2019-07-24 01:44:34
If you don't call out bad behavior, it doesn't usually stop by itself though.
@_date: 2019-07-15 01:05:02
Well, you paid fees to set this channel up, of course :)
@_date: 2018-01-22 00:22:39
Hi!  (A FWIW, pinging me worked!).
Thanks for this, I agree with the limitations of onioning.  I know Tor is the go-to comparison people use for this, and agree it's misleading.  We could add a stronger caveat here, particularly that we assume a nice wide topology.
If the network is small, analysis is easy, in particular the cul-de-sac case where you're the only path to/from a node!  That's a major reason we dislike single-connection nodes, or even nodes which never route.
And indeed, if you can create such a topology (whether via simple DoS or channel capacity exhaustion) you can similarly reduce options to an easily-analyzable set.
The spec has mitigations against trivial value analysis (both in CLTV timeouts and amounts), by allowing overpaying both fees and final destination, and suggestion to create a shadow route.  In addition, our implementation at least has notes for eventual cost fuzzing when determining routes, and fuzzing limits (rather than a simple reach-capacity-and-decline), but these mitigations are all limited.
Other issues with onioning are that the correlation of payments (via payment_hash) are trivial, so if you have two points in the traverse you know it's the same payment.
The next question comes once we have a real topology: how effective and expensive are such attacks in practice?  I look forward to more research into this question!
@_date: 2019-07-06 22:15:37
Yes. A malicious plugin can steal your funds.  We haven't seen one yet, but you should always be careful what software you install!
@_date: 2018-01-01 01:05:36
That's naive.  We're not going to profit from being a leading source of bitcoin support and technology if bitcoin suffers.  And the conditions which make us attractive to developers evaporate if we were to ever do something that foolish.
This idea that a significant number of senior open source developers got together to undermine their project for profit is deeply weird: I can't think of a single example where this has happened previously.
@_date: 2019-07-10 04:26:49
No more than anyone else can create a flood, no.
The watchtower gets an encrypted penalty tx.  It needs to see a cheating tx, which allows it to decrypt that tx for broadcast.
@_date: 2018-01-27 22:15:35
c-lightning dev here: thanks for the report! We've seen a few reports of shutdown negotiation failing, and it's near top of my list this week.
But to the larger issue: we deliberately set a high bar to entry, including disclaimers about loss of funds. If you install a full bitcoin node, download and compile the source, configure it and create a channel, you're the kind of user we want bug reports from!
As an open source dev, supporting users isn't an overhead; it's my job! Otherwise why release the source?
@_date: 2019-07-20 23:08:06
We call it "Bring Your Own Fee": if you want to close a channel without help from the other side, you at your own fee.  At the moment the fee is baked in, which sucks since you need to guess what it will need to be when you need it later...
Unfortunately, this opens the possibility that the other side can use their own unilateral transaction with a lowball fee and block yours, because of the RBF rules which try to prevent spamming.
This carves out an exception, so in this case they can't block you.
@_date: 2018-01-19 08:41:35
No no no, that is just a c-lighting issue. It won't talk to you again until it's forgotten you, which takes 100 blocks.
Fixing that it on the list!
@_date: 2019-07-06 07:33:50
Our focus is mainly on being a server and being spec compliant. Sometimes we're ahead for some features, sometimes we're behind, but this whole space moves pretty fast.
To be fair, we've started moving stuff out to our plugin infrastructure, so others can write cool things on top. That makes releases a bit more boring, since the really fun stuff is one layer up...
@_date: 2017-12-05 11:01:03
After two prior readings, yes...
@_date: 2017-12-30 20:47:00
No, 10 years from now when it's 1.6 Bitcoin.
@_date: 2017-12-05 04:29:56
I didn't know that was a thing.  OK, 
@_date: 2017-12-08 03:37:02
1. You're *always* holding a valid bitcoin signature: if the counterparty is offline, you can use that to spend the channel.
2. You don't really want to open and close channels all the time, but we'll eventually see hw wallet support, I'm sure. It's not that hard to do simply (if you want a button press for every transaction) but harder to do well (hw wallet makes sure tx won't lose you money).
3. No, they'd push the money back to someone else, down the same channel or via another channel.
@_date: 2019-07-16 09:23:52
Well, it mostly seems to be User Error in my experience. It's not clear that we need more than a minor disincentive for trying
@_date: 2017-12-05 01:32:56
Such posts don't seem to gain traction here. e.g.  got 6 upvotes, which was disappointing.
@_date: 2017-12-05 09:34:29
Thanks!  I am particularly proud of the footnotes, as they highlight how much good information there is out there, if you can only find it...
@_date: 2017-12-05 09:49:20
No, though it's AWESOME.
You also need fraud proofs, which require miner commitments (ie. soft fork): 
@_date: 2017-12-14 10:09:24
Everything you said is true of Bitcoin. Who wants to buy $100 of Bitcoin to buy coffee? And then pay more every time they do?
But it's no more expensive in the normal case to send an onchain tx from your channel than from any other source (* big caveat, not in 1.0 standard; for now you close and open, making fees double).
@_date: 2017-12-05 10:49:04
Yep, I probably would have chosen 1% inflation.  But I do consider it a clear, bright design decision which can't be changed now, so it doesn't matter.
@_date: 2017-12-05 09:48:25
The paper discusses it "One strategy to protect against this would be to accept alerts from network nodes when they detect an invalid
block,  prompting the user's software to download the full block and   alerted transactions to confirm the inconsistency."  Which doesn't work, since without compact proofs someone can simply force you to become a full node...
@_date: 2017-12-14 10:16:58
B can't get the money from A until the present the proof of payment. The only way they get that is from C.
@_date: 2017-12-23 23:52:06
This is wrong.  First, avoid Blockstream FUD: it's just a company, and one with a strict policy of not interfering with its engineers on Bitcoin, and does not benefit from small blocks.  I know, because I'm one.
Secondly, the developers generally agree that there's plenty of short-term opportunity for more efficient transactions usage.  A hard fork requires everyone to cooperate, which is much harder and hasn't been done before and will take a massive coordinated years-long effort.
@_date: 2017-12-07 22:24:50
There will always be times like this. But you may not care for small amounts, because LN
@_date: 2017-12-14 10:15:52
B can't get the money from A until the present the proof of payment. The only way they get that is from C.
@_date: 2017-12-05 09:16:48
SPV is a good question.  If we get *real* SPV the way it was originally envisioned, with fraud proofs, then you only need one honest node to tell you about violations.   That's much more secure than what we have today.  Of course, it requires a series of soft forks to get there, and some tech we need (UTXO commitments) have not been developed.
But today's SPV?  Yeah, that's a problem...
@_date: 2017-12-06 01:48:30
Not quite.  The sum of many transactions turns into one normal transaction on the main chain.  And you don't need a full node to run a lightning node (though, as always, it's better).  This is basically what neutrino is about...
@_date: 2017-12-05 23:03:51
That seems unlikely; I work on lightning :)  Doesn't change the math of bitcoin, however.
@_date: 2017-12-14 10:18:26
No, because they're busy working on Bitcoin?  Always good to have more good devs, but there are never enough to go around...
@_date: 2017-12-05 09:41:33
Maybe Coinbase et al end up mainly doing payments via lightning, but if they're dominant as they hope, they (or their customers) will still be the majority of onchain txs.
Every scenario where there's sufficient hash power to secure the network, *someone* is paying for it.  That someone has incentive to try to offload the payment...
@_date: 2019-07-08 20:23:14
We don't (currently) work with loop in/out though someone could write a plugin; the 1.1 version of the spec contains plans to allow splice-in and splice-out, which is a more complete solution.
@_date: 2017-12-06 22:54:47
It means we've tested we all meet the spec, on main net with real btc. Spec is now at release candidate 1 (though there are two great editors cleaning it up right now!). It's a real milestone, and I'm as proud of our collaboration as anything I've done in tech.
@_date: 2017-12-25 07:07:45
Yes, or in a hardware wallet.
But this makes sense: any technology which makes bitcoin useful enough for you to use every day, means your need to access your private keys every day. It's not lightning-specific.
@_date: 2017-12-23 23:56:45
It's not just this sub.  It's hard to get anyone to discuss this sanely, because there has been so much insanity.
@_date: 2017-12-09 22:45:13
 &gt; Somebody please put this in context for me, I'd be grateful. As an old TCP/IP guy I see the Lightning concept as an inversion of why we layer protocols in the first place.
Ok, so I guess I qualify as an old TCP/IP guy too, and a lightning developer.
Layering works in terms of complexity. IP is an unreliable transport: we layer TCP on top to get reliability, and it's more complex. But it provides a *simpler* abstraction for users.
Bitcoin is about as simple as it could be made. Transactions, inputs and outputs, with spending conditions. Wallets layer on top of this to provide the concept of accounts, for example, which is a simpler abstraction.
Lightning goes further. No dealing with reorgs and zeroconf and double spends. API is literally "getinvoice" then "listinvoice" or "waitinvoice". On the payer end it's "pay". There's a bit more complexity to diagnose error cases, but that's enough to code up a coffee shop.
But it's more complex underneath, of course.
Hope that helps!
@_date: 2017-12-29 05:07:45
I know you like the free money (that tx cost them $19.50). But it's pretty weird that they don't even care about how much block space they're using...
@_date: 2017-12-14 10:13:09
* for channels with chain_hash identifying the Bitcoin blockchain:
    MUST set the four most significant bytes of amount_msat to 0.
This restricts payments to 2^32 millisatoshis.
@_date: 2018-09-24 23:28:32
Oh, ffs. It wasn't him! He posted that to make a point about shared responsibility. Headline misinterprets...
@_date: 2017-12-14 10:17:13
B can't get the money from A until the present the proof of payment. The only way they get that is from C.
@_date: 2017-12-23 23:53:32
We already had a soft-fork increase.  I expect a hard-fork to get consensus eventually, though, because from here it's the simplest way forward.  It'll take years though.
@_date: 2018-09-18 09:39:18
Yeah, I'm as excited as anyone about these tech refinements, but this is out there...
@_date: 2017-12-26 22:22:16
Total volume definitely is. But these days, most bandwidth is actually chatting about transactions apparently. Greg Maxwell gave a talk about how to improve that recently at SF Bitcoin Devs.
@_date: 2017-12-05 09:32:44
Yes, as shown at the top, and at the bottom of the article: [The author holds bitcoin and works for Blockstream.](
@_date: 2017-12-01 11:06:08
I guess I should have titled it "Bitcoin $25k Prediction" or included a video of someone dining on a body part?  Next time :)
@_date: 2017-12-09 23:10:32
Not at all! If people want fiat that's still a business model, whether onchain or lightning.
@_date: 2017-12-18 18:45:59
I think I see where you're going wrong: it is atomic.
The Bitcoin script says "you can spend this by providing &lt;secret-which-hashes-to-xxxx&gt;.  Otherwise I can spend this after &lt;timeout&gt;".
So A offers that to B, with timeout == 12 blocks.  B offers it to C with timeout == 6 blocks.  If C collects, B has the secret it needs to collect from A (and 6 blocks to do it in).
Hope that helps!
@_date: 2017-12-06 03:29:25
Yes, but there are other sources of settlement.  Ignoring new users and users adding/removing from cold storage &lt;-&gt; lightning, there's the failure case when an outstanding payment is partway through an unresponsive node.  That node's peer needs to settle onchain to enforce the timeout.
What will be the dominant cause of onchain lightning transactions in the long term?  I don't know...
@_date: 2018-09-15 01:31:53
Never. Your node will get underbid by people who actually need to use the network anyway, so are prepared to accept minimal fees to route a few extra payments.
Passive income in a network with no barriers to entry is very unlikely.
@_date: 2017-12-30 10:12:59


This is nonsense.  Why would Core want people to use Lightning?  If anything, they'd want fees low to reduce pressure for a hasty hardfork.
Why would Blockstream want congestion to promote lightning?  I work for Blockstream, on lightning, perhaps you can enlighten me?
@_date: 2017-12-25 06:26:49
No, you can accept pwsh-wrapped segwit today: any wallet can send it to you.
Native segwit is much more a "wait for upgrades" tech. Bit of chicken and egg there though...
@_date: 2017-12-05 09:55:07
OK, well it turns out that resubmitting worked: 
Thanks :)
@_date: 2017-12-05 04:30:16
OK, I typed it, then chickened out :)  
@_date: 2017-12-05 09:30:45
Good question :)
reached out to me to apply to Blockstream.  We'd talked previously about pettycoin; it was a sidechain before that word existed.  So I guess it was natural.
I was pretty excited; I brushed up on my C++ ready to hack on bitcoin core with and et al, my first major new project in years.  I planned to go across to California to meet everyone and ink the deal.
Meanwhile, the Lightning paper dropped as I was wrapping up my old job.  I couldn't understand it; it *seemed* to promise great things but it was convoluted.  I asked around, and nobody else was sure it was all there.  So I finally sat down with a notebook and a glass of wine, and half an hour later I figured it out.  I blogged a primer series, to help others navigate the paper.
So when I finally visit Mountain View, I had an awesome week.  And right at the end, Greg Maxwell says he's going to make me work on lightning.  Because I'd blogged about it.  It felt a bit like bait and switch, but damn it was too good an opportunity to pass up, and we both knew it.
So, that's how I got here.  And it turned out I'm *just* clever enough to understand all the other bright people who are doing lightning, which is a relief!
@_date: 2017-12-14 10:17:16
B can't get the money from A until the present the proof of payment. The only way they get that is from C.
@_date: 2015-12-20 01:00:05
I've approved it on the grounds that our moderation appeal system had failed.
I expect you will see little effective difference, however. This thread is not resolving anything, not changing minds. This is why we were supposed to require new data for beaten-to-death topics :(
@_date: 2015-12-24 01:57:46


That doesn't matter; it's very easy today, it'll be very easy tomorrow.
The core devs have been very clear on this for a long time; on this issue, their communication is hard to criticize.
@_date: 2017-12-29 04:52:49
People complain about dev centralization, but the Bitcoin Core wallet hasn't been leading for ages; I've not used it in years myself. There was talk about separating it out.
It's good to see work finally going into the wallet code recently, and it would have been great to have bech32 support already. Also, HD restore support and other features.
But this may be an opportunity for a segwit-only wallet to be developed by someone, too...
@_date: 2017-12-05 06:19:28
Why wouldn't the miners try?  Why wouldn't those businesses doing high turnover try?  They've got form on this, and it's clearly in their interest if they can win.
Unless you're predicting that there'll be no war because they'll get what they want?  I think all hodlers and devs would disagree with that...
@_date: 2017-12-05 09:17:42
Well, it's not clear it *is* a problem.  It's just how it's designed.  The problem is the side effects if you're not expecting them, which is why I wrote this.
@_date: 2017-12-22 03:39:16
You should organize one then.  If enough people follow you, it'll get adoption.  (I'm serious BTW).
I've been seriously advocating for a gradual blocksize increase for a few years now (mainly because it would have taken until now to kick in).  But the well has been nastily poisoned.  It's also pretty clear than a gradual increase will still leave us subject to spam and/or inefficient usage, not to mention ulterior motives like pumping other coins.
The only ray of hope I can offer is that once the current price insanity settles, the fees will start hurting participants who currently seem insensitive to them, and transaction patterns will adopt.  But then, I would have thought that would have already happened, so what do I know?
@_date: 2018-09-18 09:08:49
FWIW I'm downvoting every post which mentions this psychotic. He's the diametric opposite of the interesting things happening in bitcoin :(
@_date: 2015-12-18 03:30:24


I'll save this here for hilarity and posterity.  Downvoted.
@_date: 2015-12-07 07:45:20


You must be new here!  It can be pretty damn toxic, and I have fairly thick skin.
That said, most of us bitcoiners are quite friendly in person!
@_date: 2017-12-05 09:51:58
Yes, we still need full nodes: they can't be unattainable.  Particularly since you should be checking every single transaction ever, yourself, if your business is relying on bitcoin.
But still, fraud proofs would be much better for lite nodes...
@_date: 2015-12-23 22:49:18


No. I misunderstood this too!
Like today, a wallet won't let you double-spend.  An RBF-supporting wallet will combine txs and bump fees, or may do it automatically, but just as there's no " steal money " button in wallets today, there won't be one tomorrow.
Hope that helps!
@_date: 2015-12-18 23:18:33


I almost equally impressed with this statement as I am with the first, so again, I'm keeping it here for posterity and general enjoyment.  But I've downvoted it, too.
@_date: 2015-12-18 23:16:18
Sorry, took a day off, and it's now weekend here.  I'm now checking my mail :)
But I don't think "YA blocksize proposal" post is going to pass the "must make progress" test at this stage, unless it presents new support or data.
@_date: 2015-12-23 21:15:32


Full RBF has little to do with it: zeroconf is trust.  Double spending is very easy, it's just that nobody has packaged it in a common wallet. Nobody is talking about doing that with RBF either, so AFAICT things haven't changed.
@_date: 2015-12-14 20:14:06
Most payments will be micropayments, I expect, but it depends on the early users of course.
@_date: 2015-12-22 19:36:20


Exactly.  There are some indicators, but will revisit in 6 months.
@_date: 2018-09-23 00:48:51
Not at all: intermediate nodes may be able to guess from context what was purchased (given the limited size of the current network). But the public doesn't see any of these payments.
@_date: 2015-12-10 23:53:22


Of course not.
1. Previous examples don't give any reason to believe kidnapping is likely (though harassment is likely).
2. This story fell apart so fast nobody is likely convinced anyway.
3. Seems like the idiot called it upon himself.
3. The development list is for development.  There are other good causes, but not here please.
4. The bitcoin-dev list is not likely to make the difference.
5. This isn't Satoshi either.
Concern that some crazy might react would be better addressed getting a sticky thread on @_date: 2015-06-28 00:52:15
Good point, but murmur3 was already lying around in the bitcoin source.  All I need is a universal hash to prevent hash bombing. We could probably use something even simpler like pick 8 random bit offsets and xor the 48 bits from that offset together (I think?).
@_date: 2018-09-18 21:19:56
As a first approximation: With C you need the expertise to understand what additional things you need.  With C++ you need the expertise to understand what things to avoid.
But really, I'm pretty comfortable in C.  If I were going to switch languages it would likely be Rust.  But learning a new language and starting a new project are at odds with each other, so I didn't.
@_date: 2015-12-23 11:15:37


Yes, many people did.  And many wallets are dumb with fees, so they don't handle a fee market at all well.
@_date: 2018-09-28 22:33:42
The Blockstream store runs on c-lightning and Charge: 
@_date: 2015-12-22 19:42:10
Through intermediaries.  You can pretty much connect to any 5 nodes on the network and reach anywhere else.
@_date: 2015-12-19 01:29:11


Did he make a proposal on the list?  I only saw a long post on politics and economics.  Which AFAICT didn't make progress either.
@_date: 2015-12-14 20:22:02
Understanding was increased.  It became clear that scaling worries go beyond block size, and that this is going to be a marathon, not a sprint.  The miners' and pools' voices were heard clearly, that they want orphan rate kept to a minimum, but they're prepared to make (some) compromises if needed to scale the userbase.
@_date: 2015-12-14 00:24:41
I will certainly be running a node; how else can I dogfood!  I expect all the implementers to run nodes as well, including some over Tor.  This is on testnet, of course :)
Once real money is involved, I'll expect to run a small node because I want to dogfood.  I'll probably run it with $10 of bitcoin on a cheap VPS, where it'll get stolen within a few months :)
@_date: 2017-12-05 19:58:28
I promise I will post something on reddit, yes.
@_date: 2015-12-15 00:21:46
Yep, this is awesome! They had some good feedback about the low-level (boring) protocol details, too: this is why it's so much fun working with people actually implementing stuff.
@_date: 2015-06-26 01:40:28
It's not absolute bandwidth which is often a problem, it's the bufferbloat issues.  fq_codel does wonders, but until that's widely deployed a more intelligent bitcoind would be great.
@_date: 2015-12-23 11:08:53
Ah, that makes more sense.  Though I think it makes even more sense if the GUI wallet gets split into a separate project...
@_date: 2015-12-23 06:39:33


Whatever level fees are, increasing them will reduce the userbase.  Even if people are simply using bitcoin to get onto sidechains/lightning, it reduces the number of people doing that.  eg. $5 fees would kill lightning adoption.
There's *never* a time when users will say "now is a good time to increase fees!".  Even if you say "wait until everyone on the planet is using bitcoin" (ie. adoption is saturated) then those users will feel betrayed "hey, but we only adopted bitcoin because there are no fees!".
(That doesn't mean blocksize shouldn't increase!  It just means there will always be a user argument for an increase).


Interestingly, at 17% bandwidth growth a year, (ie. 92% every 4 years) we would almost keep pace with the subsidy halving every 4 years.  We also need a 70x fee increase to match the current subsidy though :(


Unfortunately, that's not how it works.  If the system doubles in value, it needs approximately double the security.
So I believe the most likely scenario is that fees will increase (I hope they'll stay low though!).  I feel some responsibility to share my data and predictions with others, lest they feel duped into using bitcoin.  I think some people feel that way already :(
@_date: 2015-12-22 06:26:23


No, they only need to match the maximum possible transfer.  You misunderstand.  In a well connected network, you'd expect roughly the same amount going from A-&gt;B as going B-&gt;A.


I think this reflects a misunderstanding?


Huh?  Let's say there's a big sale and everyone floods into all channels to Best Buy.  They would presumably use lightning to transfer that out to (say) Coinbase to convert to fiat; this would also balance their channels.  They might also start accepting new connections into their nodes.
Now, there *is* a question about what happens when BB comes online the first time and wants (say) 50BTC of incoming channel capacity Right Now.  There may be paid nodes which will provide that (you'd pay them via lightning, of course!), but normally nodes would increase capacity as it gets used up, because they seek profit.
Hope that helps!
@_date: 2015-12-17 04:03:48
They should certainly keep an eye on it, but there's going to be a fairly long transition time; tech doesn't appear and get adopted overnight.  Lightning offers a decentralized method, but so does bitcoin: Changetip can easily change into an introductory gateway for Lightning instead of raw bitcoin: they'd save on fees, at the very least.
@_date: 2015-06-15 01:45:02
Yes, you need a channel to receive a lightning payment, and you need bitcoins to open the channel.
I can imagine a scheme where Alice pay's some gateway to open a channel with Bob (Alice will need to cover the gateway's bitcoin transaction fee for channel, at least).  Paying that is easy because the gateway *is* already on the lightning network.  There are details to work out about how to tie the two together, but that may Just Work in practice.
This is really where Joseph Poon shines, thinking about these issues...
@_date: 2015-06-29 10:16:18
And even ignore implementation decisions, there are real issues with relying on mempools for block contents; at the very least, they create a mild pressure to conform to others' expectations.  That may be arguably good (mining seen transactions vs. mining your own doublespends), or may be bad (having looser rules on transactions you allow will have a real cost, such as if you're running an upgraded bitcoin core).
@_date: 2015-06-22 20:54:14
TLDR: generalized channels + HTLCs for chaining can build a caching network.  Exactly what they look like is now the debate...
Haven't digested it in full, yet.  And it's pre-coffee here.
It seems to use timelocks as the method for revoking old transactions (ie. new timelock shorter than old, so new will win), rather than handing over a secret.  The HTLC construct is the same.
The authors suggest a time delta of one hour; with timestamp manipulation I'm not sure that's sufficient, and it's certainly not good if one side is intermittent (eg. phone).  But I've only skimmed, and might be missing a trick.
Their criticism of Lightning due to expense generating keys is kind of valid though; the current Lightning variation I'm going with uses a chain of hashes.  Turns out you only need to generate 64 hashes to get a series of 2^64 secrets, and the other end need only remember at most 64 of them.
@_date: 2015-12-15 23:13:55


This.  Upvoted.
@_date: 2015-12-15 23:13:13


This is incorrect.  You can publish them whenever you want.
@_date: 2015-06-19 08:20:27
That has also happened numerous times before and since though. Fortunately I caught such an event in (bitcoin-corpus)[ Not sure what it proves?
@_date: 2015-06-19 04:57:17
I'd love to see your results; if you want a hand I can add a few digital ocean vms!
@_date: 2015-06-03 20:23:25
This is a good point, of course.  Thus my next post :)
@_date: 2015-06-04 00:50:56
Indeed. Sometimes I wish the perfect world win over the good, and I'll certainly cheer the jstolfi on if they try, but I won't hold me breath either.
@_date: 2015-06-15 01:33:23
It is one of several possible decentralization measures, indeed.  Do you have any others that conflict with it though?
@_date: 2015-12-24 22:38:17
The first paragraph on the zeroconf/RBF conspiracy is where I stopped reading.  I enjoy skepticism, but I'm not surrendering my holidays reading insulting paranoia.
@_date: 2015-12-19 23:33:33
It's more ambitious than the weak block scheme we outlined in Hong Kong; it uses miner commitments, not just encoding.
The numbers, however, are pretty misleading. He talks about soft block transmission of 24k, but that's just the txids. We could do that with blocks today, but the latency is a real issue.
IBLT helps there, which is why is working on it (using a format which allows for both).
@_date: 2015-12-22 05:08:07






Ah, hello!


Not by me!
If your average lightning tx completes in 3 seconds, then if each side puts 0.1 BTC each (~$50) into a channel, it might transfer $24,000 per day under optimal conditions.
Of course, we have to wait until we've got some test deployments to see what our actual number is: it's very sensitive to failure rates (as bitcoin is glacial compared the lightning).
Frankly, it'd be far easier to fund lightning development if there *were* a requirement for megahubs (VCs love barriers to entry!).  But there isn't, and we don't want them anyway.
Hope that helps!
@_date: 2015-06-14 02:04:00
No, a small amount of bitcoin in the mainchain gets transferred as a small amount of bitcoin on the side chain.
All the sidechain proposals so far use the same network-broadcast model as bitcoin, so I don't think it's a cure for scaling issues (though it could help experiment with solutions and mitigations).
@_date: 2018-09-15 01:28:23
Would love a bug report: the only crashes I know of were spruned returning invalid JSON, and one case ofa corrupted bitcoind?
@_date: 2015-06-06 08:37:07
Weird, I posted the same thing a few hours later. Maaku points out the SIGHASH_SINGLE issue which makes this far less simple though...
@_date: 2015-06-28 05:45:10
Most useful post ever; exactly answers my question over murmur3!
@_date: 2015-12-06 22:23:28
The mood may well be different after today's talks.
But the miner panel made it clear they generally don't want to be kingmakers, and really would prefer to follow some established consensus.
@_date: 2015-06-21 23:31:00
That's generally quoted as the total rate, shared between subscribers, right?
Doesn't stop me being envious though :)
@_date: 2015-12-22 19:40:42


All these arguments are time-independent: they apply tomorrow just as much as today: There's never a good time for a painful transition.
Fortunately, I'm not trying to figure out if the timing is right, just if it's happening!
@_date: 2015-06-21 01:38:57
Hey, have you got a citation for that doubling rate? I've been trying to find some , and haven't found anything convincing :(
@_date: 2015-06-19 08:24:55
Go measure it, please.  Even if you accept that only large data centres should mine, I'd like real data.
@_date: 2015-06-22 23:17:38
Interestingly, no. Lightning transactions are between two parties: spam yourselves silly! The routing stuff is a bit more complex though, and may have its own spam problems...
@_date: 2015-12-23 06:51:37


Did you miss Pieter Wuille's 17% per annum increase proposal?  Or Adam Back's 2M-4M-8M increase proposal?
I am a little more aggressive on blocksize than my colleagues (mainly because I worry that a successful Lightning will flood Bitcoin with new users!) but I understand their experience with scaling bitcoin-core this far has made them extremely cautious.
I think the future is that Bitcoin will be capacity constrained; we should be very clear about this, and what this means as a community.  Wallets need to get smarter about fee estimation, optimize for small transactions, and generally work harder for their users.  Protocols need to be optimized to use the capacity we have more wisely, and we need new tricks like Segregated Witness and fraud proofs to allow "lite" nodes to be as secure as possible as full nodes become more expensive to run.
But, yeah, the blocksize stuff is frustrating :(
@_date: 2015-12-24 04:40:57


This is simply not effective.  Most pools have a way to hand them transactions directly.  Eligius does non-standard txs, too, so that's even easier.
There have been a number of researchers who have replicated this, too.
Most places trying to zeroconf don't discuss it, because it's bad news and because they don't want to reveal their workarounds, AFAICT.
@_date: 2015-06-14 02:12:45
(Hi, I'm implementing lightning)
CT doesn't help here, since each node is actually transferring money to the next (thus knows it).  It helps in the channel-close case where you hit the blockchain though, so worth doing for that.
My plan was a poor-man's onion routing, so each node knows the prev and next.  But that too introduces fun issues with unreachable destinations and DoS.  Resolving these is going to be a big part of the fun...
@_date: 2015-06-03 06:02:58
Good point. Fixed my post.
@_date: 2015-06-04 07:52:21
Sorry if my post wasn't clear; if block size doesn't increase, we will have scarcity, and higher fees are what will happen. I'm not advocating a position, just trying to describe it.
Hope that helps!
@_date: 2015-06-08 23:47:46
Just to inject some numbers: my [estimates]( show that about 45% of transactions move less than $1, so by your estimate they'd be eliminated by a 5c fee.
@_date: 2015-06-24 04:38:29


Wait, what?  All bitcoins are IOUs in that sense;though they're guaranteed by math instead of good will.  Do you object because the guarantees are weaker for off-chain transactions?  Does this mean SPV wallets "no longer using bitcoin", because those have less than full bitcoin security guarantees, too.
If you believe bitcoin can scale on-blockchain to everyone buying a cup of coffee, how many decades away are you thinking?  Whoever lead you to believe this was possible in the near future was misleading you, I'm afraid.
@_date: 2015-06-14 02:14:50
No no no, if it becomes that we've failed.
The only trust issue is that someone can delay, meaning you have to back off to the blockchain.  Of course, they then don't get any more fees.
@_date: 2017-12-07 03:33:56
 There you go :)
@_date: 2015-06-29 10:25:16
Close.  It's a bit more subtle.  The Relay Network basically uses fixed indices (eg. "Remember the 7th tx I told you about which we haven't used yet?").  That's really efficient, but assumes the RN tells you about every transaction.
The IBLT approach allows more fuzziness: I make one from the txs I know about, you make one from yours, and if they're close enough you can reconstruct the differences.  Gavin introduced them [last year]( and they're pretty cool.
But we can't just use txids in the IBLT, since someone can create clashes by grinding out their own transactions which clashed (some part of) txids; a rational miner would drop both clashing txs in that case, which would allow someone to DoS your transactions.  So we need to generate a 48-bit ID which is where I was just using SHA256().  That works, but it'd be nice for something better.
And (my new hero sapiophile)[ pointed me at SipHash, which is *exactly* what this calls for!  And it's only about twice as slow out-of-the-box as murmur3 (ie. 6 times faster than the best SHA256).
@_date: 2015-12-24 01:18:01






You can't tell if a tx is double-spendable (they all are!), but you can try to tell if the user has double-spent before.  My guess is that kind of de-anonymisation is becoming the norm, which is why various places are saying RBF isn't a big problem for them.
@_date: 2015-12-16 03:38:38
Don't know,  but I just increased my custom tip amounts by 1% to compensate.
@_date: 2015-06-21 23:42:06
Fiber had been around for a long time, and economic incentives are pushing a skew in upload vs download; a peer-to-peer network wants both equal.
15% per annum seems a safe bet, Nielson's Law says he gets 50% a year, the global norm for the next 20 years is probably somewhere in that (wide!!) range. Unhelpful, I know :)
@_date: 2015-06-19 02:59:28
I could have a 20THash mining farm: the result would be the same.  Gavin has been using his home DSL as a benchmark, so I thought it an important data point.
@_date: 2018-09-18 21:23:09
And the [CHANGELOG.md]( shows the previous names:
1. [0.1] - 2015-08-08: "MtGox's Cold Wallet" (named by Rusty Russell)
2. [0.2] - 2016-01-22: "Butterfly Labs' Timely Delivery" (named by Anthony Towns)
3. [0.3] - 2016-05-25: "Nakamoto's Genesis Coins" (named by Braydon Fuller)
4. [0.4] - 2016-08-19: "Wright's Cryptographic Proof" (named by Chrstian Decker)
5. [0.5] - 2016-10-19: "Bitcoin Savings &amp; Trust Daily Interest" (named by Glenn Willen)
@_date: 2015-06-19 08:16:37
As I stated in the post? It may fix it, but there's a lot of tricky implementation to go...
@_date: 2015-12-23 22:51:31


You should never use zeroconf for channel creation. RBF or no.  That's never been part of the plan, so your assertion is incorrect.
@_date: 2015-06-30 23:51:39
"The situation is bad. I don't know why you're worried about making it worse!"
This kind of malthinking is why I prefer to stick to engineering aspects of proposals.
@_date: 2015-12-23 11:20:52


You know that Satoshi's original client can't handle 1MB blocks in a reasonable time, right?  There's been a *lot* of work to get to the point where bitcoin-core can handle it.
And it's those who did most of that scaling work (Pieter Wuille and Greg Maxwell) who are most reluctant to commit to further increases.
@_date: 2019-07-09 20:47:26
This is only kinda true.  You have a signed tx at that point.  It could be spent after some known delay by a counterparty if nobody's watching, but you really are holding a valid bitcoin tx.
(This is also true for Eltoo, FWIW).
@_date: 2015-06-06 11:58:50
It's not quite that simple.  Enforcement then requires evaluating the input scripts.  If you don't enforce it, then it's just best practice which is nice to have, but nowhere as good making it a rule so implementations can't screw up.
@_date: 2015-06-19 11:16:23
Agree with all your points, except I worry about the last. If large pools can fill their own blocks as a weapon against smaller players, it's almost free to do. I guess it's more traceable than a DoS so maybe they'd have to fill everyone's blocks (more expensive).
Mining pools seem pretty ruthless to me; I hope we can engineer our way out before we put this to the test!
@_date: 2015-06-04 04:09:27
This gels with my analysis reasonably well.  20% of the blockchain is fairly easy to cut out by your measurement; I get about the same result at "10c minimum output" level.
blockchain.info has graphs filtering out "[long chains]( but they don't define it precisely.  If it's "tx only consumes all outputs of a single previous tx" that might be worth adding to the analysis?
@_date: 2015-06-04 07:50:04
It might not make sense to you, but that's what happens. Bitcoin core behaves that way, and that's what miners run.
Hope that clarifies! 
@_date: 2015-12-23 09:52:49
I don't think it'll be part of bitcoin core, to be honest. There are no n-way consensus issues, and I think bitcoin-core will adapt to support higher level constructs (including lightning) so it doesn't need to.  The current RPC interface works for the moment, meanwhile.
@_date: 2015-06-19 11:02:13
Oh, and regarding compensation: I am paid by Blockstream, but not too do this. I'm implementing the Lightning Network, but I promised myself that after first prototype code drop I would take some time to do some block size work. I'm also revisiting my IBLT tests, to see if I can extract useful data from that too.
Hope that answers your question?
@_date: 2015-06-19 10:12:44
Yes, I think measuring the bandwidth to each peer is possible, but there's the effect if the limitation is the single connection to the outside world which needs to be measured somehow. Doing it right is a bit tricky (particularly with malicious nodes!) but should help buffer bloat too, which may help increase number of full nodes.
@_date: 2015-12-18 22:17:02


I think this implementation fails at this goal.  A sudden release of fee pressure (to 2 mb) shakes the market up much more than a steady increase.
It's become clearer that we need to care about other scalability issues. There seems to be promise around miner voting + some burst mechanism.  But that research is early days yet.
For reason I prefer a definitive bs-cap can-kick which contains a long-term "endpoint" consensus (eg. that fees will pay the miners, that miners will somehow control blocksize cap in an incentive compatible method).
@_date: 2015-12-24 23:06:33


But the majority of transactions are still using fixed fee amounts. 
@_date: 2015-06-22 23:30:54
I'm more worried that miners will be asymmetrically disadvantaged, to the extent that some can use it as a weapon against others.  This is one good reason for a serious test...
@_date: 2015-06-23 11:25:23
Keep it civil please.
I have not *done* IBLTs.  I've made progress, but testing and integration are going to be a lot of work.  I'm hoping people will add more improvements along the way, too...
@_date: 2015-12-02 04:40:49
You missed the most important benefit:
* Supporting wallets can adjust fees, so no more stuck transactions.


No.  These transactions already (and deliberately) look like sequence-locked transactions, which are flagged as replaceable by anyone doing 0-conf analysis.  You should see the reddit FAQ thread.


No. If you're looking at your wallet and simply accepting the existence of a 0-conf as proof of payment, I can trivially screw you already.  Tools already exist to do this.


This is the only downside, but it turns out the merchants doing this need to adjust frequently to changes anyway, since the 0-conf arms race is pretty tricky.  And meanwhile merchants doing single-conf are getting screwed because their customers can't fix their fees.
@_date: 2015-12-17 04:13:39


Altruism powers many important things in the world, but it seems pretty safe to predict a fee market roughly in line with costs.
@_date: 2015-06-03 20:39:12
Nice plot!  I hadn't seen that before, thanks.
I wasn't trying to extrapolate in that post, but I'm adding a reference to the next one.
@_date: 2017-12-14 10:17:00
B can't get the money from A until the present the proof of payment. The only way they get that is from C.
@_date: 2015-12-10 09:13:23
I would have rejected it.  Which simply means it's forwarded, only to those who want to seek it out.
@_date: 2018-08-15 02:35:32
Interesting.  We've not seen number-of-peers-related instability on SLEEPYARK (c-lightning); we just discourage direct connections to keep the network more distributed during bootstrap.  I expect it may struggle with more than 30,000 connections though, due to socket limits.  I'll run some tests...
@_date: 2015-06-21 04:53:09
Nielsen's Law of 50% bandwidth growth per year, based on his sample of 1 (himself).  It's an interesting anecdote, but lacks the rigour I'd like to see.  Lots of people quote it though.
But as far as I can tell, it's a ceiling.  My personal rate is about 42% (I'm a factor of 10 under that now, and I used my first modem around the same time as he did).  An old school hacker using a 300bps modem in 1974 would have a growth rate closer to 30%.
Akamai have data on what they serve, and it's more like 15% per annum, but very variable by country (and a PITA to extract data!) at  .  CISCO expect home DSL to double in 5 years ( ), which is about the same number.
Anyone got decent data? :(
@_date: 2015-06-19 10:08:21
No idea; I'm an engineer, so I look for engineering solutions.
@_date: 2015-12-10 22:38:20


There are no responses because everyone else knows the rules.
Off-topic means no.  That's a very simple rule.  There are other fora.
@_date: 2015-06-20 20:54:08
Indeed, I believe most miners use BlueMatt's relay network.  It's trivial to set up, and encodes blocks with references to transactions you've seen before, which really helps.
That helps you receive blocks quickly; it doesn't help you *send* them quickly though.  He suggested you run a private relay network up to a fast node to get that effect, which is certainly possible (though not entirely trivial to maintain).  The other option is a private pool, run somewhere well-connected, which feeds your less-connected miners.
@_date: 2015-06-02 23:59:48
Well said. People forget the lag from idea to adoption; lightning will be a marathon, not a sprint. That doesn't even mention the risk that once implemented, we discover downsides which are not yet clear.
(Disclaimer: Blockstream are paying me to explore lightning now)
@_date: 2015-12-23 22:44:03


Seems negligible.
Intermediaries need to unwrap the onion (1 ECC OP) and some normal symmetric crypto for comms. Originators need to create the onion (ECC OP per hop, plus some symmetric crypto). Well within reach of a Trezor, for example.
@_date: 2015-06-03 00:02:08
Actually, for many users in Australia today, their cell network can peak faster than their home DSL.  I'm not convinced that the percentage is all that far off.
@_date: 2015-06-25 03:58:50
Maybe; but I joined BlockStream, and I want a blocksize increase.  Just not to the moon :)
@_date: 2015-06-29 10:28:15
Does this help?  
@_date: 2018-05-01 02:44:17
Channels work by us agreeing to update the current transaction we're holding, and cancelling the previous one. Currently, cancelling is done by handing over a key for the old one which lets you steal all my funds if I were to ever use it: the so-called penalty transaction.
This way, instead, if I used an old one, you can update it with the latest one, no problem (actually, you just spend the old one with the latest one).
That's way less harsh, eg if you restore from backup and have an old state. But it's also simpler, and works with more than two parties (the old "penalty" approach doesn't: who gets the penalty?).
@_date: 2015-12-07 15:26:02
Really?  That's not a good thing...
@_date: 2015-12-13 20:12:55
From this level, you can consider weak blocks and IBLT to come under the heading of "thin blocks".  IBLT is just a way of compressing the mempool differences, basically: there's some chance the mempools are too different and you fail to reconstruct the block, but it works most of the time.
@_date: 2015-12-22 06:32:02
indicated in his latest BIP draft that he didn't want to disrupt the fee market.  So I dived into the last 4 years of transactions to look for signs that a fee market is emerging: if it is, that suggests we should not "jump" a blocksize increase, but rather aim for a ramp.
@_date: 2015-12-22 19:30:42


Why do people on reddit complain about the data as if I was responsible for it?  I'm just trying to make sense of it.
@_date: 2018-08-28 00:46:30
Hmm, so c-lightning did an rc release, no mention?
@_date: 2015-06-06 22:29:10
My mistake.  Bitcoin core doesn't evaluate scripts in IsStandardTx(), so I didn't want to add that.
But it does evaluate them later in AreInputsStandard() so it's no big change.
@_date: 2015-12-24 01:15:15


Well, if enough people want it, I could add a "doublespend" button to a wallet today.  There are tools to do this already; just a question of integration.
@_date: 2018-08-12 05:23:18
Not as written.  His server goes down, your wallet is useless.  I find this very disturbing, and completely the opposite of what people think of as lightning.
@_date: 2015-06-28 05:38:34
Great links here, thanks!
What I find also interesting is the propagation to other miners: you can guess some values by looking at orphan timing here:
In particular, that 15 second-wide band of orphans implies most miners are getting new blocks within 15 seconds. might have propagation statistics for the relay network, too...
@_date: 2018-08-13 03:24:44
See  you lose some nice properties.  Generally lightning won't allow a payment until both sides agree the funding is locked in: if there's demand, we could loosen that....
@_date: 2018-05-01 02:45:52
Update. And it's per-peer, so it's not like we have to restart the network. If both peers support eltoo, they can use this (once SIGHASH_NOINPUT is in bitcoin ofc).
@_date: 2018-08-12 05:22:34
But opening a channel with pushing a payment is exactly the same; in fact, that is in the protocol for that reason!
@_date: 2018-05-01 21:30:35
Ha! I'm just trying to keep up with the other two!
@_date: 2018-05-04 21:42:46
I like the solution we came up with for this exact scenario in Milan: Carol provides Sue with the funding tx(s). That's a QR code each way, which seems managable.
@_date: 2018-08-25 22:40:04
It's a good q. You can add up listfunds results, but of course if there are more outputs you'll be paying more in fees to fund a channel.
You can use fundchannel all to use all available funds, though.
@_date: 2018-08-09 03:05:32
That makes no sense, sorry.
LTC got LN-capability by default (because BTC did), not because of any significant development activity.  And I don't expect atomic swaps to LTC to be common, since you can just use BTC and it's far simpler (unless you're trading).  And LTC's centralization makes the claims that it's "robust" very suspect.
@_date: 2018-08-13 03:23:40
Yes, I dislike push for similar reasons.  But perhaps in future we should have an option to allow (non-fwd) payments earlier than channel confirmation?  That would allow such payments-on-open, with the vendor having all the normal issues with zero-conf.
(Background: we don't allow payments until both sides agree that funding tx is confirmed at the moment, but an extension to do so is fairly easy...)
@_date: 2018-05-07 00:57:16
Thanks!  I feel I provide a service by forcing you to explain it in terms I can understand, so that others have a hope of following too :)
@_date: 2018-05-01 08:54:28
But now you can also restore from backup without risking funds. Turns out not all obsolete spends were malicious...
@_date: 2018-05-10 23:25:10
Aliases are self-defined.  There is no "taken", since there are no reservations.  It's just for silly fun.  Remember to set your favorite color, too!
@_date: 2018-05-20 03:02:46
Me too.
@_date: 2014-05-10 00:36:29
Worked well for me, thanks! 1000 bits verify
@_date: 2018-05-11 01:59:59
To be clear: The *name* is the public key.  There are cute *aliases*, which by default in c-lightning are NSA-style codenames derived from the pubkey (hence SLEEPYARK).
(There are also colors!)
suggested we only allow emoji, to avoid this confusion while still keeping the cute factor.  Some people think that idea is  but if someone writes a good way to map 32 characters into emoji I'm all s.
@_date: 2018-05-16 04:49:24
You probably started in on testnet, then switched? For your open protection, it won't use the same db. Probably want to blow away .lightning dir except config file.
@_date: 2018-05-01 21:30:33
Ha! I'm just trying to keep up with the other two!
@_date: 2018-08-11 02:04:21
The QR code is standard. The use of change output to create a channel is kind of weird: it's no different from opening a channel directly, but at least it messes up coin analysis.
The promotion of Anton's wallet is troubling: it uses a central server so has no privacy :(
@_date: 2014-05-25 23:30:57
localbitcoins.com for a face to face trade is a fun way to meet other bitcoiners, but you pay a price premium. I prefer btcmarkets.net to coinjar.io, mainly because coinjar doesn't have their trades accessible so it's impossible to know their volume.
@_date: 2014-12-30 01:38:48
It's actually a softfork.  I made the same mistake, but it's spelled out in the paper.
@_date: 2014-05-22 05:21:09
Nice!  500 bits @_date: 2014-05-08 00:33:10
Despite the unknown provenance of the site, I tried it and worked flawlessly.  Nice job!
@_date: 2014-09-06 09:08:08
Actually, Google alerts is a good idea! But no, I was reading the subreddit when I saw this question, which reflects my own thinking. I thought it a bit self promoting to mention pettycoin but since someone else did, thought I'd chime in :)
@_date: 2014-05-25 06:04:19
I like localbitcoinslocalbitcoins.com (very buyer friendly) and also btcmarkets.net though their volume is lower.
@_date: 2014-05-22 06:28:57
100 bits @_date: 2014-05-26 03:58:28
Very good experiences: the escrow service protects *buyers* really well.
You can click on the sellers' name to find more details.  The Gold Standard is someone who has 100+ trades with 100% reputation, 150+ BTC traded and many different trading partners.  In my experience such people are friendly and help you if you somehow screw up :)
Good luck!
@_date: 2015-05-29 00:18:59
Ah, it's a bit technical, but I described this in [Part II]( of my LN explanation posts.
The basic idea is that I offer to pay the middleman using a bitcoin transaction which they can redeem if they know the answer to a riddle.  They turn around and offer someone else the same deal, and eventually someone answers the riddle and we all get paid.
eg. I have a channel open with you, and you have a channel open with Starbucks.  Starbucks say to me "That'll be $3, and here's a riddle".  The riddle is a simple bitcoin script, like "what number hashes to 982371051307130591375807582903573250974958259023?"
So, I send a bitcoin transaction to you "Here's $3.01 you can have if you know what hashes to 982371...".  And I tell you Starbucks knows the answer.  You send Starbucks a bitcoin transaction which says "Here's $3 you can have if you know what hashes to 98237...".  They give you the answer by collecting that transaction, so you can immediately turn around and collect your $3.01 from me using the same answer.
Now, I haven't had to trust you, and you haven't had to trust me, etc.
There are details involving timeouts, routing and fees, but I hope you get the idea!
@_date: 2014-05-23 03:28:35
That sucks, truly.  Tiny consolation: 500 bits @_date: 2015-05-29 01:07:49
It's two things.
First, a caching layer for bitcoin.  We send transactions back and forth to each other without needing to hit the blockchain (except the first "anchor" transaction to set up).  The trick is that we construct these fairly complex structures of transactions to support it, so we can drop the current transactions we've agreed on onto the blockchain at any time, *and* so that we can't do that with old transactions.
Second, it's a network.  So I can give you a transaction which will  pay you if you pay walloon5 and walloon5 pays Starbucks (or whatever routing we want).  This means you don't need to create a channel with everyone you might want to pay.
Hope that helps!
@_date: 2014-09-06 02:15:47
Indeed, I'm working on alpha2 at the moment. There's not much to see if you're not a developer at this stage, bit this should answer your questions:  
@_date: 2015-05-25 23:29:19
Somewhat. The paper refers to the idea that channels could charge negative amounts to help balance them, and almost anyone could take advantage of this. 
But in general I think it's best to consider lightning a caching layer for bitcoin (thanks Adam Back); it can only do things that bitcoin can do.
@_date: 2015-05-29 00:27:15
I'm sorry you couldn't comprehend the post.  It's proposing an incremental improvement on the model proposed in the paper, and assumes a good familiarity with the subject.
@_date: 2015-05-29 00:02:49
This is quite a nice explanation, thanks!
@_date: 2017-02-07 04:34:36
Nope, because older clients will hand out current addresses, not segwit ones.  So new clients will know you want a non-segwit output.
@_date: 2015-05-25 23:24:59
No ETA, sorry, but "lots of time" seems about right!  And yes, I wrote those parts; glad you found them useful!
First we need to implement generalized channels. Then HLTCs. Then routing, channel pricing and node discovery. Then deployment, debugging, and the inevitable security issues.
I'm working actively on the first, and my thoughts on the others are in the early stages...
@_date: 2015-05-28 01:18:27
FWIW I haven't done anything closed source since 1997.
@_date: 2015-05-29 00:00:42
I didn't think to ask.  Hmm, Jeff Garzik seemed enthusiatic.  Linus called me an idiot, but that was unrelated... :)
@_date: 2017-02-02 00:49:38


No.  That would screw over anyone who is holding a standard, presigned tx on an existing UTXO.
We could later soft-fork out non-segwit txs &gt; 100k, which are currently nonstandard anyway, which severely limits the problem.
@_date: 2015-05-29 00:30:15
Thanks for the report.  Chromium 41.0.2272.76 Ubuntu 15.04 works fine here...
@_date: 2017-02-12 08:14:36


False, false and false.
@_date: 2017-02-28 01:00:32


Forcing everyone to upgrade is not "simple".
But it doesn't matter: we simply don't know how to safely do a block size increase large enough to make a big dent in fees.
I wish we did; I could stop working on lightning and go hang out at the beach or something...
Segwit gives us a factor of two, better efficiencies might give us another factor of two, and we might eventually HF to some gradual increase, but it won't fundamentally change the experience.
@_date: 2015-05-28 00:24:06
Err, ok.  They hired me.  We agreed I'd be working on developing lightning.  I set up a mailing list and am developing a toy prototype to explore the ideas.  Will put on github once that's ready (two weeks?) but it's a long long way from anything someone could use...
I'm excited about lightning, but it's a marathon, not a sprint...
@_date: 2017-02-28 19:51:30
Yep, still not done.  They actually need to amend legislation...
@_date: 2015-05-29 00:20:17
That's technically true because it doesn't exist yet.  But the paper describes a network, and that's what I'm trying to build towards.
@_date: 2015-05-28 00:10:16
Hi Mike!
   To be clear: Blockstream asked if I wanted to explore lightning (by myself for now).  I jumped at the chance, of course.
   StrawPay have done great work with standard channels, and I think there's definitely a place for them (especially since they exist today!).  But the full Lightning network is much more ambitious, and requires *generalized* channels as a basis, which are different enough to require an independent implementation.  I certainly don't want to see the bitcoinj channel implementation warped to fit a model it doesn't currently need.
So I'm trying to prototype something.  We'll see where it leads...
@_date: 2015-05-29 01:11:51
Oh, and disadvantages:  It doesn't exist yet.  It's complicated.  It's new.  It requires (fairly non-controversial) soft-fork changes to bitcoin.  You can't spend money you haven't set up an anchor transaction for yet.  The name is hard to google.
The good news is that I'm trying to fix the first of these...
@_date: 2015-05-24 02:26:20
Am working on it. It's a big job, though. If you're interested in the technical stuff, see ~~ 
@_date: 2015-05-24 07:58:15
No, pettycoin is dead. Fun project, and I learned a lot, but done today it would be a proper sidechain, and Lightning has a much better scalability story anyway...
@_date: 2017-02-27 05:54:48


Do you have a reference for this?  There was a proposal, but I wasn't aware of any legislation.
@_date: 2017-02-12 20:00:00


And P2WPKH are smaller than P2PKH.


Like any block increase, yeah, it allows a miner to "spam" the network with, um, larger blocks.


True unprunable data is priced higher than witness data.  But the implication that spam is given a discount is false.
It's an opt-in blocksize increase, on top of every other benefit.  I'm sick of idiots claiming problems which aren't there.
@_date: 2015-05-28 00:20:44
Yes, in fact the paper itself suggest a burst mechanism by which any blocksize cap can be violated by failed lightning contracts.  It's not clear to me though that the attack is viable; and in the case of a major hub collapse there are good reasons not to immediately flood the blockchain (you're better off hoping the hub comes back online to close cleanly, so you can get your funds back before the timeout).
I like the timestop idea for RCLV (or whatever) though!
@_date: 2017-02-02 04:24:50


I mean 100,000 byte transactions; transactions larger than that are already considered weird  (aka "non-standard") and won't be relayed (miners can still mine them though).
@_date: 2015-05-29 04:53:39
The exact mechanics of these are still being debated. I expect that having a real implementation could help that debate.
We're also currently limited to one soft fork at a time, which may not be a bad thing...
@_date: 2016-03-31 05:58:30
Not quite; BIP9 works in the same 2016 block chunks as the difficulty adjustment (2016 blocks is about 2 weeks worth).   The first blocks with the "536870914" version will be made by core starting at the first difficulty change after May 1st.  There then needs to be 95% of the next 2016 blocks with that set.  *Then* it's locked in, and will activate 2016 blocks after *that*.
So first possible activation is about a month later.  But we'll know about 2 weeks before it happens for sure, and we'll also be able to see how many nodes (of the 5%) *don't* upgrade in that time...
Hope that helps!
@_date: 2015-05-28 23:27:15
You'll be happy to know that I listened about using protocol buffers, though :)
@_date: 2015-05-28 00:31:03
Um?  ELI5 how creating a public development mailing list is behind closed doors?
Saturday 16th I got back from a week in SF meeting everyone, and started working on lightning.  Some of that was thinking about future issues, some was doing some prototype hacking.  I also set up a development mailing list (now moved to blockstream's hosting), where I've made [two posts]( about lightning.  I'm going to repost them to the blockstream ml so I can close the ozlabs.org list.
This is week 2 of a months &amp; years-long process.
@_date: 2017-02-07 04:46:55


You can't just change the blocksize varialbe.  It now needs to become a variable (at least, for before and after activation).  But many other things are tied to it, directly and indirectly, and all those need changes, and decisions.
Here's the simplest patch which actually changes blocksize: 
It's 17 files changed with 334 additions and 64 deletions, and actually drops the maximum possible transaction size to 100k, and does it at a fixed blockheight.
It does nothing to fix incorrect sigops accounting, malleability, hardware wallet problems, script upgradability, or allow nodes to discard more of the blockchain, for example.
And I want all those things!
@_date: 2017-02-07 04:33:39


Like pay-to-script hash did.  You probably weren't paying attention, but adding new transaction types is how bitcoin has evolved so far.


But older clients won't create such transactions or addresses, so why do they care?
And with a hard fork, nothing will be spendable with old clients :(
@_date: 2015-05-28 00:17:04
I joined Blockstream a few weeks ago, and they said I should go and work on lightning, given my previous [blog posts]( on the subject.
So it's just me, it's week 2, and I set up a mailing list.  I'm hacking out a bits-and-pieces prototype of generalized channels now, and it'll be on github as soon as it's not completely embarrassing.  Say a couple of weeks before first unusable code appears?
I posted to a comment about it on the [last lightning reddit thread](
Hope that helps!
@_date: 2017-03-05 20:14:04






Not really; since you don't expect to settle every one of them on chain, you pay oversize when you do need to settle.








No, I was referring to the "onramp"; you need an on-chain transaction to create a lightning channel, even if you never do another bitcoin transaction again.  And opening a channel isn't time-critical.


No, the payment might not work, but no funds should be lost here.


Well, if fees become so high that you can't send $400 onchain, Lightning will have trouble bootstrapping :(


Why argue?  I have stats sitting here for smallest output from each tx in blocks 450000 - 451000 here, and the largest grouping of txs are a 7-digit satoshis (say $1000 to $10,000).  That surprised me actually; only about 1/8 are $10-400 (assuming $1000 BTC).
People are upset because Bitcoin doesn't work like it used to.  That's perfectly understandable.


What?  I'm not pushing anyone.  I'm trying to develop a workaround for a limitation of bitcoin (mainly confirmation delay), and it has its own limitations.  I'm just trying to make sure people know what they are...
@_date: 2017-03-21 23:36:17
OK, so I looked at the spec.  Yes, it can be, but FlexTrans (BIP 134) is a hard fork.  I don't think it was meant to be, but it is :(
It is also missing some subtle features of SegWit.  For example, in SegWit the txout says what version to use to interpret the input (currently 0).  This is actually really clever, since it simultaneously avoids any future weirdness if NOPs change, and allows future script to do things NOPs can't do (eg. manipulate the stack).
@_date: 2017-03-02 23:49:43


That would be great, but we don't know how.  We just don't.  Sorry.
@_date: 2017-02-27 05:49:41
By definition, if you make a profit paying tax is not a big issue :)
If you have a stable partner, you might consider having the person with the expected lesser income buy them, too.
@_date: 2017-02-26 23:37:48
(I am not an accountant) Yes, that means you need to worry about capital gains (if &gt; $10k), but you don't need to worry about declaring it as "assessable income" (which you'd pay full income tax on).
ie. Hold for at least a year so you only pay 1/2 the tax you would otherwise.  It's insane, but that's how it works.
@_date: 2017-03-23 03:57:51
It's 2^32 millisatoshi.  We'd have to actually upgrade the inter-node protocol to change it.  While this can be done, it's deliberately not a trivial step.
@_date: 2017-02-27 23:22:03
Thanks, but that's the point; I didn't think this was fixed yet...
@_date: 2017-03-02 23:45:40


Not at all; lightning works with proportional fees and is less reliable for sending large amounts, where onchain uses fees by transaction weight.  They're complimentary. Most lightning transactions will be too small to be useful onchain.
And onchain is the onramp (and offramp) for lightning, so if lightning becomes wildly popular, that's a lot of fees to miners.
@_date: 2017-03-11 01:11:22


Not true: everything else in SegWit (bar, perhaps, the blocksize increase) follows directly from separating witness data.
A hard fork doesn't add anything.  The main "technical debt" issue is that bitcoin has to support old as well as segwit-style transactions, and I don't know of anyone who's proposing to invalidate currently-valid transactions!
@_date: 2017-03-14 02:14:27


No, nodes were always supposed to check the results of miners.  You're deeply confused.
@_date: 2017-03-21 23:29:43
How do you see the comment then? Honestly curious...
@_date: 2017-03-03 00:35:18
Doing it safely, that is the trick though!
Good link!
@_date: 2017-03-14 02:15:41


NO.  The most-work (approximately "longest") chain if *valid* blocks is definitive.
No amount of work can currently make an invalid block valid.
@_date: 2017-03-02 10:10:30
What "hard blocksize"?  Once segwit has activated, why do you care about full nodes which don't support segwit (the only ones seeing truncated blocks)?  Everyone else will see blocksize up to 4MB (expect 2.1 average).
So you're suggesting 4MB + 17.7% a year (worst case), 2.1MB + 17.7% a year (expected case).
I think a rest to see what explodes after the first doubling is understandably cautious.
@_date: 2019-03-13 00:28:04
Tor node can connect to non-Tor node.  Not the other way around.  If you have a channel, both sides will try to connect, so it should Just Work.
@_date: 2017-03-14 02:21:16


This narrative is false on all fronts:
1. Miners are easy to measure, but they don't control bitcoin; it's a consensus system.
2. If you want a hard fork, it takes planning and time, so then we all get to argue about how much notice to give.
3. A single doubling doesn't offer much relief; in 3 months you'll want another one.
So, no, there's no magic "just do this and we'll go away".  It's "just do this and we'll double down on our next demands" unfortunately.
@_date: 2017-03-28 23:51:27


Yeah, I was writing pettycoin: a sidechain (ie. pegged to bitcoin, not an alt, but the term sidechain wasn't invented yet!).  The idea was to trade away some of the bitcoin security to try to get more bandwidth; then you could go back to bitcoin to get your security back.
I wasn't very smart though: it also traded away privacy (explicit change outputs).  But it's an interesting space to explore.  These ideas were largely obsoleted by lightning, though I think sidechains with different properties are very interesting.
@_date: 2019-03-01 22:00:46
We're discussing this in the context of "what if there were a flaw in the MW math and/or implementation" though.
@_date: 2017-03-23 20:10:12
Not really, but there are two issues with that.
There's the other point about it being harder to find capacity for large transactions.  Hard to know how significant that is until we see large-scale deployment.
There's also breaking the payment model: how does a merchant accept part payment?  What if they don't get the other part?  So I doubt this will be commonplace.
@_date: 2019-03-11 22:39:32
Good point. But I will connect to you, because I also Tor :)
@_date: 2019-03-06 23:16:39
Works fine until *both* ends change IP.
If there were a reliable way to detect IP changes, we could send out a new node_announce, but that's only if you have public channels. Otherwise we need some rendezvous service. Will need to think more about that...
@_date: 2019-03-10 02:58:19
Yes, I use Spark for c-lightning: 
@_date: 2019-03-02 03:01:43
Yes, content is ok, but title is wrong. :(
@_date: 2015-05-24 08:02:21
Exactly. It needs some malleability fixes; new sigops are the best bet. It really wants relative checklocktimeverify, too. The good news is that these are pretty uncontroversial; just a question of details...
@_date: 2017-03-21 23:43:53


Change "blockstream" to "Coinbase" or "Xapo" and this is exactly what happens today.  They don't need lightning; in fact, it's bad for them if they thought they are destined to become the single custodian of bitcoin.
@_date: 2017-03-23 03:57:04
I think the network will be well-connected, otherwise there'll be profit to be made in connecting it.  But with no barriers to entry, that results in it being well-connected.
@_date: 2017-03-02 23:40:11
I assumed no malleability...
@_date: 2017-03-01 23:27:00


You mean instead of setting the cap at 4MB, SW discount should ramp up 17.7% per year?
IOW, shouldn't we wait until *after* we see what happens with the doubling/quadrupling of blocksize due to segwit?
@_date: 2017-03-22 01:42:09
Not *quite* that simple a tx: each HTLC output still has revocation and timeout terms. But with MAST it could be single-sig + hash.
@_date: 2017-03-01 23:33:12
Because it's hard to hear you're not getting a pony, especially if you were told it was coming.  Having engineers tell you there's no safe, easy way to do what you want is the same thing.
@_date: 2019-03-12 04:32:14
Sure!  And that's been the case forever.  But you have to have Tor set up (obv) to connect to an onion address, and that's an extra step many don't bother with.
@_date: 2019-03-02 02:55:10
Yes! 
And some examples in contrib/ with more in 
@_date: 2017-03-05 20:21:00


We have massive miner centralization.  It has not "worked perfectly"!
And it's worth pointing out that the people who did the very scaling work you're talking about are the ones telling us we've reached the limit.


Segwit will increase the real block size limit.  You put the word "base" in here because you don't like segwit, but it's an expansion any way you slice it.


If this fixed propagation time, why are miners still SPV mining?


That is a workaround, not a fix.  See SPV mining.
I know you want to believe we can simply continue as we have been.  I get that.  But despite increasingly heroic efforts, we're slowing down, and developing more problems.  That's why I work on a different method of progress.
@_date: 2019-03-01 21:59:46
I actually have a plugin to show me totals in fiat, since I'm easily confused :)
@_date: 2019-11-24 03:45:42
@_date: 2019-03-01 22:03:28
See  :)
@_date: 2019-11-03 02:56:39
Actually, with current network it's often easy to establish the destination and source, see: 
@_date: 2019-11-02 21:59:10
Pamela Morgan has thought and written extensively on this topic: e.g. 
My solution was to make sure my loved ones know that I hodl, and my estate lawyer has a sealed envelope with details of where to locate the keys and a trusted OG bitcoiner to contact to retrieve the funds. I also fill that role for at least one other person who has coins, on a cost-only basis (since retrieving funds may involve travel).
@_date: 2019-03-02 03:05:25
This might help:
@_date: 2019-11-19 20:44:17
That's the "real max", yes: 0.042btc per payment at the moment in fact. I was aiming for brevity.
@_date: 2016-06-15 06:01:22
Well, you'd *think* heavy users would care more about getting lower fees, but maybe that's simplistic?
@_date: 2019-03-04 20:31:23
In one case, it's a clear spec violation, in another we clarified the spec, but implementations don't roll out instantaneously.
@_date: 2019-11-19 05:49:06
1. How? Offchain atomic trades of bitcoin txs.
2. Min/max: No real min, real max. You need to find a path to your destination and have enough funds.
3. Green? Not yet.
4. Always! And it's a hot wallet, take care.
5. Wallet needed?  Yes, if you want to try lightning.
@_date: 2019-11-23 22:49:18
Yes! Tor directly gives you far better anonymity than chat over lightning. The upcoming Nym network should be even better than this.
You might decide to use lightning to anchor your identity somehow, but chat-over-lightning is more about "we can" than "we should" AFAICT. Which is cool, of course, but...
@_date: 2016-06-10 00:41:00
No (BIP9 coauthor here); it's "locked in" once 95% support within the retarget interval.  But they continue to advertize support, so we can get an idea of exactly how many stragglers there are.
@_date: 2016-06-04 04:04:27
See the previous thread on this:
@_date: 2016-06-04 05:58:06
They use their tablet to scan the QR code of my phone, it tells them how much to charge me, then they enter their pin and hit done.
@_date: 2019-11-04 08:36:45
Good thought! Invoices and receipts are great except when they aren't: we've been thinking for a while on how to build something better.
In love the idea of a static "invoice" which gives you much better privacy than a static Bitcoin address, and we're getting close...
Now, this inspires me to get back to that draft I was procrastinating about! :)
@_date: 2016-06-03 23:32:27


Cool! Ok, now I'll do my homework :)
@_date: 2019-11-05 03:43:25
No, if you're one of the nodes on the path you get *way* more information.  That's always going to be a battle: longer paths pay more, and have lower success rates, so people don't want to make them too obscure.
We do random perturbations in c-lightning, but it's not enough (yet).  And fees seem like they'll be so low that implementations should JFDI: who cares if fees increase from 0.001% to 0.01%, or even 0.1%?  I'll buy you a beer and cover your fee increases for your lifetime...
@_date: 2016-06-15 20:53:01


Cheaper transactions and fewer stuck ones in the future?
Really, with all the noise over the last year, I'd expected intelligent wallet behavior to be universal.  It's not.
@_date: 2016-06-15 05:53:45
To be clear: it was those paying round numbers (50, 60, 80, etc).
(Thanks, clarified post)
@_date: 2016-06-15 07:15:12
Not 10%; most fee rates work out to about 3 decimal places, like "26.738" or "19.3424".  There'll be a negligible number of false positives, but I already rounded to 5%...
@_date: 2016-06-03 11:21:47
Well, it was already known:  :)
@_date: 2016-06-09 10:57:00
btcmarkets.net worked fairly well when I was last testing exchanges. For smaller amounts, I found  is superb: 4% margin and at 1200 newsagents.
@_date: 2019-03-06 23:13:36
If these privacy revelations are freaking people out, I'm sorry. But that doesn't stop them being real, unfortunately. Hopefully this is the first step to more awareness, and real solutions.
@_date: 2016-06-15 20:46:26
That graph fails for me :(  "InfluxDB error response: Internal Server Error"
It seems like some are just changing their hardcoded fees; and change seems to be very slow.
@_date: 2016-06-25 04:44:23
Good point!  I just pushed a trivial fix (my test script thought that bitcoin-core didn't support segwit) and tests now pass.
@_date: 2017-08-11 18:04:44
And can they implement neutrino for bitcoind while they're at it? :)
@_date: 2017-08-12 05:05:56
I just don't see it, myself.  It's like a middle-of-nowhere county building highway infrastructure and exit ramps.  That won't make make people drive on them!
If bitcoin can do this, why bother with alts?  Unless you're pumping your alt, of course!
@_date: 2017-08-09 10:33:53
Consensus isn't everyone agreeing, it's the majority agreeing and everyone who has an objection being heard and considered.
I think we *can* do this, despite the noise in the signal.  But there's a valid question on whether we will know if we have consensus or not, and I think that's going to require some different measurement approaches, and hope that they aren't *all* gamed :(
@_date: 2017-08-21 05:09:05


Not everyone else has agreed, and yeah, all the current bitcoin developers opposing it is a pretty big red flag.
@_date: 2016-06-15 05:56:44


Um, they would pay lower fees at the moment on average, *and* have less chance of getting stuck.
@_date: 2016-06-07 04:36:58
1.  Holding bitcoin is tricky; it's literally digital cash.  You can't trust anyone else to do it, and you're probably not used to holding thousands of dollars of cash in your home.  You need to worry about theft, you need to worry about loss.
2. Imagine you'd bought at $31 and saw it drop to $2.  This happened.  Think seriously about what happens to you when it all fails; spend more time thinking about this than dreaming about the opposite.  It's sobering to read accounts of people who lost their kids' college funds in MtGox, but you should do that, too.
3. There's no easy exit: you won't be able to sell fast, or whenever you want, without paying large premiums and increasing risk.
4. If you're looking at a sizable investment, get tax advice first.
If you still want to go ahead, consider getting a few dollars worth and practice securing it.
@_date: 2018-10-08 01:00:47
Many miners let you inject a transaction directly to them via custom APIs, and some will replace even if not RBF-marked.  Or you can send it to them at the same time you send the tx you want replaced to the vendor.  There exist tools to do this is you search hard enough.
Note that since wallets won't let you use RBF to "unspend", you're already talking about someone using specific tools to cheat...
@_date: 2016-06-10 00:24:09
For an instant cash over the counter transaction around the corner from where you are, it's very cheap.
@_date: 2018-10-08 01:01:23
True (more like 2 weeks for LND, for example, depending on capacity of channel).
@_date: 2018-10-27 09:48:03
It's configurable.  lnd uses 1-14 days depending on amount.  c-lightning uses 1 day.  Eclair uses 1 day too.
@_date: 2019-11-20 00:56:19
Note the spec change is  but we need to make sure we have two interoperable implementation before it gets included.
@_date: 2016-06-15 05:55:54


Clearly not, if we look at the blockchain.  About half are using round-numbered fees, another 5% using round-numbered fee rates.  found other magic values previously, so this is a lower-bound.
@_date: 2018-10-19 10:08:37
It's tied up with the schnorr proposal: as it requires a new signature opcode anyway, and Schnorr gives us other winnage, that's OK.  But it's deeply unclear when that proposal will be ready.
@_date: 2017-08-07 08:31:09
Each bitcoin, at its mathematical heart, contains the correct pronunciation of Pieter Wuille's name.
True story...
@_date: 2017-08-11 13:45:46
Yeah, we could long do one-way channels, but they had finite lifetimes (usually a few hours) because you had to have a timeout in case of malleability.
Lightning is full two-way channels with unrestricted lifetimes + a network of atomic swaps.
@_date: 2018-10-18 02:34:29
That's separate: it's catching up on the status of the lightning network (bad if you open your app for the first time in a week!).  Optimizing gossip protocol for this is an ongoing effort...
@_date: 2017-08-24 04:17:22


And what have you done to reduce the impact?  Consolidating payouts offers about a factor of 2 savings (on top of any segwit benefits!).  If you're not normally doing multiple payments per block, you could offer a "ship by sea" mode which batches this way.
Though to be fair, I think it was that said that implementing such a "roll-up" mode in bitcoin core was horribly difficult due to malleability.  I'd love to see someone implement this for segwit txs, though...
@_date: 2017-08-28 22:26:24
To be fair, it made sense if there was *nobody* who wanted to deliberately follow the old chain.
It's pretty clear that such universal consensus is unlikely, so I agree it becomes coercive and should not be done.
@_date: 2019-11-03 02:42:32
No, you could *always* stash data end-to-end, though TLV formalized it.
This wasn't implemented because without up-front fees, it's ripe for network abuse. It's also very inefficient (taking two round trips per message). 
It *is* however, cool. I guess up-front fees are coming sooner than I anticipated.
@_date: 2017-01-15 23:09:30
Define "scalable"?  It's OK for the first few thousand public nodes, maybe the first tens of thousands of users.  We'll know more as we see how people use it.
I present some numbers here: 
@_date: 2018-10-20 11:52:46
If you do it, please post back here explaining how you lost your funds!
Otherwise, I'm in Australia: PM me if you happen to be near here.
@_date: 2017-01-30 00:05:55


I think because the benefits are mostly to bitcoin.  So you've kind of got to be a bitcoin maximalist to start with.  Otherwise, you start an altcoin and dream of overtaking bitcoin...
@_date: 2018-10-03 21:41:17
No, we always round down. Mainly because it's easy and nobody cares...
@_date: 2016-06-15 07:16:10
But the harder it is to get onto the lightning network, and the less secure the LN will be.
Really, I'm saying "stop paying stupid amounts for transactions"...
@_date: 2016-06-04 04:02:14
Well, it worked!  
Local newsagent operator wasn't fluent in English, so I didn't successfully ask if I was the first to do this, but when I showed her my phone she knew what to do: took less than a minute, total.  Nice work!
Glancing at a block explorer, you need to work on your backend: sending two transactions for every customer (3Agxod -&gt; 19govWM -&gt; customer) is a bit awkward.  You should probably be batching payments as well, but that would mean a delay in broadcasting them (or RBF, in the future).
But generally, nice work!
@_date: 2017-01-15 04:33:30
Yes. This is testnet, where segwit is active.
@_date: 2017-08-12 07:22:30
Yeah, this is the same analogy I use; a 2of2 signatures checking account.
1. It's a pain to set up, you gotta go to the bank.
2. You swap pre-signed checks beforehand, so you can get your money.
3. You swap updated checks to make a payment, and tear up the old ones.
Then you get into chaining:
1. A smart bank, which allows conditional payments: pay to them before &lt;somedate&gt; if they have &lt;some answer&gt;.
2. Use this mechanism to chain payments, so you can form a network.
Finally, real life caveats:
1. You can't make someone "tear up" digital information, so we invalidate checks by providing an invalidation stamp, which gives all the money to the other party if it's used.
2. We also add a delay to every check processing, to ensure you get a chance to use this invalidation stamp.
3. The bank is a blockchain, so we can see someone deposit the check and respond.
4. You can copy the invalidation stamps far and wide, so anyone could use them; they can't tell what they're for until (if) they see the corresponding invalidated check.
@_date: 2018-10-22 01:14:10
If they've done a simple scam (eg. put in a pre-populated seed phrase), sure, reset works.  But it's not that hard to replace the firmware or even the entire hardware, and then this won't work.  Given the potential money involved, I'm sure we'll see that happening.  Will you be the first report?  Maybe!
@_date: 2018-10-08 00:51:40
Not really; it's between two parties, so your loss is my gain.  If we round down payments to you, it's rounding up payments to me...  But in this case, it actually goes to mining fees, since all outputs are defined to round down on settlements.
eg. We end up with 200000.999 satoshis to you and 100000.999 satoshis to me, and it becomes a 200000 satoshi output for you and a 100000 satoshi output for me.  We could also have up to 966 HTLCs, which could each be xxx.999 satoshis, too.
In practice, the larger "rounding error" is from eliminating outputs below 546 satoshis which are eliminated (otherwise the transaction won't relay through the bitcoin network, being considered dust).
@_date: 2017-01-31 11:09:50


Fascinating, I have a friend whose PhD was in energy generation research, and that sounds terribly ambitious :)
We're 8 years into Bitcoin; trying to lock in things for more than that far ahead requires more brain power than I have available. Fortunately, software is somewhat fungible.
@_date: 2017-01-15 23:12:27
Indeed, there are at least three implementations.  It's more like a wallet implementation than a core implementation.
That said, there's a [spec]( so we can all inter-operate.
@_date: 2018-10-06 10:30:36
Indeed, and the proposal explicitly enforces the same payout rate; was pointing out that this mechanism in general would allow increasing it...
@_date: 2017-08-07 23:29:16
The result would be pretty nasty, though 5% seems a bit pessimistic at this point.  But if Bitcoin becomes vulnerable to a 51% attack, we'd need to fall back on non-Nakamoto-consensus during the crisis.  This would suck, whether it's a contentious fork or a government black-ops server farm :(
@_date: 2016-06-03 02:40:07
Actual source article: 
No comments there on *when*...
@_date: 2017-08-16 02:53:43
Each tech is one-way: Satellites send you blocks.  You send txs out using SMS.
@_date: 2017-08-08 00:41:28
The developers who've been contributing to bitcoin for the last few years unanimously oppose it.  Almost all Barry Silbert's companies accept it AFAICT, and many miners did (but that's unclear with bcash now).
You can perfectly choose not to listen to those who know most about bitcoin, but it's certainly not consensus!
@_date: 2017-01-16 02:41:25
Welcome to reddit? :)
@_date: 2019-11-20 00:54:22
I expect some simple support in each of lnd, eclair and c-lightning next release. Enough for some experimental testing, at least. Then there are more aggressive things like using it by default which will come later.
@_date: 2017-08-08 01:06:44


No, this is simply untrue.
BIP9 co-author here: we chose to use miner signalling for protocol upgrades because it's easy to measure.  But past upgrades have used different methods, and probably future upgrades will too.
@_date: 2018-10-29 21:32:57
Except the discounted part is transitory: once the tx is validated you can discard it. Which is *why* it's discounted: doesn't bloat everyone's utxo set.
@_date: 2016-06-03 02:41:09
I'd love to test this out!  Your map looks ambitious; what's the timing on this?
@_date: 2018-10-08 00:50:56
We're agreeing.  The Timewarp mechanism allows you to increase payout rate, but your "proposal explicitly enforces the same payout rate".
@_date: 2017-01-15 23:15:20
It fixes some annoyances which stop more advanced use of bitcoin.  It's just an extra, meaning all the current stuff is still there, but us bitcoin nerds get pretty excited about it :)
@_date: 2017-08-18 03:22:56


There's no real consensus, unfortunately.  All the current core developers oppose it.  It seems like a significant number of smaller economic players oppose it, and wallet authors.  Those long-running full nodes seem to oppose it.  Exchanges will almost certainly play both sides, because that's what they do.
These can, of course, change between now and November, but it's just looking like a trainwreck at the moment.
@_date: 2018-10-22 01:35:00
He's referring to Satoshi's suggestion of strengthening SPV:


This approach isn't possible.  Firstly because you end up being spammed by fake alerts and now you're downloading all the blocks anyway, but mainly because there are things you can't check without the UTXO set (eg. spending a non-existent transaction).
This is the reason for the ideas around compact fraud proofs, but there are drawbacks to almost all UTXO commitment schemes they would require.  Research continues...
@_date: 2017-08-18 03:32:52


Barry Silbert's companies (some of the biggest in the space) and the large miners made an agreement, yes.  But it's also clear that the UASF movement forced them to adopt segwit very quickly in case it split them off the chain.  So maybe Segwit would have been activated now anyway; if not Segwit would have been activated by BIP8 in 2018.
Point is, there is no consensus on the 2x part, and they're refusing to make it a clean split, so it's going to get messy :(
@_date: 2016-06-16 20:48:21
As immortalized by 
"When they go out, Pieter Wuille pays for his parents."
@_date: 2017-08-24 03:09:29


Weirdly, there's no evidence of this.  We'd expect to see the largest bitcoin businesses consolidating transactions to halve their size, but we don't.  So I don't expect they'll jump on segwit, either (though some users will go straight for the malleability fix, I expect).
For those of us on this inside it feels like a rolling crisis, but from the outside it's hard to see that.
@_date: 2017-08-18 03:04:40
If it had failed, it would have been activated via BIP8 in 2018.  It was just a question of timing.
It definitely put pressure on the miners to fast-forward activation, however.
@_date: 2017-08-24 03:17:52


I have sympathy with this, but it's mainly complex because people don't understand how bitcoin works already.  I'd like to create a tutorial called "the path to segwit" which shows how the decisions to segregate witnesses leads intuitively to all the other design decisions.
The only thing in segwit which could have been sanely dropped without introducing technical debt in the future was the size increase.




Bcash used the segwit signing algorithm, *and* required SIGHASH_FORKID.  Hope that helps...
@_date: 2017-08-29 12:27:16


Well, that's a stronger argument the other way: that the old chain be sabotaged so they don't risk loss when they fail to upgrade.
@_date: 2017-08-18 03:27:23


I think you mean the majority of hashpower?  Which, regrettably, means a handful of miners.
It was a deal between Barry Silbert's companies (some of the biggest in the bitcoin space) and the big miners.  The opposition seems substantial, though far less organized, which is why we're seeing such a nasty deception war (eg. fake twitter accounts, and attempts to force users in one direction without offering opt-outs).
It's going to get worse...
@_date: 2017-01-07 03:50:42


This is a bit misleading.  Your cost will be 1/4 for your input scripts, which are pretty big.  For a plain 2 input, 2 output p2pkh tx, the non-segwit version is about 372 bytes, weight is 1488.  About 210 bytes of that are inputs, so segwit version's weight is 858.
40% smaller under segwit  translates directly to 40% lower fees.
Now, if more people are using segwit, you could argue that there'll be another effect: that more space means fees will drop.  That's much less certain, though as transaction demand can easily grow more than that in the same timespan...
@_date: 2018-10-23 22:26:17
I can't be the only one who read 14k as a price prediction?
@_date: 2017-08-20 03:54:16
I can only repeat it more often then :(
And re: developers: they also users, so I think they should share their expert opinion.
Bitcoin changes are certainly not for the miners to decide, it pretty much requires a significant majority of miners, developers and users, otherwise the default is "no change".  Developers are the group most concerned with long-term problems (eg. when subsidy runs out, or a large malicious miner), whereas the other two groups are usually more short-term price conscious.
Now that's fine, but it does mean the changes have to be clever: good in the short term (simple, backwards compatible, reliable), good in the long term (maintainable, upgradeable, incentive-compatible).
@_date: 2017-08-21 02:11:18


Um, no, actually.  End of June they stopped being full.  There were many threads about it, including accusations of long-term spamming.


It certainly will if there's no replay protection: safest thing to do is not make any transactions at all.
@_date: 2017-01-29 03:23:12


This is actually a very good question.  There are two ways to do a new blockchain: one is an altcoin (ie. new currency), the other is a sidechain (ie. bitcoins).  Traditionally, doing an altcoin is easier, plus, hey, free money.
But doing a sidechain both strengthens bitcoin and allows specialization: you don't need to cover every possible usecase in your new chain since you can always move back to bitcoin's chain.
I hope we see more of this, and I think others feel the same.
@_date: 2017-08-08 01:08:31


Yeah, which is another way of saying the same thing.  People invalidateblock the attack chain and continue as before.
But, yeah, suckage.
@_date: 2017-08-25 22:45:09


Yes, it's weird. It's like sending money by courier, who charges by weight, not amount. Wallets could make it clearer though, t what the weight of your account is. And that sending a million dollars in pennies is going to cost you more than a million dollars...
@_date: 2017-01-16 02:43:49
Prevent third-party malleability, so you know your commitment transaction is going into the blockchain as-is, or not at all.
Without that, there was a chance someone would change it, making your pre-signed "give me back my money" transaction useless.  Hence you had to include an "emergency timeout" clause in the commitment transaction in case that happened.  Thus having to close out the channel before that emergency timeout clause fired...
@_date: 2017-08-30 23:49:50
It's not a rumour, it's in the release notes: you need to reindex of you downgrade. Slow, not impossible.
@_date: 2017-08-12 05:03:29
Zap uses lnd, so yes :)
@_date: 2017-08-11 13:42:26
Yeah, but that's kind of a detail.  lnd uses btcd right now, but AFAICT they're not that deeply intertwined; I imagine a lnd &lt;-&gt; bitcoind adaption would be pretty trivial.
@_date: 2017-08-08 09:04:35


Only to choose among valid competing blocks. Your mental model of Bitcoin is wrong: selecting which valid transactions to record is the only power miners have.
@_date: 2017-08-11 14:16:37
Well, lnd does it, so it would be hard for Zap not to :)
@_date: 2019-03-04 20:33:19
So, the largest contributor who hasn't previously named a release gets to choose the release name.  In this case, Mark Beckwith chose the name, in line with our naming scheme, based on that article.
@_date: 2017-08-28 10:49:09
Yeah, ideally Trezor would ask you to approve a fee *range*, and then underneath it would sign as many increments in that range the wallet wanted.
@_date: 2017-01-21 00:08:53


There *was*! When blocksize defaults increased to 100k, orphan rates shot above 1-2% and miners responded by joining the largest pool, which got over 50% of the hashing power.
And that wasn't caused by any miner being malicious. Perhaps because (unlike DDoS and other common attacks) that can be detected more easily. But if we leave that knife on the table, someone will try to use it eventually.
@_date: 2017-08-08 06:52:34
The thinking several years ago was to protect un-upgraded nodes from attack: years later someone mines the old chain to convince them they received funds, or something.
BlueMatt argued that was far too coercive, and I think our modern experience that some people will *deliberately* stay on a pre-fork chain (even if consensus were overwhelming) makes it clear that this is no longer acceptable.  At least, IMHO.
@_date: 2017-08-07 19:55:09


But it's clear that doesn't reflect 90% consensus from across the community.  Full nodes check everything: if miners produce blocks considered invalid by those nodes, it doesn't matter how much work they do.
@_date: 2017-08-18 03:03:29


No way.  It was a deal Barry Silbert's companies struck with miners.  Core developers said it was a bad idea, many other people said it's a bad idea.
@_date: 2018-10-08 00:53:25
You're right, it goes to fees.
@_date: 2017-08-20 03:45:14


They've made their opinions pretty clear.  There's no crisis which requires bitcoin's first hard fork be rushed, and there's a great desire to see what the segwit blocksize increase results in.
@_date: 2017-01-05 05:04:27
I think we'll see fedpeg first; Bitcoin is rightfully cautious about adding stuff. If a sidechain with fedpeg proves its worth, it'll be time to have the discussion IMHO.
@_date: 2018-10-02 22:03:18
Well, c-lightning will work with a pruned node, unless your lightningd is down so long that it falls back past pruned blocks. Since bitcoind wants at least 550 blocks, that would take about 4 days...
@_date: 2017-08-11 18:16:58
No, channels last forever.
The "timeout" is what we insist the other person wait if they unilaterally close, before they can spend their funds.  This gives you a chance to steal all my money if I try to cheat and spend an old transaction we'd agreed was obsolete.  My implementation will accept up to 3 days here; that's probably plenty, because you can have someone else watch for this kind of cheating on your behalf (pinging for progress...).
@_date: 2017-08-11 13:43:24
... and giving us more motivation not to do any more "tiny cleanups" on the protocol spec :)
@_date: 2016-06-16 01:56:05


No.  Better software would give the user control, rather than using hardcoded fees.  This includes the ability to give up, in the worst case.
Any fee-supported network will have to behave like this, as far as I can tell.  Fees will rise until those not prepared to pay are excluded.
@_date: 2017-01-15 23:10:22


Not with segwit!
@_date: 2017-01-31 03:40:43
1. In theory, 0.042 bitcoin at a time.  In practice, it'll work best for smaller amounts.
2. Your node advertises a base plus percentage, and if people choose to route through you, and the payment succeeds, you get that.
3. Large transactions belong on-chain, let's worry about that when we have 500,000 people buying cars with bitcoin every day?
@_date: 2017-08-20 03:57:05
No, I imagine most people won't be moving coins at all, so both blocks will be near-empty.  You'll have to rely on injecting txs directly near miners, and even then it's going to take a few attempts.
@_date: 2017-08-16 03:55:10
No, it's full blocks down.  And you get it for a once-up cost, rather than paying for each block.   Ttypical 2G data costs are horrible: even at 1c a block you're talking $100 in 10 weeks.
@_date: 2017-08-31 23:48:26
A controversial hard fork is a bad idea. I even wrote some stuff about that...
@_date: 2017-01-31 11:04:14
32 bit value in the protocol for number of millisatoshi.
@_date: 2017-08-28 02:33:03
No, but you need to get their Trezor/Ledger to sign multiple txs at different fee levels, and then have a heuristic on when to use RBF.
I've used RBF (aka "bump fee") on GreenAddress, and it works, but it's a manual process.  I'd rather say "please confirm within 3 hours" and have it sort out the whole thing itself.
@_date: 2018-10-03 02:24:04
That's stupid. Nobody should be sending txs without rbf! Otherwise they must be overpaying fees, and still risking getting stuck next time fees rise.
If someone's malicious, they can still easily double spend, RBF or no.
RBF and use low fees, then increase of you need.
@_date: 2018-10-22 03:23:49
So, Satoshi was wrong to care about this SPV vulnerability?
@_date: 2017-08-28 22:35:06


It's more that I believe in expertise, and experts.  If the experts say it's a bad idea, they might still be wrong, but it's foolish to ignore them.


They don't even have opt-in 2-way, let alone compulsory 2-way.  They are learning how to do this as they go, and hoping they get it right before November.  See my previous comment on "experts" :(
@_date: 2017-08-24 03:06:22


It wasn't easily googlable, otherwise I would have included a link.  might have a reddit link?
@_date: 2017-08-08 06:47:07


That seems counter to the known facts.  We're already seeing SPV mining messing with the security of the network.  We're already seeing massive miner centralization.  We've seen miners jump to the largest pool they can find when orphan rates creep up.
Also, I don't know of any serious analysis which supports your assertion, eg: 


Compact blocks are great until a miner mines unexpected blocks.  You have to plan for the worst case; do not rely on miners being saints.
@_date: 2018-10-18 02:35:47
Seeing this stuff finally get proposed and implemented for lite wallets has been one of the most impressive Lightning side-effects IMHO.
Great work!
@_date: 2017-01-15 23:13:27






I think "random user sent payment" is the point of this story, no?
@_date: 2017-08-24 03:02:18


There's no breakthrough.  See my previous post on "blockchains don't scale".  This is as good as it gets, I'm afraid, and I accept that you don't think it's worth it for a blocksize doubling every 5 years.
@_date: 2017-08-23 08:55:07
I'm all about layer 2! But I don't think we should sell bitcoin short; it can improve, too. (Actually, that's a trivial statement given how much improvement has already been done!)
@_date: 2016-11-30 23:17:16






It's a bit more nuanced.  You need to lock up funds in bitcoin to make a bitcoin transaction too.
In theory, there's nothing stopping you paying directly out of your channel funds to make an onchain payment.  In practice, that's not going in v1.0 of the spec (something had to get cut).


Yes, I think it's worth underscoring that there are multiple implementations aiming for interop.






Huh?  No, they are real Bitcoin transactions.  You *always* hold a transaction which gives you your money according to the current channel balance.  That's how it's trustless.
Sure, it looks a bit more complex than a normal P2PKH, but you have it, and it gives you your funds.
Hope that helps!
@_date: 2017-08-08 06:56:29


You're clearly trolling.   Obviously haven't been paying attention to all the scalability improvements done in the last few years.  
@_date: 2017-08-18 03:36:46
Well, everyone but the chinese miners were keen on Segwit; businesses and developers were pretty universally approving.
And BIP8 activation is closer to the way upgrades were done in the past, eg. P2SH.
@_date: 2017-08-25 22:41:27
Unfortunately, engineering doesn't work to timetables of desire.  We're better being late and not a train wreck, than being early and losing all the money.
I've been working on this for over *two years* now, and the other teams have been working together over a year. Because building a decentralised second layer on top of bitcoin is hard; it'll get easier with experience, but people like and are the smartest in the game and it's hard for *them*.  We're writing the textbook as we go.
So yeah, I would have loved lightning to be a thing before anyone cared about on-chain fees. But even more, I want it to last, which means building it right.
@_date: 2016-12-29 21:16:05


Well, if you only have a channel open with your counterparty, they know it's you!


This "lock up" idea is a myth (see  ) .  It's the centralizing effect of transaction fees that concern me more; even if the software defaults to creating two or three channels as volume grows, it creates pressure not to.


I think that's unlikely, given the competition to be that hub, but incentives are tricky; it depends how much early adoters value network health.


No, that can be outsourced.
That's not to say centralization is impossible, it's just deceptive to present these points as pre-determined.  We'll see...
@_date: 2017-08-11 13:47:44
To anyone on the network, and across all the implementations.  We're all furiously working to get the kinks worked out of the [spec]( and [interoperation](
@_date: 2016-11-04 03:29:57


Clearly you have no idea of the continuous improvements, but those of us paying attention deeply appreciate them FWIW.
@_date: 2017-08-28 10:47:41














I like your suggestions.  Of course, I can't stop you from ignoring any indicators you consider invalid.
@_date: 2017-08-26 06:50:01
Thanks, that's what I was searching for.  Link added...
@_date: 2016-11-28 04:05:40
No, implementations can create them, and mine does. But there's no standard encoding, and hex strings are pretty poor.
@_date: 2016-12-02 08:34:09
Lightning fees are proportional to amount. Miner's fees proportional to weight. That's the main reason they'll have different uses.
@_date: 2017-08-20 03:43:33
The math here is pretty clear, sorry.
@_date: 2017-08-22 05:23:26


Not at all.  They add privacy because they're not sybils, they help bootstrap because they supply blocks.
@_date: 2016-11-27 03:57:17
The answer is, it depends. There's definitely a business opportunity in offering lightning-to-fiat, just like Bitcoin-to-fiat today. Our job is to make it as trivial as possible to run your own node if you want.
I expect that as the ecosystem grows, fiat exchange will become a lesser issue (you'd want to pay your suppliers in Bitcoin too) so the benefits gained from outsourcing your lightning functionality will be less. Retrofitting lightning onto existing point of sale terminals may become a thing, but given their horrendous security record, maybe not...
@_date: 2017-08-07 23:26:59
No, I'm saying you can't just change the rules, because my node won't follow.
@_date: 2016-11-22 19:15:37
Oops, you are right.
give all my money!
@_date: 2017-08-11 18:03:48
The protocol makes a network of atomic swaps.  Making a 2 way channel is kind of easy, making it into a network was harder, and forms a significant part of [the spec](
But it does give that nice single-setup, multiple party use scaling...
@_date: 2017-01-12 02:55:27
Much of this will be familiar ground for r/bitcoin regulars, but the historical overview explains why I was so passionate about working on Linux for almost two decades, and why now bitcoin.
@_date: 2017-08-08 01:01:00


No, it was a small mistake.  But that was enough.  Cryptocurrencies are *hard*.
@_date: 2016-12-01 00:13:50
Indeed, sorry.  How did that even happen?
@_date: 2016-11-06 11:41:55


No, inputs have to be standard too.
@_date: 2017-08-07 19:58:37


This is flatly untrue.  There's no wide group of developers; none of the significant bitcoin developers from the last few years are supporting or contributing.


Until it's deployed, I'm sure there are no issues.  But there will be massive issues, if only because there's no replay protection across the split, which, given the lack of consensus, is bound to happen if the 2x HF goes ahead.
@_date: 2017-08-18 03:08:40
We keep telling people that Blockstream doesn't have a policy on these things, by design.  Individual employees of course have their opinions.
That cuts both ways; our investors can't tell us what do wrt. bitcoin, but we can't release some "official company line" unless that policy is changed...
@_date: 2016-11-18 20:46:03
I used them every time someone said something I found useful. So, about a dozen times over three years.
@_date: 2016-11-28 04:13:02


Not at all. There are many arcane constants, and there are even ones that you need to change to make a decent stab at a block size increase.
Your bold ignorance, especially when arguing with a key btcd developer, isn't helping add light :(
@_date: 2016-12-04 05:26:00
Nah, we could do it, but it would be ugly and not as good. Current design assumes it, too.
@_date: 2017-08-07 23:40:38
No engineers I know do, except Jeff Garzik.  We're about to quadruple the worst-case blocksize, and the proposal is to double it again in 3 months?
And if we're going to hard fork, I want the best possible team doing it, and as many eyeballs as possible.  Yep, they're conservative and it will take time, but in the long view, that's a feature, especially since we want the entire community to upgrade.
For example, it's become clear that a better HF is to give pre-segwit transactions a signature discount; this doesn't increase the worst-case blocksize, but does give an immediate boost and corrects the current nasty bias that creating outputs is cheaper than spending them.
It's also clear that we should bake in some gradual increase, be it linear (as per spoonnet) or exponential (as per Pieter Wiuille's 2-year-old proposal, and Luke-Jr's more recent one).
Some of the other spoonnet ideas are worthwhile too, which make things simpler.  They need thorough winnowing, and we need discussion on the trade offs for each one.
Finally, there's the question of deployment.  Since we don't want to break existing transactions, there's no real way to do 2-way replay protection, but opt-in is certainly possible.  We also want to give nodes warning in stages that the HF is coming, such as signalling a SF 6 months earlier.  There's a debate worth having on whether the inevitable percentage who choose not to HF should be supported or sabotaged (eg. by forcing a difficulty increase, or mining blocks which look empty to pre-HF nodes).
Dammit, I need to write a new post about this I think...  Sorry for the verbose screed :(
@_date: 2017-08-27 22:50:55
This is an excellent summary of the problem, though wallets at the moment are just dumb, as OP complains. RBF means you should low-ball fees, but when to transmit the replacements brings its own ux issues.
@_date: 2017-08-28 22:36:00
BCH has compulsory 2-way.  People are still losing money because they didn't change the address format, but at least they're not accidentally spending coins on both chains...
@_date: 2016-11-19 22:07:27
You can do it, but it's fugly. If someone malleates your tx you have to wait to get your money back. How long? You get to choose, but that's also the total lifetime of your channel.
My implementation, at least, assumes you know txids in advance; makes it trivial to watch for them on chain. Tadge's watcher outsourcing scheme wants this too. But these can be changed, the channel lifetime thing can't.
@_date: 2017-08-29 12:29:08
Oh, I thought it was, but TBH I didn't check either.  Maybe I just got lucky that my bitcoin sweep didn't get mirrored on the other chain.  That could have been confusing...
@_date: 2016-11-14 02:01:11
Software takes time, particularly things which have never been done before.  There's gritty ongoing work like speccing the wire format (draft out RSN), but there's also more speculative work on routing.  That's not a problem for the first few thousand public nodes, so we can bootstrap without it, but after a million it becomes a real usability issue.
But unless you're a developer, the real questions are:
1. When can I integrate it into my web store?
2. When will it be integrated into my wallet?
3. When will support be widespread so I can buy useful stuff with it?
And the truth is bitcoin-as-is still struggles with quality of wallets and vendor integration; the regrettable answer has been centralization.  So we know that part is hard, even if the core tech were ready tomorrow.
@_date: 2017-08-24 10:36:22


Weird, I'd expect instead of 10 txs (with 10 customer outputs, 8 change outputs) you'd have 1 tx with 11 outputs?


Ah, yeah.  If your input amounts are smaller than your outputs, your only real hope is segwit reducing the penalty for that.  


I used to think 4MB was extremely risky.  Every time block size has increased in the past, miners have fled to the largest pool to avoid orphaning.
But there have been some heroic optimizations since then (esp. compact blocks and fibre) which may mean it's different this time.  OTOH, centralization is so bad it might not make a measurable difference (though on my optimistic days, I think maybe it's just a temporary phase...)
I agree that it's a bit insane that this isn't all done as a turnkey solution yet.  Having every vendor work this out themselves shows how far we have to go...
@_date: 2016-11-14 23:22:36


It's a good summary of the challenges, IMHO.


It's unclear how often they'll change enough that your payment won't go through.  Lightning charges proportionally, so it's biassed towards small payments which reduce the magnitude of this problem somewhat.  


On failure it fails all the way back.  And this is why you want to be able to provide the failure message as proof of condition change, and broadcast it if you catch someone lying.  There are a few schemes which could do this: assume each node has a limited number of fee/balance updates they can use per minute, this would limit how many times they could fail to route.
For the moment it's very unclear how bad the problem will be: you only collect fees on successful routing, so reliability may be fairly high in practice.






c-lightning 0.5 implements onion, and the lnd guys have a compatible implementation too.  It's kind of fundamental, IMHO.


I disagree about "critical"; in fact I plan to add some fuzz to my routing code so it may be suboptimal by about 1% on fees, in return for some route unpredictability.  I think if fees are high enough that you have to be unduly concerned about them, we've failed to make a micropayment network!


Agreed, in any system with real anonymity, dealing with malice is a core problem.  There are a number of mitigations we can use, however.


Agreed.  Some stuff can be punted to bitcoin, but there are still plenty of fun problems to play with :)
@_date: 2017-08-25 22:46:40


None of the lighting developers believe that. Such a system has failed.
@_date: 2017-08-16 01:53:54
Me too!  I guess great minds think alike.  (First attempt failed because python embeds 
 when base64 encoding, for unknown reasons).
@_date: 2016-11-19 00:33:15
Same, and they totally lowballed the fee and merged it with other outputs (as they should) but it went though eventually: 
@_date: 2016-12-11 02:56:29


No, more like a chain of checks.
@_date: 2017-08-31 00:15:55


Actually, I've found myself able to disagree with Greg here. Just because he's often right and persuaded by facts, doesn't mean he's perfect. He's not Pieter Wuille, after all!
@_date: 2016-11-14 23:07:52


Well, long ago I proposed global landmark selection via block hash every few hundred blocks.  It is not infinitely scalable (the landmarks can get overloaded, even if they preemptively open channels), and selection is a fun problem, but it is less burden for end nodes than full knowledge.
@_date: 2016-11-25 00:27:16
@_date: 2016-11-25 00:53:23
Yes, you have to timeout the HTLC by spending it before your incoming HTLC gets invalidated.
Normally that's fine, you can just pay more fees to spend it, *however* the current draft uses a two-phase scheme if you were the one who dropped the tx onto the blockchain: you have have to spend it using a pre-signed tx (which has a predetermined fee).  For the current spec we just use outsized fees (since on-chain unilateral close should "never happen").
In future versions, we might add more complex schemes involving multiple txs with different fee levels are possible later, or (I think!) the ability to sign with ANYONECANPAY and inject fees if necessary.
Hope that helps!
@_date: 2016-12-04 05:29:08
That article is almost all wrong though :(
@_date: 2019-08-31 01:07:58
@_date: 2017-08-24 03:02:47


Um, no, that destroys bitcoin as a store of value, *and* steals Satoshi's coins.
We won't be doing that.
@_date: 2017-08-08 06:50:21




You mean in an economic sense?  Maybe, but it's probably circular: if a chain is winning, it will get more miners.
But if people want a system which is controlled entirely by miners, they don't want bitcoin...
@_date: 2017-08-18 03:34:01
No, 100 minutes instead of 10.  And we've seen in the past, that the ratio tends to fall quickly to the price ratio, as miners maximize profits.  So we don't know what will happen...
@_date: 2016-11-14 23:03:38
Yes, but quick failure is OK, you simply retry instantly via another route, so it's not clear how much of a problem it would be in practice.
@_date: 2016-12-20 20:37:09
Yeah, we're not doing probabalistic, we're simply rounding on close.
In Australia, we removed 1c and 2c, so we're used to rounding to 5c at the til :)
@_date: 2016-12-20 19:59:39


Even if we were to resurrect the abandoned BIP 62 sofr fork (which the core devs kept adding to as they found new sources of malleability), and restrict ourselves to simple scripts for funding lightning to minimize risk, we'd *still* have second-party malleability.  We couldn't do two-stage HTLCs.
With SegWit, the signatures don't count towards the txid.  Problem solved.
@_date: 2017-01-17 04:16:24


That's flat out false. Blockstream take a very strict view on *not* telling employees what to do on bitcoin, and have deliberately avoided any company view on this stuff.
It's not even true in practice: where was Greg Maxwell (CTO) or Adam Back (CEO)? They weren't even present at this meeting, so you can't even claim to be confused.
@_date: 2016-12-02 11:22:12
It's easier (like any layer 2) with a complete malleability fix, which is what segwit gives us.  There are ugly workarounds if you don't have that.
@_date: 2016-11-04 03:27:40


As a former colleague of Jeff's, I can assure you that he has skills: it's possible that you don't have enough yourself to appreciate them.
@_date: 2016-11-03 04:09:40






No, as part of the payment request they give you a hash, and to collect their payment they need to provide the preimage.  That serves as a receipt.
@_date: 2019-08-22 00:08:23
Not at all. We don't autoclose channels.
But if your peer were to try to close, it would resort to unilateral close after two days of you being offline.
@_date: 2017-08-11 14:08:30
Well, we have off-chain scaling already, they're just centralized and opaque :)
But seriously, lightning is the one I find most promising if you want bitcoin-like layer 2...
@_date: 2017-08-23 08:14:59
Fair enough. I think threats of unilateral action on this has made the technical discussion more difficult, and also deterred many from the thankless task of building consensus.
But hey, who wants to do the easy things, right? :)
@_date: 2016-12-02 11:21:24


No, as I said before, you don't.  As pointed out, you can reanchor from an output of the funding transaction without pause.
As one of the spec co-authors, and implementor of c-lightning, it turns out I know what I'm talking about.  Surprise!
@_date: 2016-12-20 20:24:11
True.  The protocol for advertising fees is [here](
    [4:htlc-minimum-msat]
    [4:fee-base-msat]
    [4:fee-proportional-millionths]
So you can specify a minimum total, a base and a proportional part.
@_date: 2019-08-27 02:54:38
FWIW, this is just wrong.
@_date: 2016-12-20 20:31:10






I've still seem people think lightning is an IOU, or an altcoin.  But it's actually a real bitcoin transaction, sitting ready to sign and spend, on your client.
@_date: 2016-12-20 20:29:16
Watchers don't even know what channels they're watching, and they certainly don't have any power to steal funds.  They only have a chance to return the funds to the owner, using a pre-signed transaction.
@_date: 2019-08-31 02:04:34
Gah, sorry, long week...
@_date: 2016-12-04 05:23:32


You've already dismissed our announced product which answers your question? Your concern is not genuine and your trolling wastes everyone's time.
@_date: 2017-08-05 00:35:51
(Non-founder Blockstream employee here, FWIW)
Well, Blockstream was founded by some pretty significant developers, who believed that they had a chance to make a profitable business (eg. sidechains) while contributing to bitcoin as a day job, rather than part-time as before.
There were multiple safeguards to ensure that Blockstream couldn't compromise their bitcoin work; the argument is that you needed to offer those guarantees to attract the best people.
In one way it worked:  I honestly never considered working for anyone else in this space, because I have so much to learn from my colleagues.  And it's aggressively hands-off on having a "company line" on bitcoin development (though that's been sometimes painful: it'd be nice to just say dumb ideas are dumb).
I had hoped that this would set the standard for new companies: if you want an A team, you have to give them time and freedom to contribute.  Unfortunately the rage that Blockstream experiences means it's probably harder to sell this idea than it was 3 years ago :(
@_date: 2016-12-03 05:10:14
 has a pretty thorough bibliography...
@_date: 2016-11-06 02:22:48
No. There are only a few forms of transaction which are considered "standard": spending a segwit tx pre-segwit isnot one. By default bitcoind will not put non-standard txs in a block.
@_date: 2016-11-20 22:26:29
BIP9. 95% had been demonstrated to be a reasonable approximation for "everyone" in the past; surprisingly there are some miners who don't pay attention, even mining invalid blocks.
BIP9 also adds a grace period of ~2 weeks between lock-in and activation, for the last 5%. Beyond that, it's hard to see what else you can do in a decentralized network.
@_date: 2016-11-24 02:56:53
Nice, but you really want a red space for the number which didn't signal segwit.  That's the critical number: if more than ~~10~~ 101 blocks don't signal, the answer is "no segwit" until the next period.
@_date: 2019-08-29 06:10:47
Yeah, you can't really write The Canonical Book until it's irrelevant.  I look forward to pointing future devs at this book!
@_date: 2016-11-07 01:09:05
Indirectly, it seems so: I understand miners can get  cheap electricity in some places as long as they promise to use a certain minimum.  If the dam needs to dump water for environmental reasons (a so-called "environmental flow") it makes perfect sense.
@_date: 2016-11-30 23:06:03
s/Blockstream currently has one employee who is dedicated/Blockstream currently has two employees who are dedicated/
We hired given his PhD on payment channel work, and I stole him for lightning :)
@_date: 2016-12-07 02:54:53
Btcmarkets.net. Has been around a while, no known connection to scammers.
@_date: 2016-11-25 00:44:52


The original max generated was 100k, we're up by a factor of ten.  In fact, in the first half of bitcoin's history, average blocksize was 24k, so we've actually scaled 40x in the last 4 years.
It'd be nice to scale more!  But there are real engineering challenges in further expansion without driving centralization, and the measures of centralization are all flashing red right now :(
And any modest change, even doubling or tripling blocksize, is unlikely to make a noticeable difference.
@_date: 2019-10-09 08:04:49


What a load of crap. This is not an ICO for suckers who get some token, these investors actually got a stake in the company and did their research. The ACINQ founders will now (continue to) work harder than they ever have in their lives and not get more than a sliver of that money themselves, in the hope of a profitable exit once they've established their company's value.
There are problems with the VC model, but VCs getting screwed by founders who take the money and run is not a common one.
@_date: 2016-12-03 23:04:32


No. That's if everyone used the new segwit transactions on place of existing P2PKH and P2SH immediately. That will take time, and wallet support.
@_date: 2016-11-25 20:45:54
No, because the outputs are CSV delayed, so you can't push them this way. Unless we included a tiny extra output for exactly that reason, of course.
@_date: 2019-08-22 00:40:01
C was a reasonable choice for low-level systems programming 4 years ago when I started, and I know it well.  These days there's a good argument to use Rust, and the infrastructure for that is improving.
c-lightning is aiming at a full node implementation, though there are some ways in future we could segment it.  Matt Corallo's rust-lightning is more aimed at a building-block approach: check it out.
@_date: 2019-10-02 22:46:18
Only individual reports, and so far there's only one known (failed) attempt.
@_date: 2019-08-30 09:46:08
Everyone should probably have upgraded a while ago, but just to be sure: c-lightning &lt; 0.7.1, lnd &lt; 0.7.1, eclair &lt;= 0.3 vulnerable.
@_date: 2016-11-25 00:25:21
Shit, math hard.
Yes, 95% of 2016 is 1915. So up to 101 can fail to signal and SW still gets locked in.  More coffee.
@_date: 2016-12-16 01:30:01


Last I heard from that's no longer true: you can get the block just as fast from Fibre and get the fees, too.
@_date: 2018-06-03 01:19:12
\&gt; Since then nothing changed...
Not at all!  All three implementations have added support for the gossip\-query extension, which fixes the gossip\-flood\-at\-startup problem \(c\-lightning's PR is not yet merged, but expected this week\).
Similarly, as we get experience with the network, we'll be better able to evaluate the options with route discovery scaling...
@_date: 2019-08-21 00:09:42
Seems like the Pieter Wuille Fact Checking Team is [already on it](
@_date: 2018-10-13 04:54:35
Yeah, miners could still do that, but they generally don't because they like money.
@_date: 2018-06-08 22:51:55
FWIW, I try to view my Lightning technical decisions on a 25 year view. I use Linux as my model here.
It's a bit sad that I only get the chance to work on two such projects in a lifetime, but that's just how long it takes to change an industry.
If you're after short term gains, I don't have anything to offer, sorry. That's just not what gets me up in the morning.
@_date: 2016-12-03 23:01:42


You keep saying that, ignoring that lightning didn't exist when Blockstream was founded, or raised $21M.  Not are we spending significant resources on it.
@_date: 2016-11-15 06:03:20
Also, this is another reason why lightning is mainly interesting for microtransactions, not replacing on-chain ones.
@_date: 2019-08-31 02:07:38
Worth noting that these releases have all been out for months, and most people have already upgraded without problems. This is to give more incentive to the stragglers.
@_date: 2016-12-08 22:46:04


People keep trying to propagate this myth, but being an economist doesn't magically solve the centralization crisis.  Perhaps, though, if you're not technical you simply ignore it?
@_date: 2019-10-15 22:54:01
Wait, c-lightning rc2 dropped today too! Hmmm...
@_date: 2019-10-09 00:01:57
Companies making money from open source projects has literally been a thing for 20 years now!
In this case, if Lightning takes off, millions of retailers from tiny to giant are going to want help with all aspects of it. Money handling, liquidity provision, storage, insurance. Not to mention the consumer side.  They could grow organically, go public, or get bought by a larger org with FOMO.
What's important right now is that key engineers are getting funds to make improvements which we will all benefit from.
@_date: 2018-06-15 23:15:35
Please send recharge address (onchain)?  Want to sponsor your valiant efforts to hold back the sea :)
@_date: 2019-10-07 05:07:56
Not that I'm aware of, and I think that's up to the person who reported it, TBH.  Sorry.
@_date: 2019-10-28 03:18:39
Hmm, original reddit post said "2 days ago", so I gave it a week.
Let me look at blocks from 597000 to 598000 (29th Sep to 5th Oct)...
@_date: 2019-08-10 11:22:52
I'm not saying an attack is even unlikely, it's just unlikely from us.
I'd expect there are other players who *directly* have enough mining power to this, and probably more anonymity.
@_date: 2016-12-04 06:34:48
There's much FUD, like yours. Not from developers who've reviewed it, however.
@_date: 2019-08-18 22:15:27
I like smartbit.com.au but of course I now use blockstream.info (I work for Blockstream)
@_date: 2019-08-21 06:09:00
btcmarkets.net works fairly well, though kyc is fairly intensive. 
Binance came out of nowhere and has lost both funds and user kyc info already: may well go back to nowhere soon.
Coinjar's CTO is Zhou Tong who exit scammed Bitcoinica back in the day. I avoid them too.
@_date: 2019-08-21 01:02:32
It was, then, a signature lesson in "Nobody Speaks for Bitcoin, avoid those who claim to".  I repeat: no good can come of people "recognizing"  on twitter.
@_date: 2016-12-11 09:55:43
No no no.  IOUs require trust.  In this case, I'm holding a real Bitcoin transaction.  Think bank cheque, with the bitcoin blockchain as the bank.
@_date: 2019-08-20 21:26:57
Twitter  is not Bitcoin. This confusion is just going to keep hurting. Account should not exist.
@_date: 2016-12-21 21:01:36
Wait, there's another Bitcoiner in my home town? Maybe even two, since someone took the photo!
Woah, we should catch up...
@_date: 2016-11-22 05:04:15
That's a 472 byte transaction, paying a 0.0001 BTC fee.  My node says you should be paying 0.00056141 BTC per 1024 bytes to get in the next 12 blocks, so you should have paid 0.00025877
ie. switch wallets, that one is paying fixed fees and getting it wrong.
@_date: 2016-11-16 21:49:46


I agree with your plea for sympathy, but this is misleading.  When CW faked up a backdated PGP key which was quickly debunked by **months before this**, the situation was clear to anyone paying attention.  ie. "He wasn't Satoshi last time, either".
@_date: 2016-12-01 07:06:01


No, it does not. That's the point.
@_date: 2016-11-17 00:37:24
Wait, how does this work?  I thought Colored Coins worked by a magic tag in OP_RETURN saying "this represents my house".  How does that transfer off-chain?  What happens if I cheat?
Perhaps my ignorance of colored coins is hindering me here...
@_date: 2016-11-24 02:57:59
~~(10 blocks, not 101).~~ [Math hard, ugh!]
Data is pulled from  according to the webpage, which *does* have the num blocks...
@_date: 2019-08-29 06:14:43
It's in active development, but so is this book.
@_date: 2019-08-10 05:19:58
That's the quote if we were at max capacity. Also, we provide infrastructure, not control. Also, it's a dubious move of unknown probability and profitability, as the chains would respond.
And finally, we would not do that, because of ethics, legality and because we have real work to do, FFS.
@_date: 2019-08-31 00:21:03
You can't win at this. My preference is to keep timelines short to reduce the window in which this dilemma occurs.
@_date: 2019-10-31 00:09:29
@_date: 2019-10-26 07:37:01
Confirmed, there are zero penalty txs on the blockchain from blocks 600,000 through 601,000.  It might have cost him fees, and he might have managed to completely delete his keys if he tried hard enough of course, but there's no massive loss here.
@_date: 2019-10-18 10:04:32
There's no evidence these millions of coins actually were mined by Satoshi, sorry.  My favorite theory is that someone set up a machine mining at their work (which got rebooted every 2 weeks), and then forgot about it.  This random lossage was common early on, given the lack of value.
But then, for all we know an early lost release of bitcoin had some weird nonce pattern, so what's been identified as a single miner is actually an unconnected group.
@_date: 2019-06-30 06:25:07
Eclair definitely does
@_date: 2019-10-11 22:18:24
I wanted to get an experimental version into this c-lightning release, but gossip work, bug fixing and preparation for the conference got in the way.
I have most of the pieces, though, so next release? (2 months' time, just in time for Christmas). Of course, it's not final until two implementations have inter operated and there are no objections to it being merged into the spec.
@_date: 2019-08-05 09:19:23
So, Good For Bitcoin then?
@_date: 2019-10-10 22:03:57
Hype comes and goes, AFAICT.  But the tech is incrementally improving, and spreading.  That tends to be what really matters: that you have something real when people suddenly discover it...
@_date: 2016-12-20 20:20:08


No.  You need second-party malleability fixes, which only occur when you remove signatures from the txid, otherwise you can't do two-stage HTLCs and expiry times for HTLCs balloon (ie worst case timeouts are far larger).
In addition, there are really nice implementation things with segwit: you can watch for a specific *txid*, even though you don't know the signatures.  This simplifies the code a great deal.
The scheme used for outsourcing watching of cheating attempts also relies on knowing these txids in advance.  Without this it becomes much more expensive for watchers (or loses some of the privacy guarantees we have). 
@_date: 2019-02-04 02:42:46
See 
And in my opinion, we'll end up having to punish nodes which misbehave, and this can best be done by making them close channels.  And so we need to understand their transaction (and check its validity), meaning bitcoin.
Moreover, why?  You can build a bridge to nowhere, but that won't make people drive there.
@_date: 2019-06-23 09:20:57


Note that this is true, but such signature aggregation has not been formulated yet. It's definitely possible, but it not in the current batch of proposals.
@_date: 2019-08-19 23:21:36
Technically speaking, you should run your own node to verify that information!
But issuance is on the Liquid chain, so you can tell how many have been issued, yes.
@_date: 2017-11-04 09:45:01
There's no cold storage in lightning, so that's one reason to close, or at least, split down.
@_date: 2017-11-18 04:22:28
Yes, compact blocks are not useful if miner is mining stuff you've never seen before.  But the optimization you're talking about here (wanting to mine fast, and doing it by not downloading or validating witnesses of previous blocks) is a statistical one.  Since the vast majority of blocks *are* as expected (and increasing, as fee amounts become more significant: you now lose real money if you fill your blocks with crap), it's a net win.  By a long way!
@_date: 2019-06-09 04:06:53
No idea who this person is, but seriously. This stuff takes time and lots and lots of hard work and iteration. There won't be a magic "it's ready" moment, just a slow climb as we get more useable and useful. Certainly stuff setbacks and missteps along the way.
@_date: 2015-08-21 22:28:40
He doesn't want to be corrected, he's busy spreading speculation about how bad it could be: that seems to be his purpose?  When I've corrected him he just refines his FUD.
So why not agree with him? Lightning is terrible, please don't use it! Bye!
At this point, the best solution is to do what I'm doing: get a prototype, work out the issues, and iterate.
@_date: 2015-08-02 21:37:54
I'm assuming the end points are generally the bandwidth bottleneck.  At 1Gb vs 100Mbit that's not going to be the case.  You'd need to upgrade the entire internet to do measurements, and that takes time.
Another data point I just stumbled across: 
If we make some handwavy assumptions that authors are optimizing for page load times, thus keeping it constant, we have 705kb in Nov 2010, and 2162kb in July 2015.  3.066666 growth over 56 months is 1.02021207081 per month, giving 27% per year.
Now, that data was taken in the US, it's not a very long run, nor is "same download time" a solid assumption.  But it suggests that 17% is conservative.
EDIT: [Akamai's stats]( show 2.98 times growth in the US over a similar timeframe (Q2 2010 to Q4 2014), which matches.
@_date: 2015-08-10 00:49:47
I hadn't thought about it that way before.  I think this would only apply if being a LN hub were the only way to earn bitcoins, and if you were able to close off the market to others somehow.
Either way, it's important that the barrier to entry be as low as possible, and that will be a big part of my task: making it as easy as possible to operate.
@_date: 2019-10-26 07:35:03
There are no penalty transactions anywhere near that time (checked blocks 600,000 to 601,000).  So either you're still very confused about what's going on...
@_date: 2015-08-21 06:27:29


Um, bigger blocks?
How is lightning going to take off if costs a significant amount to even get started with bitcoin?
Independent of one's opinion on blocksize (and I haven't told anyone mine) it's pretty clear that bitcoin has to be wildly successful for LN to be more than a curious experiment.
@_date: 2015-08-19 21:01:38


This is exactly the problem, though.  Very little of the discussion has been about how we expand capacity.  (Lots of talk about removing a limit).
I'm really interested in the actual capacity of the bitcoin network; both figuring out what it is, and what bottlenecks we can eliminate.  I have some ideas, but I'll be flying halfway around the world to ask smarter folks dumb questions about it in Montreal at the Scalability Workshop.
@_date: 2015-08-10 23:23:56
CT isn't soft-forkable.
..oO maybe... Hmmm, let me get back to you...
@_date: 2015-08-12 11:12:00
Do you have the URL for the blog attached to this graph BTW?
@_date: 2015-08-10 23:13:06
It's my goto language.
@_date: 2019-02-21 07:56:08
Because you don't really want someone to try to the it next year. Donations like this are kinda a special case though...
@_date: 2015-08-20 04:02:21
So, I asked Cisco abut their VPI report.  Turns out they used the Ookla data as a basis.
So I've asked them what they're going to charge me.  Hope they take bitcoins! :)
@_date: 2017-11-04 10:30:12
It sucks for casual/intermittent users if they only have one channel. People accepting payments, "merchants" would naturally get multiple channels if only because being an always-on node means some other users will choose you to establish their channel with.
But it sucks because you have a single point of failure and because you lose deniability: with only one channel, everyone knows a payment you send must come from you! But such a topology is a possible outcome if lightning fees are too low (no motivation to open a second channel to save on fees by better routing) or on-chain fees are too high.
Fees fluctuate so much that it might be fixable with clever client design: one they're using lightning a certain amount, look for cheap txs to open more channels...
@_date: 2015-08-15 06:47:08
Yeah, I live in Australia, so I envy busy about everyone...
Anyone have figures for any Asian country?
@_date: 2015-08-20 08:11:06
Not to mention the sheer noise.  None of the replies to that post were useful, for example :(
@_date: 2015-08-12 08:07:59
Thanks for the data! I wondered if mobile had depressed my numbers, but at least some commenters claimed that mobile is now their fastest data rate.
3.6 to 18.7 in 5.5 years is 35% growth per annum; very healthy! Akamai starts showed UK growth about 3.5x (vs ofcom's 5.2) in that time, though I'm on mobile at the moment and that site is horrible, so that's rough!
Even if the asymmetry has worsened a little (which matters for a p2p network) that suggests 20% growth is a low estimate.
@_date: 2015-08-21 06:04:04
Sounds like, yep!
@_date: 2015-08-21 22:35:09
You're right about Poe's law; I will add a smiley next time.
Yes, lightning-dev is low bandwidth and useful.
As to pettycoin, you can see why I was so attracted to sidechains, then LN. I don't really think in terms of scalability, except in the sense that micropayments are interesting... 
@_date: 2015-08-06 06:51:24
Ah, I'm told that they were mainly CEX and Bitfury.  Bitfury moved to their own pool starting [June 2014]( and CEX.io shut off their [miners in Jan 2015](
@_date: 2015-08-21 06:07:28


Wow, that's amazing!


Those sound like terrible problems, I wish it wasn't true!
@_date: 2019-02-21 01:14:27
IOU a beer.  Thanks for the bug report!
@_date: 2015-08-20 04:00:23
There seems to be a conception that LN will take transactions away from the bitcoin network.  That may happen, but I don't think it's the bigger point.
If LN works, and we start finding uses for really tiny micropayments (think subcent), that usage would dominate LN.
@_date: 2015-08-18 08:22:52


No, that's exactly what you're saying.  You think bitcoin stands no chance of remaining decentralized.
I'm more optimistic about both. But predicting the future is hard...
@_date: 2015-08-13 02:27:36


That's your opinion: Those advocating a fee market are basically advocating that this situation eventually be the norm,


It's clear that confirmation times will become less certain.  It's not clear how uncertain it will be in practice with fee estimation, parent-pays-for-child and RBF.
And it's even less clear how much effect this extra uncertainty will have, once users have the knobs to adjust it.  We're already at "somewhere between 1 and 40 minutes", so becoming "somewhere between 1 and 100 minutes" might not kill bitcoin.
Side note: if power is the dominant mining cost and fees become significant, block times should smooth as more hashing comes on line when transactions build up.  That's a long way in the future though!
@_date: 2015-08-13 02:15:38






The most common size for transactions is around 250, though, hence the choice of language.






No, I explicitly used "begs" the question.  Perhaps you need to re-read?
@_date: 2017-11-15 23:25:00
Yeah, but we're not generally CPU bound.  Still, let's wait for hard numbers.
@_date: 2015-08-21 06:30:48
Interestingly, came up with a soft-fork solution for this, usually called "timestop".
It would certainly allow tighter/more precise timeouts for everyone, which would be nice.  Whether it's serious enough to justify, we'll see...
@_date: 2015-08-10 02:21:40


The economies of scale may make this work, but that argument applies to many things and it doesn't quite happen most of the time.  I certainly wouldn't want to count on it.
And I'm not sure running a hub will be very profitable.  Maybe there won't be *enough* money in running a LN hub, and the only people who will run them will be the NSA and people who bad at doing the math...
@_date: 2015-08-01 01:42:49
Repeat custom. In my current model, the bitcoin fees are split evenly, too, so it costs you as much as it costs them to drop out, in almost all cases...
@_date: 2015-08-16 21:43:03
These are excellent questions, and something I do worry about.  It's hard to know how something which doesn't yet exist will be used, of course, but if people value privacy they'll oppose centralization.
My initial plan (suggested by Joseph) was for clients to establish channels with 5 random nodes.  That starts us off on the right foot (and assumes that bitcoin transactions remain fairly cheap).
The server should be as easy to set up and run as possible; practical barriers to entry are still barriers!
But there's not much the protocol can do to force decentralization (and if it did you could fake it easily).  But it worked for bitcoin: we didn't end up with a single investor owning mining (AFAICT!), so that offers some hope.
@_date: 2015-08-20 04:36:35


No it didn't, it just said "the future is hard to predict" :)


I don't know.  We've never had them, so who knows what we'll use them for.  But financial privacy is important, even for tiny amounts.
@_date: 2015-08-17 07:43:36
I'd prefer to address that if it becomes a problem.  If you throw money at people, they generally stick around, so my random choice plan might work surprisingly well for a surpassingly long time...
@_date: 2015-08-11 01:34:27
It's extremely difficult to find a summary; reading reddit makes it usually seem like a complete no-brainer, and other sources tend to be written specifically for one side or another.
Thus I produced this summary, which may help: 
@_date: 2017-11-04 10:14:49
They're almost too eager, actually.
The reason is simple: it's way easier to accept lightning payments than on-chain bitcoin. For example, in c-lightning, you tell it what you're selling and how much, which gives you a long lnbc... string to hand to the user (eg QR code). Then listinvoice tells you whether it's paid it not (waitinvoice lets you wait for it, if you don't want to ask over and over).
That's it. Go build your awesome storefront.
@_date: 2015-08-15 06:45:02
Yes, Nielsen's one data point is an anecdote, and even he only claims it's what a high end connection will give. Widely quoted, and seems to drive his consultancy business, but I haven't been able to find more details than his graph (where he's lived, how much he's paid, what his upload speeds have been).
Note that if he was using a 1200/75 modern in the mid-70s like many geeks, his numbers would look quite different, too.
@_date: 2015-08-15 10:24:54
If you have more data, please share.  From the post:


The Akamai numbers for China were more like 25% per annum growth; the US and UK were on the low side.
@_date: 2015-08-17 07:36:25
1.  Adam Back, whose pic is here, isn't a core dev.
2.  Lightning is a network. It's not centralized. By design.
3.  There are plenty of real arguments to have; why this?
@_date: 2015-08-19 23:42:45
Most obvious and simplest, yes. But there's not even much evidence that it's low.  Sidechains do not lighten the load on bitcoin significantly, and I fear lightning may even make capacity problems worse if it makes bitcoin far more useful.
But neither of these exist now.  Counting on them is very risky...
@_date: 2017-11-24 10:02:45
Blockstream have 2.0 full time coders on it: Christian Decker and Rusty Russell.  Tadge is with MIT now.   His work to mature DLC is inspiring, IMHO.
And yeah, Andrew is like, super mathy.  But *really* good at explaining it in terms even I can understand, so if you have direct questions he will provide clue in return for beer...
@_date: 2017-11-10 21:08:50
It'll cost $10MM to mine 100 b2x blocks. Possible, but unlikely that many believers...
@_date: 2017-11-17 02:30:25


Technically this is incorrect, since the transaction merkle tree covers the coinbase which commits to the witness tree.  But it's not direct any more.




No, it's just a benefit.  If you want to validate that a transaction *exists* in a block, you don't need the witness part (which is useless to you if you don't have the full blockchain, since you can't check it anyway).
@_date: 2015-08-06 09:45:13






Please be civil.  Let's assume you meant "this misrepresents what was said".  I actually meant what I said "fees", not "each fee will rise", and I've clarified; thanks!  Here's the quote I was referring to:
*Once a predetermined number of coins have entered circulation, the incentive can transition entirely to transaction fees and be completely inflation free.*


I can't see where it suggests that?  The original 50k priority area for low-fee txs in each block suggests the opposite; that fees were intended to be zero initially, then transition upwards.


Expected by whom?  Wouldn't a functioning fee market be the inverse of that chart: that they'd drop when bitcoin's value increased?
@_date: 2015-08-15 03:45:00
Oh, and send a stingy tip.
@_date: 2015-08-06 05:32:54
Fair call. It's speculation.
I'm not sure what else miners could do to stem the bleeding though, if their income falls significantly below their costs?  At some point it *would* make sense for them to join forces to create some lower fee limit (they can't do it unilaterally).
@_date: 2017-11-16 00:20:49


Just like P2SH years ago, and almost every other soft fork, where miners might choose not to check the updated rules.
In case anyone reads this and gets confused: he's wrong, and he probably knows it but trolls abound.
@_date: 2017-11-16 02:41:40
Meh, miners already don't have to download the signatures to build on a block.  They just need the header.
No news here.
@_date: 2015-08-26 01:23:50


I thought that reflected the reality for all miners in China at the moment though?
We should definitely be looking at bufferbloat issues, which makes this worse if there's any upload contention (bitcoin core effectively blasts blocks to every peer at once).  IBLT helps more, of course, and might make the bufferbloat issue less critical...
@_date: 2015-08-15 05:37:22
Interesting!  Mind me asking what app?
It seems that a larger blocksize would make those problems worse, not better though?
@_date: 2015-08-21 06:54:44
Less time on reddit and more time coding?  Though this is far more amusing...
@_date: 2019-06-13 01:28:01
There was a suggestion about a year ago of having some kind of regular Lightning Award, for someone unaffiliated who made the greatest contribution to helping Lightning.  Maybe about 0.1 BTC a month.  Never went anywhere though.
Could be anything from running a hackday, writing a book, or just writing something cool and exciting.  Maybe this would make sense as a broader scalability thing?
@_date: 2017-11-15 23:48:57
No, because sometimes we find that they're right, and we're both wrong :)
@_date: 2015-08-15 04:56:00
Special hat-tip to for leading me to the OFCOM data!  If anyone has other such data for other countries, *please* tell me so I can update.
@_date: 2015-08-15 10:22:46
I didn't know that.  Downvoted.
@_date: 2017-11-11 01:54:11
It's the same difficulty as the main chain.  Therefore, it's the same work as making 100 bitcoin blocks, which gains you 1250 bitcoins (Well, that's only $8.5MM now).
So either that's your opportunity cost, or that's what you'd have to pay a miner to do this.
@_date: 2017-11-12 02:25:33
Yes, the integration tests cover the basics, but not all the corner cases.  In particular, handling of bitcoin fee changes are not tested there (and I know, because c-lightning hasn't finished implementing them!).
But yes, we're close, based on a solid year of hard work on the spec by all three implementations.
@_date: 2019-02-23 11:00:59


No :(  You'd literally have to backup on every change of channel state.  Eclair does this quite well, we're lagging here.
I'd like to have peers offer an encrypted backup service, where you could do something best-effort there (they might charge, or might be a quid-pro-quo thing).  But it's down somewhere on the almost-infinite todo list...
@_date: 2015-08-10 23:12:29
Zero risk is the rub.  Computer security is really hard.  I wouldn't want to try to run a hub on a cloud provider, for example.
I'll do everything I can to make this secure, but I *will* fail, because software...
@_date: 2015-08-20 03:36:30


Well, here's what I want to know.  There are probably more...
**Miner status questions:**
1. What orphan rates are miners seeing today?  
2. At what orphan rate do miners centralize?
3. At what orphan rate do miners stop validating?
4. What upload speeds do miners have to the rest of the network?
5. What propagation times do miners have to the rest of the network?
6. What level of fee support will miners require?
**User questions:**
1. At what fee for next-block transactions does bitcoin become non-viable?
2. At what fee for same-day transactions does bitcoin become non-viable?
**Bandwidth constraint questions:**
1.  What upload bandwidth growth will miners expect in the next decades?
**Technology questions:**
1. How much does IBLT gain us in upload speed?
    1 Are the homogenization incentives a problem?
2. Can we use "weak block" publishing with references to prior weak blocks to optimize the network? (hat tip )
    1. Will miners use it?
    2. Will it make the problem of SPV-mining worse?
3. Can we optimize full nodes to avoid bufferbloat?
    1.  Will this increase full node count?
4. Can we enhance blocks to make SPV proofs possible?
@_date: 2017-11-04 10:02:22
Instant micropayments. Remember when you first heard of bitcoin and they told you it was instant free payments around the world? Then you discovered it's not instant and not free?
@_date: 2015-08-15 05:35:00
1.  Gavin has been concerned about the blocksize limit for longer than that.
2.  Prior to lightning there were other offchain technologies, just not quite as trustless.  They were often seen as a standby for scaling.
And I don't think insinuation helps the debate :(
@_date: 2015-08-10 02:14:48
No, but I did submit a talk at [linux.conf.au]( in January, along with Let's hope it's accepted!
@_date: 2017-11-11 02:02:52
TL;DR: Cool paper, new ideas on enhancing lightning.  Added it to the pile :)
This is why working on this stuff is so much fun!  But yes, we're not getting too distracted from the important stuff:  
@_date: 2015-08-20 23:24:40
I do *not* want to do this again.
BIP 102 would be a good basis for an emergency hard fork if some crisis point were reached; it's a useful safety valve.
@_date: 2017-11-04 09:58:42
(Am in vacation, so this is short due to being on phone, sorry).
1. There are three implementations: lnd (written in Go by lighting labs), clair (Scala, ACINQ), c-lightning (C, Blockstream). Importantly, there's a spec we've all been working on and towards. We're frozen now, and reach one is well over 90% complete.
2. I expect implementations off test net this year, in alpha, maybe even beta. Then you can lose real money!
3. Same as on-chain: businesses. Users pay the tx fees, and would you rather receive an inflating currency or a stable one? I know which is rather spend...
4. I had stats on this, but off the top of my head we can reasonably add about 750,000 users per week. Maybe 1M with schnorr?
5. I believe we'll need a gradual increase once we've squeezed all the efficiency out of bitcoin we can (and they are pretty huge right now, so there's much to do). But say with 17% per year, it's still easy to overshoot, and we need fees to pay miners in the long run. So we'll also need a soft cap (eg. based on proof of backlog).
6. Fees will be a race to the bottom, I think. They'll be pretty token. Miners will be paid because they are the onramps and offramps, and cold storage isn't going away.
@_date: 2017-11-17 21:44:38
Actually, I was wrong about being able to mine non-empty blocks by spying on pools.  You can mine a block, but can't transmit it without knowing the contents, so it's kind of useless.
So we're back to: you *can* get a node to send you the blocks sans-witness (by pretending to be an old node) and potentially save some bandwidth (0.2M for now, but maybe 1M in future) but you're better off just using compact blocks and getting the block in ~20k average, including witness data.
@_date: 2015-08-06 00:12:22
Hi! Probably not much use to r/Bitcoin regulars, but should help those who've been ignoring it, or more casual bitcoiners.
@_date: 2017-11-17 00:10:20
No!  It's still in the merkle tree.  It's just not hashed into the txid.
@_date: 2017-11-17 05:32:50
The signatures are still in the merkle tree: Hashing is how you put something in the merkle tree. They're just in a different place (segregated), not glued to the transactions.  So in future if a lite node just wanted to see if eg. txid abcdef.... was in a block, you could get a proof without needing to get the signatures attached to tx abcdef... (which aren't any use to a lite node anyway).  Cool huh?
Re: not being forced to download them.  You never were.  You can tell a node you're a pre-segwit node, and then they'll not bother sending you the signatures.  But it's actually much faster to tell them you're a modern, compact-block-speaking node, anyway.
But miners can already mine without receiving the full block: just get the info on what to mine from a mining pool and replace the coinbase with your own.  Miners used to do this, too.
@_date: 2015-08-05 01:27:41
It does seem similar to MtGox, true.
The rest of your post is pure fictional incompetence.
@_date: 2015-08-06 05:28:01
Hi! I don't think their decline is related?  This action happened in September 2013 (see  ).
They were around 50% in January 2014 and June 2014 according to 
If anyone knows what caused their decline, I'd be interested though!
@_date: 2015-08-01 09:07:10
A local friend of mine just got a 25/10 Mbit connection. I'll rig up a test for sending a 1mb burst from digital ocean in SF repeatedly and see how his numbers compare with my crappy 10/1 Mbit.  Latency will be almost identical, last mile only significant difference.
@_date: 2017-11-12 22:49:53
No, I don't do timelines. But I can list milestones to get there:
1.  All interoperability tests succeed.
2.  Mainchain testing complete.
3.  Spec v1.0 released.
4.  Eclair/lnd/c-lightning beta implementations released.
At that point it'll be something for early adopters to use.  And we're completing  now.
@_date: 2019-02-03 05:43:14


Note that a significant minority of Lightning devs (myself included) do not believe this. Implicit exchange is more difficult in practice than in theory, and if you want litecoin you can Lightning your btc to an exchange immediately.
@_date: 2015-08-12 11:05:54
I was starting to wonder where all the other devs were!  Great interview, looking forward to comparing fine details!
@_date: 2017-11-04 10:18:02


Lightning has two parts: payment channels between two parties, and *the ability to trustlessly send via others' channels*. If you're on the lightning network, you can receive, send, and forward.
So payments can reach everyone.
@_date: 2015-08-07 02:29:16


Completely agree!  My gut feeling says ther's a sticking point around a few cents where fees become something I have to think about (and thus, a barrier to usage).
Making further assumptions, if fees for a normal 250 byte tx are 1c, and miners want $3500 fees per block after the halving, we'd need ~88MB blocks next year.  I can't see that happening.
(As an aside, people talk about Lightning like it's going to make bitcoin's fees irrelevant.  My best guess (as someone implementing LN) is that's wrong.  It's quite possible that LN will be dominated by sub cent transactions; we've never had a method for real microtransactions before, so it's hard to tell.  But if so, there won't be much overlap between the kind of things you see on bitcoin raw, and bitcoin via LN.)






In an idealized efficient market, the amount paid for something reflects actual costs.  Which implies that if the subsidy increases, we'd see the total tx fees drop.
That's a bit unfair, because it's not clear that fees are an ideal market.  The recent uptick suggests a market forming, but it's very noisy so I wouldn't want to make that call...
@_date: 2019-02-21 01:13:12
They *should* close on you; you'll be refusing to talk to them now.  But it might take them a while.
Of course, cdecker's suggestion of xmitting the tx raw would "work" too, in that it would test that their penalty system is working when they try to take all the money :)
@_date: 2019-02-22 22:36:09
Can we just not feed this idiot? It's the worst of "crypto" right here, and I downvote every mention.
@_date: 2017-11-22 01:00:13
Best-case possible success latency is 1.5 RTT per hop (1 to send pay &amp; commit, 1 to reply with receiver revocation, 1 to reply with sender revocation).  That means a US&lt;-&gt;Australia payment is already at 500 milliseconds, with only one hop!
So my expectations are that naive network will be well under 5 seconds, and to get under 1 consistently will require some latency awareness of hops (even if it's as simple as biassing random channel creation, which makes some sense IMHO).
@_date: 2017-11-15 23:21:42
In order of what matters for onchain size:
1. Funding tx output.  This is a 2x2 P2WSH, and always appears onchain to anchor the channel.
2. Mutual close tx (or splice tx which is both close and new funding) which spends the funding.  There's usually one of these onchain eventually.
3. Unilateral close tx.  This happens when something goes wrong, but we anticipate this to be a small percentage.  This spends the funding tx, and MAST may help here for the to-self output (OP_CSV time delayed) and the HTLC outputs (complex).
4. Penalty tx.  Steals all the money because you tried to cheat.  Statistically "never happens", so size pretty irrelevant.
So signature aggregation is always a win for every channel, MAST is a lesser win, effecting only a small number of channels.
@_date: 2017-11-17 21:53:24
1.  I would buy a house.  Then you have something if all else fails.
2.  I would tell your wife.  She can decide if she wants to get a better job, study, have kids, whatever.  What is money without happiness?
3.  Tell her about the dangers of holding so much BTC (ie. don't tell anyone how much you have), and also value at an averaged price not the daily otherwise you'll be disappointed.
4.  Get tax advice.  Depending on your country, it may make sense to get her to sell the BTC for a 10% cut, to spread the income.
@_date: 2015-08-01 08:47:49
No, you pay a fee for the opening transaction, but the fee for the commitment transaction only matters if something goes wrong. If the connection is closed by mutual consent (in everyone's favor, since commitment transaction fees will be higher than normal txs) there's just two bitcoin transactions involved, however many lightning transactions.
I think that's your source of confusion?
Hope that helps!
@_date: 2015-08-12 01:27:13
*We collected VC funding to make bitcoin less useful and accessible, so then we could provide a solution!  Genius!*
Your post was a hatchet job.  I have spent my entire career working on open source projects: The claim that I would ever undermine one is both defamatory and extraordinary, and needs extraordinary proof.  That goes quadruple for the core developers who have devoted years of their lives to bitcoin.
@_date: 2015-08-13 02:09:02


I should just acknowledge the conspiracy theory as true and move on?  That would not work.
*Every* bitcoin company I know of will only make any sense (and dollars) if bitcoin grows huge.  The pressure would be entirely to be unwaveringly positive, overpromise, and never create any discord.  And certainly not to spend engineering time on debating core stuff when we could be getting on with producing stuff which directly makes money.
@_date: 2017-11-07 19:46:02
Routing is actually trivial in one way: if you have 10 million paths it's easy for a machine to find one (and 10M paths don't even take that much space, less than 100MB).  But finding the *best* route is harder, and the best method going to depend on the behavior of the network, which we don't know yet.
@_date: 2015-08-12 03:05:00
That's up to the hub.  made it clear that fees can be negative, so hubs can provide incentive to re-balance channels.
I can tell you that my current protocol expresses fees as signed base (in satoshi) + signed micro-satoshi per satoshi.  There's been speculation on-list that fee should be proportional to the time it takes for the HTLC to settle, but that's still to be figured out...
@_date: 2015-08-20 00:26:57
Yeah, the good thing about BIP 102 is that everyone hates it equally :)
@_date: 2015-08-12 01:56:31


Yep, it's just me.  Of course, I'm using as much of the 21 million as I can!
@_date: 2015-08-19 07:55:32
Me too.
I keep hoping for a sensible middle to emerge; we'll see after the Montreal workshop? 
@_date: 2015-08-15 05:30:54
Agreed.  And even if LN were in beta testing today (and it's very much not!), it takes years for deployment of the infrastructure required in wallets, payment processors, etc.
My [previous estimates]( indicate that 45% of transactions move less than a dollar.  Even if those get squeezed out, we can only expect about 18-24 months before the rest reach the 1MB limit (much sooner if there's a spike in usage of course).  That's too tight a timeline for the LN to relieve significant pressure.
And LN might make it worse; once we can do really tiny micropayments, a killer app might emerge which draws far more people to bitcoin...
@_date: 2015-07-28 04:33:42
It would only require one cryptographic breakthough to steal your coins, not two :)
The real issue is not security, it's privacy.
@_date: 2015-07-08 21:25:16
@_date: 2019-02-26 22:24:35
When there's inflation in the MW part, you have the same problem though. One day the main chain doesn't let you convert into it because it says all the MW are spent...
@_date: 2015-07-16 21:34:58
You're not talking about lightning, you're talking about any bitcoin network.  By your theory, there aren't enough bitcoins if everyone uses it as their sole source of savings and expenditure.
I don't quite know where to start with that, sorry, so I'll leave it here :(
@_date: 2015-08-15 07:18:11


That wasn't clear from my reading.
But I've emailed them to ask for a source, or at least put me in touch with the researchers.
@_date: 2015-07-09 04:34:25
Yep, segregated witness is cool!
But let's not get too excited: it does give you another pruning option (effectively, just to remember the transaction outputs, not the inputs), but a full node still needs to receive and store both.
You can [read more about it]( on the github page...
@_date: 2017-11-12 02:26:30
Hey, I did that for bcash and turns out I sold at the bottom.  So don't take my advice!  OTOH, was happy since I don't do altcoins and it was stressful and felt dirty...
@_date: 2017-11-04 10:00:51
There is the spec at 
There are three implementations: lnd (written in Go by lighting labs), clair (Scala, ACINQ), c-lightning (C, Blockstream). 
@_date: 2015-07-08 21:24:08
Thanks, but I'm busy trying to implement a lightning network prototype!
Well, I've let myself be distracted by core stuff (mainly benchmarking and IBLT design) a few times, but if I keep doing that I'll never make progress...
@_date: 2015-08-18 03:30:03
This is a general overview, because they're covering bitcoin this week.
Even in a technical interview, I'd be remiss if I said anything which want already discussed on the lightning-dev list, IMHO. So if expect these kind of things to be more useful to the casual observer...
@_date: 2015-08-06 08:40:49
Only bitfury was due to ghash dominance, and they started ramping down 9 months after they were revealed to exploit doublespends, and 6 months after the first time ghash hit 50%.
So I don't think we can claim that miners will flee a pool reaching 50%.
@_date: 2015-08-21 04:47:30
In a nutshell:
**Sidechains**: bitcoin variants where you can send your bitcoins over to them then send them back.
The Good:
- Awesome for developing ambitious stuff, like [confidential transactions]( etc.
- If a sidechain screws up, only people who put bitcoins into that sidechain can possibly lose money.
The Bad:
- Currently only implemented using middlemen; full version requires a future soft fork.
**Lightning Network**: a caching layer for sending bitcoin transactions
The Good:
- Should allow genuine, instant, microtransactions with bitcoin.
- Implementers are statistically more good looking than average developers.
The Bad:
- So far is only a paper and a few partial prototypes.
- Requires three in-process BIPs for bitcoin.
- At least one implementer seems to have ego issues.
@_date: 2015-07-18 09:04:27
You know this technology stuff all around you didn't just happen, right? Someone had to actually do all the work, one piece at a time. They had to make all the mistakes, eliminate all the dumb ideas, then keep working at it until it existed. And since this is open source you get to see that work happening from day 1; warts and all.
I suggest you ignore it all until there's a beta release or something. That'll be quite a while...
@_date: 2015-07-10 11:04:22


Um, if it was on a sidechain, its failure wouldn't matter to those who didn't use it.
But if you want to make snarky comments, please don't tag me in them.
@_date: 2015-07-07 00:18:39
Thanks, I'm glad you asked!  I have a vague long term plan:
1. Help get jtimon's arbitrary network patches merged into bitcoin core (see  et al).
2. Set up a "megablox" testnet which is seeded with transactions exactly like the current bitcoin mainnet, but at some point grouped into larger blocks (maybe from 6 months ago or so?).
3. Release a canned block dir to speed sync, up to the big blocks point.
At this point, it'll be a useful testing ground; people can run their software against it and see how it handles 8MB blocks.  And it'll be more useful if other people run megablox nodes as well.
@_date: 2015-07-16 11:14:27


Weird, I see it as an exciting paper with amazing potential.  It just needs some code, so that's what I'm doing.


Well, other than the fact that it gives them cheap instant payments?  I think that's worth something.  I don't know what the resource requirements will be, but it'll be far less than running a full node (though you might want to do that too, of course!)
Hope that helps!
@_date: 2015-07-16 11:04:20
You're confused, I think.
I was [pretty]( [excited]( [about]( [Lightning]( before I joined Blockstream.
Now I think about it, perhaps Blockstream are excited about it because *I* am excited about it, and that tends to rub off on my coworkers?
@_date: 2015-07-16 10:40:18
Well, by definition, LN is more vulnerable than bitcoin, because any bitcoin flaw can compromise LN, as well as any LN flaw.  On the other hand, LN is also faster than bitcoin in the common case, and potentially cheaper.
Let's put these issues in perspective though:
**DDOS can lag the node**: to the point where it doesn't get its transactions out on time, and loses out.  Not a normal DDOS; even a busy node would only need to broadcast a few hundred transactions to the bitcoin network each hour.  You can tether via 2G on your phone to do that, if you have been under DDoS for over (say) 12 hours an totally unable to send any packets at all.
**Forced spam attack:** mitigated by timestop softfork, and even if not, hard and expensive to attempt; as the paper says "This attack is extremely high risk".
**Hacking Risk:** Your wallet is no more fundamentally hackable than any online bitcoin wallet.  It doesn't even need much more data (much less than a kb per live channel, and a kb per live HTLC).  So this is mainly a risk for nodes; more funds online means more transaction capacity means more profit, but also more risk.
**Fees**: sure, LN nodes will charge fees, and the bitcoin transactions used will be high-fee: why not, since they're only broadcast if something goes wrong?  Spam in the bitcoin sense isn't really a problem, since it's not being broadcast across a network.  If two nodes want to send a million transactions to each other that doesn't hurt anyone else.  
Hope that helps!
@_date: 2015-07-08 03:31:41
I've always thought of Peter Todd as Bitcoin's somewhat-benevolent Loki...
Minor quibble: "Core developer" in FOSS projects usually refers to the people with commit access, of which there are 5 in bitcoin.  PT is not one.
@_date: 2015-07-21 01:13:12
Thanks, I'm pretty robust though :)  I know that others aren't as fortunate, so I always try to give everyone the opportunity to contribute.
It didn't work this time, but I'll keep it up.  Occasionally it's rewarding, and it doesn't cost me anything.
@_date: 2015-07-24 02:25:02
I can quibble with the details, but I'd rather underpromise ("low fees, fast transactions") than overpromise ("no fees, instant transactions").
@_date: 2015-07-01 08:03:46
Yes, I have never seen this extended level of vitriol when working on the Linux kernel, though there were some pretty heavy debates. But Reddit is it's own beast; lkml had LWN which is less of a free-for-all.
It certainly has made me reluctant to respond here; even trying to gather data on the block size variants gets a lot of hate :(
@_date: 2015-07-08 05:20:18
Good question!
The IsStandard() test which (the vast majority of nodes) use stops any transaction &gt;= 100k.  So this won't propagate on the network.
In this case, they simply mined it themselves, not even bothering to pay themselves a fee.
@_date: 2015-07-07 00:12:15
That's a question for Pieter Wuille, or I think.  I am going to guess that their general answer is "we can make it faster if we drop the property that it's timing independent".
@_date: 2015-08-22 23:49:32
That's about it, I'm afraid. It's theoretical; of particular vagueness is the definition of "full block"...
@_date: 2015-08-06 10:57:14
They did.  See 
@_date: 2015-08-11 00:45:08


I totally understand!  In the short term, Reddit rewards attention, which leads to a combative atmosphere.  I've abandoned enough of my own drafts to know the temptation :(


Anthony Towns has actually been grappling with that issue; I'll be interested in his results...
@_date: 2015-07-09 00:11:28
Kind of. Wallet developers have been putting other features way ahead of this. That's perfectly understandable, since it was a fairly abstract issue a few months ago.
I expect this to change rapidly, which is a robustness win.
@_date: 2017-11-16 22:54:38
You mean they could save some bandwidth by pretending to be a pre-segwit node and thus not get sent the signatures.  Except that doesn't *actually* work, since compact blocks means the size difference is miniscule.  And if they care about saving bandwidth, they'd definitely use compact blocks.
Seriously, you'd still just scrape the merkle tree from some pool and use that.  Segwit doesn't change that at all...
@_date: 2015-07-18 10:19:43
Oh, and:
send a stingy tip!
@_date: 2015-07-08 10:55:43
Yeah, I think PT is having way too much fun.  Hence the Loki reference :)
@_date: 2015-07-02 10:26:20
send a decent tip!
(Sorry for the delay, access to my ChangeTip account had bitrotted...)
@_date: 2015-07-16 11:05:42
TL;DR: it's a caching layer for bitcoin.
Hope that helps!
@_date: 2015-07-06 23:08:34
I think you're out of luck if you expect more optimization here. The bulk of the time seems to be in signature verification. But I'd be happy to be surprised.
@_date: 2015-08-06 06:52:33
The thanks is mutual: it's so nice to get constructive criticism on @_date: 2015-08-17 11:14:21
I did that.  See  and  
@_date: 2015-07-18 10:41:27
Hey Joseph, welcome to reddit!
Yeah, I'm not planning on implementing an OP-CLTV only version, but I might review that if things get delayed.  Meanwhile on testnet we can just sub in OP_NOP and say "please don't malleate transactions" :)
You point out later something I only realized today: if we allow multiple anchor txs for each party, we don't have to use them all in commitment txs.  This allows selective offlining of keys when the channel is below capacity.
Not sure how much that gains in practice, but might help against a smash-and-grab exploit (rather than a patient attacker who creates transactions to max the channels and ensure they're all online).
@_date: 2015-07-27 00:22:32
You almost can!  You can store party if the block chain, and prove any part of it wire compactly to others, eg "this transaction is in this block" using Merkle proofs.
But what you can't do is prove that a transaction doesn't exist. If someone produces a transaction that spends a previous 1M bitcoin output, and you don't know about that output, you can't tell if it's because it's made up, or its just in the past of the block chain you don't have.
had a proposal which would allow this on one of his pages...
@_date: 2015-07-16 11:09:38
The original paper used a different method of fixing malleability (new sighash flags).  That's a very big change, though.  We've been discussing an idea which doesn't need new sighash flags, but that does need BIP62.
@_date: 2015-07-31 06:07:46
I'd really like to see measurements.
This is an existing TCP connection, so latency shouldn't dominate as much as you expect. But latency does have an influence, and as you say, it's not going to improve much.
Given that hard forks are hard, I'd be tempted to round up, and soft fork down if necessary. The soft limit may well be some combination calculation of utxo bloat, CHECKSIG and raw size...
@_date: 2015-08-12 04:05:49
No.  My original aim was a few thousand hubs (probably regional, since most payments are local) + large number of clients. Conversations with and pushed me in a more ambitious direction.
My implementation aim is to follow original vision, where a client would establish channels with 5 random nodes.  This serves as a bulwark against hub capture, as well as helping the decentralization and liquidity of the network as a whole.
It also makes the routing problem harder.  But I don't get paid for solving easy problems...
@_date: 2015-08-16 05:58:16
From the post:


Extremely disappointed with this attack, Mike.  I feel you've made strong, cogent arguments previously; you should delete this post and try again.
@_date: 2015-07-16 10:49:43
Sure, if there's $3 billion dollars per month flowing one way into a single merchant, that'll take channels to the merchant summing $3b.  Ignore lightning: if that were to happen on the bitcoin network we'd run out of bitcoin!
In practice, it's a network: Money flows in different directions, not just one way.  The actual amount of channel reservations required across the network depends on various topology, frequency, and amount assumptions.  The network might still end up being limited by the amount anyone sane wants to hold in a hot wallet, but it's not going to be capital limited.
Hope that helps!
@_date: 2015-08-08 10:06:53


This is very good point.  It's possible to imagine a range of miners who accept different min fees, and thus it's a statistical game: pay a tiny fee and you've got to wait until that supercheap miner gets a block.  But this seems to break down in the face of game theory, which says the supercheap miner will make most money, so everyone will want to do that...
Otherwise you end up with some kind of collusion, either enforced by a protocol soft-fork or just by a cartel deprecating non-conformant blocks.  It's even possible for miners to roughly enforce a sliding scale of fees; if a transactions has too low fees it sits unmined in the mempool for a while.  That's not enforceable by protocol though, AFAICT.


I hope the desire to expand the network is pretty ubiquitous: the debate is over which dangers are worse.  I hope that leads to a more constructive debate over what to *do* about it...


Good question!  One problem with mining pools is it's easy to say "flip this switch to reduce orphan rate!" goes away.  But maybe without mining pools, small miners would have vanished even sooner.
I think the real answer is to do things to improve mining for everyone, and level the playing field.  I plan that topic for my next post, actually :)
@_date: 2015-07-19 03:21:08
Great! What are you doing to scale bitcoin? I'm not familiar with your work on the issue, sorry.
@_date: 2017-11-04 10:03:52
Yeah, I hope so!
@_date: 2015-07-10 00:25:25
Thanks for that link, I've bookmarked it for future reference.
send a stingy tip.
@_date: 2015-07-06 23:11:51
That is a good question. I think the answer is yes, with one huge caveat: the signature cache, which should eliminate most of the hard work.
This case, of course, is a kind of worst case, since none are in mempool.
@_date: 2017-11-24 00:44:49
They could try, but it's not clear you'd profit.  You need to have capital in those channels, and you're competing with people who need to have capital in their channels because they're actually using them.
I'm pretty sure fees will race to the bottom quickly in this scenario.
@_date: 2015-07-18 23:03:29
Well spotted! B needs to use an alternate key for the escape txs, call it B'.
I'm on my phone at the moment, but I will update the draft (which is now in the lightning repo on github) later today.
send a decent tip!
@_date: 2015-08-17 21:53:14


If you believe bitcoin will be centralized, then yes; there's little point trying to build something decentralized on top.  In fact, there's not much point doing anything with it then...
@_date: 2015-07-27 02:06:14
That was before timestop proposal though, which mitigates that attack.
@_date: 2015-07-19 04:13:54
OK.  Would you like to do something?
If you have a technical background, you could volunteer to run an experimental IBLT-enabled full node I was thinking of putting together.  If you're a coder, you could review the IBLT code already out there ( for example).
If you're not that technical, there are still things to do.  I'd be interested in what fees people think are reasonable long term on the bitcoin network, for example.  Not very scientific, but from there you can estimate how many transactions it would take to maintain the mining ecosystem in 1 year, 5 years, etc.
@_date: 2015-07-18 10:17:32
Thanks, fixed!
@_date: 2015-07-11 02:35:09


I am not here to debate interpretations of your religious text.  It will enlighten none.
@_date: 2015-07-17 22:44:13
Thanks! I'm impressed anyone read the appendix :)
@_date: 2015-07-16 21:24:34
The code is not the problem; it's pretty trivial really.  But LN nodes will probably want to connect to specific nodes eventually, so it's not quite the same as bitcoin.
@_date: 2015-07-12 00:09:49
That seems to be your mode of argument, yes.
@_date: 2015-07-09 04:31:08
Hi BasketDragon!
This is a classic engineering question, so let's try to answer it!
Let's take a look at your average simple transaction, say 
(Or, more useful for analysis [here](
It is **226** bytes long, with one input and two outputs.  Pretty typical.
There are several hash/crypto parts which can't be shrunk much without making the system weaker.  Let's start with those:
1.  For each input, we need to know the transaction it came from.  txids are **32** bytes long.
2.  For each input, we need a public key (**33** bytes), and a signature (**64** bytes).
3. For each output, we need to know the pubkey which can spend it.  pubkeys are **20** bytes long.
So that's 32 + 33 + 64 + (20 * 2) = **169** bytes.
The remaining 57 bytes encode the following:
1.  Version number (**4** bytes)
2.  Input count (**1** byte)
3.  Output count (**1** byte)
4.  Locktime (**4** bytes)
5.  Output amount (**8** bytes, times 2)
6.  Output script length (**1** byte, times 2)
7.  Input index, showing which output we're using (**4** bytes)
8.  Input script length (**1** byte)
9.  Input sequence number (**4** bytes)
10.  DER encoding for signature (**8** bytes)
11.  Output script opcodes: (**5** bytes, times 2)
12.  Input script opcodes: (**2** bytes)
You'll note that fields (1), (3), (6) and (8) are already 1 byte long: that's bitcoin's varint format which uses 1 byte for small numbers.  We can't save much there.
Version number, locktime and input index (ie. (1), (4) and (7)) are generally low, so could use the same encoding, saving **9** bytes.
Output amounts up to 42 bitcoins can be represented in a 5-byte varint, saving **6** bytes for the two outputs.
The DER encoding (10) is just stupid, and has been a source of malleability and bugs in the past.  That's **8** bytes.
The scripts cost us 12 bytes; 15 if you count the lengths.  Eliminating scriptability altogether would save that, but ugly hacks like packing these common patterns into single opcodes would get back **9** bytes.
In total, we've managed to shave off 9 + 6 + 8 + 9 = **32** bytes (and we'd have to do a hard fork to get those first two savings).  That's only 14%.
And that's why it hasn't been done: too little gain :(
@_date: 2015-07-17 23:17:55
We still need the malleability soft fork. And the checklocktimeverify fork. And the checksequenceverify fork. But these are relatively minor, widely understood and non-controversial forks.
We no longer need new sighash flags. That was going to require a new CHECKSIG, which has so many wonderful things which could be done that it's likely to logjam for years; perhaps rightly so since there's still ongoing research into what we could change there, some of them cryptographically fundamental.
There are also some tricks which make it a bit simpler than in the original paper; Joseph didn't assume CLTV which really does help. And CSV makes it more efficient by allowing for much tighter timeouts.
It's not a fundamental advance, but it is a practical advance.
@_date: 2015-07-24 01:58:15


Indeed!  I started working on Lightning for reasons completely other than blocksize, and it's annoying to see the two conflated :(
@_date: 2015-07-07 21:37:32
Exactly: if the parallelization works correctly, my laptop (dual core with hyperthread) could be up to 4 times faster.  It's a bit optimistic :)
@_date: 2015-07-08 04:56:37
Well, no wallet will produce transactions over 100k, as they won't be relayed.  
But as the paragraph below the one you quoted notes, we could softfork in limits on OP_CHECKSIG tx sizes (or, number of inputs).
@_date: 2015-07-18 10:35:00
Actually, I sympathize!  In bitcoin-land there's a lot of "hey, someone wrote about that once, so it's a solved problem!  But there's no code of course".
In this case I sat down and wrote the whitepaper in the hope that more people would review what I'm coding.  The generalized channels are what's already in the prototype on github.
And it actually seems to be working; it's hard to derive this stuff from the code sometimes.
@_date: 2015-07-08 08:04:20
Yes, I hadn't seen Gavin's comment before I wrote this.  It was only in the patch, not the BIP or the patch description.
FWIW, I think we can do better than a new hard limit.  As I commented on my blog, Lighthouse could really use larger transactions, and sidechains[1] might want them too (though I'm not sure on that).
[1] I'm employed by Blockstream, though I don't work on sidechains.
@_date: 2015-08-20 23:26:53
@_date: 2015-07-08 10:26:35
Thanks!  Indeed, r/Bitcoin is a bit unpredictable when it comes to what technical posts will get upvoted.
To answer your question, I think I'd have to actually do the implementation.  My guess would be further benchmarking, substituting the SHA routines for asm ones and avoiding the tx copy would take less than a week.
It'd be a fun project if someone wanted to get into bitcoin development!
@_date: 2015-07-09 23:47:28
No problem with informed cheating! Plus, this game is fun :)
@_date: 2015-07-19 10:41:30
B knows the redeem script for Escape A: A gives the key, txid of Anchor A, and hash of secret.  That's enough to build Escape A and sign it.
I think we'll find out if I missed anything else when I implement it :)
@_date: 2015-08-06 05:36:58
Hi MystiqueDR, welcome to reddit!
Your numbers are bit weird, since it would also be 10 or 100 times more expensive to flood the blockchain.
But I agree that we're mostly using bitcoin in babytalk mode at the moment; most interesting uses of bitcoin means more and/or larger transactions.
@_date: 2015-07-07 03:37:00
If all the miners got rid of the priority region (blockprioritysize=0), we'd gain another 5%.  Perhaps that's a better way to smooth the path forward?
@_date: 2015-07-16 05:13:11
No (though if LN becomes super successful we'll want larger blocks to accommodate all those bitcoin txs of course!)
There's a possible attack (described in the paper) that can be done by filling blocks to delay your transactions, then using my transaction to steal funds.  It's a pretty expensive and low-success-rate attack, though.
suggested a clever soft-fork mitigation involving stopping timeouts when blocks are full, which is probably a good idea anyway, whatever the blocksize limit is.
@_date: 2015-07-19 21:07:21
Indeed; this falls out quite naturally from the protobuf proto file which defines the wire protocol.  Then comes a state machine which shows responses both to packets and various timeouts and blockchain events.
@_date: 2015-08-06 06:33:13


I'd love to see a serious economic analysis of this!
There's a misalignment between costs: marginal cost to any one miner for any transaction is only the blocksize increase, but the network has to maintain it.  That makes for an interesting dynamic, where everyone is always tempted to defect for short term gain if the "fee cartel" is weak.
Maybe you're right, and such a cartel would be untenable.  I suspect we're going to find out at some stage :)
Meanwhile, I've reworded that sentence to make it clear that it's complete speculation.  It now says:
    (Perhaps eventually they form a cartel to enforce a minimum fee, 
    causing another centralization crisis?  I don't know.)
@_date: 2015-07-10 21:51:28




I don't care, once it's on a side chain.  You could find out yourself, which would be great!
I don't know how to explain that any more clearly?
@_date: 2015-07-18 10:26:19
Yes, a bitcoin mining monopoly can screw you more easily with LN than they can on the bitcoin network natively.
In bitcoin, a majority of miners could conspire to never mine your transaction(s).  With LN, they only need to avoid mining it for as long the timeout, then they can mine the other's transaction.
Needless to say, abuse of a mining monopoly would be horrible for bitcoin under any circumstances.
@_date: 2015-08-04 23:26:16
Depends what you want. Bitcoind's RPC interface lets you do queries, more usefully with -txindex enabled.
If you want to pull out stats and are happy with command lines, I wrote [bitcoin-iterate]( to parse the block files.
@_date: 2017-11-09 22:16:55
Yes, and I expect people will. With satoshidice you had to trust them to pay out, so it's easy to be at least that good.
Better would be a scheme where you don't need that, but it's more complex...
@_date: 2015-08-10 00:39:21
Hi Reddit, LN prototype coder here...
Just to be clear, it runs on Elements Alpha because some of the changes required aren't softforked into bitcoin yet.  (Elements Alpha also has way cool stuff like Confidential Transactions, but LN deliberately doesn't use those features.)
If you change the comment at the top of the Makefile, you get a bitcoind-compatible version which uses OP_NOP instead of OP_CHECKLOCKTIMEVERIFY and OP_CHECKSEQUENCEVERIFY, and you're vulnerable to malleability because BIP62 isn't implemented yet.
@_date: 2015-08-20 08:06:16
The pub. I often find that a good venue to wax philosophical. Especially if someone else is buying!
Though seriously, Reddit seems as good a place as any.
@_date: 2015-07-27 10:13:49
paged appropriately... Thanks!
@_date: 2015-07-06 23:10:06
No. That's been pretty clearly debunked. Downvoted.
@_date: 2019-04-05 00:46:54
Yeah, it actually annoys me that other wallets don't subtract fee estimates from your "balance". But otoh, I'm terrible at designing UX...
@_date: 2016-12-20 20:35:42


Yes, it's base plus percentage.


The watchers need only fairly limited storage (a few sigs per payment), but they'll need some charging mechanism to avoid getting spammed I think.  Could be as simple as watching being a service offered by most nodes you have channels open with.
@_date: 2019-04-12 03:28:47
@_date: 2015-07-24 02:02:31
Indeed, Poe's law in action, both because I read it as serious, and because I feared others might...
@_date: 2015-07-16 10:58:17
I'm sorry that you object to Blockstream paying me to work on it.  (They're not paying anyone else to work on it, just me so far!).
Perhaps you are offering to pay me instead to work on Lightning?
If so, thanks, it's always good to have options!
@_date: 2017-04-02 23:42:31
I don't think anyone wants to wrote another non-spec-compliant implementation, and sure as hell nobody wants to go through the spec and replace the SW-reliant bits.
@_date: 2015-07-24 00:02:09
You keep repeating this, despite [refutation](
It's trivially true that any system built on top of bitcoin will be vulnerable to bitcoin weaknesses as well as any new ones it introduces.  But that's hardly worth shouting repeatedly about.
@_date: 2015-07-17 10:10:09
Joseph Poon's reply BTW: 
@_date: 2015-07-01 00:51:45
I agree.  The relay network works fairly well, but doesn't help block upload nor is it peer-to-peer.  IBLT is a part of the significant engineering effort which needs to happen to increase scale, which is why I've spent some time on it:
@_date: 2017-04-08 17:47:35
It exploits payment correlation to reduce the worst-case timeout on Ethereum. But the lightning developers consider payment correlation a bug (as it exposes payment information) and since channel collapse during payments should be very rare, I think this a poor trade off. 
@_date: 2015-07-16 05:05:01
Hi!  Hope I can provide some background...
I was hired by Blockstream in May, and immediately put to work investigating LN (mainly based on my previous [FOSS experience]( and [explanatory posts on Lightning](  I have posted some simple [pre-alpha prototype code]( on GitHub, and started a [development mailing list](
As to progress, there are these main technical parts to LN:
1. Generalized channels, which allow arbitrary exchange between two nodes.  This needs a description of what transactions are involved, what the state machine is for all possible combinations, a network protocol between two nodes, and some code to actually implement and test it.
2. Hashed Time Locked Contracts.  Again, this requires a detailed description of the transactions involved, a state machine for all possible combinations, a network protocol between nodes, and some code to actually implement and test it.
3. Routing, fees and node location.  This requires a routing protocol, a network protocol to express it, and some demonstration code.  It also requires a separate protocol (DHT?) to find nodes initially to connect to.
4. Modifications to bitcoin to allow LN to work.
Now, the paper gave us the following parts:
1. A description of what transactions are involved in a generalized channel.
2. A description of what transactions are involved in an HTLC.
3. Nothing detailed on routing, fees, or node location.
4. Suggested modifications (a new CHECKSIG operator with new sighash modes) to allow LN to work.
And here's what's happened since then:
1. Simplified the generalized channel protocol, and produced a pre-alpha network protocol and some demonstration code for generalized channels (which works on the Elements Alpha sidechain which has the features LN needs already).  More recently, proposed a change to channel establishment (see 4).
2. Posted a proposed simplification of HTLCs to the list.
3. Started a planning discussion on routing, fees, etc. with the author of Amiko Pay on the list, as well as Joseph Poon.
4. With the proposed modifications (assuming they pass review!), reduced the requirements for bitcoin to BIP62 (malleability), BIP65 (OP_CHECKLOCKTIMEVERIFY), BIP68 (sequence numbers) and OP_CHECKSEQUENCEVERIFY (no BIP yet assigned, needs BIP68).
It's painful to change design after prototype coding has already begun, but it's worth it if we can avoid a new CHECKSIG op (which has so many possible benefits that it's likely to take years to get right).


As far as I know I'm the only one full time, which makes sense for this early stage.  Once we have a prototype and a protocol, it makes more sense for others to start coding.
Oh, and it goes without saying that I'm not providing an ETA.  All the code is in the open, so others can judge progress, but software is hard; who knows what roadblocks we'll hit?  I'd rather get it right that get it early.
Hope that helps!
@_date: 2015-07-07 02:17:59
Indeed, I've done [previous stats]( on block upload, which is worse than download.
@_date: 2017-04-25 21:28:49
You have money in your wallet.  You scan a QR code and send funds.  It's the failure modes which are UX-interesting (and, hopefully, very rare).
eg. sometimes it says "Payment failed: I can't find route", and asks you if you want to pay "on-chain" (with larger fee, and delay).
It may even say "Warning: Can't reach peer.  Give up and start reclaiming funds (takes 2 hours)?".
And if you're very unlucky, it says "Payment is stuck; we will know if it succeeded or failed within 3 hours".
@_date: 2015-07-19 04:31:22
@_date: 2015-07-24 00:03:04
Downvoted.  First draft paper was published February 2015.
@_date: 2019-04-13 02:18:59
He deleted his Twitter account and removed his tweets. The intimidation is real :(
@_date: 2017-04-11 22:21:37
Basically, you're going to hit 23.5% tax.  Depending on your situation, you can cash out more slowly and lower that amount (staying under top tax bracket).  Any accountant will be able to advise you on this, BTW.
@_date: 2016-12-29 23:22:51
To quote:






Trust here is only in the sense that the watcher may not actually bother to save you.  But OTOH, the counterparty trying to cheat you doesn't know if you're using one or more watchers.  They were already taking a chance that you would remain offline for the duration required for timeout; now they also have to take extra risk.  If they bet wrong, they lose all their money.
So the existence of even a single, honest watcher makes this risk much greater.
Hope that helps!
@_date: 2019-04-20 01:51:35
Mine too! 
@_date: 2015-08-19 21:03:21
I don't think we need new proposals.  We need data.
@_date: 2015-08-13 23:20:41
Damn, you're right.
They're avoiding the question, which is not the same. 100 pedant points lost :(
Thanks for your perseverance which lead me eventually to enlightenment!
@_date: 2017-04-08 17:34:34
You should have kept records. But if you know the purchase date(s), you can estimate price fairly easily.
Notes: You might want to spread selling over multiple fiscal years depending on your tax bracket. You're probably OK if your capital gain in a single year is less than $10k (no need to declare). On the other hand, you may be liable for GST if you sell more than $75k in one fiscal year.
@_date: 2017-04-08 17:36:49
No. Buying a $1M house cash will get you audited, then jailed.
@_date: 2019-04-08 03:10:03
Using bitcoin will get pretty hard.
@_date: 2016-09-20 00:37:47
I'll just leave this here then: 
(Disclaimer: I worked at IBM, and one of my best friends was at the core of this effort).
@_date: 2016-09-09 05:44:25
This is a good question, but really hard to answer (at least, the lightning part which I know about):
We have lightning proofs-of-concept, and various implementations, but nothing production-ready.  In Milan I'm hoping we'll broadly agree on what a "1.0" protocol spec will have (even if some details are still to be wrangled) so we can all interoperate.
Then everyone has to change their implementation, do bake-off testing, and start doing all the "productize" into something which is usable.
Then we make any spec changes which come out of *that* experience, and start gathering user feedback and iterating.
Sorry that I haven't given a timeline; I can only think in terms of the milestones we need before people can trust their petty cash in the system.
@_date: 2016-09-06 03:13:54
Yeah, should have waited until after coffee... Thanks!
send a stingy tip!
@_date: 2018-11-30 10:06:45
IIUC Luke-jr tries to group like-themed bips around the same numbers. Personally I think it's futile and unhelpful; I can never remember which one is BIP 141 and which is BIP 143 for example. But it's how it's been done.
@_date: 2018-11-13 22:36:15
Dual funded channels and advertising offers to fund such channels are in. But almost everything else is also a usability improvement.
@_date: 2016-09-16 14:13:36
An interesting thought that credit may be fundamentally more convenient than cash. Not sure what we'd do about that though.
But since you can pay on-chain directly from a lightning channel, it's actually easier to keep your (hot) funds in a channel than not.
@_date: 2018-03-30 22:49:52
No. Fundamentally, lightning is an offer of Bitcoin for a secret. You need to supply the secret to collect the funds.
This is why we built an invoice system: you provide me a request for payment, I pay.  There is no offline receipt without trusted third parties (though Schnorr will enable invoice reuse, so you could have an unsolicited payment).
The only good news is that the  trend towards always being online in some form is in our favor here. I can eventually see a system where your phone gets a ping to complete an incoming payment, not to mention IoT style lightning nodes.
@_date: 2016-09-05 23:54:51
Great work!  I hope you are coming to ScalingBitcoin ~~Montreal~~Milan?
@_date: 2018-11-13 22:35:12
I wumbo. You wumbo. He- she- me... wumbo. Wumbo; Wumboing; We'll have thee wumbo; Wumborama; Wumbology; the study of Wumbo. It's first grade, Spongebob!
@_date: 2018-11-23 04:51:06


Um, a miner close to majority *definitely* benefits from larger blocks, especially if they hobble attempts at fast relay.
@_date: 2016-09-24 23:56:00
Every implementation I know is open source. And I haven't worked on closed source for over 2 decades now.
Payments work a bit like tor: each hop can see the previous and next nodes, but has no idea where it starts and ends. (Of course, they could do analysis based on timing, etc, which will be an ongoing arms race IMHO. Just like Tor).
Hope that helps!
@_date: 2019-01-19 22:12:39
Well, support for peers requesting neutrino filters is likely to be merged. It's strictly better for privacy than current bloom filters which are already supported.
But it's not significantly more secure, so nobody should be dropping their full nodes for a neutrino node without careful consideration.
@_date: 2018-11-17 00:51:42
And at what point do they refund my money? 
@_date: 2018-03-15 03:28:14
Yes, we can get to 10s of thousands of channel without any real work (though our gossip protocol dumps everything when you first connect right now, and that's already becoming a pain point for mobile users, so we're fixing it now).
Where the pain point is beyond that depends almost entirely on how dynamic the fees are.  If they're changing often, we hit it sooner, if they're not we could get quite far before having to something smarter than "everyone knows everything".
@_date: 2018-11-17 00:46:57
The main problem is that channels are usually very unbalanced, but due to privacy you can't tell that until you try to use it. The result is that your client has to retry many times, and they're still kinda dumb. Since some nodes are unstable, you can also end up with stuck payments: lnd in particular wants a day wait for stuck payments, so if it's one of those you're in fora bad time.
Splicing, dual-funding and advertising of willingness to provide funding are all in 1.1, for these reasons. Probing the network is happening too, so if your channel  is unreliable a probe will probably take it out.
@_date: 2018-11-23 04:59:09
Where did they get the Bitcoin Lightning Accepted sticker?
@_date: 2018-11-19 09:08:14
Two Weeks after Bitcoin is ready for general use?
@_date: 2019-01-24 03:25:57
Finish line? I think that's, at best, wildly inaccurate.
We have so much to do, we're closer to the start than finish.
@_date: 2016-09-16 14:17:30


That's deeply unclear. Large hubs would have proportionally more risk. And I see part of my role to keep barriers to entry as low as possible.
@_date: 2016-09-07 02:31:56
For others (like me) who were confused.   This doesn't seem to be what most people think of as a conference: it's a series of Bitcoin Unlimited presentations.
(There was no open call for presentations, and a deliberate and specific bias for Bitcoin Unlimited.  That's fine, but not what the title implies.)
@_date: 2018-03-18 04:42:15
There's no point.  Like color.  It's fun :)
@_date: 2018-03-27 22:16:13
She's more bizdev than technical, but she's more technical than most people here, too. She's also doing a difficult job well, and lightning needs more than just Roasbeef and other detail geeks like me. 
@_date: 2016-09-24 23:29:45


That's kind of true. They don't like their transactions revealed. They don't like open access. They don't like uncertain up-to-an-hour delays.
And yeah, if they get past all that there's a question of scalability.
There's a tendency to rose-color Bitcoin here, which is natural enough, but over simplifying may be even worse.
@_date: 2019-01-08 20:29:15
Always good to have more traffic through my test node! Thanks!
@_date: 2018-11-15 23:51:13
We were basically on vacation in Australia when this became a thing...
@_date: 2018-03-03 20:41:43
Please send bug reports, particularly crash.log files which should be in your .lightning directory...
@_date: 2018-03-16 07:21:31
lnbc makes more sense, since that's the bech32 prefix...
@_date: 2018-03-29 03:52:15
Alice steals all Bob's funds. Because updating the commitment transaction means giving the other party the previous key, to prove you won't spend it. Since Alice has that key, she can take all the funds.
This is the reason that outputs are delayed: to give a chance to enforce this.
@_date: 2018-03-16 21:55:54
SLEEPYARK is the Blockstream store. But since names are self-chosen, anyone could also be SLEEPYARK.
I think it's interesting: lnd default names are just the key, older c-lightning nodes use NSA style names, modern ones append the version for dev builds (was sick of debugging without knowing that!) . But most people seem to customise their names anyway.
I like that they use the color (also customisable) but would prefer they use it for the names, though i know that's UX-hard.
@_date: 2017-09-25 01:46:30


No, there's no expiry.


No, you can close your channel at any time.  You can do this mutually immediately, or if the other party is offline/unresponsive, unilaterally, with an associated wait period (default here is 36 blocks, but my implementation allows up to 5 days).


Developer Rusty Russell's implemtation charges 0.01%, actually.


No, since the network is kinda random, you'd expect bidir traffic, so it's not as much as you'd think for small transfers (which is kind of the aim here).


It quickly won't, because trying to serve everyone has massive diseconomies of scale, and you're competing with every other player who wants to use lightning and forwards as a side-effect of that.


There are actually multiple solutions figured out, but since channel updates are actually really rare (basically only when fees change or on complete depletion), it's not a priority.


So far so good...


Completely wrong.


Completely wrong. What isn't in the spec is adding/removing funds from the same channel without any downtime.


Like the bit torrent network, or the bitcoin network?  They're both hub and spoke?  It seems like peer-to-peer networks "naturally" do the opposite.


Wrong, it has several.


Yeah, for the moment you have to receive about 600 bytes per channel *once*, and store about 1/10th of that.
Seriously, try harder...
@_date: 2018-03-16 02:01:22
Yeah, we (c-lightning) have a deterministic seed, but the derivations are pretty ad-hoc and we don't have a seed format (unless raw binary counts?).
Switching to your scheme makes more sense IMHO.  We'd have to do it before our release, otherwise we'd be dealing with both (yech!).
@_date: 2017-09-24 23:40:10
?  bitcoin.com.au is pretty trivial for small amounts, btcmarkets.net for larger amounts.  I don't see why you'd want coinbase particularly?
@_date: 2017-09-20 03:20:29
Just to clarify: I am not aware of *anyone* working on lightning for litecoin.  All the lightning developers are working on bitcoin, and yes, some of them added a hack for litecoin because it's trivial (including my coworker Christian Decker).
The triviality of tech crossover from bitcoin is a litecoin feature for sure, but it's 100% bitcoin -&gt; litecoin that I'm aware of.
@_date: 2018-03-09 04:39:19
Great idea!
@_date: 2018-03-04 06:56:58
I always assumed that people would start a new port by replacing c-lightning one component at a time.  But that might not be as satisfying as doing it from scratch.
@_date: 2017-09-18 01:09:49
Yep.  Always check the outgoing address on your HW device (Trezor/Ledger Nano).
@_date: 2018-03-06 01:57:19
No... what platform?
@_date: 2017-09-12 00:49:17
Got a block number? You can usually see clearly if a miner is doing the priority thing, by graphing feerate across the txs...
@_date: 2017-09-21 01:08:51
Yeah, I proposed a rotating set of landmarks (select by blockhash every 100 blocks?) which everyone maintains routes to &amp; from.  Then I can simply tell you "here's the route from a few landmarks to me" and you can now route a payment to me.
That leads us to questions like "how many landmarks" of course, which depends on other factors we can only guess at until we see the network develop IRL.  Another approach uses private landmarks, aka FLARE ( ) which has different tradeoffs...
@_date: 2017-09-26 11:12:39
Yeah, overpaid. My 2sat/byte got in 
@_date: 2017-09-21 05:06:40
Most people are reasonable; telling which Reddit accounts are people can be hard though :)
It's hard to both be passionate and stay calm; I certainly find myself oscillating between the two some days!  I think it's best to have something other than bitcoin in life to maintain some balance.
Good luck!
@_date: 2017-09-26 05:05:23


Well, GreenAddress is kind of in a different category from blockchain.info and AFAIK Coinbase Vault, as GA is non-custodial (which means you can lose your coins all by yourself, so beware!).
@_date: 2017-09-20 03:21:58
IANAL, so no.
@_date: 2017-09-18 08:46:44
No, they were not. B2X needs to implement two way replay protection, so you can prevent txs from one chain leaking onto the other. They haven't, and it seems they don't know what damage they're going to cause...
@_date: 2018-02-12 23:03:23
I really hope he will be hacking on the set reconciliation for tx relay soon.  It should really reduce the bw required for running a full node.
Of course, tx compression would be pretty nice all-round too...
@_date: 2017-09-08 05:56:57
Yes, and it's not clear what makes the cut for a new script version.  I think it makes sense to do NOP-replacement for a while, then do a "cleanup and optimize" new script version when it either gets too ugly, or we have something which would suck as a NOP-replace.
@_date: 2017-09-02 03:09:46
Nope. 
@_date: 2017-09-28 03:07:50
No. Transactions, yes, blocks no.
@_date: 2017-09-07 09:01:39
Woah, this is really clever. I read them in sequence and was nodding the whole time. Except the part where I read the Merkke verify BIP and thought he'd given up on general MAST, only to get to the third BIP and have the "a-ha" moment. Kudos!
@_date: 2017-09-21 01:09:42
Updates here means fee adjustments.  See  lower down.
@_date: 2017-09-20 01:33:04
It's absolutely going to happen.  Someone will accidentally delete their lightning wallet.  Someone else will run in a VM which doesn't properly sync to disk.  Someone will run into a corner case where the client crashes and the other end closes the channel; they'll try multiple times until they've spent all their bitcoins in fees.  And I'm sure more scenarios I *haven't* thought of...
@_date: 2017-09-27 06:48:53
Yes, it's almost like the terms and conditions put in place by the founders to prevent the company from influencing bitcoin development are actually working.  Hmm...
@_date: 2017-09-20 03:12:41
There are protocol scaling issues and implementation scaling issues.
1. All channel updates are broadcast to everyone.  How badly that will suck depends on how fast updates happen, but it's likely to get painful somewhere between 10,000 and 1,000,000 channels.
2. On first connect, nodes either dump the entire topology or send nothing.  That's going to suck even faster; "catchup" sync planned for 1.1 spec.
As for implementation, c-lightning at least is hitting the database more than it needs to, and doing dumb stuff like generating the transaction for signing multiple times and keeping an unindexed list of current HTLCs, etc.  And that's just off the top of my head.
Hope that helps!
@_date: 2017-10-03 07:52:07
I think a 1% penalty if it falls through is fairer. But given how many people are offering to swap 2X for more BTC, I doubt you'll get any bites.
 
@_date: 2018-02-16 23:45:06
I used to worry about this, until I realized that *anything* which makes Bitcoin more usable has this property. 
You can mitigate, but more use = more exposure.
@_date: 2017-10-18 14:53:09
You're assuming we'd hear about a hot wallet compromise?
@_date: 2017-09-25 10:07:03


There are so many articles on the lightning network, I'm not sure the world needs another one.


Total across the path, yes, though probably a bit high.


Christian Decker loves that stuff :)  But really the economics is pretty simple, and typical contemplation ends up where your assumptions started.
@_date: 2017-10-12 22:43:56
1+1 millionth fees? That's going to be hard to undercut! :)
I randchose 546 +  0.001% ie over 10 times that for c-lightning...
@_date: 2017-09-19 21:09:04
I tend to publish the rough minutes of the spec calls to the mailing list (which I just did now for the latest one).
All three teams are heads-down making sure we're compatible with each other and the spec at the moment.  Once we have that working we expect to do a live test with the requisite announcement.  Say Two Weeks(TM).
Then I expect the individual teams to do alpha releases meeting the 1.0 spec (and at some point we'll officially release the 1.0 spec; at the moment it's frozen modulo serious issues and clarifications).
At that point, the brave will start using it and we'll have our first stories of people losing money because bugs/ux/accidents.  But the feedback will help improve future versions until we get to something people in this subreddit would actually want to try, and finally onto something that casual users would want to play with.
Hope that helps!
@_date: 2017-09-21 09:50:04
Yes, there's been incremental work towards this, but it's actually much harder than envisioned originally. Current lite nodes fall far short, with basically no privacy :(  There are also several block properties which can't be compactly proven; it's possible to fix that with soft forking though. In addition, things like neutrino return privacy to your nodes.
Currently, you're best off running a pruned node if your capacity is constrained. It doesn't help the network, but it does give you guarantees against even malicious miners.
@_date: 2017-09-21 01:03:37
The only updates are fee levels, really, and the network batches them into 30 second groups as a simple spam limitation.  If your channel is getting lopsided you might increase fees in one direction.
You don't say "my capacity dropped by 5100 satoshi" because, yeah, that would be dumb :)
See: 
@_date: 2017-10-06 03:21:59
I'm happy to chat to the ATO if they prefer a local expert, too. But Greg coming over would be cool, too!
@_date: 2017-09-21 01:04:59


Me too :)  We'll get there...
@_date: 2017-09-20 03:14:24
There have been numerous simulations, but I prefer simple math at this stage: it's hard to say how people will actually behave, and that makes a huge difference to results.
@_date: 2017-09-09 22:47:15


No, that's only what a pre-segwit node would see, this concept of "base block" is in your head only.  It really would be blocks of 4-8MB in size.


No, just one miner.  Say, trying to drive smaller miners off the network for profit.
@_date: 2017-10-18 07:08:58
Yes. Make bitcoin better.
@_date: 2017-09-20 01:35:37
No.  They're real.  They're not very optimized, but then neither was bitcoin until 2016, because we didn't need it.
@_date: 2017-10-09 09:26:27
I was thinking of Dandelion: 
and some of the coinshuffle work, as well as the ideas that mixing will be cheaper than non-mixing for some workloads...
@_date: 2017-10-19 07:11:12
This is cool!  Donated, and good luck!
@_date: 2017-10-18 12:32:24
All the big bitcoin businesses are nowhere near as reliable as you'd hope; they probably lose hot funds regularly to mistakes and hacks.
They don't care much because they're VC funded and not trying to actually make money yet, but leaving your funds there is actually far riskier than their pretty webpages make you think.
@_date: 2017-10-28 02:40:13
But if blocks aren't full when the subsidy runs out, bitcoin's security stops.
You're going to have to pay fees, sorry.  Satoshi's free ride part 1 is over, and part 2 will end soon.  
@_date: 2017-10-21 15:17:15
can only type so fast...
@_date: 2017-09-02 12:04:03
No, that, like this, was litecoin mainnet. But don't let that stop a good pump!
@_date: 2017-09-01 01:46:25
You mean 2-2.5 MB, BTW, and you badly misunderstand me.
Start here: 
@_date: 2017-10-19 06:56:10
You mean like the way banks report it?
@_date: 2017-10-28 02:37:21
So I can spam a million zero-fee transactions at this service, then what happens?  Hell, I can just send the current mempool from my full node (51k txs, don't know how many are under 500 bytes).
@_date: 2019-09-28 02:51:26
Yes. Any automated mechanism which has access to your wallet has this property. It's the main reason implementations are cautious.
@_date: 2019-09-12 23:33:22
Nothing. This is a lightning issue.
@_date: 2018-02-18 00:59:11
Yes, and if we have Schnorr, nobody will even know...
@_date: 2018-07-23 00:42:02
Hi!  Broad question...
To be a full LN node, you need to store every public channel's channel\_announcement and their latest channel\_update in each direction.  That's 430 bytes + 2 x 128 bytes == 686 bytes, so 686MB once we have a million public channels, which is starting to get pretty heavy!  (We can cut this down a little bit using Schnorr in future, but ignore that).  How much \*bandwidth\* it consumes depends on how often channels are updated, though they're pretty restricted to no more than once per minute already.  
The actual information you need to store if you just want to do routing (but not sharing signed messages with other nodes) is less, though.  You need about 33 bytes per node and 8 bytes per channel, plus about 18 bytes for each direction.  Assuming avg 2 public channels per node (which is pessimistic) that's 77 bytes per channel which means your phone is pretty happy routing the first few million channels.
Moreover, in a well-connected graph you don't need the latest nor complete routing information; invoices can provide partial routing information already, so it could well be that you can get away with only knowing 1/5 of the routing graph and still get reasonable results.  More research needed, once we have more real topology info.
Where does that leave us?  It looks like there are no protocol changes needed for routing the first ten? million public channels, which is why other improvements are taking higher priority.
Hope that helps!
@_date: 2017-10-08 22:52:43
We need improvements across the board.  Fortunately, people are working on them...
@_date: 2017-10-28 03:45:51
I have absolutely no need of this, especially over Christmas in Australia.
So I am purchasing one now...  Maybe two, because forks.
@_date: 2017-10-18 09:52:51
FWIW, I believe the Pieter Wuille Fact Checking Team is looking for more facts, mailto:suggestions
@_date: 2019-09-02 02:59:20
Even if you haven't already upgraded (and most people have), you probably have a few more weeks: full disclosure is on 27th September.
@_date: 2015-04-08 04:15:22
Not sure I understand the question, so let me fling some related answers?
The initial TX is already embedded in the blockchain, so can't be "undone".  Other TXs are only sent when you want to close the channel, and in that case all but the very final one have been invalidated.
Hope that helps...
@_date: 2019-09-06 05:04:48
Not if they upgrade!
@_date: 2018-07-31 22:52:56
Anyone promoting this hyperbitcoinization theory needs to explain why hypergoldization hasn't happened. Ever.
@_date: 2018-07-06 23:35:35
My only contributions were to ask dumb questions, TBH. 
@_date: 2018-07-02 23:21:36


You're going to remain disappointed.  I can only imagine your horror that Satoshi didn't seek a clear ruling before launching bitcoin!
@_date: 2017-09-02 02:19:34
Great technical summary of what's going on in bitcoin development.
@_date: 2019-09-08 03:36:56
Good question. Maybe because it's a simple substitution. Maybe because it's likely to be around for a while, and because it's open source so it's easy to run up your own if you needed to. Maybe because it's got nice Tor access, and works with JavaScript disabled.
@_date: 2015-09-12 21:19:26
Yes! I'm not doing this (just) for fun!
A miner can still produce nasty megablocks which can bypass any fast-propagation scheme though. This just helps for normal, friendly cases...
@_date: 2015-04-14 02:07:09
To quote from [the paper]( section 8:


They go into more mitigation ideas for this problem, too.
@_date: 2015-04-29 00:10:15
There are various parameters which need to be tuned, for a start. Hence my bitcoin-corpus on github which is a snapshot of a recent week of mempool on various nodes.  This can be used to tune implementations; of course they have to handle various DoS cases too.
So, there is work being done, it's just slow...
@_date: 2018-07-15 04:55:50
Really needs a much longer slot, to cover these in depth. OTOH that would require me to know them all in more depth too, and I have this really interesting day job which keeps interfering! :)
@_date: 2015-09-13 01:27:48
True, but they can't really make it look more expensive, just cheaper. And this brings SPV nodes to parity with full nodes, which is as good as you can do.
@_date: 2015-09-08 08:30:08
That'd be a fascinating problem to have!
Hmm, there's a natural cliff though, as lightning transfers are logically charged per satoshi and raw bitcoin is per utxo or byte.  No idea where the crossover would be, too many unknowns... 
@_date: 2015-04-08 04:18:46
There's some meaty quotes here from Peter Todd, who definitely counts as an expert:
(TL;DR: it's good!)
@_date: 2015-09-26 00:11:18
Fortunately, this abrasive tone of his last few minutes was not reflective of the workshop as a whole.
@_date: 2015-09-09 17:53:25
Pretty sure Gavin's going, since we spoke about catching up on IBLT stuff.
I'm guessing he's a TBA slot.  Or maybe (like Pieter Wuille and Greg Maxwell) he'll be lurking instead?
@_date: 2015-09-28 02:54:18


It's a nice idea, though Bitcoin core is very conservative in what it puts in.  I think that's a good thing, but it means that it's probably not a good fit until bootstrapping is no longer a problem.


Well, the initial LN prototype I write will require bitcoin core.  So maybe we'll see a boost in the short term?
In the longer term, we need to see full fraud proofs (which is easiest with UTXO set commitments).  At that point we can blur the line between lightweight and full nodes (partial nodes) and still have stronger security guarantees than current SPV nodes.
@_date: 2015-09-29 05:35:47
He's frustrated, and he's human.
@_date: 2015-09-28 02:48:30






Exactly, nicely summed up.
@_date: 2015-09-24 10:25:18
Indeed, of all the scaling ideas I heard in Montreal, it seemed the most reward for least work.
@_date: 2015-09-25 04:38:10
Yes, see my work on [versionbits](
@_date: 2015-09-24 20:44:45
Yes, we got a chain of 6 invalid blocks that way already, see 
Miners can save a lot of complexity and speed by not validating *at all*.  After all, why look to invalidate your own blocks?  You're better off hoping nobody else is looking either.
@_date: 2015-09-04 06:42:11
What's your uplink? There have been complaints of buffer bloat issues, which I would like to see addressed (in my copious free time of course!)
@_date: 2015-09-01 00:12:13
That's my plan!
@_date: 2018-03-16 01:56:27
The spec says it should error back with the latest fee info, if too low.  There's a race here, since gossip propagates slowly, so it might give a grace period.  Too high, it'll keep.
@_date: 2015-09-15 15:37:53
I think it's partially because it's still hypothetical, but also because it's a percentage-sent fee which may well cater to a different market than a bytes/utxo-consumed fee that miners use which suggests they're complementary.
@_date: 2015-09-05 12:10:35
It gets back on-chain, it's just delayed. With some twists to allow that delay to be extended if both sides are amicable.
The blockchain is a road.  Lightning Network is a jet using it as a runway. Everyone concentrates on the speed and convenience, bit it can't exist without that tarmac for takeoff and landing.
@_date: 2015-09-24 01:42:10
Look, I *like* that Gavin's running with this; we spoke about it in Montreal, and agreed it's lower hanging fruit than IBLT.
But the original idea was from Greg Maxwell or Peter Todd, so you're exactly wrong.
@_date: 2018-07-21 22:59:17
This is wrong.
@_date: 2015-09-08 00:07:34
I think a timeout is a requirement to avoid exhausting bits.  I can just see a future soft fork having a "oh shit" moment and being abandoned.  But it should be in years, and the draft suggests +3 years.  At that rate we can still have a (failed) soft fork every 5 weeks.
I originally got involved because I wanted a "last chance to upgrade!" delay between locking in the change and activation, rather than relying on "weather forecasting".  And two weeks fell out naturally.
I read the XT source, and you're using ((version &amp; 0b0100000....0000111) == 0b01000000.....0000111) as a trigger which is great!  As long as nobody reuses all of those lower bits, there's no chance of confusion.  We still have 26 other bits to use anyway.
@_date: 2015-09-13 15:51:09
His rant was out of place and unhelpful :(
@_date: 2015-09-27 00:28:05


That describes the best engineers.  By this categorization, Linus Torvalds is also "at best an advanced hobbyist".
Great, I'm with them then!
@_date: 2015-09-07 20:35:53


But while I have your attention, I've been trying to refine the version bits BIP.  It's probably too late for BIP101, but would appreciate your comments as someone "in the field" on this issue:
(Basically, it tallies on period boundaries, has a timeout for bit reuse, and adds a 2 week delay before activation).
@_date: 2017-10-28 04:02:36


"We"?  But anyway...
It's not that simple, since it's not a binary full/not full.  We're not seeing miners squeeze out the last few percentages (mining segwit and not mining empty blocks), nor users doing so (using segwit).  So it's not "full" in one sense, there's more capacity available than is being used.  But there'll always be some non-SW txs (historical inputs, for example), so taken to extremes we'll never be "full" by that definition :)


I don't know ethereum at all.  But as far as I'm aware, nobody has succeeded in syncing a full node on ethereum recently.  Ethereum nodes are closer to what bitcoiners would call "lite nodes", in that they trust the miners and don't validate old blocks.  That's great when they want to hard fork regularly, but it's a very different security model than bitcoin where everyone checks everything.  I understand they're currently debating what other security parameters they can weaken to increase scale further without destroying trust in Ethereum altogether.  It's very different from Bitcoin.


Not now, but I've always believed we'll need one eventually.  See: 
@_date: 2018-07-24 02:42:46
... but you have to find a peer who has also removed the limit.
@_date: 2015-09-28 04:50:04
I'm obviously biassed, but I joined Blockstream because they were the only ones focussing on the core technology.
Other companies were pitching businesses, exchanges, wallets, etc. innovating *on* bitcoin (valuable work, but not exciting enough to pull me away from Linux kernel).  Blockstream were talking about innovating *with* bitcoin; more challenging, and far more technically interesting.
@_date: 2015-09-21 00:15:55
I've been meaning to coalesce a summary, since I haven't seen one.  There were several interesting aspects of scaling that were brought up, and numerous mitigations too.  The most promising low-hanging fruit I found was the idea of "weak blocks", which will probably be my scaling focus between now and Hong Kong.
@_date: 2015-09-08 08:19:13
Then you misunderstand. Once a lightning transaction is done (in a few seconds) it is complete and irrevocable.  Hence the excitement...
@_date: 2015-09-08 08:31:33
If it's going to exist anyway, why pump money in?  There's not a great deal of VC funding bitcoin core, either.
But at this point, more money won't really help.  I'll be sure to tell you when that changes though! :)
@_date: 2015-09-29 06:40:14
I like Mike (though I've never met him).  He's sometimes a bit propagandist, but who isn't?
He's long been convinced that lack of scale-out is the single biggest danger to bitcoin.  He's also long been frustrated with the slow pace of core innovation.
I tend to agree, and in future I hope we'll find some way to work on them together.
@_date: 2015-09-04 01:14:26
Just to add more data, typical block validition time scales linearly too (different test from above, since that'd use cached signatures): ActivateBestChain took 1.9-2.0 seconds for a 1MB block, and 15.3-15.7 seconds for an 8MB block (from 
And there's some low hanging fruit there (eg. libsecp256k1 -&gt; 6.5 seconds).
@_date: 2015-09-12 21:14:27
Weak blocks are even worse.  If the only expense for miners is block size, since these let you mine blocks the same as the last weak block for constant size, that's what they'll do by Peter R's theory, and he showed how this breaks supply vs demand assumptions...
@_date: 2015-09-08 20:34:23
Sit off the chain for ~10 minutes with no protection against double spends, rather than sit off the chain for a time of your choosing knowing the money is yours when you want it?
I don't think that's going to be a common wish.
@_date: 2015-09-28 01:03:12
Yes, the idea is to use onion routing, in fact I'll be posting demo code today (I hope!).
In a nutshell, we always send 20 hops worth of encrypted data, and you decrypt it to get the next hop, then add padding to keep it constant length.  It provides protection from casual observers, BUT if someone has access to multiple nodes on the path they can trivially correlate them (via the R hashes being identical).
The other lightning privacy feature worth noting is that when you close a channel, what hits the blockchain is a single tx representing the sum of all your lightning transactions.
@_date: 2018-07-31 23:19:50
It's easy to transfer. It's not as easily divisible, true. But Bitcoin has similar problems: you won't be able to send tiny payments if this scenario plays out. (This article predates LN).
Gold's no easier to steal than cash. Bitcoin is also very easy to steal: you basically need a dedicated device to prevent it. And USG history is irrelevant to this argument.
Bitcoin's also much easier to destroy accidentally.
@_date: 2015-09-11 00:22:19
The future is all guesses.  But my guess is that LN (and similar channel tech) enables an entire new realm of micropayments which weren't feasible on bitcoin.  Mike Hearn's classic example (at least, I heard it from him first) was paying for net access by the minute.  But it could equally be paying a website for no ads.
My point is that such a thing hasn't existed before, so it's hard to imagine how it'll be used.  I'm sure it will surprise me...
@_date: 2015-09-01 23:51:58
"We're committed to ensuring the largest possible number of users benefit from Bitcoin"?
@_date: 2015-09-29 07:40:14
Yeah, OP_OR and OP_AND are not what you're looking for here (they do bitwise operations).  But OP_IF and family are fine, which is more like what we want here (though as above, you don't even need it).
@_date: 2015-09-24 20:35:05
Stupid troll: Everyone knows to send money you just need permission from reddit!
@_date: 2015-09-16 12:54:32
Yes, if I have a channel open to you and you control every block for a day, you can cheat me.  That's a possibility to be aware of, just like a bitcoin 51% attack.
@_date: 2015-09-24 10:24:10
If miners aren't actually validating transactions, then lightweight clients which trust them get screwed.  That is supposed to be how end users would use bitcoin when it gets huge, so it's an issue.
@_date: 2018-07-24 02:40:48
It helps to look at specific cases, I think.  We had some bugs which caused issues, we had poorly-connected nodes, and we had UX confusion.  These all seem to be improving, however...
@_date: 2019-09-27 23:15:42
It can only be used to make the node spend its outgoing funds. Basically, you think I am paying you but I'm not, so you happily send funds onwards.
It doesn't hurt anyone else, it's individual fraud.
@_date: 2015-09-25 01:41:40


And I would have agreed that no significant percentage of miners would risk non-validating.  Or, like you, that they'd do it sensibly.  Then it happened :( It shouldn't, but it did.
So from now on we need to assume miners are not sensible; what can we do to mitigate that?
@_date: 2015-09-18 22:34:55
Found this via Mike Hearn; to be fair he criticizes it as incomplete 
@_date: 2015-09-05 11:59:45
For the record, I have no idea what you're talking about.
@_date: 2015-09-21 05:00:14
No it doesn't, unless you manually disable checkpoints.
@_date: 2016-10-25 19:56:49
Well, I like all the miners I've met; they are genuine bitcoin supporters and they definitely want success.  But they are also competitive businesses, and we shouldn't *ever* expect them to take a loss for the good of the rest of the community!
@_date: 2016-10-26 05:33:16


Not at all!  eg. You could have a competing soft fork which said "if the coinbase has a segwit entry, it's invalid".  You could *even* do that after segwit was accepted, and it's still not a hard fork.


Perhaps you need to think more before posting about what "many say"?
@_date: 2015-09-06 21:09:14


That's no better.  You're still seeing some kind of monolith which doesn't actually exist.


Citation needed.  I've only seen arguments that it might limit long term growth requirements.
Personally, I've made it clear that LN is not an alternative to the size debate.


I don't know what made you suggest it to Greg, but the funding decision was not about blocksize at all.  It was more about fortunate timing (I was coming on board anyway) and my own enthusiasm.
Anyway, I don't care about your blocksize debate.  It's toxic, and I'm trying to minimize my exposure.
@_date: 2016-10-27 22:54:24


True, you've dropped to SPV security in that case where an invalid block can fool you.  By this time bitcoind is screaming at you about an unknown softfork activating, too.
@_date: 2016-10-06 11:41:05
Thanks! Shows I am no graphic artist, though!  
@_date: 2016-10-31 01:45:39
Not just that.  There was a lot of handwaving in the early days about how scale would happen, and if you used bitcoin, transaction fees were optional.  It absolutely wasn't clear to the casual user that the Free Bitcoin phase was going to end, or when. I've still seen people in this reddit say "I want my old bitcoin back where I didn't have to compete to get into blocks".
So that transition to fee-pressure was *always* going to be painful.  It was made worse by respected people promising that we could just "change one number" and defer the transition until later, or forever.  "Someone else will pay for it" is always an appealing line.
@_date: 2016-10-08 16:32:25
Hence sidechain.
@_date: 2016-10-25 06:03:47
I have sympathy with the idea that bitcoin needs to scale on-chain to survive long term, TBH.
But there are real engineering challenges in doing so without driving centralization, and the measures of centralization are all flashing red right now :(
@_date: 2016-10-26 05:15:35
Hmm, it'd be nice if a wallet used RBF and merged transactions in this case automagically.  That helps everyone...
@_date: 2016-10-18 23:57:52
Hmm, this might have been a little TMI:
There's a  pervasive feeling of a group of people trying to push their brains for two days to reach a common goal. It's pretty intense. Exhausting, but there was so little bullshit, he said. Well, until Christian started playing Rebecca Black videos for some reason. That kind of ended the second day.
@_date: 2015-09-25 02:31:20
Agreed!  Implementations are *surprisingly* sticky.  Paying more attention to miners' needs in bitcoin core should reduce incentive for voodoo optimization.
(I had a plan to pay a miner to produce an invalid block, after the next halving.  Figured I could probably find someone to help pay for it, in the interests of researching mining behavior.  Fortunately, BIP66 provided a natural experiment, and saved me some money :)
There may be a way to make it harder to mine without knowing the UTXO set (?).  If we do get UTXO commitments et al., they will also help, as any bad blocks can then be proven bad with lightweight proofs.  So even SPV nodes will be protected from such shenanigans, as long as there's a single full node still active...
@_date: 2016-10-18 01:44:15
Bump fee *and* merge?  Seems like best of both worlds?
@_date: 2016-10-17 20:16:36
Note: (as of me writing this) That graph does *not* show that median fees are 11c; It's recommending 90sat/byte (ie. 11c for a median transaction) to get into the next block.
But it also shows results for lesser fees; you'll probably get into the next block at 65 sat/byte (8c), and even with 15 sat/byte (1c) you'd expect to get into the next 5 blocks.
Though I don't know how accurate their model is?
@_date: 2016-10-08 14:59:37
Yes.  But unlike the blockchain it doesn't grow relentlessly, particularly if fee basis is on UTXO, not raw tx size.  And amounts are completely confidential.
@_date: 2016-10-02 00:00:57
Re: solutions. The idea of requiring the miners to combine their coinbase outputs with the previous block's txids and put it in the coinbase is an old one. But there's no lightweight proof possible, so it's a pain of e you want to prove someone got it wrong.
So may need to choose (say) 8 txids based on your coinbase outputs and the previous block hash, and include the hash of those. Validationless mining is still possible, but at least requires more work to do.
@_date: 2016-10-08 11:17:51


As always, I disagree with "almost certainly"; but we'll see.
But yeah, someone could implement fractional reserve that interfaced with lightning (or, bitcoin for that matter).  LightFinex?
@_date: 2016-10-21 01:51:20
There's been progress on fast propagation, and also segwit.  Once that's bedded down, I'd love to see an update.
@_date: 2016-10-25 01:02:25
They (can) look like normal P2SH addresses, but your wallet won't hand them out, so you'll never "receive segwit payments" to addresses you hand out.
@_date: 2016-10-18 00:59:50
Yay, data!   Thanks for this!
Your average txsize is about 800 bytes then?  Would batching and/or RBF help here?  You could lowball on fees then replace if required...
@_date: 2016-10-07 02:37:42
Source here, BTW. 
@_date: 2018-04-30 00:41:21
Yes, it's getting slowly more polished.  And there will be hosted solutions as well, such as 
@_date: 2018-04-28 04:18:34
No he's not.
@_date: 2016-10-25 23:29:31
This is literally the difference you're talking about between SegWith as a hard fork and as a soft fork:
     Softfork:                Hardfork:
            / \                    / \
          /\   /\            Segwit  / \
        /\ /\ /\ /\                /\   /\
    Coin                         /\ /\ /\ /\
    base                     Coin
       \                     base
      SegWit
@_date: 2018-04-22 23:45:29
Definitely agree with him here.  But if you're concerned about someone stumbling across All the Money, KISS.
@_date: 2015-09-12 21:23:02
If they commit to it (soft fork) that can't lie.
If block is ordered by dropping fee-per-byte (then dependent txs, obviously) and they commit to a fee, num below, num above and num trailing dependent txs, now you can prove violations by compact proofs, too, which was what I was thinking...
@_date: 2016-10-18 02:08:18
Yes.  If bitcoin's blockchain becomes unusable, lightning becomes unusable.
And if lightning proves suddenly popular, it puts *more* pressure on Bitcoin's blockchain in the short term.
@_date: 2016-10-23 00:00:36
Think of the bitcoin network as a reliable bank: you tell it where to move your money, and it does it.
Your realise you and a colleague Dave can save time and fees by setting up a dual-signatory account, and signing bank instructions like "pay $1 to me, $9 to Dave", then " pay $2 to me, $8 to Dave ". Etc. You and Dave can pay each other instantly, no lining up at the bank, whenever you want!  You can always go to the bank with the latest signed instruction and get your money.
Now, Dave has a similar arrangement with Emily, so you could just give money to Dave to give to Emily, but Dave's a bit unreliable so you don't want to trust him. So you write up new bank instructions: $5 to Dave if he gave the payment from Emily, otherwise that $5 goes back to you tomorrow. Now Dave can pay Emily knowing you'll have to pay him.
This way, these private "payment channels" can form a network, but nobody had to trust anyone else, except for the hassle of going to the bank if they mess up.
Doing this with bitcoin smart contracts is possible, if you're careful. This is what we call lightning.
Hope that helps!
@_date: 2015-11-08 04:25:19


You can, but the tradeoffs are very ugly.  In particular, the problem of holding anchor funds hostage is real unless malleability is fixed.
I had assumed ~~BIP65~~BIP62 would be deployed, but I'm now told that's unlikely.  I am awaiting more details of more ambitious projects before suggesting my own variant :)
@_date: 2016-10-07 03:50:33
Channels will be set up at initialization/installation time.  You really do want a few random channels for privacy and to avoid any network problems.  As long as the nodes have been around for a while, my heuristic will be one close-pingtime node, and two random ones.
If a node goes away unexpectedly, you have a delay and some fees while you close the channel yourself.  Annoying, but they pay half the fees too, and they lose future fees by shutting down.
My proposal has been a QR code (trivially mapped to a URL scheme).  It must contain the destination pubkey, the amount, a hash value to identify the payment.  Optionally it may contain routing hints, an on-chain bitcoin address if you can't lightning, and (a hash of?) the actual description of thing you're paying for.
@_date: 2016-10-09 16:09:02
I feel your pain. That's why I work on lightning fwiw.
@_date: 2016-10-09 08:35:12


You have a short memory.  Or perhaps selective.
@_date: 2015-11-23 02:47:23


Can I frame this? :)
We could roll out a subset without TM fixes; though we'd still need CTLV at least.  But given that producing a robust reference implementation takes about the same order of time as rolling out BIPs, I chose to go for a complete implantation.
Of course, losing BIP62 was a blow to that timeline: see 
Hope this clarifies,
YA lightning network implementer.
@_date: 2015-11-27 08:19:27
Thanks, yes it finally loaded.  It's clever, but since you now need to be a miner to carry out this attack anyway, you'd just malleate everything which could be a candidate.
@_date: 2016-10-18 01:43:36
I... don't know!  I guess so?
Or you could just redirect it to charity, or someone else you think deserves it?
I give out tips when someone adds significant insight to a reddit discussion; unfortunately that means I don't spend my changetip wallet fast enough...
@_date: 2015-11-27 03:27:36
   Yes, we can work around malleability using CLTV.  But it puts a limit on channel lifetime, and also means that you have to wait that long if someone does malleate the transaction.  So I'd really prefer not to.
(BTW, this is  suggestion on the post  )
@_date: 2016-10-17 20:05:19


In case anyone's wondering, BIP9 recommends a 1 year timeout date.  This avoids failed soft forks hogging signaling bits forever.
@_date: 2015-11-20 21:56:43
First time I visited the Blockstream office in the bay area, I asked. A long conversation on linguistics followed, but the closest monolingual me could come was somewhere between "wool" and "whirl" with a short "e" on the end.
@_date: 2015-11-22 04:17:07
Development takes time. The original paper showed it's possible, but we still have to build it...
@_date: 2016-10-08 15:01:43
I started writing that, but it definitely wasn't ELI5 any more!
@_date: 2015-11-12 09:27:41


You can do that today, by handing the heir a pre-signed, timelocked tx.


Which you can also do today, by giving the heir a new tx every time you move it.  Though this would be simpler.


Indeed, an excellent point!
@_date: 2016-10-27 22:57:08


This is why the Core team usually recommend waiting before trusting these new features.  Not because anyone can "steal" your segwit funds, but because they might make others think they did.
@_date: 2015-11-23 03:38:02


I'll answer as an implementer...
My main concerns are that it needs careful engineering.  Protocol decisions tend to be sticky, so you try to get them right and extensible the first time (look at IPv4).  Privacy and centralization are big issues: bitcoin still sends traffic in the clear, which is bad, but much worse if you are mainly sending your own transactions as with many lightning users. If you don't make the protocol as trustless as possible, you have to rely on reputation systems, which are inherently centralizing. You really want to be able to connect to 5 random nodes and it Just Works.
Traffic analysis is also an issue: micropayments are potentially even more sensitive than large transactions for tracking (say I automatically tip every website I visit).  Bandaiding on solutions afterwards (particularly if they make things less efficient) may be impossible.
Then there's the routing problem: how do you get payments across millions of nodes to their destination? Unlike IP, addresses aren't nicely grouped, and you don't want to reveal information by asking, not have every node know the entire routing graph (including the charge associated with each hop).
Perhaps as a saving grace, the bitcoin network isn't ready yet either. But there's a chicken and egg problem there too, that it's hard to justify changes for something which didn't have lots of users. Fortunately, all the requirements are generally Good Things For Bitcoin, so they will happen, it just takes time.
My aim is to have some solid, tested, beta-quality interoperable implementations, with a complete spec for others to follow, by the time the Bitcoin network is ready.
Of course, there are other things that are important, too.  The versionbits BIP, block propagation, and bitcoin-dev moderation have taken up real time from my schedule, but they need doing. As has my family, and biological requirements like sleep.


One day at a time. I'm currently implementing a daemon which will speak the complete proposed protocol between nodes. That will no doubt lead to refinements, and we'll iterate again. And brilliant new ideas come up on the mailing list with impressive frequency, which each need to be analyzed, prioritized and digested.
I may take on an intern next year, but that's always a didn't proposition in terms of short-term progress!
Hope that clarifies (sorry if this is a bit unclear; I'm sitting on my phone answering this on a day off...)
PS. I'll be in Hong Kong, and current thinking is that we'll do a lightning f2f if people are interested...
@_date: 2016-10-18 03:40:21
Compiled and running on my three nodes fine so far!
@_date: 2015-11-01 18:38:45


Your argument would be more powerful if you were to present an alternative?
@_date: 2017-05-09 06:25:02
Online wallets are fine (though insert plug for  here!) until your bitcoin are worth significantly more then your phone.  Then get a hw wallet.
@_date: 2015-09-05 23:55:23


I'm disappointed that you've decided to build every new development into a "Blockstream is evil" narrative.  I'm a big fan of your contributions, but let's not lose track of the bigger goals in these debates please.
@_date: 2016-10-31 22:21:23


You do not understand what proof of work is for.
@_date: 2016-10-25 05:51:51
The miners charge by weight, not amount.  If you're paying with pennies, it costs more than paying with larger amounts.
So, how heavy was your transaction?  How many bytes?  What wallet did you use to send it?  Why didn't it warn you?
@_date: 2016-10-31 09:47:34


Except it turns out we don't know how to do high volume...
@_date: 2015-11-27 07:14:15
That link is down for me now (or insanely slow).
The first commitment tx spends the anchor. If someone mutates the anchor by altering an input script, the txid changes and the commitment tx no longer works.
See BIP62 for other fun ways to malleate a transaction.
@_date: 2015-09-01 23:54:37
From the letter: "We're committed to ensuring the largest possible number of users benefit from Bitcoin, without eroding these fundamental values"
@_date: 2015-09-15 03:16:26
Me too!
@_date: 2015-11-23 11:06:54


Exactly. If they stop paying my salary, there's going to be a delay while I scrounge for another funding source willing to let me develop everything as open source without any obvious hope of monetization :(
@_date: 2015-11-12 05:46:43
@_date: 2015-11-02 23:12:19


I was part of that decision. There's no Blockstream position on blocksize.
Just as well; if we'd decided there would be, I shudder to think how long it would have taken us to agree on the details...
@_date: 2015-11-22 08:17:17


That's not just completely wrong, it's baseless and insulting.  Downvoted.
@_date: 2016-10-08 11:12:05
Here's the cheat-sheet for current state of play.
1.  Very different from bitcoin.  Simpler (no scripts).
2.  10 years of blocks (a-la Bitcoin) would be 1MB for entire blockchain history (!), with 100GB for currently unspent outputs.
3.  But all amounts are cryptographically hidden, other than to recipients (ie. "Confidential Transactions"), almost perfectly private, fungible.
4.  Some small amount of math work remaining (peer validation), and then we need code.
5.  Andrew Poelstra's plan is to released as a sidechain.
@_date: 2016-10-13 19:17:41


Maybe I'm not insider enough, but I certainly believe the MW author is not a prominent Core developer.
@_date: 2015-11-09 01:32:01
Oops, yes, I was referring to the malleability BIP.  Edited and fixed, thanks!
send a stingy tip!
@_date: 2015-11-23 10:50:31






Well, my plan is to seek an enthusiast from an under-represented group a-la [outreachy](
I've been horrified by the hostility I've seen in the Bitcoin community, and I'll be doing all that I can to make lightning development a welcoming and warm place for anyone and everyone who wants to contribute.  And as a side-effect, somewhere that I'm happy to work, too!
@_date: 2015-10-28 09:18:32
It's too early to make that call.  This is why we have a 3 month review (in my calendar, it's Thursday, 21 January).  If we're still seeing gross errors then, we know it's not just the shakedown period and changes will be made.
@_date: 2015-11-20 04:52:28
I'm confused!  ELI5 please: are we allowed to hate both Blockstream and R3CV, or do we have to pick sides?
@_date: 2015-11-23 10:40:11


Remember, a channel consists of an anchor tx, then a commitment tx. The latter just gets replaced over and over.
So, to send 1c we just replace your "$5 to me, $5 to you" commitment tx with a "$4.99 to me, $5.01 to you" commitment tx.
(Actually the tx says "pay $5 to me, pay $5 to you, pay 5c in fees", but that doesn't change the updating mechanics.)
Hope that helps!
@_date: 2016-10-29 22:24:51
Yep, simple matter of coding from here :)
@_date: 2016-10-09 08:23:58


Sorry, no.  P2SH has the same "issue".  It's how soft forks are done, and it's deliberate.
@_date: 2015-10-15 00:36:59


Upvoted.  Exciting as developing lightning is for me, there's a long road of "boring bits" to actually get this deployed.
@_date: 2017-05-12 00:17:20
Or go straight to the source, not via a dubious "bitcoin news" outlet: 
@_date: 2015-11-23 11:04:30


You keep saying this, and its not true. It's only true if the network is a line, which is a dumb topology.
In practice, since fees will be proportional to amounts, you'll want your salary paid on-chain.  Of course, you might start getting paid daily or hourly in a lightning world, so the on-chain fees and delays might start to hurt?
You'd obviously want to direct your salary to your channels which need onwards capacity, but that's not a particularly hard problem so I'm not sitting up at night worrying about what happens if we succeed too wildly...
@_date: 2016-05-17 21:18:45
Yep!  On the one hand, everyone's going as fast as they can producing something which works, which is the only way to get experience anyway.  So it's not a huge surprise that and co's wire protocol is very Go-inspired, Mats' is very Java-inspired, and mine is very C-ish.  But they're doing very similar things, so while it will be some work to agree on standards, at this point I'd argue that it's more important to experiment with the other issues.
Now, I'm also trying to produce a spec, as well as implement it.  It will change, but you need to have something to start with.
@_date: 2017-05-10 22:09:58


As far as I can tell, that's simply not true. Selling BTC, just like selling ladders, meant you were supposed to charge GST. (Except you don't need to worry about GST if you're doing less than 75k per year, for example).
Because gst applies to everything unless exempt. Currency is exempt, but bitcoin didn't meet the (very specific) definition of currency.
@_date: 2016-05-22 04:31:27
No, because block times are unpredictable. 
@_date: 2015-11-20 00:07:46
Nobody else can malleate your transactions. Plus, signatures are separated, so if you trust that old blocks are OK, you can skip downloading 2/3 of the blockchain.
@_date: 2015-11-03 04:42:11
Good work!
send a decent tip.
@_date: 2018-04-19 05:24:40
Don't do this. You'll screw it up, or you'll die and nobody will be able to figure out what you've done. Or you'll lose too many pieces.
Just split a 24 seed word in half. Make two copies. One at home, one at work, two at family/friends. Do a fire drill at 3 months then every 6 months.  Then go back to living your life.
@_date: 2015-10-30 23:26:18
No. Bitcoin transactions don't time out by design; if valid a payment does not become invalid without deliberate action on party of the payer.  There have been several proposals to do that before.
You can create a time locked replacement transaction, of course, and even have that pay a third party too so they will send it for you.
@_date: 2015-11-01 20:02:27


How would I make them do that?


Or that?


Or that?


Or that?


So, more radical moderation than now?






That doesn't even make sense.


How would I do that?
Sorry, these aren't "what can we do" options.  These are "what might an alternate universe look like" fantasies.
You're not rational.  Downvoted.
@_date: 2016-05-24 20:50:46
Australia has some of the most restrictive AML laws in the world; there's no exception for small amounts.  Extending this to bitcoin could be a disaster, but judging it requires details, and a lawyer.
@_date: 2015-10-17 05:12:30
I find it interesting that you had to define the "red zone" about 60%, because we've not seen 7 days of (say) 90% full blocks.
I think the scarier graph would be min-fee-per-block for a median tx, which is what affects people even assuming all wallet software is perfectly fee-aware.
@_date: 2018-07-21 22:58:08
It seems Bitcoin's creator had a more thorough understanding of the value and potential of Bitcoin than you show here.
In fact, she added nLocktime originally to enable payment channels where only the final payment would be onchain, but it wasn't incentive compatible, as miners might not choose to mine the last transaction.
Hope that clarifies your confusion between "this is how I use Bitcoin" and "this is a perfectly fine way to use Bitcoin".
@_date: 2015-10-18 01:10:21


That argument is always true, however, so while I agree excessive fees may tip the bitcoin project's trajectory towards failure, I don't know when.
@_date: 2015-10-05 20:13:13
The speculation is not unreasonable, but it's not something I would be designing around.  Sure, if IoT ever becomes a thing, and they start paying each other with bitcoin...
But one thing I can answer:


That's a guess assuming every wallet established 5 channels to start.  It seems a good number for routing and privacy.
@_date: 2016-05-16 21:01:27


is not the kind of person to make baseless allegations, shown above with 
The community has grown, but those who were around at the time remember the theft.
I agree coinjar seems solid, and I've used it too.  But his colleagues are startlingly naive, at best, to associate with him as COO (aka. holder of the private keys), and he's completely unrepentant.  It clearly won't end well, and you should be aware of that risk when you play roulette with them.
@_date: 2016-10-09 09:07:03


Me too.  But Bitcoin's free introductory period expired before the second halving :(
It was always going to eventually as the miner subsidy dropped, and nobody was going to ever be happy about it whenever it happened, nor how much it was.
I think fees are too high, but I can't see a way to scale on-chain sufficiently to make a huge difference given our current centralization risk.  Wish it were different.
@_date: 2017-05-15 04:42:34


I looked into this last time someone asked.  SegWit is well-specified and widely implemented, and contains other improvements.  The underspecified FlexTrans BIP 134 is actually a hard fork as stands :(
@_date: 2015-11-19 23:10:22
A new OP_CHECKSIG has so many wonderful opportunities, that I doubt it will be (or should be!) deployed soon. Lightning still wants it, so we can outsource the enforcement of revocation, but it's not critical.
@_date: 2015-11-11 00:48:49
There's so much in this, it's worth listening to.  If I tried to summarize, it'd look like a giant wall of text.
@_date: 2017-05-11 07:05:00
They do (eg. capital gains tax), this was a nasty corner case.  There's a 10% VAT (called GST here) on selling things for business unless there's an exemption.  There's an exemption for numerous things, including currencies, but currency is defined in legislation such that Bitcoin doesn't meet it.
A bit of a nasty surprise, which everyone figured would be fixed eventually.
@_date: 2017-05-18 03:58:42
I see why the altcoins like this idea, but I don't really see the benefit for bitcoin.  Lightning gives us instant micropayments on bitcoin;  why bother with alts?
If we get a mimblewimble sidechain with nice fungibility properties, that might be a good reason (plus, a sidechain doesn't have the same exchange issues and risk as randomcoin), as atomic swaps are faster than side-chain pegins/pegouts.
@_date: 2016-10-25 11:01:51
Here's a short list of things of things I worry about, and I'm not a bitcoin core dev:
1. Miners and pools controlling 90% of the bitcoin hash power fit on the (very small) stage at Scaling Bitcoin Hong Kong.
2.  Miners (which are more decentralized that pools) have shown unwillingness to leave pools which pass 50%, even if they behave badly, eg. ghash.io doublespending against a gambling site; their hash rate was unaffected (it dropped later for other reasons though).
3.  The bitcoin community accidentally found out that over *half* the hash power  is mining without validating blocks, when a small miner produced an invalid block after the BIP66 soft fork.
4.  Even though there's a significant backlog, the average block size is about 750k, not 1M as you'd expect.
Sleep well...
@_date: 2015-10-28 04:01:52
Yes, it would.  mailman's pretty damn primitive though :(
might know from the reject messae?
@_date: 2016-05-11 03:39:22
You need a trusted random number source.  Naively, you would use the blockhash, but (even with script extensions to let you do this) in practice miners control that: they could keep mining the same block until they get the one which gives them the winning ticket. See Malleability of the blockchain's entropy" 
You could use mutually distrusting parties who each choose a secret and expose a hash of it: and the end you combine the secrets together to get your randomness chooser.  With some opcodes re-enabled in bitcoin (as was proposed recently) you could do this on-chain.  You create a merkle tree of all the participants' addresses, and you need to present the secrets and the merkle path to your address as well as your signature to claim.
But then you have to handle the case where one secret-holder refuses to give you the secret at the end, which implies a timelock puzzle is required (as popularized by ).
Finally, with a new opcode, one of those secrets could be "the block hash 1 day before the lottery is drawn", which raises the bar slightly.
So, TL;DR; I don't think it can be done perfectly, and it's a good question :)
@_date: 2017-07-03 02:27:32


No.  There was no evidence which was not directly or indirectly sourced from him, which given his history of fraud and deception, must be given 0 weight.
Hope that helps.
@_date: 2015-11-01 18:27:01






The monthly average is only 345 mails, yet the developers called out for moderation.


Indeed, I have *experienced* the problem of groupthink in open source organizations.
But you misunderstand the purpose of the development list; it's to discuss development.  The bitcoin world doesn't lack for wacky ideas.  We need more implementation of the ideas we have!
@_date: 2015-11-23 11:08:59


Unfortunately it does. The BIPs are mentioned in the abstract.
See my recent lightning-dev mail on BIP62...
@_date: 2015-10-28 09:05:26
Thanks for coming forward; I was a bit overzealous with at least one of my moderations so far too :(
I've already recommended repost on a separate thread; I've unset his mod bit (as would have happened if this one was accepted anyway).
@_date: 2016-10-18 01:03:55
Nice!  Moved further discussion there...
send a decent tip!
@_date: 2017-05-02 12:32:57
Actually, we have one pending on shachain... This kerfuffle reminded me about it :(
Of course, it may not get granted, but it'll come under our patent grant for everyone to use if it is.
@_date: 2016-05-26 00:35:31
True, but of all the increase proposals, this one is somewhat controlled by demand.  If users find they really do need larger blocks (ie. lower fees), they will move to segwit wallets (which will exist if there are real users).
The danger is that wallet authors will not be up to the task.  Just as they're generally paying too much in fees at the moment, wallets may continue to suck :(
@_date: 2016-10-16 23:52:42
No, but at least one miner indicated that they run at about 30% capacity in normal situations (power goes up non-linearly).  I'm not sure if they would ramp up for entire the 2016 blocks required to activate segwit, but it's theoretically possible.
@_date: 2017-05-06 23:21:15
Some of us are working on it instead of waiting?
@_date: 2015-10-03 06:03:59






Excellent points; minor quibble is that this one is still up in the air.  A lightning address may also be a valid bitcoin address, which has nice fallback semantics, but bad address-reuse privacy semantics.
@_date: 2017-05-29 08:13:49
Heh... Couldn't agree more :)
@_date: 2015-10-03 12:04:52
But it *is* interesting; hey, I didn't know it...
@_date: 2015-10-23 21:33:40
Yes, unfortunately the forward doesn't show the rationale, which was sent to the original poster.
BtcDrak suggested the discussion move to the bug tracker. I created a bug tracker entry, posted it on that thread, and in my rationale sent the URL to the original poster.
@_date: 2017-07-06 23:41:34
There are two studies.  Akamai's is basically "people pulling stuff from our caching service".  OFCOM is actually getting volunteers to run speed tests on various (fixed-line) providers and plans in the UK, so doesn't include mobile.
In the long term, rate of growth is more important than current absolutes, so I assume current block sizes are "OK" for some definition of OK.


Look the OFCOM numbers, then.  The UK market is (relatively) saturated, and they explicitly cover upload speeds.  Exactly 10x over the last 8 years.
@_date: 2015-11-12 04:14:00
There are several ways to do this.  The simplest is to use a wallet with a paper backup, and put that paper backup somewhere for them (as per normal estate planning).  Armory and trezor will both allow this (save the seed).
More sophisticated use would be to create a time-locked (say 10 year) transaction which transferred the bitcoins to a wallet, and give them that wallet's paper backup.  Destroy the wallet it came from, so no other transaction can ever spend it.
I would actually argue against the second technique: with the former, it's possible to access the funds early: good if the situation changes, or (say) there's a crypto break and you need to move the coins to bitcoinv2.  Entrusting the bitcoin protocol to access your funds cuts both ways: it's enforced even if you don't want it to be.
@_date: 2017-07-31 08:32:39
btcmarkets.net seems to work, and has been around a while.
@_date: 2015-10-18 01:15:10


Well, if there's any limit on blocksize at all (whether protocol, or economic), the natural state would be this case, wouldn't it?  Or is your argument that we're not ready for that yet?


Indeed; I think it would be interesting to use some heuristics to take into account the miner's soft limits, thus showing what actual capacity currently looks like.  And I think that would be a much more convincing, and much scarier graph...


I don't know where you got that number from.  If confirmation delay at minfee is the key issue, let's graph that directly?
@_date: 2017-05-31 01:30:12


This is the problem: high fees are not preventable, unless we keep expanding to try to keep fees low.  You know a once-off bump wont cause long-term fee reduction, so you must be advocating that we increase the block size whenever fees rise?  And that overrides all other concerns, like centralization pressure?
Because since you are proposing an 8MB block size now, when have seen a demonstration of disturbing mining control centralization, it's clear you're just dismissing that issue.  Which is your prerogative, but be honest about it.
Note that as a previous advocate against a market shock of fees being introduced, youre now advocating another market shock: instant doubling of capacity with no effort!
Don't get me wrong, I believe we need a hard fork increase, but it's been hard to advocate for such a thing with miners showing willful unconcern for the ecosystem.  But I keep coming back to the (2-year-old!)  which is the only serious attempt I've seen to actually tie the blocksize growth to network capacity, and doesn't commit to a morally hazardous hardfork treadmill.
@_date: 2017-07-13 01:40:23
Say you're writing wallet software.
Your software has to choose how to create transactions, and you want to minimize fees.  Say it has a 1BTC, a 2BTC and a 5BTC it could use as inputs, and it wants to spend 3BTC.  A current wallet will choose to spend the 5BTC and have two outputs: outputs cost less than inputs.
But it's better for the long-term network for you to spend the 1 and 2BTC (*two* less outputs for the network to remember).  Incentives are mis-aligned here.
With SegWit, it comes out about even: what's good for you is also good for the network.
(In theory we could eventually have a SF which adds an extra cost if you're creating extra outputs, but I think that'd only happen if we actually see evidence that the incentives are too misaligned).
Hope that helps!
@_date: 2015-10-03 12:19:30
Covering only individuals is fine, since adding in every child makes up for other omissions. It's the 2 per year which has problems in the case of ramping up adoption (esp if it takes 5 transactions to set up a new wallet). But then, 3tps is using mean not median tx size; lightning channel open and close will be more like 300 bytes (not at my laptop, so that's a guess).
As a rough back of envelope calculation, I've seen worse. Spending too much time trying to refine it given the unknowns is probably unrewarding.
@_date: 2015-11-23 03:07:18
Actually, the article is incorrect in a couple of ways.
The first is that as the lightning reference design is specified, only the initial anchor (funding) transaction is subject to malleability. Without that, a miner could work with your malicious lightning peer to leave your anchor tx in limbo (normal standard test for transactions mean a miner had to accept the malleability directly, and if your peer is honest they can simple re-sign the commit tx for the malleated anchor, so it needs both).
We could do a minimal soft fork to prevent malleability for trivial opt-in pay-to-pubkey-hash spends, but there's serious effort building by various (Blockstream and core) devs to solve malleability once and for all.  Given there's still some serious engineering and testing to go before anyone deploys lightning, I'm attracted by that (more ambitious!) path.


I have a fairly good track record of producing open source software for the last 18 years or so, and you can follow along the fun on 
@_date: 2015-11-19 23:57:28
Congratulations Sounds like a collection of serious finance talent; I'm sure it will be a fascinating ~~joinery~~journey too...
@_date: 2016-10-30 03:50:44
Indeed, coindance shows their everage volumes at over $10MM a week for the last year.  So that's 100k income a week; depending on their running costs, that $5MM a year should allow a reasonable devops team, and not much else.
@_date: 2015-10-03 12:00:18
Lightning channels are bidirectional. That's one of the key innovations.
@_date: 2017-07-31 00:22:47
No, that's the point! The client chooses the bloom filter.
@_date: 2017-07-12 01:06:36
The discount is deliberate.
It fixes a current bad incentive, that it's currently cheaper to create new outputs (which every node has to remember) than to spend existing ones (which nodes can discard once they've checked they're valid).  Obviously that's bad for the long-term health of the network.
@_date: 2017-07-07 02:00:00


Sure, but this report is *explicitly* on fixed-line speeds: "Performance of fixed-line broadband delivered to UK residential consumers"


True, and fortunately they also publish the raw data for recent years FTW!  Unfortunately the upload measurements have changed, and are not directly comparable AFAICT :(
I'd be really interested if someone wanted to delve through the CSVs and see if they can get something:
@_date: 2017-07-10 23:05:36
Note that Tadge worked hard to make sure the spec supported this. It's a bit more complex, but not much, and this result is really nice.
@_date: 2015-10-28 01:48:20
Not sure which of (us) moderators it was.  Moderation rules were posted here:
At first glance, it seems to be a post about moderation (I've been redirecting such to bitcoin-discuss, and suggesting poster bring up concerns at the 3 month on-list review) and blocksize (which comes under the "you have to add new data, because discussion is no longer making progress).
**But** 90% of it is actually about the question of "would we ever soft-fork so that pre-made txs might be unspendable".  Which is a bit meta, but coming from Gavin seems within the bounds to me.
Probably overzealous moderation, but we're human.
(FWIW, I would have moderated out Mike Hearn's moderation reply, too).
@_date: 2015-10-28 18:00:35
The "mod" flag (confusingly) is what mailman uses to mark a subscribers postings as "to be moderated".  We set it on everyone, and clear it as they post.
So, I cleared Gavin's.
@_date: 2016-05-17 20:34:50
Reference please?
@_date: 2017-05-07 02:30:07
In this case, there's news, though minor.  URL in article doesn't work for me, the new publication is here:
This is the format response to the enquiry into business, and importantly it reiterates what the govt said before "Yes, we support removing the GST on bitcoin".
As it notes, however, the GST is not completely a federal issue, so amending it requires some state support.  That may well explain the delay, but I have no idea what's actually involved.
@_date: 2015-02-06 09:03:04
There was a lot of ground to cover, but I hope this gives more people exposure to the exciting tech around sidechains and the like... 
@_date: 2015-10-28 02:31:46
Yeah, and it stays on the record, as a permanent lesson.
It's unfortunate that the reject message isn't saved anywhere, except sent back to the original poster.  Would be nice to be able to see clearly why a post was moderated.
@_date: 2017-05-12 00:28:42
Basically, you and I can agree to put a bitcoin transaction into the blockchain, then swap back and forth different transactions which spend it.  $10 to you &amp; $1 to me, $5 to you &amp; $6 to me, etc.  We can do this as many times as we like, paying money back and forth, knowing that we can push the latest transaction to the blockchain if something goes wrong.
Turns out we can also do conditional payments: I'll pay you $1 *if* you pay 99c to someone else, who pays 98c to some other person, then we'll all get paid.
Between the two, we can do millions of transactions across an entire network of lightning users, only using the blockchain once for setup and teardown (maybe for top-up, too, etc).
But we need Segregated Witness, because current transactions can be *malleated*: you can sometimes change it so my "transactions which spend it" no longer work.  There are nasty workarounds for this, but SegWit also gives us other awesomeness, so we really want it anyway...
@_date: 2016-07-04 04:56:51
First I took 6 months off to hack on related technologies.  Then I quit my job to work on bitcoin full-time for Blockstream (and got asked to work on Lightning instead).
Totally not addicted.  Can quit any time.
@_date: 2015-10-03 06:00:48
Me too, please.
@_date: 2019-05-29 23:32:31
[Edit: Oops, I thought you were talking about giant payments!]
Normal nodes won't forward such payments.  There's an assigned feature bit to advertise support for it though...
@_date: 2015-11-23 10:54:28


No, you can't do more than one tx per block due to malleability (but yes, we need to fix this).
And with LN you only wait for locktime in the failure case, otherwise it's pretty instant.
@_date: 2017-07-31 00:27:26
No, because the client chooses the bloom filter.
@_date: 2017-05-11 02:04:11
And last year Thunder Network did a mainchain bitcoin lightning transfer, but it was a trust situation because malleability: 
@_date: 2019-05-30 02:31:14
This is great to see!  I know people have been complaining about the delay, which is understandable, but since you can only spend it once I fully understand the slow timing.
Have and considered just setting an annual or biennial schedule for considering payouts?  Takes the pressure off.
@_date: 2016-07-05 03:32:58
But we lost the ability to determine how much risk there is with the soft fork due to non-upgraded miners.  We also don't know how many of those miners who helped lock in the change actually upgraded, vs. simply twiddled the versionbits :(
@_date: 2015-10-28 09:15:32
We decided everyone would get the mod bit set to start, to be fair, and to ensure they actually understood what the rules were (busy people and all that).
Getting moderated isn't an insult: moderation replies should always tell you where the better venue for your post is (eg. a github PR, bitcoin-discuss list, or even directly to a single developer).  And Jeff Garzik is there to correct us when we make a mistake.
@_date: 2016-07-06 00:49:17


I like this :)
Though in practice, many people will choose to stay on LN rather than get in line for the teller immediately.  There's some interesting game theory here (the current implementation all immediately try to cash out on problems, AFAIK, but that's just the simplest thing to do).
@_date: 2016-07-05 04:03:40
Was I the only one who thought "I don't think you should take on a 1 month old as an intern".
@_date: 2017-07-31 23:54:33
That's exactly what all SPV nodes do today, so...
And the revealing outputs idea is terrible for privacy (well SPV as done today is almost zero privacy) and those dummies are useless once someone actually pays you.
The real answer here is (as long proposed) to flip it, and have the server create a single filter:  and 
@_date: 2016-07-04 23:26:56
About 3 weeks ago, it was 45% rounded-numbers, another 10% rounded-per-byte.  
@_date: 2016-07-18 00:55:24
Hi!  I've started a HOWTO for using bitcoin-core for a cold offline safe.  This documents what I'm doing, and I'd love to get feedback:
@_date: 2016-07-22 17:04:25
Not actually.  Turned out bitcoin actually had a forking bug where it wasn't even consistent with itself (some nodes would reject a block which others considered valid).  It got triggered, and a fork happened, people scrambled, the fork without the problem block got chosen, people worked around it and/or upgraded, and life went on.
The term "hard fork" is usually used to mean a deliberate, client-visible incompatible change, not a latent bug which created a fork.  (cf. "soft fork" which isn't backwards-incompatible for full clients).
Bitcoins' actual hardfork was around 0.3.10, where the integer wrap bug created a bazillion bitcoins and everyone upgraded to make that illegal: see 
@_date: 2018-12-18 22:48:46


Yes. But the fact that it exists makes it harder to pull off Sybil attacks. The more diverse means we have for spreading blocks, the better.
@_date: 2016-07-05 00:12:07
The last period had 2009 (of 2016) blocks indicating versionbits support.  So it looks like almost all miners upgraded.
HOWEVER, only 1437 continued to flag CSV support; you're supposed to continue to set the bit during lockin so everyone can see how many of the up-to-5% of miners have upgraded.  Looks like some buggy (not bitcoin-core!) implementation?
From BIP9: "Miners should continue setting the bit in LOCKED_IN phase so uptake is visible, though this has no effect on consensus rules."
@_date: 2016-07-23 06:40:13


Yep, you're right.  Which does kind of illustrate that the soft vs hard nomenclature is not all that useful...
@_date: 2019-05-19 23:35:08
There was a recent discussion that the default 1hr is too short: in fact the next version of c-lightning changes the default to a week.
@_date: 2019-05-07 23:04:10
We are all Pieter Wuille.
@_date: 2018-12-16 02:11:51
You can pick almost any three of the top 10 contributors and that same statement would be true. i.e. if major devs disagree with a change, it won't be merged.
@_date: 2016-07-01 06:40:16
I promise you we don't know.
Since there are fairly low barriers to entry, I don't expect profits to be high. The first-order economic guess would therefore be that it will be break-even money.  But people might run lightning nodes for their own purposes, and make them public because why not?  That would drive profits down further.
@_date: 2016-07-26 01:13:49
OK, here's a summary.  Laolu (Olaoluwa Osuntokun, Lightning Labs, aka proposed we use onion routing as per a paper he found ("Sphinx") and wrote a standalone implementation in Go.  Christian (tweaked it a bit and wrote a second implementation, and a spec.  Now they'll debate the nuances...
Background: it's pretty clear that we need some kind of onioning to prevent massive privacy exposure on lightning as payments traverse the network.  Onioning means each hop only sees the immediate previous machine the payment came from, and the next step, and has no idea low long the path is or how far it has to go: they unwrap it, and push it onwards.  In practice, this is the *minimum* requirement: handling timing correlations and other network observable stuff is more work which needs to go on top of this.
@_date: 2017-07-31 00:32:32
Note that I think has the right idea with neutrino: 
@_date: 2017-06-08 03:54:40
I disagree with Luke about where this line should be drawn.
In addition, they're stylistically very different: the lightning BOLTs by themselves are far longer than any BIP, and together the 10 of them would add 25% to the total linecount of the BIPs.
@_date: 2016-07-19 20:58:26
Yes, this was more a "crap, it would be nice to have a summary of the background" post than an analysis of Flare.
You should read  for a summary, though.
@_date: 2019-05-26 02:37:00
@_date: 2016-07-24 07:29:51


Hmm, so are you saying the client generates the change address?  Or am I missing something?
@_date: 2017-06-22 04:26:51
I've never seen a design for probabilistic payments over lightning which made sense.   You can just keep trying until the payment is in your favor, then close out.  One way to avoid that is to avoid knowing whether a payment will occur or not *until* it goes on chain, but that needs a new bitcoin opcode.
And since putting such a script onchain is going to cost far in excess of the 1 satoshi you're risking, it still doesn't make sense :)
@_date: 2017-06-21 00:12:21
Actually, it's just rounded (down) when going on-chain.  I can steal that 1/2 satoshi by closing the channel, but the fees involved are so much larger it doesn't make sense to do so.
@_date: 2019-05-31 23:43:28
Can you even do atomic swaps on RGB? Or timeouts? There's a lot of groundwork to even get a design, then you have to implement it and get a network of people to run it.
IOW, I'm sure they're "looking".
@_date: 2017-06-09 00:20:05
Nobody else is really concerned about long-term UTXO growth :(
@_date: 2017-06-14 04:45:36
I understand the sentiment, and while I think it weird that Bitcoin is seen as the most conservative asset, I think that's just the weird-crazy that is cryptocurrencies.
However, one thing I have learned is that the market is very slow to respond to future technical issues; the information chasm is huge.  That means that today's bubble could go on for more than a year, getting crazier every day.  I don't even try to predict any more.
@_date: 2017-06-21 20:57:31
You mean, like buying bitcoin? :)
@_date: 2017-06-03 02:02:11
Yes, creating a URI scheme as per BIP 21 is another task.
@_date: 2016-05-04 00:50:33
Colleague received this mailout.  I'm... speechless.
@_date: 2019-05-19 05:29:38
No, there was a nonce pattern in some early blocks, but only speculation that it was a single miner not some other cause, and definitely no evidence it was Satoshi: the coins we know were Satoshi's don't for that pattern anyway.
@_date: 2016-07-20 01:34:32
Me too :(
@_date: 2017-06-21 20:57:29
You mean, like buying bitcoin? :)
@_date: 2017-07-11 20:38:41


Yes, if X isn't observing, and of course, you have to *know* that you're the only observer. Otherwise they steal all your funds when you try it.


Not after the first few million nodes, but it's an interesting thought experiment.  There's probably a correlation between being a small, and wanting such a service, which helps.
@_date: 2016-07-19 10:15:40
You can make a private key with only 256 coin flips! But you still need a computer to generate the public key and address.
@_date: 2017-06-22 23:33:12
Actually, $1M+ BTC *and* tiny fees.  If it costs you $1 to cheat me of 1c, it's not a very interesting attack.
@_date: 2017-06-01 01:49:16
If you prefer QR code version of the largest example:
@_date: 2016-07-05 00:12:43










There are no soft-forks for miners.
@_date: 2017-06-08 04:55:27


No, but to be fair it's lightly used.


There's consensus on that, but there's a huge debate over how risky it is and how much we can increase, how fast.


Not really.  Most of the complexity is because we can't simply move everyone to segwit, so we have to handle old and new, and not send segwit txs to old nodes, etc.  But really, it's not that complex.


No, it can't.  There was a previous proposal to try to eliminate some forms of malleability [BIP62]( but it kept getting additions as people found new forms of malleability.  The nail in the coffin of that was that it doesn't eliminate 2nd-party malleability: if you and I co-sign a transaction, either one of us can malleate by re-signing.  Segwit just fixes that completely, bringing full payment channels to bitcoin.


Simply increasing blocksize doesn't help with the nasty fact that it's currently cheaper to make new outputs than consume existing ones.  Since everyone has to remember unspent outputs, this is a bad incentive; spending outputs is good for the network.
Luke-jr had an interesting proposal; if we're going to HF  anyway, why not allow old txs' inputs the same way as segwit does for segwit inputs.
Anyway, hope that helps a little!
@_date: 2017-06-14 00:02:40
This is really annoying. They decided to slug their customers first, *then* investigate batching sometime in the future. Also, instead of offering a long-delay withdraw method (with economy fees), they suggest *users* try to time their withdrawals to catch low fees.
Because charging users fees is easy, the rest requires some actual bitcoin knowledge.
@_date: 2017-06-20 10:20:13
Nice work, on top of  too.
@_date: 2019-05-05 21:22:14
@_date: 2016-05-26 01:52:41


It's getting much better for consensus-critical code though:  the libsecp256k1 development and testing process was more rigorous than I've seen in any open source project before.
@_date: 2016-07-29 00:21:37
For long term, you want offline cold storage. Here's what I did, using bitcoin core: 
@_date: 2017-06-23 00:07:23
Thanks for reminder. Upgraded now.
@_date: 2017-06-13 06:09:11


Yes.  If you go offline during transit, you might end up with one-sided redemption (ie. losing funds).  Note that you got to set the size of that window, though, based on how long you thought you'd go offline for, worst-case.
Depending on what HTLC amount you allow (for a phone, you should probably make it pretty small, with a long cltv_delta), the cost of losing the channels might be worse than the HTLC loss itself.


If you're forwarding and you're not reliable, it's a problem, but it's more of a problem for everyone else too.
Though I think you'd be pleasantly surprised how often phones are actually online.  And at least they'll be able to warn you if they've been offline and a deadline is approaching.


Yeah, hubs are bad.  But what ROI are you getting on your bitcoins now?  Ah, I see.


Um, like bitcoin nodes?  Or miners?
This is pure speculation, bordering on FUD.


You're conflating biasses here.  It's pretty clear that decentralized broadcast networks can't scale, so yeah, lightning helps with that.  But there's a difference between accepting a necessary evil and endorsing it as a good thing.


No, it's far from that simple.  You generally *don't* want to close your channel unless you have to.  And you only have to if you have significant funds at risk because of HTLC deadlines.  Most channel closes can simply wait, and the game theory of how long to wait is kind of complex.
In addition, should we get to the stage where this turns out to be a credible systemic threat, there are already proposals to address it, by extending the timeout (ie. a soft-fork) when major congestion occurs.
So yeah, once we have a lot of people using lightning, we have to worry about this.  But if we devolve into a handful of hubs, we're fragile anyway.
There are things I worry about, but these aren't it.
@_date: 2017-06-21 20:57:04
You mean, like buying bitcoin?
@_date: 2018-12-25 21:55:42
It won't happen as fast as you want. First, there are many small technical improvements going into lightning in 2019 which will definitely improve usability and utility. There is an active community of devs using it to create their own value on top, but again that takes time as everyone comes up to speed and best-practice established, etc.
My expectation is that there will be some niche where lightning takes off: significantly, outside current Bitcoin users.  That will take a couple of years to really emerge.
Organic growth takes time. I'm happy where we are, and how we are going; particularly with how my fellow developers are growing in response to the increasing challenges as we get more users. But let's not set expectations which we can't reasonably meet by predicting 10x growth per annum for the next decade!
@_date: 2016-07-22 17:05:48


This is flat wrong.  There are no soft forks for miners.  (And yeah, the soft vs hard terminology sucks, but they're the terms people use).