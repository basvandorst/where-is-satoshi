@_author: doug_armory
@_date: 2014-08-11 18:44:49
Hello. It's Doug from the Armory team. Just dropping a quick line to remind people to stay calm. We know about this, and we will fix it soon. Updates will probably be posted first in the thread posted by the OP, although I'll try to make sure there's an update over here once a fix is ready. (AFAIK, I'm the only team member with a Reddit account at the moment.)
As a reminder, this is NOT a fundamental security breach (i.e., the *insert three-letter agency of your choice* isn't about to hoover up everybody's coins). This is, in the eyes of some, a privacy breach. We'll make things right. Thanks to the original reporter for bringing this to our attention.
EDIT: In fact, Alan has just announced a mitigation plan.  has all the info.
@_date: 2014-08-12 13:11:47
An official first cut of the fix is available for those who don't mind getting their hands dirty.
Not necessarily the final version but it is a start. The final version should be out sometime next week.
@_date: 2015-08-26 01:07:09
Another problem is the following. From what I've seen in the PRs and on the dev discussion list, fully extracting the consensus rules into a separate library is a great idea on paper and a nightmare to implement. Consensus rules apparently exist all over the place. (I've read some of the Core code but not enough to confirm this. Makes sense from what I've seen, though.) This makes consensus code a "third rail" that people are afraid to touch.
AFAIK, the only acceptable way forward is for people to create multiple PRs that slowly move the consensus code over. Jorge Timón has been working on this for quite awhile. [A recent dev list post by him is well worth a read, along with the follow-ups]( He apparently wanted to have libconsensus completed in time for the 0.12 release but was way too optimistic regarding the timeframe.
@_date: 2015-08-25 00:45:36
[Common knowledge]( at least once BIP 66 was accepted. It was, presumably, kept as secret as possible beforehand. (Greg wrote a message...somewhere...about having to walk a fine line between disclosure to interested parties and keeping enough of a lid on to prevent somebody from exploiting the bug.) It did seem odd to me that this was pushed at the last minute. I was wondering if there were undeclared reasons for the last-minute add. I'm sure I wasn't the only one who noticed.
Also, Bitcoin still relies on OpenSSL, although I believe the core team is trying to get rid of it ASAP. Assuming I read the messages correctly, the idea is to ditch OpenSSL - or at least as much as possible - in 0.12 and fully replace it with libsecp256k1, which is currently [used for signing but not for verifying]( I could be wrong, though. :)
@_date: 2015-08-16 20:02:38
I haven't tried it for myself, but yes, I know of no technical reasons why XT wouldn't work. You might have to turn off auto-management and possibly specify a different location for the XT code (I don't know where it typically installs) but that should be it. If it doesn't work, let us know.
@_date: 2015-08-26 03:43:31
["One of those fixes was to drop the maximum block size from infinite to one megabyte (the practical limit before the change was 32 megabytes– the maximum size of a message in the p2p protocol)."](
Technically, I believe [2 MB is the P2P limit]( as of Core 0.11. (Note that the blog post was written months before this commit was created.) If I'm reading the comments correctly, this is a "soft" limit based on other limits in the code, not a fundamental change in the P2P capabilities. I'm not versed enough in all the gory details to give a definitive answer, unfortunately.
**EDIT 1**: Okay, I went back to the original 0.1 source code since 0.11 was driving me nuts. In the original source, in net.h, you'll see an IsValid() call that limits the size to "0x10000000". This appears to be 256 Mb, or 32 MB. The code has changed drastically since then, so I'm not sure where things changed or where the 32 MB limit was enforced before the 2 MB limit came along. If anybody would like to lend a hand, I'm all ears. :)
**EDIT 2**: Derp. Went back to the 2 MB commit. I'm not exactly sure where enforcement happens but it sounds like MAX_SIZE (0x02000000, or 32 MB) in serialize.h is now used to enforce the 32 MB message limit. I presume that messages are serialized before going out on the net, and if the message size is higher than MAX_SIZE, kaboom. The 2 MB limit is indeed a "soft" limit that doesn't affect the core P2P capabilities.
@_date: 2015-08-26 16:02:11
Thanks! Interestingly enough, after looking at the code some more, it looks like, in theory, there's no real limit on the size of messages that can be sent, beyond typical variable size limits. It's only the receiver code that cares about a message's size.
@_date: 2015-08-26 00:55:09
That's why testnet exists. :) There are multiple testnet faucets available so that you can get testnet coins and play around as needed.
@_date: 2015-08-26 01:15:27
Not much to add here other than another "Wow!" response. This is seriously cool stuff. I don't know if the video from last night's presentation at the SF Bitcoin meetup will be redundant. I still plan to watch once it's posted. :)
Thanks to Pieter, Greg, and anybody else (Andrew Polestra, amongst others?) who had a hand in developing and testing the ideas and/or the code. I can't wait to see what else is coming.
@_date: 2015-09-02 21:51:36
Understood, and no worries. Believe me, I have every intention of contributing more code! Figuring out where I can make a useful contribution has been the difficult part. That and Hollywood lying about the army of clones we were supposed to have by now....
@_date: 2015-09-02 03:08:52
Just as an FYI to everyone, I never received an invitation to sign the letter, and [I do have one commit to Core]( that I made on my own free time. Maybe one has to contribute X number of commits, or needed to have a commit within the last twelve months, or meet some other metric that I didn't. Maybe a message got swallowed by a spam filter. Maybe I managed to overlook something. In any event, all I'm offering is a data point. In other words:
I'm not attempting to impugn anybody.
I don't feel impugned.
I'm not stating any opinions on the letter, the blocksize debate, Core vs. XT, or anything else.
I have no interest in getting involved in any of this other than to offer up a simple data point.
Thanks to all who have contributed and continue to contribute to Core and the Bitcoin ecosystem.
@_date: 2015-09-03 02:14:36
Oh no, it's not the need for revisions that bothers me. I'm fine with PRs taking as long as is needed to ensure that the code is good. It's just a personal thing. When nobody's telling you to work on something, and there isn't a particular itch you want to scratch, where do you jump in? Oh well. I'll figure it out someday. :) Making a daily habit of checking new and committed PRs has helped a lot.
@_date: 2015-09-02 21:53:12
Oh no, I totally understand. It was a one-off, although I hope the day will come when I can contribute more regularly. It's just a bit difficult to figure out where exactly I can make contributions that will hold up under the review process. (I'm surprised my commit held up as well as it did!) C'est la vie.