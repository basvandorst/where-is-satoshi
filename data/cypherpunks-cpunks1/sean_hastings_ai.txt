
@_date: 2001-03-06 15:17:19
@_author: Sean Hastings 
@_subject: Sectional Parameter Hashing 
This past week I have been thinking about a document format and hashing
method that allows arbitrary level partial disclosure of a verifiably signed
document, as well as formal reference/reuse of subdocuments inside of larger
documents. Basically it is a technique for using a hash tree within a
standard document format.
Below is a description of a system that satisfies some of my needs. I would
appreciate some feed back. Thanks.
--Sean Hastings
--mailto:sean at havenco.com
 - - -
VOXP - Value and Obligation eXchange Processing
Sectional Parameter Hashing
A description of a possible format and uses for documents that are
  to behave like Hash Trees.
0. Contents:
0.) Contents
1.) Format
1.1) Headings
1.2) Digests
1.3) White Space
2.) Storage
2.1) Parameterization
2.2) Text File
2.3) Database
3.) Parameters
4.) Types
3.1.) Signatures
3.2.) Certificates
3.3.) Vehicles
1. Format:
The system makes use of a document format and digest technique called
    Parameter Hashing (SPH).
The general document format is designed to support hashing technique in
    the subdocuments under a heading may be reduced to (or expanded from) a
    representation of its digest, without altering the overall documents
    value. This is done by having a structured document format, and an
    technique for computing the document's digest.
1.1 Sections:
A section is indicated with a heading followed by a colon followed by
      newline. This is followed by one or more lines of indented text, which
      include sub sections. Where no indented text follows the heading
      the section is considered to be empty. Where subsections are present,
      are always located after any original body text, and are ordered by
      character value of their heading's component characters. For
report from alpha group
 	mia:
1.2 Digests:
The idea of a digest (or hash) function is that a section of text can
      reduced to a unique value. This is used in digital signatures, where
      document to be signed is first reduced to a unique number, and then
      number is encrypted with the signing party's private key. The
      cipher text can be decrypted with the corresponding public key to
      the digest value, and if the document is known, it can be used to
      the digest value and see that they match. This allows any party to
      that the holder of a certain private key has signed a given document.
      also allows any party to hold the record of a signature, without (yet)
      access to the document that was signed. At a later time the document
      can be produced and the signature verified.
SPH uses a hashing by section protocol that allows a final hash of
      document (or subdocument) to be produced (and possibly signed) that
      not change with the expansion or collapse of a particular sub section
      its own unique digest value. This allows verifiable signatures to be
      and disclosed with a great degree of variety as to how much of the
      needs be revealed to a particular party.
This is done as follows. The digest of the entire document is
      after first reducing contained subdocuments to a
      The digest of each subdocument is computed the same way, with the
      of its subdocuments computed first. Where a subsection is already
      as a digest, no work is done. By following this recursive process, the
      digest is obtained for any document, regardless of which headings and
      headings may be revealed in plain text, or represented only by their
      digest value.
So our sample document above can be displayed as:
report from alpha group
report from alpha group
report from alpha group
 Whatever the combination of collapsed or expanded headings, the
      computed for the entire document using the SPH technique will remain
      same. The final digest value will always represent a hash of the last
      above, regardless of how much or little of the document is known.
1.3 White Space:
Headings must not begin or end with a whitespace character, but they
      include white space inside of them, and they must be terminated by a
      Any text after the colon will be interpreted as a digest of the
      under the heading. If this text does not fit the format of the hash
      hex - 40 characters 0-1,A-F), the line will be interpreted as body
      but if it is not properly positioned at the beginning of an indented
      to be body text, or the heading is not in proper alphanumeric order,
      document will be considered malformed.
Indentation under each heading will take the form of a single
      <Tab> character at the beginning of each line. Additional tabs
      whitespace beyond the expected level at the beginning of a document or
      document before any headings will be considered part of body text.
      else, they will indicate a malformed document.
These rules of heading indentation, naming, and order by alphanumeric
      are designed to ensure that there is only one possible way to rebuild
      stored document.
2. Storage:
The text representation of the digest of a document can be used as a
    by which the document can be referenced. This allows SPH documents to be
    in whole or part, broken into known component pieces.
In addition to the advantages mentioned above, concerning disclosure of
    some portions of a signed document, the other big reason for storing
    in multiple pieces is document reference and reuse. For example, a party
    create a document to described himself, containing both a public key and
    data such as name, adders, email, and so on. This document could then be
    in other documents to refer to that party. Stored documents take the
    of document references, with different trees possibly sharing some of
    same branches..
2.1 Parameterization:
Document may be broken apart and stored internally as parameters with
      parameters. The following represents a parameter breakdown of the
      document above:
DOC.VALUE="report from alpha group"
DOC.SEC2.VALUE="We have met the enemy, and they have won./nRegrouping
to await further orders."
DOC.SEC2.SEC2.VALUE="Sgt. Ben Kilroy/nPvt. John Brown/nGen. May
2.2 Text Files:
Documents can be easily stored as text files, with filenames
      to the text representation of the contained documents digest. The
      is as follows:
  body text
  heading1:TEXTHASHCODE-1
  heading2:TEXTHASHCODE-2
  headingN:TEXTHASHCODE-N
2.3 Database:
Documents can be stored in two simple database tables defined as
TABLE documents
  digest   CHAR(40)   for hex SHA-1
  bodytext VARCHAR
TABLE sections
  doc      CHAR(40)   of parent document
  heading  CHAR(80)   arbitrary max length for heading name
  sub      CHAR(40)   of sub document
3. Parameters
A number of standard parameters can be defined for general purposes.
    possibilities are: Author, Title, Date, Version, Type. There is no real
    between a Parameter and a section containing a sub document. The only
    difference would be that a parameter would be a much smaller piece of
    - for example a Date, a number, or a short string. Note that Author
    could be a full certificate that describes the author, or just a hash of
    certificate.
Since parameters like the number "10" would produce well
    digests, if concealing them is necessary, a protocol for adding random
    to them should be included. For example, the number "10" and
    + 'SOMERANDOMENOISE'" could be parsed the same by an application,
    the later would have an unrecognizable digest.
Use of a standard set of parameters such as Author and Title and
    in storage of the documents, could create an additional mechanism of
    identifying a document other than just its hash code. If the document
    and transfer system defines some standard parameters for such purposes,
    might be a good idea to prefix them with a designation and version
    like "SPH0.1-Title" or some such...
4. Types:
Once a standard parameter called "Type" is defined, it makes
    to define a few types. A few possibly useful types are (somewhat)
    here.
4.1 Signatures:
Signature Documents make use of public key encryption techniques to
      that a party has digitally signed a given document. The body text
      a digital signature of an SPH document digest. The defined headings
      this signature are Certificate and Document. The Certificate heading
      a sub document identifying the signing party (see below). The Document
      contains the document from which the signed SPH digest was
4.2 Certificates:
Certificate Documents associate real world obligations and identities
      specific public keys. The body text of the certificate contains text
      a public key. The subsections of the certificate are called the
      These are such things as Name, Address, Phone Number, Email, etc., and
      on how the certified party plays certain defined roles in Vehicle
      or other defined document types - such as rates charged for certain
      whom they are willing to trade with, or a definition of their currency
      the real world goods/services for which their issued currency. A
      can therefore be expressed simply as the digest of the certificate
      defines it - or perhaps more appropriately a digest of a Signature
      self signing the certificate that defines it.
4.3 Vehicles:
 Vehicles contain information concerning the exchange of obligations
      parties. A vehicle is an executable document that specifies exchanges
      a user defined currency. A vehicle may also contain an agreement
      to some of the signing parties.
etc... (work in progress)

@_date: 2001-03-08 17:40:04
@_author: Sean Hastings 
@_subject: test case for HavenCo? 
3) DeCSS: probably good, although it seems to not provoke a terribly big
response from "The Enemy".  I'd be up for hosting an active server which
returned keys per DVD, so it's a bit more threatening than just static
decss code.
Didn't we have an offer from someone who wanted to put DeCSS up and actually
pay for it? What happened to those guys? I certainly still think that DeCSS
is the best way to go with this.
--Sean Hastings
--mailto:sean at havenco.com

@_date: 2001-03-09 11:26:42
@_author: Sean Hastings 
@_subject: DoJ subpoena guidelines for journalists 
What are the qualifications one has to meet to be considered a "member of
the news media"? Does one have to work for some sort of Registered news
agency, or publish in a registered periodical? I am publishing this right
now, but I probably don't qualify. Why not?
Are they going to pay for your travel and lodgings? If so, it sounds more
like a great opportunity than a problem. Not that I won't enjoy hearing you
bitch about it. ;-)
--Sean Hastings
--mailto:sean at havenco.com
