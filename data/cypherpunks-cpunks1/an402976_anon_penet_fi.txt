
@_date: 1995-10-08 00:47:25
@_author: RingZero 
@_subject: NEW Netscape RNG hole 
Did anyone else notice a bug in the new, public Netscape
RNG code? It appears that on Windows builds, during the
RNG seeding, the function that hashes in file contents
(EnumSystemFiles) doesn't close a file handle (lFileHandle).
This doesn't hurt too badly on the client, but on a server,
leaking these resources is deadly.
I ran some experiments. It took a few thousand calls before
these open file handles forced not only the file content function
to fail, but also made OTHER calls quietly fail. With these calls
quietly failing, the RNG is significantly weakened. In my tests
on Windows NT, ALL of the following RNG functions failed:
* GetComputerName
* GetVolumeInformation
* GetDiskFreeSpace
* subroutine for the inclusion of system files, both number of them & contents
* subroutine used for other history file accesses
How did this get past Netscape testers? Does anyone
know if this was fixed before Netscape shipped? Does
it rate a shirt, or does this mean  Jeff W. gets to shave his
head? I seem to remember him promising to shave it if we
could show a significant weakness in the new RNG code,
and since this does (IMO)...
On another note, has anyone noticed the 73 (!!!) or so
handles that are leaked by simply opening and closing
&Options -> &Preferences... ? Looks like somebody had a
problem coding the tabbed dialog.
Your e-mail reply to this message WILL be *automatically* ANONYMIZED.
Please, report inappropriate use to                abuse at anon.penet.fi
For information (incl. non-anon reply) write to    help at anon.penet.fi
If you have any problems, address them to          admin at anon.penet.fi

@_date: 1995-10-08 14:45:48
@_author: RingZero 
@_subject: NEW Netscape RNG hole 
Phil argues this file handle being lost isn't a big mistake.
He describes how the function is actually called, which
does indeed show that it shouldn't be much of a problem.
However, Netscape had not revealed enough information about
their RNG to allow myself or other reviewers to determine how
critical it was. If, for example, this seeding function were
called once every time a secure connection were established,
losing a handle would be a major problem.
This seems like a good reason to ask for the code for
SEC_RandomUpdate(). You show us from what sources you gather bits,
but you don't show us how you mix them or, for that matter,
stream out "random" bits.
If you did have a description in your original published code
that was better than "mixing is accomplished with MD5", I
must've missed it.
I think you mean lFindHandle. I'm not a windows programmer, so I have
no idea if the enumerator needs to be cleaned up, but I will forward
your message to the appropriate folks here.
Your e-mail reply to this message WILL be *automatically* ANONYMIZED.
Please, report inappropriate use to                abuse at anon.penet.fi
For information (incl. non-anon reply) write to    help at anon.penet.fi
If you have any problems, address them to          admin at anon.penet.fi

@_date: 1995-10-16 10:27:51
@_author: RingZero 
@_subject: Netscape rewards are an insult 
You know, this all seems kind of greedy to me.. It used to be people
would find holes for *fun* and not for profit.  It's still possible to do
that you know 8-).
It almost sounds like extortion, doesn't it?
Your e-mail reply to this message WILL be *automatically* ANONYMIZED.
Please, report inappropriate use to                abuse at anon.penet.fi
For information (incl. non-anon reply) write to    help at anon.penet.fi
If you have any problems, address them to          admin at anon.penet.fi
