
@_date: 2001-12-19 16:58:02
@_author: Kirkland, Mike # IHTUL 
@_subject: problems creating generating a key pair 
Hi everyone,
I am try to generate a key pair and I get these errors. I can generate a key
pair ok as root but, not as a user called gpguser. I tried the
no-secmem-warning in gpguser's home directory of
pair. Any help is appreciated
roo.tns.ndchealth.com> gpg --gen-key
gpg (GnuPG) 1.0.6; Copyright (C) 2001 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it
under certain conditions. See the file COPYING for details.
Please select what kind of key you want:
   (1) DSA and ElGamal (default)
   (2) DSA (sign only)
   (4) ElGamal (sign and encrypt)
Your selection? 1
DSA keypair will have 1024 bits.
About to generate a new ELG-E keypair.
              minimum keysize is  768 bits
              default keysize is 1024 bits
    highest suggested keysize is 2048 bits
What keysize do you want? (1024) 2048
Do you really need such a large keysize? y
Requested keysize is 2048 bits
Please specify how long the key should be valid.
         0 = key does not expire
        = key expires in n days
      w = key expires in n weeks
      m = key expires in n months
      y = key expires in n years
Key is valid for? (0) 0
Key does not expire at all
Is this correct (y/n)? y
You need a User-ID to identify your key; the software constructs the user id
from Real Name, Comment and Email Address in this form:
    "Heinrich Heine (Der Dichter) "
Real name: gpguser ndchealth
Email address: mike.kirkland
Comment: gpguser to encrypt files
You selected this USER-ID:
    "gpguser ndchealth (gpguser to encrypt files)
Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? o
You need a Passphrase to protect your secret key.
gpg: fatal: can't connect to `/var/run/egd-pool': Connection refused
secmem usage: 2304/2304 bytes in 7/7 blocks of pool 2304/16384
roo.tns.ndchealth.com> ls -al
total 37856
drwx------   2 gpguser  users        8192 Dec 12 15:05 .
drwxr-x--x   4 gpguser  users        8192 Dec 17 09:35 ..
-rw-r--r--   1 gpguser  users     2646720 Dec 11 16:08 HC12111.001
-rw-r--r--   1 gpguser  users    36082089 Dec 11 16:08 UB12111.001
-rw-r--r--   1 gpguser  users           5 Dec 11 14:50 mikes_test
-rw-r--r--   1 gpguser  users        4342 Dec  4 15:13 options.gpguser
-rw-r--r--   1 gpguser  users         737 Dec 11 14:47 ourpub_frombrad.txt
-rw-r--r--   1 gpguser  users         144 Dec 11 14:47 oursec_frombrad.txt
-rw-r--r--   1 gpguser  users           0 Dec  4 15:13 pubring.gpg
-rw-------   1 gpguser  users           0 Dec  4 15:13 secring.gpg
roo.tns.ndchealth.com> ^[[B^[[B
Mike Kirkland
NDC Health

@_date: 2001-07-10 23:12:01
@_author: Kirkland, Mike # IHTUL 
@_subject: gnupg and error message during make 
Hi everyone,
I am trying to install gnupg-1.0.6 on an alpha server tru64unix v4.0f
I have have installed the latest stable copies of gcc, gmake, texutils, e=
and prngd too.
When I get the following messages during the make portion of the compile.
Does anyone have any ideas how I can fix this?
# ./configure --enable-static-rnd=3Degd --with-egd-socket=3D/var/run/egd-=
creating cache ./config.cache
checking host system type... alphaev56-dec-osf4.0f
checking target system type... alphaev56-dec-osf4.0f
checking build system type... alphaev56-dec-osf4.0f
checking for a BSD compatible install... scripts/install-sh -c
checking whether build environment is sane... yes
checking whether make sets ${MAKE}... yes
checking for working aclocal... missing
checking for working autoconf... missing
checking for working automake... missing
checking for working autoheader... missing
checking for working makeinfo... missing
checking for mawk... no
checking for gawk... gawk
checking which static random module to use... egd
checking whether use of /dev/random is requested... yes
checking whether use of extensions is requested... yes
checking whether assembler modules are requested... yes
checking whether memory guard is requested... no
checking whether included zlib is requested... no
checking whether use of capabilities is requested... no
checking whether to enable maintainer-specific portions of Makefiles... n=
checking whether make sets ${MAKE}... (cached) yes
checking whether build environment is sane... yes
checking for working aclocal... missing
checking for working autoconf... missing
checking for working automake... missing
checking for working autoheader... missing
checking for working makeinfo... missing
checking for gcc... gcc
checking whether the C compiler (gcc  ) works... yes
checking whether the C compiler (gcc  ) is a cross-compiler... no
checking whether we are using GNU C... yes
checking whether gcc accepts -g... yes
checking how to run the C preprocessor... gcc -E
checking for strerror in -lcposix... no
gcc -DHAVE_CONFIG_H -I. -I. -I.. -I../include -I../intl    -g -O2 -Wall -=
gcc -DHAVE_CONFIG_H -I. -I. -I.. -I../include -I../intl    -g -O2 -Wall -=
rm -f libcipher.a
ar cru libcipher.a cipher.o pubkey.o md.o dynload.o des.o twofish.o
blowfish.o cast5.o rijndael.o elgamal.o rsa.o p
rimegen.o random.o dsa.o g10c.o smallprime.o construct.o rndegd.o sha1.o
rmd160.o md5.o
ranlib libcipher.a
gcc -DHAVE_CONFIG_H -I. -I. -I.. -I../include -I../intl    -g -O2 -Wall
-DIS_MODULE -shared -fPIC -o rndlinux ./rnd
./rndlinux.c: In function `gather_random':
./rndlinux.c:144: warning: int format, different type arg (arg 3)
Warning: Unresolved:
gcc -DHAVE_CONFIG_H -I. -I. -I.. -I../include -I../intl    -g -O2 -Wall
-DIS_MODULE -shared -fPIC -o rndunix ./rndu
Warning: Unresolved:
`echo gcc -DHAVE_CONFIG_H -I. -I. -I.. -I../include -I../intl    -g -O2
-Wall -DIS_MODULE -shared -fPIC -o tiger ./
tiger.c | \
    sed -e 's/-O[2-9s]*/-O/g' `
gmake[2]: Leaving directory `/disk2/local/share/gnupg/gnupg-1.0.6/cipher'
Making all in tools
gmake[2]: Entering directory `/disk2/local/share/gnupg/gnupg-1.0.6/tools'
gcc -DHAVE_CONFIG_H -I. -I. -I.. -I../include -I../intl    -g -O2 -Wall -=
gmake[2]: *** No rule to make target `-liconv', needed by `mpicalc'.  Sto=
gmake[2]: Leaving directory `/disk2/local/share/gnupg/gnupg-1.0.6/tools'
gmake[1]: *** [all-recursive] Error 1
gmake[1]: Leaving directory `/disk2/local/share/gnupg/gnupg-1.0.6'
gmake: *** [all-recursive-am] Error 2
Thanks in advance.
Mike Kirkland
Unix System Administrator
National Data Corporation
Phone:  (918) 481-2817
Fax:      (918) 481-4275
mike.kirkland NDC=AE| HEALTH
6100 South Yale Avenue
Suite 1900
Tulsa, OK 74136

@_date: 2001-07-20 00:28:01
@_author: Kirkland, Mike # IHTUL 
@_subject: gpg --batch  option help needed 
Hi everyone,
I am working on trying to automate the use of gpg. I want be able to =
documents for another host box, then use gpg to encrypt 100s/1000s of
documents in a directory and then mail/ftp the encrypted documents to
another host box; this without having to enter the passphrase for each
I know a little about the --batch option from reading the gpg handbook =
how-to docs, but it does not cover it in much detail.=20
Can anyone show / tell me in detail how you implemented something =
similar to
this in your company.=20
Mike Kirkland
Unix System Administrator
National Data Corporation
Phone:  (918) 481-2817
Fax:      (918) 481-4275
mike.kirkland NDC=AE| HEALTH
6100 South Yale Avenue
Suite 1900
Tulsa, OK 74136

@_date: 2002-04-30 21:31:01
@_author: Kirkland, Mike # IHTUL 
@_subject: need precompiled idea.c module for tru64 unix V5.1 
Hi everyone,
I am having problems compiling the idea.c module on my compaq DS10
workstation running tru64 unix version 5.1 and using gnupg 1.0.6.
If anyone has idea.c compiled on this platform and version, please =
contact /
email it to me.
Mike Kirkland
Unix System Administrator
National Data Corporation
Phone:  (918) 481-2817
Fax:      (918) 481-4275
mike.kirkland NDC=AE| HEALTH
6100 South Yale Avenue
Suite 1900
Tulsa, OK 74136
"This E-mail message is for the sole use of the intended recipient(s) =
may contain confidential and privileged information. Any unauthorized
review, use, disclosure or distribution is prohibited. If you are not =
intended recipient, please contact the sender by reply E-mail, and =
all copies of the original message."

@_date: 2002-01-09 17:22:01
@_author: Kirkland, Mike # IHTUL 
@_subject: Problems with PGP user decrypting GPG files 
Hi everyone,
We are in the process of testing our encryption / decrytion with some
trading partners that are using PGP 7.0.1 on windows 2000 advanced server.
We are using gpg 1.0.6 on tru64 unix v5.1 on a DS10.
I have imported into GPG their public keys, and our private/public pair that
were exported from PGP 6.5.8 on a PC.
I encrypt files by using the following shell script:
#  Program Name: /usr/bin/encryptgpguser
#  Author: Mike Kirkland
#  Date: 11-28-01
#  Purpose:     This script will encrypt files past to it from server lyra
#               after encryption lyra will ftp files from this directory to
be sent to payer
#               This script will be rexec from lyra with 2 parameters passed
to it
#               1 the filename to be encrypted
#               2 the payer's public key identifier to be used for
#  Modifications:  N/A
cd /gpguser
USAGE="Usage: `basename $0`  "  # If no
filename or more than one, then tell how to use this script
if [ "$ -ne 2 ]; then   # Check to see that only   one filename and keyid
is passed in
  echo ;
  echo $USAGE;
  exit 1;
if [ -s "$FILENAME" ]; then    # -s option checks that file exists and
filesize > 0
  if [ $? -eq 0 ] ; then
    echo ;
    echo "filename $FILENAME found and is not an empty file";
      if [ -e "$FILENAME.gpg" ]; then
              rm $FILENAME.gpg;
              /usr/bin/gpg --batch -q --no-tty --no-verbose
--no-secmem-warning -r "$PUBKEYID" -e "$FILENAME";
              echo "PART 1 filename $FILENAME successfully encrypted and
copied as  $FILENAME.gpg" ;
              exit 0;
      else
              /usr/bin/gpg --batch -q --no-tty --no-verbose
--no-secmem-warning -r "$PUBKEYID" -e "$FILENAME";
              echo "PART 2 filename $FILENAME successfully encrypted and
copied as  $FILENAME.gpg" ;
              exit 0;
      fi
  else
    echo "ERROR filename $1 encryption failed!! check $USAGE or call your
Unix System Administrator"
  fi
  echo "ERROR filename $1 is not found or filesize is zero bytes"
exit $?
Everything is ok on the encryption, but when our trading partner gets the
file they get this error message:
   Error: encrypted session key is bad
Any thoughts?
Mike Kirkland
Unix System Administrator
National Data Corporation
Phone:  (918) 481-2817
Fax:      (918) 481-4275
mike.kirkland
