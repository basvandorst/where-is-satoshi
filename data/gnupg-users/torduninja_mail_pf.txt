
@_date: 2004-12-28 22:12:19
@_author: Maxine Brandt 
@_subject: Compile GnuPG 1.4 under cygwin? 
> >Since you're coming from a Windows environment, you should probably
 > >> consider MinGW/MSys with a few optional pieces from the SourceForge
 > >> GnuWin32 project.
 > >>
 >
 > Yes maybe that's indeed better. I already had a look on the document
 > that explains building GnuPG using MingW [1] but since i already have
 > cygwin on my system and MingW seems to try to do about the same as
 > cygwin but in a different way, it seemed a bit like installing the same
 > software twice to me... (but maybe that's a wrong interpretation)
 >
 > In the how-to they say to modify two files: the configure-script and
 > seat.test. Looking at the configure script in gnupg 1.4 these changes or
 > not necessary anymore (the how-to is for 1.3.92), since a precompiler if
 > statement was added. However seat.test is still the same so does it
 > needs the change from the how-to?
Yes, you should modify the seat.test file, though this only affects whether or not the seat test is passed in "make check". More importantly you will have to fix the bug that prompted the quick release of 1.4.0a for Windows.
John Clizbe posted the fix on Dec. 16:
diff -u -r1.71 iobuf.c

@_date: 2004-12-29 06:14:00
@_author: Maxine Brandt 
@_subject: Compile GnuPG 1.4 under cygwin? 
> Sorry Maxine. That was Werner's fix not mine. I think it was quoted in a
 > later message of mine.
Thanks for the clarification. Your message was the only one I saw on this list detailing the bug fix.

@_date: 2005-02-09 22:21:52
@_author: Maxine Brandt 
@_subject: didn't help either (was: Re: it's not a PATH problem ) 
The reason for your problem is that under w'98 the SHGetFolderPath is found in
shfolder.dll and not in shell32.dll, but the rc1 code has overlooked this
particularity. The issue has been reported on the gnupg-devel list:

@_date: 2005-01-10 21:29:01
@_author: Maxine Brandt 
@_subject: GPG on USB drive 
If you're referring to the wide-ranging discussion in November last year,
that's not my impression of the developers' attitude (take Werner Koch's quick
reaction to the problem iconv.dll caused for our GPG on a floppy project, GPG
TO GO, for example).
A 'media-centric' version of GPG (or any other application) will always have limited functionality, and may never be possible, for two reasons.
The first is that it must come with its own OS or else use the host machine's OS. If it uses it's own OS, the host machine must allow it to boot, and if you're not the controller of that machine you won't be able to enable this. The medium OS must also be able to write to the host system, which isn't possible Windows-to-*NIX or *NIX-to-NTFS (at least not without third-party helpers, which for the moment, aren't reliable.
The second reason is network connections. If you're not the controller of the host machine, applications won't be allowed to pass a firewall.
However, if you're thinking in terms of a Windows version of GPG that will run from a removable drive on any Windows system, there's an apparently very simple way to achieve this - just remove all mention of "c:" in the "HAVE_DRIVE_LETTERS" section of the "configure" file and do a Windows compilation. The GnuPG home directory becomes simply "gnupg" whatever drive letter your removable medium is assigned, and you can use the regular command-line procedure.
I've been testing such a compilation of 1.4.0 for e-mail and file ecnryption for three weeks now without any problem, though it has a few particularities which leave me with a lingering doubt that there may be a nasty surprise waiting somewhere. (Maybe Werner or David could comment on that).

@_date: 2005-01-11 20:54:33
@_author: Maxine Brandt 
@_subject: GPG on USB drive 
Thanks Werner. The relative filenames issue is one of the "particularities" I referred to.

@_date: 2005-01-11 22:38:50
@_author: Maxine Brandt 
@_subject: GPG on USB drive 
That's not my experience. In my area there are five places with public
computer access and in none of them can the portable Thunderbird or the gpg
keyserver helpers get past the firewall. I've also raised the question with
the IT people at three companies and the answer in each case was basically: if
it's possible our firewall's ****. But as far as work computers are concerned,
J.C.A. Wevers in another post in this thread goes into some detail of
posibilities, but they depend on what user permissions the host system has set.

@_date: 2005-01-17 07:01:42
@_author: Maxine Brandt 
@_subject: GPG TO GO update 
Hash: SHA1
The GPG TO GO pages at  have been updated, and there's
a download available which uses a version of GPG-1.4.0. This has been compiled
to run from any removable medium, whatever drive letter this is assigned, with
no need to specify the gnupg home directory in each command.
There's also a mirror site at

@_date: 2005-01-26 21:58:18
@_author: Maxine Brandt 
@_subject: gpg version 1.4.0a on w2kp and winxp 
I struck the renaming issue with 1.4.0a on only two occasions, once after
importing a key which had been signed by one of the keys already on the
keyring, and once when assigning trust to a key. I spent four hours trying to
reproduce the error with the same actions using John's CVS version, without
success, so it seems this bug has been fixed.
The other good news is that the GNUPGHOME environment variable resolves the
problems of using GPG on removable drives.
I think it would be a good idea if Windows binaries were made available for
release candidates in future. Is this possible?

@_date: 2005-03-04 00:26:17
@_author: Maxine Brandt 
@_subject: bzip2 cross-compiling problem 
An alternative to Werner's suggestion which avoids rebuilding bzip2 is to
use the bzip2-1.0.2-3-bin.zip and bzip2-1.0.2-3-lib.zip files that you used
for MinGW on Windows. Decompress them in the
This will give you bzip2 capability via a bzip2.dll as in a native Windows

@_date: 2005-03-08 14:48:09
@_author: Maxine Brandt 
@_subject: bzip2 cross-compiling problem 
Well you can have it both ways if you download this file:
It contains the two files that Werner mentioned.
Put libbz2.a in the lib folder and bzlib.h in include. You'll have to change a
line in bzlib.h
-  defined(_WIN32) && !defined(__MINGW32__)
+  defined(_WIN32) && 0
  #   include   #   ifdef small
Then to include bzip2 capability in gpg.exe, in configure add the line
   ---------------------    M4sh Initialization.     --------------------- + LDFLAGS='-static'
If you leave out this change to configure, gpg builds with bzip2 capability
via the bzip2.dll.

@_date: 2005-03-19 04:11:09
@_author: torduninja@mail.pf 
@_subject: Cross-compiling instructions 
Hash: RIPEMD160
Part of the instructions in README-W32 for cross-compiling for Windows could do with some clarification, I think. Specificly
 $ ./autogen.sh --build-w32
 $ make
 $ cp g10/gpg*.exe  /some_windows_drive/
I suggest:
See the instructions in file README on how to check the
integrity of
- - that file.  Wir a properly setup build environment, you
unpack the
+ that file.  With a properly setup build environment, you
unpack the
tarball change to the created directory and run
 $ ./autogen.sh --build-w32
 $ make + $ strip g10/gpg*.exe
+ $ strip keyserver/gpgkeys*.exe
+ $ strip tools/gpgsplit.exe
 $ cp g10/gpg*.exe  /some_windows_drive/
+ $ cp keyserver/gpgkeys*.exe  /some_windows_drive/
+ $ cp tools/gpgsplit.exe  /some_windows_drive/

@_date: 2005-03-19 06:05:26
@_author: Maxine Brandt 
@_subject: Cross-compiling instructions 
Hash: RIPEMD160
Part of the instructions in README-W32 for cross-compiling for Windows could do with some clarification, I think. Specificly this:
 $ ./autogen.sh --build-w32
 $ make
 $ cp g10/gpg*.exe  /some_windows_drive/
I suggest:
See the instructions in file README on how to check the integrity of
- - that file.  Wir a properly setup build environment, you unpack the
+ that file.  With a properly setup build environment, you unpack the
tarball change to the created directory and run
 $ ./autogen.sh --build-w32
 $ make + $ strip g10/gpg*.exe
+ $ strip keyserver/gpgkeys*.exe
+ $ strip tools/gpgsplit.exe
 $ cp g10/gpg*.exe  /some_windows_drive/
+ $ cp keyserver/gpgkeys*.exe  /some_windows_drive/
+ $ cp tools/gpgsplit.exe  /some_windows_drive/

@_date: 2005-03-23 00:07:05
@_author: Maxine Brandt 
@_subject: gpg-2-go  +  winpt  +  usb drive   //   do-able ! 
Hash: RIPEMD160
This seems incorrect, Vedaal.
I installed WinPT on my USB drive with gpg2go, on w2k, and it seems
to work OK from the limited trial I gave it. But I ran a registry search
and I found a whole heap of entries for WinPT, and some of them
in areas of the registry where non-admin users have no rights.
So I deleted all the registry entries to see what would happen, and
the only thing WinPT did was stop my computer from closing down.

@_date: 2005-03-23 20:49:55
@_author: Maxine Brandt 
@_subject: gpg-2-go  +  winpt  +  usb drive   //   do-able 
Hash: RIPEMD160
Hi Vedaal,
I had some time to check this out more thoroughly last night on a w2k
box, and I found that what entries are put in the registry depend on the
privileges of the account, but in all cases there will be some registry
If you are on a Limited User or Guest account, these will be restricted
to HKEY_LOCAL_USER and HKEY_USER, and WinPT will work fine with
But here's the most interesting point: if you're using a Guest account
the registry entries are transient and you only have to reboot to get
rid of them. This would have to be verified on other flavors of Windows
of course.
