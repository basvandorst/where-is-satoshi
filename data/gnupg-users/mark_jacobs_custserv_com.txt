
@_date: 2003-12-19 16:28:44
@_author: Mark Jacobs 
@_subject: Symmetric Encryption Requirement 
We have a need for either 1) GNUPG needs to be able to Symmetricly encrypt a file with triple DES and write the key used to a separate file (in clear text) and the encrypted data to a different file.
2) Strip out the encrypted key from an PGP/GNUPG encrypted file
and write this key to a different file in clear text.
Reason, we have files sent to us that have been encrypted by PGP
using symmetric encryption and we want to be able to decrypt the
data using mainframe(S/390) based triple DES decryption.
The mainframe doesn't know anything about encrypted keys protected
by a pass phrase, it just wants the encrypted data and the key used
to encrypt the file.
Thanks for your assistance.

@_date: 2003-12-19 16:52:21
@_author: Mark Jacobs 
@_subject: Symmetric Encryption Requirement 
Is this special mode described anywhere other than the source code? Is there
a way to request generic 3DES?
The mainframe process that we are looking for is by the nature of the
mainframe a batch process without human interaction, i.e. hard for the
mainframe to enter a passphrase when prompted by GNUPG.
Also GNUPG has not been ported to run in the mainframe UNIX or
native environment.

@_date: 2003-12-19 17:07:20
@_author: Mark Jacobs 
@_subject: Symmetric Encryption Requirement 
Thanks again.
I haven't tried yet. It is on my todo list this afternoon.
Thanks a bunch for your assistance.

@_date: 2003-12-19 17:37:01
@_author: Mark Jacobs 
@_subject: Symmetric Encryption Requirement 
I tried to get the session key for the Symmetric Encrypted file, but it never
displayed anything.  Looking through the GNUPG archive messages I found
the statement that --show-session-key only works with public/private key
encrypted files not Symmetric. It also said that the session key for these
files is created by a SHA1 has of the passphrase entered. Is this true?
I tried --show-session-key on a file encrypted to my own public key and was
shown a 192 bit key as expected.
Is the session key stored in the encrypted file or regenerated from the entered
pass phrase during decryption. If it is stored in the encrypted file, I need to strip
if from the file prior to decryption on the mainframe (assuming I can't get GNUPG
to port)

@_date: 2003-12-19 19:00:45
@_author: Mark Jacobs 
@_subject: Symmetric Encryption Requirement 
configure failed under OMVS zOS 1.2 environment
trap: ./configure 1169: FSUM7327 signal number 13 not conventional
checking build system type... i370-ibm-openedition
checking host system type... i370-ibm-openedition
checking target system type... i370-ibm-openedition
checking for a BSD-compatible install... scripts/install-sh -c
checking whether build environment is sane... yes
checking for gawk... no
checking for mawk... no
checking for nawk... no
checking for awk... awk
checking whether make sets $(MAKE)... no
checking which random module to use... default
checking whether use of /dev/random is requested... yes
checking for extra cipher modules... no
checking whether use of extensions is requested... yes
checking whether assembler modules are requested... yes
checking whether memory guard is requested... no
checking whether to enable nonstandard TIGER/192 digest support... no
checking whether to enable new-style nonstandard TIGER/192 digest support... no
checking whether to enable read-only SHA-384 and SHA-512 digest support... no
checking whether to enable external program execution... yes
checking whether to enable photo ID viewing... yes
checking whether to use a fixed photo ID viewer... no
checking whether to enable external keyserver helpers... yes
checking whether LDAP keyserver support is requested... yes
checking whether experimental external hkp keyserver support is requested... no
checking whether email keyserver support is requested... yes
checking whether keyserver exec-path is enabled... yes
checking whether included zlib is requested... no
checking whether use of capabilities is requested... no
checking whether to enable maintainer-specific portions of Makefiles... no
checking whether make sets $(MAKE)... (cached) no
checking whether build environment is sane... yes
checking for gcc... no
checking for cc... cc
checking for C compiler default output... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... no
checking whether cc accepts -g... yes
checking for cc option to accept ANSI C... none needed
checking for style of include used by make... none
checking dependency style of cc... none
checking how to run the C preprocessor... cc -E
checking for ranlib... :
checking for ar... ar
checking for perl... no
checking for strerror in -lcposix... no
checking for special C compiler options needed for large files... no
checking for _FILE_OFFSET_BITS value needed for large files... no
checking for _LARGE_FILES value needed for large files... 1
checking for a BSD-compatible install... scripts/install-sh -c
checking for gawk... (cached) awk
checking for docbook-to-man... no
checking for faqprog.pl... no
checking for docbook2texi... no
checking for sgml to texi tools... no
checking for BSD-compatible nm... /bin/nm -p
checking command to parse /bin/nm -p output... no
checking for _ prefix in compiled symbols... no
checking for gethostbyname... yes
checking for setsockopt... yes
checking whether LDAP via "-lldap" is present and sane... no
checking whether I can make LDAP be sane with lber.h... no
checking whether LDAP via "-lldap -llber" is present and sane... no
checking whether I can make LDAP be sane with lber.h... no
checking whether LDAP via "-lldap -llber -lresolv" is present and sane... no
checking whether I can make LDAP be sane with lber.h... no
checking for sendmail... /usr/sbin/sendmail
checking for msgfmt... no
checking for gmsgfmt... :
checking for xgettext... no
checking for msgmerge... no
checking for egrep... grep -E
checking for ANSI C header files... yes
checking for an ANSI C-conforming const... yes
checking for inline... __inline
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking for off_t... yes
checking for size_t... yes
checking for working alloca.h... no
checking for alloca... no
checking whether `alloca.c' needs Cray hooks... no
checking stack direction for C alloca... 1
checking for stdlib.h... (cached) yes
checking for unistd.h... (cached) yes
checking for getpagesize... yes
checking for working mmap... no
checking whether we are using the GNU C Library 2.1 or newer... no
checking whether integer division by zero raises SIGFPE... yes
checking for inttypes.h... no
checking for stdint.h... no
checking for unsigned long long... yes
checking for inttypes.h... yes
checking whether the inttypes.h PRIxNN macros are broken... no
checking for non-GNU ld... no
configure: error: no acceptable ld found in $PATH

@_date: 2003-12-19 19:50:10
@_author: Mark Jacobs 
@_subject: Symmetric Encryption Requirement 
The mainframe has cryptographic hardware that has to accessed via sofware
API's. PGP/GNUPG doesn't use these API's of course so they do their work
in software.
I want to be able to strip the extra stuff from a PGP/GNUPG encrypted file and
use the mainframe facilities to do the actual encryption.
For files in the millions or tens of millons of records the crypto hardware makes
a big difference. There is no native way to do what PGP/GNUPG does on a mainframe using public
key crypto.
