
@_date: 2016-04-26 13:47:40
@_author: Ian Prideaux 
@_subject: Import a pkcs12 certificate chain 
Hi All,
I've got a system which exchanges files with third parties. One of them
requires that the key is generated from a certificate. I create the CSR
and get it signed by a CA. I then create a pkcs12 file containing the
CA's root & intermediate certificates, and the certificate that they
created from my CSR. We then send our certificate to the third party.
Currently, I'm using
PGP Command Line 10.2 build 335 Copyright (C) 2011 Symantec Corporation
but I want to start using
gpg (GnuPG) 2.0.27 libgcrypt 1.5.3
because that's what's supplied in Solaris11u3.
The Symantec command is:
pgp --new-passphrase newpp --passphrase oldpp --import CertificateChain.p12
However, I can't figure out what the gpg2 command is, or even if gnupg
is capable of this. I don't really understand what this is achieving
that ordinary keys don't.
Please can someone help?

@_date: 2016-04-26 14:01:10
@_author: Ian Prideaux 
@_subject: Import a pkcs12 certificate chain 
I was wrong. We don't send them the certificate, we send them the public
key generated when the certificate chain is imported.
What does all the extra messing about with certificates achieve, and how
can I get gnupg to do it?

@_date: 2016-04-27 12:47:32
@_author: Ian Prideaux 
@_subject: Import a pkcs12 certificate chain 
No, I'm not sure either. This is a system that I've inherited, with no
documentation :-(
Every other third party uses keypairs that are generated by the
pgp --gen-key command. I don't understand what is gained by using a
keypair which is generated from a certificate chain.
Yes that works. However I'm having trouble exporting the old
certificate-generated-keys from symantec. gpg2 uses the same keyring
format as symantec, so I can just copy and rename the keyring files.
gpgsm uses it's own keyring format, and doesn't interoperate with gpg2.
I'd have to write code specifically to deal with that one customer.
