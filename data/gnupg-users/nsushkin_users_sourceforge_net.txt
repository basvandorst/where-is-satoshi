
@_date: 2011-12-21 13:24:27
@_author: Nicholas Sushkin 
@_subject: Who is doing S/MIME enveloping in KMail - gnupg2 or KMail? 
Hi, Aaron,
KMail 2.1.1 KDE 4.6.5 gpgsm (GnuPG) 2.0.17 libgcrypt 1.4.6 libksba 1.2.0
I send a signed unencrypted email. iPad and Outlook-web recipients cannot see the body of my email, only seeing the smime.p7m attachment. I am getting angry responses implying to stop using SMIME. I am looking at the email source and comparing to SMIME signed emails other people send from Outlook, Thunderbird, and Apple Mail that can be read on iPad and Outlook-web. I am also looking at the SMIME RFC It seems that KMail is using saying Content-Type: multipart/signed and is using "SignedData format" option of sending out a signed email. It seems that that's against the RFC. The way I understand RFC is that if you do "SignedData format", you need to specify MIME Type "aplication/pcks7-mime".
So, I am wondering whether KMail can create signed only messages using the multipart/signed correctly, so that clients that do not support SMIME can properly display them.
I found a related bug filed in KMail  and commented on it, but I am not sure if the problem may be with gpgsm instead.

@_date: 2011-12-21 10:38:04
@_author: Nicholas Sushkin 
@_subject: Who is doing S/MIME enveloping in KMail - gnupg2 or KMail? 
Hi, I think there is a bug in the way KMail is doing S/Mime envelop for signed but not encrypted messages. I'd like to follow through, but I am not sure if it's gnupg or KMail, which is the proper forum. Does anyone (Werner) know by any chance?
ps.

@_date: 2011-12-23 19:36:35
@_author: Nicholas Sushkin 
@_subject: Who is doing S/MIME enveloping in KMail - gnupg2 or KMail? 
Thanks for clarification. I filed a bug report with KDE
