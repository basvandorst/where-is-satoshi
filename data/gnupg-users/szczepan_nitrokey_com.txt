
@_date: 2017-12-12 11:41:29
@_author: Szczepan Zalega | Nitrokey 
@_subject: Complete Ubuntu compile of GnuPG 
I have scripted an Ubuntu 17.10 docker container recently for building
any GnuPG version and it is available at [1]. More details at [2].
Once built, it runs `gpg --card-edit` by default, but with [3] one can
run any command.
For building desired GnuPG version use (details at [4]):
bash docker-build.sh --build-arg GPG_VERSION=2.2.3
[1] [2] [3] docker-run-command.sh
[4]

@_date: 2017-06-08 11:35:38
@_author: Szczepan Zalega | Nitrokey 
@_subject: error while trying to run make 
Similar issue regarding `IN_EXCL_UNLINK` was solved earlier.
See thread from 05/09/2017 07:12 PM,
topic: `undeclared function identified during make - gnupg-2.1.20`.

@_date: 2017-03-20 11:45:19
@_author: Szczepan Zalega | Nitrokey 
@_subject: Generating RSA-4096 on Nitrokey Pro 
I have just checked it on Ubuntu 16.04.2-server. It has a GPG with
version 2.1.11 (not 2.0.x, my mistake) and scdaemon in same version. The
keys have been generated successfully although it took about 15 minutes
to complete.
[1]  - run log on GPG 2.1.11 / Ubuntu
16.04-2-server - another attempt

@_date: 2017-03-20 10:39:20
@_author: Szczepan Zalega | Nitrokey 
@_subject: Generating RSA-4096 on Nitrokey Pro 
I would like to generate RSA-4096 key on Nitrokey Pro v0.7 device.
During the generation error is shown:
gpg: key generation failed: Card error
Key generation failed: Card error
gpg: error setting forced signature PIN flag: Input/output error
In scdaemon.log I see that libusb reports time-outs:
2017-03-17 20:26:51 scdaemon[16299] DBG: ccid-driver: usb_bulk_read
error: LIBUSB_ERROR_TIMEOUT
2017-03-17 20:26:51 scdaemon[16299] ccid_transceive failed: (0x1000a)
2017-03-17 20:26:51 scdaemon[16299] apdu_send_simple(0) failed: card I/O
How could I fix it?
As far as I remember it worked on Ubuntu 16.04 with GPG 2.0.x. I use now
Ubuntu 16.10 with GPG 2.1.15. Logs attached.
Please keep me on CC when possible.

@_date: 2017-03-24 12:46:26
@_author: Szczepan Zalega | Nitrokey 
@_subject: Generating RSA-4096 on Nitrokey Pro 
Same is occurring on latest GPG 2.1.19. Attached logs taken under Arch
Linux. Any ideas how to fix it?

@_date: 2017-03-28 09:07:16
@_author: Szczepan Zalega | Nitrokey 
@_subject: Generating RSA-4096 on Nitrokey Pro 
Thank you for the patch! I will check it on next occasion and leave

@_date: 2017-10-17 21:24:22
@_author: Szczepan Zalega | Nitrokey 
@_subject: Generating a new keypair through GnuPG 2.x in Ubuntu 16.0.4 
Apparently you do not have zlib's headers. apt-file says you can find
them on Ubuntu in package: zlib1g-dev (/usr/include/zlib.h).

@_date: 2020-04-27 15:55:09
@_author: Szczepan Zalega | Nitrokey 
@_subject: GnuPG 2.2.20 under Termux (Android) ... 
I would not keep the secrets on the mobile, but rather offload the
computation to a simple device and communicate via USB/NFC. Reason is
that this is a complicated communication device, which has a big attack
Here is a fresh remote code exploitation done over Bluetooth for Android
8/9 [1]. Fix was released in February 2020 as far as I see.
In the past there were some issues with the WiFi as well AFAIR.

@_date: 2020-05-08 07:12:32
@_author: Szczepan Zalega | Nitrokey 
@_subject: GnuPG 2.2.20 under Termux (Android) ... 
Sorry for the delay. Nitrokey devices were tested with OpenKeychain [1]
(available on F-Droid and Google Play), but not with the Termux. I will
keep in mind to check this.
Regarding smart card related features no additional drivers are needed,
only the usual GnuPG requirements apply: device access and scdaemon
service running for the actual device communication.
[1]
