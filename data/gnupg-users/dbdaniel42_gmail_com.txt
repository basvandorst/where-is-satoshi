
@_date: 2015-05-13 21:41:26
@_author: Daniel Bomar 
@_subject: What Linux kernel configuration options are required by GPG for 
I'm using Arch Linux and running a custom kernel (version 4.0.2) and
I'm unable to use the --refresh-keys function.  I know the kernel is
the problem because when I reboot into the ARCH distribution kernel
(also version 4.0.2) it works fine.  It's only my custom kernel that
has this issue.  I need to know what configuration options GPG
requires so I can compile in the required features.
Here is the error I'm getting.
#  gpg --homedir /etc/pacman.d/gnupg --refresh-keys
gpg: refreshing 80 keys from hkp://pool.sks-keyservers.net
gpg: keyserver refresh failed: Address family not supported by protocol

@_date: 2015-05-14 12:51:56
@_author: Daniel Bomar 
@_subject: What Linux kernel configuration options are required by GPG for 
Looks to be the case.  The strange thing is I thought that as well and
tested by passing "ipv6.disable=1" to my distribution kernel and it
still worked.  Then I compiled IPV6 support into my custom kernel and
that got it working BUT when I pass "ipv6.disable=1" to my custom
kernel it does NOT work.  I'm not sure what the difference is there
where I can disable it in one kernel and have it work but not the
In any case, is this a bug?  I don't see why I should have to have
IPV6 support compiled in when my ISP only gives me an IPV4 address so
I explicitly left it out.
On Thu, May 14, 2015 at 1:33 AM, mark hellewell

@_date: 2015-05-15 09:20:01
@_author: Daniel Bomar 
@_subject: What Linux kernel configuration options are required by GPG for 
I verified this to be the case in Wireshark.  It's sending both A and
AAAA queries for hostname vod.ohai.su (not sure how it got that from
pool.sks-keyservers.net but whatever probably not relevant.)  However
it's only GPG that seems to do this.  If I ping either of those
hostnames it sends only an A query.  Same for my web browser and all
other traffic I observed.  It's only GPG that's trying to do these
AAAA DNS queries.
How do I change my resolver as you suggested?  I don't have any kind
of special setup.  I'm just using Google's public DNS (8.8.8.8 and
8.8.4.4) set in /etc/resolv.conf along with a static IP.
