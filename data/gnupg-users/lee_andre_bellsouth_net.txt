
@_date: 2009-02-03 20:28:49
@_author: lee_andre@bellsouth.net 
@_subject: gpg: failed to create temporary file 
Good Afternoon,
I am currently trying to decrypt a file through an automated process that is called by a webservice called BPEL.  Now in my development environment it works great but in my test enviroment I receive the following errors:
Error string = gpg: failed to create temporary file `~/.gnupg/. No such file or directory Error string = gpg: failed to create temporary file `~/.gnupg/. No such file or directory gpg: fatal: ~/.gnupg: can't create directory: No such file or directory secmem usage: 0/0 bytes in 0/0 blocks of pool 0/32768 My system admin and I did the following troublshooting steps:
The application runs as the user oracle and in the oracle profile there /.gnupg does exist in its home directory
We open up permissions on the /.gnupg directory to 777 but received the same issues.
We then found that my dev and test environment were different, Dev is running red hat 5.0 and test red hat  4.7, so the gpg versions were different.  On the dev GPG version is 1.4.5 and the test is 1.2.6.
We've upgraded the version in the test environment to 1.4.5 the same as Dev.  But I produce the same results.
I am able to decrypt the file manually by typing in the command but not throught the application.
We also added GNUPGHOME in the oracle user bash profile but still no luck.  Please any help is appreciated.
Thank you in Advance

@_date: 2009-02-03 21:51:50
@_author: lee_andre@bellsouth.net 
@_subject: gpg: failed to create temporary file 
way ahead of you.
I have a whoami bpel utility process and tells me that is running as oracle
-------------- Original message from Joseph Oreste Bruni : --------------

@_date: 2009-02-03 22:23:24
@_author: lee_andre@bellsouth.net 
@_subject: gpg: failed to create temporary file 
GNUPGHOME = /opt/oracle/.gnupg
-------------- Original message from David Shaw : --------------

@_date: 2009-02-04 19:55:32
@_author: lee_andre@bellsouth.net 
@_subject: gpg: failed to create temporary file 
Here is the bash_profile for oracle
-bash-3.00$ more .bash_profile
export GNUPGHOME=/opt/oracle/.gnupg
export ORACLE_BASE=/opt/oracle
export ORACLE_HOME=/opt/oracle/product/10.1.3.1/OracleAS_1
export PATH=$PATH:$ORACLE_HOME/bin:$ORACLE_HOME/opmn/bin:/usr/sbin:/usr/local/bi
PATH=/usr/kerberos/bin:/usr/local/bin:/bin:/usr/bin:/opt/oracle/bin:/usr/sbin; e
xport PATH
unset USERNAME
umask 022

@_date: 2009-02-09 20:40:04
@_author: lee_andre@bellsouth.net 
@_subject: gpg: failed to create temporary file 
Okay I decided to take a different route.
I decided to create a directory and put the files from ~/.gnupg to /opt/oracle/gpgfiles, my admin edited the .bash_profile to have GNUPGHOME = /opt/oracle/gpgfiles.  When I run my process I still get  gpg: failed to create temporary file `~/.gnupg/. No such file or directory gpg: fatal: ~/.gnupg: can't create directory: No such file or directory secmem usage: 0/0 bytes in 0/0 blocks of pool 0/32768.
This leads me to believe GNUPGHOME is not setting the path to look into this directory.  Not sure what else I'm missing.
Any suggestions???  I'm wide open.
-------------- Original message from Joseph Oreste Bruni : --------------

@_date: 2009-02-10 13:34:35
@_author: lee_andre@bellsouth.net 
@_subject: gpg: failed to create temporary file 
I will create a shell script and see what happens.
-------------- Original message from Joseph Oreste Bruni : -------------- One last test: Rather than having BPEL run "gpg" directly, perhaps you could have it run a shell script that in turn runs "gpg". You should then be able to set whatever variables you need prior to the call of gpg from within the shell script. You can also enable tracing (set -o xtrace) to help with script

@_date: 2010-01-06 13:15:17
@_author: Andre Lee 
@_subject: Passphrase error 
Hey Guys,
I'm back again with another crazy GPG issue:? I receive the following error when I run my decryption process through the Oracle BPEL process:

@_date: 2010-01-06 13:20:11
@_author: Andre Lee 
@_subject: Passphrase error 
Hey Guys,
I'm back again with another crazy GPG issue:? I receive the following error when I run my decryption process through the Oracle BPEL process:
gpg: public key is E3328CE0
gpg: using secondary key E3328CE0 instead of primary key 26C55D64
gpg: using secondary key E3328CE0 instead of primary key 26C55D64
gpg: encrypted with 2048-bit ELG-E key, ID E3328CE0, created 2003-05-13
????? "SmartMail Services "
gpg: public key decryption failed: bad passphrase
gpg: decryption failed: secret key not available
I've had an issue with running gpg commands via Oracle BPEL before but the change to the new server fixed it in the TEST.? Now I have this new issues on another server in the BAT environment.? When the passphrase is passed via BPEL process I get the error above but when I pass the same error via command line, it decrypts the files just fine.? Some how I think this is a configuration issue what are your thoughts.

@_date: 2010-01-07 08:38:06
@_author: Andre Lee 
@_subject: Passphrase error 
Hey John,
Same code that was deployed on this server has worked on 2 other servers, my dev and test servers.? The code has not been altered in anyway.? I've found that?the linux admin?had to tweek the new test server to get it working like the dev server.? After that tweet was made the code started to work just fine.? The tweet that was made was updating gpg to 1.4.2 as the my dev server.? We did the same to my BAT server but that didn't work.
