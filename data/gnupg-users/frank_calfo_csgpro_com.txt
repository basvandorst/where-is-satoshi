
@_date: 2003-05-06 02:18:02
@_author: Frank Calfo 
@_subject: example command-fd and passphrase-fd 
Could someone please send  a simple Windows and Unix example of using command-fd and passphrase-fd to
encrypt a file ?

@_date: 2003-11-25 17:54:20
@_author: Frank Calfo 
@_subject: uninstall previous version 
I just installed the new 1.2.3 version from source via the make utility and all is running well.
Now, I'd like to remove the previous 1.2.1 version I have installed at /usr/bin
What's the best way to remove the previous version ?  Just delete the gpg, gpgv, and gpgsplit binaries from the directory ?

@_date: 2003-10-06 22:44:02
@_author: Frank Calfo 
@_subject: Automation of decryption 
I have created a few batch files to automate encryption and decryption, even with a keystore that is password protected.
To decrypt a file encrypted via passphrase-based encryption, the following command within a batch file has been working well on Windows:
 Script wrapper for GNU PGP utility function: Decrypt a file encrypted with password-based encryption
 Arguments: 1 - password that file was encrypted with
            2 - path to EFTS keystore
            3 - fully qualified name of decrypted file to create
            4 - fully qualified name of encrypted file to decrypt
 Watch it! - on Windows do NOT include space between %1 and the pipe (|) - will get bad
 passphrase error
echo %1| gpg --homedir %2 --batch --yes --passphrase-fd 0 --output %3 --decrypt %4
To decrypt a file encrypted via key-based encryption, the following command within a batch file has been working well on Windows. Note that this is same as previous example.  Only difference is that previous one passed in encryption password under argument  while this one passes keystore password under argument  Script wrapper for GNU PGP utility function: Decrypt a file encrypted with key-based encryption
 Arguments: 1 - password to EFTS keystore
            2 - path to EFTS keystore
            3 - fully qualified name of decrypted file to create
            4 - fully qualified name of encrypted file to decrypt
 Watch it! - on Windows do NOT include space between %1 and the pipe (|) - will get bad
 passphrase error
echo %1| gpg --homedir %2 --batch --yes --passphrase-fd 0 --output %3 --decrypt %4
I have created a few batch files to automate encryption and decryption,
even with a keystore that is password protected.
To decrypt a file encrypted via passphrase-based encryption, the
following command within a batch file has been working well on
 Script wrapper for GNU PGP utility function: Decrypt a file
encrypted with password-based encryption
 Arguments: 1 - password that file was encrypted with
            2
- path to EFTS keystore
            3
- fully qualified name of decrypted file to create
            4
- fully qualified name of encrypted file to decrypt
 Watch it! - on Windows do NOT include space between %1 and the pipe
(|) - will get bad  passphrase error
echo %1| gpg --homedir %2 --batch --yes --passphrase-fd 0 --output %3
--decrypt %4
To decrypt a file encrypted via key-based encryption, the following
command within a batch file has been working well on Windows. Note that
this is same as previous example.  Only difference is that previous
one passed in encryption password under argument  while this one passes
keystore password under argument  Script wrapper for GNU PGP utility function: Decrypt a file
encrypted with key-based encryption
 Arguments: 1 - password to EFTS keystore
            2
- path to EFTS keystore
            3
- fully qualified name of decrypted file to create
            4
- fully qualified name of encrypted file to decrypt
 Watch it! - on Windows do NOT include space between %1 and the pipe
(|) - will get bad  passphrase error
echo %1| gpg --homedir %2 --batch --yes --passphrase-fd 0 --output %3
--decrypt %4
help me understand how I can run GPG to decrypt a file without human
intervention.  Currently I can use the --yes to handle all questions
but cannot feed in the passphrase.  I'm using v1.2.3 for windows and
am very new to the product.
This e-mail and any accompanying attachments are confidential. The
information is intended solely for the use of the individual to whom it
is addressed. Any review, disclosure, copying, distribution, or use of
this e-mail communication by others is strictly prohibited. If you are
not the intended recipient, please notify us immediately by returning
this message to the sender and delete all copies. Thank you for your
cooperation.

@_date: 2003-10-07 22:36:25
@_author: Frank Calfo 
@_subject: WARNING: unsafe permissions on homedir 
Running GPG on Linux, I get this warning:  WARNING: unsafe permissions on what should the permissions on the directory that contains the keystore be ?

@_date: 2003-10-08 18:46:14
@_author: Frank Calfo 
@_subject: decrypt failed - secret key unavailable 
Sounds to me like they did not encrypt their messages to you using your public key; they may have mistakenly encrypted it using their own public key - usually this message is accompanied with the id of the key that the message was encrypted with, if you see this you could make sure that the key identified is your public key
Otherwise, it may be that the technique you are using to decrypt the message is not supplying the correct passphrase for your keystore (assuming your keystore is passphrase protected)  - so you could also check to make sure that you are supplying the correct keystore passphrase when you're decrypting the message

@_date: 2003-10-09 22:43:31
@_author: Frank Calfo 
@_subject: Batch Program Needs to Bypass the Passphrase 
Sorry if this has already been answered but I thought I'd pass along my two cents since I just finished a long struggle
with this (thanks to help from this group!) :
I have created a few batch files to automate encryption and decryption, even with a keystore that is password protected
(GPG version 1.2.1).
To encrypt a file via key-based encryption and sign it with your own secret key the following command within a batch file
has been working well on Windows:
 Script wrapper for GNU PGP utility function: Encrypt a file using key-based encryption
 Arguments: 1 - password to  keystore
            2 - path to  keystore
            3 - id of public key to use to encrypt the file - should be key of client receiving the file
            4 - fully qualified name of file to encrypt
 Note: since client is prepared for key-based encryption and since we have the keystore password
 this script will also sign the encrypted file to provide extra security
 Watch it! - on Windows do NOT include space between %1 and the pipe (|) - will get bad
 passphrase error
echo %1| gpg --homedir %2 --batch --yes --passphrase-fd 0 --always-trust --sign --recipient %3 --encrypt %4
To encrypt a file via password-based encryption WITHOUT signing it the following command within a batch file has been
working well on Windows:
At this point I hit some trouble if I tried to sign the encrypted file since that requires two passwords as input: the
password to use for encryption and
the password to use to access the keystore so the encrypted file can be signed.  I decided to avoid the problem by not
signing the encrypted file -
that left me with just one input (the encryption password) which this script can handle.
I figured that not signing the encrypted file is ok in this scenario since we're using password-based encryption.  If
client receiving the file wants to verify my signature, they need to have my public key - and if they have my public key
then they're familiar with key-based encryption so why not use key-based encryption instead of password based encryption?
Thus, I'm treating password-based encryption as a less stringent, easier form of encryption where
lack of signed file is not all that bad.  If the receiver wants extra security of a signed file, then they just need to
step up to key-based encryption (again, they'll need to start dealing with keys to verify the signature anyway so this
should not be a big deal).
 Script wrapper for GNU PGP utility function: Encrypt a file using password-based encryption
 Arguments: 1 - password to encrypt the file with
            2 - path to  keystore
            3 - fully qualified name of unencrypted file to encrypt
 Note: since client is assumed to be not prepared for key-based encryption if they are using
 this option and since we do not have a good way to provide the keystore password for
 this option, this script will not sign the encrypted file
 Watch it! - on Windows do NOT include space between %1 and the pipe (|) - will get bad
 passphrase error
echo %1| gpg --homedir %2 --batch --yes --passphrase-fd 0 --symmetric %3
To decrypt a file encrypted via passphrase-based encryption, the following command within a batch file has been working
well on Windows:
 Script wrapper for GNU PGP utility function: Decrypt a file encrypted with password-based encryption
 Arguments: 1 - password that file was encrypted with
            2 - path to  keystore
            3 - fully qualified name of decrypted file to create
            4 - fully qualified name of encrypted file to decrypt
 Watch it! - on Windows do NOT include space between %1 and the pipe (|) - will get bad
 passphrase error
echo %1| gpg --homedir %2 --batch --yes --passphrase-fd 0 --output %3 --decrypt %4
To decrypt a file encrypted via key-based encryption, the following command within a batch file has been working well on
Windows. Note that this is same as previous example.  Only difference is that previous one passed in encryption password
under argument  while this one passes keystore password under argument  Script wrapper for GNU PGP utility function: Decrypt a file encrypted with key-based encryption
 Arguments: 1 - password to  keystore
            2 - path to  keystore
            3 - fully qualified name of decrypted file to create
            4 - fully qualified name of encrypted file to decrypt
 Watch it! - on Windows do NOT include space between %1 and the pipe (|) - will get bad
 passphrase error
echo %1| gpg --homedir %2 --batch --yes --passphrase-fd 0 --output %3 --decrypt %4

@_date: 2003-09-26 23:16:02
@_author: Frank Calfo 
@_subject: passphrase-fd works on linux but not windows 
Hi All,
I'm using gpg 1.2.1 on Linux and Windows for key-based encryption using a keystore that is passphrase protected
I'm passing in the keystore passphrase via the passphrase-fd 0 strategy
This command successfully encrypts a file when running on Linux:
   echo $1 | gpg --homedir $2 --batch --yes --passphrase-fd 0 --always-trust --encrypt --sign --recipient $3 $4
but the mirror of this does not work when running on Windows 2000 - it keeps returning error: bad passphrase (even though passphrase passed in is    echo %1 | gpg --homedir %2 --batch --yes --passphrase-fd 0 --always-trust --encrypt --sign --recipient %3 %4
Is there something about using the passphrase-fd 0 option to send in the KEYSTORE (not encryption) passphrase that it works under Linux but not Windows ?
