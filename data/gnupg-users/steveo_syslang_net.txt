
@_date: 2009-08-12 00:33:43
@_author: Steven W. Orr 
@_subject: pool.sks-keyservers.net connection error 
Hash: SHA1
On 08/11/09 12:04, quoth Jason Locklin:
I'm sorry but I switched from my ISP's DNS as my resolver to OpenDNS and life
has generally been better ever since. I found that a major performance issue
for lots of people is that the resolver provided by the ISP is frequently very
slow. I'd like to know more specifics on "they break lots of stuff".
I'm completely stumped as to what you might have to offer but if there's
something I should know I really want to hear it.

@_date: 2009-08-13 13:09:34
@_author: Steven W. Orr 
@_subject: Two convicted in U.K. for refusal to decrypt data 
Hash: SHA1
On 08/13/09 09:41, quoth the dragon:
Scuze me? I thought this was the gnupg list! I'm sorta new at this stuff but
I'm expecting just a bit more expertise from the people contributing to this
First of all, I am running Thunderbird + Enigmail and I have gone out of my
way to set "Add my own key to the recipients" to be OFF. I very much want
email that I encrypt to others to not be readable by me at all. I am not a
child pornographer or a terrorist and I do not have anything to hide except my
own personal privacy. My personal choice is that if I send a message to
someone and it is encrypted then I do *not*, by default, want to be able to
see what I sent in my own sent-mail folder. If I want that option then I can
simply Bcc myself when I send it.
Second, I happen to be a Defendant in a case in US Federal Court. (Ever heard
the phrase "Don't make a Federal case out of it?") They did. And they're right
now in the process of losing big time against us. My only regret is that when
we were served and I had nothing to hide, I wish that some of my email that I
was required to turn over as part of the Discovery process had been encrypted.
I would dearly have wanted them to come to me and say "Hey! This is encrypted
so you have to decrypt it." and my response would have been "Sorry Your Honor,
but I have no ability to decrypt that message. It can only be decrypted by the
And yes, when I first started learning about this stuff, I did initially add
my key when encrypting and between Enigmail and gnupg.conf and gpg-agent.conf
it actually took a bit to figure out how to shut it off.
So, when we talk about "chances that you *don't* know the key for the
encryption is so slim as to be nonexistant", I think it's time for a few of us
to take a step backwards and remember what the issue is here. As it sits right
now, I do *not* know if the people who were in trouble in the UK are the
encryptors or the decryptors and I also don't know if the encryptors even
added their own keys to the message.

@_date: 2009-08-21 10:28:20
@_author: Steven W. Orr 
@_subject: Confused about signing inline vs siging with attached signature. 
I decided to try sending my email with a signature attached instead of using
an inline signature. Now my friend with Outlook Express is telling me that the
message body is blank and that in order for him to see the message, he now has
to open the text attachment. (He is not verifying the signature.) I'm using
gpg2/Thunderbird/Enigmail and I sent a message to an address which then
forwards back to me. Here's the structure I see when it comes back:
Organization: SysLang
User-Agent: Thunderbird 2.0.0.21 (X11/20090320)
OpenPGP: id=F0BE3724;
X-GPG-PUBLIC_KEY: X-GPG-FINGRPRINT: 5E2A 0119 8E98 730A 87DF  205C 4485 72E1 F0BE 3724
 protocol="application/pgp-signature";
 boundary="------------enig3D16DCFA59224E3B4529154E"
X-Spam-Status: No, score=-3.0 required=5.0 tests=AWL,BAYES_00 autolearn=ham
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on saturn.syslang.net
This is an OpenPGP/MIME signed message (RFC 2440 and 3156)
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"
Should I not be using the MIME signature or is there something he should
change at his end (besides OE), or is this question something that is not gpg2
related in the first place?

@_date: 2009-07-01 15:01:58
@_author: Steven W. Orr 
@_subject: Helping a friend setting up with gpg and gpgoe 
Hash: SHA1
I got my friend to install WinPT which seems to include GnuPG. He created his
keypair. He received my key and signed my key. He sent me my key back and he
also sent me his key which I then signed and sent back to him. So far, so good.
When he tried to send me a test message that was encrypted and signed, I had a
gpg command line and output:,/usr/bin/gpg2 --charset utf8  --batch --no-tty

@_date: 2009-07-01 21:57:02
@_author: Steven W. Orr 
@_subject: Solved: Helping a friend setting up with gpg and gpgoe 
Hash: SHA1
On 07/01/09 15:01, quoth Steven W. Orr:
I was able to solve the problem. I'm replying to the list for everyone and for
 all future generations.
He was sending text and html as separate attachments.  For reasons that are
not completely clear to me, I was able to verify and decrypt the message from
inside Thunderbird/Enigma by selecting: View->Message Body As->Plain text.
So, people shou7ld always *send* plain text, but in case they don't, this
trick may help the situation.

@_date: 2009-06-13 02:24:35
@_author: Steven W. Orr 
@_subject: Need help understanding the difference between assigning owner trust 
Hash: SHA1
There's a pgp concept that I'm not comfortable with. It has to do with the
difference between owner trust and key validity. And I say comfortable, not
because I don't like it or that I don't think it doesn't work; I just don't
feel like I understand it well enough to be doing it right.
When I got your key, AND I know it came from you, then I set your key in my
ring with owner trust of "trusted". But I didn't set the key validity. My
understanding is that if I set your key validity then I'm signing my
public key with your public key. (Someone please correct me if I'm way off.)
Then for other people to see that I trust you, I would then have to re-upload
my public key to the keyserver network. Only those people who would refresh my
key from the servers would then see that I trust you.
Can someone please confirm that what I just said is correct?
If this is true, then how do I know how often I need to refresh the public
keys that I have on my keyring?

@_date: 2009-06-19 18:45:26
@_author: Steven W. Orr 
@_subject: Why do people send email with an attached public key? 
Hash: SHA1
I see that there are some people who send their messages (especially to this
list) with their messages signed via an attached signature. I can't imagine
that this question hasn't been asked before, but is there an advantage to
doing this vs having an inline signature?
BTW, I run a mailinglist which strips all attachments. If I use a signature
attachment, am I further limiting an already limited audience?

@_date: 2009-06-23 00:18:01
@_author: Steven W. Orr 
@_subject: cannot pass in input and passphrase at the same time in batch 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
On 06/22/09 22:25, quoth Joe Korn:
I'm gonna go out on a limb here and suggest that gpg is not going to look for
a passphrase from stdin. Instead it's going to look for input from /dev/tty.
IF I'm right (and I'm just guessing here) then the only way to get what you're
trying to do is to write your program in expect.
Expect: The program for people who have to be running from a console.

@_date: 2009-06-24 10:07:30
@_author: Steven W. Orr 
@_subject: Separate stdout and stderr -- Any Command or shell script?? 
Hash: SHA1
On 06/24/09 02:56, quoth littleBrain:
When a program writes to stdout it goes to channel 1. stderr is channel 2. So
if you do something like
pgp [args] 1> out 2> err
then you can do separate things with the output versus the error channels.
You can try it yourself. Just run your command different ways:
cmd 1> /dev/null       # See only error messages
cmd 2> /dev/null       # See only the output and discard the error channel
cmd 2>&1               # See all of the output and error channel
                       # all delivered to the output channel
cmd 1>&2               # Send everything to the error channel
cmd > outpluserror 2>&1 # Put both output and errors into one file.
Wasn't that easy?
Make sense?

@_date: 2009-05-06 13:18:51
@_author: Steven W. Orr 
@_subject: Question about gpg-agent 
Hash: SHA1
I'm running Fedora 10 (if anyone cares) with gnupg2-2.0.10-1.fc10.i386.
I'm up and rolling, but I'd like to know more about configuring the agent. I started the agent via the recommended incantation:
eval "$(gpg-agent --daemon)"
in my ~/.kde/AutoStart
and I set
in my ~/.gnupg/gpg.conf
I'm not seeing a place that defines what the default values are for the gpg-agent. I wanted to change the default TTL for a passphrase so I said
default-cache-ttl 6000
in my .gnupg/gpg-agent.conf
But I also have a gpa.conf and I don't know which is the right place to put the change or how to tell what the current settings are.
Also, in my gpg.conf file I have
default-key  5E2A01198E98730A87DF205C448572E1F0BE3724
but in the gpa.conf, I have the following.
*519 > cat .gnupg/gpa.conf
default-key ADA6F1B17880A139848FCE939FD2865783254088
keyserver hkp://random.sks.keyserver.penguin.de
So basically, I'm confused and I don't see any docs to help. Can someone

@_date: 2009-05-07 11:39:13
@_author: Steven W. Orr 
@_subject: How to import a key from GPG 1.4.9 to PGP ? 
=>> How to import a key pair (my own secret and public keys) from GPG 1.4.9
=>> to PGP 6.5 ?
=>This is generally not worth doing.  It can be done, but it is not
=>Is there any possibility of installing PGP 9.x on your XP machine instead?
Great. I'd love to know what's going on here. I tried to read  Faramir's  message and I get a command failure.

@_date: 2009-05-12 10:32:52
@_author: Steven W. Orr 
@_subject: Decryption streaming 
=>What is?a good way to?write a C++ app?to decrypt multiple
=>large?PGP-encrypted files simultaneously into memory???I cannot have
=>the?plaintext output in a file on disk?at any time.? Preferably,?one block
=>of data from the file?will be decrypted at a time.? Therefore, the entire
=>file or files will not need to reside in memory.
Hi Beth, I don't have the answer to your question, but I will say that you need to tighten up on your specs: If your program is running under a virtual memory model and you don't want your data to end up on disk then you will have to do something with a large hammer to lock pages of memory, or something along that line.

@_date: 2009-05-17 19:21:35
@_author: Steven W. Orr 
@_subject: There are actually two public keys? 
On Saturday, May 16th 2009 at 23:40 -0000, quoth David Shaw:
=>> > Can anyone explain why there is a difference between signing and
=>> > encrypting keypairs, even for the same type (RSA)?
=>> =>> As far as I've understood from the documentation, one of the reason
=>> should be that it would be good practice to keep the signing key valid
=>> indefinitely (thus, having one that never expires so old signatures
=>> can be verified too) and renew the cryptographic one pretty often for
=>> security reason. As before, I'd love to get confirmations or denials
=>> of that ;), and if there's else about it.
=>That's one of the reasons.  There were actually a good few reasons for the
=>switch at the time (the "PGP 3" timeframe, which became the PGP 5.0 product).
=>One reason was legal, and not technical.  RSA was still patented at the time,
=>so that couldn't as easily be used.  DSA was chosen, but DSA can't encrypt,
=>which pretty much required a multiple key (primary key + subkeys) solution.
=>In addition, though, the multiple key solution was chosen for its flexibility,
=>as you noted.  It is handy to be able to make multiple subkeys and regenerate
=>them as needed.
=>One thing the multiple subkey design makes possible is to keep the primary key
=>offline altogether, and just use subkeys for all the day to day encryption and
=>signing needs.  In this way of working, the primary key is only used for two
=>purposes: to make new subkeys when that becomes necessary, and to sign other
=>people's keys.  When it is not in use (i.e. most of the time), the primary key
=>is stored on separate media (say, a CD-ROM or USB stick).  See the
=>--export-secret-subkeys description in the GPG manual for more on this.
=>Note, though, that if you want a single key for everything, you can still do
=>that.  Generate yourself an RSA key using the --expert flag, and you can
=>create a key that is capable of both encrypting and signing in a single key.
=>It's unusual, and I don't recommend it, but GPG will happily use it.
This is somewhat of a revelation to me, but I admit I'm a little new to this so  can't claim that it's a big revelation.
I have read up on the theory of asymmetric crypto and I'm comfortable with that side of it, but I'd like to learn more on the technical side, especially as it pertains specifically to gpg. I have read the GPG and PGP book by Lucas and I also read the old PGP book by Garfinkel. I look at the output of gpg2 -K and I never actually saw anything that describes what the sec, uid and ssb rows mean.  I don't see a concise description of how and when the different data items are used to ref a key in a gpg command, e.g., when do I use a fingerprint? what's the proper thing to use when specifying an operation? It's sort of analogous to knowing how to create a complex definition in C and also being able to deref it. (Most programmers, don't usually get it right when they try to distinguish between an array of ptrs to ints vs a ptr to an array of ints.) How do I make use of multiple subkeys and when and why do I want to do this? Things like that. Any suggestions?

@_date: 2009-05-20 18:31:23
@_author: Steven W. Orr 
@_subject: Can't enter passphrase in su session. 
=>I have an account, bob, on a machine that is used for building rpms
=>and then creating and signing a repository.
=>If I log in to the machine as bob via ssh and run
=>$ gpg -a --detach-sign somedir/repodata/repomd.xml
=>then all is well.
=>As the bob account will be used by multiple people I want to block ssh
=>logins for bob and have people log in via ssh with their own account
=>and use 'su -' to become the user. This then leaves a trail in the log
=>of who became bob when. But, if I log in to the machine as myself,
=>then do
=>$ su - bob
=>Then run
=>$ gpg -a --detach-sign somedir/repodata/repomd.xml
=>I get
=>gpg: using PGP trust model
=>gpg: key B97DE878: accepted as trusted key
=>You need a passphrase to unlock the secret key for
=>user: "Bob"
=>4096-bit RSA key, ID B97DE878, created 2009-05-19
=>can't connect to `/home/bob/.gnupg/S.gpg-agent': No such file or directory
=>gpg: no running gpg-agent - starting one
=>gpg-agent[29808]: command get_passphrase failed: Operation cancelled
=>gpg: cancelled by user
=>gpg: no default secret key: General error
=>gpg: signing failed: General error
=>I'm never given a chance to enter the passphrase, gpg just declares
=>failure and tells me I canceled the operation. Which I didn't.
=>I've compared the output of 'env' for both an ssh login session and
=>'su -' session and apart from a few variables relating to ssh, they're
=>the same.
=>There must be something different about the sessions that explains why
=>I'm never given a chance to enter the passphrase in the 'su -'
=>session, but I'm at a loss as to what.
=>I did try searching the mailing lists and Google, but 'su' results in
=>an huge amount of (at least seemingly) irrelevant hits, so I gave up
=>fairly quickly!
=>Can anyone offer any insight in this issue?
I'm going to take a stab at this one. If I'm wrong then I expect to be suitibly chastised.
It seems like you need to read the man page on gpg-agent to make sure that whether you log in directly, via su or via ssh, that the GPG_AGENT_INFO variable be properly set. If you log in via X then you probably have the variable set as part of your session. su will prevent that env var from being passed through by default. That is configurable by using -m or by using sudo instead of su and suitably configuring your sudoers file. Also, ssh can be configured to set the variable, but you probably jujst want to do it in your .bash_profile dependant on how DISPLAY is set.

@_date: 2009-05-21 13:19:44
@_author: Steven W. Orr 
@_subject: Can't enter passphrase in su session. 
=>On Wed, 20 May 2009 20:00:42 +0100
=>> Can anyone offer any insight in this issue?
=>In .bash_profile, you will have something *like* this:
=>if test -f $HOME/.gpg-agent-info &&    kill -0 `cut -d: -f 2 $HOME/.gpg-agent-info`\
=>2>/dev/null; then
=>     GPG_AGENT_INFO=`cat $HOME/.gpg-agent-info`
=>     export GPG_AGENT_INFO
=>     eval `/usr/bin/gpg-agent --daemon`
=>     echo $GPG_AGENT_INFO >$HOME/.gpg-agent-info
=>You *may* have something like this:
=>if [ -f /etc/bashrc ]; then
=>        . /etc/bashrc
=>The code to launch gpg-agent needs to be in .bashrc if you want it to
=>execute for su users. If your .bash_profile executes your .bashrc as
=>above then you can remove the definition from .bash_profile.
This topic is getting far more complicated than you might expect. Setting environment variables needs to be done from your .bash_profile . It happens once when you log in and all child processes inherit the resulting variables. If you use su then you do not go through the .bash_profile unless you use the - option. i.e., "su - bob" will go through bob's .bash_profile but "su bob" will only go through the .bashrc .
The same is true of ssh. If you ssh to a host to create a session then you will go through the .bash_profile but if you ssh to a host to just execute a command then you will only go through the .bashrc . The proper way to deal with this is to:
* Source in your .bashrc from your .bash_profile
* Set all of your environment variables in your .bash_profile
* Check in your .bashrc to see if PS1 is set. If not then you are not in an interactive session and you need to set critical environment variables. Usually PATH is the only one you need to set.
if [[ -n "${PS1}" ]]
    : Do interactive stuff. Set aliases and variables, etc.
    . ~/.bash_pathset

@_date: 2009-05-27 08:23:51
@_author: Steven W. Orr 
@_subject: how to sign files inside a folder? 
=>> Hello,
=>> 	I saw a question in the support list in Spanish language, and it is
=>> about how to sign files inside a folder, in Windows OS, without using
=>> additional tools. The goal is to have a tree of folders, with files
=>> inside, and to sign individually each file (with detached signature, if
=>> I am not wrong).
=>> =>> 	Since I have never had to do something like that, I don't have the
=>> faintest idea about how to do it, if it is possible to do it.
=>> =>>         Compressing the folder an signing the compressed file is what
=>> the person behind the question wants to avoid.
=>I saw that one.
=>I don't know about doing it "without using additional tools". The
=>windows CMD shell doesn't give one a boatload of useful commands.
=>I'd pull the RC1 of MSYS 1.0.11 cause this is a snap with bash and find.
=>Using his .TXT example:
=>cd =>for file in $(find . -name \*.[tT][xX]][tT] -print);	\
=>  do echo $file; 						\
=>  gpg --passphrase deafbeef -u 0xdecafbad -sb $file ; \
fyi, that's why they invented -iname option. :-)
for file in $(find . -iname \*.txt -print);
the semi is not needed.
But if the list of filenames is large, you could end up overflowing your shell buffer. Another way to do it that would prevent that from find . -iname \*.txt -print | while read file
  echo $file
  gpg --passphrase deafbeef -u 0xdecafbad -sb $file

@_date: 2009-05-30 23:16:29
@_author: Steven W. Orr 
@_subject: Avoid pinentry-gtk-2 when using console! 
Whatever program you're using that is invoking gpg has the DISPLAY variable set. What you can do is to create a shell wrapper that shuts DISPLAY off. e.g., I'm running alpine, so I *could* create an alpine command a la
 /bin/bash
unset DISPLAY
The only caveat is that whatever program you use will suffer the loss of access to your entire DISPLAY, not just pinentry
