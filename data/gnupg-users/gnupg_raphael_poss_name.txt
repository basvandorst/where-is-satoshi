
@_date: 2006-04-07 09:56:33
@_author: =?ISO-8859-1?Q?Rapha=EBl_Poss?= 
@_subject: Automated processes 
You can:
- use gpg-agent, or
- echo passphrase | gpg --batch --passphrase-fd 0
Of course the latter provides little to no security.

@_date: 2006-02-27 16:18:24
@_author: =?ISO-8859-15?Q?Rapha=EBl_Poss?= 
@_subject: Using GnuPG subkeys at two insecure locations 
Hi all,
I have read Adrian's tutorial at  and related documents, and I am yet unsure how to apply this technique to my situation where I have _two_ "insecure" locations instead of one.
You will find below: description of situation, my needs, how I did achieve something using Adrian's technique for my needs, tests, and additional questions. You can jump straight to the end if you are not interested by the details.
Here is the situation:
- laptop as main personal computer, carried around and therefore - windows workstation at work, not-so-secure as well,
- some other computer in "hidden" place, secure and not connected to the What I would like to:
- send encrypted email with the insecure computers,
- sign email with both insecure computers,
- send encrypted-to-self email from the windows workstation, that can be decrypted on the laptop
- sign other keys with the laptop
- read encrypted emails sent by other people to me on the laptop
- no private encryption key on the windows workstation
- have a subkey for "secure" communication attached to my primary key, so that people can send me stuff that can be read only on my secure computer
Here is what I did on the secure computer:
1. create a primary DSA key id# 0x5024FAE3
2. create a DSA signing subkey id# 0x66808804 for use on the windows 3. create a DSA signing subkey id# 0xACD488B7 for use on the laptop
4. create an EL-Gamal encryption subkey id# 0xB8838617 for use on the laptop
5. create an El-Gamal encryption subkey id# 0x7FEFD6B8 for use on the secure computer
6. export public keys to file
7. backup everything
8. delete 0xACD488B7 0xB8838617 0x7FEFD6B8
9. export secret subkeys 0x66808804, import them on windows workstation with public keys
10. restore everything
11. mark 0xACD488B7 as able to sign other keys
12. delete  0x66808804  0x7FEFD6B8
13. export secret subkeys 0xACD488B7 0xB8838617, import them on laptop with public keys
14. restore everything
Here are the tests I did:
- send signed mail and verify them on either insecure computer or 3rd-party with access to only public keys
- send encrypted mail with any computer and decrypt it on the laptop
- encrypt data using the secure key, decrypt it on the secure computer
Here are the tests I did not do yet (as of today, I don't have access to the secure computer):
- sign other keys, check signatures, etc.
- sign other keys on the laptop without access to the primary key,
- test everything with PGP
Now, questions:
Q1. how do you think other software (PGP, old GPG, ...) behave when they see multiple encryption public subkeys?
Q2. will signatures on other keys made with the laptop be recognised by other software? Is there anything I should care for w.r.t trust when I sign keys?
Q3. do you think it is better I do not entrust the laptop subkey to sign other keys?
For that last question I have to state the difference between the windows workstation and the laptop: the laptop is "more" secure than the workstation. If the laptop is compromised I would know about it immediately, and issue any relevant revocation certificates straight away. Any encrypted data on the laptop is deleted securely after I have decrypted it.
The windows workstation is quite secure (read: well-maintained configuration, good IT staff and workplace access control) but could be compromised at any time *by the company* without me knowing it, and data backups including my secret keyring will float around for several years. I will probably revocate company-related keys only when I leave the employment. Or maybe on a yearly basis. I don't know yet.
Therefore, any signature made with the laptop before the key is revoked should be trusted (as much as a signature made with the primary key), whereas any signature made with the windows workstation is valid only inside the company.
Q4. How can I mark my level of trust for the different subkeys using gnupg?
Thanks in advance for any enlightenment,

@_date: 2006-06-02 11:59:07
@_author: =?ISO-8859-1?Q?Rapha=EBl_Poss?= 
@_subject: Cannot decrypt this file for the life of me 
webdevlv schreef:
Ok, I understand your issue. The bits you have are:
- the encrypted file (I assume it's file.gpg)
- the secret key (file_sec.asc)
- the public key (file.asc)
- the password to use the secret key.
What you must do:
1. import the keys into your key ring ("gpg --import file_sec.asc" on the command line)
2. decrypt the file using the passphrase ("gpg file.gpg" on the command

@_date: 2006-03-10 21:27:25
@_author: =?ISO-8859-1?Q?Rapha=EBl_Poss?= 
@_subject: Uid management for IM 
You can create a user id without an email address with --allow-freeform-uid
Just my 2c.

@_date: 2006-03-21 14:58:11
@_author: =?ISO-8859-1?Q?Rapha=EBl_Poss?= 
@_subject: batch mode lack of randomness FreeBSD 
This is generally a very *bad* idea in terms of cryptography: (relatively) low random quality that is not suitable at all for generating secure key pairs.
That is covered in the GnuPG documentation.
This on the other hand is a pretty good idea.
It is always "the way it is" when you attempt to use the entropy pool on a remote system that you control through the network : there are simply not enough unpredictable physical events around the server to gather quickly more entropy. Also happen with linux, or other flavours of Mind that Henry Herts Hobbits has a point here: you should not be generating keys that you intend to be secure using a remote shell access.
Rationale for this is covered in the GnuPG documentation as well.

@_date: 2006-03-22 14:46:15
@_author: =?ISO-8859-1?Q?Rapha=EBl_Poss?= 
@_subject: Passphrase on the command line 
Say server A has the original data and server B has the backup.
You can do from server A:
   backup_tool | ssh user dd of=/path/to/backup
or you can do from server B:
   ssh user backup_tool | dd of=/path/to/backup

@_date: 2006-03-29 10:19:49
@_author: =?ISO-8859-1?Q?Rapha=EBl_Poss?= 
@_subject: Is there any GnuPG version which works with Windows Mobile 5.0? 
Actually you already have a number of PDAs in Europe and Japan with Linux-embedded and either Opie (Qt) or GPE (Gtk) for the user environment, but I do not know of any development effort to make a GUI for gnupg on these (although the command-line version does already work).

@_date: 2006-03-29 11:25:31
@_author: =?ISO-8859-1?Q?Rapha=EBl_Poss?= 
@_subject: Remote use of keys on smartcard via gnupg-agent? 
Hi Jimmy,
People who are serious about security would probably like to have the crypto done by the smartcard itself, or at least the computer they are sitting in front of. Therefore a better setup would be to have the encrypted data transmitted from your distant ssh host to your local host for decryption, and decrypted data sent back to your ssh host for use (or just viewed locally).
If you are just using mutt in your remote ssh shell, you could configure manually something along these lines:
1. connect to your remote ssh host using remote port forwarding, with 2. on your local host, run something like this in an interactive shell:
   while true; do nc -l 4242 | gpg ; done
3. configure your remote mutt to send the encrypted data to port 4242 on the same host, so that it gets forwarded back via your ssh connection.
This way your local gpg will get its input from the remote mutt.
I did not test this, but you get the idea.

@_date: 2006-05-26 13:31:36
@_author: =?ISO-8859-15?Q?Rapha=EBl_Poss?= 
@_subject: question about compiling gpg with cygwin 
Hi David,
David Gray schreef:
Note that AES256 is a symmetric cipher.
Basically, when using GnuPG to crypt data, first a symmetric key is generated to encrypt the data using the symmetric cipher (AES256) in your case, then the symmetric key is encrypted using the public key of the recipient and bundled with the message.
That is, whenever you encrypt data with public keys in GnuPG you are using two algorithms: one assymetric cipher to encrypt the key of the symmetric cipher which crypts the data.
Then you have to decide which asymetric cipher you want to use (DSA, RSA, ...)
The option you are looking for is probably --cipher-algo, however you may be better served by the so-called "algorithm preference" list attached to the public/private key pairs you are using.
