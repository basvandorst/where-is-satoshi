
@_date: 2005-12-07 19:07:54
@_author: Aredeji 04 
@_subject: Assertion Failed 1.4.2 
I am trying to generate a key pair using the --batch option.
At first it worked but now I keep getting the following error:
gpg: Generating a standard key
Assertion failed: pkt->pkt.generic, file build-packet.c, line 74
I tried using the following patch, but it did not work:
Index: keygen.c
--- keygen.c	(revision 3850)
+++ keygen.c	(working copy)
 -3243,15 +3243,21 static int
write_keyblock( IOBUF out, KBNODE node )
-    for( ; node ; node = node->next ) {
-	int rc = build_packet( out, node->pkt );
-	if( rc ) {
-	    log_error("build_packet(%d) failed: %s\n",
+  for( ; node ; node = node->next )
+    {
+      if(!is_deleted_kbnode(node))
+	{
+	  int rc = build_packet( out, node->pkt );
+	  if( rc )
+	    {
+	      log_error("build_packet(%d) failed: %s\n",
-	    return G10ERR_WRITE_FILE;
+	      return G10ERR_WRITE_FILE;
+	    }
     }
-    return 0;
+  return 0;
Please let me know how I can fix this problem.
Best wishes,
Express yourself instantly with MSN Messenger! Download today - it's FREE!
