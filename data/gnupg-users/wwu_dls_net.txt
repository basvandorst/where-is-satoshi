
@_date: 2006-11-14 22:24:16
@_author: Wei Wu [H] 
@_subject: how to create a symmetric cipher  
Hi there,
I want to create a symmetric cipher such as AES to encrypt some data, and
think gpg (GnuPG Version 1.4.2.1) may do this. But I found it gives only
three options, none is symmetric. I would appreciate if anyone can point me
to another or way to do it?
gpg --gen-key    (1) DSA and Elgamal (default)
   (2) DSA (sign only)
   (5) RSA (sign only)

@_date: 2006-11-14 22:58:04
@_author: Wei Wu [H] 
@_subject: how to create a symmetric cipher 
Well, my ultimate goal is to encrypt data, but I don't want to use
passphrase to do it as I believe it is not secure enough.
So my questions are:
1. How to create a symmetric key or cipher? With that, I may use another
tool to encrypt/decrypt.
2. Can gpg be used to do key based encryption? Not passphrase based.
-----Original Message-----
On Behalf Of David Shaw
Sent: Tuesday, November 14, 2006 3:40 PM
I'm a bit confused as to what you are asking, but if the question is
"how do I encrypt data using a symmetric cipher?", then the answer is
"gpg --symmetric (thefile)"
Gnupg-users mailing list

@_date: 2006-11-14 23:02:03
@_author: Wei Wu [H] 
@_subject: how to create a symmetric cipher  
Thank you. As I said in my other posts, I don't want to use passphrase based
encryption, and am looking for key based solution.
Also I don't need a private/public key-pair based solution as symmetric key
is more efficient.
-----Original Message-----
On Behalf Of Joseph Oreste Bruni
Sent: Tuesday, November 14, 2006 3:41 PM
gpg --symmetric --encrypt
The default is CAST5, but you can specify the algorithm using -- Gnupg-users mailing list

@_date: 2006-11-14 23:37:38
@_author: Wei Wu [H] 
@_subject: how to create a symmetric cipher  
Good to know the details of this process.
I don't have a need to distribute data to other users, and simply need to
protect some local data and only the person with the key is allowed to
decrypt the data. That's the reason I want a symmetric key based solution.  -----Original Message-----
On Behalf Of Joseph Oreste Bruni
Sent: Tuesday, November 14, 2006 4:17 PM
When you encrypt to a person's public key you are not using the  public key to encrypt the data. First, a random session key is  generated and used to encrypt the data using a symmetric cipher. Then  only the session key is encrypted using the public key and appended  to the file. The recipient uses his private key to decrypt the  session key which is then used to decrypt the data via the symmetric  cipher. This way you avoid passing symmetric keys in the clear.
If you are looking to build a custom solution, you might be better  off looking at the OpenSSL crypto API.

@_date: 2006-11-15 04:51:01
@_author: Wei Wu [H] 
@_subject: how to create a symmetric cipher 
Thanks to all for offering help. I think I did not describe clearly what I
need (actually for one of my friends). Let me know if what I intend to do make no sense.
The data to be protected resides on a fixed harddisk in a Windows computer.
I have a tool on Windows platform that does encryption using either a
passphrase or a key file. Use of a key file is recommended as it is more
secure (assuming passphrases can be cracked relatively easily). The key file
is expected to be stored separately in a removable disk. So I need a tool to
create a key. I checked a few key tools such as java keytool and gpg, but their genkey
option does not support the generation of a symmetric key/cipher.
I read the script you (Henry) sent me. Though it does show how to do
symmetric encryption, I don't see how it produce a symmetric cipher. Basically, I need to do the job in two steps:
1. create a symmetric key
2. encrypt/decrypt using the key
-----Original Message-----
On Behalf Of Henry Hertz Hobbit
Sent: Tuesday, November 14, 2006 7:00 PM
I already sent you some scripts to do it off-group.  I am puzzled about
this though.  If you looked at the mail archives, there is Seahorse for
Gnome users:
I must confess I am baffled by your statements.
1. Creating a key, any key, without a pass-phrase is less safe (I am
   thinking of something like SSH or SSL) than with a pass-phrase.
   If you use the default key with SSH or SSL, all that is necessary
   is to get the key you are using.  Once I can do that I can pretend
   to be you.  But if you have a pass-phrase, even if they steal your
   key, they still need the pass-phrase to pretend to be you.  How is
   that less secure?
2. A key is just a key.  Hypothetically, if gpg didn't complain about
   you not having a key you could hypothetically use gpg to do all
   of the symmetric encryption you want, but even there, a pass-phrase
   (which SHOULD be different than the pass-phrase bound with your key)
   is a good thing, not a bad thing.  If you encrypt a file without a
   pass-phrase, then I can use gpg to decrypt your file and do the same
   thing you did - don't use a passphrase and voila, the file you
   encrypted is decrypted for me without me having to type anything
   other than the decrypt command.
3. Your key is primarily used to sign things and for ASYMMETRIC
   encryption, not symmetric encryption.  By asymmetric encryption
   I mean stuff you send to others in email, using their public key
   to encrypt a message you send to them. Then only they can decrypt
   it using their secret key (which again requires they use their
   pass-phrase).  When you sign a file or a  message you send to
   them, you again must use the pass-phrase bound to your secret
   key when you to achieve the signing.  Would you want me to steal
   your key, sign a message to your boss and send it to him telling
   him that he is a dirty scum-bag?  Without a pass-phrase, that is
   entirely possible.  With a well designed pass-phrase, even if I
   steal your key it makes it very hard if not impossible for me
   to pretend to be you (and get you in hot water).  I can't do it
   without knowing the pass-phrase that must be used with your key.
I am trying to understand how a machine key that is used with something
like SSL used without a password is SAFER than something encrypted WITH
a password.  Every extra thing you can add for verification (and a pass-phrase is one of them), security is enhanced, not downgraded.
PS  Even the NSA has big problems with a symmetric cipher like TWOFISH
    or AES256.  The weakness isn't the algorithm.  The weakness if there
    is one is a BAD or even worse NO encryption PASS-PHRASE.  In fact,
    if you use no pass-phrase with symmetric encryption, you may as well
    not even encrypt the file at all.
Gnupg-users mailing list

@_date: 2006-11-15 14:44:03
@_author: Wei Wu [H] 
@_subject: how to create a symmetric cipher 
Yes. That's what I need. -----Original Message-----
Sent: Wednesday, November 15, 2006 12:46 AM
Wei Wu [H] schrieb:
No offense intended, but you are confusing the involved concepts quite
What you need for your tool is merely a file filled with random data.
This "key" is totally different from what gnupg, java keytool, openssl
etc. use as keys for their sophisticated protocols.
However, gnupg offers to generate some random bytes using the
--gen-random command, which is probably what you need:
--gen-random /0|1|2/ [/count/]
    Emit COUNT random bytes of the given quality level. If count is not
    given or zero, an endless sequence of random bytes will be emitted.
    PLEASE, don't use this command unless you know what you are doing,
    it may remove precious entropy from the system!
So you would need to issue something like "gpg --gen-random 2 32 >
file.key" to generate a 32 Bytes (=256 Bit) file full with random data
to be used as a key by your other tool.
Note that I do not have an idea whether "0" or "2" is the highest
"quality" level for the random data. Probably others can clarify, but I
assume that 2 is highest quality.
  Sven Radde
