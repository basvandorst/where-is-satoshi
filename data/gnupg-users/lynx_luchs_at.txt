
@_date: 2017-02-10 13:57:44
@_author: =?iso-8859-15?Q?Ren=E9?= Pfeiffer 
@_subject: Keyring operations _very_ slow 
I am using gpg and gpg2 with mutt and Icedove/Thunderbird (with Enigmail
plugin). My public keyring has grown to be very big since the email clients
auto-import unknown keys. Plus I did some signing and imported keys signing
keys from others.
The problem is that most GPG operations Enigmail does take a lot of time,
because key ring operations are very slow. I already disabled the trust
check by using --no-auto-check-trustdb, but a single "gpg2 --check-trustdb"
command takes a long time to complete:
some at host:~$ time gpg2 --check-trustdb
real    13m3.849s
user    10m56.379s
sys 2m7.458s
some at home:~$ The pubring.gpg file has 100 MB.
mutt doesn't suffer from this problem, because it calls the GPG commands
differently. Enigmail apparently creates a list of all keys in the public
keyring and selects from this temporary list. Since Enigmail assumes that
key ring operations do not take long, gpg2 command are called and run
parallel doing stuff with the key ring. I talked to the Enigmail
developers, but they refuse to add a lock mechanism because key ring
operations should not take this long.
Is there a way to "repair" or "defragment" the key ring file? I can also
provide more data if someone wants to debug this.
Best regards,

@_date: 2017-02-13 10:53:07
@_author: =?iso-8859-15?Q?Ren=E9?= Pfeiffer 
@_subject: Keyring operations _very_ slow 
On Feb 10, 2017 at 1610 +0000, Andrew Gallagher appeared and said:
I am using Debian 8 on all platforms and sadly have gpg (1.4.18-7+deb8u3)
and gpg2 (2.0.26-6+deb8u1). I am using both (gpg for mutt and gpg2 for
Icedove/Thunderbird), because gpg2 relies on pinentry which completely
breaks one of my workflows. I use gpg2 for key management though.
I tried that already, will try it again. I also suspect
old/"broken"/unusable keys.
