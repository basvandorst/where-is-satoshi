
@_date: 2008-11-05 08:05:44
@_author: Richard Hamilton 
@_subject: Problems with gpg-agent 
Running gnupg 2.0.7 on AIX 5.3 using pinentry-curses 0.7.3, batch operations work all day long but interactive gpg operations do not. The problem looks a lot like the tty problem described in multiple posts but I can?t see the problem in this configuration. The gpg-agent is running:
$ echo $GPG_AGENT_INFO
$ ps -ef | grep 1314974
     pgp 1314974       1   0 18:48:00      -  0:00 gpg-agent --daemon
The tty device is set:
$ echo $GPG_TTY
The agent configuration is:
pinentry-program /opt/TWWfsw/bin/pinentry
default-cache-ttl 1800
Tried several options in the agent configuration. In the the gpg.conf have the option use-agent. I cannot get interactive operations to work. An example (with agent debug set to guru):
pub  1024R/DDC90A19  created: 2005-06-07  expires: never       usage: SCEA
                     trust: never         validity: unknown
[ unknown] (1). CCEGASECPTEST
Command> sign
pub  1024R/DDC90A19  created: 2005-06-07  expires: never       usage: SCEA
                     trust: never         validity: unknown
 Primary key fingerprint: B4 E2 C2 AC 6E 8B 00 0E  8E 55 A2 F5 71 72 71 50
     CCEGASECPTEST
Are you sure that you want to sign this key with your
key "WILLIAMS " (3CDC9091)
Really sign? (y/N) y
You need a passphrase to unlock the secret key for
user: "WILLIAMS "
1024-bit DSA key, ID 3CDC9091, created 2002-11-13
gpg-agent[2203674]: handler 0x2001ffe8 for fd 6 started
gpg-agent[2203674.6] DBG: -> OK Pleased to meet you
gpg-agent[2203674.6] DBG: <- RESET
gpg-agent[2203674.6] DBG: -> OK
gpg-agent[2203674.6] DBG: <- OPTION ttyname=/dev/pts/4
gpg-agent[2203674.6] DBG: -> OK
gpg-agent[2203674.6] DBG: <- OPTION ttytype=xterm
gpg-agent[2203674.6] DBG: -> OK
gpg-agent[2203674.6] DBG: <- OPTION lc-ctype=en_US
gpg-agent[2203674.6] DBG: -> OK
gpg-agent[2203674.6] DBG: <- OPTION lc-messages=en_US
gpg-agent[2203674.6] DBG: -> OK
gpg-agent[2203674.6] DBG: <- GET_PASSPHRASE --data -- 1B20B1BCE6CA7A6CD354C7A42F2149A73CDC9091 X X gpg-agent[2203674]: DBG: agent_get_cache gpg-agent[2203674]: DBG: ... miss
gpg-agent[2203674]: starting a new PIN Entry
gpg-agent[2203674]: DBG: connection to PIN entry established
gpg-agent[2203674]: command get_passphrase failed: Operation cancelled
gpg-agent[2203674.6] DBG: -> ERR 67108963 ec=4.99
gpg: cancelled by user
gpg: signing failed: General error
Any insights would be appreciated.

@_date: 2009-12-10 10:05:59
@_author: Richard Hamilton 
@_subject: AUTO: Richard Hamilton is out of the office (returning 12/14/2009) 
I am out of the office until 12/14/2009.
I am out of the office until December 14th 2009.  If this is a production
problem, please call the solution center at 918-573-2336 or email Bob Olson
at Robert.Olson at williams.com. I will have limited mail and cell phone
Note: This is an automated response to your message  "Re: Can't import
valid GPG keys in Ubuntu" sent on 12/10/09 9:46:29.
This is the only notification you will receive while this person is away.

@_date: 2009-07-27 12:07:48
@_author: Richard Hamilton 
@_subject: AUTO: Richard Hamilton is out of the office (returning 07/28/2009) 
I am out of the office until 07/28/2009.
I am out of the office until July 28th 2009.  If this is a production
problem, please call the solution center at 918-573-2336 or email Bob Olson
at Robert.Olson at williams.com. I will have limited mail and cell phone
Note: This is an automated response to your message  "Re: IT Department
having the secure key." sent on 7/27/09 8:54:20.
This is the only notification you will receive while this person is away.

@_date: 2009-06-02 12:07:05
@_author: Richard Hamilton 
@_subject: AUTO: Richard Hamilton is out of the office (returning 06/08/2009) 
I am out of the office until 06/08/2009.
I am out of the office until June 8th 2009.  If this is a production
problem, please call the solution center at 918-573-2336 or email Bob Olson
at Robert.Olson at williams.com. I will have limited mail and cell phone
Note: This is an automated response to your message  "Re: Running GPG from
a PHP Script under Windows" sent on 6/2/09 9:58:59.
This is the only notification you will receive while this person is away.

@_date: 2009-05-05 20:06:53
@_author: Richard Hamilton 
@_subject: AUTO: Richard Hamilton is out of the office (returning 05/06/2009) 
I am out of the office until 05/06/2009.
I am out of the office until May 6th 2009.  If this is a production
problem, please call the solution center at 918-573-2336 or email Bob Olson
at Robert.Olson at williams.com. I will be checking my messages periodically.
Note: This is an automated response to your message  "Re: problems with
 sent on 5/5/09 16:22:43.
This is the only notification you will receive while this person is away.

@_date: 2010-06-17 16:04:41
@_author: Richard Hamilton 
@_subject: AUTO: Richard Hamilton is out of the office (returning 06/24/2010) 
I am out of the office until 06/24/2010.
I am out of the office until Thursday June 24th.  If this is a production
problem, please call the solution center at 918-573-2336 or email Bob Olson
at Robert.Olson at williams.com. I will have limited mail and cell phone
Note: This is an automated response to your message  "Re: Can we use GNUPG
with PGP for commercial use" sent on 6/17/10 10:21:32.
This is the only notification you will receive while this person is away.

@_date: 2010-03-19 16:06:26
@_author: Richard Hamilton 
@_subject: AUTO: Richard Hamilton is out of the office (returning 03/22/2010) 
I am out of the office until 03/22/2010.
I am out of the office until Monday March 21st.  If this is a production
problem, please call the solution center at 918-573-2336 or email Bob Olson
at Robert.Olson at williams.com. I will have limited mail and cell phone
Note: This is an automated response to your message  "Re: Secure unattended
decryption" sent on 3/19/10 14:26:09.
This is the only notification you will receive while this person is away.

@_date: 2011-01-02 16:12:45
@_author: Richard Hamilton 
@_subject: AUTO: Richard Hamilton is out of the office (returning 01/03/2011) 
I am out of the office until 01/03/2011.
I am out of the office until Monday January 3rd, 2011.  If this is a
production problem, please call the solution center at 918-573-2336 or
email Bob Olson at Robert.Olson at williams.com. I will have limited mail and
cell phone access.
Note: This is an automated response to your message  "Re: Is self-signing
necessary? Basic questions." sent on 1/2/11 12:43:27.
This is the only notification you will receive while this person is away.

@_date: 2011-01-12 10:02:30
@_author: Richard Hamilton 
@_subject: AUTO: Richard Hamilton is out of the office (returning 01/13/2011) 
I am out of the office until 01/13/2011.
I am out of the office until Thursday January 13th, 2011.  If this is a
production problem, please call the solution center at 918-573-2336 or
email Bob Olson at Robert.Olson at williams.com. I will have limited mail and
cell phone access.
Note: This is an automated response to your message  "Re: What is the
benefit of signing an encrypted email" sent on 1/12/11 9:15:48.
This is the only notification you will receive while this person is away.
