
@_date: 2014-11-15 13:36:17
@_author: Maxwell Farrior 
@_subject: card is permanently locked! 
I'm getting this error message whenever I attempt to make any change to my
openpgp card.
When I got the card, I changed some basic settings such as the cardholder
name and sex. Then I changed the admin and user PINs. Somewhere after
changing the default PINs and before loading my keys onto the card, I was
asked to enter a PIN. I was unsure whether to use the user PIN or admin
PIN. Whichever I used was wrong and now the card will not let me change
anything else.
I'm able to access the card just fine. It is a version 2.0 card.
Attempting to change any attribute of the card (name, sex) gives the error:
scdaemon[4189]: card is permanently locked!
gpg: error setting Name: Bad PIN
I was never prompted for a PIN. In the passwd menu, numbers 2 through 4
give a similar error:
scdaemon[4189]: card is permanently locked!
scdaemon[4189]: command passwd failed: Bad PIN
Error unblocking the PIN: Bad PIN
Again, I am not prompted for a PIN. Choosing number 1 on the passwd menu
gives a slightly different result. First, pinentry asks "Please enter the
PIN". Next, pinentry asks me for a "New PIN" and "Repeat this PIN".
Finally, I get a similar error as noted above:
scdaemon[4189]: command passwd failed: PIN blocked
Error changing the PIN: PIN blocked
When choosing number 1 on the passwd menu, I am not sure which PIN I should
enter. I have tried every (known) possibility which includes the default
user PIN, the default admin PIN, my own user PIN and my own admin PIN. All
produce the same result.
Is there any way to make my card usable? Great thanks for reading.
Other (maybe) relevant info:
I'm using a Debian based distro with gnupg 2.0.19. I'm using gnupg 2.0.x
because I want to use 4096 bit keys on my card.
When reading the data on the card, PIN retry counter has a value of 0 0 0.
In other examples I've seen online, I've seen this value as 3 0 3.
