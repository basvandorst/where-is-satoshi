
@_date: 2018-02-21 18:37:40
@_author: Henry 
@_subject: having trouble checking the signature of a downloaded file 
I downloaded a tarball ***6.4.tar.gz, it's signature file
***6.4.tar.gz.sig, and the author's public key ******.pgp from a
well-known site.
I imported the public key: `gpg --import ******.pgp`.
For some reason, two keys were "skipped":
   gpg: key 0C0B590E80CA15A7: 2 signatures not checked due to missing keys
   gpg: key 0C0B590E80CA15A7: "Author's Name    gpg: Total number processed: 3
   gpg:     skipped PGP-2 keys: 2
   gpg:              unchanged: 1
I tried to verify the downloaded file, but the check failed:
`gpg --verify ***6.4.tar.gz.sig ***6.4.tar.gz`
   gpg: Signature made Tue May  4 23:03:11 2004 JST
   gpg:                using RSA key DC80F2A6D5327CB9
   gpg: Can't check signature: No public key
This is the first time for this to happen, so I have no idea what I
might be doing
wrong.  Any help or suggestions much appreciated.  TIA

@_date: 2018-02-23 07:03:54
@_author: Henry 
@_subject: having trouble checking the signature of a downloaded file 
2018-02-21 20:56 GMT+09:00 Kristian Fiskerstrand
gpg (GnuPG) 1.4.22 does give more information, but no success; see
below.  May I assume that nothing
can be done other than to request the author to remedy the situation?
Thanks all.
result of using gnupg 1.4:
% gpg1 --import D5327CB9.key
gpg: key D5327CB9: "author " not changed
gpg: Note: signatures using the MD5 algorithm are rejected
gpg: key D5327CB9: no valid user IDs
gpg: this may be caused by a missing self-signature
gpg: Total number processed: 2
gpg:           w/o user IDs: 1
gpg:              unchanged: 1
% gpg1 --verify ***6.4.tar.gz.sig ***6.4.tar.gz
gpg: Signature made Tue May  4 23:03:11 2004 JST using RSA key ID D5327CB9
gpg: Can't check signature: public key not found

@_date: 2018-01-10 18:25:06
@_author: Henry 
@_subject: is there a preferred order to building dependencies for gnupg2 
There are five libraries required to build gnupg2: libgpg-error,
libgcrypt, libassuan, libksba and npth.
Is there a preferred order in which they should be built?

@_date: 2018-01-10 18:17:41
@_author: Henry 
@_subject: libgcrypt-1.8.2: glitch in configure ?? 
Trying to build libgcrypt from source, but it failed with:
In file included from t-lock.c:31:0:
 typedef struct  pthread_st              *pthread_t;
                                          ^
In file included from /usr/include/sys/types.h:360:0,
                 from /usr/include/stdlib.h:41,
                 from t-lock.c:25:
?pthread_t? s here
 typedef struct __pthread_st *pthread_t;
In case it's important, uname -srp  ==>>  NetBSD 7.0.2 i386
There are two pthread.h files on this machine:
 /usr/include/pthread.h and /usr/local/include/pthread.h
Somehow the system headers and local headers seem to be getting mixed.
I don't know how to correctly fix the problem, but by editing line 31
of tests/t-lock.c and filling in the full path "/usr/include/pthread.h",
the build completed.
I don't know if it is related to the above problem or not, but "make check"
halted at "PASS: curves".  After an hour, I stopped it with ^C:
gmake[2]: *** [Makefile:864: check-TESTS] Interrupt
gmake[1]: *** [Makefile:987: check-am] Interrupt
gmake: *** [Makefile:477: check-recursive] Interrupt

@_date: 2018-01-13 18:18:01
@_author: Henry 
@_subject: BUG report gnupg-2.2.4 (or npth) 
I can't build gnupg-2.2.4 because npth.h includes headers with
conflicting types.
% uname -srp ==>> NetBSD 7.0.2 i386
% ./configure --enable-g13 --enable-symcryptrun --enable-wks-tools \
  --enable-selinux-support --with-npth-prefix=/usr/local \
  --with-readline=/usr/local
Output before "gmake[3]: *** [Makefile:2050: libcommonpth_a-sysutils.o]
 Error 1":
In file included from /usr/local/include/npth.h:52:0,
                 from sysutils.c:72:
?pthread_kill extern int       pthread_kill(pthread_t, int);
                  ^
In file included from /usr/local/include/npth.h:50:0,
                 from sysutils.c:72:
 int pthread_kill(pthread_t, int);
     ^
I can build gnupg-2.2.4 if I don't use npth, but then the tests
(gmake check) fail.

@_date: 2018-01-16 22:12:40
@_author: Henry 
@_subject: My MISTAKE! not a bug Re: BUG report gnupg-2.2.4 (or npth) 
I'm very, very sorry to have wasted people's time.
The problem was that I configured GNUpth incorrectly.
I used "enable-pthread option when I should have done the
opposite, disable.
Many apologies,
2018-01-15 10:47 GMT+09:00 NIIBE Yutaka :

@_date: 2018-01-17 15:50:35
@_author: Henry 
@_subject: gnupg-2.2.4: how to deal with failed tests 
I finally got gnugp2 built without any fatal errors.
Most of the tests passed, but the following tests failed:
I am not hip on using a binary that fails its tests.
Grateful for any advice on how to configure/build gnupg2 so that
it passes all its tests.

@_date: 2018-01-17 20:02:14
@_author: Henry 
@_subject: help using netpgpverify anyone? 
There was a post recently which introduced NetPGP.  Is there
someone who has used it successfully to verify the signiture
on a binary file?  I could use help on how to form a working
command line.
I tried `netpgpverify -k ~/.gnupg/pubring.gpg gnupg-1.4.22.tar.bz2.sig`
in a directory containing gnupg-1.4.22.tar.bz2, but I get the output:
Ignoring unusual/reserved signature subpacket 33
[above line repeated 12 times]
weird type of sig! 16
read_sigpkt: can't read sigs v3
can't read keyring
I've tried many other possible command lines, but no luck so far.
TIA for any help.

@_date: 2018-01-17 23:18:26
@_author: Henry 
@_subject: gnupg-2.2.4: how to deal with failed tests 
Thank you very much.  The log files seem to indicate there is some problem
involving import of "secret keys".  Still, I have no idea how to solve
this problem.
Excerpts from those files below.  -- Henry
issue2346.scm.log, ssh-export.scm.log,and ecc.scm.log all have in common
the following:
"gpg: importing secret keys not allowed"
export.scm.log has as the last line:
"gpg --no-permission-warning --always-trust --output - --export-secret-keys D74C
5F22 -"
armor.scm.log has:
"Importing alpha_seckey
(((/usr/local/src/gnupg-2.2.4/g10/gpg --no-permission-warning --always-trust --o
utput - --import -) 4408 2))"
2018-01-17 18:15 GMT+09:00 Werner Koch :

@_date: 2018-01-18 23:41:55
@_author: Henry 
@_subject: gnupg-2.2.4: how to deal with failed tests 
2018-01-18 4:12 GMT+09:00 Werner Koch :
I do not know; the tests are trying to do it, AFAIK.
Source was checked with gnupg1, which in turn was only checked with
sha1 checksum.
% setenv LDFLAGS "-Wl,-R/usr/local/lib -L/usr/local/lib -L/usr/lib"
% ./configure --enable-g13 --enable-symcryptrun --enable-wks-tools \
  --enable-selinux-support --with-libgpg-error-prefix=/usr/local \
  --with-npth-prefix=/usr/local --with-libgcrypt-prefix=/usr/local \
  --with-libassuan-prefix=/usr/local --with-ksba-prefix==/usr/local \
  --with-readline=/usr/local
% gmake
(Reason for LDFLAGS is that get an error during tests like "can't find
shared object libgcrypt.so")
Thank you,

@_date: 2018-01-19 22:23:59
@_author: Henry 
@_subject: gnupg-2.2.4: how to deal with failed tests 
THANK YOU!! THANK YOU!!
Configured simply with:
% ./configure --enable-g13 --enable-symcryptrun --enable-wks-tools \
  --with-readline=/usr/local
and all tests run seemed to PASS.
(I will later be installing gnupg2 on darwin and ubuntu.)
2018-01-19 3:27 GMT+09:00 Werner Koch :
