
@_date: 2018-12-11 22:24:00
@_author: Patrick Ben Koetter 
@_subject: GnuPG, (neo)mutt and S/MIME 
I was told GnuPG has this wonderful tool gpgsm, which helps to handle S/MIME
keys/certs and also to sign and encrypt messages. Is this true or am I mixing
I played a little with the gpgsm and was able to add my S/MIME keys/certs. Now
I wonder how I would make use of them with in neomutt.
Is there any other infrastructure/tool I need to setup and configure to sign
and encrypt messages in mutt?
p at rick

@_date: 2020-12-08 10:03:50
@_author: Patrick Ben Koetter 
@_subject: Security-Token: "No secret key" unless "gpg --card-status" first 
my PGP secret key is stored on a Yubikey security token and until recently I
would simply plug it into my computer and use it to encrypt/decrypt data. This
stopped working and now all I get is this unless I command gpg first to list
the card status using "gpg --card-status":
$ gpg: Entschl?sselung fehlgeschlagen: Kein geheimer Schl?ssel
I'm not familiar with all the components that need to play together for this
to work "plug & play", so I figured I'd start here first and find out if gpg
requires some change in config to let it use the security token immediately.
I'm on ARCH Linux and the software installed and hardware used is:
$ gpg --version
gpg (GnuPG) 2.2.24
libgcrypt 1.8.7
$ ykinfo -v
version: 5.1.2
$ ykman --version
YubiKey Manager (ykman) version: 3.1.1
    libykpers 1.20.0
    libusb 1.0.23
$ gpg --card-status
Reader ...........: 1050:0407:X:0
Application ID ...: D2760001240102010006095075160000
Application type .: OpenPGP
Version ..........: 2.1
Manufacturer .....: Yubico
Serial number ....: 09507516
Name of cardholder: Patrick Ben Koetter
Language prefs ...: [nicht gesetzt]
Salutation .......: Hr.
URL of public key : [nicht gesetzt]
Login data .......: p at sys4.de
Signature PIN ....: nicht zwingend
Key attributes ...: rsa2048 rsa4096 rsa2048
Max. PIN lengths .: 127 127 127
PIN retry counter : 3 0 3
Signature counter : 0
Signature key ....: [none]
Encryption key....: 74B5 --redacted--
      created ....: 2014-03-28 16:28:13
Authentication key: [none]
General key info..: sub  rsa4096/3AB431AF62D277F5 2014-03-28 Patrick Ben Koetter sec   rsa4096/5677226BCD1FD704  erzeugt: 2014-03-28  verf?llt: niemals
ssb>  rsa4096/3AB431AF62D277F5  erzeugt: 2014-03-28  verf?llt: niemals
                                Kartennummer:0006 09507516
p at rick
