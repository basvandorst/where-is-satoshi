
@_date: 2001-06-30 23:11:01
@_author: Kurt Fitzner 
@_subject: Proposed fix for alleged OpenPGP key flaw 
This message is in MIME format
I've been reading on the alleged OpenPGP key format flaw ( see
 ).  The issue (from what I understand from
reading the articles) is that GnuPG (et al) accepts keys as stored in your
secret key ring.  That if someone has access to your computer, they can make
changes to your private key that, the next time you sign with it, can give them
an effective attack.
Now, to me this does not seem to be a file format issue.  This seems to me to be
a trust issue.  And, what better mechanism to handle a trust issue than GnuPG
I would suggest that instead of changes to the OpenPGP standard, that we need
to take the matter of key trust into account in the software.  All that is
needed is to make a detached signature of your private key whenever it is
modified.  This can be done by temporarily extracting the key, having the
secret key make a detached signature, and then overwriting/deleting the
temporary secret key.  This could even be done in memory with a little more
Then, whenever your secret key is used, GnuPG would simply have to check the
signature against the secrey key first.
The advantage:  1) No OpenPGP key format changes are required. 2) There is a
certain philosophical elegance to using the the system to protect itself.
Disadvantage:  Requires a signature validation every time the secret key is
Any thoughts?
        Kurt
End of MIME message

@_date: 2001-06-30 23:21:01
@_author: Kurt Fitzner 
@_subject: Expiry bug (can convert v3 key to current?) 
This message is in MIME format
This was my mistake.  When you make a DSA subkey in --edit mode, it tells you
the maximum is 2048 bits, but it actually is only 1024 bit maximum.
But, the bug on editing v3 key expiry dates is there.  GnuPG does tell you that
it can't change the expiry, but you can.  Change the expiry, it will complain,
but let it.  Then, do something else... add a uid, or delete one.  Then exit
--edit mode and save.  If you look, the expiry date for the key will have
There is either a bug in the software telling you it can't or a bug in it doing
it when it's not supposed to.
        Kurt.
End of MIME message

@_date: 2001-06-30 23:51:02
@_author: Kurt Fitzner 
@_subject: Expiry bug (can convert v3 key to current?) 
This message is in MIME format
See attached log (impossible.txt).  I apparently have a VERY buggy version of
gpg, since it will make DSA subkeys with no problem.
        Kurt.
Content-Disposition: attachment; filename="impossible.txt"

@_date: 2001-07-02 02:24:01
@_author: Kurt Fitzner 
@_subject: gpgsafe - wrapper for gpg to protect against secret key attacks 
This message is in MIME format
 boundary="_=XFMail.1.5.0.Linux:20010701181459:1833=_"
This message is in MIME format
Hi all,
I don't know the group policy on file attachments.  If this is a "Bad Thing"
then someone let me know, and I won't do it again.
Further to my idea about the signature verification of secret keys, I am
attaching a couple shell scripts - what I call 'gpgsafe'.
First, use 'updategpgsafe' to produce a signature of all your secret keys
(along with their associated public keys).
Then, you can use the 'gpgsafe' wrapper.  What it does, is check your secret
keys (and their associated public keys) against this signature.  If the
signature passes, then it simply passes control to gpg and passes all
command-line arguments to it.  If the signature check fails, then it spits out
a warning and exits with an -1 return code.
The caveat to this, is you need to make SURE you use 'updategpgsafe' every
time you make any change to your secret keyring AND every time you --edit the
public keys associtated with your secret ones.  If you do this, then (as far
as I know), this will protect you against secret-key modification attacks.
I have tested this on my system, and it works.  Your mileage may vary.  I am
handing this out for people to test and comment on.  I would really appreciate
comments on the theory of operation of this wrapper from someone who is more
familliar with encryption theory than I.
        Kurt
Content-Disposition: attachment; filename="updategpgsafe"

@_date: 2001-07-02 07:07:01
@_author: Kurt Fitzner 
@_subject: Not enough random bytes available.  Please do some other wor 
This message is in MIME format
Are you physically at the FreeBSD computer (you asked before what if you're
not at the console)?
The way GnuPG works, like pgp, is it access a /dev/random device on your
computer.  That is a device which collects information on things your computer
is doing that would be hard for an outside person to guess, and keeps it in a
'pool' of random numbers.
If you are not using the computer directly (logged on remotely), then it may
not generate enough random information if no one else is doing anything on the
computer. My understanding of the /dev/random device in FreeBSD (someone correct me if
I'm wrong) is that it only uses interrupt timing. The machine may not be
configured to use its ethernet card interrupt, so if you are logged in
remotely, the machine may be doing almost nothing.  It most certainly won't be
using the timer interrupts, so if nothing interesting is happening on the
computer, it could potentially take a very long time to generate the data.
If you are directly using the FreeBSD computer, and the computer is doing
things that is making the hard drive go, then there is a problem with your
interrupts that device listens to by configuring the kernel, or by using
'rndcontrol'.  If may be that it is misconfigured, so that it isn't getting
enough random sources.
What I would do is stop the keygen, type:
cat /dev/random
and watch what happens.  You should get some garbage on the screen that stops
after a second.  Then, you should get a new character every few seconds.  If
the hard drive is working, then the number of new characters that appear will
be higher.
If you don't see this, then there is a problem with your /dev/random device.
If you do see this, then there may be an issue with gpg on your computer.
        Kurt.
End of MIME message

@_date: 2001-07-02 23:33:02
@_author: Kurt Fitzner 
@_subject: Format of signed-and-encrypted documents 
This message is in MIME format
Not so complicated a question. :)
Messages are signed first, and then the signature and message both encrypted.
The reasoning is that if you are encrypting something, you may not want the
world to know who it's from.
Look at it this way, you are not going to encrypt something, publish it, and
then want people to be able to tell that this encrypted document came from
you.  Who cares?  It's encrypted, they can't read it anyway.
So, since it doesn't make sense that anyone would WANT to be able to have the
world verify that an encrypted document originated with themself, and people
MAY not want anyone (besides the intended receivers) to know who sent it, the
signature of encrypted documents was encapsulated inside the encryption.
        Kurt.
End of MIME message

@_date: 2001-07-08 23:42:01
@_author: Kurt Fitzner 
@_subject: effects and incompatibilities between GPG1.0.6 and PGP CKT 0 
gt> PRZ asked that big keys not be used...
Imad has done just what software developers should.  Listen to reasonable
user requests, and design the requested functionality into the software without
judging those requests.
At the outset, I direct people to the excellent DH vs. RSA faq at:
I would ask you to read section 2.6, on "How big should my asymmetric key
be?".  It is excellently written, and lists its supporting documentation.
The CKT versions are useful both in their support of large keys, and in their
support of extra algorhythms.  I do not wish to debate the reasons for using
large keys.  I simply wish to point out that there are reasons for using large
keys, and whatever PRZ may think about those reasons (most of which he failed
to address in his statement against large keys), and whatever you may feel
about them, many people for both personal and industry use feel they are
The job of software designers is not to debate why someone needs to print to
that network printer, but make the software do what people believe they need. The same applies to keys.  It is not a software designer's role to make
judements on the key size a user wants, unless it is completely unreasonable
and will hurt the functionality of the software.  It is the software
designer's role to make the software that satisfies the requirements of the
I will add my reasons for desiring large keys at the end.  They are included
not to debate, but to for you to look at and determine if they represent a
reasonable request by a user to a developer.  I believe that Imad has done
exactly what a software developer should, and developed the CKT versions in
response to legitimate user requests.  I would encourage you to invite him into
the working group.
        Kurt

@_date: 2001-07-09 01:55:01
@_author: Kurt Fitzner 
@_subject: effects and incompatibilities between GPG1.0.6 and PGP CKT 0 
This message is in MIME format
This is not entirely true.  Trademark law is similar to patent law, whereby a
known trademark 'infringement', if it is not defended, essentially ceases to be
an infringement.  You give license to use the trademark be default if you do
not defend it.
I would have to, if sued by NAI for trademark infringement (as an example),
however, prove that NAI knew about earlier trademark infringements and did not
defend them.  Or, I need to prove they SHOULD have known.
I do not believe that it would be difficult to prove that NAI either knew
about, or should have known about (if it were watching the trade properly in
which they released a product they sought protect with a legal trade mark)
infringements of the 'PGP' trademark by people with unlicensed and widely
distributed versions of PGP years ago.  In fact, much of it was long before
they even owned the trade mark.
PGP  is indefensible.  At this point, Microsoft could come along and
release MS PGP 8, and there is nothing NAI could do.  It would make for a
court case with some fireworks, and MS would look like a bully (sorry - more
of a bully), but they would win.  There is ample precident in trademarks that
were much less widely infringed for much shorter periods of time than PGP.
BTW,  I am not commenting on the morality of this.  Just the reality.
        Kurt.
End of MIME message

@_date: 2001-07-13 02:27:02
@_author: Kurt Fitzner 
@_subject: effects and incompatibilities between GPG1.0.6 and PGP CKT 0 
This message is in MIME format
The PGP International web page links to the PGP Interactions Page which is all
but advertising for the CKT versions:
   Note: NAI announced that source code may no longer be available
   for current and future PGP versions. Many users are switching to
   PGP6.5.8ckt.
   So yes, more and more people will be switching.  Imad's rantings about GnuPG
on the news groups is a little dissappointing, but are there any real serious
interoperability issues?  There seem to be more features in 6.5.8ckt that
GnuPG doesn't support (revoking authority, adding pictures, etc) than the
other way around.
        Kuer.
End of MIME message

@_date: 2001-06-27 13:30:01
@_author: Kurt Fitzner 
@_subject: Expiry bug (can convert v3 key to current?) 
I've notived a bug, at least I think it's a bug, in gpg 1.06.  I imported an
RSA key generated in PGP.  Upon editing the key, I tried to change the expiry
date (trying to follow the FAQ directions for modifying the prefs), and was
promptly told that I cannot modify the expiry date of a v3 key.  This is fine,
but the expiry date does change if you do a 'list'.  It doesn't save when you
quit, but, if before you quit do some other operation (add a UID for
example) that would make the program ask you if you want to save, and you do
save, then the new expiry date is saved in the key.
I'm not sure why expiry dates are not modifiable, unless it simply violates the
My real question, though, is whether there any way to convert a v3 key to
current?  I would like to import an RSA key, and also be able to set preferences
and modify the expiry date.
Also, I was wondering why I can generate a 2048 bit signing DSA subkey, but
can't make one as the primary key.
        Kurt Fitzner
