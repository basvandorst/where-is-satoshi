
@_date: 2006-12-06 10:33:39
@_author: Doug Barton 
@_subject: Compile of Gnupg 2.0.1 failed - no libintl 
Try adding --disable-nls to your configure command. Also try doing
'./configure --help | more' to see if there is anything else there
that is relevant, but only change things if you're pretty sure you
know what's going to happen if you do. :)

@_date: 2006-12-08 01:04:13
@_author: Doug Barton 
@_subject: Problem building 2.0.1 
Did you do that exactly, or did you really try:
./configure --disable-nls

@_date: 2006-11-16 04:24:28
@_author: Doug Barton 
@_subject: insecure memory warning in 2.0.0 
Hash: SHA1
I'm using 2.0.0 on FreeBSD 7-Current, and although I have
"no-secmem-warning" in my gpg.conf, I'm still getting "Warning: using
insecure memory!" with just about every gpg command I run. Any ideas?

@_date: 2006-11-16 08:45:04
@_author: Doug Barton 
@_subject: insecure memory warning in 2.0.0 
Here is everything, in case it's relevant:
$ pkg_info -r gnupg-2.0.0
Information for gnupg-2.0.0:
Depends on:
Dependency: pth-2.0.7
Dependency: openldap-client-2.3.30
Dependency: libusb-0.1.12_1
Dependency: libgpg-error-1.4
Dependency: libiconv-1.9.2_2
Dependency: libgcrypt-1.2.3_1
Dependency: libksba-1.0.0_1
Dependency: dirmngr-0.9.6_1
The _N after some of the version numbers means that the FreeBSD port
got updated even though the software version didn't change.

@_date: 2006-11-16 09:52:23
@_author: Doug Barton 
@_subject: insecure memory warning in 2.0.0 
Hash: SHA1
 is the update to
1.0.0, since gnupg 2.0.0 needs a newer version of the library than we
have in ports right now.
For gnupg 2.0.0 itself, you can do the following:
cd /usr/ports/security
cp -Rp gnupg-devel gnupg2
cd gnupg2
Then apply the patch at No promises that this will be the final version of either of these
ports, but I have already sent these patches to their maintainer, so
hopefully the ports tree will be updated soon. Meanwhile this is
enough to get you up and running.
There is actually a knob in the port for 1.4.x that will do that for
you, but if we can get the option to work I'd rather avoid making the
gpg2 binary suid to start with. Thanks for the suggestion in any case.
FWIW, I've been using 2.0.0 for a while now, doing some much needed
key maintenance, sending out signatures from a recent key signing,
sending challenges, and signing keys, and so far this is the only
"issue" I've run across. I even set up gpg-agent with a minimum of
fuss. So far so good ...

@_date: 2006-11-16 11:02:08
@_author: Doug Barton 
@_subject: insecure memory warning in 2.0.0 
gpg --list-keys dougbarton
Warning: using insecure memory!
Perhaps you can send me more detailed instructions by private mail now
that we know what we're dealing with. It's too late for me to deal
with this tonight (this morning!) in any case.

@_date: 2006-11-20 09:03:25
@_author: Doug Barton 
@_subject: problem building libassuan + pth 
Hash: SHA1
For reasons I don't fully understand (read, didn't take the time to
thoroughly investigate) it was necessary for me to add the following
to the environment for configure in order to get libassuan version
1.0.0 to compile on FreeBSD:
CFLAGS="${CFLAGS} -I${LOCALBASE}/include/pth"
LDFLAGS="${LDFLAGS} -L${LOCALBASE}/lib/pth"
where "LOCALBASE" is generally defined as /usr/local.

@_date: 2006-11-29 10:58:55
@_author: Doug Barton 
@_subject: FreeBSD ports for libassuan 1.0.1 and gnupg 2.0.1 
Hash: SHA1
For FreeBSD users eager to get started with the new versions, I'm told
that the official ports will be updated "soon." They are just waiting
on a repo copy of the old gnupg-devel port, and the CVS folks are a
bit backlogged right now.
Meanwhile, I've updated my unofficial patches. The libassuan patch is
at  and should apply cleanly to
the existing port. For gnupg, 'cd /usr/ports/security && cp -Rp
gnupg-devel gnupg2 && cd gnupg2 && patch < gnupg2.diff'. You can find
the patch at

@_date: 2007-08-20 23:19:05
@_author: Doug Barton 
@_subject: Compression routines - please include 7-Zip 
So join the IETF working group, and champion its cause. If you've read the posts on this thread, you've seen that this is the only way it's going to Also, please remember that you can already compress your file with whatever algorithm you want, then encrypt it, so this whole discussion is

@_date: 2007-08-25 22:58:22
@_author: Doug Barton 
@_subject: Questions about generating keys (hash firewalls) 
I've followed this thread with interest, since my only signing key is a 1024 DSA key, and I'm considering options for what my "next" key should It almost sounds from what you're saying above that there actually is an argument for RSA's hash firewall being "better" than DSA[2] here, but if I correctly understood what you said later in the thread, the margin by which it's "better" is so small as to not be worth considering. Is that more or less correct?
The other question I had is about what you said above regarding truncating hashes with DSA2. Am I understanding correctly that even with DSA2 the hash size can be no larger than 160 bits?
Doug (who hopes these questions aren't too dopey)

@_date: 2007-08-25 23:03:28
@_author: Doug Barton 
@_subject: Questions about generating keys (hash firewalls) 
*sigh* Never mind this bit, I just re-re-read a later part of the thread where you said that it was possible to generate a DSA2 key that can use a full 256 bit hash.
I'm still curious about the issue of whether the hash firewall issue makes a "significant" difference or not though.

@_date: 2007-08-27 23:13:48
@_author: Doug Barton 
@_subject: Questions about generating keys (hash firewalls) 
Of course, I appreciate the response.
Ok, got it, thanks.

@_date: 2007-01-02 10:11:24
@_author: Doug Barton 
@_subject: Still Bad Signatures - KGPG seems broken 
This is starting to sound like something you might want to bring up
with the kmail folks.

@_date: 2007-03-05 14:57:07
@_author: Doug Barton 
@_subject: GnuPG and libksba-1.0.1 
Is there any reason you're not using the ports system? It would handle all these issues for you.

@_date: 2007-10-04 21:36:22
@_author: Doug Barton 
@_subject: LDAP PGP Keyserver 
Check for /usr/local/libexec/gpg2keys_ldap
If you have that you should be ok.

@_date: 2007-10-13 19:52:23
@_author: Doug Barton 
@_subject: PGP messages getting flagged as spam 
Has anyone tried contacting the SA developers about this? It seems like something fairly straightforward for them to add.

@_date: 2007-10-21 21:45:56
@_author: Doug Barton 
@_subject: Trouble with keyservers 
Out of curiosity, what software are the subkeys.pgp.net servers running? I've had pretty good luck with that pool but I would hate to think I'm not getting the complete picture. (Not to mention if I ever decide to generate a key with subkeys ...)
Is there a way for us to tell that remotely?

@_date: 2007-10-26 16:59:21
@_author: Doug Barton 
@_subject: Multiple recipients encryption 
Imagine that "the encryption" of your message is a giant fence built around it. In the fence is a gate, and the gate is secured by a chain. If you encrypt the message to only one recipient, one lock is attached to the chain, and only the person who has the key to that lock can open it.
Now imagine that you add a second lock, but you add it between the first lock and the chain. In other words, the shackle of the second lock passes through the chain on one side, and the shackle of the first lock on the other. Now the person with key to the first lock can open it, and a person with a key to the second lock can open that one. Either person can get access to the message by opening their lock, but neither person can open the other's lock.
Make sense?

@_date: 2007-09-21 21:31:21
@_author: Doug Barton 
@_subject: OT Need pointers for generic smart card help 
Sorry for the OT post, but I've spent long hours trying to get this to work, and I'm no closer to my goal. I would appreciate it if someone could send me a pointer to some docs that can help me. I've googled myself blind and I've found a lot of stuff that talks about configuring pcsc for serial devices, but ...
I've got built in USB smart card readers on my two dell laptops. One says it's a "TI Ultramedia Gemcore Based SC Interface," and the other says it's a "O2 Micro 0Z776 USB CCID Smart Card Reader." I've also got some smart cards that I'd like to read (or even better, write to) but I can't figure out how to get pcsc to recognize either of my usb readers, so I can't even get out of the gate.
The other thing I was hoping to get suggestions on is a "generic" smart card program that can tell me what's on the card, and allow me to write to certain locations. Failing that, references to "how to read and write to smart cards for dummies" would be very helpful.
Finally, something relatively on topic, is there any way to take a random smart card and turn it into an openpgp card? I am sure the answer is probably no, but I thought I'd ask anyway.
I speak FreeBSD fluently, I have an Ubuntu box that I can use if that's the best answer, and I'd even take a windows solution at this point.
TIA for any help y'all can provide.

@_date: 2009-08-16 21:51:04
@_author: Doug Barton 
@_subject: 1.4.10 release candidate 
No build problems on FreeBSD 8-current (soon to be 8.0-release). The
resultant gpg binary passes a few simple regression tests as well.

@_date: 2009-08-18 11:28:26
@_author: Doug Barton 
@_subject: How do I flush a bad symmetric password from gpg-agent? 
Hash: RIPEMD160
I run gpg-agent with the ssh option in my .xsession file so that all
the child processes inherit the environment. This is needed mostly for
the ssh portion of course, since I could update the gpg part of the
agent stuff in .bashrc if I wanted to (although I do not do that now).
This has been working well for me for a long time.
Today I mis-typed a passphrase for a symmetrically encrypted file and
was surprised to discover that gpg-agent had stored the bad passphrase
and would not let me access the file. I have occasionally in the past
mistyped my passphrase for one of my secret keys or an ssh key and
gpg-agent just reprompts for a valid one.
Looking through the man page I don't see any way to flush the bad
password from the agent. Killing and restarting works of course, but
then I'm in bad shape on the ssh side. I could restart my window
manager session, but that sounds like a microsoft solution, not to
mention having to restart apps, etc.
So is this a bug in the agent? Is there a way to flush passwords that
I'm missing? Another solution?

@_date: 2009-08-19 12:32:20
@_author: Doug Barton 
@_subject: How do I flush a bad symmetric password from gpg-agent? 
Fair enough, thanks.
Ok, now I'm really embarrassed. I thought sure I had read the whole
gpg-agent man page AND searched for the word "flush" but obviously I
was wrong on both counts. :-/
Thanks again,

@_date: 2009-08-20 22:12:56
@_author: Doug Barton 
@_subject: How do I flush a bad symmetric password from gpg-agent? 
Thanks! This produces the following output with the wrong passphrase:
gpg --decrypt file.gpg
gpg: DBG: cleared passphrase cached with ID: ABCD1234567890
gpg: decryption failed: Bad session key
Then when I try to decrypt the file again I get reprompted for the
passphrase which is a huge improvement. If I had the chance to choose
I would prefer the same sort of UI as the private key or ssh key uses
when the wrong passphrase is entered (e.g., "Invalid passphrase;
please try again") but the change in your patch is definitely a huge
Thanks again,

@_date: 2009-12-06 15:54:20
@_author: Doug Barton 
@_subject: gpgme not compiling when gpgsm support disabled 
There is a port for that in /usr/ports/security/gpgme, you might want
to try that. Looks like you'd have to change the value of
--with-gpgconf in the port's Makefile, but that's trivial.

@_date: 2009-02-22 22:46:24
@_author: Doug Barton 
@_subject: multiple e-mail addresses:  what are the solutions? 
FWIW, I use a blend of these two strategies. I have a personal key
that has my main personal e-mail address, my  e-mail
address, and my old e-mail address (which was the first uid to gather
signatures so has more than the new e-mail address). In my former
position I needed a PGP key for my e-mail so I generated a new one
that was specific to that position. It had several e-mail addresses
(uids) attached to it (for various uninteresting reasons).
Yes, and I still have both keys on my keyring(s). Because I like to
keep things separated I actually have a my-pub-keys.gpg keyring (as
well as other rings with keys dedicated to other purposes).
The only disadvantage I've run into was very minor, asking people at
key signing events to sign both keys. Now that people with multiple
keys are more common, that's hardly an issue any longer.
The advantages for me were clear separation between my "work" and
"personal" identities; which was primarily a benefit when it came to
e-mail (both signing and encryption) but there a few people who were
comfortable signing one key, but not the other. The other advantage
(now that I've left that employer) is that when attending key signing
parties now I don't have to worry about asking people to sign a key
with e-mail addresses I no longer have access to.
hope this helps,

@_date: 2009-02-23 22:24:56
@_author: Doug Barton 
@_subject: "Please select what kind of key you want" ~~ suggestion to 
While in general I agree with what you've said in this thread Robert,
I do want to present one small ray of hope. At my last job we dealt
with a great deal of "sensitive" information (usually time sensitive,
i.e., it would be released eventually but needed to be "just right"
first) and being the dreaded "technologist in a managerial role" I
strongly advocated the use of PGP in preference to other methods of
"secure" communication for the obvious reasons (availability, cost,
etc.). Once the IT department signed off, I actually started sitting
with my colleagues and walking them through the process of generating
keys, integrating with outlook, etc.
Then the fun part, I started sending people encrypted stuff. This
often required another round of walking people through the process,
but eventually it became sort of accepted, and generally (although
sometimes grudgingly) acknowledged as a Good Idea. When I got my first
unsolicited encrypted item in the mail, I knew I that progress was
being made. :)
It's probably worth noting that this was a technology-friendly
workplace, and before I arrived there was already a culture of
acceptance for things like encrypted chat, etc. But my point is, it's
not all bad news "out there."
hope this helps,

@_date: 2009-01-24 15:48:11
@_author: Doug Barton 
@_subject: A question about Camellia 
I agree that small is beautiful. I also think that there is something
to be said for pruning seldom-used code paths in a security-related
application since there is always the possibility of bit rot, as well
as longstanding bugs that have not yet been identified yet because the
code has not been exposed to a wide enough variety of use cases.
OTOH, in something like PGP there is a definite need to maintain
backwards compatibility. There is also the issue of needing options
that can easily be exercised with existing tools should a current
"favorite" be found to be insecure down the road.
My personal opinion is that gnupg treads this line pretty well. If it
were up to me I would like to see more configure --options to not
include some of the options I'm not likely to ever need, but I don't
care enough about it to put the work into making a patch. :)
Regardless of whether this story is apocryphal or not, there is
something to be learned here. The AF's conclusion seems obvious,
however it ignores a critical factor of the Navy's use case. Because
most of the time Navy jets operate over water (I would hazard a guess
to say that it's a significant majority of the time, but I'm not an
expert), and because having to eject over water has a much higher
fatality rate than ejecting over land, "getting back to the carrier"
is much, much more important for the Navy and (likely, again, not an
expert) justifies the additional complexity. The lesson here being,
make sure you understand ALL the parameters before you make your
BTW, to get back to Camellia, I had to do some research on this in
another context and while I'm not prepared to judge the "safety" of
the cipher, I did come across this post from David which I thought was
important. Short version, don't use this for production stuff since
things you encrypt now might be undecryptable in future versions of
hope this helps,

@_date: 2009-01-24 17:17:18
@_author: Doug Barton 
@_subject: A question about Camellia 
Has every example you've ever learned from been true? :)
Perhaps I misread what you wrote then. It seemed to me that you were
implying that the AF guys were obviously correct in their conclusion
and that the Navy guys were obviously wrong. What you said above makes
sense though.

@_date: 2009-03-06 15:06:35
@_author: Doug Barton 
@_subject: Just one gpg-agent 
I have a slightly more sophisticated gpg-agent script that has worked
well for me with a variety of window managers:
I then have the following in my .xsession file so that all of my
windows inherit the necessary stuff:
unset GPG_AGENT_INFO SSH_AUTH_SOCK SSH_AGENT_PID
if [ -r "${HOME}/.gpg-agent-info" ]; then
        . ${HOME}/.gpg-agent-info
        export GPG_AGENT_INFO SSH_AUTH_SOCK SSH_AGENT_PID
hope this helps,

@_date: 2009-03-16 14:17:45
@_author: Doug Barton 
@_subject: gpg doesn't fail on target file existing when decrypting 
What you're suggesting isn't "safe" in any case. What I would do in
your situation is the following:
1. Use mktemp to safely create a new, unique file
2. Send the decryption output to that file
3. Test if the "real" file exists, and if so unlink it
4. mv $newfile $realfilename

@_date: 2009-03-16 14:59:56
@_author: Doug Barton 
@_subject: gpg doesn't fail on target file existing when decrypting 
For typical command line use by a real person I think it's just fine.
If I were doing a script that used gpg in an unattended fashion I'd do
the same thing for encrypt as I suggested for decrypt above.
Don't assume. Test. Depending on what you're using it for (and in what
environment) the bar is much, much higher for programs (including
scripts) that run in an automated environment than for those that run
with real human interaction. Not that humans always make the right
choices by any stretch.
You're approaching this problem from the standpoint of unattended
usage, which is not how the current command line behavior was intended.

@_date: 2009-03-18 11:51:56
@_author: Doug Barton 
@_subject: OT: file operations atomicity 
I noticed that you were replying to Andrew, but FWIW I very carefully
avoided using the word "atomic" in my post, for good reason.
True, although you're talking millisecond timing it could happen.
OTOH, if untrusted users are allowed on the system the old "symlink a
harmless file to an important file so that the latter can be
splattered by an automated process" is a long-known vulnerability that
can easily be defended against.
On the _other_ other hand, I left out the whole discussion about "What
is your threat model?" and, "What is the value of the data relative to
the amount of work you're willing to spend protect it?"
It's also worth noting that even if the new decrypted file is lost
before the old decrypted file is replaced, it's likely that you still
have the clear original to work from so we're not talking about a
catastrophic data loss. If we were concerned about destroying the
clear original immediately after the new encrypted version is created
then you would at minimum want to get the new version onto the same
file system as the old one before you started removing things.
I believe you. :)  My purpose was more to get the OP thinking in terms
of better procedures for an automated process, and to try to point out
that the current behavior of gnupg doesn't seem to be a bug.

@_date: 2009-11-16 14:30:33
@_author: Doug Barton 
@_subject: gpg: decryption failed: secret key not available 
Likely 1 of 3 problems:
1. You're not encrypting it to their key
2. They public key they sent you does not match the private key they
have on their end
3. The person trying to decrypt the file does not have pgp set up
properly and/or does not have access to the private key.
I would start debugging this by asking the person to send me a list of
the key ids and fingerprints of the private keys that their pgp
program can "see" and compare that to what you have.
Good luck,

@_date: 2009-11-16 14:33:55
@_author: Doug Barton 
@_subject: Multiple Identities 
The customary way to do this is to create new uids, which other people
have already mentioned. However depending on what you're trying to do
it's not mandatory that you do so. For example, in enigmail you can
specify the key to use for an account by its key id, which should work
fine regardless of the e-mail address associated with the account.
OTOH, if you're expecting the people on the other end to encrypt mail
sent to you on one of the addresses that is not part of your key, you
could run into "issues."

@_date: 2009-11-17 16:04:41
@_author: Doug Barton 
@_subject: Is it possible to decide what is a gpg file? 
When I try this with gpg2 I get the following:
gpg2 bunsen_honeydew.jpg.gpg
gpg: error reading key: No public key
I get the same result with a file encrypted to a public key (as this
one was) and with a symmetrically encrypted file.
Am I doing something wrong here?

@_date: 2009-11-17 16:09:42
@_author: Doug Barton 
@_subject: Problem with the agent, gpg2 
It was never clear to me from the ensuing thread whether or not you
had gpg-agent running, if so, what command line options did you use,
etc. It's also not clear to me if you installed a pinentry program of
any kind.
If you still want help with this (as opposed to just using gpg 1 which
I think would be a better option) you should probably post some more
details about your setup.

@_date: 2009-11-17 16:13:25
@_author: Doug Barton 
@_subject: Trust reference 
Not sure what you're requirements are, but if you're looking for
reliable encrypted communication you might want to consider a
combination of pidgin and pidgin-OTR (
It works well, is pretty easy to set up, and has the added benefit of
being enabled by default in adium.

@_date: 2009-09-22 12:40:45
@_author: Doug Barton 
@_subject: howto secure older keys after the recent attacks 
Hash: RIPEMD160
That description is not quite accurate. FreeBSD (and OSX, which
actually inherited quite a bit of userland and other bits from
FreeBSD) uses the Yarrow PRNG. Here is an excerpt from the wikipedia
So while it is correct to say that like a traditional SysV
circumstances, unlikely to happen in any real world application), it
is not correct to say that it continues handing out bits of dubious
quality when it "runs out of entropy." (I realize that is not
specifically what you said David, but since at least one reader seems
to have come to that conclusion based on what you did say so I felt
compelled to respond.)
As the wikipedia article also points out we have support for hardware
entropy devices as well so anyone doing "heavy duty" crypto stuff has
that option available. But for the casual user our current system is
more than enough.
And yes, I realize that this is an area of debate, which is why I
purposely included your first quote above in my reply. :) My purpose
is not to debate which is "better," rather to bring some light to the
topic of what we're actually doing.
Anyone interested in more details about Yarrow can read the paper at
Doug (aka dougb at FreeBSD.org)

@_date: 2010-04-11 21:18:55
@_author: Doug Barton 
@_subject: New version of pine-pgp-filters 
Hash: SHA256
First, apologies to those who receive 2 copies of this message, or those
for whom this message is unwelcome in any way.
I wanted to send a quick note for those who are using, or may be
interested in using my scripts to integrate GnuPG with Alpine. I've
released version 1.7 which has the following two small updates:
1. Use a more reliable method to find the signature and message parts
    in the ppf_mime script.
2. Add support for the OpenPGP header in ppf_sign and ppf_encrypt, and
    use the same method to sanitize the key ID as was already done for
    the other headers.
You can find the scripts themselves, and more information about them at

@_date: 2010-04-14 19:46:46
@_author: Doug Barton 
@_subject: New version of pine-pgp-filters 
Hash: SHA256
Read the rest of the paragraph. :)
... gpg2 binary in PREFIX/bin, /usr/bin, and /bin, in that order, then
repeat the search for gpg 1.x if version 2 is not found. The option
exists to specify one version or the other if you have both installed.
As for the specific version 1.4.6 I'm at least 90% sure it will work,
the gpg commands don't include any exotic options. If you have any
problems let me know and I'll see what I can do.

@_date: 2010-04-28 10:41:55
@_author: Doug Barton 
@_subject: GPG using key ring in D:\Documents and 
While you're reading the manual look for references to "home."

@_date: 2010-08-11 11:33:40
@_author: Doug Barton 
@_subject: gpg-agent does not work 
Not sure if it's the problem, but I use the following script to start
gpg-agent, perhaps it will be helpful:
Good luck,

@_date: 2010-08-28 17:58:35
@_author: Doug Barton 
@_subject: Redirecting STDIN 
Is this a gnupg command that is prompting, or something else? If the former, which command?

@_date: 2010-12-29 11:28:24
@_author: Doug Barton 
@_subject: How to process a big file of encrypted mails? 
I think you're right about that.
Yes, that's likely your only alternative. If you're on a Unix'y system I suggest looking at split, which might be spelt "csplit" if you're on Linux.

@_date: 2010-02-19 21:45:58
@_author: Doug Barton 
@_subject: Questions about "--group" for group encryptions. 
I'm pretty sure that what you want to accomplish can't be done the way
you're describing it, but let's take a step back and work on the
description of the problem a bit more.
I think I understand what you've described above as far as it goes, but
how about a little more detail? Are you working with one file, or a lot
of files? Will the set of files be static, or at some future time might
more files be added to the list of things that the users will need to
access? Will the users be given copies of the encrypted files?
The reason for all these questions is that different solutions may be
possible based on the answers to them.
hope this helps,

@_date: 2010-02-27 11:21:47
@_author: Doug Barton 
@_subject: key generation: email-address necessary? 
1. It's been repeated many times on the list that those who have
investigated the issue have determined that the amount of spam to
addresses harvested from keyservers is negligible at worst.
2. You're far more likely to get spam to an address by using it to post
to a public mailing list.
3. The whole idea of taking any kind of steps to hide your address from
spammers has been overtaken by events. They will get your address. They
will send you spam. That's just how the world works now, and pretending
that you can do anything about it by "hiding" your e-mail address is
just foolishness.
4. The proper place to deal with spam is on the receiving end. First
your mail server, and second your MUA. "Smart clients" like Thunderbird
have built in spam fighting. Unix command line tools have access to
things like bogofilter.
5. And finally something germane to the list, the amount of trouble you
will cause for yourself and others by omitting your e-mail address will
far exceed any benefit you may get from "hiding" your address from the
hope this helps,

@_date: 2010-02-27 17:19:19
@_author: Doug Barton 
@_subject: key question 
I think it would be more accurate to say that we haven't seen any
arguments that will sway those with strongly held beliefs on either
side. Since we're not likely to see them any time in the future, I guess
the question at this point is, has everyone had their say yet?

@_date: 2010-01-23 17:27:53
@_author: Doug Barton 
@_subject: Incomplete mailing list archives? 
If you have a sent message in your own archive it would make it easier
for people to try and cross reference it. If you don't, it would point
to your own personal "orwellian memory hole."  :)

@_date: 2010-01-23 17:40:08
@_author: Doug Barton 
@_subject: distributing ones public key (email) 
I just did a quick test using Thunderbird 3, enigmail 1, and PGP/MIME
with both plain text and HTML mail. Using OE on an up to date version of
windows XP the message body was not visible at all.

@_date: 2010-01-23 17:55:59
@_author: Doug Barton 
@_subject: Encrypting for multiple users 
Well that message is pretty self-explanatory. :)  This commonly happens
when someone is mistaken about which keys they have, and/or where those
keys are located. This leads to you having the wrong public key. Have
the person do whatever the PGP equivalent to 'gpg --list-keys' is and
then you should be able to sort it out from there.

@_date: 2010-01-24 22:39:57
@_author: Doug Barton 
@_subject: Formalizing the Facebook Web of Trust 
Hash: RIPEMD160
[ I realize this is an old thread, but AFAICT no one mentioned this and
I think it's useful enough to add to the mix. ]
I agree that PGP is not likely the best choice for IM. It's also
important to define your goals. If your goals are merely to obscure your
messages from casual observers a lot of IM services use SSL now. Several
EFnet IRC servers are using it (
although they tend to include it as an afterthought), AIM/ICQ has the
option available, and of course there is Jabber/XMPP which has had it
available for a long time.
If your goal is something more robust that can encrypt the entire
channel, even from the server operators, then the Trillian client has
had this feature for at least 7 years, although last I checked it was
only for Windows.
If you want something that is cross-platform, able to encrypt the
channel, AND able to do some cursory identity validation as well, "Off
the record" messaging is the answer.  It's
available as a plugin for pidgin, and I'm given to understand is
included in other clients by default as well (such as adium for mac).
I've used it for years and have been very pleased with it.
I'll restrain myself from commenting in detail on the other issues
raised in this thread except to say that I agree with those who said
that using crypto properly takes more dedication than the average user
is willing (and no offense intended, able) to apply. As technologists I
think it's incumbent on US to figure out a middle ground that allows
people to use crypto in a way that is "good enough" for many purposes
even if it is not what we would consider "robust" or "secure" by our
definition(s). Of course then that opens up the can of worms that Robert
H. mentioned in regards to "adding crypto to things can make them worse,
not better ..."

@_date: 2010-01-24 22:50:50
@_author: Doug Barton 
@_subject: Unable to delete bogus keys 
I tried installing gpa and along with the keys that are actually on my gnupg keyring I also saw "keys" similar to the ones you have. Faramir was right in that these are NOT gnupg keys, they do seem to be X.509 certs. I'm not sure why gpa is picking them up, and while I'm mildly curious I haven't dug deeply into where they are located.
I would not encourage you to use this tool, it's FAR better to learn the command line options. If you really feel that you need a graphical tool for key management the one included with enigmail (the thunderbird gnupg addon) is better than most, and has the advantage that you can use the same tool in FreeBSD and Windows.
Rule number 1 of Information Technology, don't delete things if you don't know what they are. :)  Ok, wait, actually that's rule number 2. Rule number 1 is "make good backups." But seriously, don't delete stuff you don't understand, unless you're prepared to spend a lot of time rebuilding/reinstalling things. Of course, that's also a good way to learn, but only if you have an effectively infinite supply of time on your hands. ;)

@_date: 2010-07-02 20:33:14
@_author: Doug Barton 
@_subject: Using gpg2 without pinentry? 
It's not clear to me how any of these options would help, but thank you
for suggesting them.
To describe the problem more precisely, I'm running a command line mail
program (Alpine). That program has a feature that allows you to send the
incoming or outgoing mail to what's called a filter which is really a
separate program that does something to what it's passed and then
returns the result to Alpine. The specific filters in question are shell
scripts that I've written to integrate PGP with Alpine, and the specific
scripts that sometimes need a passphrase are the signing and
en/decryption scripts. The filter feature allows the invoked program to
be interactive so with gnupg 1.x there is no problem getting the
passphrase. When I'm running Alpine within the same X environment as
gpg-agent, gpg2 dutifully spawns the qt pinentry dialog and once it gets
its response gpg2 chugs merrily along and all is well.
The problem occurs when using gpg2 in an environment where spawning a
separate pinentry dialog doesn't work. In the situation I'm describing:
User runs Alpine,
What's needed for this case is a way to tell gpg2 "emulate gpg 1.x
behavior and prompt for the password in line." I haven't looked at the
internals in detail so I have no idea how difficult this would be. The
way that I "solve" this problem right now is that I tell my users not to
use gnupg 2.x in this situation. However I'm not sure that's going to

@_date: 2010-07-22 00:21:22
@_author: Doug Barton 
@_subject: verifying hashes with Gnupg 
If you're looking for a a set of tools to verify hashes in windows, take a look at

@_date: 2010-07-22 20:03:25
@_author: Doug Barton 
@_subject: plausibly deniable 
Can anyone else verify messages sent by Andre? His message claims to have a PGP signature, but what's in what should be the signature block

@_date: 2010-07-22 20:40:08
@_author: Doug Barton 
@_subject: plausibly deniable 
If you navigate to the message in Thunderbird and then type Ctrl-U, then scroll down you'll see this in the attachment:
Content-Disposition: attachment; filename="signature.asc"
I'm working on my PGP/MIME filter for Alpine at the moment, so I'm turning over more rocks than usual. :)

@_date: 2010-07-23 12:27:44
@_author: Doug Barton 
@_subject: plausibly deniable 
Right, hence my query. :)  I just wanted to be sure I wasn't missing something, the ways that different clients implement PGP/MIME is really, um, challenging.
Thanks!  I am pretty close to wrapping it up, and I'm going to post a message about the release candidate version soon (unless someone objects). I am doing many c!3v3R h4x with sed to munge the messages for verification and display, and I will need some linux testers to be sure I haven't broken anything. But I don't want to get too far OT ...

@_date: 2010-07-29 14:27:54
@_author: Doug Barton 
@_subject: Version 1.8 of pine-pgp-filters 
Hash: SHA256
First, apologies to those who receive 2 copies of this message, or those
for whom this message is unwelcome in any way.
I wanted to send a quick note for those who are using, or may be interested in using my scripts to integrate GnuPG with Alpine. I've released version 1.8 which has revised (and greatly improved) scripts to deal with PGP/MIME messages; and a minor cosmetic change to the other You can find the scripts themselves, and more information about them at

@_date: 2010-06-11 13:52:33
@_author: Doug Barton 
@_subject: Mailing list etiquette 
In a word, yes. The Internet's "Robustness Principle" says, "Be liberal in what you accept, and conservative in what you send." In other words, if you have preferences on how you deal with local mail, deal with them locally. Asking everyone on the Internet to adapt their way of working in order to fit your personal preferences is, in the politest possible terms, absurd.

@_date: 2010-06-12 13:47:20
@_author: Doug Barton 
@_subject: Test mail to gnupg.user 
As much as I hate to contribute to this off topic thread, it's probably worth saying that there are buttons for 'reply' and 'reply list/all' in tbird 3. It's a great upgrade from tbird 2, which I used for years. You might try downloading the linux version from the mozilla site.

@_date: 2010-06-13 22:06:37
@_author: Doug Barton 
@_subject: libassuan dependency mismatch with gnupg 2.0.15 and dirmngr 
Working on updating gnupg in FreeBSD and ran into a problem. GnuPG 2.0.15 requires libassuan 2.0.0, but to build the gpgsm module it requires dirmngr, which requires libassuan 1.x. My understanding is that there is a dirmngr update planned ( is there any progress on that?
My temporary solution has been to create a libassuan-1 port for the things that depend on it, update the libassuan port to 2.0.0, and update gnupg without the option to build gpgsm, but these are all kludges I'd like to avoid.

@_date: 2010-06-14 03:09:33
@_author: Doug Barton 
@_subject: libassuan dependency mismatch with gnupg 2.0.15 and dirmngr 
Looks good so far, thanks so much for the quick response! :)

@_date: 2010-06-18 14:13:02
@_author: Doug Barton 
@_subject: auto refresh-keys 
I've been following this discussion with interest as I've seen problems related to others not updating keys in the past. However I think David has identified the same 2 critical problems that I did, non-trivial amounts of modifications to the keyserver network, and the one he mentions above. Personally I think better education for users about the importance of refreshing their keys is a better way to go.
The idea that has been percolating in my brain is a warning message of some sort when gpg accesses a key that hasn't been refreshed in $PERIOD. If I understand the keybox idea properly it should be possible to store the "last refreshed" time in a format that gpg can easily deal with in line, so hopefully adding a warning won't be too difficult if that's

@_date: 2010-06-21 23:00:22
@_author: Doug Barton 
@_subject: local signatures: should they be importable by default in some 
What do you think "local" signatures are, and what do you think they mean? (And no, I'm not trying to be snarky, you're asking about "intuition," so it makes sense to address the base assumptions.)
Can you elaborate on the usage you're describing?

@_date: 2010-06-23 12:40:32
@_author: Doug Barton 
@_subject: Using the "clean" function (and the "PGP Global Directory") 
Assuming you're talking about FreeBSD, 'ls
option at compile time to include it, but it's off by default so if
you're using the package you'll have to build it yourself.
IME the pgp.com keyserver is queryable by ldap, but it doesn't seem to
do anything with updates to my key via --send-keys. I haven't done an
exhaustive test though, so this could be wrong.
 displays photos as well. I think it would be nice
if the SKS keyservers added this feature since it would definitely make
figuring out if the key(s) I found in a search are for the person I'm
looking for, but I don't care enough about it to dig into the code, too
many other things to do. :)
It's actually kind of interesting timing that Dan brought this up since
this aspect of the clean function has been bugging me as well. I like
the fact that 'clean' strips off all but the latest of duplicate sigs,
and in particular with the pgp.com keyserver I like that it does this,
but leaves the latest one even if it's expired. What I don't like is
that the generic 'clean' (and by this I mean import-clean and
export-clean in import/export/keyserver options) also strips off
signatures for keys that are not already present in the keyring. IMNSHO
it would be better if the default clean did everything it does now
_except_ stripping sigs for absent keys, and that the latter was a new,
additional layer. If that's not possible for backwards compatibility
reasons then a new feature to do the "clean everything as it does now
except stripping signatures for absent keys" would be ok too.
The reason I'd like to see signatures for absent keys by default is that
it gives me an idea of how well signed the key is. I've learned to use
3rd party tools like  for this, but I can't always
rely on 3rd party stuff to be completely up to date.
In regards to Dan's other question (automatically fetch keys for
checking signatures) one easy way to implement this would be for
--check-sigs (and in fact, other gnupg commands generally) to honor
--keyserver-options auto-key-retrieve.

@_date: 2010-06-28 12:35:33
@_author: Doug Barton 
@_subject: Using gpg2 without pinentry? 
That's not the issue. To simplify the problem somewhat, I'm on a windows box. I ssh to my Unix system at home. My .bashrc sets up gpg-agent for me. Now I want to sign something. The usual answer here is "pinentry-curses to the rescue." But let's assume that pinentry-curses is not an option. Now how do I enter my passphrase?

@_date: 2010-03-11 21:24:26
@_author: Doug Barton 
@_subject: Using the OTR plugin with Pidgin for verifying GPG public key 
"Secure" in this context is a relative term. (Note, I'm a long time user of pidgin+OTR and a longer-time user of PGP, so I'm actually familiar with what you're proposing.) If you know the person you're IM'ing well enough, you can do a pretty good job of validating their OTR fingerprint. But how "secure" that is depends on your threat model. Are you going to be encrypting sensitive financial data? Fruit cake recipes? Blueprints for nuclear weapons? Is the security of your communication something that you're wagering your life (or the lives of others) on? Is your communication of high enough value that your associate could have a gun to their head held by someone who is forcing them to answer your OTR questions truthfully? (Remember, you can't see them, or hear stress in their voice, you can only see what they type.) Have you and your associate pre-established a code question to handle the gun-to-the-head Hopefully that's enough questions to illustrate the point. :)

@_date: 2010-03-12 12:44:47
@_author: Doug Barton 
@_subject: Using the OTR plugin with Pidgin for verifying GPG public key 
You posited a scenario where you are using OTR communications to verify
a PGP key. My assumption (and pardon me if it was incorrect) was that
you had a security-related purpose in mind for the verified key.

@_date: 2010-03-20 18:09:48
@_author: Doug Barton 
@_subject: Generating a new key 
I've been following the discussions about new key types, sizes, etc.
with interest for a while now since my old DSA/El Gamal key (vintage
2003) is a bit long in the tooth, and I've been lusting after bigger
hashes, and better long-term security. Up till now my interest has been
mostly academic since I didn't have the easy access to key signing
events that I once did, but there is one coming up next week at IETF 77
that I will likely be attending, so I thought now is a good time.
Here are my choices for the various options, I'm curious if anyone sees
anything glaringly horrible about them. :)
gnupg version: 2.0.14
The FreeBSD ports for gnupg, libassuan, etc. haven't been updated yet,
and unless there is a truly compelling reason to update them myself, I'd
rather put my time into something else.
Signing key: 2048 RSA
1024 RSA seems right out based on recent events, however I can't see any
reasoning for a larger signing key, and I've read all the discussion on
why this is the default and don't see anything wrong with it (in my
expert opinion). :)
Capabilities: SCA
I don't have a particular need for an authentication key atm, but I
might someday, and I'd really rather avoid a proliferation of new keys,
subkeys, etc. I'm aiming to make this my one key for another good long
while. If I get 7 years out of this one (like I did my DSA key) that'll
be a good achievement I think.
Photo UID: 30915 bytes
This is a 175x200 jpeg, and I didn't think a 30k image was that large,
but gpg complains that it's "very large" or some such. I could strip it
down to a smaller size if this is truly too large, but the file size now
makes the photo just usable as it is.
Encryption subkey: 4096 RSA
Here is where I differ from the defaults. I understand the argument
about a 1,000 meter wall vs. a 100,000 meter wall, however the larger
key doesn't make any appreciable difference to the encrypted file size,
and I like the idea of having an encryption key large enough that I
don't have to worry about things staying encrypted for the foreseeable
So, anything painfully stupid in there?

@_date: 2010-03-20 19:10:34
@_author: Doug Barton 
@_subject: 2.0.14 --gen-key interface nit 
Playing around with key generation there was something banging around in
the back of my mind and it finally hit me:
Possible actions for a RSA key: Sign Certify Encrypt Authenticate
Current allowed actions: Sign Certify Authenticate
   (S) Toggle the sign capability
   (E) Toggle the encrypt capability
   (A) Toggle the authenticate capability
   (Q) Finished
Real name: Douglas Barton
Email address: dougb at dougbarton.us
You selected this USER-ID:
    "Douglas Barton "
Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? o
The Q option behaves inconsistently between these two menus. In the
capabilities menu it means "we're done, and all is well;" in the uid
section O ("oh") means Ok, but Q bails out of the whole key generation
The easiest way to fix this would probably be to change the capabilities
menu since that's an --expert option.

@_date: 2010-03-20 20:22:12
@_author: Doug Barton 
@_subject: Generating a new key 
Guilty. :)
Yes, that's a consideration, however in 5 years we'll have had at least
2 iterations of Moore's Law, and in my experience so far I do much more
signing than I do encryption.
Thanks for the review. :)

@_date: 2010-03-20 21:29:49
@_author: Doug Barton 
@_subject: Generating a new key 
I thought about that actually, and was unclear about two things. It
doesn't seem to me that an authentication key would need signatures, is
that correct? The other is in reference to what you said above. If I add
an authentication subkey is it possible to store just the subkey
separate from the "main" SC key? I'm familiar with the concept of
on-line vs. off-line keys and fairly familiar with the security
implications relative to my work with DNSSEC, just not sure how they
relate here.
Ok, saving it at 77% instead of 100% and removing all the exif data got
me down to 6140, which is just below the magic number of 6k. I can tell
the difference between the two images, but the smaller one still serves
the purpose.
That's a good point, thanks. I've no plans to use a smartcard but no
sense in gratuitously eliminating that possibility either.

@_date: 2010-03-25 14:59:45
@_author: Doug Barton 
@_subject: Possible to sign &/or encrypt without importing to keyring 
I don't believe it's possible, but in any case there are at least two
solutions that are simpler. One would be to import the key, use it, then
delete it (no harm done to what's left behind) and the other, slightly
more complicated but still doable is to create a new keyring file for
the purpose and import the key into it.
In general the concept of "keyring management" is one area (with all due
respect to the developers) that I think gnupg does not make things very
easy. I like to keep keys related to different responsibilities on their
own keyrings, and to further complicate matters I like to keep my
personal public keys on yet another ring. The primary reason I like to
do this is that it allows me to enable the auto-key-retrieve option. I
allow all the automatically retrieved keys to go into pubring.gpg, and
then I periodically delete that ring when it gets too large.
In order to facilitate this in my gpg.conf file I have a section where I
list the active keyrings. Then I copy my conf file to "nokeyrings.conf"
and replace the list of keyrings with no-default-keyring. Then I can use
the following alias:
alias gpgk='gpg --options ~/.gnupg/nokeyrings.conf --keyring'
Assuming you set up something similar you could then do the following:
gpgk onetime-ring.gpg --import You'll get a warning about your ultimately trusted keys not being found
but once you've got the key imported you can then use it as you normally
would (assuming you either specify that keyring on the command line, or
include it in gpg.conf).
I keep meaning to write up something in more detail about how I manage
my keys and include some feature requests, but for better or worse I
haven't found the time yet. I will probably do it this week though since
I went to a key signing on Tuesday and it's all fresh in my mind.
hope this helps,

@_date: 2010-05-07 09:39:45
@_author: Doug Barton 
@_subject: Wrong signature hash detection? 
You do. :)  But since no one has pointed out the actual problem yet,
here you go ... The sha1 _hash_ of the file organspende.jpg is
e4c4bea661f2d50e20213eb8412e7f47222289d0. What you're looking at are PGP
signatures based on that hash.

@_date: 2010-05-30 00:09:30
@_author: Doug Barton 
@_subject: ...key belongs to ... 
You need to sign the PUBLIC key on the keyring of the account that is
doing the encryption.

@_date: 2010-11-10 10:59:07
@_author: Doug Barton 
@_subject: Cannot validate Truecrypt signature  using GNU Privacy Assistant 
For the first error you're not in the directory where the files are. For the second you gave a path that doesn't exist. I assume that you've actually downloaded both a source tarball (filename.tar.gz) and its associated signature (filename.tar.gz.sig). Open up a terminal, and use the command 'ls' (no quotes). You should see something like this (perhaps with other files and directories listed as well):
truecrypt-7.0a-linux-x64.tar.gz  truecrypt-7.0a-linux-x64.tar.gz.sig
If you don't see truecrypt related files, you're probably in your home directory, and the files were downloaded to Downloads, so do this: cd Now do ls again, and you should see the files. Now you can do: gpg --verify filename.tar.gz.sig and it should work.
Good luck,

@_date: 2010-11-10 11:25:55
@_author: Doug Barton 
@_subject: How to decrypt string in php 
Haven't tried it in php but echo should work here:
echo $string | gpg ... --decrypt

@_date: 2010-11-23 15:48:52
@_author: Doug Barton 
@_subject: Examine a key file 
Are you sure?  Using gpg2 I just tested your command, and Robert's. His worked. :)

@_date: 2010-10-04 10:45:02
@_author: Doug Barton 
@_subject: Certification-only key 
Why did you choose to make your signature subkey expire, and why would you not simply extend the expiration date of the existing key rather than create a new one?

@_date: 2010-10-06 10:15:39
@_author: Doug Barton 
@_subject: Help for testing GPG installation 
FYI, trying to obfuscate your e-mail address in any fashion is pointless since the spammers can reconstruct it just as easily as anyone else. It's particularly pointless to do so in your own e-mail message. :)
In any case, this group can help with your PGP technique practice:
hope this helps,

@_date: 2010-10-15 10:31:04
@_author: Doug Barton 
@_subject: Confirmation for cached passphrases useful? 
I've really been biting my tongue on this thread because it seemed like the right people were saying the right things already, but you're making me nervous now Werner. :)
The right solution to the concern expressed is to keep the time for gpg-agent to cache the pass phrase down to a reasonable level, where "reasonable" may mean different things in different environments. I don't remember what the default is, but I do recall thinking when I first installed -agent that it seemed sufficiently short to protect new users from themselves; but too short for my tastes, so I fixed it. :)
The other problem with the confirmation proposal is that (unless I'm missing something really dramatic) the intersection between plausible attack vectors and vulnerabilities that confirmation would actually fix seems so small that it does not justify even the coding/QA time to develop the feature, never mind the inconvenience to the user.

@_date: 2010-10-17 18:09:48
@_author: Doug Barton 
@_subject: Confirmation for cached passphrases useful? 
Hash: SHA256
Two problems with that theory. The first is that a false sense of
security does more harm than good. The second is that there is no such
thing as a zero-cost change to software. So any proposed change has to
have benefits that outweigh the costs. Of course accurately anticipating
those costs is a whole different category of problems. :)

@_date: 2010-10-19 09:55:09
@_author: Doug Barton 
@_subject: Encrypting a file 
Perfectly valid. That's why it's called the "public" key.
Sounds like a minor misunderstanding on his part. You sign a message with your private key, he verifies the signature with your public key. You encrypt messages TO public keys (your and his) and then you each use your private keys to decrypt them.
If I were in your shoes I'd simply encrypt the file to my key and his, and send it to him. Chances are excellent that it will all work according to plan.
Good luck,

@_date: 2010-08-31 19:56:26
@_author: Doug Barton 
@_subject: Generating smart-card stubs on a clean computer? 
Hash: SHA256
If you run 'gpg --edit-key 0xyourkeyid' does it show that the key is
ultimately trusted? If not, edit your trust level and try again.

@_date: 2011-04-01 13:53:37
@_author: Doug Barton 
@_subject: Hi 
It's unclear to me how this thread relates to gnupg. Perhaps I'm missing

@_date: 2011-04-06 13:52:14
@_author: Doug Barton 
@_subject: gpgme-1.3.0 make error 
Make sure your ports tree is up to date, make sure all of your ports are up to date, rebuild libassuan, then try again.

@_date: 2011-04-06 14:53:25
@_author: Doug Barton 
@_subject: gpgme-1.3.0 make error 
d'oh, I lost track of what list I was reading. If you're using FreeBSD the advice makes total sense. If you're not, sorry for the confusion. :)

@_date: 2011-04-12 11:11:27
@_author: Doug Barton 
@_subject: gpg: encryption failed: public key not found 
Right, so, next time show some restraint. :)
There is more than one way to do it. Just because using sudo may be the way that you are familiar with doesn't make it a one-size-fits-all solution. (And no, don't bother posting any elegant treatises on why sudo is the one true way. No point getting further off topic, and you won't convince me anyway.)

@_date: 2011-04-17 15:49:58
@_author: Doug Barton 
@_subject: A better way to think about passwords 
Hash: SHA256
Summary: A 3-word password (e.g., "quick brown fox") is secure against
cracking attempts for 2,537 years.

@_date: 2011-04-17 18:08:33
@_author: Doug Barton 
@_subject: windows front end to GnuPG 
There is nothing about enigmail that requires gnupg 1. I use it with gnupg2 without any problems on windows and FreeBSD.

@_date: 2011-04-17 18:31:43
@_author: Doug Barton 
@_subject: A better way to think about passwords 
I agree that the description of baekdal's use case is pretty limited, and his math may be optimistic. OTOH this page seems to cast doubt on the idea that even comparatively simple passwords can be cracked in very short time periods, and more importantly that length is more important than complexity in any case:
On the other other hand, if passwords are so easy to crack, why use them at all? :)

@_date: 2011-04-17 19:19:26
@_author: Doug Barton 
@_subject: A better way to think about passwords 
True, a determined attacker will always be able to get access to your encrypted data. The trick is to make the difficulty of making that happen more costly than the value of the data.

@_date: 2011-04-26 13:12:00
@_author: Doug Barton 
@_subject: Updating signature cert-level 
I think you can delsig, then sign again. The keyservers would have both, but hopefully client software (like gpg) would be smart enough to use the more recent? I would imagine that revoking a signature and then signing again would make it worse instead of better?
Meanwhile, add ask-cert-level to your gpg.conf.

@_date: 2011-04-26 16:50:16
@_author: Doug Barton 
@_subject: Updating signature cert-level 
Ok, thanks for confirming that I'm not a complete loonie. :)

@_date: 2011-04-29 11:09:12
@_author: Doug Barton 
@_subject: signing non default key 
Please don't try to start a new thread by replying to an old message and changing the subject line. This causes your message to appear "under" the old thread for those of us who use threaded mail clients.
The better solution is to save the list e-mail address to your address book, then start a whole new message.
hope this helps,

@_date: 2011-08-04 14:32:10
@_author: Doug Barton 
@_subject: [Announce] GnuPG 2.0.18 released 
Hash: SHA256
First, congratulations on the new release. I've got it up and running on
FreeBSD, hope to have the port updated soon.
Meanwhile, about the new feature listed above, a couple of
comments/questions. First, would it be possible to have a run-time
option not to display the fingerprints? I think it's an interesting
idea, but not particularly useful to me as I don't already have them
memorized. :)
The other question is about the display of the path to the key (which
for me actually is relevant since it tells me what password I need to
type). I have several keys, and so far for one it displays the path in
the ()s, but for one of my others it does not. How would I debug this?

@_date: 2011-08-08 16:09:30
@_author: Doug Barton 
@_subject: Problem with GPG 
Take a look at That's the same error I was getting when I ran 2.0.17 compiled against
the old libgcrypt after upgrading libgcrypt to 1.5.0. Does gpg --version
tell you that you're running 2.0.18?

@_date: 2011-08-09 09:51:56
@_author: Doug Barton 
@_subject: Working with a system-shared keyring 
Easier to code maybe. But I still maintain that losing the ability to
have multiple keyrings will be a significant loss of functionality for
the user. Significant enough for me that I would likely go back to the
1.4 branch (with regrets, since I like some of the functionality that is
provided in 2.x now).

@_date: 2011-08-19 00:20:37
@_author: Doug Barton 
@_subject: claws mail with PGP in-line? 
Anyone using claws mail with PGP in-line? I have the addon loaded but
every time I try to verify an in-line message it says, "The signature
can't be checked - Unknown error." When I click the lock icon it says
"The signature can't be checked - No signature found." All the
searching I did seemed to indicate that with the plugin loaded it
should just work. The claws documentation is really slanted towards the
"in-line is deprecated" camp, so wasn't much help. Pointers, including URLs for TFM are welcome.

@_date: 2011-08-22 00:06:35
@_author: Doug Barton 
@_subject: gpgme problem with claws mail 
The nice folks at the claws list helped me narrow down my problem, as
you can see below. I'm using gnupg 2 normally, but I tried switching to
gnupg 1 and that didn't help. I'm using gpgme-1.3.1.
Any suggestions on how I can debug why gpgme is not recognizing that
there is a signature in the message?
Begin forwarded message:
Begin forwarded message:
On Sun, 21 Aug 2011 15:32:59 -0700
Claws detects the email to be signed
Claws is calling a library routine in gpgme:
status = gpgme_op_verify_result(ctx);
        if (status && status->signatures == NULL) {
So either the call fails to find the signature or the gpgme library is
not proper initialized.
In both cases the error resides outside off claws.

@_date: 2011-08-23 02:09:52
@_author: Doug Barton 
@_subject: gpgme problem with claws mail 
On Tue, 23 Aug 2011 10:02:30 +0200
Awesome, thanks! The problem turned out to be the fingerprint option in
my gpg.conf file. Changing that to with-fingerprint fixed it. I have
logs for with and without if you're interested. That option was showing
up in red in vim so maybe I should have paid more attention to it. :)
Thanks again,

@_date: 2011-08-23 02:47:47
@_author: Doug Barton 
@_subject: gpgme problem with claws mail 
Well sure, it makes sense when you say it that way. :)  I've had it in
my gpg.conf for ages though, so I didn't suspect it immediately.

@_date: 2011-08-25 11:21:18
@_author: Doug Barton 
@_subject: Signing multiple keys 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
The script below is designed for generating challenges as opposed to
doing the signing, but you may find the bits that iterate the keys on a
ring interesting.
BTW, this is another one of the reasons that I find the ability to have
multiple keyrings useful, and would very much miss that functionality if
it disappeared from gnupg 2.1.

@_date: 2011-08-26 14:34:05
@_author: Doug Barton 
@_subject: Signing multiple keys 
So feel free not to use them. :)
Yes, that is entirely the point.
2 for 2.
Well the only thing you seem to have missed is the context in which I
use the script, which is my signing other people's keys. It's part of my
signing policy that I do not sign a uid unless I'm sure that the holder
of the key still has access to it. Similarly this process allows me to
verify that they still have access to the key(s).
One could certainly argue that my doing this is verification step is
overly fussy (and you wouldn't be the first), but that's my policy.

@_date: 2011-08-26 17:03:18
@_author: Doug Barton 
@_subject: Signing multiple keys 
I didn't take it that way, and wouldn't have cared if you did in any
case. :)
I have a particular concern that if I sign a key with "I checked
carefully" that I really did. Moreover, I have a philosophical prejudice
that if I *can't* say "I checked carefully," why bother?
That said, I have in the past run across people who still have old
e-mail addresses that they no longer have access to on their keys, so
it's more than a theoretical issue, for me at least.

@_date: 2011-08-26 17:25:48
@_author: Doug Barton 
@_subject: Multiple Keyrings WAS Signing multiple keys 
[some snippage]
This not meant as an attack in any way, shape, or form; but I don't find
"It's hard to do right" a compelling argument. The question is whether
or not the effort to do it right is worth it relative to the benefits
that using multiple keyrings brings.
Apologies if I haven't made it clear that this isn't even close to being
a factor for me.
That would (sort of) solve the problem of dealing with new keys from a
keysigning party, but in other ways it makes things more complex as well
(I know, I've tried it).
So why do I care so much about multiple keyrings? Let me describe my
setup. First the caveat (that I've already offered, but for completeness
sake I will offer again). This is WAY more complex than the vast
majority of users would need, want, or be able to work with; and I
recognize that. But that being said ...
I have the following keyrings:
1. My public keys
2. Keys that have signed my key (including cross signatures)
3. Keys that I have signed publicly
4. Keys that I have signed locally
I always want to have these keys available, forever.
Then in decreasing order of importance I also have:
5. Keys for important contacts
6. The FreeBSD project keyring
7. Keys used to sign software and other stuff that I care about
8. The keyring for the PGPNET and PGPMIMENET groups
9. My pubring
6 and 8 are interesting in this context because while I do strive to
keep them up to date manually on a day-to-day basis it's really really
easy (using a shell alias) to recreate them by downloading the key file
and just creating a new ring with the same name as the old one.
As for my pubring, I have the auto-key-retrieve option in gpg.conf so
that when I'm reading mailing lists I don't have to be bothered about
doing that manually. When it gets too bloated and/or full of wacky stuff
I just do 'rm pubring.gpg~ && > pubring.gpg' then refresh what's left.
When I go to a keysigning party I either add or create a keyring to
represent the new keys, and then migrate them to the appropriate
existing ring as I get/send signatures. As I already pointed out my
script to generate challenge messages relies primarily on having a
keyring to work with, although I did add functionality to do individual
Could I find ways to do all of this in a "one keyring to rule them all"
world? Sure, with enough effort and creativity. But as Brian already
pointed out I'm not the only one who has built functionality around the
idea of multiple keyrings, and I suspect that there are a lot more use
cases than ours.

@_date: 2011-08-26 17:32:11
@_author: Doug Barton 
@_subject: Which release should we be using? 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
Well, like most of us I'm sure, I'm a big fan. So I would be thrilled to
know that my post about that was the germ of an idea for him. OTOH that
link was around for quite a while before I posted it here, so I'm
perfectly satisfied chalking it up to GMTA.
PS, Randall if you *are* lurking here, congratulations to you and yours
re  :)

@_date: 2011-08-27 03:28:22
@_author: Doug Barton 
@_subject: Any news on a gpg4win update? 
I use gpg4win on my windows systems, and I can live with the gnupg
version being a little stale. But I'm trying really hard to like
claws-mail, and they just release a new version today making the one in
gpg4 win 2 versions behind the curve. Maybe you were just waiting for
today's claws release? :)

@_date: 2011-02-03 15:18:45
@_author: Doug Barton 
@_subject: moving user ID Comments to --expert mode 
That's part of the test. Congratulations on your passing grade. :)

@_date: 2011-02-03 15:22:54
@_author: Doug Barton 
@_subject: moving user ID Comments to --expert mode 
I'm as pedantic as the next geeky dev, but I agree with this, and believe that arguing from example is perfectly valid in this case.
FWIW I would love to see the comment field moved to expert mode since it rather clearly qualifies under the "If you don't already know that you need this, you don't need this" category that --expert is designed to protect the casual user from. I think (Optional) would be an Ok compromise if that's what the gnupg devs think is right, although something closer to (You probably don't want to type anything here, no, really, don't do it) would be better. :)

@_date: 2011-02-03 17:17:14
@_author: Doug Barton 
@_subject: moving user ID Comments to --expert mode 
So, you're saying that hams are not smart enough to figure out how to use expert mode if they really want this functionality? :)

@_date: 2011-02-03 17:36:57
@_author: Doug Barton 
@_subject: moving user ID Comments to --expert mode 
I don't disagree with anything above, but
Why? Restating my argument in a more serious fashion:
1. There are very few people who usefully benefit from comments
2. Most novice users who add a comment do so badly
3. Therefore moving the option to expert mode is a win for the community.
I actually disagree with this as stated, although I will grant you that point 2 above is included in the overall issue. :)
That all sounds good to me.
Doug (seriously)

@_date: 2011-02-03 23:16:30
@_author: Doug Barton 
@_subject: moving user ID Comments to --expert mode 
I recognized it, but I don't think the answer is as central to the question of moving comments to expert mode as you do. Daniel's argument boils down to "almost everyone who uses a comment doesn't need to, and most of the ones who do use them poorly." Your counter argument boils down to, "yeah, but here is a group of people who use comments well." I gave a tongue-in-cheek response, but the kernel of it was (IMO) pertinent.

@_date: 2011-02-24 01:03:52
@_author: Doug Barton 
@_subject: Default hash 
You're using a 1024 bit DSA key, which won't allow for 256 bit hashes. RIPEMD-160 is the largest you can use, and works well for that kind of key.

@_date: 2011-02-26 20:28:53
@_author: Doug Barton 
@_subject: PGP/MIME considered harmful for mobile 
If you look at the characteristics of the actual messages encrypted mail is very similar whether it's in-line or MIME. It's signed messages that make things interesting because the signature in a MIME message is actually (sort of) an attachment but also sort of not, which is why it confuses simple mail readers like Outlook Express.

@_date: 2011-02-27 14:52:56
@_author: Doug Barton 
@_subject: PGP/MIME considered harmful for mobile 
Can you provide examples that do not work when both the mail client(s) and gnupg are properly configured to use UTF-8?

@_date: 2011-02-27 14:59:15
@_author: Doug Barton 
@_subject: PGP/MIME considered harmful for mobile 
Yes, of course. Not sure how that's relevant. :)
If you're using Mutt exclusively, that's likely the problem. My experience is different because I use Thunderbird primarily, and I see a failure rate (very) slightly higher for MIME-signed messages but that's usually because enigmail hasn't done the appropriate EOL munging. I have a set of scripts for PGP on Alpine that render most of those correctly, so the actual failure rate for the signatures themselves is pretty much Once again, while what you're saying may be true, it's not really relevant to the fact that there are a non-trivial number of MUAs in the installed base that simply choke on PGP/MIME.
The simple fact is that both types of signatures have valid use cases, and there is really no point in trying to convince people not to use one method or the other. It's equally silly to use disparaging language about either method.

@_date: 2011-02-27 15:03:04
@_author: Doug Barton 
@_subject: PGP/MIME considered harmful for mobile 
I love/admire your optimism. :)
There is still a large installed base of MUAs that don't handle PGP/MIME properly, such as Outlook Express. So ...
... is a totally unrealistic way to view the world.
There are valid use cases for both types of signatures, hoping that one or the other will go away is equally unrealistic. :)

@_date: 2011-01-05 12:02:47
@_author: Doug Barton 
@_subject: --digest-algo ignored on gnupg-1.4.9? 
If you have a 1024 bit dsa key this is likely the cause. To help you more we'd need to know what kind of key you have, and what you're setting for disgest-algo. Also, Robert's reply was correct too. :)

@_date: 2011-07-06 12:37:16
@_author: Doug Barton 
@_subject: Is the OpenPGP model still useful? 
IDOYTM, which you haven't defined.
Personally I've used OTR for years, and am a big fan.

@_date: 2011-07-06 13:50:45
@_author: Doug Barton 
@_subject: Is the OpenPGP model still useful? 
It depends on your threat model. You haven't defined what you're guarding against, so it's impossible to judge how potential solutions may or may not help.
Um, yeah, Ok.
And like I said (and Daniel said in more detail) OTR has some very valid uses cases, but without knowing what your goals are it's hard to respond

@_date: 2011-07-12 12:09:12
@_author: Doug Barton 
@_subject: Assertion failure from gnupg with enigmail 1.2 
I sent the following message to the enigmail list but they punted me to
you. :) To clarify, I can take the same command line and run it in a
terminal against a text file just fine. If you lot can tell me what the
failed assertion means, I can go back to the enigmail folks with more data.
I'm getting some odd errors with enigmail 1.2 and tb5 on FreeBSD. I just
sent a message to a mailing list and the "sign replies to signed mail"
auto-option kicked in, which is great. :)  The problem is, the signature
on my message fails to validate, which has never happened to me before.
So then I tried sending myself a simple message and I get this:
enigmail> /usr/local/bin/gpg2 --charset utf8 --batch --no-tty
--status-fd 2 -t --clearsign -u 0x1A1ABC84 --use-agent
Assertion failed: (data), function mpi_from_sexp, file pkglue.c, line 41.
That line from pkglue.c:
static gcry_mpi_t
mpi_from_sexp (gcry_sexp_t sexp, const char * item)
  gcry_sexp_t list;
  gcry_mpi_t data;
  list = gcry_sexp_find_token (sexp, item, 0);
  assert (list);
  data = gcry_sexp_nth_mpi (list, 1, 0);
  assert (data);	<<<<<<<<< line 41
  gcry_sexp_release (list);
  return data;

@_date: 2011-07-12 14:59:39
@_author: Doug Barton 
@_subject: Assertion failure from gnupg with enigmail 1.2 
Ok, this patch was sent to me by someone who chose to reply privately.
It works, does it seem like the right thing to do?

@_date: 2011-07-20 14:48:03
@_author: Doug Barton 
@_subject: secring and dropbox 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
Some of us run systems that don't have that issue. :)

@_date: 2011-06-09 13:38:45
@_author: Doug Barton 
@_subject: Working with a system-shared keyring 
IMO that would be a serious regression. I have several different spheres where I use PGP, and I use various different keyrings to make it easy to keep things up to date. I also use keyrings to keep the keys that have signed my key, keys that I've signed, etc.
I realize that my use is exceptional, and that the average gnupg user isn't going to have nearly as many separate keyrings as I do, but I'd hate to lose that capability.

@_date: 2011-06-10 11:43:34
@_author: Doug Barton 
@_subject: Working with a system-shared keyring 
Can you elaborate on those problems? I can think of several examples of databases whose contents are stored in multiple files without any difficulty, so I'm curious.
Actually I'm very careful to avoid doing just that. :)  I have various command-line aliases to move keys between rings depending on their status, de-duplicate on import, and cross-check to make sure that I haven't missed something.

@_date: 2011-03-02 10:38:48
@_author: Doug Barton 
@_subject: Enquiries about GnuPG 
You can find most (if not all) of the answers you're looking for at After reading the material there if you still have questions, fire away.

@_date: 2011-03-10 11:39:35
@_author: Doug Barton 
@_subject: Signing signature policies required for safe key usage? 
... and whether or not the thing you have (email message, software blob, etc.) is the same as the thing that was signed by the signer. Beyond that you're correct in saying that everything else you can infer from the signature is based on your understanding/confidence/etc. in the keyholder's security, policy, etc.

@_date: 2011-03-12 16:32:20
@_author: Doug Barton 
@_subject: hashed user IDs [was: Re: Security of the gpg private keyring?] 
I'm hoping that this discussion is going to draw to a close soon, having already lived through it and drawn roughly the same conclusions on PGPNET.

@_date: 2011-03-13 09:37:17
@_author: Doug Barton 
@_subject: For Windows 
Wow, are you ever naive. :)  There are millions of people still using Windows XP and Outlook Express. Microsoft has apparently committed to _supporting_ XP into 2014, which means that you won't see serious reduction in XP use for a few years after that, with a very long tail of people continuing to use it for years following. (I spoke with someone the other day who is still using Windows 98 because "it does what I want it to do.")

@_date: 2011-03-13 15:28:02
@_author: Doug Barton 
@_subject: For Windows 
Not in 3rd grade?
That's just silly, given that:
1) 30 years of Internet tradition says that cc'ing the poster in
messages to the list is the polite thing to do
2) The "Robustness Principle" says, "Be conservative in what you send,
liberal in what you receive."
3) It's completely irrational for you to expect that everyone else on
the Internet is going to change their behavior to suit you
4) If you _really care_ so much about this topic, there is a mailman
configuration option that you can twiddle to solve it for you. You can
follow the instructions at the bottom of the post to get there.
Well that's both silly _and_ childish.
"I don't think that word means what you think it means." It's totally available to the millions of desktops that still have XP installed. This is the most recent survey I could find, and they make the mistake of conflating "Outlook Express" with older "Outlook" versions (which is a mistake because they are separate products) but it should give you an idea:
I'm pretty sure I'm not the one who is confused. :)
That depends on your goals. If your goal is to try to force a certain idea of communicative purity down people's throats, then no. If your goal is to be able to communicate most effectively with the widest number of mail recipients, you might want to think about it.
No, actually I haven't. I stand by my statement that there are millions of OE users now, and that those numbers won't be going down much any time soon.

@_date: 2011-03-15 20:04:18
@_author: Doug Barton 
@_subject: hashed user IDs [was: Re: Security of the gpg private keyring?] 
I do, occasionally, get spam directed to addresses that I am sure were harvested from they keyservers. However at the far outside of the range it's no more than 10/month, whereas my usual run rate for all other types of spam is around 100/day.

@_date: 2011-05-05 13:10:21
@_author: Doug Barton 
@_subject: Best practice for periodic key change? 
What are you trying to accomplish by doing it this way? I've yet to see a good rationale for setting expiration dates on keys, but perhaps you can be the first. :)

@_date: 2011-05-06 00:47:57
@_author: Doug Barton 
@_subject: Best practice for periodic key change? 
Obviously you've thought through one side of the problem of key compromise (which I've snipped), but I'm not sure you've thought through the ramifications of what's going to happen after the bad guys get your You create a key with an expiration date.
You sign stuff with it.
Users download your stuff, the signature, and your key, and verify the signature on your stuff. All good.
Now the bad guys get your key (oops!).
They sign malicious versions of your code, and upload it.
Users who still have your (now compromised) key will still be able to verify the signatures (as you pointed out). The tiny percentage of users who periodically refresh their keys, and care that the key has expired, _may_ notice something is wrong, probably not.
Even if the user doesn't already have the key, most keyservers don't hesitate to serve up keys that are expired, or even revoked.
There's also another element, the expiration date is irrelevant if the key is actually compromised. If Eve has your secret key she can simply update or remove the expiration date, and upload the new version of the public key to the public keyservers. So, I remain confused as to what purpose expiration dates on the keys will serve.
One could make an argument for creating new keys (or subkeys) on an annual basis with a comment to the effect of "This key is only valid for signatures created during calendar year 2011." However, asking users to parse that is likely to be more than they are able or willing to do. And even that can be trivially compromised if Eve changes the clock on her computer before generating the signature.
In short, rotating keys, with or without an expiration date _may_ add single-digit percentage points of security to your intended use, but you'd be far better off with a good management policy for your secret key (you've been given some good suggestions already) to reduce as much as possible the potential for having it compromised.
Good luck,

@_date: 2011-05-06 13:37:12
@_author: Doug Barton 
@_subject: Best practice for periodic key change? 
I don't understand this response. What I'm saying is that if the key is compromised, expiration dates become irrelevant. Perhaps you could expand your response a bit?
How so? I still haven't seen an explanation of what benefit the expiration date provides.

@_date: 2011-05-06 13:56:07
@_author: Doug Barton 
@_subject: Best practice for periodic key change? 
That's absolutely not true. New signatures can be created with expired keys, and as Werner pointed out new signatures can be created with keys that have had their expiration dates updated, and although a percentage of users may inquire about it, it's usually the "know just enough to be dangerous" contingent (I.e., those smart enough to know that the key is expired on their key ring, but not smart enough to refresh it). There may be a tiny percentage of users who are smart enough to do both, who would then realize that the signature is invalid. However given that the scenario you described (forgery, vs. key compromise) is so overwhelmingly unlikely to happen (at least in any kind of meaningful way) I'm not sure it's worth considering.

@_date: 2011-05-10 20:14:17
@_author: Doug Barton 
@_subject: secret key not available 
So I think you've described the problem ... you didn't export the secret key, you exported the public one.

@_date: 2011-11-01 11:22:47
@_author: Doug Barton 
@_subject: small security glitches 
That's a local preference, which you can easily disable.

@_date: 2011-11-11 14:57:53
@_author: Doug Barton 
@_subject: Signing already-encrypted files (all to self)? 
I think this came up last time and I don't remember the reason you
didn't like the solution, but wouldn't something like truecrypt be a
whole heckuva lot easier?

@_date: 2011-11-13 13:31:07
@_author: Doug Barton 
@_subject: group in gpg.conf but gpgmail does not honor/see 
Sean, take MFPA's advice and try different combinations of spaces and
angle brackets as above. I would be very surprised if gpgmail scanned
the gpg.conf or the key files directly. It's far more likely that it's
asking gpg to encrypt to an e-mail address that looks like $this.
Figuring out what the "$this" is should allow you to use the group line

@_date: 2011-11-16 14:36:48
@_author: Doug Barton 
@_subject: GPA File Manager 
So you're saying that we don't have the freedom to discuss all the
different alternatives? Ok, got it. Thanks. :)

@_date: 2011-11-18 10:50:14
@_author: Doug Barton 
@_subject: GPA File Manager 
I don't think anyone is saying that the managers of the gnupg lists
don't have the right to create restrictions for their use. At least I'm
not saying that. It's their list, their rules. No worries.
My original post was intended to be a humorous jab pointing out the
irony of restricting our freedom to discuss other, relevant, software
projects; in the name of freedom. That's all. :)

@_date: 2011-11-18 11:21:03
@_author: Doug Barton 
@_subject: GPA File Manager 
Well *I* certainly think it is, but then I'm a BSD person, so I have
that kind of strange heretical view about things. :)
Agreed, and that wasn't my intent either (hence the smileys, and general
light-hearted tone of my posts). I have no problem agreeing to disagree
with my fine upstanding GNU colleagues. But hopefully we can all agree
that it's Ok to poke a bit of fun at ourselves ... it's all just 1's and
0's in the end, right?

@_date: 2011-11-30 14:47:43
@_author: Doug Barton 
@_subject: Possible IPv6 bug for --keyserver option 
============================== START ==============================
This usually happens when the OS has signaled that it has IPv6
available, but it's not actually configured on any interfaces. The usual
way to fix this is to flip the knob that says "IPv6 is *not* available."
Of course, a better way to fix it is to get IPv6. :)

@_date: 2011-10-10 01:06:49
@_author: Doug Barton 
@_subject: Why revoke a key? 
When you start a new topic please create a new message, don't just reply
to an old one and change the subject. Doing the latter causes your
message to be "hidden" under the old ones for those of us who use
threaded mail readers.
You already got good answers to this question, it depends on how much
other people are depending on the security of your key.

@_date: 2011-10-16 18:37:52
@_author: Doug Barton 
@_subject: use key, not passphrase, in symmetric encryption 
It's sort of hard to understand what you're trying to accomplish, can
you give us more details?

@_date: 2011-10-17 17:08:50
@_author: Doug Barton 
@_subject: private key protection 
I'm not sure I understand the distinction you're making there.

@_date: 2011-10-25 16:07:03
@_author: Doug Barton 
@_subject: STEED - Usable end-to-end encryption 
Privacy is certainly one reason. Others are the greater capacity of
envelopes, ability to send more than one piece of paper at a time,
ability to carry things other than paper .... I could go on. My point
being that it's just as important to observe the lenses through which we
do our observations as it is to make the observations themselves.

@_date: 2011-09-18 18:35:57
@_author: Doug Barton 
@_subject: Easiest way to migrate from GPG 1.4.11 to 2.x? 
No need to migrate anything at this point. The two are interchangeable.

@_date: 2012-04-19 13:10:11
@_author: Doug Barton 
@_subject: Cannot import private key 
Try just copying the files. IME it's almost never necessary to do the
export -> import dance. If a plain copy doesn't work, then try the
suggestion to do the export without -a.

@_date: 2012-04-20 09:55:54
@_author: Doug Barton 
@_subject: Clarification in man page? 
I use/develop for a lot of different Unix', it's pretty commonly
accepted at this point.
That looks like a good change.
To the OP, rather than saying, "Can you write better docs?" how about
proposing changes that make sense to you? Not only is that closer to the
open source model, it's notoriously hard for developers to document
their own work, since it all makes perfect sense to us. :)

@_date: 2012-08-09 16:09:48
@_author: Doug Barton 
@_subject: Malformed Revokation Certificate? 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
Maybe I'm missing something in this conversation, and if so I
apologize. But how would attaching the revocation cert to a key be
possible in the scenario where the user lost the password?

@_date: 2012-08-09 16:33:27
@_author: Doug Barton 
@_subject: Malformed Revokation Certificate? 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
Yes, I got that bit. :)
Ah, that's the bit I was missing ... thanks.

@_date: 2012-12-02 13:31:21
@_author: Doug Barton 
@_subject: OT: USB key with hardware encryption? 
It's OT for this mailing list, but you could use TrueCrypt in portable mode in this situation with a file volume.

@_date: 2012-01-31 20:18:44
@_author: Doug Barton 
@_subject: Reply-to netiquette (was [META] please start To: with 
FYI, "forum" generally refers to something different than a mailing
list. I point this out mostly because  exists.
Actually many of the FreeBSD lists moderate posts from non-members, but
none of them outright block them. I realize that this isn't germane to
your main point, but I wouldn't want the wrong information to live
forever in the archives. :)

@_date: 2012-02-01 12:56:29
@_author: Doug Barton 
@_subject: Reply-to netiquette (was [META] please start To: with 
I already addressed that issue in previous posts. Stop trying to force
other people to change, and deal with what life brings. You'll live a
happier life overall. :)

@_date: 2012-02-01 13:12:56
@_author: Doug Barton 
@_subject: On message signing and Enigmail... 
Different category of problems. But what does a large number of
signatures from people you don't know tell you more than a single key
without signatures?
It build the *appearance* of an identity. Did you not read Robert's
story of multiple people posting using the same key?
This much is true, yes.
The only thing what you're doing proves is that at the time those things
were posted someone had control of the secret key, and that the messages
weren't altered after they were signed. Beyond that everything is

@_date: 2012-02-24 13:35:40
@_author: Doug Barton 
@_subject: Sending signed e-mail via shell script 
I have 2 sets of scripts that send signed e-mail at
 The "generate challenges" script is probably
the easiest to digest.

@_date: 2012-01-18 11:02:50
@_author: Doug Barton 
@_subject: GnuPG 1.4 for Windows 
I think a beta installer would be a good idea. I'll be glad to test it
on 32 bit Windows XP and 64 bit Windows 7. Beyond just normal operations
if you want to publish some regression tests I'll be glad to run those
too. :)

@_date: 2012-01-26 16:48:30
@_author: Doug Barton 
@_subject: hashed user IDs redux [was: Re: Creating a key bearing no user ID] 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
As I said the last time you brought this up .... put whatever you like
in the name and e-mail fields, and notify the people you communicate
with of what's there, and the fingerprint of the key. They can then
set up rules in their e-mail client that when they communicate with
you via e-mail address foo that they should use key bar. You're done.
There is no software modification needed to accomplish what you want
to do.

@_date: 2012-01-27 22:57:13
@_author: Doug Barton 
@_subject: Why hashed User IDs is not the solution to User ID enumeration 
This is the second (third?) time this has come up in the recent past.
Maybe instead of talking more about it those who are interested in
having this functionality should go create it? Then the community would
have something concrete to discuss.
If it really is as simple as you describe, I can't see any reason why
people wouldn't want to deploy it. :)

@_date: 2012-01-28 00:32:26
@_author: Doug Barton 
@_subject: Why hashed User IDs is not the solution to User ID enumeration 
If anyone were inclined to implement this my vote would be for 1. A
whole new "no-modify only" network, and 2. Start from zero, and allow
users to upload clean versions of their keys.
I think you've made the case effectively that adding this to the
existing network isn't feasible.

@_date: 2012-01-28 15:37:01
@_author: Doug Barton 
@_subject: hashed user IDs redux [was: Re: Creating a key bearing no user ID] 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
Assuming that you have to pass your s0uP3r Se3kr!7 e-mail address OOB
anyway, just pass them the fingerprint at the same time.

@_date: 2012-01-30 01:45:01
@_author: Doug Barton 
@_subject: [META] please start To:  with gnupg-users@gnupg.org, i.e.:  To: 
Jerry, you've been around long enough to know that A) that's not true,
and B) bringing it up only leads to the same rathole discussion over and
over again.
A) how unfortunate then that your signature gets clipped when I reply :)
B) Yeah, that's a silly rathole too. If you don't want the dupe, you go
change your mailman settings to fix it. Meanwhile, including the poster
in the reply goes back from before e-mail was a thing, and often helps
carry on the conversation when the list is slow.
... and now we've come full circle ....

@_date: 2012-01-30 13:29:55
@_author: Doug Barton 
@_subject: Clearsigning on Windows 
You're probably overthinking it. Create the file in the manner that is
described in your instructions, and then sign it. If that doesn't make
sense to you, we need more information about what you're trying to

@_date: 2012-01-31 12:26:05
@_author: Doug Barton 
@_subject: Reply-to netiquette (was [META] please start To: with 
I don't understand the distinction you're trying to make. Both this list
and all of the FreeBSD lists require you to subscribe. In fact FreeBSD
lists also use mailman.

@_date: 2012-01-31 13:26:58
@_author: Doug Barton 
@_subject: Revoke a key 0E84608B 
If you have access to a valid copy of your secret key there is no reason
to revoke it ... unless of course you have reason to believe that it's
been compromised in some way.

@_date: 2012-07-10 01:58:07
@_author: Doug Barton 
@_subject: Slightly OT: PGP/MIME verification fails with new KMail2 and 
There is a difference in how KMail deals with EOL whitespace, I have an exception for it in my PGP filters for Alpine. I don't know what's different between KMail 1 and 2, but I'm glad you raised this. I can use my filters to verify your KMail 1.x messages, but Enigmail refuses to recognize that they contain valid signed messages. However I cannot verify your latest message using KMail 2, so clearly there is something I'm not sure it's Thunderbird, I think it's Mailman (at least that was the consensus from previous discussion). Have you compared the raw message in your Sent mail folder to the one from the list? Also, if you look at your message in the archives, it seems to be similarly Don't rule out "all of the above." :)
Seriously though, can you do me a favor and send me copies of the _raw_ messages from your Sent mail folder, and the message you received from the list (the one I'm responding to is fine)? Please compress them somehow (tgz is fine) so that they don't get molested in transit. That'll help me sort out how whitespace is being handled differently in KMail 2.

@_date: 2012-07-21 14:12:30
@_author: Doug Barton 
@_subject: KeePass or any other password wallet to store and transport keys 
We can't answer this question intelligently because you haven't
described your threat model. In other words, what danger would the
wallet guard against?

@_date: 2012-07-21 18:46:57
@_author: Doug Barton 
@_subject: KeePass or any other password wallet to store and transport keys 
Still doesn't answer the question. :) What bad thing are you worried
about happening if someone gets your keyring?

@_date: 2012-07-22 16:25:38
@_author: Doug Barton 
@_subject: KeePass or any other password wallet to store and transport keys 
Your private key is encrypted, right? Use a strong password for that and
you're in fine shape.

@_date: 2012-07-25 11:44:16
@_author: Doug Barton 
@_subject: KeePass or any other password wallet to store and transport keys 
I'm still not sure you grasp the security concepts involved here. Short
version, everything that you're doing is useless against a determined
attacker. Particularly, obscuring the location and extension of the key
are incredibly naive, and indicate that you just don't understand what's
going on. I'm sorry to be so blunt, but you keep perpetuating this
discussion even though some really smart people have given you excellent
The way that you protect your secret key is to hide it behind strong
encryption, with a strong passphrase. GnuPG takes care of the strong
encryption by default, so the passphrase is entirely your responsibility.
That said, given your particular use case, your best bet would be to
forgo encrypting the file to any key at all. Use asymmetric encryption
with a very strong randomly generated password, and store the password
in your KeePass wallet.
Good luck,

@_date: 2012-07-25 17:58:00
@_author: Doug Barton 
@_subject: KeePass or any other password wallet to store and transport keys 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
There's no *harm* in doing that (absent potential outliers), and there
are valid use cases for doing it. It's just important to understand
that by doing so you are not necessarily increasing security for the
(multiply) encrypted thing.

@_date: 2012-05-04 07:59:56
@_author: Doug Barton 
@_subject: SSH Agent keys >4096 bit? 
I hope you reconsider backporting ECC to 1.4. Given some of the changes
you've announced for 2.1 I think there are a non-trivial number of users
who will be dropping 2.x altogether.

@_date: 2012-05-04 12:47:17
@_author: Doug Barton 
@_subject: SSH Agent keys >4096 bit? 
I think a lot of people are frustrated with the agent generally, and
only use 1.4 as a result already. The thing that will kill 2.1 for me is
the removal of the multiple public keyring functionality.

@_date: 2012-05-04 12:57:41
@_author: Doug Barton 
@_subject: SSH Agent keys >4096 bit? 
So then your choices are to use 1.4, or patch the agent code to use 8k

@_date: 2012-05-29 10:28:49
@_author: Doug Barton 
@_subject: changing the default for --keyid-format 
I use the e-mail address for almost all of my command-line work, FWIW.

@_date: 2012-11-12 14:52:14
@_author: Doug Barton 
@_subject: gpg-agent partitioning between sessions? 
What do you mean by that? Are you talking about different users, or do
you want to have different key stores for different terminals for the
same user? If the latter, why?

@_date: 2012-11-12 15:07:09
@_author: Doug Barton 
@_subject: gpg-agent partitioning between sessions? 
I'm not sure you're thinking about the problem in the right way. If they
compromise the system, aren't all of your agent sessions vulnerable?
You are much better off setting a reasonable inactivity timeout for your
session. Look at these settings in gpg-agent.conf:
default-cache-ttl N
max-cache-ttl N
default-cache-ttl-ssh N
max-cache-ttl-ssh N

@_date: 2012-11-12 15:17:14
@_author: Doug Barton 
@_subject: gpg-agent partitioning between sessions? 
No problem, we all start somewhere. :)
The fact that you're thinking about the issue at all is to your credit.

@_date: 2012-10-16 14:12:54
@_author: Doug Barton 
@_subject: lock/backup files 
I multiboot my systems, usually a minimum of some kind of windows, and
linux. I also have a lot of my personal data (including PGP keys) on
truecrypt volumes which are shared between my systems. For GnuPG using
the same data in the same directory for all systems works well, with the
following exceptions.
First, the backup files are different in Unix and Windows, filename~ on
the former, and filename.bak on the latter. So far I haven't run into
any problems with this, it's just duplicate data that I'd like to avoid.
The filename.lock files are a problem however. Assuming that there are
no .lock files, and I run Linux, everything works fine. Then if I boot
Windows it seems to create .lock files for every file, whether I'm using
it or not, and they remain after I restart. If I then attempt to use gpg
in Linux I get an error about the lock file being the wrong size.
What I'd like to do to solve both problems is to specify the extension
used for these files. To make them the same in the first case (where
they are different now), and different in the second case (where they
are the same now). Is this possible? 'man gpg' did not indicate a
solution, nor did a brief web search.
Any help appreciated,

@_date: 2012-10-16 19:04:54
@_author: Doug Barton 
@_subject: lock/backup files 
Thanks for the suggestion. The problem is that the truecrypt volume is
not mounted at boot time, and it's unmounted before shutdown.

@_date: 2012-10-29 14:43:29
@_author: Doug Barton 
@_subject: new release of GPA 
It isn't Robert who is picking the definition, it's the FSF. Arguing
about the definition here isn't going to do anyone any good, since the
policy does not originate here. Please respect the policy of the list
(which I personally disagree with, FWIW).
Meanwhile, Robert has also suggested some useful avenues where you could
direct your efforts. Please do that, instead of picking fights on topics
that either cannot be changed, or are not productive.

@_date: 2013-04-01 15:29:16
@_author: Doug Barton 
@_subject: The Lord of the Keys 
Dunno about gpg-agent, but you could probably accomplish something similar with KeePass.

@_date: 2013-04-17 09:22:26
@_author: Doug Barton 
@_subject: Privacy concerns 
It's come up on the list many times. No one has demonstrated that there is mass-mining of e-mail addresses from the key servers. Personally, I have a mini-honeytrap set up for testing this, and while I get dozens of spam messages every day as a result of having had my e-mail addresses posted publicly in various places for many years, I get no more than a dozen _per year_ pointed at addresses from my key honeytrap.
It's very safe to assume that e-mail address harvesting from the key servers is not anything to worry about.
More generally, it's been well documented in the anti-spam community that techniques to "hide" your e-mail address from spammers are totally fruitless. You want to apply intelligent filters on the receiving side of the e-mail transaction to limit the flow seen by the end users. That's the only viable long term solution.
hope this helps,

@_date: 2013-04-18 15:28:46
@_author: Doug Barton 
@_subject: [OT] Re: Please fix subscribe at 
This whole thread is wildly off topic for this list. Can people please stop replying to it?

@_date: 2013-04-19 12:21:45
@_author: Doug Barton 
@_subject: [OT] X.509 vs. OpenPGP 
Fair enough, and sorry if I overstepped. It seemed to me that the topic had veered into "how do I fix a certain domain whose issues are probably not related to gnupg," but you're the boss. :)

@_date: 2013-08-01 12:40:04
@_author: Doug Barton 
@_subject: Successful experiment boosting the number of users using OpenPGP 
Responding to a message at random ...
There is a much simpler way to encourage downloading the signature files. Bundle the exe and signature in a zip file, and make that the only download available.
However, what you really want to encourage is the verification of the signature (ignoring the bootstrapping problem for the moment), and even forcing people to download the signature file won't do that. In fact I would argue that the only folks interested in verifying the signature already do that, and that any increase in downloads of the signature files is statistically meaningless.

@_date: 2013-08-15 01:14:55
@_author: Doug Barton 
@_subject: Can I create domain keys? 
As others have pointed out, you _can_ do this, there is nothing to prevent it.
If your real question is, "Will most mail software automatically recognize that mail to  should use this key?" The answer is almost certainly, "Not by default." Most popular mail tools can be configured to do so, but if you're looking for a solution that will work "out of the box" this almost certainly isn't it.
hope this helps,

@_date: 2013-12-10 15:27:06
@_author: Doug Barton 
@_subject: Importing new subkeys 
Hash: SHA256
Why are you creating new ones instead of simply extending the expiry
of the existing ones?

@_date: 2013-12-16 14:41:52
@_author: Doug Barton 
@_subject: Sharing/Storing a private key 
I haven't looked at Mindiell's software, but one argument against what you're suggesting is that it's only as secure as the encryption used in step 1 of the hybrid approach. The ability to apply SSS to the entire secret would be quite valuable, although your concern about entropy use is something that should be addressed explicitly.

@_date: 2013-12-17 10:41:19
@_author: Doug Barton 
@_subject: Another step towards crowdfunding 
Hash: SHA256
How about a synopsis and URL instead?

@_date: 2013-12-17 13:15:01
@_author: Doug Barton 
@_subject: Another step towards crowdfunding 
Hash: SHA256
I thought an RSS feed would be a given. I was responding to the idea of
sending the posts directly to the list. No reason not to do both IMO.

@_date: 2013-12-17 16:10:03
@_author: Doug Barton 
@_subject: Another step towards crowdfunding 
Hash: SHA256
I've made the same point before, at least once. I hate to repeat myself,
but a real SSL cert really is the way to go here. CAcert is charming and
all, but we do not want to encourage people to click past the
"untrusted" warning, and there is more than ample evidence that users
generally, particularly users who are new to cryptography, lack the
requisite knowledge to make good decisions about if/when to do so.
I have no connection to StartSSL other than "satisfied non-paying
'customer'" but they do the trick, and the price is right. There are
other free options as well, as was pointed out here recently. It doesn't
matter to me which one y'all choose, but please, choose one and let's
move on.

@_date: 2013-12-18 09:58:58
@_author: Doug Barton 
@_subject: Another step towards crowdfunding 
Hash: SHA256
you end
Well, completely aside from the fact that "encrypt everything you can"
is a good default policy, providing a consistent user experience is a
good reason to make https the only access method. At very least, making
sure that if a user enters the site via https that they stay on https
(protocol-agnostic links/URLs).
A better question would be why would you not want to serve all the pages
via https? Please don't say "higher CPU usage" because the difference is
negligible on any modern system.

@_date: 2013-12-18 10:25:43
@_author: Doug Barton 
@_subject: Sharing/Storing a private key 
I understand that you're not interested in an argument that the encryption of the entire secret may not be secure, but everything is secure right up until it isn't. (Robert, please ignore my tortuous use of "secure" in that sentence.) :)
Completely aside from the possibility (however remote) of the crypto failing, I'm also thinking of layer 9 issues that can come into play. For example I was the one who proposed using SSS to distribute portions of the root DNSSEC KSK to members of the community to provide a disaster recovery procedure should something catastrophic happen to ICANN. They didn't finish the root key protocol until after I left IANA, and what they ended up doing instead was using a HSM to store the key. But they did end up using SSS with members of the community to share the password for the HSM, for the same reason I proposed.
If the HSM hadn't come into play the politically expedient thing to do would have been to distribute pieces of the secret, rather than pieces of the key used to encrypt the secret. Now I realize that most of the people on the list aren't interested in layer 9, but some of us live in a world where it is necessary to do so. :)
I don't, I was suggesting that your concerns are valid and that the author of the new software is responsible for addressing them.

@_date: 2013-12-25 14:05:43
@_author: Doug Barton 
@_subject: New GUI frontend for windows 
Not to mention it's dramatically more difficult (some would argue impossible) to develop trust in a pseudonym.

@_date: 2013-01-31 23:10:28
@_author: Doug Barton 
@_subject: path defaults for gpg.conf 
Hash: SHA256
You can configure GNUPGHOME to be anything you wish.
In what way does not including the directory where the exe is located
increase security?

@_date: 2013-02-21 17:18:03
@_author: Doug Barton 
@_subject: Reliably determining that the agent is available and starting 
I have the following script that does this for you in a Unix'y environment, assuming your DE doesn't already handle it:

@_date: 2013-02-21 22:49:48
@_author: Doug Barton 
@_subject: Reliably determining that the agent is available and starting 
That's a good thought, but the problem is that they are very different. Unless you have a limited number of relevant DEs, and/or you're willing to do a lot of research to cover all/most of them, you're in for a rough The script I sent you the link to has the ability to determine if the agent is running.
You could also use the "standard socket" approach instead. Check out the man page for gpg-agent.

@_date: 2013-02-25 22:43:33
@_author: Doug Barton 
@_subject: Questions about OpenPGP best practices 
Yes, that's a good one, and generally preferred.
If you're using a pass phrase, your key is already encrypted. Just save it somewhere safe.
Yeah, they are using a self-signed certificate. A very dodgy decision in an era where there are a non-zero number of widely accepted CAs that will give out free certificates.
The Best Practices page you posted above actually suggests:
   keyserver hkps://hkps.pool.sks-keyservers.net
   keyserver-options ca-cert-file=/path/to/CA/sks-keyservers.netCA.pem
That worked for me, although I was a bit disappointed that placing the cert at /etc/ssl/certs/ca.hkps.pool.sks-keyservers.net.cert didn't work like all the docs said it should.
Does anyone know where/how to place the cert file on the system so that it can be called by demand, rather than having to specify it in the You're doing something wrong. :)  Follow the doc more closely.

@_date: 2013-02-25 23:28:17
@_author: Doug Barton 
@_subject: Questions about OpenPGP best practices 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
lots, this one for example:
Thanks. :)
So it sounds like what you're saying is that there is no hope for a
system-wide solution for hkps? I can live with the gpg.conf option, I
was mostly sort of curious about adding certs to my system since I have
other uses for that ability down the road.
Thanks again,

@_date: 2013-02-26 07:15:10
@_author: Doug Barton 
@_subject: Questions about OpenPGP best practices 
Yes, I actually understand PKI rather well, but thanks for the warning. :)  I think Werner summed up my own thoughts rather well, so I'll leave it at that.

@_date: 2013-02-26 07:38:56
@_author: Doug Barton 
@_subject: Questions about OpenPGP best practices 
I got a new error today:
gpg: sending key 1A1ABC84 to hkp server pool.sks-keyservers.net
gpgkeys: HTTP post error 22: The requested URL returned error: 417 Expectation Failed
Never seen that one before. :)
Overall the performance of the sks-keyservers pool has been great for me though. Thanks for all your hard work on this.

@_date: 2013-02-26 07:43:52
@_author: Doug Barton 
@_subject: Possible to use GNUPGHOME as a variable inside gpg.conf? 
In pursuing the hpks:// issue further, I'm wondering if it would be possible to specify GNUPGHOME as a variable in the gpg.conf file so that I could use:
keyserver-options Since I have to specify a path anyway, I was hoping to keep the cert with my conf file.

@_date: 2013-02-28 09:35:16
@_author: Doug Barton 
@_subject: [Sks-devel] pool.sks-keyservers.net issues 
Could this curl issue be the cause of this error that I've been seeing the last few days:
gpg: sending key 1A1ABC84 to hkp server pool.sks-keyservers.net
gpgkeys: HTTP post error 22: The requested URL returned error: 417 Expectation Failed
gpg: sending key D5B2F0FB to hkp server pool.sks-keyservers.net
gpgkeys: HTTP post error 22: The requested URL returned error: 417 Expectation Failed
gpg: keyserver internal error
gpg: keyserver send failed: Keyserver error
Based on your post I tried GnuPG 1 with that same keyserver and it worked fine.

@_date: 2013-02-28 10:01:30
@_author: Doug Barton 
@_subject: [Sks-devel] pool.sks-keyservers.net issues 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
Yes, I'm talking to different servers (as would be expected). Just
tried it a few times ...
2001:470:1f09:5e7::2	worked
2001:470:1f0a:5d7::2	failed
In any case thanks for clarifying the cause of the error ... it's just
hard to debug without putting those options in first obviously, and
with those options the output is very noisy.
GnuPG folks, would it be possible to add a keyserver-option to show
the IP address of the server connected to? I could live with that full
time, and it would make reporting errors a lot easier.

@_date: 2013-02-28 10:27:47
@_author: Doug Barton 
@_subject: [Sks-devel] pool.sks-keyservers.net issues 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
~From your description I suspected that it was probably load related,
so that's understandable. My concern is that I'm seeing that error way
more often than not when sending keys over the last few days, and I
don't remember ever seeing it before. OTOH, I recently attended a key
signing party with over 40 participants, so I have been busy pulling
down other people's keys, and uploading mine when new signatures come
in, so I've been hitting the servers harder than usual. Sounds like
I'm just getting unlucky?

@_date: 2013-06-07 13:22:04
@_author: Doug Barton 
@_subject: Recommendations for handling (multiple) user IDs - personal and 
Hash: SHA256
I'm not sure where you're getting this "15 years" number.
In any case, the conventional wisdom is that for completely distinct
roles (such as personal vs. work) that separate keys is the way to go.
That way when you no longer have the work role the whole key can be
retired, and there is no question down the road about
old/expired/revoked subkeys. Personally I have used this strategy and it
has worked well for me. Also, some companies have key escrow practices
that make using a separate key the only viable option.
OTOH, others on this list, and many keys that I have signed over the
years, have combined various roles (i.e., personal and work e-mail
addresses) on the same key, so that practice is not uncommon.
hope this helps,

@_date: 2013-06-07 17:38:59
@_author: Doug Barton 
@_subject: Recommendations for handling (multiple) user IDs - personal and 
Hash: SHA256
just the
I can't speak for all of them of course, but I have dealt with a
non-zero amount of frustration on the part of some of those keyholders
after a signing party when old e-mail addresses that were supposed to be
working no longer are, etc. For myself, I'm certainly glad that I
created 2 separate keys.
about what
Right-O, so kudos to the OP for doing so.

@_date: 2013-02-28 15:07:29
@_author: Doug Barton 
@_subject: Questions about OpenPGP best practices 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
I certainly understand that perspective, however I see a couple of
problems with it. First, there is a bootstrapping problem. People new
to PGP almost certainly do not possess the skills to verify the
signature file for the cert, even if they had an appropriate web of
trust to rely on (which obviously they would not).
Second, not using a cert signed by a recognized CA presents 2
problems, it increases the perception that the PGP community is a
closed circle, such that if you don't already have the skills, we
don't want to talk to you. For those new users that click through it
adds further damage to their security habits, since we try to teach
people NOT to do that, even though most people do it anyway.
In the previous era where free and/or low-cost SSL certs were not
available I would have had a lot more sympathy with your position.
However nowadays there are a non-zero number of good choices,
including  which offers free certs, and has a
good reputation in the community. I personally use them for my sites,
although I have no other affiliation other than "happy 'customer.'"
I hope you'll reconsider your decision.

@_date: 2013-03-01 00:46:58
@_author: Doug Barton 
@_subject: [Sks-devel] pool.sks-keyservers.net issues 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
Wow, what a thorough analysis, thanks Phil. :)  FWIW, I did see those
Expect: headers you describe in my debug output, and obviously if this
issue only affects certain servers it would explain why I was only
seeing it intermittently.
I should have added before, I'm on Ubuntu 12.10, and gpg2 comes built
with libcurl.

@_date: 2013-03-02 00:14:42
@_author: Doug Barton 
@_subject: Any value to duplicate signatures? 
I am pretty sure the answer to this question is "no," but I thought I'd ask just in case. I've attended a conference for the last 2 years where there was a PGP key signing. Several of the people who signed my key last year were present again this year, and sent me signatures again. The signatures are from the same keys, same certification level, everything. The only thing different is the date of the signature So the question is, what value, if any, would there be to importing those signatures, and sending them out to the key servers? I know that the various -clean options will strip that down to the most recent, I'm just curious. :)

@_date: 2013-03-02 01:48:50
@_author: Doug Barton 
@_subject: Re-signing keys with higher owner trust 
Hash: SHA256
You don't want to revoke the signature, since it is still valid. You
want to use the delsig option when editing the key.
If the old signature was ever sent to a key server, it will remain
there, but the new one with the higher cert level will be preferred.

@_date: 2013-03-02 01:51:07
@_author: Doug Barton 
@_subject: Any value to duplicate signatures? 
Hash: SHA256
I should have been more explicit that this is not the case.
But new signatures don't actually prove that, right? The person
generating the signature could just as easily have uploaded it to the
key server themselves. In this case that didn't happen, but the fact
that new signatures appeared doesn't actually prove anything.
Thanks for your response in any case.

@_date: 2013-03-03 22:37:33
@_author: Doug Barton 
@_subject: Re-signing keys with higher owner trust 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
Right, I was trying to keep it simple for the new user. :)

@_date: 2013-03-05 20:18:22
@_author: Doug Barton 
@_subject: [Sks-devel] pool.sks-keyservers.net issues 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256
It was Phil's idea, I was just whining about the problem I saw. :)

@_date: 2013-03-07 10:20:08
@_author: Doug Barton 
@_subject: /etc/gnugpg.d/ 
It wouldn't at all, since my goal is to use the same gpg.conf for Windows and Linux (as I'm doing now).

@_date: 2013-03-25 12:06:17
@_author: Doug Barton 
@_subject: IDEA License 
He clarified that in a subsequent post. The usual netiquette is to read the entire thread before responding to any individual post.

@_date: 2013-03-25 12:49:00
@_author: Doug Barton 
@_subject: IDEA License 
I should have been more explicit. The OP clarified his question in response to Julian's question. By the time the OP responded it was clear what he was really asking. Could Julian's response have been phrased better? Probably.
My point however was that by the time you responded your post was Thus endeth the lesson,

@_date: 2013-05-28 21:42:22
@_author: Doug Barton 
@_subject: [OT] Why are you using the GPG / PGP keys? 
You've actually hit on one of the key elements of the debate, the continuum of secure vs. convenient. "We" (for sufficiently competent definitions of "we") see the need for security, and are willing to pay the price. Average users want things to be "secure" (for sufficiently warm and fuzzy definitions of "secure"), but not "hard," or more accurately, inconvenient.
Not to pick on you, Johan, but I would regard your phone's refusal to accept the certificate as a feature. You regarded it as an inconvenience.
Furthermore, there is no reason to fool around with self-signed certs nowadays. Just trot over to  and get your free cert signed by a recognized CA. I use that for my web and mail systems (including secure SMTP), and it works just fine.
The reason I'm replying to this thread (which I keep hoping will suffocate under its own weight) at all is to point out that the whole idea of "everyone" should use encryption, or cryptography more generally, is absurd. Most users not only do not want the inconvenience, they don't care if their communication is observed. Where validity is concerned for e-mail there are things like SPF and DKIM that get you 90% there on a system level without the user having to do (or be inconvenienced by) anything.
Don't get me wrong, I still think that PGP is important, and would lament its passing if somehow it went away. But that's not the same thing as thinking "everyone should use encryption."

@_date: 2013-05-29 12:27:05
@_author: Doug Barton 
@_subject: certificat for a key pair 
Hash: SHA256
That advice is contrary to the conventional wisdom, which is to use
the same method to install Enigmail that you use to install
Thunderbird (i.e., apt-get + apt-get, or manually + manually). Can you
please explain your reasoning here?

@_date: 2013-05-29 23:32:14
@_author: Doug Barton 
@_subject: certificat for a key pair 
Hash: SHA256
The advice of the people who actually write Enigmail. All of your
irrelevant stuff aside, you still haven't explained yourself.

@_date: 2013-11-07 12:56:47
@_author: Doug Barton 
@_subject: question about public key usage 
Someone else already answered this question for you, but the answer effectively is "yes," however you don't need to do that.
Edit the expiration date on the existing key to match the requirement for the new vendor, and then give them that version of the key. There is no reason to have multiple keys in this situation.
hope this helps,

@_date: 2013-11-20 22:01:58
@_author: Doug Barton 
@_subject: Setting encryption algorithm for specific key 
Please don't reply to a message off the list and change the subject line because it causes your new topic to show under the previous one for those using mail readers that thread properly, and may cause your message to be missed altogether if someone has blocked that thread.
Instead, save the list address and start a completely new message.
hope this helps,

@_date: 2013-11-25 10:38:27
@_author: Doug Barton 
@_subject: Setting encryption algorithm for specific key 
I'm using precisely the same mail reader you are. :)

@_date: 2013-10-03 12:04:32
@_author: Doug Barton 
@_subject: Installing new gpg versions 
002 has been the default basically since day 1. People who use other than the default are expected to deal with the consequences.

@_date: 2013-10-03 12:21:12
@_author: Doug Barton 
@_subject: Installing new gpg versions 
... or 022, depending on who you ask. Either one should have worked for your purpose.

@_date: 2013-10-11 19:02:37
@_author: Doug Barton 
@_subject: First steps with GPG, am I off to a good start? 
Hash: SHA256
Please stop sending keys to the list. That's what key servers are for. :)

@_date: 2013-10-11 19:09:19
@_author: Doug Barton 
@_subject: First steps with GPG, am I off to a good start? 
Hash: SHA256
I know of no good reason to use expiration dates at all.
Most end users don't know how to properly refresh their key rings, so if
you extend the expiration date you will simply inconvenience anyone who
is trying to communicate with you via encryption, and likely generate
questions about why your messages are signed with an expired key.
And what is the threat model that expirations are supposed to cover
anyway? That the person loses control of the key, and any revocation
certificates that they may or may not have generated? What is the
practical effect to me, as someone with that key on my key ring? A
responsible person who lost control of their key could still send
messages to those that they correspond with and/or have signed their key
saying "Hey, I'm an idiot, and I lost control of my key." But then
again, such a person probably would not have lost control of the key in
the first place.
So if there is actually a threat model that expiration dates on keys
helps with, please educate me. Otherwise can we stop recommending them?
Especially to new users?

@_date: 2013-10-11 19:47:38
@_author: Doug Barton 
@_subject: First steps with GPG, am I off to a good start? 
Hash: SHA256
Twenty years of experience shows us that it's a lost cause. PGP is
simply too hard for "average" computer users. Even those who use PGP,
which by definition makes them "above average" commonly don't refresh
their key rings. So whether either of us like it or not, any plan that
requires users to refresh their key rings for it to work is simply
... and I left out another problem with expiration dates, users that
set them on their keys and are not aware that they can be extended.
Robert's right, the defaults are what the vast majority of users
should use.
Um, of course they are. Otherwise you're just participating in
"security theater" and wasting everyone's time.

@_date: 2013-10-16 12:51:15
@_author: Doug Barton 
@_subject: trust your corporation for keyowner identification? 
Hash: SHA256
What would the purpose of such a signature be? Would you be
distributing your signature, or would it be local to your key ring? If
you're distributing the signature, would you distribute it only within
the company, or outside too? Are you talking about signing with your
personal key, or signing with your company key? If the latter, does
that key ever see the light of day outside the company?
Just to be clear, I'm not being snarky here. As others have said you
have asked an interesting question, but there are not enough details
(for me at least) to give you an answer.

@_date: 2013-09-07 15:57:39
@_author: Doug Barton 
@_subject: group and pgp-hooks 
Hash: SHA256
No specific mutt experience but I've had them working in tbird and
alpine. If you're trying to use a group as a substitute for a specific
e-mail address then obviously the address needs to be the group name.
You can also try with and without  around the address.

@_date: 2013-09-07 16:15:08
@_author: Doug Barton 
@_subject: Why trust gpg4win? 
Only if you're sophisticated enough to be able to understand the compiler itself, all of the libraries that are linked in, etc. etc. Even in open source software you compile yourself there are still a lot of attack vectors.
The real value of open source software is the community.

@_date: 2013-09-08 15:25:29
@_author: Doug Barton 
@_subject: Recommended key size for life long key 
The problem here is the "knowledge sieve" issue. Ole asked some questions and did some research, then filtered what he got back through a mixture of his preconceived notions, desires, etc. I'm not saying that he picked only the data that agreed with his desired conclusion, but he seems to have studiously ignored all of the facts that point to why what he's trying to do is a bad idea.
Now the next reader is going to come along, very likely someone who is more naive about encryption than Ole is, and filter that blog post through his own preconceptions, impatience, etc.; and come to the conclusion, "If I make a 10k key it'll be safe for life!" Has Ole done this reader a disservice?
I think the biggest disservice is a false sense of security. If your attacker can only pole vault 10 meters, and you already have a fence 1,000 meters high, does a 100,000 meter fence make you any more secure? And what happens if your attacker develops a technique that is universally effective against all fences, no matter the height?
The flip side question is, "What harm is there to using a 10k key?" Aside from CPU and storage for the user of the key, everyone else in the community bears part of the "cost" when they have to verify a signature on an e-mail, for example. Is that a serious enough problem to cause us to wish no one would suggest the use of 10k keys? I don't know.
... and all of this is presupposing that his "only a guess" has any validity to it at all. I don't know the work by Arjen K. Lenstra and Eric R. Verheul that he based his graph on, and I have no idea if Ole's method of projecting key sizes out into the future is valid. What I DO know (and Robert emphasized this point in his first post), is that those authors, and other serious heavyweights in the crypto community have not felt comfortable doing what Ole has done. That fact alone should be enough reason for anyone not to take Ole's blog post seriously.

@_date: 2013-09-09 01:27:58
@_author: Doug Barton 
@_subject: Recommended key size for life long key 
I was (sort of) trying to be kind, and I think I made the point at least obliquely in context; but I'm not sure that someone who doesn't seem to understand cryptography trying to make long term projections that people who DO understand it won't make actually IS a good idea. :)
If what you meant was, "It's important for knowledgeable people to examine how long various key sizes can be expected to remain secure" then we're in agreement of course. But the blind leading the blind is never a good idea, and particularly dangerous where complex topics like crypto are concerned.

@_date: 2013-09-09 14:38:33
@_author: Doug Barton 
@_subject: GPG and Outlook revisited 
It's worth noting for sake of argument that the same exact concerns apply to the pre-packaged binaries of GnuPG for Windows.

@_date: 2013-09-12 20:08:24
@_author: Doug Barton 
@_subject: message digest for signed emails 
For the OP, try with and without spaces around the = sign as well. I have heard reports that can make a difference. So try all of the following:
name at exaxmple.com = key1 key2 key3
 = key1 key2 key3
name at exaxmple.com=key1 key2 key3
=key1 key2 key3

@_date: 2013-09-16 11:57:04
@_author: Doug Barton 
@_subject: Sign key and export for each UID 
The way that your signer did it is _a_ standard way to do it. CAFF is a very popular program for that, and there is another here that is also pretty good: I have another philosophy that works for me because I prefer not to sign uids that are not valid. I send encrypted e-mail to each uid with a pseudo-random string and ask the person to send me back the string in a signed message. That allows me to determine if the person has control of all 3 elements of the uid; the e-mail address, private, and public keys. As a pleasant side effect it also gives me a chance to judge their competence with PGP, which allows me to assign a better trust value to folks I did not previously know.
I have the script to do this here: hope this helps,

@_date: 2013-09-16 13:29:10
@_author: Doug Barton 
@_subject: Sign key and export for each UID 
Yeah, failure of any of the 3 elements and I won't sign it. I take uids with no e-mail address on a case by case basis.

@_date: 2013-09-16 13:33:41
@_author: Doug Barton 
@_subject: Sign key and export for each UID 
Hash: SHA256
That's one way to look at it. :)  However you may be surprised at the
number of people who participate in key signing parties that haven't
the foggiest clue how PGP works. If I encrypt a message to their
public key and they cannot read it, and/or they cannot sign a
response, IMO they are not "in control" of their key; whether it is
published or not. Feel free to substitute other terminology if you
wish, hopefully the concept is clear.

@_date: 2013-09-16 14:33:59
@_author: Doug Barton 
@_subject: Sign key and export for each UID 
Hash: SHA256
FYI, the signature on your message did not verify for me in thunderbird,
although others you have sent do.
I'm familiar with how those tools work. However what I don't like about
them is that they can either leave behind signatures that I consider
bogus on my local key ring, or require that the user correctly deal with
the signatures I send, and upload them to a public key server, for me to
later download. I prefer to keep my personal key rings reflective of my
judgement about the keys/uids, regardless of how the user chooses to
deal with the signatures. But that's my choice, reasonable minds can
Like I said, reasonable minds can differ. I personally don't find it all
that burdensome to select the uids that I am willing to sign when I get
the responses back.

@_date: 2013-09-16 17:09:49
@_author: Doug Barton 
@_subject: Sign key and export for each UID 
Hash: SHA256
I would argue that this is true regardless of the number of uids on a
key. I do use PGP with Windows, but I also use the command line there. I
do not know of any software that has a competent GUI that does
everything I would want it to do, or even a reasonable subset of it. I
would find it interesting to be proven wrong however. :)
Given that your opinion is contrary to that of just about everyone else,
it seems to lie with you to provide said patches for said mail clients.
Frequently restating your opinion doesn't make it any more valid.

@_date: 2013-09-18 19:35:02
@_author: Doug Barton 
@_subject: Sign key and export for each UID 
Hash: SHA256
The issue for me is the "cleanliness" and accuracy of my local key ring
(as I pointed out in a previous message in this thread). I don't like
what either CAFF or Pius do; leave signatures that I consider "bogus" on
my local copy of the key, or rely on the user to upload the signatures
so that I can get them back after a refresh.

@_date: 2013-09-18 19:55:45
@_author: Doug Barton 
@_subject: How to find and verify a trust path? 
I don't recall if anyone has mentioned  yet. Tragically not available over https, but nowadays that isn't as much of an assurance as once thought, depending on your threat model of course. :)
More below ...
You can spend an enormous amount of time going further and further down the rabbit hole if you choose to. :)  At the end of the day the question becomes, "How much extra benefit does this extra work provide me, vs. the cost of any potential attack that not doing the work might permit?"
If you're running a GnuPG binary on a Windows system, then spending more than 2 minutes is probably 1:30 too long. As has been mentioned here before, unless you are qualified to audit all of the existing build tool chain binaries and related libs on your Unix-like OS even building the GnuPG package yourself after thoroughly verifying the signature/key for the source tarball is putting a whole lot of faith in the system. Admittedly in the case of something like a mainstream Linux or BSD system your trust is probably better placed by an order of magnitude, but it's still a lot of trust.
Sorry, all you've done there is restate the problem. What bad things are you concerned will happen to you if you use this non-standard source? You may think that's a totally obvious question, but it's not. And see above for why it's probably the wrong question anyway.
When I was a FreeBSD developer I tried to get the PTB interested in adding standard (albeit opt-in) support for PGP signatures in our ports/packages system. For the source side (ports) I wanted to include the PGP signatures from the distributor of the tarball. On the pre-compiled packages side I wanted our package creation system to create a signature for the package. I even included a POC for the former in the ports I maintained. While the security conscious users liked it, the general consensus was that the SHA-256 checksums we were already using to verify the authenticity of the source tarballs was enough.
My counter-argument was that this is insufficient, since it relies on the (volunteer) maintainer of the port to provide thorough review of new source packages, which is something we had consistency problems with even amongst those with the best of intentions. The Linux package systems I'm familiar with (and admittedly that's not many) seem to share the same "reliability" (pardon the pun) issue. If the maintainer is the one who wants to pwn me, that would theoretically be possible, at least for a time.

@_date: 2013-09-25 08:31:43
@_author: Doug Barton 
@_subject: Magic numbers for keyring files? 
It would seem that they do exist:
file secring.gpg
secring.gpg: PGP key security ring
The folks that maintain the file(1) program used by most free Unices are really good about maintaining that information, and sharing it. I don't have all the details to hand atm, but it shouldn't take too much searching to find it. If you can't find any other handy repos to dig through  should get you on your way.

@_date: 2014-04-03 19:54:05
@_author: Doug Barton 
@_subject: checking signature of pgp mime 
When dealing with Apple it's not you who is doing things incorrectly with PGP-MIME messages, it's them. And to make it more exciting, they do it wrong several different ways. :)
Take a look at  particularly the ppf_verify script. It has a bunch of exceptional cases on how to mangle (or un-mangle if you prefer) various formats of PGP-MIME in order for the signatures to verify.
hope this helps,

@_date: 2014-04-05 12:34:33
@_author: Doug Barton 
@_subject: checking signature of pgp mime 
Awesome! If you come up with any suggestions for improvements feel free to send them along. I haven't touched that code in years because I haven't _seen_ any new pathological cases, but that doesn't mean none exist. :)
Glad to help.

@_date: 2014-04-09 21:22:19
@_author: Doug Barton 
@_subject: Heartbleed attack on Openssl 
No, but for my own curiosity what is your thought process that leads you to ask that question?

@_date: 2014-04-14 11:35:02
@_author: Doug Barton 
@_subject: The bug...  More info. 
Aside from the obvious fact that this is off-topic for this list, as has been pointed out several times already, wouldn't the existence of a subject line block give you a pretty good hint about the list owner's

@_date: 2014-04-14 12:57:45
@_author: Doug Barton 
@_subject: The bug...  More info. 
Then can we get a ruling from the list owners/moderators please?

@_date: 2014-04-24 15:22:20
@_author: Doug Barton 
@_subject: UI terminology for calculated validities 
Hash: SHA256
Isn't what you're talking about "verification?" I think the concept of
"validity" in PGP sort of implies that you have verified that the key
is valid for that particular user/e-mail address, but wouldn't it be
better to just say that explicitly?
And apologies to anyone for whom English is not their first language
if it seems like we're spending a lot of time trying to differentiate
things that are very similar ...

@_date: 2014-04-24 21:19:28
@_author: Doug Barton 
@_subject: UI terminology for calculated validities 
Hash: SHA256
Did you not like my suggestion of "verified?"

@_date: 2014-04-26 10:14:07
@_author: Doug Barton 
@_subject: UI terminology for calculated validities 
Hash: SHA256
But there are other mechanisms besides signatures that will allow you to
use the key, so I'm not sure that word captures the essence of the
activity adequately.
I have a variety of local signatures for keys that I have verified
belong to a certain user, but for a variety of reasons I don't wish to
export those signatures.

@_date: 2014-04-28 12:47:50
@_author: Doug Barton 
@_subject: UI terminology for calculated validities 
... or all of them. :)
My point was simply that signatures don't "activate" keys.
... and I'm not necessarily trying to sway anyone on "verify" vs. "authenticate" either. I would be sort of Ok with "authenticate," although one could argue that the common usage of that word carries connotations that are unattractive for this use case.
One of the origins of this topic was actually regarding Enigmail's knob that is titled "Always trust ..." for sending encrypted mail to keys you haven't signed. I was thinking through how I would like to phrase that, and I came up with "Allow encryption to keys you have not verified" and thought that verified/verification was a good general purpose term to replace the idea of "validity" and differentiate it completely from

@_date: 2014-04-30 01:04:18
@_author: Doug Barton 
@_subject: Access to www.gnupg.org only via TLS 
All good news. :)
I know it's been discussed on the list before, but I'm quite happy with  and you certainly can't beat the price. :)

@_date: 2014-04-30 12:23:02
@_author: Doug Barton 
@_subject: Access to www.gnupg.org only via TLS 
Yeah, I don't quite see your point. They are providing a very valuable service for free, and charge a nominal fee for revoking a cert. If you add up all the times you have not paid fees for the certificates themselves, vs. the rare occasions when you have to revoke one, I think you're still coming out way ahead. Personally I think it's awesome that they're allowing a free revocation re Heartbleed at all, since ...
... your whole premise seems to be invalid as there is no clear evidence at this time (that I'm aware of, and I've been paying attention) that any actual secret keys have been compromised by Heartbleed. It was listed as a potential risk when the vulnerability was first announced, but several groups have done research on that specific point and have found that it would be sufficiently difficult, if not actually impossible; to render this particular risk as negligible at best.
Meanwhile, if your response is going to be in the nature of, "Everything I want should be given to me free just because I want it" please don't

@_date: 2014-04-30 13:32:27
@_author: Doug Barton 
@_subject: Access to www.gnupg.org only via TLS 
Thanks for that update, I stand corrected.
Meanwhile it doesn't change my opinion about StartSSL. If some person or group chooses not to use them I respect their right to make that choice. But personally I still think they are doing a great service for the community and have no problem with them charging a modest fee for

@_date: 2014-08-12 13:12:50
@_author: Doug Barton 
@_subject: FAQ change, final draft 
I really like the new FAQ text, especially the point about moving to ECC is the way to go forward, not larger RSA keys, and that sooner is better than later.
Personally I think that the table above would be worthwhile to include in the FAQ (with a reference of course) too, since it bolsters the argument so well.

@_date: 2014-08-12 13:23:46
@_author: Doug Barton 
@_subject: [Announce] [security fix] Libgcrypt and GnuPG 
FWIW, I never use anything other than gnupg out of the installer. The file system tools have never worked for me, and some of them don't even work on 64 bit systems. That's not a criticism, I know how open source works. :)  My point is simply that if you have limited resources in my opinion the highest value target is gnupg itself.

@_date: 2014-08-13 22:08:42
@_author: Doug Barton 
@_subject: what is "correct" for users' Preferred keyserver ? 
Please don't use this option, or encourage its use. It leads to the trap described here:
which most users (even those few who update their keyrings) cannot figure out how to escape.
There is no good reason to use this option, and the public key servers are vastly preferable in any case.

@_date: 2014-08-13 22:20:05
@_author: Doug Barton 
@_subject: =?windows-1252?Q?Re=3A_=5Bopenpgp=5D_SHA-2_support_shoul?= 
Yes please. :)
Not being able to encrypt/sign with PGP 2 at this point is totally reasonable. Not being able to decrypt/verify leads to toolchain complications down the road for people with such archives, and sends a dangerous message that we're not serious about backwards compatibility.

@_date: 2014-08-14 13:31:34
@_author: Doug Barton 
@_subject: what is "correct" for users' Preferred keyserver ? 
Yes! That would be awesome. :)  A warning message in there somewhere of course, but being able to automatically recover from that condition would make the whole system a lot more robust.

@_date: 2014-08-14 13:32:23
@_author: Doug Barton 
@_subject: =?windows-1252?Q?Re=3A_=5Bopenpgp=5D_SHA-2_support_should_be_man?= 
You are correct, I did not understand your context there. Thank you for clarifying.

@_date: 2014-08-15 10:06:23
@_author: Doug Barton 
@_subject: ICMP (was: Re: keys.gnupg.net - Refresh all public keys never 
Blocking all ICMP has always been a misconfiguration. As ?OmegaPhil? pointed out there are several types of ICMPv4 that are required for the proper operation of the network. The most important is PMTUD, but there are others that are also important, and are not DOS vectors (and never have been). In IPv6 ICMP is required, period. There is no RFC-compliant configuration with ICMP disabled, and disabling it will severely break your network. Of course a lot more thought has gone into not building the DOS vectors into the protocol design in the first place, so it?s a very different animal. :)
Of course this is wildly off-topic, and I apologize if anyone is unappreciative of my little rant. But the whole ?we must block ICMP, for the security!? thing has been a sore point for me going on 20 years now.

@_date: 2014-08-19 11:41:50
@_author: Doug Barton 
@_subject: So on & so forth 
So, which "mac guys" are you referring to? I recently got a Macbook for work and have been busy trying to recreate my environment/tools. I found the "GPG Suite" from this web site:  which seemed legit enough ... are those the developers you're referring to? Is there any concern over using their stuff?
I got to their site from the link  on  so I had assumed it was Ok. :-/

@_date: 2014-08-19 12:33:37
@_author: Doug Barton 
@_subject: So on & so forth 
Yes, that was my biggest concern as well (and you're correct on the Is there a better solution? I'm comfortable on the command line, and wouldn't mind compiling my own if there was a suitable step-by-step guide available. I've compiled lots of stuff for FreeBSD and Linux, but while I've used Macs in the past I'm new to being a Mac "owner."
If "compile your own" is the right answer, I'd also be appreciative of a guide for getting gpg-agent running on a Mac. I see the GPG Suite version running in the ps list, and I know how to get .app stuff started at login time, but I haven't gotten to the part of the manual where it talks about autostart for command line stuff yet. :)

@_date: 2014-08-19 13:54:38
@_author: Doug Barton 
@_subject: So on & so forth 
Thank you for your detailed response, it was very helpful. :)
I'm curious about one thing, and sorry if this is off-topic but since we're discussing how to keep GnuPG up to date on Mac perhaps it is close enough to on-topic.
I notice you suggested (home)brew as the source of the gpg2 package. Can you say a little about the relative value of that project vs. MacPorts, Fink, or Rudix? I'm very slightly familiar with the first, and not really familiar with the others except by name, so I'm looking for pros, cons, advice, etc.
Thanks again,

@_date: 2014-08-20 09:36:23
@_author: Doug Barton 
@_subject: So on & so forth 
Your valuable insights on this topic are greatly appreciated, Ville. :)

@_date: 2014-08-22 11:41:06
@_author: Doug Barton 
@_subject: email verification as casual checking? 
It is. I have my primary key there if for no other reason than because it gives me an LDAP server to play with. :)

@_date: 2014-08-22 12:39:23
@_author: Doug Barton 
@_subject: Fwd: GNU hackers discover HACIENDA government surveillance and 
Can I ask that the whole discussion of what is or is not "surveillance" be taken off line somewhere? It really doesn't matter what we call it, the interesting bit here is that we know all kinds of data are being collected by all kinds of folks. That leaves open the (IMO much more interesting) question of what we can DO to protect our communication

@_date: 2014-08-23 01:49:40
@_author: Doug Barton 
@_subject: email verification as casual checking? 
The keyserver interface is read-only, you cannot upload keys to it. You can only do that via the web page, and it will only accept your upload after you have verified your e-mail address. IMO that's a feature, and I wish the "regular" keyservers did not accept any key from any person. (And yes, I know this is a harder problem than it sounds, just sayin') :)
The following commands both worked as expected for me:
gpg --keyserver ldap://keyserver.pgp.com --recv-keys 1a1abc84
gpg: requesting key 1A1ABC84 from ldap server keyserver.pgp.com
gpg: key 1A1ABC84: "Douglas Barton " 2 new signatures
gpg: key 1A1ABC84: "Douglas Barton " 2 signatures gpg --keyserver ldap://keyserver.pgp.com --search-keys dougb at dougbarton.us
gpg: searching for "dougb at dougbarton.us" from ldap server keyserver.pgp.com
(1)	Douglas Barton Keys 1-1 of 1 for "dougb at dougbarton.us".  Enter number(s), N)ext, or Q)uit > 1
gpg: requesting key 1A1ABC84 from ldap server keyserver.pgp.com
gpg: key 1A1ABC84: "Douglas Barton " not changed
gpg: Total number processed: 1
gpg:              unchanged: 1
FYI, their server is LDAP-only, so if your install does not include that capability it might explain why your attempt failed.

@_date: 2014-08-26 14:59:44
@_author: Doug Barton 
@_subject: installing gnupg-2.0.26 
bzip2 is pretty popular with Unix folks, FWIW
hope this helps,
Doug (!Werner) :)

@_date: 2014-12-08 15:26:30
@_author: Doug Barton 
@_subject: Mainkey with many subkeys?? 
Hash: SHA256
Why do you think that's true? What threat do you think that using a
key for at most 2 years will protect you against?
Note, I'm not trying to attack you here ... you seem to have absorbed
some bad advice, or at best, advice that is intended for a different
use case. So maybe you could fill us in a bit on how you intend to use
your keys ...

@_date: 2014-02-27 10:28:10
@_author: Doug Barton 
@_subject: key generation: paranoia mode - explicit random input 
Hash: SHA256
Someone else made this argument already, which I thought should have
shut down the thread, but it didn't, so I'll try repeating it. :)
If I am Mal, I am going to make sure that my implementation does the
right thing when you add the --verify-my-binary-is-safe flag. But when
you're not using that flag I'm still free to do whatever I want with
your stuff.
In other words, we're right back to the same thread we had about 6 weeks
ago. You cannot "Trust" a binary, for sufficiently "Secure" definitions
of "Trust." You can't even "Trust" the binary if you compiled it
yourself because you're not smart enough to go over every line of code
for your binary, all of the libs it links against, the compiler, etc.
etc. (And that's not an ad hominem attack, no one person has the
requisite combination of knowledge and experience to do this.)
So if you're an average user at some point you have to put your little-t
trust somewhere. If you're part of an organization where lives depend on
getting the crypto right you're going to allocate additional resources
for making things more "Secure" as appropriate of course. But that's not
going to involve command line options.
... and BTW, if you think I'm being paranoid or exaggerating the problem
on the OS side just look at the recent flap with Apple software (iOS and
OS X 10.9 both) regarding their own personal SSL/TLS implementation. One
single misplaced 'goto' caused everyone using those systems to be
vulnerable to a certain type of MITM. Linux has had similar issues, and
don't get me started on Windows ....
So Hauke, creative idea, but a non-starter IMO.

@_date: 2014-01-03 00:33:51
@_author: Doug Barton 
@_subject: sign encrypted emails 
Hash: SHA256
This threat model doesn't make a lot of sense, except for very naive
users who cannot distinguish the importance of a message that is
encrypted vs. a message (encrypted or not) which is signed. If the user
is not sophisticated enough to place the proper importance on a
signature for the message itself; they are rather unlikely to care about
signatures inside and outside the encryption.
This threat model makes no sense at all. It is the recipient's key that
the message is encrypted TO. And again, the recipient should be
verifying the signature on the message itself, and placing the proper
importance on that.
Have I missed some otherwise hidden value to your proposal?

@_date: 2014-01-03 01:13:13
@_author: Doug Barton 
@_subject: sign encrypted emails 
Hash: SHA256
FYI, your client has horrible line wrapping. If there is a setting,
please change it to 72 columns.
Not particularly, no. The message doesn't get encrypted using the
sender's key, although it may be encrypted to the sender's key, along
with the recipient's.
What advantage does it give to the attacker to encrypt a message via
MITM? The likely outcome of doing so would be to reveal that they are
intercepting messages, for what benefit? That's a legitimate question,
not a snark. You seem to be suggesting that this would provide value to
the attacker, if so can you elaborate?
If the sender cares they can insert a statement in their signed message.
"I did/did not encrypt this message before sending." Problem solved.
My argument is that the _only_ thing relevant to message validity is the
signature on the message itself. Whether it was encrypted or not should
play no role in the recipient's calculation of the validity of the message.
No, it's not at all. But I don't want to quibble about that, I'm still
interested in your description of the importance of the encryption
itself, separate from the message and signature.

@_date: 2014-01-03 01:17:23
@_author: Doug Barton 
@_subject: sign encrypted emails 
Hash: SHA256
Sorry, that's a little bit stronger than I intended.  There are of
course cases such as, "This is odd, every communication I have ever
had with Alice about $SUBJECT previously has been encrypted, but this
one is not, I wonder if there is a problem here?" But for the common
case my point remains .... the fact that a message is encrypted should
not enter into the validity calculation.

@_date: 2014-01-03 17:28:05
@_author: Doug Barton 
@_subject: sign encrypted emails 
I don't necessarily disagree with you on that. :)
Yes, that is the point I was trying to get across.
... and I did actually suggest a solution to the problem Hauke is (ostensibly) trying to solve. The sender can include a statement in their signed message regarding whether or not they also encrypted it before sending. However I would still argue that doing so would have no real benefit.
Thinking further, what *may* be useful would be for the mail client to pop up a message that says something similar to, "This message was encrypted, but not signed. No assumptions should be made about the validity of the message itself."
In the end however there is no substitute for user education. :-/

@_date: 2014-01-05 16:41:11
@_author: Doug Barton 
@_subject: sign encrypted emails 
Hash: SHA256
It can be both trivial and reliable, simply place the following in your
.signature file:
I will not encrypt this message before sending.
On those occasions when you do encrypt, remove the word "not."
Now your (reasonable) objection is likely to be, "But what if the sender
forgets to remove the word 'not'?" Well in that case we're right back to
where we started, you cannot solve problems of bad operational practices
with technology. No matter how fool-proof you make the tech, the
universe will come along with a better fool.

@_date: 2014-01-19 13:23:17
@_author: Doug Barton 
@_subject: Looking for simple wrapper for symmetric key file encryption 
I think you're misunderstanding a few things. First, the problem of the plain text file is not exclusive to symmetric encryption. In fact there is no difference between that, and the plain text file that's left behind after public key encryption.
Second, you haven't defined your threat model. You have given us a vague sense of wanting to have a "secure" system, but you haven't said what you're trying to secure it against. Thus it's hard to respond intelligently to your query.
That said, I would suggest that you consider using a RAM disk to do your work on. It can be created to do the work, then deleted after you're done, with no risk of leaving a file behind on disk. Of course you'd want to make sure your RAM disk was not swap-backed.
hope this helps,

@_date: 2014-01-25 15:31:40
@_author: Doug Barton 
@_subject: Safely remove gnupg 1.4 without damaging gnugp 2 on Mac OS? 
Your keyrings are completely independent of what gnupg version you're running, but to be on the safe side you should probably back them up first.
Since I don't know how the Mac versions of the gnupg software you installed work I would be mildly interested in the question of whether removing 1.4.11 might remove a library or something that the new version depends on. If I were you I would remove them both, then reinstall the new version.
hope this helps,

@_date: 2014-07-01 20:31:57
@_author: Doug Barton 
@_subject: howto revoke a key that has no secret key 
Please don't reply to a message on the list and change the subject line. Doing so causes your new topic to show "under" the previous one for those using mail readers that thread properly, and may cause your message to be missed altogether if someone has blocked that thread.
Instead, save the list address and start a completely new message.
hope this helps,

@_date: 2014-07-09 00:29:04
@_author: Doug Barton 
@_subject: one key/pair for multiple email accounts 
Please don't reply to a message on the list and change the subject line. Doing so causes your new topic to show "under" the previous one for those using mail readers that thread properly, and may cause your message to be missed altogether if someone has blocked that thread.
Instead, save the list address and start a completely new message.
hope this helps,

@_date: 2014-07-13 18:26:00
@_author: Doug Barton 
@_subject: using different encryption key in evolution 
If you know you have keys for all the recipients of the sales@ list, you can create a group in your gpg.conf file which contains the key Ids. You may have to experiment with the group "name" to get the interface between evolution and gnupg to recognize the group name as an e-mail address. For example:
group sales at company.ny = key1 key2 ...
group  = key1 key2 ...
hope this helps,

@_date: 2014-07-14 09:18:17
@_author: Doug Barton 
@_subject: email bot for PGP/MIME PGP/Inline conversion 
In the absence of attachments, I'm fairly certain you're wrong about that. I've written a script to verify the signature of PGP/MIME messages, and the signature is over the message itself (again, in the absence of attachments). It should be fairly simple to take that script and output the message body with a synthesized inline signature.
Attachments add a lot of complexity, but even there it should be doable, just a SMOP.
The thing that would trip you up are message types that can only be successfully signed with PGP/MIME, like HTML, and certain character encodings. So you could never have a completely successful solution, but you could probably get to 80% or so with a minimum of difficulty.

@_date: 2014-07-14 10:30:06
@_author: Doug Barton 
@_subject: email bot for PGP/MIME PGP/Inline conversion 
Signed is the common case, and I believe what the OP was asking about.
Of course decrypting PGP/MIME is trivial, and then you're right back to what I wrote in the previous message about dealing with the parts.

@_date: 2014-07-14 13:10:22
@_author: Doug Barton 
@_subject: email bot for PGP/MIME PGP/Inline conversion 
That would be exactly the wrong way to do it. The only reasonably secure way, and the only way anyone knowledgeable about cryptography would accept, is to synthesize an inline message which contained the original Your points about the bot becoming compromised are exactly why not to do what you suggested.

@_date: 2014-07-18 09:46:14
@_author: Doug Barton 
@_subject: symmetric email encryption 
I think you skated past a previous question about your idea, and I'm also interested in the answer so I'll ask it again. :)
If you have a secure channel of communication by which you can exchange the symmetric password (which you would need to make your scheme work), why don't you use that channel for communication, rather than e-mail?

@_date: 2014-07-21 13:33:56
@_author: Doug Barton 
@_subject: Automatic e-mail encryption 
SSL/TLS is designed to (primarily) do two things, of roughly equivalent importance depending on the context:
1. Provide a framework to cryptographically secure the communication channel
2. Provide some level of assurance that the endpoint you've connected to is actually the entity you intended to communicate with
What DANE does is provide a DNS resource record which gives you the signature of the certificate that's relevant to the host name you want to connect to. The system assumes that both the host record and the DANE RR (TLSA) are signed with DNSSEC.
This facilitates purpose number 1 above as it allows the connection to start off encrypted. It also allows your client to verify that the certificate it gets is the one it was looking for. Assuming that you have the same level of confidence in the organization you're communicating with to manage their DNSSEC keys properly as you do for them to manage their SSL keys properly, it also fulfills purpose number 2.
As Peter points out however, you're simply transferring your trust in the hierarchy "above" the organization you're communicating with from the CAs to the TLD and root zone operators. The good news is that for now the TLDs have proven very trustworthy in their handling of their own DNSSEC keys, and replacing them due to a compromise is orders of magnitude easier than revoking/replacing CA signing certs. I will leave judgment of how the root zone operators are doing up to the reader, as my opinion would undoubtedly be biased. :)

@_date: 2014-06-02 16:32:21
@_author: Doug Barton 
@_subject: gnutls heartbleed equivalent? 
I'm noticing this in today's Ubuntu updates:
SECURITY UPDATE: memory corruption due to server hello parsing
-debian/patches/CVE-2014-3466.patch: validate session_id_len in
I haven't looked at the code, and the CVE referenced is simply reserved, not populated yet. But that description sounds like it's at best a very close cousin to our friend heartbleed ...

@_date: 2014-06-04 02:08:49
@_author: Doug Barton 
@_subject: Google releases beta OpenPGP code 
That'd be my guess as well. Good PR + limited uptake == profit!

@_date: 2014-06-17 12:54:38
@_author: Doug Barton 
@_subject: mascot_p 
Your etymology may be correct, as well as the common usage; but in zoology a turtle is an animal that lives only in the water, a tortoise is an animal that lives only on the land, and a terrapin moves between the two.

@_date: 2014-06-17 13:00:32
@_author: Doug Barton 
@_subject: mascot_p 
Can I take a curmudgeonly view here, and ask why? On one hand that question is "Should we do it at all?" and on the other hand it's a question of, "If we're going to do it, what purpose would be trying to The latter question helps inform the discussion about what kind of mascot would be the best choice, if we decide to do it at all.
I'm aware of the whole "unite the community" and other aspects involved in having a mascot, but I wonder how much more united the community could be. :)

@_date: 2014-06-23 13:18:03
@_author: Doug Barton 
@_subject: Compiling GnuPG for Windows 
Out of curiosity, why do you believe that you need to compile it?

@_date: 2014-06-25 12:35:33
@_author: Doug Barton 
@_subject: more bikeshedding about offline primary keys &  auth subkeys 
Hash: SHA256
Be sure to reload the page a few times :)

@_date: 2014-06-28 13:44:49
@_author: Doug Barton 
@_subject: New to OpenPGP  getting frustrated. 
There is an enigmail-users mailing list, this message should have gone there instead, for future reference.
The answer to your question is to click the "Decrypt" button. It's understandable that you missed it since this usage is not exactly obvious, but it will allow you to add the key to your keyring directly without having to save the file first.
hope this helps,

@_date: 2014-05-21 14:53:12
@_author: Doug Barton 
@_subject: Thunderbird--Ubuntu 14.04 
Working for me on both platforms. Do you have anything unusual in your gpg setup? Are you locating $GNUPGHOME somewhere other than ~/.gnupg ? Can you do things like 'gpg --list-keys ' on the command line?

@_date: 2014-09-15 12:22:58
@_author: Doug Barton 
@_subject: encrypting to expired certificates 
>>
Is this perhaps a language issue? The common English meaning of the word "expire" is that after the date listed the thing that expired is no longer valid/good/useable/etc. As far as I can tell, everyone on this list who responded to you had the same understanding, which is that after the expiration date the key is no longer valid. (A view I share, Meanwhile, you're presenting the options for an expired key as "use the key, or send plain text." There is a third, and I daresay significantly more preferable option, which is to use OOB communication to ascertain how the other party would like you to proceed.
Imagine this scenario ... Alice sets an expiration date on her key because she knows that after that expiration date her key is:
1. Likely to be compromised
2. Certain to be compromised
3. No longer in her control
4. Is actually now in Mallory's control
5. Other
You have no way to know which of those scenarios is the case. Further (assuming that you took the step of refreshing Alice's key) you have no way to know why she did not update the expiry date.
In this situation, it is certainly NOT safe to use that key for encryption, and in fact "Don't send the message at all" is almost certainly the right answer, unless you can determine in some OOB manner what Alice wants you to do.
So FWIW, I think that GnuPG is doing the right thing here, and you may wish to reconsider your perspective on the issue.

@_date: 2014-09-15 14:53:43
@_author: Doug Barton 
@_subject: encrypting to expired certificates 
Yeah, I'm sure there are other scenarios I was not smart enough to consider. :)
Wow, blast from the past. :)  It's not clear to me how you're tying those 2 things together though.
Meanwhile, I left out of my previous post my overwhelming dislike of the expiration date feature. :)  Robert has a really good point about GnuPG not providing policy, and unfortunately a lot of users see the "expiration date knob" and cannot resist the urge to twist it, without understanding what it means, or why it should (or should not be) used, or in many cases even that they themselves can extend the expiration date if they choose to.
Frankly I wish the option had never been added to the spec, but (thankfully) I'm not in charge. :)

@_date: 2014-09-15 15:02:14
@_author: Doug Barton 
@_subject: encrypting to expired certificates 
So let's practice some argumentum ad absurdum. Let's say that I'm Hauke's correspondent, and I set an expiration date on my key because I felt there was a legitimate concern that myself, my key, or both were going to come under the control of a hostile entity. Now that worst case scenario has actually occurred, and it is no longer safe for anyone to send me encrypted communications using that key. But HALLELUJAH!, I'm safe because the software honors the spec and will not allow Hauke to encrypt to my key because it is expired.
"But Doug, that's ridiculous! Hauke's correspondent already told him that it's safe." Well of course she did, because that's what the hostile entity TOLD her to say. :)
Now that scenario has a lot of potential holes in it, so please don't waste electrons arguing how plausible it is or is not. The point I'm trying to make is simply that we don't know what we don't know. What we do know is that at this time Hauke's correspondent is not in control of her key, and as a result it's not safe to encrypt content to it.

@_date: 2014-09-15 15:24:58
@_author: Doug Barton 
@_subject: encrypting to expired certificates 
In dkg's version of this particular conjecture he said, "his peer doesn't have the means to update the cert's expiration date right now." I think my conclusion, "she does not currently have control of her key" is reasonable, although I admit to a bit of hyperbole in order to make my version of the conjecture seem more dramatic. :)
OTOH, what scenario do you envision where not having the means to update the certificate does not translate into not having control of the key, even if on a temporary basis? I'm not saying that the key is compromised ... simply that she does not have access to all the things she needs ("secure" computer, the secret key, etc.) at this time. If you don't call that "not in control" what terminology do you think is more

@_date: 2014-09-16 08:59:58
@_author: Doug Barton 
@_subject: encrypting to expired certificates 
I agree with Robert that symmetric encryption is your best bet, given that you're sitting right there.
Meanwhile, all of the real world cases listed so far involve people who have mismanaged their keys by not updating their expiration date. I'm not sure that adding features to make that situation less painful is the right direction to move.
I do like Werner's idea of moving the expiration date to the expert menu. That would give us less instances of users twisting a knob just because it's there.

@_date: 2014-09-16 10:06:47
@_author: Doug Barton 
@_subject: encrypting to expired certificates 
FWIW, I recently experienced that myself. The combination of knobs needed to select both the primary and the encryption sub key for updating the expiration was not intuitive, and I was quite surprised to see that when I updated the expiration date the first time that the subkey was not also updated. In fact I would not have known that at all if I hadn't done 'list-keys' after I edited the key just to be sure.
Doug (It's only paranoia if they're not actually out to get you) :)

@_date: 2014-09-16 10:31:00
@_author: Doug Barton 
@_subject: encrypting to expired certificates 
.... which further highlights that adding options to make life easier for people who don't understand what key expiry means, or how to manage it properly, is probably not a good idea. :)

@_date: 2014-09-16 12:03:20
@_author: Doug Barton 
@_subject: encrypting to expired certificates 
Yes, I think we all understand that. My vote is that what you want to
do is a bad idea.
I admire your determination to believe that you are the one who is
right, and that everyone else is wrong. :)

@_date: 2014-09-16 15:03:29
@_author: Doug Barton 
@_subject: encrypting to expired certificates 
It wasn't *that* hard, just not what I expected. :)
When you get into the edit-key menu you can do 'uid *' (or specifically select the uids you want to update, if not all). Then update the expiry.
Then also do 'key *' (or specifically select the subkeys you want to update). Then you can update the expiry for the subkey(s).
The thing that I found unexpected is that even if you do both 'uid *' and 'key *' you can still only update the expiry for one or the other, apparently whichever one of those you executed last.

@_date: 2014-09-16 16:31:07
@_author: Doug Barton 
@_subject: encrypting to expired certificates 
Hash: SHA256
Sorry I wasn't clear. I meant that what you want is clear to everyone.
The fact that it's a bad idea seems to remain unclear to you.
Even if your last statement were correct (and I don't think it is),
you should be careful drawing conclusions from it. The danger is that
people with unusual views (such as that "expired" doesn't mean
"expired") are more likely to comment than the proverbial "silent
majority" who, if they gave any thought to the topic at all, concluded
long ago that, "Of course 'expired' means 'expired,'" and moved on
with their lives.

@_date: 2017-04-08 10:41:05
@_author: Doug Barton 
@_subject: Smart card 
There is nothing wrong with that point of view of course. The danger comes in when people promote things like smart cards to newbies as "The right way to do PGP." They are/would be overkill for 99.9% of people who use PGP, and the additional hassle and complexity serves as a barrier to

@_date: 2017-03-16 23:34:31
@_author: Doug Barton 
@_subject: ADMIN: Some mail addresses are now rewritten 
The appropriate place is the IETF, and/or lists related to the development of mailing list software.

@_date: 2017-03-17 00:29:55
@_author: Doug Barton 
@_subject: Question about signing keys and trust. 
The fact that more than one person has access to the key seems superfluous to your use case.
This very unclear, but perhaps you have a more detailed implementation plan in mind, and this is just a summary.
This bit is clear, but if a spam detection tool is what you're developing, sharing the responsibility for flagging something as spam is a very bad idea. There has been a lot of e-ink spilled on this problem from all of the major mail providers. Essentially, users are incredibly bad at reliably tagging *their own mail* as spam, or not-spam. At best an individual's opinion on whether something is spam or not should be taken as one lightly weighted value in the overall determination. Developing a complex system of trusting users' opinions on this topic would be a waste of your time.
Sort of. You can use --list-packets, but it would be very painful.
It would actually be easier to import these keys onto their own rings using the no-default-keyring option. You probably also want to use no-import-clean option so that you can see all the signatures, including those from keys you have not already imported yet.
It's not *too* complicated to do this kind of stuff, but you have to really read the man page and understand how the pieces fit together.
I would also recommend that you use GNUPGHOME to create a separate environment from your own personal one.
Trust is completely different from what you're describing here. (Unfortunately the term 'trust' is badly abused in PGP circles, and has at least 4 different meanings depending on context.)
You don't care about the trust *level* at all. Your only concern is whether or not the key you're examining is included in the web of trust for your tool. If your "group key" that you described above is the apex of the tree, you want to examine the key you have to see if it has a chain of trust back to that apex key. For keys which are close to the top, that would not be too expensive of an operation. But as your pool grows it could become quite expensive, as you'd have to check if signatures/keys have been revoked, expired, etc.
Another problem you have is that there is no way for the administrator of the system to decertify a user (kick them out of the group, so to speak). You would require the cooperation of every user in every chain of trust back to the apex key, and every other member of the group not to add them back.
As you point out, PGP is not really designed for this sort of thing. :)
That said, you may be able to learn some stuff from the software for this site:  hope this helps,
