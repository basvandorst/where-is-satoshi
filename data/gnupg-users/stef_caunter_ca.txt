
@_date: 2006-04-18 01:44:50
@_author: Stef Caunter 
@_subject: Help understanding gnupg needed! 
get over it, publishing your email results in spam; I don't think that this suprises anyone anymore - deal with it in your own way and move on. The rage against spam has resulted in excellent filtering software, but the energy on both sides amounts to equilibrium.

@_date: 2006-03-16 08:56:44
@_author: Stef Caunter 
@_subject: batch mode lack of randomness FreeBSD 
I'm sure I have just missed this in the archives, but I cannot see mention of a way to get sufficient randomness when running gpg remotely in a shell account to batch generate key pairs, i.e.
gpg --gen-key --batch tmp
where tmp is populated according to doc/DETAILS example. Here is what I've done to help randomness. I'm just a user on this system so my options for IRQ mapping to acquire randomness are limited:
I've started a child process that continually writes to a disk file during the --gen-key --batch job...
I have populated ~/.gnupg/random_seed with 600 bytes from /dev/urandom
I have asked the admin to add IRQs to rndcontrol.
Is this just the way it is on FreeBSD (4.11-RELEASE)? There is plenty of randomness in /dev/urandom, and none in /dev/random...

@_date: 2006-03-22 14:30:08
@_author: Stef Caunter 
@_subject: Passphrase on the command line 
The documentation does not recommend this.
Since you appear to not want to store the ciphertext but the plaintext, an encrypted network transfer seems appropriate and less expensive. Write the backup to an ssh pipe instead of a temporary file.

@_date: 2006-03-22 15:31:13
@_author: Stef Caunter 
@_subject: Passphrase on the command line 
Here is my idiom; checking for success is vital.
See openssh documentation for details on key-based shell access. Test for transparent access, if using gpg, test for undisturbed encryption with --batch.
You can pipe the dump (or tar) to gpg instead of gzip. File size will be reduced. The dd command can also hit a tape, though this isn't always practical with nightly cron stuff.
OK=`/sbin/dump -0 -f - / | gzip | /usr/bin/ssh x.x.x.x dd of=/path/ok.gz 2>/dev/null;echo $?`
if [ $OK != 0 ]
echo "`date` `hostname` backup failed $OK" | mail you
echo "`date` `hostname` backup $OK" | mail -s "`hostname` backup $OK" you
Stef Caunter

@_date: 2007-04-06 21:53:18
@_author: Stef Caunter 
@_subject: Using GNUPG with php scripts and webserver 
Check error_log for the problem (if you can) - permissions on ~/.gnupg files will cause things to not work and you must have environment exported for the nobody user. I reset $ENV{'HOME'} in perl... there must be something similar in php. If you can view the environment the server provides in the browser you can see if you have what gpg requires. I assume the binary is in $PATH for the webserver. Keys must be readable and implicitly trusted for the webserver user and this user must have somewhere to write if you are using temporary files.

@_date: 2007-04-22 19:17:49
@_author: Stef Caunter 
@_subject: GnuPG::Interface 
I do this but don't use the module, just the shell.
You have to confirm the environment for the user. I reset HOME.
.gnupg directory permission has to be 0700 owned by the webserver user, with 0600 on the files.
Plaintext is encrypted to the key and then securely deleted; I'm sure I just didn't know what to do with the perl module, but I need gpg to work, not perl.
$gpg_result=system("/usr/local/bin/gpg --batch --armor -er nobody $DIR/$gpg_file && /bin/rm -P $DIR/$gpg_file ");
# didn't work
 	# do what you think is appropriate
# worked
         # note that file gets .asc appended to its name
         open GPG, "$DIR/$gpg_file\.asc" or warn "$! asc open\n";
         while(){
                 $message_body.="$_";
         }
         close GPG or warn "$! asc close\n";
 	# email the ciphertext, or whatever you want to do with it.

@_date: 2007-06-16 20:36:25
@_author: Stef Caunter 
@_subject: RSA 1024 ridiculous 
The only thing that is ridiculous is this flame-bait language. Feel the freedom to post back with something thoughtful and constructive after you read up on the considerable body of science on the subject. Until then, no one should be rising to this bait.
Stefan Caunter

@_date: 2009-03-16 21:49:42
@_author: Stefan Caunter 
@_subject: multiple DER formatted export 
Apologies for this not being specific to the gnupg list, but could I
possibly ask if anyone knows if it was ever possible to export
multiple certs in DER format?
In  Werner states that
there is no standard for doing so.
I am sure I used to do this with Windows Internet Explorer 5.x, but
Windows Certificate Store will no longer export all certs as a .crt
DER file, only a single cert as cert.der. Firefox as well. OpenSSL
does not convert pkcs7 bundles to PEM for use on a unix system.
Apple keychain gives me them all as a usable PEM that I can run
c_rehash on, but this is not surprising. I'm rewriting
 and want to recommend more
than one way to pull a commercially available cert bundle for
non-commercial software.
Stefan Caunter

@_date: 2014-12-25 12:51:38
@_author: Stefan Caunter 
@_subject: File Encryption 
Do you subscribe the the FUD about TrueCrypt? I haven't read anything
objective lately about it.
