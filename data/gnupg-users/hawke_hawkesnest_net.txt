
@_date: 2005-04-28 07:22:11
@_author: Alex L. Mauer 
@_subject: GPG error code with successful signing operation 
When GPG is set to use the gpg-agent but the gpg-agent is not available
(error message "gpg-agent is not available in this session" or "can't
connect to `/path/to/non-existent-pipe': No such file or directory"), it
produces a fatal error code of 2 even if the passphrase is successfully
entered at the prompt.  This strikes me as incorrect behavior.
-Alex Mauer "hawke"
Bad - You get pulled over for doing 90 in a school zone and you're drunk
off your ass again at three in the afternoon.
Worse - The cop is drunk too, and he's a mean drunk.
FUCK! - A mean drunk that's actually a swarm of semi-sentient
flesh-eating beetles.
gpg/gpg key id: 51192FF2 @ subkeys.pgp.net

@_date: 2005-08-11 01:14:23
@_author: Alex Mauer 
@_subject: imported smart-card keys 
OK, I'm getting frustrated with the interaction with the smart card.
I have generated a new ElGamal encryption key, 0x16AF3873.
$ gpg --edit-key 51192ff2
gpg: NOTE: THIS IS A DEVELOPMENT VERSION!
gpg: It is only intended for test purposes and should NOT be
gpg: used in a production environment or with production keys!
Secret key is available.
pub  1024D/51192FF2  created: 2002-03-22  expires: never       usage: CS
                     trust: ultimate      validity: ultimate
sub  2048g/1DA6A1C7  created: 2003-06-27  expired: 2004-06-26  usage: E
sub  2048g/9150664F  created: 2004-07-01  expired: 2005-07-01  usage: E
sub  2048g/96FAE64B  created: 2002-03-22  expired: 2003-04-16  usage: E
sub  2048g/0193A5EB  created: 2003-04-15  expired: 2004-04-14  usage: E
sub  2048g/16AF3873  created: 2005-08-10  expires: 2006-08-10  usage: E
sub  1024R/4A1C1224  created: 2005-06-27  expires: never       usage: S
sub  1024R/F40CACBA  created: 2005-06-27  expires: never       usage: E
sub  1024R/694C9CA5  created: 2005-06-27  expires: never       usage: A
OK, so I have exactly one valid signing key available on this machine
(RSA 4A1c1224, which is on a smart card), as evidence:
$ gpg --list-secret-keys
gpg: NOTE: THIS IS A DEVELOPMENT VERSION!
gpg: It is only intended for test purposes and should NOT be
gpg: used in a production environment or with production keys!
sec#  1024D/51192FF2 2002-03-22
ssb   2048g/1DA6A1C7 2003-06-27
ssb   2048g/9150664F 2004-07-01
ssb   2048g/16AF3873 2005-08-10
sec#  1024D/51192FF2 2002-03-22
ssb#  2048g/1DA6A1C7 2003-06-27
ssb#  2048g/9150664F 2004-07-01
ssb#  2048g/96FAE64B 2002-03-22
ssb#  2048g/0193A5EB 2003-04-15
ssb#  2048g/17804FC1 2005-08-10
ssb#  2048g/16AF3873 2005-08-10
ssb>  1024R/4A1C1224 2005-06-27
ssb>  1024R/F40CACBA 2005-06-27
ssb>  1024R/694C9CA5 2005-06-27
ssb#  1024D/3F52F59F 2004-12-13
But, when I go to sign a file (or email, or anything) I get:
$ gpg --sign test.txt
gpg: NOTE: THIS IS A DEVELOPMENT VERSION!
gpg: It is only intended for test purposes and should NOT be
gpg: used in a production environment or with production keys!
gpg: secret key parts are not available
gpg: no default secret key: general error
gpg: signing failed: general error
What could be causing this?
-Alex Mauer "hawke"

@_date: 2005-08-14 04:14:15
@_author: Alex L. Mauer 
@_subject: Revokation of keys from smart card 
Is it possible to revoke keys that have been stored on a smart card?  It seems to me that it is not.  Am I correct, or do I just need to do something other than "revkey"?

@_date: 2005-08-15 22:01:14
@_author: Alex L. Mauer 
@_subject: Revokation of keys from smart card 
Oh right ... my bad on that one (it helps to have the secret key for the primary key on the keyring that's being edited.  But perhaps GnuPG should give an error of some kind indicating that it didn't work and why.

@_date: 2005-07-05 21:58:23
@_author: Alex Mauer 
@_subject: imported smart-card keys 
Had a chance to look at this yet?
Also, I found some more .. stuff that strikes me as weird.
My Elgamal encryption key expired over the weekend, so I was playing
around a bit, trying to decide whether to just utilize the smart card
keys I have or generate a new elgamal key.  I don't yet fully trust the
smart card setup to work the way I want, and don't have a reader
everywhere.  But I digress.
I encrypted a (test) file to myself, to see which key it would be using
by default:
$ gpg -v -e -r hawke foo.txt gpg: using PGP trust model
gpg: using subkey F40CACBA instead of primary key 51192FF2
gpg: RSA/AES256 encrypted for: "F40CACBA Alex L. Mauer (Jabber)
OK, this makes sense, it's using my smart card key rather than an
expired key.  but then when I go to [try to] decrypt it, which I know
won't work due to not having the card reader installed:
$ gpg foo.txt.gpg
gpg: card reader not available
gpg: encrypted with RSA key, ID 9150664F
Huh?  Yeah, it's encrypted with an RSA key, but from where did it get
9150664f?? It isn't even an RSA key!  It is the key that just expired
though, which may have some bearing.
This is still on the same machine which displays the weird "imported
smart-card keys" problem described in my initial post.

@_date: 2005-06-03 16:29:45
@_author: Alex L. Mauer 
@_subject: OpenPGP Smartcard Advantages 
This just made me think.
Wouldn't it thus be trivial [for a malicious host] to destroy a smart
card (by sending the wrong admin pin repeatedly)?
-Alex Mauer "hawke"
Bad - You get pulled over for doing 90 in a school zone and you're drunk
off your ass again at three in the afternoon.
Worse - The cop is drunk too, and he's a mean drunk.
FUCK! - A mean drunk that's actually a swarm of semi-sentient
flesh-eating beetles.
gpg/gpg key id: 51192FF2 @ subkeys.pgp.net

@_date: 2005-06-03 19:39:03
@_author: Alex L. Mauer 
@_subject: OpenPGP Smartcard Advantages 
That's a good idea.  I think you could implement it safely, by making
the card treat the "locked" status (zeroed pin retry counter?) as a flag
that it should erase itself.  Then, when it had erased itself and
verified the erasure it could reset the pin retry counter (and possibly
reset the admin PIN to default)
That way, even if you abort it by turning off power, as soon as you
apply power again the card either resumes or restarts the erasure
process (depending on which is the best combination of speed and security).
It seems to me that this is just as good as becoming permanently locked
from a security standpoint, and better from a convenience stand point
(if you forget/lose/corrupt the admin PIN, all you have to do is enter
it wrong three times.)  And in the case of a malicious host, you're
better off in that you don't have to shell out for another card.
Bad - You get pulled over for doing 90 in a school zone and you're drunk
off your ass again at three in the afternoon.
Worse - The cop is drunk too, and he's a mean drunk.
FUCK! - A mean drunk that's actually a swarm of semi-sentient
flesh-eating beetles.
gpg/gpg key id: 51192FF2 @ subkeys.pgp.net

@_date: 2005-06-03 20:31:05
@_author: Alex L. Mauer 
@_subject: Sign my key - Was (no subject) 
I know this is rather controversial, but for a lot of people it doesn't
matter if the person really is Dan Mundy, since Dan Mundy is just a
string, and doesn't really have any inherent meaning attaching it to a
physical entity.
You can be *somewhat* sure that if you send an encrypted email to some
address, and they respond to its contents, that someone who has access
to that mailbox also knows the passphrase to the relevant key.
Physically meeting someone doesn't prove that the keyholder hasn't
shared the passphrase and private key.
If there's a picture UID on the key and it matches the person that you
physically meet, it doesn't prove that the person you met has the
passphrase to the key, or that they have access to the mailbox
associated with the key.
With a photo ID, it can prove (to the extent that they have proven it to
the ID issuer, i.e. not a whole lot) that the name on the key matches
the person you've physically met.  But if you interact primarily over
the net, that doesn't really matter.  There's a major missing link
between the email address and the physical person at the meeting.
For purposes of network addresses, I mostly couldn't care less if the
person who uses the email address harob02 *actually* goes
by the name, or is known to some government by the name Dan Mundy.  What
I do care about is that the same keyholder who signed this message, also
signed that one, and I have some basis for believing they both came from
the same person. And *that* is the important step.  I can build up a
level of trust based on the contents of messages signed by that key.  If
he starts spouting crap that is inconsistent with prior messages, I can
lower my trust on the determination that his key has been compromised,
or he's gone nuts, or he's changed his mind.  But what he's actually
named by his parents is totally irrelevant to that.
If I was entering into some sort of contract with him, validating the
government ID might start to matter so I could enlist some governmental
aid in enforcing it, if it became necessary.  But the more risk I'm
taking in some contract, the less likely I am to trust any middle-men to
have verified someone's identity.
Bad - You get pulled over for doing 90 in a school zone and you're drunk
off your ass again at three in the afternoon.
Worse - The cop is drunk too, and he's a mean drunk.
FUCK! - A mean drunk that's actually a swarm of semi-sentient
flesh-eating beetles.
gpg/gpg key id: 51192FF2 @ subkeys.pgp.net

@_date: 2005-06-17 09:20:30
@_author: Alex L. Mauer 
@_subject: OEM key loggers 
It's not.
See  for the source of the images, and "If you do a search for dept. of homeland security's logo, it is a blue colour circular logo with an eagle in it. The one on the fake letter is a five-pointed star, which is commonly used for Sheriff's office."

@_date: 2005-06-27 23:27:26
@_author: Alex Mauer 
@_subject: pinpad cardreader; imported smart-card keys 
I'll ask the quick question first:
I purchased an SCM SPR332 card reader, based on the Smartcard Howto's
statement (about the SPR532) "The pinpad may be used to securely enter
the PIN".  I have found that I cannot use the pinpad, at least not with
gnupg.  Is this due to a misinterpretation of that statement?  If so,
perhaps changing the howto to indicate that while it may be used to
securely enter a pin, Gnupg doesn't support this functionality. Or is it
simply that the SPR532 works and the SPR 332 does not?  Since the 332 is
just a usb-only version of the 532, I'm figuring gnupg doesn't support
this feature at all.  I'd be happy to help test/debug if anyone's
willing to add it.
Secondly, the longer and more involved question:
I recently acquired an OpenPGP smart card, and while starting to use it,
I noticed some strangeness:
First, my current arrangement is as follows: I have a DSA master signing
key, an ElGamal encryption subkey, and a DSA signing subkey.  To use the
smart card, I need to add an RSA signing key, and an RSA encryption key
as well.
Well, I did so, and this went reasonably smoothly.  But, I then tried to
make these keys usable on another system.
by using 'gpg --card-status'.  But, this seems not to work.
If I then copy the pubring.gpg from the first machine and import it on
the second, then when I run 'gpg --card-status' it fills in the field
"General key info", and then it can apparently generate the stub RSA
keys.  But the secret parts of the subkeys are not available (indicated
with a  which I'm used to seeing for the master key).  So I figure
I'll import those secret parts, but it tells me "secret keys unchanged:
1" and nothing changes.
So, I delete the secret keyring from the new machine, and import the old
subkeys' secret parts first, then the new RSA subkeys' public parts. Now
everything seems to work.
BUT, when i run gpg --list-secret-keys I get the following output
(removing some extra uids):
sec#  1024D/51192FF2 2002-03-22
uid                  Alex L. Mauer (Home) ssb   2048g/9150664F 2004-07-01
ssb   1024D/3F52F59F 2004-12-13
sec#  1024D/51192FF2 2002-03-22
uid                  Alex L. Mauer (Home) ssb#  2048g/1DA6A1C7 2003-06-27
ssb#  2048g/9150664F 2004-07-01
ssb#  1024D/3F52F59F 2004-12-13
ssb#  2048g/96FAE64B 2002-03-22
ssb#  2048g/0193A5EB 2003-04-15
ssb>  1024R/4A1C1224 2005-06-27
ssb>  1024R/F40CACBA 2005-06-27
Shouldn't gnupg only produce one entry for that, like:
sec#  1024D/51192FF2 2002-03-22
uid                  Alex L. Mauer (Home) ssb#  2048g/1DA6A1C7 2003-06-27
ssb   2048g/9150664F 2004-07-01
ssb   1024D/3F52F59F 2004-12-13
ssb#  2048g/96FAE64B 2002-03-22
ssb#  2048g/0193A5EB 2003-04-15
ssb>  1024R/4A1C1224 2005-06-27
ssb>  1024R/F40CACBA 2005-06-27
Shouldn't I be able to import the secret parts of subkeys 9150664f and
3f52f59f after the stub keys have been created??
Oh, this is with gnupg 1.4.1 and 1.4.2rc2

@_date: 2005-06-28 17:33:32
@_author: Alex Mauer 
@_subject: pinpad cardreader; imported smart-card keys 
As I was afraid of; perhaps the howto could be updated to clarify that
How about the SC daemon?
Would it work to have the PIN entry still display, but if the PIN is
entered on the keypad accept that and remove the PIN entry box?
Glad to hear it; thanks!

@_date: 2005-05-02 16:33:15
@_author: Alex L. Mauer 
@_subject: GPG error code with successful signing operation 
Certainly it's a real error.  But it's not a fatal error, as the gpg man
page states error code 2 to mean.  IMO it should have its own error code
so that it can be tested for specifically since error code 2 is too
generic and could signify a bunch of other problems as well.
Sorry, I missed the version number.  Gnupg 1.4.0.
-Alex Mauer "hawke"
Bad - You get pulled over for doing 90 in a school zone and you're drunk
off your ass again at three in the afternoon.
Worse - The cop is drunk too, and he's a mean drunk.
FUCK! - A mean drunk that's actually a swarm of semi-sentient
flesh-eating beetles.
gpg/gpg key id: 51192FF2 @ subkeys.pgp.net

@_date: 2005-05-20 20:50:37
@_author: Alex Mauer 
@_subject: 2 noob problems 
What's the reasoning behind this?  Would it not be possible/logical for
the keyserver, or gpg's import process, to simply discard all but the
most recent signature from any single key?
-Alex Mauer "hawke"

@_date: 2005-05-21 17:50:11
@_author: Alex L. Mauer 
@_subject: 2 noob problems 
Yep, I understand the purposes of key signatures.  But (unlike with your
  bag/tie analogy), two signatures from the same key don't make a key
twice as valid.  If only the most recent one is kept, that should be
sufficient.  If you add a new uid, only that uid needs to be signed,
there's no need to add another signature to all of them.
Because it's redundant.  If I have two signatures on my key from
someone, either one of them is equally valid.  No need to keep two.
Yep, and I'm not proposing discarding arbitrary signatures.  But if
there's two signatures from a key, regardless of whether it's out of
use, you don't need to keep them both.  Does it testify that the owner
of the key was verified once, and then again on another date?  If so,
what reason is there to keep both signatures?  If I sign a contract,
does signing it twice make it more valid/enforcable/something?
On the other hand, if the signature has expired, since it becomes
meaningless there's no reason to keep it.  Look at the PGP Global
Directory key for an example of where this could become a problem.  It
re-signs the keys every two weeks, with a signature that is valid for
two weeks.  This builds up pretty quickly.
It's not, but defining a specific behaviour is generally a good idea
when talking about how computers should behave.  Defining this would
tell the keyservers what to do when syncronising, which I've heard as
the reason it retains all keys+sigs forever.
In fact ... now that I think about it, if this were done, it would be
possible for the keyservers to handle that better too: It could retain
only the most recent signature for a key on each uid, and only give out
the keys if the most recent self-signature is not a revokation
signature.  But, it could still hang on to all keys for comparison, so
that when syncronization rolls around it doesn't just treat it as a new key.
Bad - You get pulled over for doing 90 in a school zone and you're drunk
off your ass again at three in the afternoon.
Worse - The cop is drunk too, and he's a mean drunk.
FUCK! - A mean drunk that's actually a swarm of semi-sentient
flesh-eating beetles.
OpenPGP key id: 51192FF2 @ subkeys.pgp.net

@_date: 2005-05-24 19:18:57
@_author: Alex Mauer 
@_subject: 2 noob problems 
Aha, it makes sense now.  I had assumed that the keyservers were able to
verify signatures.
Then I guess I hope this feature will come along at some point.
-Alex Mauer "Hawke"

@_date: 2005-05-24 22:32:02
@_author: Alex Mauer 
@_subject: IBM to Provide Security w/o Sacrificing Privacy Using Hash 
You can't.  But you can use the hash as a key to cross-reference
For example, if they were using full names to generate the hash:
Watch list contains:
"Alex Mauer" -> foo
"Billy Z Williamson" -> bar
"Corgi McCorkerton" -> baz
Passenger list contains:
"Billy Z. Williamson" -> xyzzy
"Alex Mauer" -> foo
"Fenster LeCrab" -> baz
...they only need to compare the hashes, for the cruise ship company to
see that "Alex Mauer" should not be allowed to board, and the government
to see that "Alex Mauer" attempted to board a cruise ship.
The government doesn't need to reveal their watch list to the cruise
ship company, and vice versa.
This also illustrates some problems with the system, namely hash
collisions (two people generate the hash "baz") and the fact that slight
changes in data will lead to totally different hashes (added period
after middle initial).
-Alex Mauer "hawke"

@_date: 2005-05-25 18:21:13
@_author: Alex Mauer 
@_subject: IBM to Provide Security w/o Sacrificing Privacy Using Hash 
The probability of this happening is extremely low.
For a 128-bit hash, such as md5, the probability is 1 in 2^128 (1 in
For a 160-bit hash, such as sha-1 which PGP uses, the probability is 1
in 2^160, 1 in
"If the hash algorithm is properly designed and distributes the hashes
uniformly over the output space, 'finding a hash collision' by random
guessing is exceedingly unlikely (it's more likely that a million people
will correctly guess all the California Lottery numbers every day for a
billion trillion years).  Other hashes have even more bits: the SHA-1
algorithm generates 160 bits, whose output space is four billions times
larger than that produced by MD5's 128 bits."
(from "An Illustrated Guide to Cryptographic Hashes"[1])
Of course, this only applies to a random method, but that is pretty much
all peoples' names are going to give you.
Recommended reading:
MD5 (
SHA-1 (
Birthday Attack (
Meet-in-the-Middle Attack
[1]

@_date: 2005-05-25 20:05:41
@_author: Alex Mauer 
@_subject: Help with Enigmail and other issues 
It allows Engimail to import the key used to sign a mail without prompting.
-Alex Mauer "Hawke"

@_date: 2005-05-26 02:17:00
@_author: Alex L. Mauer 
@_subject: IBM to Provide Security w/o Sacrificing Privacy Using Hash   
Can you expand on this?
How could the Name/address/ssn be retrieved from a hash of the same?
How would data reduction be necessary?  Couldn't everything be
represented in Unicode?  Of course, that doesn't solve the
transliteration problem, but then again it's no different than the
status quo in that respect ("Alex Mauer" != "Aleks Mauer")
Bad - You get pulled over for doing 90 in a school zone and you're drunk
off your ass again at three in the afternoon.
Worse - The cop is drunk too, and he's a mean drunk.
FUCK! - A mean drunk that's actually a swarm of semi-sentient
flesh-eating beetles.
gpg/gpg key id: 51192FF2 @ subkeys.pgp.net

@_date: 2005-05-26 20:32:48
@_author: Alex Mauer 
@_subject: IBM to Provide Security w/o Sacrificing Privacy Using Hash   
Sure, I understand the purpose.  But Florian seemed to be saying that it
would be simple to retrieve the plaintext, "because the search space is
so small".
Ryan M. covered that a bit, but mostly from the perspective of guarding
against identity theft.  It would only protect somewhat against that
(making it harder is at least a good start, I'd say)...but unless I'm
missing something big it would protect against any party retrieving the
entire plaintext passenger list (or whatever it may be) or the entire
plaintext watch list.
I don't either personally, but Google says it's pretty common.
No, but with that level of false negatives you might as well not even
bother with the system in the first place.
And with that level of false positives ...
 explains how
soundex works, and from that it should be obvious that soundex would be
a *horrible* choice for this application.  Which is not of course to say
that it's an unlikely choice. :-D
-Alex Mauer "Hawke"

@_date: 2005-10-24 23:25:09
@_author: Alex Mauer 
@_subject: Delete key from keyserver 
I find this point to be an important one.  The focus of all the GPG
documentation and recommendations and so forth is far too much on "real
world" identity, i.e. physical documents, passports/drivers
license/national ID/etc.
But it is not intended, or at least not primarily used, in situations
where that matters.  It gets the most use in Internet communications,
protecting things that are unlikely to get anyone sued or such where
tracing a person to their physical identity is useful.
For this sort of reason, I was disappointed that GnuPG 1.4.x
de-emphasized the "certification levels".  It's helpful to be able to
state what you're willing to certify ... e.g. a level 3 sig indicates
confidence in the name, while a level 1 sig indicates confidence in the
email (or whatever someone may use)
The UID format is also problematic IMO.  GPG (OpenPGP?) strongly "wants"
to have a Name and an email address for each UID.  I think that this
puts emphasis in a bad place, leading people to be signing the fact that
e.g. "Alex Mauer belongs with hawke rather than "Alex
Mauer belongs with key 0x51192ff2" and "hawke belongs
with key 0x51192ff2".  The photo UID type fits much better, being a
statement that "this is a photo of the person who uses 0x51192ff2".
But it is comparatively easy to verify that the email goes with the key
(I'll [locally] trust robots such as keyserver.pgp.com to do this); it
is /much/ harder to verify that the name goes with either the key or the
email address ... or even the physical person with ID when you meet
them. (twins are not sufficiently uncommon)  I'd even go so far as to
say that it's entirely impossible to be 100% sure. Fortunately the
situations where it matters are few and far between, particularly for
email over the internet.

@_date: 2005-10-26 01:28:51
@_author: Alex Mauer 
@_subject: Delete key from keyserver 
When the string "Alex Mauer " is bound to
0x51192ff2, there's also an association made between the two parts of
the string.  The system does /not/ say "Alex Mauer belongs with key
0x51192ff2" and "hawke belongs with key 0x51192ff2".  It
says "Alex Mauer and email hawke belong with 0x51192ff2"
as one statement.  It's a subtle, but important, distinction.
I should be able to affirm that hawke uses 0x51192ff2
without being forced to also affirm that "Alex Mauer" uses 0x51192ff2,
or vice versa.
Obviously, with these examples I'm happy to affirm both, since hey ..
it's me.  But [hopefully] you get my point.

@_date: 2005-10-26 03:55:41
@_author: Alex Mauer 
@_subject: Delete key from keyserver 
As do I, at least for a level 3 signature.
I understand that it's possible to do this.  I was just lamenting the fact that it is very strongly discouraged by GnuPG:
   Real name:
   Name must be at least 5 characters long
I don't understand why.  If you trust the association of the Name and key, how/why would having an email address in there as well improve the If it's of questionable usefulness, then having the name there at all is of questionable usefulness, and so is the verification of documents. Theoretically, the point of a physical meeting is:
* Physical person linked by photo ID to name.
* Name linked to key by the key field "Real Name"
? Possibly Physical person linked to photo uid by appearance.
Any verification of the email is a totally independent operation, linking the email address and the key, but not the name with the email address.  Why should the signature connect them?
I could make a conventionally-UIDed new key with a friend's name and a new email address, and he could meet with you and you could verify all his official documents, but it would prove nothing about the email address.  Then you could verify the email address with your challenge method of choice, and it would confirm that the recipient of the mail could use the key.  The end result would be a key that had an invalid association between the name and the email address.
Not that this cannot be done even if the name and email address are separate entities, but at least it becomes more obvious. And UIDs wouldn't have to contain every combination of name and email address.
Anyway, the point of this rather long-winded bit is that it should be possible to only sign the email if that's all that has been verified, or only sign the name if that's all that's been verified.
-Alex Mauer "hawke"

@_date: 2005-10-26 19:41:23
@_author: Alex Mauer 
@_subject: Delete key from keyserver 
Right, so why is it any better to have a key with:
0x99242560 David Shaw than to have
0x99242560 David Shaw
0x99242560 dshaw
(two UIDs)
You still have the same level of disambiguation.  Why would someone be
unwilling to sign the one, but willing to sign the other?
Yes, a key without any UID containing an email address is of
questionable usefulness.  Agreed.
But if they can only prove one part of the data to their satisfaction,
why should they not sign only that part?
"In communication with them" is not good enough for the level of trust
that these checks imply.  Besides, the scenario I described already
implies that they must be in communication.
But it's really irrelevant to the original point, which is that in many
cases, the real name doesn't matter; only the email address/key does.
"If I know a person only by email, then that email *is* the person to
me."  In that case, if the email is trusted, then the name on the UID is
irrelevant.  I might be willing to trust that key ID 0x99242560 really
is used by the holder of email dshaw but not that the
person in question really is named David Shaw. ... and in most cases, I
probably don't really care about the real name of the keyholder, only
about the email address.  So why should I have to sign both in order to
declare this trust?

@_date: 2005-10-27 05:12:06
@_author: Alex Mauer 
@_subject: Delete key from keyserver 
There is.  It is nearly impossible to verify with complete certainty that the person you meet is in fact able to access the email account/key.  It is completely impossible to verify that they are the only person with access to the mailbox or key.
If you sign both UIDs, it is equivalent to signing one traditional UID.
But you don't know that any more with two UIDs than with one.  The name being part of the UID does not say anything at all about the email.
But you have no idea if the email address part of the single UID is solely for the person named in the name part of the single UID.  Same On this basis, you should not sign any UID at all, since you can't send a mail to the email address and be sure of contacting the person with the real name listed, and you can't meet a real person and be sure that it is the same person who receives mail at the address.
Exactly.  So if you had separate UIDs, someone knowing you as webmaster would sign both that email address UID and the real name UID, from the LUG would sign that one and the real name, etc.  Someone (like me) knowing you only by email address could sign only the relevant email UID, and be making no statement about your real name.
...how do you make the connection between the email part of the UID and the real name part of the UID?  I assert that you cannot.
I agree, for cases where a UID contains both a real name and an email, and both parts cannot be verified.
No it doesn't.  Nothing prevents the person you met from giving the challenge token to someone else who does have access to the private key at the address indicated.
If it is a UID containing only an email address, I am not trying to indicate that I have verified the identity of that person.  I am only indicating that I have verified the email account.
If it contains both an email address and a real name, then by signing it I am trying to indicate that I have verified both.
Given.  I am speaking of relevance to me, not relevance to others.  If I trust the association between the email address and the key, and I only interact with that person by email, then the name on the UID is of no importance to me.  That is not to say that I am willing to sign it, only that I am willing to trust its veracity for my purposes.
Actually, I would, even with an lsign.  My local signature would indicate "Dave Shaw, email address dshaw uses key ID 0x99242560".  If the UIDs were separate, then I could sign (or lsign) the one part that I had verified.
Please, take care to note that it is not my policy to sign a key without verifying all parts of it. (except for the few keys that I will sign with a level 1 sig, as described in my key signing policy.  It is simple enough to configure gpg to ignore level 1 signatures if you feel that they weaken the web of trust.) I wrote a comment on the usefulness of UIDs which only contain one piece of data; this does not reflect on my key signing policy in any way.
I also wrote in largely hypothetical terms, "If I *wanted* to advertise my trust in the email portion of a traditional UID, I *would* have to sign the whole thing".  That is not the same as "When I want to advertise my complete trust in the email portion of a traditional UID I just go ahead and sign it with no verification whatsoever." In point of fact I *do* use a challenge method as you described for email, I *do* indicate the level of verification I have done, and I *do not* claim to have verified all information in a UID if I haven't.
...k, go ahead.

@_date: 2005-10-27 18:51:37
@_author: Alex Mauer 
@_subject: Delete key from keyserver 
OK ... and what would that gain them?
Yes, we've established that ... but not the rationale behind it.
OK, so it makes sense for those who care about the email address to not
trust the key if there is no signed UID containing the email with which
they wish to communicate.
Not really.  It's up to me as the signer to affirm how I know the key
holder.  Or not sign at all if I can't verify all data.

@_date: 2005-10-27 20:14:04
@_author: Alex Mauer 
@_subject: Delete key from keyserver 
Of course it is not possible to tell the key holder what information
they type in.
My original statement was that it would be better for GnuPG to not
discourage split UIDs, and that there is no reason to be signing two
pieces of data (real name and email) with one signature.
Else, why not include the photo in there as well, so you have to sign
"Real Name (Comment)  [photo]", and each key has to
include the photo /n/ times.  After all, why should the signer get to
decide to sign only the name and email, and not the photo!?
If it's somehow more secure to combine name and email into one string,
then why doesn't that argument apply to photo UIDs as well?  (I realize
that there are technical reasons for treating the photo as a separate
ID, since it's a distinct data type.  But the security implications are
the same.)

@_date: 2005-10-31 22:05:04
@_author: Alex Mauer 
@_subject: ECC 
It was British Telecom.  google:"british telecom" hyperlink patent

@_date: 2006-12-05 17:09:44
@_author: Alex Mauer 
@_subject: adding passphrases to gpg-agent 
Is it possible to control/disable this behavior?  I prefer to keep my
ssh keys only on a USB disk, and not have them copied to any machine on
which I happen to load them.
-Alex Mauer "hawke"

@_date: 2006-12-19 12:32:28
@_author: Alex Mauer 
@_subject: SCM SPR-332 pinpad 
I noticed recently that using the gnupg agent, as of version 2.0.1 it
began prompting for keypad entry on my SPR-332 (same as the SPR-532, but
USB only).  Unfortunately, it doesn't seem to get the PIN back, or the
PIN doesn't work (as it always fails).  The PIN retry counter is not
decremented, so I assume gpg isn't reading the PIN, or the reader isn't
using it (not sure how that works)  Is this something that should be
working now?
This is the gnupg 2.0.1 from Ubuntu (feisty) so if the pinpad is not
supposed to be working at all, it's possible that a patch was applied to
enable it.
-Alex Mauer "hawke"

@_date: 2006-12-20 10:38:35
@_author: Alex Mauer 
@_subject: SCM SPR-332 pinpad 
Yes, I am using it with a FSFe OpenPGP card.
Here are the results:
2006-12-20 10:21:48 scdaemon[7324] DBG: prompting for keypad entry
'||Please enter your PIN at the reader's keypad'
scdaemon[7324.0] DBG: -> INQUIRE POPUPKEYPADPROMPT ||Please enter your
PIN at the reader's keypad
scdaemon[7324.0] DBG: <- END
2006-12-20 10:21:48 scdaemon[7324] DBG: ccid-driver: sending escape
sequence to switch to a case 1 APDU
2006-12-20 10:21:48 scdaemon[7324] DBG: ccid-driver: sending 6B 03 00 00
00 00 11 00 00 00 80 02 00
2006-12-20 10:21:48 scdaemon[7324] DBG: ccid-driver: status: 00  error:
00  octet[9]: 00
               data:
2006-12-20 10:21:48 scdaemon[7324] DBG: ccid-driver: sending 69 13 00 00
00 00 1
2 00 00 00 00 00 82 00 00 19 06 02 FF 04 09 00 00 40 00 00 20 00 82
---Here it asked for the PIN.  After entering the PIN and hitting enter:---
2006-12-20 10:21:54 scdaemon[7324] DBG: ccid-driver: status: 00  error:
00  octe
t[9]: 00
               data: 00 40 02 90 00 D2
2006-12-20 10:21:54 scdaemon[7324] DBG: dismiss keypad entry prompt
scdaemon[7324.0] DBG: -> INQUIRE DISMISSKEYPADPROMPT
scdaemon[7324.0] DBG: <- END
Full log available at

@_date: 2006-12-20 18:16:46
@_author: Alex Mauer 
@_subject: SCM SPR-332 pinpad 
Hmm, I had not intended to sign with the card.  I'm just using the
gpg-agent with ssh-agent support; I would have assumed that it would use
the authentication key by default.  Is that not the case?

@_date: 2006-12-21 10:32:36
@_author: Alex Mauer 
@_subject: SCM SPR-332 pinpad 
ssh -v says:
debug1: Next authentication method: publickey
debug1: Offering public key: cardno:000100000227
debug1: Server accepts key: pkalg ssh-rsa blen 153
Agent admitted failure to sign using the key.
It then offers a different, file-based, key and gpg-agent prompts for
the password for that.
 and also what the scdaemon log has
Entire log available at The log contains nothing after "scdaemon[7324.0] DBG: <- END".  I cut
stuff before "2006-12-20 10:21:48", but not after, nor in the middle.
The point where I inserted the comment about the prompt was only a
comment and the log is complete.
-Alex Mauer "hawke"

@_date: 2006-11-02 21:39:38
@_author: Alex Mauer 
@_subject: deleting signatures from uids 
Is there any reason that the keyserver needs to continue to redistribute
expired, revoked, or otherwise invalid (e.g. superseded) signatures?
I can't think of any.
I can kind of see why you might want to show the full history of a key,
but does it really need to be distributed out to everyone?
If this is a security risk, surely the keyserver options
"import-clean-sigs" and "import-clean-uids" are also, are they not?
-Alex Mauer "hawke"

@_date: 2006-11-02 22:44:56
@_author: Alex L. Mauer 
@_subject: deleting signatures from uids 
Agreed.  But it's not important to distribute signatures that have been
Because the server could, and presumably would, still distribute
revocation signatures, but not the signatures they revoke.
I disagree.  Downloading the data only to discard it is a waste of time
and bandwidth.
-Alex Mauer "hawke"

@_date: 2007-04-29 22:08:51
@_author: Alex L. Mauer 
@_subject: using private key on removable media 
This is mostly a wishlist comment, I guess:
It would be great if gnupg would look at all information (keys)
available to it before deciding whether it could perform a given operation.
For example, using my key:
$ gpg --secret-keyring /media/disk/.gnupg/secring.gpg --list-secret-keys
sec   1024D/51192FF2 2002-03-22
[some subkeys, not including the smartcard ones]
sec#  1024D/51192FF2 2002-03-22
[some subkeys]
ssb>  1024R/4A1C1224 2005-06-27
ssb>  1024R/F40CACBA 2005-06-27
ssb>  1024R/694C9CA5 2005-06-27
first, when trying to sign a key using this setup, gnupg decides by
looking only at the first keyring that 'secret key parts are not
available'. even though they are available from the second keyring.
second, when trying to use the smartcard keys from the second keyring,
gpg decides from the first keyring that those keys are not available either.
This is with gnupg 2.0.3.
-Alex Mauer "hawke"

@_date: 2007-08-21 13:30:01
@_author: Alex Mauer 
@_subject: GnuPG & OpenSSH 
How can one generate this authentication key, other than via the OpenPGP
smart card?
-Alex Mauer "hawke"

@_date: 2007-08-22 16:46:03
@_author: Alex Mauer 
@_subject: GnuPG & OpenSSH 
I am having this problem as well.  I created both an RSA and a DSA
subkey, as well as (for testing purposes) a new separate key (DSA).
I had expected them to show up in 'ssh-add -l' (I use gpg-agent with
ssh-agent support) ... but they don't.
It would be very helpful to know: why this doesn't happen, and how to
get it to work.
-Alex Mauer "hawke"

@_date: 2007-02-07 16:47:11
@_author: Alex Mauer 
@_subject: smartcard and ssh 
Have you looked for and/or reported the bugs you found?
It works for me pretty much "out of the box" with ubuntu/feisty, less so
with earlier releases.
Here are the problems I found and what I had to do to fix them:
* gnupg was trying to use pcsc-wrapper at the wrong location (see bug
  ).
It is installed in /usr/lib/gnupg2 rather than /usr/lib/gnupg where the
scd is looking for it.  This can be solved either by copying the file,
or with a symlink.  This seems to have been fixed in feisty.
* Another was that the ssh-agent support is not enabled out of the box.
 This may be enabled by editing /etc/X11/Xsession.d/90gpg-agent and
adding "--enable-ssh-support" in the appropriate place (around line 17).
*The final thing I needed to do was to install the package
libpcsclite-dev.  This installs the symlink /usr/lib/libpcsclite.so,
linked to /usr/lib/libpcslite.so.1.0.0.  Or of course, you could create
that symlink yourself.  This also appears to have been fixed in feisty,
though you do still need libpcsclite1 (and pcscd).
-Alex Mauer "hawke"

@_date: 2007-02-07 16:47:26
@_author: Alex Mauer 
@_subject: OpenPGP card and secret keys 
I seem to be having some trouble with my openpgp card:
gnupg knows I have secret keys on an openpgp card:
$ gpg --list-secret-keys
sec#  1024D/51192FF2 2002-03-22
ssb>  1024R/4A1C1224 2005-06-27
(output has been modified showing only what I think are relevant lines)
but then when I try to sign a file, gpg ignores these keys:
$ gpg --clearsign test.txt
gpg: secret key parts are not available
gpg: no default secret key: general error
gpg: test.txt: clearsign failed: general error
Even if I specify the signing subkey from the card, it doesn't work:
$ gpg --clearsign -u '0x4a1c1224' test.txt
gpg: secret key parts are not available
gpg: skipped "0x4a1c1224": general error
gpg: test.txt: clearsign failed: general error
If I force that subkey, it works:
$ gpg --clearsign -u '0x4a1c1224!' test.txt
(gpg agent popped up a pinentry dialog, and I was able to enter the PIN
on the pinpad)
What am I doing wrong?
-Alex Mauer "hawke"

@_date: 2007-02-08 11:22:02
@_author: Alex Mauer 
@_subject: OpenPGP card and secret keys 
aha!  it does not.  It's trying to use a different subkey instead.
Surely missing secret key parts would be cause to reject that subkey as
a candidate for use, and just because secret parts are missing for one
subkey doesn't mean they're missing for all subkeys, right?
$ gpg --debug 64 --clearsign test.txt
gpg: DBG: finish_lookup: checking key 51192FF2 (all)(req_usage=0)
gpg: DBG:       using key 51192FF2
gpg: DBG: finish_lookup: checking key 51192FF2 (all)(req_usage=1)
gpg: DBG:       checking subkey 4A1C1224
gpg: DBG:       subkey looks fine
gpg: DBG:       checking subkey F4878DDE
gpg: DBG:       usage does not match: want=1 have=2
gpg: DBG:       checking subkey 9A37EEFF
gpg: DBG:       subkey looks fine
gpg: DBG:       using key 9A37EEFF
gpg: DBG: cache_user_id: already in cache
gpg: secret key parts are not available
gpg: no default secret key: general error
gpg: test.txt: clearsign failed: general error
secmem usage: 1408/3488 bytes in 2/15 blocks of pool 3488/32768

@_date: 2007-02-08 13:10:00
@_author: Alex Mauer 
@_subject: Keyrings for websites 
This sort of overloading of the name/comment/email fields bothers me.  I
wish that UIDs were more of a key/value system (one key/value pair per
IUID), e.g. name=William Surrey, email=bill at home.example.org,
email=william.surrey at business.example.com, comment=Billy's key,
alias=Bill; or name=Example's awesome wiki!, hostname=
application=mediawiki (for the purpose given above).  I'm thinking
something equivalent to what vorbis comments are for ogg vorbis audio
files. See Of course, I doubt that the OpenPGP spec allows for this sort of
extensibility in the comments, or if it does that anyone's willing to
implement it (or it would have been done by now).  But it sure would be
great if it were to happen.

@_date: 2007-02-11 14:14:55
@_author: Alex L. Mauer 
@_subject: external pinpad, gnupg, SPR532 PinPad SmartCard Reader 
For what it's worth, the external pinpad did start to work for me on
Ubuntu for awhile.  But then I changed something and it stopped (it may
have been enabling ssh support in the scdaemon -- I changed a few things
and didn't keep track of exactly what it was).  So the external pinpad
is very very close to working in Ubuntu.
-Alex Mauer "hawke"

@_date: 2007-02-12 09:13:32
@_author: Alex L. Mauer 
@_subject: external pinpad, gnupg, SPR532 PinPad SmartCard Reader 
I'd agree, except that mine is now prompting, and accepting input from
the keyboard, for the PIN.  That's a symptom of the problem you describe
above, correct?
The previous pinpad problem I had was that it would prompt to use the
pinpad but then would fail after entering the PIN.  That's a separate
problem, correct?
-Alex Mauer "hawke"

@_date: 2007-02-12 11:18:31
@_author: Alex Mauer 
@_subject: external pinpad, gnupg, SPR532 PinPad SmartCard Reader 
Is this a limitation of pcscd or of GnuPG?
It sounds like pcscd supports the pinpad as of 1.2.9. [1]
If it's a limitation of GnuPG, are there any plans to support it in future?
[1] -Alex Mauer "hawke"

@_date: 2007-05-01 10:11:04
@_author: Alex Mauer 
@_subject: using private key on removable media 
Let me guess -- I won't be able to keep the primary secret key offline
any more?
-Alex Mauer "hawke"

@_date: 2007-05-01 16:32:46
@_author: Alex Mauer 
@_subject: using private key on removable media 
I assume private keys will also use this keybox?  Either way, I'm not
sure that it's relevant to my initial complaint, that gpg doesn't look
at all the information available to it before deciding whether an
operation is possible.  I hope it will help, and I look forward to the
keybox format solving my complaint.
-Alex Mauer "hawke"

@_date: 2007-05-10 13:03:47
@_author: Alex Mauer 
@_subject: Smartcard & expiring keys 
Correct.  For this reason I for one do not use an encryption key on a
smartcard; I use the smartcard only for signing and authentication.
This also applies to damage/loss of the smartcard: once that privkey is
gone you can't read emails encrypted with it.
At the very least, it's probably better to generate the key outside of
the smartcard and then import it.  This way in addition to still being
able to decrypt messages with an expired key, you also get a backup
(which is of course relatively easy to keep offline: keep it on a USB
key, print it out, whatever)
-Alex Mauer "hawke"

@_date: 2009-07-17 19:40:26
@_author: Alex Mauer 
@_subject: gnupg as ssh-agent 
Why is it that GnuPG can expose an authentication-capable subkey from an
OpenPGP smartcard via OpenSSH, but can't expose an
authentication-capable subkey from its keyring?
Or can it, but I'm doing something completely wrong?
-Alex Mauer "hawke"

@_date: 2009-09-01 13:57:47
@_author: Alex Mauer 
@_subject: Possible bug: addkey can create certifying subkey 
I think it may still be a problem that attempting to turn off all the
flags has the actual effect of turning them all on instead...
-Alex Mauer "hawke"

@_date: 2010-01-07 10:50:35
@_author: Alex Mauer 
@_subject: Web of Trust itself is the problem 
They?re only unknown the first time you contact them.  It is useful to
know that the second time you contact foo at example.com it?s the same
party you contacted the first time.  Or that the phishing email you
received from bar at example.com didn?t actually come from the same party
you corresponded with last week.
Many people have correspondence with people they never have and never
will meet in person, and knowing that it?s always the same person is
still helpful.
-Alex Mauer ?hawke?

@_date: 2010-07-16 11:50:22
@_author: Alex Mauer 
@_subject: Problem with smartcards and scdaemon 
Do you definitely have to replug it, or is killing scdaemon sufficient?
I?ve seen the same thing on Linux when suspending my laptop (with a
traditional card reader); upon resuming, the smartcard isn?t available
until I kill scdaemon.
?Alex Mauer ?hawke?

@_date: 2010-06-18 15:10:29
@_author: Alex Mauer 
@_subject: Scute: sec_error_pkcs11_function_failed (was Re: Crypto Stick 
I can report that I also experience this problem with Ubuntu lucid i386
and Scute 1.2.
Slightly related: is there a reason that Scute-1.4 is not listed on the
download page at  ?
?Alex Mauer ?hawke?

@_date: 2010-06-21 17:11:50
@_author: Alex Mauer 
@_subject: local signatures: should they be importable by default in some cases? 
I see that there is currently the import-option "import-local-sigs"
which obviously allows the import of key-signatures marked non-exportable.
It seems to me that it would be helpful to have a variant of this, which
would only allow import of local signatures where the corresponding
secret key was already available, and for this behavior to be the default.
Does this seem like a good idea?
?Alex Mauer ?hawke?

@_date: 2010-05-11 18:10:51
@_author: Alex Mauer 
@_subject: Encryption to key with multiple subkeys 
How so?  There?s no connection between UIDs and keys....
?Alex Mauer ?hawke?

@_date: 2010-10-22 11:04:18
@_author: Alex Mauer 
@_subject: gpgkey2ssh 
Why does it not do this on its own for non-smartcard authentication keys?  Shouldn?t they already be in gpg-agent?
?Alex Mauer ?hawke?

@_date: 2010-09-14 16:06:35
@_author: Alex Mauer 
@_subject: gpg-agent ssh authentication sees non-existent key? 
I believe it?s one of the files in ~/.gnupg/private-keys-v1.d/ ? at least, that?s where it is in Linux.
?Alex Mauer ?hawke?

@_date: 2010-09-14 18:26:10
@_author: Alex Mauer 
@_subject: Converting from PGP to GPG 
gpg -sea myfile.dat -r "XYZ abc" -u Myschool
Hope this helps.
?Alex Mauer ?hawke?

@_date: 2010-09-15 10:31:48
@_author: Alex Mauer 
@_subject: gpg-agent ssh authentication sees non-existent key? 
GPG does that automatically.  I don?t think it?s a good idea especially when adding a key from removable media, but that?s the way it is.
?Alex Mauer ?hawke?
