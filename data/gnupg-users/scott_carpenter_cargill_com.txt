
@_date: 2002-10-16 13:49:02
@_author: Scott_Carpenter@cargill.com 
@_subject: Decrypting/Verifying 
Hello Gnupg Users List!
I just signed up on this list and am a relative novice with GnuPG, so please be kind :-)
I checked the FAQ, man page, and handbook, but haven't seen an answer to my question:
For a signed and encrypted document, I understand that the --decrypt command will decrypt the message and verify the signature all in one operation, but how can I tell in an automated environment that a signature was attached?
I'm thinking of a scenario where a trading partner is sending us signed and encrypted documents.  When I run the decrypt operation I can see that the signature is verified from the stderr stream, but in batch mode the only way I know that everything is ok is that an exit code of 0 is returned.
What if they stop signing their documents?  Since I'm only monitoring the exit code, I won't be able to tell.  (And I'd like to know!)
Is there a way to generate an error if the document isn't signed?

@_date: 2002-10-16 15:36:01
@_author: Scott_Carpenter@cargill.com 
@_subject: Decrypting/Verifying 
Thanks, David.  That looks like it should work just fine.
Do you think it's a safe assumption that the string GOODSIG will only appear if there was in fact a signature?
And, is there any reason you can think of not to use --status-fd for every GPG operation?  It seems like it would be a good thing to have in case there are errors, to provide further troubleshooting information.
-----Original Message-----
Sent: Wednesday, October 16, 2002 7:44 AM
On Wed, Oct 16, 2002 at 06:50:10AM -0500, Scott_Carpenter signed of In an automated environment, the best thing to do is use the
--status-fd feature and look at the data sent to that fd.  For
gpg --status-fd 1 --output (whatever) --decrypt (whatever)
On FD 1, you will get status messages giving the exact results from
that encrypted message, including "GOODSIG".  See the doc/DETAILS file
for more info.  There are ways to specify pretty much every signature
case, from no signature at all, to an expired signature, to an
signature made by an expired key, etc.

@_date: 2002-10-23 14:11:02
@_author: Scott_Carpenter@cargill.com 
@_subject: Verifying a signature 
If I'm running gpg in an automated environment, what is the best way to make sure that a good signature came from the sender I expected?
For instance: I run gpg decrypt with --status-fd and analyze the output to see that a GOODSIG was included.  Now how do I make sure it was ACME's signature and not somebody else on my keyring?  Do I check the output for ACME's name or email or whatever identifying information they have with their public key?

@_date: 2002-10-24 15:35:01
@_author: Scott_Carpenter@cargill.com 
@_subject: Expiring Keys 
Can anyone tell me what the benefit of expiring keys is?  I don't understand why it would increase security that much, but I hear that it is so.
