
@_date: 2015-12-29 15:05:35
@_author: stebe@mailbox.org 
@_subject: advice please (just about the same over here) 
(Sorry for appending a slightly off-topic question to this thread, well, I
really like the person-to person design of gpg and the WebofTrust, and the
enigmail extension makes it quite easy to get along, the Enigmail handbook
is written in a clear and concise manner suited for beginners as well as
for more technical users...whenever you need a free German translation,
knock on my door!)
By the way, talking about the X509 certificate system, which is the exact
command line syntax to verify (using openssl, I guess) a given
certificate's signature by using the public key of the certificate that
has issued the certificate to be verified? openssl verify pkeyutl (and what else? "sigfile=file" AND "pkey" as a file
or STDIN?)
The certificate to be validated (as presented in the TLS handshake) is not
present as a file, just as a data stream captured with a specialized tool,
and in the signature field I cannot see a signature, just the algorithm
used, or maybe I am blind?) whereas the OCSP response details a long
signature preceded by the word "signature:". The public key I have to use
is already in the browser's certificate, but how do I get it all down to
command line syntax?
Any help appreciated.

@_date: 2015-12-29 21:42:59
@_author: stebe@mailbox.org 
@_subject: advice please (just about the same over here) 
Resolved. I have found the specific command line syntax. And sorry (to the
author/translator), there IS a German Enigmail handbook translation. I
only use the English original and I've never taken a look at the German
A nice New Year's eve to everyone

@_date: 2015-02-12 22:46:53
@_author: Stephan Beck 
@_subject: moving up from 2.0.26 to 2.1.1 
Hi, Philip,
Am 11.02.2015 um 22:35 schrieb Philip Jackson:
In synaptic: have you set the "always prefer the latest version" option under
Synaptic > Settings > Preferences > Distribution (tab)? If not, at least in
theory it might explain why your synaptic does not show you the latest version.
Sorry, if the wording is not 100% correct. I have the German version installed,
and I'm retranslating it into English.
If you click on "remove completely" in the main window, right-clicking on the
gnupg program list item, all modules should be removed. I think this option is
the equivalent to the --purge command option in apt.
Best regards
Stephan Beck

@_date: 2015-02-13 12:28:43
@_author: Stephan Beck 
@_subject: MIME or inline signature ? 
Hi Xavier,
Am 12.02.2015 um 23:46 schrieb Xavier Maillard:
sorry, just to inform you that I cannot verify your signature:
While trying to verify it, Enigmail (German localization) reports the following:
Fehler - ?berpr?fung der Unterschrift fehlgeschlagen
?ffentlicher Schl?ssel DE2FFC869AFA5165 zur ?berpr?fung der Unterschrift ben?tigt
FALSCHE Unterschrift von Xavier Maillard in English: (translated on-the-fly by myself)
Enigmail-security info:
Error - Failed to verify signature
Public key xx required for signature verification
BAD Signature from xx
You might have signed your message with a key different from the one I can
download from the keyserver.
As a security measure I have assigned your key a non-trust attribute.
Best regards
Stephan Beck

@_date: 2015-02-14 23:05:24
@_author: Stephan Beck 
@_subject: MIME or inline signature ? 
Am 14.02.2015 um 15:44 schrieb MFPA:
Well, it's rather a precautionary measure than an actual security measure, ,
reminding me of not trusting the key owner's ability to handle and verify
signatures correctly, if he/she uses a signature no one has the chance to check
because the information about the public key's location isn't indicated by its
owner in his/her very message. I assigned the "I do not trust him" attribute to
the first key he used in a previous message.
Or was your comment directed to the owner of the key? Now, I am not quite sure
about that...
Anyway, nice weekend to all

@_date: 2015-02-15 16:12:01
@_author: Stephan Beck 
@_subject: MIME or inline signature ? 
Hi MFPA
Am 15.02.2015 um 13:14 schrieb MFPA:
Didn't you say before you got the same error message as I did?
No, it does not fetch the correct key, not with that very message. What is is
that indicates (you) that the server might be down?
Enigmail, which I use in combination with gpg, tries to verify the signature by
fetching the key DE2FFC869AFA5165 (the key the message was signed with according
to Enigmail) from keyservers, and that action fails resulting in a "bad
signature..." output. It most likely seems to fail, because the key the message
was signed is not on the keyservers.
The header of the message  in question
is (sorry for having to be that explicit)
X-GPG-Key-ID: 0xBA4909B78F04DE1B
X-GPG-Key: X-GPG-Fingerprint: 9983 DCA1 1FAC 8DA7 653A  F9AA BA49 09B7 8F04 DE1B
Obviously, it indicates a key ID 0xBA4909B78F04DE1B and links to a key that is
not the key the message was signed with (which is DE2FFC869AFA5165, according to
Enigmail/gpg), even if the fingerprint is given as well.
A previous message of him was signed with the key ID 0xBA4909B78F04DE1B, hence,
Enigmail imported this key correctly.
That said, Xavier's message kludges contain the key-id
On my keyring, my own keys have a 5 "I
In fact, it isn't quite the same. The default, before ever having verified the
key owner's identity, is "I don't know or won't say". The option 2 "I do not
trust" refers to the poor or zero trust you have in the key owner's abilty to
sign and verify other signatures correctly, as a result of a behaviour/attitude
of the key owner which is contrary to the principles of the Web of Trust, for
It is not possible to verify the key DE2FFC869AFA5165 with the information given.
Best regards
Stephan Beck
Below I paste the German output of Enigmail as a proof of what I'm saying.
I have already translated it in my previous message.
Fehler - ?berpr?fung der Unterschrift fehlgeschlagen
?ffentlicher Schl?ssel DE2FFC869AFA5165 zur ?berpr?fung der Unterschrift ben?tigt
FALSCHE Unterschrift von Xavier Maillard

@_date: 2015-02-15 16:30:33
@_author: Stephan Beck 
@_subject: MIME or inline signature ? 
Am 15.02.2015 um 12:26 schrieb Ludwig H?gelsch?fer:
OK, I give you that, strictly speaking, it might not be the same, but at the
moment I had no other measure at hand to remind me of being careful with that
kind of event. And a bad signature event is not the ideal event for putting
trust in a key owner's identity at all.

@_date: 2015-02-15 17:31:46
@_author: Stephan Beck 
@_subject: MIME or inline signature ? 
Hi, Hauke,
Am 15.02.2015 um 17:04 schrieb Hauke Laging:
OK, I have checked it in the Key Properties window.
From within the Inbox window a click on Display Key Properties gave no result.
Sorry, Xavier and all list members for much "ado about nothing"! :-(
Terribly sorry
I think I got to book that training course of Hauke ;-)

@_date: 2015-02-15 17:56:33
@_author: Stephan Beck 
@_subject: MIME or inline signature ? 
Am 15.02.2015 um 17:25 schrieb Ludwig H?gelsch?fer:
Thanks, Ludwig, for the explanation.
Well, if Xavier will ever be willing to meet me in person, I promise to hand a
good cake over to him.

@_date: 2015-02-15 22:42:09
@_author: Stephan Beck 
@_subject: MIME or inline signature ? 
Hi, Christopher,
Am 15.02.2015 um 20:14 schrieb Christopher Beck:
I try to be extremely clear. I cannot verify your signature, neither with
Enigmail nor using gpg stand-alone. My version is 1.4.12
Steps to reproduce the event:
1) I import your key using your key-ID from within gpg 1.4.12 typing
gpg --recv-keys [your key id],
result: gpg has imported your key, everything's all right here.
2) I open the header of your message.
3) I copy the signature and save it as a "beckus_sig.asc" file using a simple
text editor (or, optionally, as "signature.asc")
4) I type
gpg --verify beckus_sig.asc (or signature.asc)
5) gpg outputs: No valid OpenPGP data found. Signature verification failed.
(I am retranslating that into English,so please be kind with any imprecision you
may find).
What's wrong with what I am doing?

@_date: 2015-02-15 22:58:24
@_author: Stephan Beck 
@_subject: MIME or inline signature ? 
A correction:
5) gpg outputs:
gpg: no signed data
gpg: can't hash datafile: Error opening file
Am 15.02.2015 um 22:42 schrieb Stephan Beck:

@_date: 2015-02-16 18:19:25
@_author: Stephan Beck 
@_subject: MIME or inline signature ? 
Am 16.02.2015 um 00:01 schrieb Damien Goutte-Gattat:
Thanks, Damien, now my GPG (stand-alone) has verified the signature, telling me
BAD signature. I don't know why, but I do not worry (too much).

@_date: 2015-02-16 18:39:00
@_author: Stephan Beck 
@_subject: MIME or inline signature ? 
Hi, Christopher,
Am 16.02.2015 um 13:01 schrieb Christopher Beck:
The signature of this (inline) message was automatically marked as correct by
Enigmail, whereas the PGP/MIME tend to give a failure, at least, that's what it
looks like at first glance.
I will check my Enigmail settings, maybe there's something wrong with them.

@_date: 2015-02-16 19:01:07
@_author: Stephan Beck 
@_subject: MIME or inline signature ? 
Am 16.02.2015 um 13:53 schrieb Philip Jackson:
Thanks, Philip, I already replied to Damien's message, but, indeed, I forgot to
copy the text into the same directory.

@_date: 2015-02-26 05:06:59
@_author: Stephan Beck 
@_subject: how to disable pinentry 
Hi, Cathy,
Am 25.02.2015 um 17:51 schrieb Smith, Cathy:
processing.  Perhaps, there is another way to accomplish that?
I am not sure if that's the solution to your problem, but according to the
*Unattended Key Generation* chapter in the DETAILS doc in
as part of the parameter file.
Hope that helps

@_date: 2015-02-26 14:29:48
@_author: Stephan Beck 
@_subject: Can't Encrypt in Freebsd 10.1 
Hi, Antoine,
Am 25.02.2015 um 14:07 schrieb Antoine Michard:
I am not familiar with BSD but this should apply to BSD installations of GnuPG
as well.
gpg -e -r NAME test.txt
where NAME is the user id of the recipient's key.
If you want to encrypt for uid NAME and explicitly hide a given recipient's
keyID when sending the message you may use the -R option.
Well, that's what the man page tells us, IIUC.

@_date: 2015-02-26 23:50:20
@_author: Stephan Beck 
@_subject: Can't Encrypt in Freebsd 10.1 
Hi pit or J?rgen,
sorry (Antoine), I did not interpret the # as root but just as a way of
commenting, and I checked it again and realized that the order of the options is
not important.
Anyway, is it necessary to copy the whole header of my message to make it stand
out who made a mistake? I think that's a bit childish and impolite. In case you
"configured" your email that way, just change it.
Best regards
Am 26.02.2015 um 20:19 schrieb Juergen Hoessler:

@_date: 2015-06-18 10:43:57
@_author: Stephan Beck 
@_subject: Teaching GnuPG to noobs 
Am 16.06.2015 um 15:50 schrieb A.T. Leibson:
I think that the guide available at (1)
(1) is the most suitable for noobs (as far as I know), because it's straightforward
and short. I would not bother too much about more or less suitable metaphors, as
the most frightening (more or less suitable?) metaphor is BIG BROTHER ('s
surveillance state/s).
Well, I am not an instructor, but someone who is still learning and studying.
The leaflet available at the same address is visually attractive and explains
the absolute beginner's basics quite well.

@_date: 2015-03-02 11:35:19
@_author: Stephan Beck 
@_subject: German ct magazine postulates death of pgp encryption 
Am 28.02.2015 um 13:31 schrieb Peter Lebbing:
No doubt about it. And we actually don't know how they "use" their position.
Well, looking at some sort of collaboration published a few weeks ago, we might
have some hints...
Sticking to that "perfect position argument", in what kind of position are
(would be) the people that control (packaging of) your distro? (Just curious.)

@_date: 2015-03-03 13:54:01
@_author: Stephan Beck 
@_subject: Fwd: Re: German ct magazine postulates death of pgp encryption 
Hi Peter,
as your message hasn't reached the list inspite of being addressed to it, I
resend it.
-------- Weitergeleitete Nachricht --------
Betreff: Re: German ct magazine postulates death of pgp encryption
Datum: Mon, 02 Mar 2015 18:53:57 +0100
Von: Peter Lebbing An: Stephan Beck , gnupg-users at gnupg.org
I think they basically completely control my system. For individual Debian
Developers, it might need some ingenuity to get something sneaky on my
computer, since they generally only provide source, and the binaries are built
on the Debian infrastructure. Mind you, I say they need some ingenuity, that
is a far shot from "it's difficult". But the keys that the package manager
checks? If you have those, and can get my package manager to download your
stuff, it's trivial to change any file, any binary, any program on my computer.
It has occured to me that I probably could simply local-sign and fully trust
all OpenPGP keys of Debian Developers, since if the holder of said key wanted,
they could simply hardwire my GnuPG installation to effectively do the same
without my consent. But still, I haven't done it :).

@_date: 2015-03-03 15:40:45
@_author: Stephan Beck 
@_subject: Fwd: Re: German ct magazine postulates death of pgp encryption 
Am 03.03.2015 um 14:00 schrieb Ville M??tt?:
Strange, I did only receive the PM, not the listmail, so I thought it might be
useful to resend it. In that case, sorry for the duplication.

@_date: 2015-03-11 23:30:52
@_author: Stephan Beck 
@_subject: Enigmail speed geeking 
Hi Robert,
Am 11.03.2015 um 18:10 schrieb Robert J. Hansen:
I enjoyed reading your blog. In particular, the about page is really worth reading.
As to your enigmail essay, point 1, would you go that far that keeping keys on
hard disk is unsafe and using a smart card is a must? I joined the list some
weeks ago and half of the messages (I'm exaggerating) were/are about smart
cards, so I take up this point here, although you might not have implied it.

@_date: 2015-03-12 18:55:08
@_author: Stephan Beck 
@_subject: Enigmail speed geeking 
Am 12.03.2015 um 16:51 schrieb Robert J. Hansen:
Yes, thanks a lot. From your answer I deduce that a single-user,
non-professional environment may not require use of a smart card,
or may not require it with the necessity it may have in high-security
environments. As Andreas pointed out in his message, there are the USB
sticks as, for instance, the Yubico Key that my email provider offers or has
been offering for a while. I was actually thinking about moving in that direction.
As to the "email crypto (devices/technology/software) have to be easy to use"
and "it makes crypto harder" arguments, that's certainly true for extending
(mass) usage. But on an individual level, I guess it also depends on how much
you love (playing with) software and related devices and are already used to it.
The cries for simplifying GnuPG, for instance, that have been resounding
throughout this list lately may be reasonable up to some point,
but, in my case, I like it (and the WoT as a central concept behind it) too much
to ever change (to another mail/file encryption software). And for me there is a
bunch of commands/options yet to be discovered!

@_date: 2015-03-13 00:00:16
@_author: Stephan Beck 
@_subject: Question concerning OpenLDAP PGP Keyserver setup guide 
reproducing the OpenLDAP PGP keyserver setup guide on published by Neal, I get the following error message:
ldapmodify: wrong attributeType at line 5, entry "olcDatabase={1}hdb,cn=config"
I am reproducing the guide on debian stable (main sources only), which uses
"hdb" (not "mdb") database format, OpenLDAP3, being the server package slapd.
To see the error message in its context:
$ sudo ldapsearch -LLL -Y EXTERNAL -H ldapi:/// -b "cn=config"  | grep olcDatabase:
SASL/EXTERNAL authentication started
SASL username: gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth
SASL SSF: 0
olcDatabase: {-1}frontend
olcDatabase: {0}config
olcDatabase: {1}hdb
$ sudo ldapmodify -Y EXTERNAL -H ldapi:/// -f /tmp/keyserver-acls.ldif
SASL/EXTERNAL authentication started
SASL username: gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth
SASL SSF: 0
ldapmodify: wrong attributeType at line 5, entry "olcDatabase={1}hdb,cn=config"
contents of keyserver-acls.ldif are as follows:
# userPassword may be written only by users themselves
dn: olcDatabase={1}hdb,cn=config
changetype: modify
add: olcAccess
# Allow access via localhost to add or modify keys.
# Allow authenticated PGP Users to update keys.
# Allow anyone else to read the keys.
olcAccess: {2} to dn.subtree="ou=PGP Keys,dc=FOO,dc=EXAMPLE,dc=ORG"
  by peername.ip=127.0.0.1 write
  by peername.ip=:: write
  by dn.regex="^uid=([^,]+),ou=PGP Users,dc=FOO,dc=EXAMPLE,dc=ORG" write
  by * read
# Allow any connection to localhost to update the PGP keys
# (including removing them!)  This is only needed if the anonymous
# updates from localhost are desired.
dn: cn=config
add: olcAllows
olcAllows: update_anon

@_date: 2015-03-13 23:19:53
@_author: Stephan Beck 
@_subject: Enigmail speed geeking 
Am 13.03.2015 um 22:33 schrieb Robert J. Hansen:
Wouldn't the installation of haveged, at least for GNU/linux distros, extend the
possibilities of traditional /dev/(u)random based RNG? Wouldn't GnuPG benefit
from it? No expert, just curious, prepared to receive a game-over knockout. :)

@_date: 2015-03-13 23:56:55
@_author: Stephan Beck 
@_subject: Question concerning OpenLDAP PGP Keyserver setup guide 
Obviously, this ** has to be OpenLDAP(slapd)2.4.31 not 3, sorry! Still stuck in
there, though.
Am 13.03.2015 um 00:00 schrieb Stephan Beck:

@_date: 2015-03-15 16:32:54
@_author: Stephan Beck 
@_subject: Enigmail speed geeking 
Am 15.03.2015 um 13:59 schrieb Robert J. Hansen:
Well, I forgot to include relevant information (see below)
I came across haveged while installing the OTR extension of my IM/Chat package.
It was developped by the Caps group within IRISA/INRIA, Rennes, France.
Quoting the abstract of a HAVEGE publication:
The availability of a random number generator with high cryptographic qualities
on a computer is one of the central issues of cryptographic implementations.
HAVEGE (HArdware Volatile Entropy Gathering and Expansion) is a new software
heuristic for generating unpredictable random numbers on PC s and workstations.
PCs and workstations are built around modern superscalar microprocessors. These
processors feature complex hardware mechanisms that aim to increase performance.
A significant part of the global state of the microprocessor is not
architecturally visible through the instruction set (e.g. caches, branch
predictors and buffers). HAVEGE leverages the uncertainty introduced in the
internal states of the processor by external events. HAVEGE combines
entropy/uncertainty gathering from the architecturally invisible states of a
modern superscalar microprocessor with pseudo-random number generation. First we
show that the hardware clock cycle counter of the processor can be used to
gather part of the uncertainty introduced by operating system interruptions in
the internal state of the processor. Tens of thousands of unpredictable bits can
be gathered per operating system interruption in average. Then, we show how this
entropy gathering technique can be combined with pseudo-random number generation
in HAVEGE. Since the internal state of HAVEGE includes thousands of internal
volatile hardware states, HAVEGE features a very high security level. HAVEGE
also reaches an unprecedented throughput for a software unpredictable random
number generator: more than 100 Mbits/s with off-the-shelf workstations and PCs.
A. Seznec, N. Sendrier, "HArdware Volatile Entropy Gathering and Expansion:
generating unpredictable random numbers at user level", INRIA Research Report,
RR-4592, October 2002
Source: Now, I'll look for information on how RNG in GnuPG exactly works. It *seems*
that haveged should impact on the gathering of entropy (available) at the moment
of keypair generation on any GNU/Linux PC/laptop equipped with it (specific
versions are availabe for other OS as well). As to the other precise
operations/occasions on which GnuPG makes use of RNG, other than the "keypair
generation moment", I'm not sure whether it would benefit from haveged
at all.

@_date: 2015-03-15 19:53:14
@_author: Stephan Beck 
@_subject: Enigmail speed geeking 
Am 15.03.2015 um 16:32 schrieb Stephan Beck:
Answerung myself :-) after having read some chapters in the libgcrypt manual, I
guess, in order to work with GnuPG, haveged would have to be configured in a
similar way as, for instance, the egd (1). Without doing so, it would probably
be ignored by GnuPG.
(1)  compiling, by adding
--enable-static-rnd=egd (to ./configure)
 using a pre-compiled version that has a different configuration, by using
 loadable extension module, adding
load-extension rndegd	
 the ~/.gnupg/options file, or by typing
 the command line while GnuPG is running

@_date: 2015-03-15 23:38:27
@_author: Stephan Beck 
@_subject: Enigmail speed geeking 
Am 15.03.2015 um 20:50 schrieb Werner Koch:
Thanks, Werner. I read that, but I was particularly interested in how to get
GnuPG work with haveged.
So, I guess it would not be possible for an interested user to have GnuPG work
with haveged by using configuration files or load instructions (similar to egd)
and a strong dedication.
It does require to be implemented first in GnuPG/libgcrypt by modifying
source code, doesn't it? The latter would be certainly out of my reach, far off
the shore in (the Atlantic) C :)
If it were at all feasible/possible to do it by using the approach mentioned
first I would have given it a try, and published a howto in the wiki.

@_date: 2015-03-16 10:09:24
@_author: Stephan Beck 
@_subject: Enigmail speed geeking 
Am 16.03.2015 um 08:48 schrieb Werner Koch:
Ok, thanks, properly enabled and working
Non-zero "-r" options are used to test the haveged random number generator; The
random number generator will be configured, the initial data collection pass
will be executed, configuration details will be written to stdout, and a "-r"
KB sample of output will be written to the sample output file for all "-r" > 1.
$ sudo haveged -r 2
Writing 2 K byte output to sample

@_date: 2015-03-22 16:06:17
@_author: Stephan Beck 
@_subject: Error Installing gnupg-2.0.27 on Debian Squeeze 
Hi Angel,
I cannot reproduce the error and I don't know which documentation you exactly
refer to, but using Debian Squeeze (oldstable) you need the gnupg and libgcrypt
oldstable versions that are adequate for you.
I'd use the package manager (apt) for installing it.
Here's what I found (1):
gnupg 2.0.14-2+squeeze2
libgcrypt 1.4.5-2+squeeze1
(1) Hope that helps
Am 21.03.2015 um 18:16 schrieb Angel Parrales:

@_date: 2015-03-25 16:10:20
@_author: Stephan Beck 
@_subject: Weird error during key refresh 
Hi Doug,
it's an error very similar to the one I've got using --refresh-keys with a
specified -keyserver [name].
Did you try to specify the keyserver's name and enable both --use-temp-files and
--keep-temp-files? The output of the temp files retain the communication data of
the refreshing action and maybe it helps you identifying issues.
Hope that helps
Am 25.03.2015 um 08:28 schrieb Doug Barton:

@_date: 2015-03-28 21:57:59
@_author: Stephan Beck 
@_subject: Enabling and using ECC keys (any reason not to?) 
Am 27.03.2015 um 14:21 schrieb Martin Behrendt:
A very recent (Feb 2015) "historical" analysis of the surreptitious weakening of
cryptographic systems, incl. a description of the NIST (or Dual EC-DRBG) curves'
pecularities "detected" in 2005 can be found at (1):
(1)  (p. 2,7).

@_date: 2015-03-29 20:08:11
@_author: Stephan Beck 
@_subject: SSH CA and OpenPGP card 
Am 27.03.2015 um 13:36 schrieb Boles?aw Tokarski:
I guess you may install and use gnupg-pkcs11-scd for that purpose, provided that
you only use RSA keys.
See /usr/share/man/man1/gnupg-pkcs11-scd.1 for more info.
Hope that helps

@_date: 2016-12-02 13:46:00
@_author: Stephan Beck 
@_subject: Proof for a creation date 
Hi Quan Zhou,
Quan Zhou:
since it is possible to fake system time by modifying system time in
BIOS (all OS with BIOS or similar) and (on GNU/Linux systems) by using
faketool application-wide, or, more specifically, gpg's
--fake-system-time EPOCH (usable from 2.1 on if gnupg was compiled using
debug flags; although this option is documented for previous versions as
to the 2.0.x manpages or the gnupg's info manual, it only is implemented
and usable in gpg 2.1. see (1)(2)(3)(4)
gpg's signature timestamp (on a given file) would NOT be a real proof of
a document being allegedly signed at that specific date or (prior to a
determined date). So it would NOT either be a credible proof of a
document being allegedly created before a determined date, if you
decided to sign it immediately after creating it in order to document
its creation date via signature time).
(1) (2) (4)

@_date: 2016-12-04 11:33:00
@_author: Stephan Beck 
@_subject: Still trying to troubleshoot --refresh-keys error 
Anthony Papillion:
Ah, you're using gpg4win! So you already do have activated Kleopatra's
log files following instructions given in chapter 23.1 of the Gpg4win

@_date: 2016-12-04 11:37:00
@_author: Stephan Beck 
@_subject: Proof for a creation date 
Yes, that's it, publish it in the papers. Everyone would agree on that
this would be a "real" proof, i.e. one that would be accepted in the
Luckily, communicating (as via email, as among humans) you do not always
need to have that degree of certainty. :-)

@_date: 2016-12-06 14:53:00
@_author: Stephan Beck 
@_subject: Implications of a common private keys directory in 2.1 
Carola Grunwald:
If you created a special (secret) keyring file (being encrypted to your
server's subkey as an additional security measure) containing all secret
keys you'd need to have in there (=all those keys your particular agent
instance has to serve), and use it as in
gpg2 --no-default-keyring --secret-keyring file --try-secret-key
[NAME=aspecificlongKeyID | fingerprint] --decrypt
any_signedANDencrypted_message.txt.gpg ?
Would that work? Would that be feasible?
This option should be available for GNuPG's Windows version as well. (I
understand that you're in a Windows (server) environment and are talking
about gpg4win, are you?)
Wouldn't gpg 2.1 then just use this one and only key for decryption
(which is part of that secret keyring file) and, otherwise (if this key
fails to decrypt), give up on decrypting?
I can't reproduce your environment right now, so I can't try it out,
it's just a guess.

@_date: 2016-12-07 11:47:00
@_author: Stephan Beck 
@_subject: Implications of a common private keys directory in 2.1 
Peter Lebbing:
Oh, I missed this point. Thanks for putting it right. And it's more, no
code left in gpg 2.1 for handling (secret) key material. Another mistake
is (from what I have learned now) that you can only apply
--try-secret-key together with --hidden-recipients.
Anyway, if there was an "!" option as in --export-secret-subkeys keyID!
you would be able to indicate/convince/force gpg 2.0.x to use a
particular (sub)key. But I think this only refers to the case of having
several subkeys, and at the moment of exporting one of them. And it's a
2.0.x option, I haven't checked the 2.1 manual for this particular
option yet, though.

@_date: 2016-12-07 21:44:00
@_author: Stephan Beck 
@_subject: Hybrid keysigning party, your opinion? 
Peter Lebbing:
Doesn't your proposal imply that late attendees could
make their way through all the keysigning without fingerprint
verification? Or do I miss something?
Thank you in any case for your detailed information, that encouraged me
to install the keysigning package and have a look into it. It seems to
be a great tool for organizing a key-signing event!

@_date: 2016-12-08 12:00:00
@_author: Stephan Beck 
@_subject: Hybrid keysigning party, your opinion? 
Lachlan Gunn:
yes, they still get the original file from the organizer afterwards,
that's true.
caff automatically checks the fingerprint on import (before mailing out
each of the signed keys/UID), so there's no way of tampering. If they
hadn't those fingerprints (or the original file/list), caff would not
let them go on.
Quote from README.many-keys
$ caff   Yes, to your first question. How you would do that via the
hash-on-the-projector method, is not clear to me, though. Would that be
for generating the (initial) list of the organizers as in Sassaman
Efficient (as an additional service for people using cell phones or
tablets)? Or wouldn't there be any paper copy at the event?
Sorry, for questions that might seem obvious to you.

@_date: 2016-12-08 13:14:00
@_author: Stephan Beck 
@_subject: Hybrid keysigning party, your opinion? 
Peter Lebbing:
Yes, Peter, but they are the "ordinary" participants who went through
the preparation, and then state (at the event) that the checksum is
{checksum} and that the corresponding fingerprint on the list is theirs
and that it is correct ("check out"). The others (late attendees) just
hand out their keyslip (keyslip is just an "unverified statement"),
receive the keyslip from the other, together with the fingerprint-less
list they have, and postpone the verification to the moment when they
are at home and have been sent the list from the organizer. By that
time, the other ("Sassaman's Efficient ordinary participants") can
already be sure of the integrity/authenticity of the messages of their
communication partners and that partner's true identity.
Just some meditations:
So, the late attendees can see and hear that the ordinary participants
confirm the checksum and that their fingerprints check out?
One that was on the list and didn't show up would not get the required
marks on () fpr () id ? Would that person be (as uid-serial number, 001,
002, 003...) on the attendee's fingerprint-less list? But that person
definitely would not end up as a person being included in the final
list? That might produce inconsistencies in numbering. So the final list
just would not include some serial numbers that once were on the
"initial" list or the fingerprint-less list? Then, by checking serial
numbers, as you say, it's ok :-)

@_date: 2016-12-08 17:13:00
@_author: Stephan Beck 
@_subject: Hybrid keysigning party, your opinion? 
Peter Lebbing:
Thanks, Peter. No more open questions!
As with everything, I think I'd have to set up such an event and go
through its practical application (or participate in one) to become more
expert. Let me see if there are any in my region.

@_date: 2016-12-08 20:42:00
@_author: Stephan Beck 
@_subject: An attempt at backporting 2.1.16 from Debian sid to Debian jessie 
Teemu Likonen:
A few days ago, I successfully updated to 2.1.16 on my Debian Stretch
installation, watching how gpg (1.4.20something) was being replaced with
2.1.16, so I don't see the real need for a forced coexistence of the two
(or three) versions on Jessie. Maybe I'll cast a glance at it, though.

@_date: 2016-12-09 14:01:00
@_author: Stephan Beck 
@_subject: Something strange with Stephan Becks Signatures? 
Hi Matthias,
Matthias Mansfeld:
Well, I can't say that I feel honored by so many references to my name,
but have you checked that (I suspect compatibility of PGP plugin and
your PM version as a probable reason)
1) the PGP-plugin you use is the latest as on (1)
2) this latest version of the PGP plugin (for use in 4.72) is already
made fit for Windows7
[BeginQuote]IMPORTANT NOTE ON RELEASE CHANGES: Every major release
change of the underlying systems (Windows, Pegasus Mail or PGP) may
cause problems with the currently available version of this extension.
As long as new versions aren't explicitly mentioned here there is no
sufficient experience with using it with new versions of the above
listed software (with regard to that I request you to any problems that
are not covered in this documentation - especially with new versions of
3) is configured properly concerning PGP/MIME support: see section Using
the Program--> PGP/MIME encryption
4) gnupg 1.4.18 for Windows' debug output
5) you are using a Windows 32-bit-application in a 64 bit Windows7
environment; that should work in general, but may give some issues. I
haven't investigated further here.
6) in general, for Windows 7 "debugging light": see "Event Logging"
(DE_DE=Ereignisanzeige) and look for entries in the various log files,
filtering as needed
7) for Windows Debugging heavy, download the Win7 Debugging Tools (4)
As to logging I only found that PegasusMail(3) has a WMP log file for
debugging purposes but it is not editable, as to (2).I looked for
something similar to Enigmail's console (with error logging).
(1) (3) --> Debugging tools for W7-W10 (from the sdk)

@_date: 2016-12-11 09:40:00
@_author: Stephan Beck 
@_subject: Something strange with Stephan Becks Signatures? 
Stephan Beck:
Matthias Mansfeld, could you resolve your problem or further track it
down? If you remain that quiet (or you might even have gone on holiday,
have you?), people unfortunately tend to believe that you are just a
fudger, like the one guy, David, can't even remember his name, who asked
me first in private, and when I told him to publish it on the list for
everyone to see, he did that, I (and other people) answered him and he
didn't say a word again. You know what a fudger is, don't you?
Ah, and I'd urgently recommend to revoke (or have expired) at least the
1024 bit subkey for encryption, as it's obsolete (for some years now).
If you don't know how it works, just ask the list ;-)

@_date: 2016-12-11 20:43:00
@_author: Stephan Beck 
@_subject: Strange behaviour 
Matthias Mansfeld:
I'm truly interested in receiving such log files to have a look into it
myself, but the list may be interested as well. If there was really
something "special" about (precisely) my signatures, as you say, I'd be
eager to know, check and take appropriate measures.
Whereas you can live with the fact.

@_date: 2016-12-12 11:38:00
@_author: Stephan Beck 
@_subject: Strange behaviour 
Matthias Mansfeld:
I am not working with gnupg 1.4.18 for Windows. Usually you would
activate the debug flag, and, considering you most likely want to trace
the communication protocol of gpg-agent with gnupg itself (and with
other servers), which is the Assuan protocol, while verifying my
signature, you might be able to use (at the Windows prompt)
gpg --debug 1024 --verify mymessage.txt.sig mymessage.txt
As in Windows, differing from UNIX-Systems, the communication is not
made using pipes, this option in Windows should be automatically enabled
and create the so-called temp-files. I've seen them added, though.
Anyway, other Windows user might help you here.
[QUOTE gnupg.info on --use-temp-files] This option forces GnuPG to use
temporary files to communicate.  On some platforms (such as Win32 and
RISC OS), this option is always enabled. [QUOTE gnupg.info]
I have a test installation with Windows7 and gpg4win (i.e. GnuPG 2.0.x),
but not with GnuPG for Windows 1.4.18 stand-alone, so I unfortunately
cannot reproduce your system's environment.
I don't know (and haven't investigated) the special impact of gpgrelay
on this either.
When sending those log files, please send them as txt files within the
body of a message sent to the list and in CC to me.
Are you kidding? Go ahead! I don't want to be responsible for someone
not receiving his or her X-mas present in time.
But, strictly speaking, up to now, we've only heard your observations
and assumptions but have seen no proof or document sustaining what you
are saying.
It is a 2048 bit encryption sub key with no expiry date.
sub  2048R/847E9FF0  created: 2002-10-18  expires: never       usage: E
You MIGHT consider having it expired as well, setting a decent expiry
date (maybe, expiry within 2 or 3 years).

@_date: 2016-12-12 17:20:00
@_author: Stephan Beck 
@_subject: Implications of a common private keys directory in 2.1 
Carola Grunwald:
If you knew the cacheIDs of all cached passphrases you could use
"2.6.8 Remove a cached passphrase
Use this command to remove a cached passphrase.
       CLEAR_PASSPHRASE [--mode=normal]    The '--mode=normal' option can be used to clear a CACHE_ID that was
set by gpg-agent."
for removing all passphrases but one (the one you would like to be used).
If you'd want to make sure that the right passphrase is provided, why
don't you use --pinentry-mode loopback
"Use a loopback pinentry.  This fakes a pinentry by using
          inquiries back to the caller to ask for a passphrase."
Sorry, I can't reproduce your environment for now and only have these
"dispersed notes" exposed here (but found your description of your
system very instructive and largely followed it). I merely point you to
options the usefulness of which you are more experienced to assess.

@_date: 2016-12-12 18:00:00
@_author: Stephan Beck 
@_subject: Recording keysigning attendants on phone 
Lachlan Gunn:
Thanks for the explanation, Lachlan. Ok, I see, preparations (required
in the Sassaman Efficient keysigning event model), in your scheme, are
done electronically right before the event starts, are they?
Well, that may be fine for many people.
Don't ask me why, but, personally, I'd always prefer an additional paper
copy as a security measure.

@_date: 2016-12-12 20:09:00
@_author: Stephan Beck 
@_subject: Strange behaviour 
Peter Lebbing:
Well, the specific reason is that best practices exclude the usage of
sub keys without any expiry. See the FSFE's instructions in the known
Offline master key and multiple subkeys on smart card guide (or similar,
don't have the link right now).
Expiry of a main key? The OP holds a main key without expiry date. In
such a case, I'd set an expiry date on subkeys. And I was talking about
his subkeys, because the 1024 bit subkey caught my attention.
On the other hand, given the fact that the OP's key has additional
subkeys, he already used advanced user options.

@_date: 2016-12-17 00:57:00
@_author: Stephan Beck 
@_subject: Implications of a common private keys directory in 2.1 
Hi Caro,
Carola Grunwald:
well, now as you explained it again (below), and rethinking the whole
issue, the use of this command does not let you get any closer to a
solution, so I haven't investigated it further.
Wouldn't you have to add, differing from version 1.4, the --batch option
when using --passphrase string with gpg2.1?
And the agent's SETKEY command?
SIGKEY SETKEY Set the key used for a sign or decrypt operation.
To get a list of the secret keys with keygrip
gpg --with-keygrip -K

@_date: 2016-12-17 01:21:00
@_author: Stephan Beck 
@_subject: An attempt at backporting 2.1.16 from Debian sid to Debian jessie 
Peter Lebbing:
Yes, I understand, and it's great work! I just wanted to say that I,
personally, don't see the need since I upgraded to a 2.1 only installation.

@_date: 2016-12-17 13:13:00
@_author: Stephan Beck 
@_subject: PM from David Adamson -please ask on-list 
Doug Barton:
Why not? I supposed that he was reading the list.

@_date: 2016-12-19 19:05:00
@_author: Stephan Beck 
@_subject: Implications of a common private keys directory in 2.1 
Carola Grunwald:
I thought that after paying attention to the fact that, in your example,
there was only one single passphrase for all the different WME keys
(that's what I had understood), thinking of ways to remove the (one and
only) passphrase would make no sense. Sorry for my confusion!
But, effectively, every passphrase cache entry consists of a cache ID
which can be expressed as the keygrip of the key, so there are really
several different cached passphrase entries=cacheIDs.
Please see [BEGIN QUOTE]
This is gnupg.info, produced by makeinfo version 5.2 from gnupg.texi.
This is the 'The GNU Privacy Guard Manual' (version 2.1.16-beta394,
November 2016).
   (C) 2002, 2004, 2005, 2006, 2007, 2010 Free Software Foundation, Inc.
(C) 2013, 2014, 2015 Werner Koch.
(C) 2015 g10 Code GmbH.
     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU General Public License as
     published by the Free Software Foundation; either version 3 of the
     License, or (at your option) any later version.  The text of the
     license can be found in the section entitled "Copying".
2.6.7 Ask for a passphrase
   CACHE_ID is expected to be a string used to identify a cached
passphrase.  Use a 'X' to bypass the cache.  With no other arguments the
agent returns a cached passphrase or an error.  By convention either the
hexified fingerprint of the key shall be used for CACHE_ID or an
arbitrary string prefixed with the name of the calling application and a
colon: Like 'gpg:somestring'.
[END QUOTE]
So, yes, and sorry for my hesitation, the only way (I see) is to
invalidate the passphrase cache removing all its entries and manually
presetting the one keygrip/key to use on the command line.
(If it was about ssh keys and the ssh control file you could precede a !
to the respective entry in order to disable the corresponding key. But
in the info manual this is only mentioned in the context of ssh control
So, given that "your" passphrase cache contains keygrips for all the
keys in your secret keyring (the private-keys folder):
gpg --with-keygrip -K
outputs all keygrips.
A SIGHUP sent to the agent flushes the passphrase cache.
[There may be other ways of invalidating cache entries.]
Then you add the --allow-preset-passphrase and the --preset-passphrase
[keygrip of the targeted key]
options to your command line and it should work (i.e. no other key will
be used for decryption - there isn't any other in the passphrase cache!)
Given that I can't reproduce your environment this is not validated by
testing, though.
Well, as mentioned above, I guess that the interesting gpg option would
be the
--preset-passphrase [keygrip]
option, associating the passphrase with the keygrip (SHA-1 hash of the
canonical encoded S-expression of the key).
Interestingly, the thread about the "gpg-agent 2.1.16 needs about 10s
for initialization saying need_entropy before it completes its first op"
reproduces watchgnupg's debugging output of such a SETKEY --> PKDECRYPT
The first action after INQUIRE CIPHERTEXT is the decryption, the second
(just before the final 'eof' has to be the verifying.
Generally speaking, HAVEKEY given with more than one keygrip outputs OK
if at least for one of the given keygrips there is a secret key held by
the agent in its passphrase cache. So we wouldn't be able to say that
the example above on its own proves that there is really more than one
key in the cache...
But then one has to ask how can it (within the message decryption
workflow) happen that there is a second HAVEKEY request that outputs an
additional keygrip: only when there is a second recipient to whom the
message is encrypted to, the second HAVEKEY request is being emitted.
So, final conclusion: the SETKEY, as seen here, sets the key to use when
there is a hidden recipient the message is encrypted to, and IS another
way of saying --try-secret-key.

@_date: 2016-12-20 17:50:00
@_author: Stephan Beck 
@_subject: [Announce] GnuPG 2.1.17 released 
Christoph Moench-Tegeder:
using the command --recv-keys you have to retrieve the key
D8692123C4065DEA5E0F3AB5249B39D24F25E3B6 from keyservers and then do the
--verify again.
If it's still BAD SIGNATURE then, you'll have a good reason for opening
a new thread. :-)
Note that you cannot verify a signature of a gnupg tarball if you do not
have a (previous) version of gpg installed. In this case, you can only
check the checksum, or use another system with gpg installed for verifying.
Do not verify the signature using the gpg version you just downloaded.
Well, that's all part of the text of the usual announce mail posted on
this very list.

@_date: 2016-02-01 00:06:54
@_author: stebe@mailbox.org 
@_subject: GnuPG and the debian-archive-keyring 
No, I haven't. Yes, you're right, the encryption subkey had been revoked,
not the key, and I don't have the revokers' keys in my keyring. Thanks to
Peter's indications I could determine what it was all about.

@_date: 2016-02-02 21:11:20
@_author: stebe@mailbox.org 
@_subject: PlussID Smartcard Reader 
unfortunately I cannot answer you in detail but have you checked
(particularly the Troubleshooting section)?
(1)

@_date: 2016-02-02 22:41:58
@_author: stebe@mailbox.org 
@_subject: Error when signing 
I had problems downloading your gpg.conf, so I'm just guessing (sorry :-)
# If you have more than 1 secret key in your keyring, you may want to
# uncomment the following option and set your preferred keyid.
 XXXXXXX
Guess: Maybe you did uncomment it, created the new key and the older is
set as your default key

@_date: 2016-02-04 19:20:58
@_author: stebe@mailbox.org 
@_subject: Glossary. Please add definitions to a Glossary... 
Yes, that would be useful, and the wiki is the right place to publish it.
I'll contribute to it, maybe it should be made available in different
languages. Anyone else out there willing to lend a hand?

@_date: 2016-02-07 00:38:54
@_author: stebe@mailbox.org 
@_subject: Documentation format 
I've been studying XML Schema (W3C standard, the official OASIS validation
standard is RELAX-NG) for some time now and have been playing around with
docbook5-xml, but I'm lacking practical application (i.e experience). I'm
still at it and will use it for a small installation and usage report for
the Nitrokey with which I am about to create a new gpg pub key and for
other docs I'd like to write. So, for now, I just can give you a semi-professional opinion.
Docbook5-xml is fully xml-compliant, supersedes the somewhat limited DTDs
by validating against XML schema (or, officially, Relax-NG) and is a
well-known and applied standard in technical documentation, especially in
computer science/industry, hard and soft. As far as output is concerned,
you can create (via XSLT, with xsltproc, for instance) other XML, HTML,
XHTML and plain text documents. Using the XSL-FO formatting language (and
an XSL-FO processor like Apache FOP) you can convert/render them to/as
PDF, text and Postscript and thus the output is very professional. The big
advantage of any standard or markup language based on XML, in particular,
is that XML is widely used as a universal data exchange format and an
ideal basis for single source publishing (one file, several output
Now to the question if you should use docbook5-xml. It depends. If you
want to use it only for a single document like the GNU Privacy Handbook, I
don't think that it would be worth learning it, as it requires too much
effort of studying (eh, in fact, I don't know if you are already using it
:-) compared to any other tool you might already know.
But if you plan to write a lot of documentation, or even if one has to use
it professionally (i.e. at work) I'd positively choose docbook5-xml.
Well, sorry for not being the old wise guy with 20 years of experience
(pretty old yes, wise hmm), but that's what I can tell you.

@_date: 2016-02-12 01:39:47
@_author: stebe@mailbox.org 
@_subject: How can I delete a subkey that has no USAGE assigned to it? 
I have generated a new pub key with several subkeys following (1). While
generating one of the subkeys, just after gpg tells you to play around
with your mouse or do some keystrokes in the terminal, gpg output was: key
generation failed. To start generating this encryption subkey again, I
gpg> quit
$ gpg2 --edit-key XXXXXXXX
[key/subkey listing]
gpg> addkey  again, but I did't think of typing
pfkill gpg-agent  time, as I had done at the beginning of key generation.
I could create the remaining subkey(s) but had to type in the passphrase
into pinentry every time.
When I had generated the last subkey, I realized that there was one subkey
that had
no USAGE assigned to it, precisely the one the generation of which failed.
(I really don't know why, I did a thousand keystrokes and painted a gimp
masterpiece in the meanwhile).
 tried to use
key XXXXXXXX # where XXXXXXXX is the keyID of the subkey
delkey XXXXXXXX
 get rid of it, but gpg still tells me I have to select at least one
key, so it's not the (sub)keyID I have to type in.
My assumption: I suppose the "N" in the explanation of the key and delkey
command refers to the USAGE:[letter], as I can't think of any other way of
referring to that key. USAGE, however, is blank. I couldn't find any
further details about it in the manpages.
Is there a way to delete this subkey?

@_date: 2016-02-12 07:04:31
@_author: stebe@mailbox.org 
@_subject: How can I delete a subkey that has no USAGE assigned to it? 
Yes, indeed. I guess I found it in my dreams, i.e. when I woke up, it came
to my mind that it might be simply N for number...

@_date: 2016-02-12 11:43:37
@_author: stebe@mailbox.org 
@_subject: Some questions about working with different versions of GnuPG and 
just a few more questions on key generation and the fsfe doc (1) Following the indications in the referred document I have used a LIVE OS
for all the steps indicated in it (up to now), and GnuPG version 2.1.9.
I understand that the sections starting with "Removing the master key from
the keyring" up to "Remove backups from your machine" have to be performed
on the machine/OS I actually use to work/communicate with gpg/Enigmail
(GnuPG version 2.0.19).
1) To do so, is it enough to use the backup of private-keys-v1.d and
pubring.kbx I stored on a separate USB flash drive and reimport that to
the actual machine/OS I use (and then perform the steps described in the
referred doc as there are Remove main encryption subkey/Export secret
subkeys/Remove secret master key/Reimport the subkey stubs etc.)? Or should I in any case make a complete backup of the live system's
~/.gnupg before stopping it? I haven't manually configured anything in
gpg.conf there.
The target OS I'll use has gpg 2.0.19 installed. The pubring file format used there is different (.gpg). There is also
In this secring.gpg there are still secret keys of disabled/revoked keys.
I have made a separate backup of it. I understand that the .kbx format
used in 2.1.x holds some information of what in 2.0.19 is stored in the
secring (or did I misunderstand that?). Is it at all possible to do what I
plan to do?  2) Will it thus suffice to export my new pub key from pubring.kbx on the
separate flash drive and reimport it (in)to pubring.gpg on the target OS
AND copy the private-keys-v1.d folder to the .gnupg directory of the
target OS (and then perform the remaining steps)?
Or is there something else I should take into account?
Any confirmation/help appreciated.
(1)

@_date: 2016-02-12 16:44:31
@_author: stebe@mailbox.org 
@_subject: Some questions about working with different versions of GnuPG 
Having thoroughly read the manpages of 2.1.9 (source machine) and 2.0.19
(target machine), respectively, and thought about the whole thing, I
deduce, for now, this result: (I thought I wouldn't have enough time to do
that as I posted my previous message...)
--> My new key:
1) --export --output [MyNewKeyID] to file [file]
2) --import key [MyNewKeyID] from file [file] --keep-ownertrust on target
machine -->that's the way to go....
--> copying private keys folder of 2.1.9 to version 2.0.19 should work (I
haven't created any new key with version 2.0.19 so there's nothing inside
yet), the "old" keys were (once) created using gpg 1.4.12) trustdb on 2.1.x only contais the absolute/ultimative trust I set in my
own key (and its subkeys) --> --export-ownertrust (but isn't the
ownertrust of my new key, including subkeys, already being (implicitly)
exported using --export -output [MyNewKeyID] and thus updating
(implicitly) trustdb (target machine) on its import to version 2.0.x (-->
newly generated key has been, automatically, self-signed by version 2.1.x
and I self-signed my first uid with my second uid)
--> --keep-ownertrust as import-options parameter because on import
ownertrust values are stripped off of the new pub key
--> pubring.gpg of 2.0.19 (target machine) --> special topic: expiry of
disabled keys
(which started as a copy and paste of the 1.4.x's pubring, when I started
using 2.0.19) contains my disabled/revoked public keys (once created with
1.4.12) and other pub keys: so I can simply 1) set an (very close, today's) expiry date to the disabled keys in order
to let them expire as soon as possible, then remove those keys from
pubring.gpg, or remove them right away, given the fact that I still have a
copy (of pubring and secring) in order to be able to put an expiry date
later) --> how important is it to let disabled keys expire (by activating
them for a "moment" in order to let them expire)? Would such proceeding be
a security risk, better leaving them disabled forever?
--> follow the remaining steps indicated in the referred FSFE's
card-howTo-doc (1)
Any objections, hints welcome.
(1)

@_date: 2016-02-13 18:20:09
@_author: stebe@mailbox.org 
@_subject: Heuristics of gpg's output 
a few days ago I downloaded
Resolving hostname ?gensho.acc.umu.se (gensho.acc.umu.se)?...
130.239.18.176, 2001:6b0:e:2018::176
from a secondary mirror located in Sweden.
Before that I had installed a DNSSEC capable DNS resolver software as an
extension in my browser and set its standard URL as standard DNS server in
my router. I did not activate the option that denies connections if no
DNSSEC record could be found/checked.
I looked for the available keys for the different CD releases pointing my
browser to the Debian website (DNSSec info says: OK)
pub   4096R/64E6EA7D 2009-10-03
  Primary key fingerprint = 1046 0DAD 7616 5AD8 1FBC  0CE9 9880 21A9 64E6
uid                  Debian CD signing key pub   4096R/6294BE9B 2011-01-05
  Primary key fingerprint = DF9B 9C49 EAA9 2984 3258  9D76 DA87 E80D 6294
uid                  Debian CD signing key sub   4096R/11CD9819 2011-01-05
pub   4096R/09EA8AC3 2014-04-15
  Primary key fingerprint = F41D 3034 2F35 4669 5F65  C669 4246 8F40 09EA
uid                  Debian Testing CDs Automatic Signing Key
sub   4096R/6BD05CFB 2014-04-15
being the last one in the list the key I was looking for.
 the signature I downloaded from that very server
LC_ALL=C gpg2 --verify SHA256SUMS.sign debian-testing-amd64-DVD-1.iso
gpg: Signature made Mon Feb  8 08:31:22 2016 CET using RSA key ID 09EA8AC3
gpg: BAD signature from "Debian Testing CDs Automatic Signing Key
me at mymachine:/media/sdb1$ LC_ALL=C gpg2 --edit-key 09EA8AC3
gpg (GnuPG) 2.0.19; Copyright (C) 2012 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
pub  4096R/09EA8AC3  created: 2014-04-15  expires: never       usage: SC                       trust: unknown       validity: unknown
sub  4096R/6BD05CFB  created: 2014-04-15  expires: never       usage: E   [ unknown] (1). Debian Testing CDs Automatic Signing Key
gpg> fpr
pub   4096R/09EA8AC3 2014-04-15 Debian Testing CDs Automatic Signing Key
 Primary key fingerprint: F41D 3034 2F35 4669 5F65  C669 4246 8F40 09EA
So, what does that information tell us? Would that information suffice to think that the iso file is/was
Would that information suffice to think that the server is/was
What would such information tell us exactly?
I am trying to figure out what does and what it does not tell us in order
to better understand the heuristic scope of gpg's output.
Any help, hint or assessment is appreciated.

@_date: 2016-02-13 23:07:55
@_author: Stephan Beck 
@_subject: Heuristics of gpg's output 
Ingo Kl?cker:
LC_ALL=C gpg2 --verify SHA256SUMS.sign SHA256SUMS
gpg: Signature made Mon Feb  8 08:31:22 2016 CET using RSA key ID 09EA8AC3
gpg: Good signature from "Debian Testing CDs Automatic Signing Key
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the
Primary key fingerprint: F41D 3034 2F35 4669 5F65  C669 4246 8F40 09EA 8AC3
me at mymachine:/path/to/iso$ LC_ALL=C sha256sum
debian-testing-amd64-DVD-1.iso && grep debian-testing-amd64-DVD-1.iso
Everything ok!
Thanks again

@_date: 2016-02-15 13:19:27
@_author: stebe@mailbox.org 
@_subject: Some questions about working with different versions of GnuPG and 
stebe at mailbox.org:
I (re)post this message as the Nitrokey support website informs that
users can ask on this list for getting support. If I am wrong and/or
this is not the appropriate list, please let me know.
-------- Weitergeleitete Nachricht --------
Betreff: Re: Some questions about working with different versions of
GnuPG and the fsfe's card on subkeys doc [UPDATED]]
Datum: Fri, 12 Feb 2016 16:44:31 +0100 (CET)
Von: stebe at mailbox.org
An: gnupg-users at gnupg.org
I have problems getting GnuPG v.2.0.19 to work with the Nitrokey Pro USB
Smart Card (reader is integrated into device). After importing the
pubkey and connecting the Smart Card I performed these steps:
 Keyring already being disabled, being installed the following
packages: opensc, pcscd, libccid, Nitrokey udev rules installed, having
performed a udevd stop and restart, and added required strings to
 if Smart Card is connected
Bus 00x Device 00y: ID 20a0:4108 Clay Logic
 up gpg.agent to be able to enter Admin PIN of Smart Card with
pinentry (enabling ssh-support at the same time and writing info to file)
gpg-agent --daemon --enable-ssh-support --write-env-file
GPG_AGENT_INFO=/tmp/gpg-vZhcne/S.gpg-agent:3187:1; export GPG_AGENT_INFO;
SSH_AUTH_SOCK=/tmp/gpg-I4JNzi/S.gpg-agent.ssh; export SSH_AUTH_SOCK;
SSH_AGENT_PID=3187; export SSH_AGENT_PID;
# checking if gpg2 can connect to Nitrokey Pro USB Smart Card
gpg2 --card-status
gpg-agent[3197]: can't connect to the SCdaemon: IPC "connect" failed
gpg: OpenPGP card not available: no card daemon
 it further
$ opensc-tool -l
No smart card readers found
 only have this one and only Smart Card, so no error due to multiple
 possible)
OpenSC Explorer version 0.12.2
No smart card readers found
 making sure that gnome-keyring is really dead
$ pkill -f gnome-keyring-daemon
gpg2 --card-status
gpg-agent[3488]: can't connect to the SCdaemon: IPC "connect" failed
gpg: OpenPGP card not available: no card daemon
I checked the Nitrokey support docs, their FAQ, in addition to (1) and
(2) the gpg manpages and the gnupg info manual. Is there anyone that
has/had similar problems? What else can I check for troubleshooting?
In fact, the device is being recognized using gpg but I'd like to use it
with gpg2.
--> follow the remaining steps indicated in the referred FSFE's
card-howTo-doc (1)
Any objections, hints welcome.
(1) (2) Gnupg-users mailing list
Gnupg-users at gnupg.org

@_date: 2016-02-15 23:50:29
@_author: stebe@mailbox.org 
@_subject: Some questions about working with different versions of GnuPG and 
stebe at mailbox.org:
It has turned out that my off-line FAQ copy did not include a section
that must have been added recently, detailing the package versions of
the required components. This may be one/the reason for gpg2 not being
able to connect to the Nitrokey. I detail it below so that other users
might benefit from it.
GnuPG 2.0.18 or newer. We recommend the 2.0 main version. 2.1 is still a
bit unstable.
OpenSC 0.15 is not sufficient and you would need its nightly builds or
compile it from their git repository.
libccid 1.4.22
being the last two requirements those that are not met by my system's

@_date: 2016-02-16 02:54:46
@_author: stebe@mailbox.org 
@_subject: using an expired GPG key with ssh 
Hi Marko,
Marko Bauhardt:
according to monkeysphere(7) to be found in /usr/share/man/man7,
monkeysphere subkey-to-ssh-agent will fail.
Quote (using nroff):
The  monkeysphere  commands work from a set of user IDs to deter?
mine acceptable keys for ssh  and  TLS  authentication.   OpenPGP
keys are considered acceptable if the following criteria are met:
The key must have the ?authentication? (?a?) usage flag set.  The
key  itself  must  be valid, i.e. it must be well?formed, not ex?
pired, and not revoked.  The relevant user ID must be signed by a
trusted identity certifier.
As ssh-add arguments are being invoked from monkeysphere
subkey-to-ssh-agent (as additional parameters) this ssh-add would fail, too.
According to the gnupg.info manual it is possible to use the gpg.agent
"as a drop-in replacement" for the ssh-agent (and I'd prefer doing
that), if you run
gpg-agent --daemon --enable-ssh-support \
               --write-env-file "${HOME}/.gpg-agent-info"
when starting a session and no gpg.agent is already running.
(see chapter 2 Invoking GPG Agent, 2.2 Option Summary
(--enable-ssh-support), in the gnupg.info manual, for a detailed

@_date: 2016-02-16 12:56:37
@_author: stebe@mailbox.org 
@_subject: using an expired GPG key with ssh 
Hi Marko,
Marko Bauhardt:
Using (or trying to setup) gpg-agent as a replacement for ssh-agent is
just based on one idea: if you deal with gpg-keys, have the "original"
application handle all key-related stuff, it was designed for doing so.
If nothing else interferes, less errors should occur and less attack
surface is presented. It merely is intuition, not science.

@_date: 2016-02-16 13:17:41
@_author: stebe@mailbox.org 
@_subject: Some questions about working with different versions of GnuPG and 
UPDATE (see below)
stebe at mailbox.org:
Without any intention of bothering you, I want to add the following to
be precise and provide useful information:
On debian-wheezy scdaemon is not being installed along with gnupg
2.0.19, but only with gpgsm, so I didn't even have the scdaemon
installed, - and, in fact, gpg complained about that: no card daemon!!
I'll now have another problem I have noticed when reading Neal's comment
on (1)
Also, gpg 1.4 and gpg 2.0 can?t merge secret keys (this limitation has
been removed in gpg 2.1). As such, if you try to reimport your secret
keys, it won?t work. Instead, you have to delete the secret key database
and then reimport.
As the card was recognized by gpg1 and sub key stubs had been recreated
in secring.gpg, having the whole thing configured again, this time using
gpg2, will force me to delete secring.gpg beforehand. (if I understand
things correctly)

@_date: 2016-01-04 14:12:18
@_author: stebe@mailbox.org 
@_subject: S/MIME questions: how to set default key? 
Hi Thomas,
I haven't used gpgsm yet, but in section 4.2.3 of the info gnupg manual it
is indicated the following.
--default-key USER_ID'
     Use USER_ID as the standard key for signing.  This key is used if
     no other key has been defined as a signing key.  Note, that the
     first `--local-users' option also sets this key if it has not yet
     been set; however `--default-key' always overrides this.
--local-user USER_ID'
-u USER_ID'
     Set the user(s) to be used for signing.  The default is the first
     secret key found in the database.
It seems that gpgsm takes the first entry in the keyring as the one to
--> see 4.1.2 Commands to select the type of operation:
     Create a digital signature.  The key used is either the fist one
     found in the keybox or those set with the `--local-user' option.
So you might set --default-key USER_ID to the one of your new certificate
(second in your output list) and add it to gpgsm.conf; you might as well
use --local-users instead. Section 4.8.3 Signing a Message also details that you can modify your
gpgsm.conf to have gpgsm sign with your new key.
"The key used for signing is the default one or the one specified in the
configuration file." So it's here and not the .muttrc file where you have
to change it.
Hope that helps.

@_date: 2016-01-08 13:44:40
@_author: stebe@mailbox.org 
@_subject: Declaration of version 2.0.16 in France 
Hi Michael,
According to a quick lookup of the issue at (1) it seems that the
importation of cryptographic software that goes beyond authentication and
verification (of signatures) has to be declared in advance to the French
Prime Minister.
Quote from (1) (sorry for putting it here in the original version)
Ainsi, la fourniture et l?importation depuis un ?tat membre de l?Union
europ?enne ou depuis un pays tiers, de moyens de cryptologie n?assurant
pas exclusivement des fonctions d?authentification ou de contr?le
d?int?grit?, sont soumis ? une d?claration pr?alable aupr?s de Premier
ministre. Cette d?claration comprend la mise ? disposition de la
description des caract?ristiques techniques du moyen de cryptologie en
cause, ainsi que du code source des logiciels.
But, taking into consideration that GnuPG is free software, does not have
any distributing agent neither in France (nor in other any country) and
its potential users download it at their own discretion from servers
located outside France (so there isn't taking place any import in the
commercial/legal sense) I think that this specific French legislation is
not applicable to GnuPG.

@_date: 2016-01-11 18:41:44
@_author: stebe@mailbox.org 
@_subject: Problem while installing NitrokeyPro's App 
Hi GnuPG users,
(sorry for this long posting)
I'm about to create a new key using NitrokeyPro and its app but I have
some problems with installing the app.
I am not sure if this is more a Nitrokey or a Debian issue. I'm using
Debian oldstable (7.9.) 32 bits on a 64 bit processor and a 64 bit kernel.
The app is only available as a 64 bit version for jessieamd64. I first
considered compiling a 32 bit version for my needs, but then I
accidentally learned (1) that the i386 version of i386 has a (basic)
support for running 64bit third-party binaries. At least in (1) it is
indicated that there is such a "minmilastic runtime support".
sudo dpkg -i nitrokey-app-0.2-debian-jessie-amd64.deb && apt-get install
resulted in (original in German; configuration failed due to dependency issues)
Entpacken von nitrokey-app (aus nitrokey-app-0.2-debian-jessie-amd64.deb)
dpkg: Abh?ngigkeitsprobleme verhindern Konfiguration von nitrokey-app:
 nitrokey-app h?ngt ab von libappindicator1.
 nitrokey-app h?ngt ab von libnotify4.
 nitrokey-app h?ngt ab von libqt5widgets5.
 nitrokey-app h?ngt ab von libqt5gui5.
 nitrokey-app h?ngt ab von libqt5core5a.
So I updated my sources.list with wheezy-backports, eager to install the
lacking dependencies libqt5widgets5, libqt5gui5, libqt5core5a from there,
but that did not help. libappindicator1 and libnotify4 were already
installed on my oldstable system, but the app, as one can see in the
output above, ignored them, i.e. maybe needs another version (I installed
all these 5 dependencies first as 32 bits, thinking that if the 64 bit app
accepted all the other 32 bit stuff it now will only need the 32 bit
version of them. I was still thinking that the referred i386 support for
64bit 3rd party binaries could be enabled by this.
I ran sudo dpkg -i nitrokey-app-0.2-debian-jessie-amd64.deb && apt-get install
again, but again
(original in German)
Entpacken von nitrokey-app (aus nitrokey-app-0.2-debian-jessie-amd64.deb)
dpkg: Abh?ngigkeitsprobleme verhindern Konfiguration von nitrokey-app:
 nitrokey-app h?ngt ab von libappindicator1.
 nitrokey-app h?ngt ab von libnotify4.
 nitrokey-app h?ngt ab von libqt5widgets5.
 nitrokey-app h?ngt ab von libqt5gui5.
 nitrokey-app h?ngt ab von libqt5core5a.
In a desperate attempt to solve the issue :-) I did a dpkg --add-architecture amd64 to do the best possible to have the dependencies installed, if not in a 32
bit version (ignored by the app), using the 64 bit versions in backports
and oldstable, respectively: this damned app should run with it, I
thought! But then there were even more dependency issues, requiring me to
install even more 64 bit packages to solve even more dependency problems.
I told apt to resolve the dependency issues (even if it had to install all
that bunch of 64 bit versions of the dependencies of the app's
dependencies) but apt's output was that it was not possible to get the
dep. issues resolved. :-(
Any ideas how to solve this within 32 bit oldstable? Is it better to post
it on a Debian specific forum/mailing list? Or to upgrade right away to 64
bit jessie using apt --dist-upgrade? Any ideas welcome.
(1)

@_date: 2016-01-17 21:00:38
@_author: stebe@mailbox.org 
@_subject: Bounces-address 
why have I been receiving the mails of this list via gnupg-users-bounces
for a couple of months now, whereas before that I had been receiving them
from the gnupg-users? Is there any reason for this?

@_date: 2016-01-19 12:32:00
@_author: stebe@mailbox.org 
@_subject: Bounces-address 
Mailman always uses a *-bounces address so to make bounce detection
easier.  Nothing has ever changed.
   Werner
   I am sorry, that was my fault, you're obviously right.
   Sorry for simply pasting your answer into this new mail: at the moment
   I cannot send mails from my email client over smtp, only from the
webmail interface.
   I already contacted my mail provider about ten days ago, they are still
into it.
   There are two servers my computer connects to when I use tor (besides
the entry guard):    1) 69.30.249.50 (ewaycia.com)
   2)212.47.241.21 (sa1.sblo.ch)
   We're all still trying to find out whether it has something to do with
them or not.
   Cheers,
   Stebe
P.S. I plan to write a HowTo concerning installation and usage of
NitrokeyPro with the latest gnupg2.1.10 version for the wiki, from the point of view of a
beginner/medium-skilled     user, if it fits in with the wiki's needs.

@_date: 2016-01-20 21:19:05
@_author: stebe@mailbox.org 
@_subject: In wich commands can a certain option be used? 
I see that none of the experts has answered you so far, so I'll give it a
As far as I know, there is no complete listing of all the commands
detailing all possible options to use with each of them.
In the manpages the commands and options are grouped depending on the
context, i.e. the operation you want to carry out.  The "list-options parameters" given in line 912 (more or less) of the
manpages detail the options to use with the different --list commands,
further on there is a section that explains the options to use with the
verify command.
The info gnupg manual gives you another option summary (in chapter 3.2)
detailing the available options depending on the context.
So, it is more focused on what you actually want to do. You may only use one command (at a time) but you can combine it with
several options.
There may be options you may not want to use together as they make no
sense, but, in general, gpg/gpg2 will let you know. So, what is it that you actually want to do? Or was it just a general

@_date: 2016-01-26 02:49:30
@_author: stebe@mailbox.org 
@_subject: Key signing with non-primary UID 
some ways to achieve what you pretend,
# sign (effectively)
gpg2 --edit-key [name or email address or short/long keyID or, better,
fingerprint of your contact]
gpg> sign -u [your non-primary uid for signing given as name or email
# sign only locally, i.e. it does not leave your computer
gpg2 --edit-key [name or email address or short/long keyID or, better,
fingerprint of your contact]
gpg> lsign -u [your non-primary uid for signing given as name and/or email
# checking it
gpg2 --list-sigs [name or email address or short/long keyID or, better,
fingerprint of your contact]
# between "sig" and the keyID of your contact you should see an "L" now
# You might as well use gpg2 --local-user [your non-primary uid for signing given as name and/or
email address] --edit-key [name or email address or short/long keyID or,
better, fingerprint of your contact] --lsign-key [name or email address or
short/long keyID or, better, fingerprint of your contact]
(1) README of 1.4.20, but it works with 2.0.x and 2.1.x versions of GnuPG
as well (see quote below)
(2) manpages
(3) gnupg.info
(1) GnuPG - The GNU Privacy Guard
                   -------------------------------
                            Version 1.4.20
         Copyright 1998-2015 Free Software Foundation, Inc.
         Copyright 1997-2015 Werner Koch
    Okay, here is how GnuPG helps you with key management.  Most stuff
    is done with the --edit-key command
        gpg --edit-key     GnuPG displays some information about the key and then prompts
    for a command (enter "help" to see a list of commands and see
    the man page for a more detailed explanation).  To sign a key
    you select the user ID you want to sign by entering the number
    that is displayed in the leftmost column (or do nothing if the
    key has only one user ID) and then enter the command "sign" and
    follow all the prompts.  When you are ready, give the command
    "save" (or use "quit" to cancel your actions).
    If you want to sign the key with another of your user IDs, you
    must give an "-u" option on the command line together with the
    "--edit-key".

@_date: 2016-01-28 13:46:39
@_author: stebe@mailbox.org 
@_subject: Problems with 4096 keys on 2.1 card 
I used (for a debian system, system-wide basis) the following command
which I found in the wiki.
$ sudo dpkg-divert --local --rename --divert
If you later decide to reenable it, then you can use:
$ sudo dpkg-divert --rename --remove

@_date: 2016-01-28 14:15:03
@_author: stebe@mailbox.org 
@_subject: BAD signatures for GnuPG Stable 
If you are really interested in further invesigating it, it seems that
this might be useful for you. I haven't checked it yet, though.
(1) Quote from (1)
Writing bash scripts that do file verification using gpg that really is
secure and passes a comprehensive threat model, that covers indefinite
freeze, rollback, endless data attacks, etc. is hard.
gpg-bash-lib's goal is to provide a bash library that we can
collaboratively develop, audit and abstract the hard work into reuseable
Checking gpg exit codes only is insufficient. Quote Werner Koch (gnupg
lead developer):
    "there is no clear distinction between the codes and for proper error
reporting you are advised to use the --status-fd messages."
What does it do
    Abstracts file verification into common functions.
    Allows detecting of stale files, i.e. detection downgrade or
indefinite freeze attacks by implementing a valid-until like mechanism.
    Internally parses gpg's --status-file output.
    It is signal friendly.
    Detects endless data attacks, aborts and reports this.
    Detects indefinite freeze and rollback (downgrade) attacks and reports
    Can help with verification of names of files, that are otherwise not
covered by default when using gpg.
    Provide diagnostic output (variables) that contain information if the
local clock is sane by comparing signature creation date with local clock.
It is assumed, that your script downloaded a data file as well as a
signature file. A separate folder containing the keys that are supposed to
be used for gpg verification, such as for example
can then use this library to do the gpg verification for you. Cheers,

@_date: 2016-01-31 16:07:56
@_author: stebe@mailbox.org 
@_subject: GnuPG and the debian-archive-keyring 
recently, I refreshed some keys of my GnuPG public keyring, did a check
and learned that 1) the RSA key 46925553 Debian Archive Automatic Signing Key (7.0/wheezy)
 has been revoked [output translated into English in
square brackets]. gpg2 --edit-key 0x46925553
pub  4096R/46925553  erzeugt[created]: 2012-04-27  verf?llt[expires]:
2020-04-25  Aufruf[call/invocation]: SC                       Vertrauen[trust]: unbekannt[unknown]
    G?ltigkeit[validity]:unbekannt[unknown]
Der folgende Schl?ssel wurde am 2014-03-17 von RSA Schl?ssel 46925553
Debian Archive Automatic Signing Key (7.0/wheezy) widerrufen [The following key has been revoked by RSA key 46925553 Debian
Archive Automatic Signing Key (7.0/wheezy)  on
sub  4096R/ADD6B7E2  erzeugt: 2012-04-27  widerrufen: 2014-03-17  Aufruf:
E   [  unbek.] (1). Debian Archive Automatic Signing Key (7.0/wheezy)
gpg> fpr
pub   4096R/46925553 2012-04-27 Debian Archive Automatic Signing Key
(7.0/wheezy)  Haupt-Fingerabdruck [Key Fingerprint] = A1BD 8E9D 78F7 FE5C 3E65  D8AF
8B48 AD62 4692 5553
2) Moreover, I learned that the RSA key 2B90D010 Debian Archive Automatic
Signing Key (8/jessie)  may (may?) have been revoked
by, well, I am not sure by which key, as gpg's output is as follows:
gpg2 --edit-key 0x2B90D010
Dieser Schl?ssel k?nnte durch RSA mit Schl?ssel CA1CF964 [?]  widerrufen
worden sein
[This key may have been revoked by RSA key CA1CF964 [?]]
Dieser Schl?ssel k?nnte durch RSA mit Schl?ssel B12525C4 [?]  widerrufen
worden sein
Dieser Schl?ssel k?nnte durch RSA mit Schl?ssel 15B0FD82 [?]  widerrufen
worden sein
pub  4096R/2B90D010  erzeugt: 2014-11-21  verf?llt: 2022-11-19  Aufruf: SC
                     Vertrauen: unbekannt     G?ltigkeit: unbekannt
[  unbek.] (1). Debian Archive Automatic Signing Key (8/jessie)
gpg> fpr
pub   4096R/2B90D010 2014-11-21 Debian Archive Automatic Signing Key
(8/jessie)  Haupt-Fingerabdruck [Key Fingerprint] = 126C 0D24 BD8A 2942 CC7D  F8AC
7638 D044 2B90 D010
As to 1) the expiration date seems to be quite a while ago, but what
struck me is the fact that there seems to be no way of getting the new
key. I guess, there has to be a new one, as wheezy still is among the
living. 3) So I checked apt-key (list) and the keyrings listed in there, namely
thought it was supposed to be listed there automatically as a consequence
of some archive keyring update performed in the past.
4) I read the apt-key manpage. Unfortunately, the "net-update" option that
might have resolved the issue is not available in Debian but only in
Ubuntu. I did an "update" but none of the keys has changed.
gpg: Schl?ssel 46925553: "Debian Archive Automatic Signing Key
(7.0/wheezy) " nicht ge?ndert [unchanged]
gpg: Schl?ssel 2B90D010: "Debian Archive Automatic Signing Key (8/jessie)
" nicht ge?ndert
...some more keys...
5) I checked if apt indicated the availbility of a new
debian-archive-keyring version, but no, 2014.3~deb7u1 not marked as
I have to remove the revoked key from apt-key, fine, but what else can I
do for getting the new one? And will the removal affect my oldstable
system in terms of security/secure updates? Have I disregarded something
As to 2)
What kind of ambiguous output is "may" and "?" I hold gpg to be a program
that would not be vague, and maybe it isn't, and it's just me who does not
understand. But what on earth might be the reason for giving an output
like that? What does it mean? How can I check further if it actually has
been revoked?
Thanks in advance for any helpful input. And forgive me if I can't see the
wood for the trees!

@_date: 2016-01-31 23:55:06
@_author: stebe@mailbox.org 
@_subject: GnuPG and the debian-archive-keyring 
Well, maybe you're right. I didn't think of changing it.
I have a system pretty soundly localized, but those two commands worked,
thanks. Simply putting LANG=C didn't work.
Indeed. I got it wrong. See the message in reply to Werner.
OK, thanks, you have opened my eyes. :-) I didn't know this particular
command pipe. My apologies to all Debian people.
In my case, the English output is as follows.
LC_ALL=C gpg2 --edit-key 0x2B90D010
This key may be revoked by RSA key CA1CF964 [?]
This key may be revoked by RSA key B12525C4 [?]
This key may be revoked by RSA key 15B0FD82 [?]
pub  4096R/2B90D010  created: 2014-11-21  expires: 2022-11-19  usage: SC                       trust: unknown       validity: unknown
[ unknown] (1). Debian Archive Automatic Signing Key (8/jessie)
Now I understand. The German translation is misleading and should be
improved. I'll file a bug report.
You're right with your supposition. The German wording should positively
be changed. It makes people think that the action of revoking may have
already been carried out, whereas the English informs of the keys'
ability/capacity to revoke the key.
Thanks a lot.

@_date: 2016-01-31 23:58:53
@_author: stebe@mailbox.org 
@_subject: GnuPG and the debian-archive-keyring 
============================== START ==============================
Thanks, I had to invoke
$ LC_ALL=C gpg2 --edit-key 0x46925553
gpg (GnuPG) 2.0.19; Copyright (C) 2012 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
pub  4096R/46925553  created: 2012-04-27  expires: 2020-04-25  usage: SC                       trust: unknown       validity: unknown
The following key was revoked on 2014-03-17 by RSA key 46925553 Debian
Archive Automatic Signing Key (7.0/wheezy) sub  4096R/ADD6B7E2  created: 2012-04-27  revoked: 2014-03-17  usage: E   [ unknown] (1). Debian Archive Automatic Signing Key (7.0/wheezy)
to switch gpg's output to English. Everything all right here, though. I
thought it might refer to the key 0x46925553 being revoked by 0x46925553
(Debian Archive Automatic Signing Key, mentioned in the last line, which
in fact is the uid) but I didn't pay attention to the fact that it
actually refers to the enryption subkey. Gnupg-users and developers, Debian people, I beg your pardon.

@_date: 2016-11-21 17:33:00
@_author: Stephan Beck 
@_subject: configure warnings and errors upon ./configure for Pinentry v0.9.7 
David Adamson:
If you only want to use the command line (i.e. text mode) and do not
need a GUI, you'll probably need the pinentry-curses package. Install it
by typing: sudo apt-get install pinentry-curses
There's one thing I don't really understand:
In your first mail you talked about your laptop with Debian Jessie, and
that it has gnupg 1.4.18 pre-installed. I think the whole info should
be: Debian Jessie (standard install) has gnupg 1.4.18 AND gnupg 2.0.26
pre-installed. Or how would you be able to issue a command gpg2 at all?
Or do you have a text-mode only pre-installed Debian Jessie with both
gnupg versions?

@_date: 2016-11-22 00:58:00
@_author: Stephan Beck 
@_subject: GPGSM detached signature without auth attributes 
Hi Jerney,
Jernej Kos:
As to the OpenPGP card 2.1 [1] specification, you can store the private
key of an X.509 certificate on card (Data Object Cardholder Certificate,
TAG 7F21) ONLY for using it for authentication purposes in a
client/server environment, not for signing.
In version 3.0 of the OpenPGP card specification the decipher and sign
capabilities for use with an PKIX/X.509 certificate have been
introduced. Unfortunately I don't know of any existing OpenPGP smart
card that implements version 3.0 [2].
So, I guess, without even discussing the possibility (and further
details) of using a "smartcard-based" X.509 certificate's private key
with gpgsm for digitally signing a file skipping/overriding/ignoring
CMS's auth attributes for signing a kernel module, it is not (yet)
feasible (in practice).
My 2 cent

@_date: 2016-11-22 01:15:00
@_author: Stephan Beck 
@_subject: configure warnings and errors upon ./configure for Pinentry v0.9.7 
David Adamson:
Ah, I forgot one thing: you have to add the following to your ~/.bashrc
export GPG_TTY
Does it work now?

@_date: 2016-11-22 07:22:00
@_author: Stephan Beck 
@_subject: GPGSM detached signature without auth attributes 
I forgot to include the links to the docs.
[1] [2] Stephan Beck:

@_date: 2016-11-22 10:02:00
@_author: Stephan Beck 
@_subject: GPGSM detached signature without auth attributes 
Jernej Kos:
sorry, I obviously got this wrong. I'll have to take a deeper look into
gpgsm and its use with smart cards.
Thanks for your answer.

@_date: 2016-11-23 10:14:00
@_author: Stephan Beck 
@_subject: configure warnings and errors upon ./configure for Pinentry v0.9.7 
David Adamson:
You haven't answered the question if you only want to use text-mode.
If you only use text-mode, add those lines mentioned to ~/.bashrc (or
whatever may be your shell initialization file) and properly symlink
if you are using text-mode only, I don't know why it should not work.
I refer you to the info gnupg manual and its appropriate section
10.3 Commonly Seen Problems.
 * The Curses based Pinentry does not work
Maybe it's helpful for you and for all willing to help if you properly
document the output of gen-key with the debug flag set to expert or guru
gpg2 --gen-key --debug-level [expert|guru]
Just a suggestion.
P.S. I now see that you have installed gtk-pinentry, so maybe I was
wrong and you don't want to use text-mode.

@_date: 2016-11-23 16:13:00
@_author: Stephan Beck 
@_subject: Implications of a common private keys directory in 2.1 
Peter Lebbing:
Looking at it from the Postfix SMTP client side (as an example), with the
smtp_tls_security_level (default: empty) main.cf configuration parameter
there are the following levels with increasing security from left to right:
none, may, encrypt, dane, dane-only, fingerprint, verify, secure

@_date: 2016-11-23 16:39:00
@_author: Stephan Beck 
@_subject: configure warnings and errors upon ./configure for Pinentry v0.9.7 
Peter Lebbing:
[...]So by installing the Debian pinentry-curses
Yes, it has helped, thanks. But I looked at one of the OP's previous
mail and was confirmed.
So, I am puzzled by the fact that he switched to GUI pinentry that
quickly, without providing more info on the error, so I proposed to get
the maximum amount of info possible using the debug-level flag.

@_date: 2016-11-23 21:10:00
@_author: Stephan Beck 
@_subject: Trying to figure out what's going on with a key update failure... 
Anthony Papillion:
Which gpg2 version are you running? 2.0x or 2.1x? If it's the former,
gpg makes use of the "keyserver helper programs" to connect to
keyservers, whereas using the latter implies Dirmngr being in charge of
it. Depending on that, the ways to get the required information needed
to analyze and (possibly) resolve your problem differ.
Or do you already have all that information when you say

@_date: 2016-11-24 16:51:00
@_author: Stephan Beck 
@_subject: Is --export-ssh-key functionality possible with GnuPG 2.0? 
Hi Teemu,
Teemu Likonen:
Yes, --export-ssh-key has been introduced in gpg with release of version
To set the whole thing up, a few more steps are necessary
(--enable-ssh-support in gpg.conf still is necessary AFAIK, but this is
the "new" export command.
Yes, but it's a bit more laborious in comparison to gpg >= 2.1.11
A) You do not use a smart card --> B) you use a smart card
A1) Install the monkeysphere package (1) that includes openpgp2ssh tool
A2) Export the secret subkey you'd like to use for ssh authentication
purposes and pipe it through openpgp2ssh
gpg2 --export-secret-subkeys \
  --export-options export-reset-subkey-passwd [keyID!] | \
  openpgp2ssh [keyID] > gpg-auth-keyfile
A3) Set correct permissions
chmod 0600 gpg-auth-keyfile
A4) Add the key to the agent
ssh-add gpg-auth-key-file
A4) Check that the key effectively is loaded
ssh-add -l
A5) Extract the *public* key for use in the ~/.ssh/authorized_keys file
ssh-add -L
gpgkey2ssh [keyID]
B) You use a smart card and have it inserted
Transfer your secret authentication subkey to the smart card by typing first
B1) gpg2 --edit-key [keyID]
Toggle and select the correct subkey
B2) gpg> toggle
B3) key [N]
N depends on the number of subkeys and describes the position of the key
in the listing
B4) Transfer the authentication subkey to the card
gpg> keytocard
Select the correct slot of the card for the auth subkey to be stored
Usually, it's "3"
B5) Enter passphrase
B6) Enter your card ADMIN PIN
B7) gpg> save
List member Damien Goute-Gattat has an excellent write-up to be found at:

@_date: 2016-11-25 09:14:00
@_author: Stephan Beck 
@_subject: Is --export-ssh-key functionality possible with GnuPG 2.0? 
Peter Lebbing:
I'm not sure. This is the Agent's ASSUAN protocol. I had a look into the
gcrypt manual, as (AFAIK).gpg 2.0 as such lacks a specific command line
option, as Teemu indicated.

@_date: 2016-11-25 10:02:00
@_author: Stephan Beck 
@_subject: Trying to figure out what's going on with a key update failure... 
Hi Anthony,
Stephan Beck:
sorry for the delay in getting back to you on-list.
[Could you please send me the error output you get when decrypting the
encrypted message I sent you yesterday, telling you that I had problems
in checking keyserver's connection as well, it's just that I'm eager to
know and I want to exclude key compromise].
In order to get the details of the communication of keyserver helper
programs with the keyserver you should use the --use-temp-files and
--keep-temp-files --keyserver options.
For example, I tried (a hundred times, with variations) to refresh your
key attempting to log keyserver<->helpers communication to check it
myself before giving advice
gpg2 --keyserver hkps://hkps.pool.sks-keyservers.net --refresh-keys
4F765425380A9BBA5F0E0892CC9D1E072AC97369 --no-emit-version
--display-charset utf-8 --keyserver-options
--debug-level 2
But tempin.txt tempout.txt are nowhere.
I made a search in the gnupg's pipermail list archive and I consistently
found surely authoritative indication of David Shaw
that adding
--debug 1024 --keyserver-options "use-temp-files keep-temp-files"
do result in tempin.txt tempout.txt being logged somewhere.
I successfully generated those files in the past when checking
communication with keyservers, but I haven't wrote it down and I can't
integrate David Shaw's instructions into the above mentioned
command-line I used.
I'm giving up on this now, eager to hear once for all times HOW to
successfully create them.

@_date: 2016-11-25 10:28:00
@_author: Stephan Beck 
@_subject: PM from David Adamson -please ask on-list 
Hi David,
I kindly invite you to post your PM on-list. It might be of interest for
other people as well.
Thanks and regards

@_date: 2016-11-25 11:01:00
@_author: Stephan Beck 
@_subject: Trying to figure out what's going on with a key update failure... 
I actually tried
gpg2 --keyserver hkps://hkps.pool.sks-keyservers.net --refresh-keys
4F765425380A9BBA5F0E0892CC9D1E072AC97369 --no-emit-version
--display-charset utf-8 --keyserver-options
ca-cert-file=~/sks-keyservers.netCA.pem use-temp-files keep-temp-files
as well (with variations), the use-temp-files=/tmp/tempfile.txt is I
used in my example below is plainly wrong.
Stephan Beck:

@_date: 2016-11-25 13:36:00
@_author: Stephan Beck 
@_subject: Is --export-ssh-key functionality possible with GnuPG 2.0? 
Thanks, Peter. [no irony] Wherever you shed your light, I'm a bit more
Peter Lebbing:
Well, one could and should immediately delete this file. I should have
mentioned it.
Would you please describe more in detail where (or in which way, in
which use case) the window is left open?
AFAIK, more secure than 0600 is not available within (secure) GNU/Linux
(Unix) file permissions.
I'm really interested. I'm facing adversaries like the local Jobcenter
mafia with all the allies they have and I need to be better than them.
I see. Yes, even better. A directory as another barrier.
Yes, that sounds good. Nice trick putting the OLD_UMASK into a variable
for later recovery.

@_date: 2016-11-25 14:33:00
@_author: Stephan Beck 
@_subject: What are those attachments you have on your email? 
Sorry, David, for arriving a bit late to the party..., I had to answer
Peter who had addressed several list mails in reply to mine yesterday
and it took me a while.
Yes, as Brian says, the verify command expects an .asc signature file
and a message or a file signed with it as input. By
using/fetching/retrieving the signer's key gpg verifies that this
message/file really was signed by the one who claims to be the signer.
David Adamson:

@_date: 2016-11-26 20:17:00
@_author: Stephan Beck 
@_subject: What are those attachments you have on your email? 
David Adamson:
If you used a PGP/MIME compliant email client (may it be Claws or
Thunderbird with the Enigmail plugin) you'd see the signature file as an
attachment to the email, and by importing (or retrieving and importing
it, if not yet present in the keyring) the sender's public key using the
appropriate commands of this email client or the respective plugin like
Enigmail, "you" could verify the signature, i.e. verify that the signed
message was effectively signed with the private (signing) key of the
holder of the respective public key. (The corresponding plugin such as
Enigmail verifies the signature automatically when you select the message)
If you used a non PGP/MIME email client (without any plugin of this
kind) or a webmail interface (not capable of handling such messages) you
would not be able to directly process the attachment for verifying purposes.
But you could open the message's header ("View Source" command) copy and
paste the signature including the --- BEGIN/END --- parts (see below)
into a text file, save it with .asc file extension
and verify it by means of gpg (or the dedicated gpgv package).
gpg2 --verify signature.asc signed_message_text.txt.
If it is a public key, you can copy and paste it (including the ---
BEGIN/END --- parts) into a text file, save it with the .asc file
extension and import it directly into your keyring using the
gpg2 --import command
-----BEGIN PGP SIGNATURE---
-----END PGP SIGNATURE-----
or (in case of a public key)
-----BEGIN PGP PUBLIC KEY BLOCK-----
[PUBLIC KEY in armored format]
-----END PGP PUBLIC KEY BLOCK-------
I actually don't know gmail well, so I cannot tell you (but you can)
whether gmail has any type of PGP/MIME handling webmail-based apps.
If not, the PGP/MIME signature attachment cannot be "processed" directly.
But you could save the attachment as .asc file (seemingly you did that),
save the message as a text file and put both (first the signature file)
on gpg's command line (see above) to verify the signature (key will be
retrieved by gpg if it's not yet present.)

@_date: 2016-11-26 20:33:00
@_author: Stephan Beck 
@_subject: Is --export-ssh-key functionality possible with GnuPG 2.0? 
Oh indeed! I didn't catch it at first glance that you were referring to
that short moment between creating the file and chmod 0600!
I thought I missed something with secure file permissions. :-)
I only could say that I was "blinded by the light" you shed, but I won't
Peter Lebbing:

@_date: 2016-11-26 21:04:00
@_author: Stephan Beck 
@_subject: Is --export-ssh-key functionality possible with GnuPG 2.0? 
Hi Teemu,
Teemu Likonen:
I have compiled and installed gnupg-2.1.16 into the home directory to
study it but nevertheless cannot really use it at the moment as I still
have 2.0.x installed. I read that de-installing 2.0.x would rise
problems, and for the smart card type I currently use, according to the
manufacturer, it's better to stick to 2.0.x. But I'm curious! I consider
installing and using it on another machine.
That being said, 2.1. allows for the merging of secret keys, so I guess
it's possible to keep on using your secret A-capable (sub)key.
But I don't know for sure whether the conversion process of the
secring.gpg mastered by gpg 2.1. will change any
(mathematical/technical) properties of the key(s) (as I haven't done it
for now) or not. In any case, it's good to back up the secret key (and
the public part of the secret key) before piping it through the
openpgp2ssh monkeysphere tool.
I read that gpg 2.1 only touches secring.gpg once (for conversion) and
never again. So if you re-import it to secring.gpg after that moment,
maybe you could still use it with an installed 1.4.x version and then it
really is the SAME key.
Unfortunately I cannot tell you YES or NO for sure, but maybe a list
fellow has already went through that process and is willing to give his
2 cent.

@_date: 2016-11-26 21:38:00
@_author: Stephan Beck 
@_subject: Trying to figure out what's going on with a key update failure... 
Anthony Papillion:
Thanks, Anthony. I'll have a look into libpgp-error, maybe I can find
some info. The message may have been altered (tampered).

@_date: 2016-11-26 23:17:00
@_author: Stephan Beck 
@_subject: Trying to figure out what's going on with a key update failure... 
Stephan Beck:
Oops, I wrote and then I thought.
To speak with the libgcrypt manual (libgcrypt uses libgpg-error)
This manual is for Libgcrypt (version 1.4.4-svn1342, 20 October 2008),
which is GNU's library of cryptographic building blocks.
   Copyright (C) 2000, 2002, 2003, 2004, 2006, 2007, 2008 Free Software
Foundation, Inc.
     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU General Public License as
     published by the Free Software Foundation; either version 2 of the
     License, or (at your option) any later version. The text of the
     license can be found in the section entitled "GNU General Public
     License".
"Some error values do not indicate a system error or an error in the
operation, but the result of an operation that failed properly."
So, nothing to be found there, apart from the fact that it's an example
of the NO_DATA error.

@_date: 2016-11-27 00:06:00
@_author: Stephan Beck 
@_subject: Trying to figure out what's going on with a key update failure... 
Hi Anthony,
Anthony Papillion:
There are several possibilities (1,2,3,4), but it seems to be an
encoding issue or a line-wrapping issue.
Could you try to decrypt once again adding the --list-packets option
Depending on the additional output you get you can narrow down the error
(1) (4)

@_date: 2016-10-04 11:00:00
@_author: Stephan Beck 
@_subject: recording and retrieving "secrets" into gpg files 
Hi Arbiel,
Arbiel (gmx):
Ah, ok, you were still with that, so it was sort of misunderstanding.
For me it wasn't quite clear whether your new question really had
anything to do with your old (storing secrets in gnome-keyrings), or
whether (what I thought at last) it was a new one and generic. So I gave
you two links, one for bash scripting in general, and the one related to
gpg (as an example) for bash scripting concerning gpg. No, that file
verification bash scripting hasn't anything to do with storing secrets
in keyrings. I looked again but haven't found anything specific related
to your question.

@_date: 2016-10-05 12:27:00
@_author: Stephan Beck 
@_subject: Agent forwarding failure when the socketdir was autodeleted 
Daniel Kahn Gillmor:
So, ssh does not even create the socket if you set
STREAMBINDUNLINK yes
in /etc/ssh/ssh_config (or give the correspondent -o option on the
command line, client-side)?
If this is the case (still no socket/socketdir creation), it may help
adjusting the ~/.profile of the remote account (if permissions allow it)
you log into, adding the following, as seen on (1), provided that you
log in from the console. Quote follows below.
Kyle Amon has provided the following bit for a .bash_profile:
        #
        # setup ssh-agent
        #
# set environment variables if user's agent already exists
[ -z "$SSH_AUTH_SOCK" ] && SSH_AUTH_SOCK=$(ls -l /tmp/ssh-*/agent.* 2>
[ -z "$SSH_AGENT_PID" -a -z `echo $SSH_AUTH_SOCK | cut -d. -f2` ] &&
SSH_AGENT_PID=$((`echo $SSH_AUTH_SOCK | cut -d. -f2` + 1))
[ -n "$SSH_AUTH_SOCK" ] && export SSH_AUTH_SOCK
[ -n "$SSH_AGENT_PID" ] && export SSH_AGENT_PID
# start agent if necessary
if [ -z $SSH_AGENT_PID ] && [ -z $SSH_TTY ]; then  # if no agent & not
in ssh
    eval `ssh-agent -s` > /dev/null
[Quote end]
If you re-connect to the remote machine and login to the user account
(from the console) an ssh-agent (if not already started) is (hopefully)
being started on the remote machine and creates the directory and socket
in /tmp.
Or, another idea, is to use a specific local script and execute it on
the remote server (or to use COMMAND option from the command line and
execute it on the remote server): Quote from (2)
Executing a Local Script on a Remote Linux Server
$ ssh [user] 'bash -s' < [local_script]
If all this did not help, and, consequently, systemd (itself) on the
remote machine had to be tricked into preserving (or automatically
recreating) the /gnupg directory, I were a bit lost, but at least I had
read through a bunch of very interesting docs I can make use of myself.
(1)

@_date: 2016-10-05 12:44:00
@_author: Stephan Beck 
@_subject: Agent forwarding failure when the socketdir was autodeleted 
Oh, just seen Werner's answer :-)
Well, I had a good time reading the mentioned docs ;-)
Stephan Beck:

@_date: 2016-10-14 11:23:00
@_author: Stephan Beck 
@_subject: unable to decrypt a mail coming from apple mail 
have you checked the bug tracker at (1) ?
There are several entries for
gpg: decryption failed: No secret key.
when you enter this very phrase into the search entry mask.
Maybe there you'll find what you are looking for.
(1)

@_date: 2016-10-17 16:35:00
@_author: Stephan Beck 
@_subject: Fwd: Re: regular update of all keys from a keyserver 
I forgot to send it to the list as well...
-------- Forwarded Message --------
Reply-To: stebe at mailbox.org
Hi Martin,
Martin T:
Yes. To protect you and your contacts from an eavesdropper (may it be
the ISP or someone else), you may refresh your keyring over the Tor
Network, using Parcimonie (1), which opens another circuit for every
single refreshing action (one refreshing action, one refreshed key),
thus slowly refreshing the whole keyring. Actually, it works with gpg
v1, I've never got it working with gpg2, though. If someone out there
knows how to adapt it for use with gpg2, go ahead and tell us!
Well, you don't tell us anything about your system or your gpg version,
but another way (with gpg 2.1.10 or later) is using the in-built support
for refreshing your keyring via Tor using --use-tor option.
Quote from the 2.1.10 announce mail (2):
 * dirmngr: New option --use-tor.  For full support this requires
   libassuan version 2.4.2 and a patched version of libadns
   (e.g. adns-1.4-g10-7 as used by the standard Windows installer).
If you do not use or do not want to use Tor, I'd recommend using at
least https in any case, retrieving the certificate of
sks-keyservers.netCA.pem first (3), verifying it and copying it into
your gnupg home directory, and adding it to the keyserver section in
I'd never refresh my keyring over plain http, because, yes, we "should
all have something to hide" (4), whatever the threats may be that are
already knocking on our doors and whoever might tell us that this battle
is lost or useless.
(1) (2) (3) (4)

@_date: 2016-10-18 11:11:00
@_author: Stephan Beck 
@_subject: reviewing wiki / shortlist PIN-pad readers 
NIIBE Yutaka:
Just one note for now:
For example, The Nitrokey Storage (1,2), a usb crypto stick with
integrated card reader) is 100% open source, free software, verifiable
firmware. On the other hand, it has no pinpad.
There may be others (with free software), but I don't know of them. I
just use the Nitrokey, without having any ties with its makers.
If lack of PIN-pad device is not a knock-out criteria, you might ask
them about quantities and conditions.
(1)  (comparison table at bottom of page)
(2) (3)  (quick overview)
(with links to the actual security audit pdf's)

@_date: 2016-10-18 15:40:00
@_author: Stephan Beck 
@_subject: smartcard reader 
Hi Liz,
Elizabeth Ferdman:
As stated at
you can order gnuk token at/from
I just picked out this one, may another one pick out a different list item.

@_date: 2016-10-18 22:21:00
@_author: Stephan Beck 
@_subject: Why doesn't gpg-agent forwarding work? 
Hi Kevin,
Kevin Gallagher:
Have you considered adding the debug flag to the command (--debug-level
And if you'd try to add this to the VM's .bashrc file via ssh/scp
(assuming that the Vagrant's VM is headless and has a bash)
if [ -f "${HOME}/.gpg-agent-info" ]; then
     . "${HOME}/.gpg-agent-info"
       export GPG_AGENT_INFO
       export SSH_AUTH_SOCK
       export SSH_AGENT_PID
Wouldn't that start the "target shell" (forcibly) with the agent being
fired up and all ready for sshing?

@_date: 2016-10-19 08:29:00
@_author: Stephan Beck 
@_subject: Why doesn't gpg-agent forwarding work? 
Hi, (update)
Stephan Beck:
No, positively not via ssh, as you reported that this, precisely, ssh
access is failing! So, just modifiying .bashrc manually.

@_date: 2016-10-19 08:17:00
@_author: Stephan Beck 
@_subject: smartcard reader 
NIIBE Yutaka:
Went there and bookmarked it. I even went to
 and gave it a thorough read.
It's a clear, concise and well-structured doc.
The next one I'll try out will be the gnuk token.
I haven't found any information on whether gnuk token (as an
implementation of reader and card) accepts the exchange of the
integrated card (for another one)? That was one of the main reasons for
the Nitrokey Storage (based on Atmel
AT32UC3A3256S) now (in theory) permitting the exchange of the integrated
card, people like FSFE members, for instance, could not use Nitrokey Pro
as they have their own card.
Yes, I also read that they use Gnuk.
Thanks, I read the report on gnupg.org, I'll take a look at the slides.
Thanks again for this very valuable first-hand information.
Cheers (cup of coffee!)

@_date: 2016-10-19 12:15:00
@_author: Stephan Beck 
@_subject: reviewing wiki / shortlist PIN-pad readers 
Werner Koch:
Unfortunately, yes. At the time I was interested in beginning to use a
smart card, my focus was on the USB tokens, as I wanted to have a device
where card and reader are integrated. At that time, I didn't know of any
free software implementation other than this (which is only partially
resolved, it's true), and I did/do have a particular threat model. With
NK Storage, it should be easy to exchange the cards. On the other hand,
everyone has to know the budget he/she can spend on new devices every x
months. I'm unemployed at the moment, so I can't whitewash my free
software chemise that quickly and will have to wait a bit...
Cheers (another cup),

@_date: 2016-09-08 11:40:00
@_author: Stephan Beck 
@_subject: Key Discovery Made Simple 
Hi Christopher,
Christopher Beck:
 So, what's
(and un-
Within the WoT the certificate chain relies on the ultimate fact that
you have physically met at least one WoT member in persona, and that
each of you has checked that the other's ID document is valid and that
the photo corresponds to him/her, and exchanged and verified the
fingerprints of your pubkeys (off-line key verification). Then you send
the signed key to the other person. As your pubkey is now signed by a
person of the WoT and his key signed by you (and you updated your keys
with the new signature(s) on a keyserver), you are also "associated"
with other members of the WoT that the WoT member is directly associated
With the WKS [1] it is not necessary to (physically) have met a person
beforehand. The server (of the mail provider) checks that a key sent
with/from the generated submission address has a user ID that really
corresponds to a legitimate mail address (account) of the user on that
server of the provider by sending a message containing a nonce and the
fingerprint. After a successful verification the key is published.
There is no offline key exchange/verification, although you might think
of "WKS users" that then meet in person and, additionally, do that.
What you mean with "untrustworthy" is (1) that you have to trust the
mail provider setting up the wks service and (2) that there is no
initial step of offline key exchange/verification, don't you?
I think it's to push the mass usage of OpenPGP keys (given the fact that
the WoT grows at a speed that is too low) but you surely have to rely on
the mail provider's trustworthiness. But there is no obstacle for doing
an off-line verification afterwards.
But I'd also like to know more about possible weak points related to the
usage of WKS.
Christopher Beck:

@_date: 2016-09-09 09:55:00
@_author: Stephan Beck 
@_subject: gpg-agent only works when started in terminal 
Hi Antony,
just some ideas to (possibly) track it down...
Antony Prince:
AFAIK, this means that the agent is not started when you "invoke gpg2
normally" (directly from the command line?), so the environment may be
incorrectly set. Or is there more than one agent instance running?
What does a
gpg-agent --daemon --write-env-file
output in terms of GPG-AGENT_INFO?
Is the correct socket being used?
And you symlinked /usr/bin/pinentry and the pinentry you might actually use?
Yes, because using --daemon /bin/sh the environment is reset.

@_date: 2016-09-10 18:56:00
@_author: Stephan Beck 
@_subject: :-(( Re: smart card no longer works 
Hi Philip,
Philip Jackson:
Have you recreated the key stubs on the new system after having imported
your public key first?
And before, still on 14.04, did you use the --export-secret-keys command?
Which were the steps you have taken for "migrating" keys to the new
And, by the way, does the screen output in your previous mail really
show that a subkey with the same ID as the pubkey (so, a duplicate of
the pubkey) is being used for decrypting a file encrypted to your
pubkey? I mean, that wouldn't make sense in terms of public key
cryptography and is duly canceled by gpg.
Am I missing something?

@_date: 2016-09-11 17:49:00
@_author: Stephan Beck 
@_subject: :-(( Re: smart card no longer works 
Philip Jackson:
Which type of smartcard do you have? Which gnupg versions were installed
on the the old system and with which of it did you generate keys?
It might be possible, though, that the error is somewhere else, so you
may gather more information first using gpg with the --debug-level
expert option, and checking the BTS (and the smartcard's support site)
to rule out other causes.

@_date: 2016-09-11 17:50:00
@_author: Stephan Beck 
@_subject: :-(( smart card no longer works 
Peter Lebbing:
Thanks, Peter. Yes, this referring to the key in several ways lead to my
confusion (and I didn't even try to reproduce the situation). But you
put your light and confusion is gone :-)

@_date: 2016-09-16 20:09:00
@_author: Stephan Beck 
@_subject: :-(( Re: smart card no longer works 
Philip Jackson:
Sorry for the delayed response.
It's not enough to simply copy and paste all the files into the new
~/.gnupg directory, as you write you did in your previous mail. You have
to run gpg2 with the --import option to import your public key and then
(having your smartcard inserted and doing a gpg2 --card-status) generate
key stubs for the secret subkeys on the new system.From what you say, it
seems that you haven't done this. It's my wild guess that things may
have gone wrong there.
But as I don't know the detailed steps you took including those with
gpg4win on Windows7, I simply refer you to two docs (1,2) I found useful.
(1) They may talk about other smartcards (I do not promote any!) than you
have and/or not match exactly your use case, but are quite detailed and
may be useful for detecting whether there is a particular step you might
have missed.

@_date: 2016-09-19 11:02:00
@_author: Stephan Beck 
@_subject: :-(( Re: smart card no longer works 
Philip Jackson:
Another wild guess: maybe it's because the ownertrust values of your own
public key have not been imported together with the key. You have to
reassign trust.
gpg2 --edit-key [yourkeyID]
gpg> trust
Another way (I forgot to mention this in my previous mail)
is to import your key with
gpg2 --import-keep-ownertrust [yourkeyID]
Then the ownertrust value is being imported as well.
Does it change anything with respect to your verification problems?

@_date: 2016-09-21 11:47:00
@_author: Stephan Beck 
@_subject: :-(( Re: smart card no longer works 
Philip Jackson:
Oops, sorry for having omitted the "--import-options" and the bad
syntax. I haven't used the command for a while and I typed it from
memory. But I'm glad you could solve the verification issue.

@_date: 2016-09-25 06:35:00
@_author: Stephan Beck 
@_subject: Compilation problems while building GnuPG 2.1.15, no TLS no 
I sent this message yesterday at midnight and it hasn't made it to the
list yet, so I resend it.
Stephan Beck:

@_date: 2016-09-26 11:16:00
@_author: Stephan Beck 
@_subject: Fwd: Compilation problems while building GnuPG 2.1.15, no TLS no 
I learned that speedo does not pull in ALL development files needed for
compiling, it pulls in GnuPG's libraries.
Now, I only have a problem with libgnutls28-dev, the only dev package of
gnutls I can see in the package manager (Debian Jessie). It has
dependencies on other installed gnutls components apt/synaptic cannot
resolve on my specific intallation.
-------- Forwarded Message --------
Reply-To: stebe at mailbox.org
compiling the latest version of GnuPG, there were some config errors and
gnupg was compiled without TOFU and TLS, although I have installed the
packages gnutls-bin and sqlite3 after a first compilation run had given
the same result.

@_date: 2016-09-26 11:26:00
@_author: Stephan Beck 
@_subject: Compilation problems while building GnuPG 2.1.15, no TLS no 
Thanks, Werner.
Werner Koch:
I just read your email after having sent my previous message. I will try
to resolve dependency problems concerning libgnutls28-dev because I'm
keen on using the latest version, finally!
Many thanks.

@_date: 2016-09-30 10:12:00
@_author: Stephan Beck 
@_subject: automate pga clipboard 
tim.dclinc at gmail.com:
I never have used any automated mode with gnupg and usually I use a
smartcard, but, generally speaking, you have to use the --batch option
and provide your passphrase via command line.
gpg2 --batch --passphrase-file [passphrasefile] --recipient [uid or
fingerprint of recipient's key] --sign --encrypt [yourtext.txt]
But I'm not sure. Please (more expert people) correct me if I am wrong.

@_date: 2016-09-30 15:30:00
@_author: Stephan Beck 
@_subject: recording and retrieving "secrets" into gpg files 
Hi Arbiel,
Arbiel (gmx):
Bash scripting in general?
related to gpg? For instance,

@_date: 2017-01-19 09:06:00
@_author: Stephan Beck 
@_subject: Counterarguments Supporting GnuPG over Off The Record (OTR) 
15-20 years from now, OpenPGP will have expired and be a case of study
for computer historians.
Christian Heinrich:

@_date: 2017-01-24 14:52:00
@_author: Stephan Beck 
@_subject: Counterarguments Supporting GnuPG over Off The Record (OTR) 
And sometimes even organizations that in theory should help you against
surveillance don't do it. When I discovered that my phone has been
wiretapped by measuring with a dedicated bug detector (German make and
model, and recording that measurement on video) I officially informed
the police who didn't do anything except telling me I should hand in a
proof/evidence. I did - the video of the measurement where you can
clearly see and hear the sharp reaction of the bug detector. They didn't
want to anything, not an on-site control measurement either, as another
lawyer had told me they are obliged to.
When, shortly after that,  I told a lawyer to have insight into the
records of the investigations, he did that, showed me the records, and
didn't do anything, he told me for instance, that the police would only
perform a control measurement if their own undercover agents are in
danger! And that I'd need the expertise of a dedicated engineer doing an
analysis for I don't know how many bucks! No, the bug detector doesn't
lie and he does not measure cheese or ham but the signals of , for
instance, radio emitting devices. He even silenced the fact (as I now
was informed by the State Prosecutor, if I believe this information)
that by the time I had the meeting with him for the insight into the
records, the case had already been rejected for further investigation
and dropped. Or that information is not true, because this lawyer
actually told me in person he would inform me when he received any
information. Strange.
When I sent an encrypted email to Digitalcourage.de about nine months
ago, telling them that I had evidence and asking for help in finding a
good lawyer who would act (I have a specialized legal insurance), I got
a "sorry, we can't help you but we wish you success". Thanks a lot.
From that time on, I know that organizations like Digitalcourage are
just interested in THEIR protagonism for THEIR topics like the mass
storage of data. They couldn't or didn't want to help me as an
individual who had found out (by measurement) that someone was/is
wiretapping me, but they positively could have given me the contact data
of a specialized lawyer they knew (with more than 30 years of
existence). I also signed their petition against mass storage of
communications data in Germany and saw that they must have contacts to
lawyers, as I already had thought. I have held my deception about them
deep in my heart, but now could not withstand to stand up and speak out.
It was not my imagination, it was a MEASURING DEVICE that states that
there has been wiretapping of my phone line. And there is this video
file that leaves you with no doubt...
Whenever I feel like repeating it, I'll do that and I'll inform once
again the police (or the media) and so on... THAT is fighting against
surveillance, not (only) signing petitions.
Feel free to contact me if you'd like to have that video file ...
