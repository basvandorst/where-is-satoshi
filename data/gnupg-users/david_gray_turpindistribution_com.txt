
@_date: 2006-05-09 18:26:02
@_author: David Gray 
@_subject: Rijndael usage  
Hello all, Wonder if anyone could give advice on using GnuPG to decrypt Files encoded with the Rijndael cipher.  One of our customers is using a software house to build a website that will send encrypted order files to us (the distributor of their stock).  The
files Are basically CSV format data files.   I've received an email from them containing two symmetric keys for testing purposes.  These do not look like any I've seen before...  key: "ABCDE%^$ABCDE-99" and iv: "ABCDE$*
(Values changed for email) I've used GnuPG and PGP in the past and keys have always distributed as text
files In the format below
-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: GnuPG v1.2.3 (OpenVMS/Alpha)
-----END PGP PUBLIC KEY BLOCK-----
Which can be imported into the local keyring and then used from there.  I've asked for an example of how the software house use these keys
internally but The example they gave is in C# which I don't know. I'm going to do the decryption on OpenVMS but could certainly translate a
unix style command line example if anyone could post. Thanks in advance David.

@_date: 2006-05-10 10:07:04
@_author: David Gray 
@_subject: Rijndael usage 
Hi David, Thanks for the info, even if it's not what I wanted to hear.  :-)  What do you mean by "raw Rijndael"?   The C# code that the software house are using is shown below,  even if I clone this program am I likely to be able to decrypt without them sending me a key in ASCII format? Thanks David. public string DecodeString(byte[] encodedsource)
        {
            System.Text.UTF8Encoding encoding = new
            byte[] bytes = encodedsource;
            MemoryStream memstream = new MemoryStream();
            memstream.Write(bytes, 0, bytes.Length);
            memstream.Position = 0;
            SymmetricAlgorithm algorithm =
            algorithm.Key = key;
            algorithm.IV = iv;
            ICryptoTransform transform = algorithm.CreateDecryptor();
            CryptoStream cryptstream = new CryptoStream(memstream,
transform, CryptoStreamMode.Read);
            StreamReader reader = new StreamReader(cryptstream);
            string returnstring = reader.ReadToEnd();
            memstream.Dispose();
            reader.Dispose();
            cryptstream.Dispose();
            return returnstring;
        }
-----Original Message-----
Sent: 09 May 2006 22:16
You can't use GPG or PGP to decrypt this.  It looks like they're encrypting
using raw Rijndael.
Gnupg-users mailing list
Gnupg-users

@_date: 2006-05-26 13:17:09
@_author: David Gray 
@_subject: question about compiling gpg with cygwin 
Hi all, Just starting a project where one of our customers will be sending encrypted data files from their windows based servers to be decrytpted on our VMS servers.   They have not yet decided which product they will use for for encryption but I'm hoping to steer them down the GnuPG path as I've done a quick test and it works perfectly between those two operating systems.  One question they have asked which I'm not sure of the answer is that can GnuPG handle the AES256 alogorithm?  The gpg --version on my VMS system shows... $ gpg --version
gpg (GnuPG) 1.2.3
Copyright (C) 2003 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it under certain
conditions. See the file COPYING for details.
Home: /SYS$LOGIN/gnupg
Supported algorithms:
Pubkey: RSA, RSA-E, RSA-S, ELG-E, DSA, ELG
Cipher: 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH
Hash: MD5, SHA1, RIPEMD160, SHA256
Compression: Uncompressed, ZIP, ZLIB
AES256 is listed as a cipher but not a public key?  What is the The difference?  I was hoping to use asymmetric keys with me Giving the public key to the customer.  As mentioned before this all Works fine but I'm not sure which alogorithm I'm using when encrypting. So after all that my question really is, how do I set the alogorithm to
AES256 in windows so I can test decrypts on VMS? Thanks in advance
Dave

@_date: 2006-05-26 18:17:45
@_author: David Gray 
@_subject: Cipher v public key.  
Hi all, Just starting a project where one of our customers will be sending encrypted data files from their windows based servers to be decrytpted on our VMS servers.   They have not yet decided which product they will use for for encryption but I'm hoping to steer them down the GnuPG path as I've done a quick test and it works perfectly between those two operating systems.  One question they have asked which I'm not sure of the answer is that can GnuPG handle the AES256 alogorithm?  The gpg --version on my VMS system shows... $ gpg --version
gpg (GnuPG) 1.2.3
Copyright (C) 2003 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it under certain
conditions. See the file COPYING for details.
Home: /SYS$LOGIN/gnupg
Supported algorithms:
Pubkey: RSA, RSA-E, RSA-S, ELG-E, DSA, ELG
Cipher: 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH
Hash: MD5, SHA1, RIPEMD160, SHA256
Compression: Uncompressed, ZIP, ZLIB
AES256 is listed as a cipher but not a public key?  What is the The difference?  I was hoping to use asymmetric keys with me Giving the public key to the customer.  As mentioned before this all Works fine but I'm not sure which alogorithm I'm using when encrypting. So after all that my question really is, how do I set the alogorithm to
AES256 in windows so I can test decrypts on VMS? Thanks in advance
Dave

@_date: 2006-05-30 16:05:15
@_author: David Gray 
@_subject: Cipher v public key. 
Hi, Yes I've had a few people tell me that the version I'm using needs upgrading so I'm going to download the latest version from HP. I would like the exchange of encrypted data to be using asymmetric keys and
this is the route I'm trying to steer the customer.  They have said they want
AES256 as the encryption algo but are open to advice on symmetric v asymmetric.  A concern they have expressed is that if we use pubkey then the secret key
needs to be generated by me. they don't seem too keen on this as they would like
to have control over this and have the option to change the key twice a year.  As I understand it this then means we have to look at secure options for them distributing the secret key to me.  They are looking into a
commerical method for key delivery right now. Whilst typing this message the download link has arrived for GPG from HP.
The version they host is...
GNUPG-1_2_3_AXP.EXE    !     for Alpha GNUPG-1_2_3_VAX.EXE    !     for VAX Anyone know if the later versions are available for VMS? Thanks Dave -----Original Message-----
Sent: 26 May 2006 17:35
This is an old version.  You should probably consider upgrading to 1.4.3.
Asymmetric and symmetric algorithms are fundamentally different.  They work
in different ways and are used for different purposes.  For that reason, the
asymmetric algorithms ("pubkey") are listed separately from symmetric
algorithms ("cipher").
The terminology is, admittedly, a bit confusing.
First decide the kind of encryption you want.  AES256 just says "I want
AES256 to be part of the solution"; it doesn't declare what the solution is
going to be.
AES256 can be used as part of RFC2440 messages (OpenPGP).  AES256 can be
used as part of GnuPG symmetrically-encrypted messages, with no public keys
involved.  Or AES256 can be used as a raw algorithm in any of many different

@_date: 2006-05-30 16:40:14
@_author: David Gray 
@_subject: Cipher v public key. 
(AES, CAST5, TWOFISH, etc) when you encrypt.
Sorry I may be missing the point but why does it now show AES or AES256 as a
pukey? Home: /SYS$LOGIN/gnupg
Supported algorithms:
Pubkey: RSA, RSA-E, RSA-S, ELG-E, DSA, ELG
Cipher: 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH
Hash: MD5, SHA1, RIPEMD160, SHA256
Compression: Uncompressed, ZIP, ZLIB
Dave

@_date: 2006-05-30 19:44:01
@_author: David Gray 
@_subject: V1.4.3 for VMS  
Hi, Does anyone know if GnuPG v1.4.3 has been ported to VMS?  I can't find it anywhere on the net and the version hosted by HP is
v1.2.3 Dave.

@_date: 2006-05-31 11:59:33
@_author: David Gray 
@_subject: Cipher v public key. 
I meant why does it not show AES256 and also meant pubkey not pukey. More speed less haste I think :-) AES is listed as a cipher, because ist is an algorithm for symmetric
encryption. It cannot be used as a public/secret-key algorithm (neither now,
nor in future).
Ok, thanks for the clarification. Dave

@_date: 2006-05-31 14:56:19
@_author: David Gray 
@_subject: Signing vs. encrypting was: Cipher v public key. 
Hi, Thanks to all who have responded to these questions.  Getting my head around
it Now.  Will suggest to the customer that we use signed & encrypted transmissions.
The only Issue we then have is that they wish to be custodians of the private key,
they are Looking into commerical methods for secure key distribution. The other issue is the IT manager at the customer site is wary of Gnu
software and is Going to look at commerical offering, PGP I assume.  Apart from the lack Of cost are there any other good reason I can give for using GPG? Thanks Dave Hash: SHA1
Laurent Jumet schrieb:
 >     When sending a message like this one, signed, compressed but not
In security terms, lots of things can go bad when sending anything through
the internet ;-)
Encrypting protects against unauthorised reading of the plaintext, but not
from manipulating the encrypted data. Signing protects against manipulation
of the data, but not against unauthorised reading of the plaintext. (In fact
it does not avoid the manipulation itself, but you are able to detect, that
the data has been manipulated).
Signing and encrypting are two totally different things (not to mention
compressing). So if you want "save" transmissions you have to do both,
signing and encrypting!
Problems with line length and charset shouldn't occur during the
transmission of your mails, because Mail Transport Agents don't take care of
the mailbody (and the headers are not signed or encrypted). What exactly do
you want?
Gnupg-users mailing list
Gnupg-users

@_date: 2009-11-02 10:38:56
@_author: David Gray 
@_subject: No secret key under different account 
What are peoples thoughts on which is the best option: a) copy the secring.gpg & pubring.gpg files to the second user account? b) export and import the keys to the second user account? c) add a reference to the second account's gpg.conf file? Also could anyone please give me an example of the syntax for adding keyring
references to gpg.conf? Thanks Dave -----Original Message-----
Sent: 30 October 2009 21:27
Add the extra keyring(s) with 'keyring ' or 'secret-keyring ' line(s) in those users' gpg.conf file

@_date: 2009-11-02 10:51:46
@_author: David Gray 
@_subject: gpg.conf  
Could anyone point me in the right direction for a manual/examples on how to edit the gpg.conf file for GnuPG 2.0.12 (GPG 4 Win)? The pdf manual which gets installed with this kit contains no references
and the readme only tells me that gpg.conf gets created during install.
I would like to see examples of how to add further keyrings but also it
would be good to know what other options & features could be used if
configured properly. Thanks Dave Registered Office: Turpin Distribution Services Ltd, Pegasus Drive, Stratton Business Park, Biggleswade, Bedfordshire, SG18 8TQ, UK. ***** Registered in England No. 1331778 ***** This email may contain confidential information and/or copyright material. This email is intended for the use of the addressee only. Any unauthorised use may be unlawful. If you receive this email by mistake, please advise the sender immediately by using the reply facility in your email software.

@_date: 2009-11-02 12:09:00
@_author: David Gray 
@_subject: gpg.conf 
Hello John, Thanks for the man page and skeleton file for gpg.conf, both very useful.  The main issue at the moment (thread: "No secret key under different account") is how to access the keyring files under a different account.  I'm looking for the best (least duplication of data/settings ) solution to this and someone suggested adding a reference to gpg.conf.  I've installed GPG under the 'Administrator' account but the C# executable which runs GPG, will run from a SQL Server 2005 agent job, the account for this is SQLService, therefore this account needs to see the keyrings owned by Administrator.
Apart from that it's good to see what else can be changed and the skeleton you sent me is a good place to begin. Dave Hash: SHA1
For a server, I'd recommend GnuPG 1.4.10 - at least it comes with the man page Werner has said that gpg4win is more of a desktop application
Attached are the gpg man page as well as an (out-of-date, sorry) options.skel that explains a lot of the common options.
Perhaps if we knew exactly what it is you're trying to accomplish.  There are many ways of sharing keyrings, which is best is difficult to say without more information.
If you'd like, you may email me directly

@_date: 2009-11-04 11:43:42
@_author: David Gray 
@_subject: gpg.conf 
Hi Michel, Thanks for the information, most useful. David -----Original Message-----
Sent: 02 November 2009 11:10
Within this manual you'll find:
    This is the standard configuration file read by gpg2 on startup. It may contain any valid long option; the leading two dashes may not be entered and the option may not be abbreviated. This default name may be changed on the command line (see option ?options). You should backup this file.
Valid options are listed in Use the "keyring" option:
--keyring file
    Add file to the current list of keyrings. If file begins with a tilde and a slash, these are replaced by the $HOME directory. If the filename does not contain a slash, it is assumed to be in the GnuPG home directory ("~/.gnupg" if --homedir or $GNUPGHOME is not used).
    Note that this adds a keyring to the current list. If the intent is to use the specified keyring alone, use --keyring along with --no-default-keyring. Gnupg-users mailing list
Gnupg-users at gnupg.org

@_date: 2009-11-09 15:55:15
@_author: David Gray 
@_subject: No secret key under different account 
Hi, Thanks for the info & detailed response.  I'm going to go with option C as you suggest.  Must admit I hadn't realised that .MAN pages are the docs. Dave -----Original Message-----
Sent: 02 November 2009 12:02
it depends on what you are trying to accomplish. Any of the above may be the best option for a given set of requirements. If I wish to use my keys on a new machine, option a or redirecting gpg.conf to keyrings (& trustdb) on portable media is probably the route I'd take.
If I wanted to share a central keyring of, for example, customer keys, I probably go with option c.
primary-keyring		pubring.gpg
keyring         	O:\GnuPG\pubring.gpg
keyring			strong.gpg
keyring			trusted.gpg
secret-keyring  	secring.gpg
secret-keyring  	O:\GnuPG\secring.gpg
These should be explained in gpg2.man which should be in the share\gnupg directory under gpg2's onstallation directory, default on Windows:
C:\Program Files\GNU\GnuPG2\share\gnupg\gpg2.man. It can be read with Notepad

@_date: 2009-10-09 12:47:07
@_author: David Gray 
@_subject: Testing the exit status  
Hi, Does GPG return different status codes when it exits? I'm specifically looking for different types of error, such as file not found, key not found, invalid passphrase etc. I'm using the Windows version if that makes any difference.
Dave Registered Office: Turpin Distribution Services Ltd, Pegasus Drive, Stratton Business Park, Biggleswade, Bedfordshire, SG18 8TQ, UK. ***** Registered in England No. 1331778 ***** This email may contain confidential information and/or copyright material. This email is intended for the use of the addressee only. Any unauthorised use may be unlawful. If you receive this email by mistake, please advise the sender immediately by using the reply facility in your email software.

@_date: 2009-10-12 10:29:00
@_author: David Gray 
@_subject: Testing the exit status 
Hi, Thanks for the input. Can you tell me what the numeric arguments are for status-fd?  I've downloaded the source for GPG and looked at the doc/DETAILS file but on Windows this is unreadable. Also it seems as if gpgme is not available for Windows, is this correct?
I'm running GPG from a C# application using the Process class.  If I
understand correctly then you are suggesting I use status-fd to redirect to a file
and then open this to interrogate the results. Thanks & regards
Dave -----Original Message-----
Sent: 10 October 2009 15:14
On Fri,  9 Oct 2009 13:47, David.Gray at turpin-distribution.com said:
This would not be reliable.  There are just too many stati to map them
to exit codes.  What you need to do is to use the status lines
(--status-fd N) - or just go with gpgme.
   Werner

@_date: 2009-10-12 10:56:40
@_author: David Gray 
@_subject: gpgme on Windows 
Hi all, Been doing some searching this morning to see if gpgme is available for Windows and can be used commercially.  Is anyone using this product on
Windows under .net 3.5 (C that can give advice? Also does anyone know where the Windows download site is?
Thanks in advance Dave  Registered Office: Turpin Distribution Services Ltd, Pegasus Drive, Stratton Business Park, Biggleswade, Bedfordshire, SG18 8TQ, UK. ***** Registered in England No. 1331778 ***** This email may contain confidential information and/or copyright material. This email is intended for the use of the addressee only. Any unauthorised use may be unlawful. If you receive this email by mistake, please advise the sender immediately by using the reply facility in your email software.

@_date: 2009-10-12 16:46:20
@_author: David Gray 
@_subject: Testing the exit status 
Hi Werner, Thanks for the info.  I'm still not clear on how to use the argument
"status-fd 2"
though.  Could you possibly give me an example? I originally opened the file doc/DETAILS with notepad but it was quite
unreadable. Downloaded Starksoft GnuPG wrapper but it's not compatible with GPG v2.
Contacted the auther who is looking at an upgrade. David -----Original Message-----
Sent: 12 October 2009 11:00
On Mon, 12 Oct 2009 11:29, David.Gray at turpin-distribution.com said:
That is the file descriptor obn which output should happen.  Usualy you
woul use
  --status-fd 2 to output to stderr; however how can use arbitrary file descriptors.
Read it in an editor (e.g. notepad).  As with all code we use Unix line
endings (LF) and not Windows line endings (CR,LF).
It is available for Windows.  Simply install gpg4win (the light version
is sufficient) and you find the gpgme dll in the install directory.
libgpgme-11.dll is the native one, libgpgme-glib-11.dll is the one to
use with GLIB based software and libgpgme-qt-11.dll the one to use with
QT based software.  Note that the file gpgme-w32spawn.exe must be in the
same directory as the DLL.  The header file is identical for Unix and
Windows, a manual is online at
 .
There is a C# wrapper for GPGME as well, please use a search machine to
locate it.
No, you need to use pipes for that.
   Werner

@_date: 2009-10-29 11:25:30
@_author: David Gray 
@_subject: can't connect to `C:/Program Files/GNU/GnuPG//S.gpg-agent' 
Hi, Has anyone got any idea how to resolve the following error: can't connect to `C:/Program Files/GNU/GnuPG//S.gpg-agent'
I get this error when issuing the following command gpg --passphrase-fd 0 --batch --output out.dat --decrypt in.pgp
This worked fine until a few days ago but now it won't work at all.  There's nothing wrong with the file because it decrypts fine without the
passphrase-fd argument. Setup is Windows XP Pro and PGP is...
C:\Program Files\GNU\GnuPG\Work>gpg --version
gpg (GnuPG) 2.0.12 (Gpg4win 2.0.0)
libgcrypt 1.4.4
Copyright (C) 2009 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Home: C:/Program Files/GNU/GnuPG/
Supported algorithms:
Pubkey: RSA, ELG, DSA
Cipher: 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH,
        CAMELLIA192, CAMELLIA256
Hash: MD5, SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224
Compression: Uncompressed, ZIP, ZLIB, BZIP2
Dave Registered Office: Turpin Distribution Services Ltd, Pegasus Drive, Stratton Business Park, Biggleswade, Bedfordshire, SG18 8TQ, UK. ***** Registered in England No. 1331778 ***** This email may contain confidential information and/or copyright material. This email is intended for the use of the addressee only. Any unauthorised use may be unlawful. If you receive this email by mistake, please advise the sender immediately by using the reply facility in your email software.

@_date: 2009-10-30 14:24:45
@_author: David Gray 
@_subject: No secret key under different account 
Hello all, GPG 2.0.12
Windows Server 2003  I've written a C# application which scans for input files and decrypts using
GPG. This applications works fine when run under the account (Administrator) that
GPG was installed under but when run from a different account (SQLService) I get this error. gpg: encrypted with ELG key, ID 891AB7E7  gpg: decryption failed: No secret
key    Error Decrypting C:\Program
I've given full permissions to the SQLService account. Are there any permissions I need to set within GPG or do I need to specify anything else on the command line when running under a different account? The GPG command looks like this
gpg --passphrase-fd 0 --batch --output KLIOLB_20091005_10021900.TMP
--decrypt KLIOLB_20091005_10021900.PGP
Thanks in advance. Dave

@_date: 2009-10-30 14:57:57
@_author: David Gray 
@_subject: No secret key under different account 
Hi, Thanks for the info, that makes sense. That does however mean that I will end up with two sets of keyring
does anyone know a way to share them to certain priv'd users on a
server. Dave [mailto:gnupg-users-bounces at gnupg.org] On Behalf Of David Gray
Sent: Friday, October 30, 2009 10:25 AM
Hello all, GPG 2.0.12
Windows Server 2003  I've written a C# application which scans for input files and decrypts
using GPG. This applications works fine when run under the account (Administrator)
that GPG was installed under but when run from a different account
(SQLService) I get this error. gpg: encrypted with ELG key, ID 891AB7E7  gpg: decryption failed: No
key    Error Decrypting C:\Program
I've given full permissions to the SQLService account. Are there any permissions I need to set within GPG or do I need to
specify anything else on the command line when running under a different
account? The GPG command looks like this
gpg --passphrase-fd 0 --batch --output KLIOLB_20091005_10021900.TMP
--decrypt KLIOLB_20091005_10021900.PGP
Thanks in advance. Dave  Registered Office: Turpin Distribution Services Ltd, Pegasus Drive, Stratton Business Park, Biggleswade, Bedfordshire, SG18 8TQ, UK. ***** Registered in England No. 1331778 ***** This email may contain confidential information and/or copyright material. This email is intended for the use of the addressee only. Any unauthorised use may be unlawful. If you receive this email by mistake, please advise the sender immediately by using the reply facility in your email software.
