
@_date: 2005-08-03 23:49:06
@_author: Michael Kjorling 
@_subject: Leave clearsigned content encoding alone, how? 
I use gnupg-1.4.1 on GNU/Linux (up-to-date Gentoo, Linux 2.6.12 on
AMD64 if it matters) to sign and encrypt my mail, and everything is
fine as long as I stay with strictly us-ascii. However, when I use
other characters (mostly national characters covered by iso-8859-15),
gnupg converts the input data to UTF-8 when signing, wreaking havoc
with those characters. The fact that gnupg converts back when
verifying or decrypting the data only makes matters worse since *I* am
unaware of the problem that others face in reading my e-mails.
My gnupg.conf explicitly states "charset iso-8859-15" so that cannot
really be the problem. (It's the only charset-related setting in
effect for gnupg, I have checked and triple-checked this.) My MUA,
muttng, correctly identifies the input data prior to signing as
iso-8859-15 and after signing as utf-8, but a lot of mailers don't
seem to deal very well with UTF-8 data. Not clearsigning the message
avoids this problem, but is hardly an ideal solution. PGP/MIME signing
is not really an option either, considering the number of broken MUAs
out there.
This appears to only be a problem with clearsigned messages, not
PGP/MIME messages (for some odd reason) which leads to my question:
How do I get gnupg to ignore the charset of the input data and just
leave it *as is* when clearsigning?
The exact command lines used are (long):
Clearsigning: /usr/bin/gpg --no-verbose  --batch  --quiet  --output -  --passphrase-fd 0  --armor  --textmode  --clearsign  -u $SIGNING_KEY_ID  $FILENAME
PGP/MIME signing: /usr/bin/gpg --no-verbose  --batch  --quiet  --output -  --passphrase-fd 0  --armor  --detach-sign  --textmode  -u $SIGNING_KEY_ID  $FILENAME
No radical differences there, the only one I can see is --clearsign
and --detach-sign and the ordering of --textmode and the signing
I looked through the archives for almost a year back and couldn't find
anything of relevance, but if I missed something, please feel free to
let me know.

@_date: 2005-08-04 17:11:29
@_author: Michael Kjorling 
@_subject: Leave clearsigned content encoding alone, how? 
Unfortunately quite a few people still use broken MUAs. Outlook
Express doesn't handle PGP/MIME in a good way, last time I looked
Eudora didn't do very well either (but admittedly, that was a while
ago), and several mailing list providers habitually block any message
containing anything other than text/plain parts. (Yahoo Groups, when
lists are set to disallow attachments, is one example.)
Since we do not live in a perfect world, where everyone's MUA adheres
to the relevant standards, and a lot of people (and people running
Microsoft software seem to me to be overrepresented in this group)
don't want to consider the fact that their software may be
misbehaving, there is a need to work around this. Inline PGP signing,
while far from perfect, avoids the problem of not being able to
communicate with a lot of people while meeting the need of
cryptographically signed e-mail.
