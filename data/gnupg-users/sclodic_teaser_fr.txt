
@_date: 2005-08-08 10:57:28
@_author: Stephane Clodic 
@_subject: gpg-1.4.2 --key-gen error (in unattended mode) 
Using generation key in unattended mode, I have the following error even
with the sample fil "foo" provided in DETAILS file (from the distribution)
gpg: Generating a standard key
Assertion failed: (pkt->pkt.generic), function build_packet, file
build-packet.c, line 74.
Abort trap: 6
% cat foo
     %echo Generating a standard key
     Key-Type: DSA
     Key-Length: 1024
     Subkey-Type: ELG-E
     Subkey-Length: 1024
     Name-Real: Joe Tester
     Name-Comment: with stupid passphrase
     Name-Email: joe
     Expire-Date: 0
     Passphrase: abc
     %pubring foo.pub
     %secring foo.sec
     # Do a commit here, so that we can later print "done" :-)
     %commit
     %echo done
% uname -mnsr
FreeBSD 7.0-CURRENT  Thu Jul 28 20:15:14 CEST 2005
% gpg --version
gpg (GnuPG) 1.4.2
Copyright (C) 2005 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it
under certain conditions. See the file COPYING for details.
Home: ~/.gnupg
Supported algorithms:
Pubkey: RSA, RSA-E, RSA-S, ELG-E, DSA
Cipher: 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH
Hash: MD5, SHA1, RIPEMD160, SHA256, SHA384, SHA512
Compression: Uncompressed, ZIP, ZLIB, BZIP2
(build from port)
GnuPG-1.4.1 works fine on this system for months.
I tried 1.4.2 compiled from source on a "old" FreeBSB-CURRENT (FreeBSD
6.0-CURRENT  Tue Apr 12 13:10:18 CEST 2005) and it's the same thing.
How could I debug/provide more informations ?
