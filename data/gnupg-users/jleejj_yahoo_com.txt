
@_date: 2004-09-24 09:44:48
@_author: Lee Johnson 
@_subject: gpg 1.2.6 fails to create ~/.gnupg on Solaris 
I have just installed GPG 1.2.6 in a Solaris (5.8) environment using GCC
2.95.3.  I ran into only one problem during the compile (a "Bus Error"
message on every invocation that went away when I took out the
--enable-m-guard option).
However, gpg fails to create a ~/.gnupg directory for users.  It lists off
a few errors about failing to create temporary files and then terminates
on any command that would write to the directory (like gen-key).  If I
create the directory manually everything seems to be fine.  Now, I know
GPG creates the directory automatically in Linux, so why the difference? Is this a known issue with GPG on Solaris, or could other things also be
wrong with my install?  (Creating ~/.gnupg is not the issue ... the issue is that I now do not
trust my install to function properly.)
Do you Yahoo!?
Declare Yourself - Register online to vote today!

@_date: 2004-09-26 05:54:26
@_author: Lee Johnson 
@_subject: gpg 1.2.6 fails to create ~/.gnupg on Solaris 
Thanks for all the quick replies to ~/.gnupg creation issue.  I actually dug around in the code enough to figure out the problem, but I
thought it was working properly on my Gentoo Linux install.  Now I find
that I am using GPG 1.2.4 in Linux and installing GPG 1.2.6 in Solaris.
Instead of using the fix in CVS I just added a few more lines to the user
setup script for now:
if [[ ! -d ~/.gnupg ]]; then
    mkdir ~/.gnupg
    chmod 700 ~/.gnupg
    cat /usr/share/gnupg/options.skel | awk '{if (NR > 3) {print;}}' >
~/.gnupg/gpg.conf ... along with a call to a script which will perform FIPS140-1 randomness
tests on the locally running EGD.  Do you Yahoo!?
Declare Yourself - Register online to vote today!
