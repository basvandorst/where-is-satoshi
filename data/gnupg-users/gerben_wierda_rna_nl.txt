
@_date: 2005-09-18 16:21:58
@_author: Gerben Wierda 
@_subject: 1.2.1 to 1.4.2 upgrade question 
I have a gpg 1.2.1 binary which I compiled a while back. I use this  binary in a special sort of free-floating way in an application for a  restricted (no web of trust, yes I am aware of limitations of this  setup but it is better than nothing) way of verifying files. There is  needs not to be a gpg installed on the system, the setup works  independently of any GPG install.
I used to do something like this
mkdir /tmp/gpg-test
chmod 700 /tmp/gpg-test/
( cat foo | gpg --quiet --keyserver wwwkeys.nl.pgp.net --homedir /tmp/ gpg-test --no-options --keyserver-options auto-key-retrieve --verify  foo.sig - )
With 1.2.1, this works. E.g.
$ cat tex.plist| gpg --keyserver wwwkeys.nl.pgp.net --homedir /tmp/ gpg-test --no-options --keyserver-options auto-key-retrieve --verify  gpg: Signature made Sat Sep 17 22:32:38 2005 CEST using DSA key ID  gpg: /tmp/gpg-test/trustdb.gpg: trustdb created
gpg: key C87AB5FC: public key "i-Installer " imported
gpg: Total number processed: 1
gpg:               imported: 1
gpg: Good signature from "i-Installer "
gpg: checking the trustdb
gpg: no ultimately trusted keys found
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to  the owner.
Primary key fingerprint: C1BA 787F 78B0 18D2 B6E7  9464 9D03 DB70  C87A B5FC
But with 1.4.2 I get:
gpg: keyring `/tmp/gpg-test/pubring.gpg' created
gpg: Signature made Sat Sep 17 22:32:38 2005 CEST using DSA key ID  gpg: requesting key C87AB5FC from hkp server wwwkeys.nl.pgp.net
gpg: unable to execute program `/usr/local/libexec/gnupg/ gpgkeys_hkp': No such file or directory
gpg: no handler for keyserver scheme `hkp'
gpg: Can't check signature: public key not found
This is not surprising as gpg is not installed on the system and this  script should work regardless of its install. It seems gpg has the  string /usr/local/libexec/gnupg hard coded. Is it possible for me to  make gpg use gpgkeys_hkp from another location? Or am I in trouble  and can't I use GPG anymore in this free floating manner?
