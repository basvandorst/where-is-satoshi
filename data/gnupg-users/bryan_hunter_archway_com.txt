
@_date: 2003-04-23 21:08:01
@_author: Hunter, Bryan 
@_subject: do_plaintext() error message 
Could some one please explain what the following error message means and in
particular whether the output is corrupt in some way?
gpg: do_plaintext(): wrote 46305280 bytes but expected 4096 bytes
This was the result of entering a command like this.
time tar -cvf - directory | gpg --output outfile --encrypt --recipient keyid
Here "directory" is a directory, "outfile" is the output file, and "keyid"
is the recipient.  This is GnuPG 1.0.6 running under RedHat 7.2.  A
decryption by PGP seemed to work.
Thank you,
Bryan Hunter

@_date: 2003-04-23 23:38:02
@_author: Hunter, Bryan 
@_subject: do_plaintext() error message 
I tried it without time and received the same error (same exact sizes).  The
time from the previous runs always showed properly at the end of the
process.  This has been repeatable using 2 different directories.
Thanks for the idea.
Bryan Hunter
Sent: Wednesday, April 23, 2003 12:12 PM
Could some one please explain what the following error message means and in
particular whether the output is corrupt in some way?
gpg: do_plaintext(): wrote 46305280 bytes but expected 4096 bytes
This was the result of entering a command like this.
time tar -cvf - directory | gpg --output outfile --encrypt --recipient keyid
Here "directory" is a directory, "outfile" is the output file, and "keyid"
is the recipient.  This is GnuPG 1.0.6 running under RedHat 7.2.  A
decryption by PGP seemed to work.
Thank you,
Bryan Hunter
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is
for the sole use of the intended recipient(s) and may contain confidential
and privileged information.  Any unauthorized review, use, disclosure or
distribution is prohibited.  If you are not the intended recipient, please
contact the sender by reply e-mail and destroy all copies of the original

@_date: 2003-04-24 19:14:02
@_author: Hunter, Bryan 
@_subject: do_plaintext() error message 
Thank you Steve.
It was the "-" at the end of the command line that caused the error message.
Removing it also increased the size of the output file considerably (17KB)
so I presume that there was some corruption.
This error message was briefly mentioned 5 years ago by Werner Koch and
Matthew Skala.  Is there some place where this issue should be further
Thanks for your help,
Bryan Hunter
Sent: Wednesday, April 23, 2003 3:02 PM
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
Hmmm.  Not on my system.
kyle ~ $ time echo hello
real	0m0.000s
user	0m0.000s
sys	0m0.000s
kyle ~ $ time echo hello > /dev/null
real	0m0.000s
user	0m0.000s
sys	0m0.000s
kyle ~ $ uname -a
Linux longshot 2.4.20  Thu Nov 28 20:28:40 CST 2002 i686 unknown
kyle ~ $ I'm not sure how time writes its output, but it's not stdout.  It's a shell
built-in, so maybe it writes straight to the terminal.

@_date: 2003-11-11 21:49:28
@_author: Hunter, Bryan 
@_subject: Timing test of GnuPG and old PGP 
Thank you all for your help and interest.  The PGP was using IDEA and the
GnuPG was using Triple-DES.  Retesting with CAST5 yielded similar timings.
This brings up an interesting question (at least to me).  PGP carries the
symmetric cipher type with the public key.  Switching from PGP to GnuPG
while maintaining transparency to the recipient would seemingly require IDEA
for those who have specified it.  Being in the USA, this would presumably
require a license?  Are licenses available?
Please excuse the delay in reporting back on my original query.
Bryan Hunter
-----Original Message-----
Sent: Thursday, October 30, 2003 6:36 PM
Maybe. What version was the "old" PGP? What symmetric cipher did you use
with each program? Perhaps GnuPG used Triple-DES, which is much slower
than the IDEA and CAST algorithms that were the default in older PGP
programs. You can change your kep preferences to use AES, CAST, or some
other speedy cipher with GnuPG.
I assume you eliminated the obvious possibilities for the slowness:
other system activity, file system fragmentation, etc.
Gnupg-users mailing list

@_date: 2003-10-29 17:26:56
@_author: Hunter, Bryan 
@_subject: Comparison of WinPT and GPA 
Would someone please compare WinPT and GPA for a windows environment?
Thank you in advance,
Bryan Hunter

@_date: 2003-10-30 23:09:09
@_author: Hunter, Bryan 
@_subject: Timing test of GnuPG and old PGP 
A timing of a simple encryption of a large (327MB) file showed that GnuPG
took 2 1/2 times longer than an old PGP program.  Is this an expected
typical result?
This was run with the following.
Windows98 SP2
WinPT 0.7.96rc1
GnuPG 1.2.1
GPG 6.0.2
Key DSA/ELG 1024/2048
Any comments or suggestions would be appreciated.
Bryan Hunter

@_date: 2004-05-05 15:26:34
@_author: Hunter, Bryan 
@_subject: unknown decryption error messages 
In trying to move a PGP 6.0.2 key pair to GnuPG 1.2.1, I get a variety of
errors with various attempts at decryption of a test file which was also
encrypted with GnuPG.  This is using GPG under Windows 98SE and is part of a
package, but the errors are duplicable calling GPG from the command prompt.
Any information on options or procedures that should be used when importing
an old PGP key would be appreciated.  Some detail follows.
--list-secret-keys  --verbose
--list-keys --verbose
The encryption generates:
gpg: using secondary key CF8E4F56 instead of primary key E7F90291
gpg: using secondary key CF8E4F56 instead of primary key E7F90291
gpg: abc: skipped: public key already present
gpg: using secondary key CF8E4F56 instead of primary key E7F90291
gpg: No trust check due to --always-trust option
gpg: abc: skipped: public key already present
gpg: reading from `C:\xxx\SYSTESTD.TXT'
gpg: writing to `C:\xxx\SYSTES~1.PGP'
gpg: ELG-E/CAST5 encrypted for: "CF8E4F56 abc "
Best Regards,
Bryan Hunter

@_date: 2004-05-05 17:14:39
@_author: Hunter, Bryan 
@_subject: unknown decryption error messages 
In trying to move a PGP 6.0.2 key pair to GnuPG 1.2.1, I get a variety of
errors with various attempts at decryption of a test file which was also
encrypted with GnuPG.  This is using GPG under Windows 98SE and is part of a
package, but the errors are duplicable calling GPG from the command prompt.
Any information on options or procedures that should be used when importing
an old PGP key would be appreciated.  Some detail follows.
--list-secret-keys  --verbose
--list-keys --verbose
The encryption generates:
gpg: using secondary key CF8E4F56 instead of primary key E7F90291
gpg: using secondary key CF8E4F56 instead of primary key E7F90291
gpg: abc: skipped: public key already present
gpg: using secondary key CF8E4F56 instead of primary key E7F90291
gpg: No trust check due to --always-trust option
gpg: abc: skipped: public key already present
gpg: reading from `C:\xxx\SYSTESTD.TXT'
gpg: writing to `C:\xxx\SYSTES~1.PGP'
gpg: ELG-E/CAST5 encrypted for: "CF8E4F56 abc "
Best Regards,
Bryan Hunter

@_date: 2004-05-06 00:06:40
@_author: Hunter, Bryan 
@_subject: unknown decryption error messages 
Please excuse the previous double posting.  The 2nd listing was actually
sent about 14 hours before the first one arrived.
Can some one describe the procedure for converting the imported key pair
(abc) into the natively created key pair (wwxxyyzz).  Presumably this
involves some way of signing the secret key.
sec  1024D/E7F90291 2004-05-04 abc ssb  2048g/CF8E4F56 2004-05-04
sec  1024D/D9B508FE 2004-05-05 wwxxyyzz (wwxxyyzz) sig 3       D9B508FE 2004-05-05   wwxxyyzz (wwxxyyzz) ssb  2048g/1F4732CF 2004-05-05
sig         D9B508FE 2004-05-05   wwxxyyzz (wwxxyyzz) The original problem is still some issue with decryption - possibly having
to do with the sign bit on some size field.
Best Regards,
Bryan Hunter

@_date: 2004-05-07 23:43:28
@_author: Hunter, Bryan 
@_subject: unknown decryption error messages 
Hi Werner:
Thank you for your response.  You asked.
After creating a native key, 4 lines show up in a secret key list. The 2
"sig" lines are not present for the imported key pair from PGP 6.0.2.  What
is the significance?  Is there a way to sign the imported secret keys
presuming that is what this means?  I am not trying to modify any content
just trying to get the full functionality when moving from PGP to GnuPG.
In regard to the errors.
Yes, the code that was supposed to force a binary transfer failed and the
data was corrupted.  This happens often enough that it would be really nice
if there were a way to detect this corruption and put out an appropriately
friendly message.  It would be nice if there happened to be some high order
bit that is regularly set which could then be checked and used to detect
this corruption.
Best Regards,
Bryan Hunter
