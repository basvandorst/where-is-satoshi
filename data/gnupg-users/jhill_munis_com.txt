
@_date: 2003-01-10 12:38:02
@_author: John Hill 
@_subject: Error 0509-136 running GnuPG on AIX 4.3.3.0 
I have installed GnuPG v1.2.1 on a machine running AIX 4.3.3.0.  The
installation was from a binary file.  When I try to run gpg I get the
following error messages:
Symbol strsep (number 140) is not exported from dependent module
Symbol strsep (number 143) is not exported from dependent module
The machine also has the gcc compiler (version 2.95.2.0) loaded.  Any
insight would be greatly appreciated.  Thanks.
John Hill

@_date: 2003-01-15 11:08:18
@_author: John Hill 
@_subject: Error during make - i386ld fatal:Symbol referencing error 
Hello all,
I am trying to compile GnuPG v1.2.1 on an SCO 5.0.6 system.  The configure
looks like it goes well (I run it with the --disable-asm option) but when I
issue the make command I get the messages below.  I am using Gnu make 3.80.
When running the build.sh script for make I got a message "command line:
fatal: cannot open ./remote- No such file or directory."  So I
changed the line "REMOTE = ' in the build.sh to "REMOTE = 'stub'.
I also get the message "command line: fatal: cannot open ./getloadavg$U.c:
No such file or directory" So I deleted the $U from the line
"extras='getloadavg$U'. Is this acceptable?  What are the implications.
John Hill
make[1]: Entering directory `/u1/db_bu/GNU/gnupg-1.2.1'
Making all in intl
make[2]: Entering directory `/u1/db_bu/GNU/gnupg-1.2.1/intl'
make[2]: Nothing to be done for `all'.
make[2]: Leaving directory `/u1/db_bu/GNU/gnupg-1.2.1/intl'
Making all in zlib
make[2]: Entering directory `/u1/db_bu/GNU/gnupg-1.2.1/zlib'
make[2]: Nothing to be done for `all'.
make[2]: Leaving directory `/u1/db_bu/GNU/gnupg-1.2.1/zlib'
Making all in util
make[2]: Entering directory `/u1/db_bu/GNU/gnupg-1.2.1/util'
make[2]: Nothing to be done for `all'.
make[2]: Leaving directory `/u1/db_bu/GNU/gnupg-1.2.1/util'
Making all in mpi
make[2]: Entering directory `/u1/db_bu/GNU/gnupg-1.2.1/mpi'
make[2]: Nothing to be done for `all'.
make[2]: Leaving directory `/u1/db_bu/GNU/gnupg-1.2.1/mpi'
Making all in cipher
make[2]: Entering directory `/u1/db_bu/GNU/gnupg-1.2.1/cipher'
make[2]: Nothing to be done for `all'.
make[2]: Leaving directory `/u1/db_bu/GNU/gnupg-1.2.1/cipher'
Making all in tools
make[2]: Entering directory `/u1/db_bu/GNU/gnupg-1.2.1/tools'
cc  -g   -o bftest  bftest.o ../cipher/libcipher.a ../mpi/libmpi.a
il.a -lsocket  ../intl/libintl.a
undefined                       first referenced
 symbol                             in file
inet_addr                           /usr/lib/libsocket.a
dn_expand                           /usr/lib/libsocket.a
h_errno                             /usr/lib/libsocket.a
__dn_skipname                       /usr/lib/libsocket.a
_getshort                           /usr/lib/libsocket.a
_res                                /usr/lib/libsocket.a
__res_init                          /usr/lib/libsocket.a
inet_aton                           /usr/lib/libsocket.a
__res_search                        /usr/lib/libsocket.a
__res_query                         /usr/lib/libsocket.a
inet_ntoa                           /usr/lib/libsocket.a
i386ld fatal: Symbol referencing errors. No output written to bftest
make[2]: *** [bftest] Error 13
make[2]: Leaving directory `/u1/db_bu/GNU/gnupg-1.2.1/tools'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/u1/db_bu/GNU/gnupg-1.2.1'
make: *** [all] Error 2

@_date: 2003-01-15 16:38:02
@_author: John Hill 
@_subject: Error during make - i386ld fatal:Symbol referencing error 
Thanks David.
I issued command
     cc -g -o bftest bftest.o ../cipher/libcipher.a ../mpi/libmpi.a
../util/libutil.a \
     -lsocket -lnsl ../intl/libintl.a
on the command line from the tools subdirectory and received the same error
message, which I have included again.  I have link in the /usr/lib directory
for libsocket.a.  It points to the file
permissions 444, is owned by bin and is in the bin group.  It is 245426
bytes in size and is dated Jul 19,2000.
undefined                       first referenced
 symbol                             in file
inet_addr                           /usr/lib/libsocket.a
dn_expand                           /usr/lib/libsocket.a
h_errno                             /usr/lib/libsocket.a
__dn_skipname                       /usr/lib/libsocket.a
_getshort                           /usr/lib/libsocket.a
_res                                /usr/lib/libsocket.a
__res_init                          /usr/lib/libsocket.a
inet_aton                           /usr/lib/libsocket.a
__res_search                        /usr/lib/libsocket.a
__res_query                         /usr/lib/libsocket.a
inet_ntoa                           /usr/lib/libsocket.a
i386ld fatal: Symbol referencing errors. No output written to bftest
John Hill
looks like it goes well (I run it with the --disable-asm option) but when I
issue the make command I get the messages below.  I am using Gnu make 3.80.
When running the build.sh script for make I got a message "command line:
fatal: cannot open ./remote- No such file or directory."  So I
changed the line "REMOTE = ' in the build.sh to "REMOTE = 'stub'.
I also get the message "command line: fatal: cannot open ./getloadavg$U.c:
No such file or directory" So I deleted the $U from the line
"extras='getloadavg$U'. Is this acceptable?  What are the implications.

@_date: 2003-01-15 20:52:02
@_author: John Hill 
@_subject: Error during make - i386ld fatal:Symbol referencing error 
Behalf Of David Shaw
Sent: Wednesday, January 15, 2003 11:11 AM
Ah, I love the game of "guess the dependency"!
Can you take a look in your /usr/lib directory and see which library
defines the missing symbols?
You might also try -lresolv (which in turn may require -lnsl - try
   David Shaw  |  dshaw  |  WWW    "There are two major products that come out of Berkeley: LSD and UNIX.
      We don't believe this to be a coincidence." - Jeremy S. Anderson
Gnupg-users mailing list
It looks like my first reply didn't make it.  I think it may have went
directly to David.  I am new to most of this so please bear with me.  How
would I check the libraries to find where these functions are defines.  I
tried looking at the .a files but those look like they are binary files.  I
also tried to compile from the command line adding the -lresolv and both
the -lresolv and -lsnl options and I get the same message.
Thanks for all of your help.
John Hill

@_date: 2003-01-15 22:41:03
@_author: John Hill 
@_subject: Error during make - i386ld fatal:Symbol referencing error 
Behalf Of David Shaw
Sent: Wednesday, January 15, 2003 3:09 PM
Use the program "nm" on the .a files.  You are looking for the name of
the missing symbols plus a capital letter "T".  If you see that, then
the symbols are defined in that .a file.  I'm assuming your nm is like
mine here.  I'm not familiar with the SCO nm.
Anyone out there with a SCO box have any other ideas?
   David Shaw  |  dshaw  |  WWW    "There are two major products that come out of Berkeley: LSD and UNIX.
      We don't believe this to be a coincidence." - Jeremy S. Anderson
Gnupg-users mailing list
Thanks for all of the help.  I found another reference to inet_addr in the
libresolv.a library.  I change the Makefile in the tools and g10 directories
to add /usr/lib/libresolv.a to the needed_libs variable and everything
compiled fine.  My first question, is this the best way to correct this or
should I do something else.
Now when I run gpg --gen-key the application locks up after I enter my name,
email, and comment fields (I am leaving email and comment blank) and I
select O for okay.  I never get asked to enter a passphrase.
Thanks again.
John Hill

@_date: 2003-06-10 21:55:02
@_author: Hill, John 
@_subject: Compiling on SCO 
I am trying to compile gnupg-1.2.1 on an SCO 5.0.6 system.  When I run =
make I get an error that ar is not found.  This system does not have the =
Development System installed but it does have the Development Libraries =
installed.  Would this cause the problem?
John Hill

@_date: 2003-03-17 20:37:01
@_author: John Hill 
@_subject: Problem entering passphrase 
Hello all,
I had a problem a while ago where GnuPG appeared to be hanging before
prompting me to enter my passphrase.  I have since found that the system was
not hanging but actually waiting for me to enter my passphrase, even though
it never prompted me for it.
I put some tty_printf statments in various places to find where this was
happening.  I found that depending upon where I put these statements I could
get the program to prompt me for the passphrase.  This also held true when I
try to debug it using GnuDb.  Below is what I see when I place a break in
the ask_passphrase function at the tty_printf(_("You need a Passphrase to
protect your secret key.\n\n") ); line and then step through line by line.
Begin Screen Shot --------------------------------
(gdb) s
gettext (
    msgid=0x80db900 "You need a Passphrase to protect your secret key.\n\n")
    at intl-compat.c:87
87        return gettext__ (msgid);
(gdb) s
gettext__ (
    msgid=0x80db900 "You need a Passphrase to protect your secret key.\n\n")
    at gettext.c:58
58        return DCGETTEXT (NULL, msgid, LC_MESSAGES);
(gdb) s
dcgettext__ (domainname=0x0,
    msgid=0x80db900 "You need a Passphrase to protect your secret key.\n\n",
    category=6) at dcgettext.c:52
52        return DCIGETTEXT (domainname, msgid, NULL, 0, 0, category);
(gdb) s
End Screen Shot -----------------------------------
At this point GnuPG is sitting waiting for a passphrase.  If I enter one I
am then prompted "Repeat passphrase:"  I am not sure where to go from here
and any direction would be appreciated.  I am using gcc 2.95 and make 3.76.1
(both precompiled) that I obtained from the SCO Skunkware site.  I am
compiling GnuPG version 1.2.1 on an SCO Openserver 5.0.5 machine.
John Hill
