
@_date: 2014-12-20 19:20:23
@_author: Christopher Beck 
@_subject: Different subkeys and the use of a SmartCard 
My question concerns the use of different signing sub keys and a smart card.
The current setup are two valid signing sub keys. One of them resides on the smart card, the other on one of my computers. The key on the smart card is older than the other one.
As described, gpg wants to use the newest sub key only. In my case it means, i cannot sign anything and the message
"gpg: signing failed: No secret key"
appears. I can also see all of the sub keys assigned to the key by typing "gpg -K" and "gpg --card-status". However, I tried the following on two different First, I used a Windows PC and gnupg version 2.0.26, imported my public key and then deleted all of the sub keys except the ones on my smart card. I run "gpg --card-status", and then updated the keys by using "gpg --refresh-keys". "gpg -K" still shows every sub key and if they are available, but "gpg --card-
status" only shows the main key and the sub keys on the card. Finally, signing works well as expected.
Second, on a Linux PC using gnupg version 2.1.1 I did the very same thing as is did on the Windows PC before. But here, "gpg --card-status" still tells me about my other sub keys and therefore singing is not possible after running "gpg --refresh-keys".
Now I have a few questions.
First, why do these two versions of gnupg differ in their behavior this way? Why does one update the sub key information on "gpg --card-status" and the other one doesn't?
Second, is there a simple solution for my problem? I cannot rule out the possibility of having newer signing sub keys than the one on the smart card and I want gpg to use that key, which is available even if there exists a newer one.
Third and last, thought it makes sense for gpg to use the newest sub key only (especially for the signing sub key), is there a possibility to force gpg to use a specific sub key? This question could manually solve question number two and could be useful for me on educational purposes (for example to show, what happens, if an older, perhaps revoked or expired, sub key is being used).
Thank you in advance and sorry for the long e mail.
Kind regards
Christopher Beck

@_date: 2014-12-21 01:26:02
@_author: Christopher Beck 
@_subject: Different subkeys and the use of a SmartCard 
Sorry for this second mail, but it does not work well. It signs on the commandline and everywhere, but using this configuration for mail clients, they just stop sending the whole signated message... Well, I hope there is a solution without the need of some wrapper around gpg...

@_date: 2014-12-26 00:47:11
@_author: Christopher Beck 
@_subject: Different subkeys and the use of a SmartCard 
Could that explain, why gpg didn't finish its singing process? As mentioned a few mails before, the primary secret key (0x11111111) is not available.
Now I downgraded everything to gnupg 2.0.26, dirmng 1.1.1 and gpgme 1.5.2, because there seems to be a bug [1] [2] and everything works well. I will set up a test box after the x-mas holidays to do further tries.
As Werner said
it might not be possible when using a gpme based mail client. I'll also check, how kmail invokes gnupg after the holidays.
This far, thank you very much!
[1]: [2]:

@_date: 2015-02-15 20:14:27
@_author: Christopher Beck 
@_subject: MIME or inline signature ? 
Sometimes my signatures are being counted as bad ones. But I figured out it is a bug on kmail or enigmail (there where bug reports on both implementations). Well, I'am just about tu figure it out, so there may be another issue instead of them both.
According to the question in the topic: inline signatures always worked, MIME didn't. I still wonder why, and after my next exams I'll investigate on

@_date: 2015-02-15 22:20:33
@_author: Christopher Beck 
@_subject: MIME or inline signature ? 
Forwarding a MIME mail as an attachment also should do the same: The new receiver can see who signed the original mail. And it could be used, but not disused as long as I think...

@_date: 2015-02-16 12:32:49
@_author: Christopher Beck 
@_subject: MIME or inline signature ? 
now I'll use the inline format. If you can now verify my signature, this still could be the same bug (or whatever it is...).

@_date: 2015-02-16 13:01:24
@_author: Christopher Beck 
@_subject: MIME or inline signature ? 
Hash: SHA1
Ah sorry, the previous mail still was MIME. Now it's inline.

@_date: 2015-01-02 14:18:21
@_author: Christopher Beck 
@_subject: Craft public key so that private key equals given string (my 
you can use the asymmetric variant: Generate a encryption key pair, store the private key on your save place and the public key on your computer. Then you can encrypt files without any password and decrypt them using your private key.
Dies this describe your purpose, except the fact you don't want an extra private key? But think of the meaning of symmetric encryption: This meas, both keys are the same and there is no difference between the private and public key. So AFAIK you can't get around using an asymmetric key pair.

@_date: 2015-01-02 15:52:52
@_author: Christopher Beck 
@_subject: Craft public key so that private key equals given string (my 
Since the keys (depending on the algorithm - I am not an expert on that) are AFAIK calculated from random primes the reverse task, e.g. finding a public key to a given private key, sounds like a bit of reverse engineering. And I think (and if the reverse task has the same complexity I really hope it ;-)) it won't be possible.
Another thought: You could generate a Keypair with a keysize small enough to remember als a password but then I think the key size is that small it won't be secure anymore.
But sorry, I am not an expert on that...

@_date: 2015-11-09 15:50:11
@_author: Christopher Beck 
@_subject: SmartCard decryption issues 
Hi folks,
I'am using a GnuPG smart-card for a long time and it always works except
one host :-(
I have got two sub-keys on the card, one for signing and one for
decryption. Both keys are 4096 bit in size. The issues are only on the
decrpting process: Signing works well, but when I try to decrypt
something (an e-mail or an encrypted file) it just says, there is no
secret key. I switched on debugging output and it tells me:
"public key decryption failed: General error
decryption failed: No secret key"
I checked $ gpg -K and $gpg --card-status and so on, and it tells me
exactly the same i can see on my other computers: there are two keys
available on the smart-card. So I am wondering, what the problem is. The
version of gpg is 2.0.14 on scientific linux 6.
Has anybody else issues using rhel 6 based distros? Or is there another
way to check out, what problems gpg has finding the key for decryption?
Thanks for any hints!
Christopher Beck

@_date: 2015-11-11 09:31:39
@_author: Christopher Beck 
@_subject: SmartCard decryption issues 
thanks. Then I'll have to upgrade it.
Best Regards

@_date: 2015-10-01 23:16:53
@_author: Christopher Beck 
@_subject: How to get your first key signed 
Hi David,
I know that problem. But I did the following: I used "The Harvester" [1]
and did a search on the domain of my university on public key servers
and found out many people here, who use GPG. I just started e-mailing
some of them and met them to cross sign the keys. So my suggestion is,
look up the mail-addresses of a university when you are (for some
reasons) in that city. Okay, this requires you to travel, but you can
try that if you are in some other city for some reason.
I am active member of a local association and there are some people
using GPG, too. So to make it more comfortable to others, we created an
extra key, stored it on a smart-card and use this key to sing our keys.
This is uploaded on out website and people who trust out SSL-CA
(cacert.org) could think of trusting this key in addition to it's own
WoT. We also put up our finger-prints to the contact fields of our
members (from those, who have GPG).
Additionally, you could add your GPG-finger-print to every presentation
you'll hold at university. This might also help.
[1]:

@_date: 2016-09-07 22:20:42
@_author: Christopher Beck 
@_subject: Key Discovery Made Simple 
just a (maybe) stupid question: the matching key to my recipient can be fetched by keyservers and i determine the korrect key of all of the (sometimes "wrong" keys") by vaidating the signatures according to the WoT. So, what's the benefit of this new key service? It sounds much more complicated (and un-
trusworthy) than just using the WoT.
Confused Greetings

@_date: 2017-01-02 20:26:20
@_author: Christopher Beck 
@_subject: export encryption (subkey) only? 
Hi Lynn,
well, it is possible. There is an option for exporting only subkeys:
gpg --output secret-subkeys --export-secret-subkeys SUBKEYID!
It is important to use the exclamation mark at the end of the subkey-id!
Instead of this: how about a company-key for trust-signing the exployees
keys? Then, a custumor just hast to set the correct trust level to that
company-key (okay, might be dangerous and not everybody wants to do
this, but might be an option).
Am 02.01.2017 um 19:27 schrieb Lou Wynn:
