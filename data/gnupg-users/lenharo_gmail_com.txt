
@_date: 2012-12-29 02:35:30
@_author: Marcos Aurelio Lenharo 
@_subject: OpenPGP card decryption with 4096bit keys bugfix?? 
I posted that patch but it was a quick&dirty solution.
The final code was changed by Werner, can be found in the following
commit but no official gpg version was released yet:
Best Regards,
Marcos A. Lenharo

@_date: 2012-06-26 23:36:59
@_author: Marcos Aurelio Lenharo 
@_subject: Card fails to decrypt using 4096-bit key 
the problem seems to be on libassuan ASSUAN_LINELENGTH define (today is
On g10/call-agent.c:998 (agent_scd_pksign)  there is the following line:
if (indatalen*2 + 50 > DIM(line))
    return gpg_error (GPG_ERR_GENERAL);
and indatalen happens to be 512 for a 4096-bit key, which leads to a
value greater then 1002 (1074 on this case).
Applying the following patch solved the problem to me:
diff -Nru libassuan-2.0.3.orig/src/assuan.h.in
--- libassuan-2.0.3.orig/src/assuan.h.in        2011-12-20
08:17:53.000000000 -0200
+++ libassuan-2.0.3/src/assuan.h.in     2012-06-26 22:58:47.483626831 -0300
 -67,7 +67,7  - ASSUAN_LINELENGTH 1002 /* 1000 + [CR,]LF */
+ ASSUAN_LINELENGTH 1076 /* 1074 + [CR,]LF */
 struct assuan_context_s;
 typedef struct assuan_context_s *assuan_context_t;
 any comments on this change?
Best Regards,

@_date: 2013-02-28 22:19:31
@_author: Marcos Aurelio Lenharo 
@_subject: key length for smart card key generation 
if you compile from git repo as Josef said it will work 100% with 4096
bit RSA keys.
Marcos A. Lenharo

@_date: 2016-06-16 22:25:25
@_author: Marcos Aurelio Lenharo 
@_subject: WINDOWS - Adding passphrase to gpg via command line 
Em 16-06-2016 11:51, Peter Lebbing escreveu:
Hello guys,
I think this is related to the following issue I opened last year:
Best Regards,
Marcos A. Lenharo
