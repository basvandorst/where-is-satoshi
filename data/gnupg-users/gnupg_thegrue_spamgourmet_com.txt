
@_date: 2016-11-13 13:20:49
@_author: gnupg.thegrue@spamgourmet.com 
@_subject: gpg password and/or agend messed up 
Dear GnuPG List,
It seems the password handling and/or gnupg-agent use of my setup is
messed up somehow. I suspect that these two might be related, that's
why put both issues in one mail.
I wanted to change the password of of my gpg key. So I did this:
  gpg --edit-key 79D7E890
  gpg> passwd
The pinentry agent pops up, I enter the new password
  gpg> save
  gpg> quit
I didn't use gpg for a few days, then wanted to sign a mail. Pinentry
pops up, I enter the new password - which is rejected :( I try again,
rejected. I try the old password: success. Strange.
"Hmm, something went wrong when changing the password", I thought, and
repeated the aforementioned procedure. When I'm prompted to enter
the old password, I enter the old one, and it is /rejected/. I enter
the new one, successfully. Then I'm prompted to enter the new
password. I enter the new one (same as last time) and it seems to
work. When I type "save" to save my changes, I get this message:
"Key not changed so no update needed."
Hmmm. I want to be sure that my mail program (claws) doesn't make
problems, so I try this:
 % gpg --sign test.txt
Pinentry comes up and only the OLD password is accepted :( :(
Ok, maybe pinentry's fault? I comment the line
# use-agent
in ~/.gnupg/options , try signing again and pinentry comes up
again. Wtf?
So now I have a gnupg where I can't change my password, allthough I
I don't really mind pinentry, but I do want to be able to change my
Could you help me, please?
(Not signed, because, you know...)
Markus Grunwald

@_date: 2016-11-14 19:42:00
@_author: gnupg.thegrue@spamgourmet.com 
@_subject: gpg password and/or agend messed up (gnupg: message 2 of 20) 
Well, I forgot a few important things:
My machine is a debian/jessie linux.
 % dpkg -l \*gpg\* | egrep '^ii'
ii  gpgsm                2.1.15-4      amd64        GNU privacy guard - S/MIME version
ii  gpgv                 2.1.15-4      amd64        GNU privacy guard - signature verification tool
ii  libgpg-error0:amd64  1.24-1        amd64        library for common error values and messages in GnuPG components
ii  libgpg-error0:i386   1.24-1        i386         library for common error values and messages in GnuPG components
ii  libgpgme++2v5        4:4.14.10-7   amd64        C++ wrapper library for GPGME
ii  libgpgme11:amd64     1.7.0-1       amd64        GPGME - GnuPG Made Easy (library)
ii  libkf5gpgmepp5:amd64 16.04.3-1     amd64        c++ wrapper library for gpgme
ii  python-gpgme         0.3-1.1+b1    amd64        python wrapper for the GPGME library
% dpkg -l \*gnupg\* | egrep '^ii'
ii  gnupg                   2.1.15-4     amd64        GNU privacy guard - a free PGP replacement
ii  gnupg-agent             2.1.15-4     amd64        GNU privacy guard - cryptographic agent
ii  gnupg-l10n              2.1.15-4     all          GNU privacy guard - localization files
ii  gnupg2                  2.1.15-4     all          GNU privacy guard - a free PGP replacement (dummy transitional package)
ii  libgnupg-interface-perl 0.52-5       all          Perl interface to GnuPG
Markus Grunwald
Fragen zur Mail?
