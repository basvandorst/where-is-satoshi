
@_date: 2014-08-21 15:17:42
@_author: flapflap 
@_subject: Fwd: GNU hackers discover HACIENDA government surveillance and 
Robert J. Hansen:
I'm not happy with that definition/understanding of "surveillance". It's
not just about "reporting on what colors people's houses are" - it's
more about someone going to every door, trying to open it, and noting
what kind of door and lock there is. Then, comes back with a key, opens
the door, installs cameras and other things. Next, he continues with the
next house, but if someone finds him, he says he's you. And then walks
to the next house.
HACIENDA itself may not be "surveillance", because it is an active
attack/attempt to actively connect to a TCP socket and not just
(passively) monitoring how other people connect to the server.
However on a meta-level (=government), this is surveillace, because they
look for "things that you have good reason to believe are private"
(remember the slide that lists passwords as publicly available

@_date: 2014-12-12 00:49:43
@_author: flapflap 
@_subject: 31C3 
Werner Koch:
is it possible for you (or other FSFE people at the Assembly) to accept
donations for GnuPG (in cash) there?

@_date: 2014-07-17 08:44:15
@_author: flapflap 
@_subject: Different passwords for subkeys 
Phillip Susi:
see  :)
in short: use gpgsplit to split the key, then import one part, set
passphrase A, export it (encrypted with A), delete it, then import the
other part, set passphrase B.

@_date: 2014-07-28 06:25:43
@_author: flapflap 
@_subject: CRC error 
pedro.markov at ml1.net:
I don't know the details for GnuPG, but CRC stands for Cyclic Redundancy
  CRC is an easy to compute "check sum" - it allows you to detect errors
in a dataset. Your data could be split into two parts: a stream of bits
for real data (payload), and a fixed amount of CRC bits (seems to be 3
bytes/24 bits here).
The transmitter of a message computes the CRC on the payload to be send,
then sends the payload and the result of the CRC calculation.
The receiver also computes the CRC code for the data and compares it
with the the one received. If they do not match, the transmitted data
was somehow damaged (e.g. some bits flipped, noisy channel). (*)
I guess one of the two values is the one stored in the key file, and the
other one GnuPG expects it to be with the given data. As they mismatch,
there's some data consistency problem with the key ("corrupted key").
CRC only allows error detection, but _no_ error correction. So no, you
cannot fix/reconstruct a corrupted key.
That has to answer someone with more knowledge in the GnuPG file format.
I guess there are several records/blocks that each have a CRC. If so, it
is possible to determine the damaged block (but not where in the block),
but I'd say that it's not easily doable.
(*) The explanation is a bit simplified: Usually a receiver computes the
CRC for the _payload and the CRC_, i.e. everything received. If the data
is valid, the computed CRC should be 0, if it is not 0, the data is
damaged. But basically it's the same as computing the CRC for the
payload only and comparing it with the received CRC.

@_date: 2014-07-28 21:04:52
@_author: flapflap 
@_subject: CRC error 
pedro.markov at ml1.net:
This does not make sense to me.
You want to protect the information your public key reveals from an
attacker with access to your machine.  This sounds like you manually
want to, for example, fill the field for "email" with "XXXXXXXX" and
only you know that the key is valid when you write "email at example.com"
in it. (have I understood it correctly so far?)
Why would you create a key with "email at example.com" as "email" in the
first place when you actually don't want "email at example.com" to be in
Why not just create a key saying "" or "XXXXX" for "email" instead?

@_date: 2014-07-28 22:44:27
@_author: flapflap 
@_subject: CRC error 
pedro.markov at ml1.net:
I'm pretty sure (though more knowledgeable people should comment on this
to clarify) that the changes/"damaging" you do (basically symmetric
operations via you keyboard) are much weaker than real cryptographic
GnuPG - if you specify a passphrase - stores the secret key encrypted.
If an attacker gets his/her hands on the secret key, s/he can do nothing
with it. So GnuPG already does what you need/want.
I understand that you don't like to remember the passphrase, but it's
less secure and convenient to manually fuddle with the keyfile (which is
also some kind of "passphrase", but much weaker than using GnuPG).
Are you aware of  ?
It should be pretty easy to get to an easy-to-remember passphrase, just
think of some strange situation/image/... that's worth to remember.
E.g. "eleven camels climb on mt. everest for skiing"
(don't use that one of course as it's public now)
And if you type it a couple of times/regularely, because you need to
decrypt/sign emails/files/..., it should be easy to remember in the long
Logically overwriting contents on a flash drive does not necessarily
overwrite the data on the physical medium. Flash drives use
wear-leveling algorithms that map the logical to physical addresses, to
limit the damages/wear-out due to writing the same physical locations
too often. So if you "overwrite" a logical address, your written data
actually goes to another physical cell and the old data is still there.
An attacker that just unsolders the flash ICs could read the entire
physical data, including what's not visible from the logical/software layer.

@_date: 2014-11-14 11:16:16
@_author: flapflap 
@_subject: gpg4usb: Portable GUI for GnuPG 
if you refer to the "Lock" switch of SD memory cards, then please note
that this "Lock" switch is only evaluated in OS software and no
physical/electrical protection of the flash IC.  Normally, the mechanic
"Lock" switch only pushes away a contact on the SD card socket, so the
OS can evaluate whether the contacts are conncted or not.  On GNU/Linux
I think it is sufficient to just mount -o remount,rw a previously
read-only mounted SD card.
USB sticks with real physical (i.e. electrically routed to the
write-protect pin of the flash IC) write protection are rare, but they
exist (as you said).

@_date: 2014-10-12 23:01:10
@_author: flapflap 
@_subject: Renewal of revocation certificate required after adding a new 
Dr. Peter Voigt:
AFAIK, that is correct.  With the revocation certificate you revoke the
(main) key -- not a UID.

@_date: 2014-09-18 15:37:29
@_author: flapflap 
@_subject: Keeping .gnupg folder in cloud 
Robert J. Hansen:
couldn't it also be that the owner/admin of the cloud makes changes to
the keyring? Like adding/removing keys. Dependent on the trust model
(like trust-always) this could be a very bad idea... Or it could result
in a DOS as the evil admin deleted the secret parts of some key pairs..

@_date: 2015-02-11 23:08:21
@_author: flapflap 
@_subject: Sign key with externalized master key 
Xavier Maillard:
Since your issue only affects signing of other keys - which normally is
not a daily scenario - what about using a GNU/Linux live system/CD/USB
for that purpose?
That way you can use a normal GNU/Linux supported filesystem and don't
have to worry whether to trust your normal OS or which filesystem is
compatible with all OSses you intend to use.

@_date: 2015-07-19 17:01:37
@_author: flapflap 
@_subject: Optimal setup for corporate keys 
Greg Sabino Mullane:
Probably, it is a non-issue in this specific case (you already know the
files you send to your partners), but in general one (here: your
partners) should not use secret keys generated by others because they
are not /secret/ to oneself anymore.
Simply let your partners generate their pub/sec key pairs and then
exchange them.

@_date: 2015-07-22 14:36:22
@_author: flapflap 
@_subject: no valid user IDs after changing key expiration time 
Hi list,
I have a key for some years which did not have an expiration time.  Now,
I finally want to change this and changed the expiration time (via
--edit-key then expire, save).
To test if everything is now working as it should, I exported the keys
(--export, --export-secret-keys), deleted the key from my keyring
(--delete-secret-keys, --delete-keys).
Afterwards, I imported my public key and the output is fine.
But when I import the secret key gpg says:
gpg: key $MYKEY: secret key imported
gpg: key $MYKEY: no valid user IDs
gpg: this may be caused by a missing self-signature
gpg: Total number processed: 1
gpg:           w/o user IDs: 1
gpg:       secret keys read: 1
gpg:   secret keys imported: 1
So, it says "no valid user IDs".
However, --list-keys and --list-secret-keys both show my UIDs.
Should I be worried by the warning or is this normal behaviour?
(GnuPG version is 2.0.25 and libgcrypt is 1.5.0)
Thanks in advance,

@_date: 2015-07-22 17:05:04
@_author: flapflap 
@_subject: no valid user IDs after changing key expiration time 
Ludwig H?gelsch?fer:
My key still looked/looks valid, even without changing the ownertrust
(in that case its ownertrust is just shown as unknown).  All UIDs are
What seems strange to me is that I do not see the warning message when I
import the previous version of my key (exported about a year ago).
The warning only appears when I change the expiration time of that key,
export it, delete it, and then re-import it (including secret key).

@_date: 2015-03-01 21:01:20
@_author: flapflap 
@_subject: strength of voice authentication [was: Re: German ct magazine 
Johan Wevers:
Apparently, it is very easy to fool people by voice on the telephone.
Just think about the "grandchild trick" ([0], unfortunately not in
English) which is a method where the criminals phone (often elder)
people and tell them that they are a grandchild, nephew, or other remote
relative and need some money for some reason (need a new car and the like).
According to the article, they often start the conversation with a
question like "Guess who's calling?" and then the victims think some
time and seem to remember someone of their family and answer "Hi $Name"
so the callers know a name of a relative they now can impersonate.
You'd think that people are very careful with regard to money, but the
trick is a huge "success" and the criminals got more than CHF 50k _per
case_ in 2013 in Switzerland.
This is because the telephone channel does not prove authenticity of the
caller and thus cannot be secure.
[0]

@_date: 2015-03-05 22:27:36
@_author: flapflap 
@_subject: gpg in a =?windows-1252?Q?cybercaf=E9?= 
Jonathan Schleifer:
FWIW: Tails Despite Tails' aim to protect its users and their communication, you
would still put a lot of trust in other people when using it in an
internet caf? and Tails could not protect you.
A simple thing an attacker (evil internet caf? owner, previous users)
could do is to install a keylogger or another hardware implant in the
computer that you cannot see.  The attacker could then easily record
your keystrokes when you type in the passphrase to your key.  As a
countermeasure, Tails also ships with Florence [0], a virtual keyboard
that you can use to type instead of the hardware keyboard.
But even if you use the virtual keyboard, there could be a camera behind
you watching your screen (and keystrokes), or the cable from the
computer to the monitor could split the signals to a video recorder or
other implants inside the monitor.
Personally, I'd rather ask a close and trustworthy friend whether I
could use their computer instead of an internet caf?, library, or other
publicly accessible location where I don't know the people behind.  But
of course, there may be situations where these are the only options.
The current version (1.3) of Tails comes with GnuPG 1.4.12.
However, if you require a more/the most recent GnuPG you could
build/install it manually but it requires some additional steps:
- You can /download and verify/ the Tails ISO image [1] and then burn it
  onto a DVD [2].
- You can now boot Tails from the DVD.
- When it has booted you can plug in a USB stick (>=4GB) and use the
  small tool /Tails Installer/ [3] to copy the image from the DVD
  to the USB stick.
- Shutdown, remove the DVD from the DVD drive, and boot from the USB
  stick.
- Tails offers a /persistence feature/ [4] which is an encrypted volume
  using the remaining space of the USB stick (so there is the plain
  unencrypted Tails installation and an encrypted partition).
  When you reboot from the USB stick/SD Card with enabled persistence
  feature, the welcome screen /Tails Greeter/ lets you enter the
  passphrase to unlock the persistent volume.  _Unfortunately, it is
  not possible to enter the passphrase using Florence here_!
- In your home directory, there's now a directory "Persistent" that is
  stored in the encrypted volume and the data you put there stay there
  even when you reboot Tails (but not on outside directories).
As next steps you would install tools needed to build GnuPG, download
and verify the GnuPG sources, and build your GnuPG.
- In /Tails Greeter/ you can set a root password, so you can
    `sudo apt-get install gcc binutils'
  and all the other build tools and libraries afterwards.
  You can even install these additional software packages [5] on every
  session (though it is an experimental feature and not presented in
  the assistants).
- Then you can download the GnuPG sources to your ~/Persistent
  directory, verify the signature, and build GnuPG.
If you have further questions regarding Tails, you can read the
documentation [6] (there's a lot of it!) or write an email to their
mailing lists
  tails-support-private at boum.org [7] (private/non-public)
  tails-support at boum.org [7] (public)
[1] [2] [3] [4] [6] [7]

@_date: 2015-03-14 16:40:57
@_author: flapflap 
@_subject: gpg in a =?windows-1252?Q?cybercaf=E9?= 
Jonathan Schleifer:
oh sorry, I have missed that. I just tried `gpg --version' and not `gpg2
amnesia at amnesia:~$ gpg --version
gpg (GnuPG) 1.4.12
amnesia at amnesia:~$ gpg2 --version
gpg (GnuPG) 2.0.25
libgcrypt 1.5.0

@_date: 2015-05-12 05:59:09
@_author: flapflap 
@_subject: WINDOWS - Adding passphrase to gpg via command line 
Josh Clearihan:
In my opinion it makes little sense to use a passphrase in this way: the
passphrase is supposed to be entered interactively since in case someone
gets access to the script with hardcoded passphrase, then she gets the
passphrase, too.
If you don't want to store the secret key unencrypted on disk, maybe you
could use a disk encryption layer below the file system (like
dm-crypt/LUKS on GNU/Linux). As a result, you have a passphrase for the
disk that is entered only once on reboot, then - when the system is
running - you use the secret OpenPGP key without passphrase, but the key
material is still not stored unencrypted on disk and protected in case
an adversary just takes the disks with her.
Of course, this does not protect from cold-boot attacks, but (IMHO)
should be better than hardcoding the passphrase in a script on an
unencrypted disk, just to meet the requirement that the key should be
encrypted with a passphrase.

@_date: 2015-05-27 19:17:35
@_author: flapflap 
@_subject: Random Seed for Generating PGP Keys 
George Lee:
I might be wrong here, but as I understand it you need way more often
random numbers than you seem to expect.  The random number is not only
needed for your - for example - RSA OpenPGP key certificate.  You also
need random numbers for the AES session keys that are actually used to
encrypt a file or an email.  If you had a perfectly random RSA key and
used it to encrypt AES session keys for emails, but every session key
turned out to be 0x00 for all the messages (because your RNG is
buggy/backdoored), and your advisary nows this, they simply can use the
known session key 0x00 and don't care for your RSA key.

@_date: 2015-11-19 09:31:53
@_author: flapflap 
@_subject: Change capabilities of main key? 
occasionally I notice someone with a public key that has the "SCE" (Sign
Certify Encrypt) capabilities set for a single key pair (presumably,
they did set these manually during key generation).
I understood that this is not recommended because it may simplify
certain attacks (but don't know any sources).
Is there a possibility to modify the (main/sub) key capabilities once
its generated so they can migrate away from the insecure/less secure
setting to, for instance, separate subkeys for Sign and Encrypt?

@_date: 2015-09-03 23:15:52
@_author: flapflap 
@_subject: GPG UID 
Melvin Carvalho:
this may be what you are looking for:
       Disable  all  checks  on the form of the user ID while
       generating a new one. This option should only be  used
       in very special environments as it does not ensure the
       de-facto standard format of user IDs.

@_date: 2016-04-04 16:34:26
@_author: flapflap 
@_subject: Translate to dutch 
Eva Bouwman:
If you have questions on cryptography, keys etc. or want to get in touch
with other dutch people (e.g. reviewers, co-translators,
clarification/discussion of domain specific terms), you could also look
for events/cyptoparties in your area:

@_date: 2016-04-27 11:35:17
@_author: flapflap 
@_subject: making a Debian Live CD for managing GnuPG master key and 
I was also about suggesting Tails, so thanks for doing that for me :)
Daniel Pocock:
Tails can be instructed in the Tails Greeter to disable all network
access [0].
As far as I understand it, Tails unconditionally blacklists the drivers
of all network devices [1].  If network access is enabled in the
Greeter, the blacklist is deleted [2] and the related services are
restarted; if network access is not enabled, the blacklist stays in place.
Yet, Tails might not be what you want because you have a different usage
pattern and thread model in mind.  For instance Tails ships non-free
software (and isn't happy about that) but needs to balance with the
possibility to run on almost every device a non-technical savvy user
wants it to boot from (which might not be the case for your use case).

@_date: 2016-06-24 11:51:49
@_author: flapflap 
@_subject: Tamper Resistance of SmartCards -- NitroKey Pro/ KernelConcepts 
Andreas Fenkart:
I think you are a bit mistaken:
In the Nitrokey Pro, the STM32 processor is not doing any crypto.
Indeed, the STM32 has no hardware protection at all for such purpose.
The processor is used to implement the smartcard /reader/ protocol (and
a few other functions) and itself forwards all crypto tasks to an
on-board OpenPGP smartcard (can be exchanged via slot).
As far as I know, there are no known side channels or (easy) attacks to
the OpenPGP smartcard.
As a normal user you almost have no way to find implementation details
for smartcards because they are all protected by patents and NDAs (it
would not be possible to make the design free). It is not (at least it
should not be) possible to extract secret keys from a smartcard: you
send your plain text to the reader, to the card, and get back the cipher
text (or vice versa).
The Nitrokey people had to decide to do the crypto on the STM32 where
they can influence the PCB layout but not the processor (with known
attacks) itself, or to do it on an OpenPGP smartcard and have to trust
the manufacturer. Since the Nitrokey software and hardware design is
free (as in freedom), you can at least inspect these bits (e.g. you can
look at the layout using the free software KiCad) and modify the
firmware run on the STM32 (maybe you want to add some other additional
function that is not security critical).
If you only buy a smartcard, you still have to trust the smartcard
reader you use then because it can read/copy/modify/transmit via HF all
communication and, dependent on your level of paranoia, you also have to
carry the reader always with you. Since you need to trust both the
reader and the smartcard, Nitrokey put both in the same package and
labeled it Nitrokey Pro so you can carry it around.

@_date: 2016-03-23 13:04:47
@_author: flapflap 
@_subject: EasyGnuPG 
Viktor Dick:
o  IMHO, users of the terminal gpg program should be well aware of the
   existence of expiration of a key, because they were asked for it
   during key generation.
o  "People who just try it [gpg] out" should (and most likely will) not
   use the terminal interface.
o  "People who just try it [gpg] out" should use Enigmail or another
   GUI.  And when using Enigmail, the expiry default is 5y, a revocation
   certificate is generated by default so that the user can revoke the
   key if s/he lost the passphrase/secret key.  Also, the user is
   advised to make a copy to an external medium (CD/USB) or print it
   out.  It is already 'fail safe' so to say.

@_date: 2016-03-24 10:55:24
@_author: flapflap 
@_subject: Force textual pinpad 
Dashamir Hoxha:
sounds like a bad idea to me because the passphrase could end up in the
~/.bash_history (if bash is used) and physically stored on (a
potentially unencrypted) hard disk...

@_date: 2016-03-28 17:05:40
@_author: flapflap 
@_subject: Which key is used to sign key? 
Muri Nicanor:
I didn't check with --quick-sign-key specifically, but usually I do the
signing key selection via --sign-with KEYID/NAME, for example:
  gpg2 --sign-with flapflap --sign-key muri
But strangely enough, I did not find --sign-with in the man page (Debian
stable) or gpg2 --help...

@_date: 2016-05-06 13:22:52
@_author: flapflap 
@_subject: (OT) FSF involvement 
Peter Lebbing:
I might be wrong, but I thought that the "Thou Shalt Not Advocate
Proprietary Software" rule is because of the rules for GNU Projects --
not because of the FSF. They are two different organisations for
different purposes.
Previously, I believed to have read these rules in the "Information for
Maintainers of GNU Software" [0] but could not find it any more.
[0]

@_date: 2016-05-06 13:57:21
@_author: flapflap 
@_subject: (OT) FSF involvement 
I found it, finally, in the guidelines for becoming/submitting a GNU
package [0]:
  "A GNU program should not recommend use of any non-free program, and
  it should not refer the user to any non-free documentation for free
  software."
  "Since a GNU program is released under the auspices of GNU, it should
  not say anything that contradicts the GNU Project's views."
IMHO, these are valid positions for a GNU Project.  Non-free software is
unjust, and thus, should not be recommended (including advertisement) --
unless a much higher good (e.g., life and limb after a catastrophe) than
software freedom is in danger.
As others have said earlier in this thread, it's fine to discuss
non-free software by the above rules, but advertisement is not discussion.
[0]

@_date: 2016-05-08 12:09:14
@_author: flapflap 
@_subject: OT egpg evaluation 
Robert J. Hansen:
Another thing I've seen by skimming through the sources are problems
with input sanitisation:  if the input (e.g., file name) starts with "-"
or "--" it's interpreted as commands (for that reason, most unix tools
accept a "--" argument to interpret all following args as input/file
names, not as commands). I wasn't able to find a working shellcode
injection though, but I also didn't look at it with much care.
I really don't think that bash is the right language here...

@_date: 2016-05-29 11:43:18
@_author: flapflap 
@_subject: How to convert (ancient) key in "version 2" to more modern 
Antony Prince:
(Disclaimer: I'm not 100% sure if this really works, it's just how I
think it could work with more recent keys)
You could try the "Decrypt Permanently" or "Create Decrypted Copy"
functions added by Enigmail to the Thunderbird Message Filters (Tools ->
Message Filters) and use an old version of gnupg that still supportes
your old keys (has GPG ever supported V2 keys?).
This decrypts the messages but also strips/removes signatures on
messages, so you loose information whether a message was signed or not
By doing this on an encrypted disk (e.g., LUKS) you don't accidentially
store decrypted copies of the confidential emails and for future usage
you won't need the old keys any more (just the passphrase for LUKS).

@_date: 2016-09-19 13:33:00
@_author: flapflap 
@_subject: Checking Integrity of GPG4Windows 
That is the command for Linux/Unix systems. If you are under Windows,
you'll use
  certutil -hashfile FileToHash.ext sha1
In your case (gpg4win), your "FileToHash.ext" is most likely
"gpg4win-2.3.3.exe" (depends on the package you downloaded from
1. launch "cmd.exe" (e.g. via start menu)
2. type the command
   certutil -hashfile gpg4win-2.3.3.exe sha1
3. press [enter] to start the command
4. compare the output with the "SHA1 checksum" for your file listed on
