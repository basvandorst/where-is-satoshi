
@_date: 2013-10-24 20:47:41
@_author: VINEETA DESHMUKH (CRGL-THIRDPARTY.COM 
@_subject: (GnuPG) 1.4.2 - Signature Verification Issue 
I am facing an issue with the Signature verification from one of our clients - JP Morgan. We currently have FTP+encryption+signature of all the files which they send to us. However, they recently have migrated their FTP servers to connect through secure FTP with SSH keys. This is where we are facing problems when it comes to signature verification to a few files which are placed through their automated process. I am pasting successful and failed logs for your reference.
SUCCESS LOGS:
[GNUPG:] ENC_TO F3F4E3D4F37Cxxxx 1 0
[GNUPG:] GOOD_PASSPHRASE
gpg: encrypted with 2048-bit RSA key, ID F37Cxxxx, created 2013-09-06
      "Cargill, Incorporated (For JP Morgan) "
[GNUPG:] BEGIN_DECRYPTION
[GNUPG:] PLAINTEXT 74 1382033372 test.txt
[GNUPG:] PLAINTEXT_LENGTH 661
gpg: Signature made Thu Oct 17 13:09:33 2013 CDT using RSA key ID DC66xxxx
[GNUPG:] SIG_ID +HaM3M1Nwxxxxxxxxxxxxx 2013-10-17 1382033373
[GNUPG:] GOODSIG F1E1C0B8DC66xxxx JPMC_xxxxxx gpg: Good signature from "JPMC_xxxxxx "
[GNUPG:] VALIDSIG xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
[GNUPG:] TRUST_ULTIMATE
[GNUPG:] DECRYPTION_OKAY
[GNUPG:] GOODMDC
[GNUPG:] END_DECRYPTION
FAILED LOGS:
[GNUPG:] ENC_TO F3F4E3D4F37Cxxxx 1 0
[GNUPG:] GOOD_PASSPHRASE
gpg: encrypted with 2048-bit RSA key, ID F37Cxxxx, created 2013-09-06
      "Cargill, Incorporated (For JP Morgan) "
[GNUPG:] BEGIN_DECRYPTION
[GNUPG:] PLAINTEXT 74 1382033701 test.csv
gpg: Signature made Thu Oct 17 13:15:03 2013 CDT using RSA key ID DC66xxxx
[GNUPG:] BADSIG F1E1C0B8DC66xxxx JPMC_xxxxxxx gpg: BAD signature from "JPMC_xxxxxxx "
Any kind of help and suggestions will be appreciated.
Vineeta Deshmukh
Desk:- (952)-984-5812

@_date: 2013-10-25 14:53:05
@_author: VINEETA DESHMUKH (CRGL-THIRDPARTY.COM 
@_subject: (GnuPG) 1.4.2 - Signature Verification Issue 
Hi David,
Thank you for your prompt response. The files which are sent by JP Morgan are using ascii mode of transfer and the files are ascii armored as well.
Let me know if you have any other questions.
-----Original Message-----
Sent: Thursday, October 24, 2013 7:11 PM
The first thing to ask whenever people put FTP and signatures together is whether the files are transferred via ascii or binary mode in FTP, and the related question of whether the files you are transferring are in ascii armor or not.  Transferring non-armored files via ascii mode in FTP can cause various corruption problems.
