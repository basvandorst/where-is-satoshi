
@_date: 2015-08-28 21:15:55
@_author: Marko Bauhardt (private 
@_subject: uploading subkeys 
i have a keyring which contains a master key for certification and 3 sub keys, one for encryption, one for sign and the third one for authentication.
So my question is which key should i upload to a key server. I mean should i upload the master key id via `gpg ?send-key ` / `gpg ?send-key ` or should i send sub key after by  sub key. For example first the encryption key and after that the key for signing, via `gpg -send-key !`?
What is the difference between uploading the master key and uploading the sub keys separately? I have the feeling that it make sense to share my public key for encryption and my public key for signing separately.
Which key server do you recommend to use?

@_date: 2015-09-04 15:44:03
@_author: Marko Bauhardt (private 
@_subject: uploading subkeys 
As far as i know it is possible to upload a sub key via the id of the sub key ending with the exclamation mark `!`.
I mean does it make sense to send public key of my certification key as well to the key server? I assume that the public key for encryption and sign is enough.
Ok, thanks.

@_date: 2015-09-14 10:07:20
@_author: Marko Bauhardt 
@_subject: uploading subkeys 
Ok, thx. This was not clear for me. Can you point me to some documentation about key blocks and primary key / subkey?

@_date: 2016-02-12 17:13:53
@_author: Marko Bauhardt 
@_subject: using an expired GPG key with ssh 
i plan to use my GPG authentication key to do a login via ssh onto my server.
I tried monkeysphere to convert my GPG key to a ssh key, and adding the key to the ssh-agent. Everything works as expected.
But the question i have is, will `ssh-add` or `monkeysphere subkey-to-ssh-agent` will fail when my GPG subkey is expired?
Has anyone experience with GPG and ssh authentication?
Should i use the gpg-agent instead of the ssh-agent?
Marko Bauhardt
marko.bauhardt at mailbox.org
Bitte sch?tzen Sie meine und Ihre Privatsph?re, nutzen Sie PGP
Please protect my and your privacy, use PGP
Key ID: 53192101
Fingerprint: DC0F E851 82A3 72E3 7FE1  ACDB 970C FD47 5319 2101

@_date: 2016-02-16 09:42:10
@_author: Marko Bauhardt 
@_subject: using an expired GPG key with ssh 
Thanks. This is what i searched for. I should read the manual more precisely ;)
I know that. But i saw not really an advantage to using the gpg agent, except of the using of TTL?s for keys i want to add.
What are your points to use the gpg-agent instead the ssh-agent?
Thanks for your comments
Marko Bauhardt
marko.bauhardt at mailbox.org
Bitte sch?tzen Sie meine und Ihre Privatsph?re, nutzen Sie PGP
Please protect my and your privacy, use PGP
Key ID: 53192101
Fingerprint: DC0F E851 82A3 72E3 7FE1  ACDB 970C FD47 5319 2101

@_date: 2016-02-16 20:26:48
@_author: Marko Bauhardt 
@_subject: using an expired GPG key with ssh 
Make totally sense. I will try that out.
Marko Bauhardt
marko.bauhardt at mailbox.org
Bitte sch?tzen Sie meine und Ihre Privatsph?re, nutzen Sie PGP
Please protect my and your privacy, use PGP
Key ID: 53192101
Fingerprint: DC0F E851 82A3 72E3 7FE1  ACDB 970C FD47 5319 2101

@_date: 2017-02-08 08:23:18
@_author: Marko Bauhardt 
@_subject: content of private-keys-v1.d 
I?m using GPG 2.0.30 on osx. My goal is to not save any private key on any machine i?m using.
So i bought me a smart card (yubikey) to save my private keys there. I have 3 keys, sign/encrypt/auth. Everything works so far.
I?m using the gpg-agent to use my authentication subkey from my yubikey to login on a ssh machine. It works also. But in this case a new key is generated under `gnupg/private-keys-v1.d`.
My question is. What is this for a key and for what is that key used for? The folder name `private-keys-v1.d` sounds like to store keys from GPG version 1.x. But i?m using 2.0.x. Any comments about his folder?
As i said before, i want to not save any key on my machine. And for now i?m not sure if i reach this goal because this new key sounds like it is a private key.
Marko Bauhardt
marko.bauhardt at mailbox.org Key ID: 53192101
Fingerprint: DC0F E851 82A3 72E3 7FE1  ACDB 970C FD47 5319 2101

@_date: 2017-02-08 08:29:33
@_author: Marko Bauhardt 
@_subject: effect of revuid 
Ok. Thanks.
Sure. Got it.
Oki thx.
Nice. This is an important answer.
Yes, totally. Thx for explanation.
Marko Bauhardt
marko.bauhardt at mailbox.org Key ID: 53192101
Fingerprint: DC0F E851 82A3 72E3 7FE1  ACDB 970C FD47 5319 2101

@_date: 2017-02-08 12:13:06
@_author: Marko Bauhardt 
@_subject: content of private-keys-v1.d 
You mean that this ?stub? contains no information which can be use to sign/decrypt/authenticate?
Or in other words in case someone steal this key, he/she can nothing do with that particular key, only in case the GPG key is located on a smartcard?
But if the key is not on the smart card this corresponding key can be use to sign/enc/auth?
I can not really find some detailed documentation of the `private-keys-v1.d` folder. Do you have some docu?
Marko Bauhardt
marko.bauhardt at mailbox.org GPG Key ID: 53192101
GPG Fingerprint: DC0F E851 82A3 72E3 7FE1  ACDB 970C FD47 5319 2101

@_date: 2017-02-08 19:15:29
@_author: Marko Bauhardt 
@_subject: content of private-keys-v1.d 
;). Understand hehe.
Thanks a lot for all your answers!

@_date: 2017-02-09 09:57:58
@_author: Marko Bauhardt 
@_subject: content of private-keys-v1.d 
you mean here   ?
The part i?m interested in should be this right?
** Shadowed Private Key Format
To keep track of keys stored on IC cards we use a third format for
private kyes which are called shadow keys as they are only a reference
to keys stored on a token:
   (rsa
    (n  bytes not shown]..51
    (e     (shadowed protocol (info))
   )
   (uri  x-foo:whatever_you_want)
   (comment whatever)
The currently used protocol is "ti-v1" (token info version 1).  The
second list with the information has this layout:
(card_serial_number id_string_of_key fixed_pin_length)
FIXED_PIN_LENGTH is optional.  It can be used to store the length of
the PIN; a value of 0 indicates that this information is not
available.  The rationale for this field is that some pinpad equipped
readers don't allow passing a variable length PIN.
More items may be added to the list.
With this example
Key: (shadowed-private-key
    (rsa
    (n     2961D8AEA153424DC851EF13B83AC64FBE365C59DC1BD3E83017C90D4365B4
    83E02859FC13DB5842A00E969480DB96CE6F7D1C03600392B8E08EF0C01FC7
    19F9F9086B25AD39B4F1C2A2DF3E2BE317110CFFF21D4A11455508FE407997
    601260816C8422297C0637BB291C3A079B9CB38A92CE9E551F80AA0EBF4F0E
    72C3F250461E4D31F23A7087857FC8438324A013634563D34EFDDCBF2EA80D
    F9662C9CCD4BEF2522D8BDFED24CEF78DC6B309317407EAC576D889F88ADA0
    8C4FFB480981FB68C5C6CA27503381D41018E6CDC52AAAE46B166BDC10637A
    E186A02BA2497FDC5D1221
    (e     (shadowed t1-v1
     ( OPENPGP.1)
    )))
Marko Bauhardt
marko.bauhardt at mailbox.org GPG Key ID: 53192101
GPG Fingerprint: DC0F E851 82A3 72E3 7FE1  ACDB 970C FD47 5319 2101

@_date: 2017-02-12 13:32:06
@_author: Marko Bauhardt 
@_subject: send-keys does not update my key 
The amor definition of my public key i uploaded to hkps://hkps.pool.sks-keyservers.net  differs to the public key definition i uploaded to another web service. When i import both key pairs the result looks the same. I don?t know exactly what the difference is.
Anyway, i want to update my already uploaded key again. I used the command line (gpg ?send-keys) and i copied also the public key amor block to   but the key is not changed online.
Is there a rule or something which prevents the update of a key?
Are there some options i can use to force an update?
Thx for any hint
Marko Bauhardt
GPG Key ID: 53192101
GPG Fingerprint: DC0F E851 82A3 72E3 7FE1  ACDB 970C FD47 5319 2101

@_date: 2017-02-13 07:45:15
@_author: Marko Bauhardt 
@_subject: send-keys does not update my key 
Sure, understood. But this does not answer the question i have why i can not upload my current local GPG public key to a key server? Again i get no error message while sending the key, everything looks good. But the key will not change online. The representation online will stay the same.
Marko Bauhardt
GPG Key ID: 53192101
GPG Fingerprint: DC0F E851 82A3 72E3 7FE1  ACDB 970C FD47 5319 2101

@_date: 2017-02-14 19:51:47
@_author: Marko Bauhardt 
@_subject: send-keys does not update my key 
Hi Peter,
I tried that out with my two public key representations. There was a diff between the two keys.
The trust level of my two IDs was `unknown` in the one public key and `ultimate` in the other key.
Maybe this is the reason why the armor output is different.
I mean it make sense when the key server will change the trust level of the given user-id to `unknown` while uploading.
;) Thx!
This was the case except of the trust level.
Thank you. Very helpful.
Marko Bauhardt
GPG Key ID: 53192101
GPG Fingerprint: DC0F E851 82A3 72E3 7FE1  ACDB 970C FD47 5319 2101

@_date: 2017-02-15 12:33:28
@_author: Marko Bauhardt 
@_subject: send-keys does not update my key 
Ah ok. Thanks.
Marko Bauhardt
GPG Key ID: 53192101
GPG Fingerprint: DC0F E851 82A3 72E3 7FE1  ACDB 970C FD47 5319 2101

@_date: 2017-01-29 11:39:25
@_author: Marko Bauhardt 
@_subject: Expired GPG key for ssh authentication 
I?m using gpg 2.0.30. I have a keyring which contains a subway which is there for authentication only. I?m using `monkeysphere s` to add this key to my ssh-agent. Using `ssh-add -L` to get the public ssh key representation to be able to add the key to my `.ssh/authorized_keys` file on the server. Everything works. But  i configured my subkey to expire after one year.
Now one year later. My ssh subkey is expired. But i?m still able to login into my ssh-server.
My assumption was that i can use this subkey only if this key is valid. Is the expired key working because i?m using the ssh-agent instead of the gpg-agent?
Any idea or comment?
Marko Bauhardt
marko.bauhardt at mailbox.org Key ID: 53192101
Fingerprint: DC0F E851 82A3 72E3 7FE1  ACDB 970C FD47 5319 2101

@_date: 2017-01-31 14:13:52
@_author: Marko Bauhardt 
@_subject: effect of revuid 
what is the effect when delete a UID via `revuid` from a  given key.
My key is still valid right? The uid?s are only bound to a given key and can be exchanged as much i want. right? Or are there some more effects?
The only effect i see is
* someone can not send an encrypted email to this email with that specific key
* i can not send a signed messages with that email and specific key
Can i still decrypt emails with my key sent to this revoked email?
Marko Bauhardt
marko.bauhardt at mailbox.org PGP Key ID: 53192101
PGP Fingerprint: DC0F E851 82A3 72E3 7FE1  ACDB 970C FD47 5319 2101
