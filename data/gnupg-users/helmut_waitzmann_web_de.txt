
@_date: 2001-08-27 22:49:02
@_author: Helmut Waitzmann 
@_subject: Piping stdout to more or less? 
No, it's not lost in the pipe.  Probably the passphrase prompt
goes to stderr (i.e. the terminal) or even to the terminal device
(/dev/tty) itself, not to stdout (i.e. the pipe), but
unfortunately, because gpg and more are running at the same time,
after gpg has written the passphrase prompt, more clears the
screen and writes it's prompt, so the passphrase prompt gets
Similarly, after gpg has written it's passphrase prompt, it
switches the terminal echo off, but more, after it has cleared
the screen and written it's prompt, switches the terminal echo on
again.  So you can see the more prompt and your passphrase as you
type it.
Then more switches the terminal to noncanonic input mode,
i.e. the characters you type are read one at a time, without you
having to type a newline character.  But then gpg switches the
terminal back to canonic input mode, i.e. the characters you type
are read line by line with erase-kill-processing enabled.
So, the cause of your problem is, that gpg and more want to read
from the terminal same time.  To avoid this, you must
ensure, that pgp can read the passphrase from your
terminal, without beeing disturbed by more, and vice versa.
The simplest way to achieve this, is to not start more until gpg
has exited.  But that implies, as far as I can see, that you
cannot use a pipe.

@_date: 2001-08-30 12:57:02
@_author: Helmut Waitzmann 
@_subject: Slightly off topic ... 
Don't use $*!  Parameters will be get broken at while spaces, see
bash(1) or sh(1).  Use ${1+"$ instead:
    mount /mnt/floppy
  gpg --clearsign ${1+"$
  umount /mnt/floppy

@_date: 2002-06-25 20:27:02
@_author: Helmut Waitzmann 
@_subject: How to set the lib-directory when running gpg-1.0.7? 
In the manual page, I can read
   FILES
          /usr[/local]/lib/gnupg/
                    Default location for extensions
Is it possible, to supply an option that sets the default
location for extensions, for example:
   gpg --extension-directory "$HOME"/lib/gnupg/
?  I know, that I can supply a default location during
./configure with the option --libdir="$HOME"/lib, but that
doesn't work, if my home directory gets moved after installing.

@_date: 2002-03-20 14:51:01
@_author: Helmut Waitzmann 
@_subject: gnupg to encrypt files in a batch processes 
That's unsecure:  If "echo" is an external program, then
everybody having shell access to the machine can spy out the
PASSPHRASE using the "ps" program.
I recommend to do it like this:
put the PASSPHRASE into a file, for example
gpg -s -e -o - --batch --yes --passphrase-fd 0 -r myemail /us=
r/local/BatchMail/mailbox/TestFileMsg < /usr/local/BatchMail/passphrase
