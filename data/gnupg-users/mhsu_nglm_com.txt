
@_date: 2003-08-07 19:21:02
@_author: Mike Hsu 
@_subject: gpg script in cron failed with "stdin must be a tty" 
Mike Hsu (mhsu
Database Technologist
Northrop Grumman IT
Defense Enterprise Solutions
La Mesa, CA  =20
619-460-2281 x 237

@_date: 2003-08-07 20:19:02
@_author: Mike Hsu 
@_subject: gpg script in cron failed with "stdin must be a tty" 
Tried  [2003-08-07 13:26]:
Have you tried adding < /dev/null to the command line?

@_date: 2003-08-07 21:39:02
@_author: Mike Hsu 
@_subject: gpg script in cron failed with "stdin must be a tty" 
"gpg --batch --no-tty --output junk.txt --decrypt junk2.gpg"
is not working in cron.
It works fine with "at" but with in "cron".
Mike Hsu (mhsu
Sent: Thursday, August 07, 2003 10:18 AM
Mike Hsu (mhsu
Database Technologist
Northrop Grumman IT
Defense Enterprise Solutions
La Mesa, CA  =20
619-460-2281 x 237
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, =
is for the sole use of the intended recipient(s) and may contain =
confidential and privileged information.  Any unauthorized review, use, =
disclosure or distribution is prohibited.  If you are not the intended =
recipient, please contact the sender by reply e-mail and destroy all =
copies of the original message.
Gnupg-users mailing list

@_date: 2003-08-07 22:28:02
@_author: Mike Hsu 
@_subject: gpg script in cron failed with "stdin must be a tty" 
Key rings and keys are created without passphrase/
I am having the same problem with encrypt in cron.
Mike Hsu (mhsu
Sent: Thursday, August 07, 2003 11:49 AM
Cron Usage:  use the --batch and --no-tty options to gpg.
gpg --batch --no-tty --output junk.txt --decrypt junk2.gpg
-----Original Message-----
Sent: Thursday, August 07, 2003 10:18 AM
Mike Hsu (mhsu
Database Technologist
Northrop Grumman IT
Defense Enterprise Solutions
La Mesa, CA  =20
619-460-2281 x 237
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, =
for the sole use of the intended recipient(s) and may contain =
and privileged information.  Any unauthorized review, use, disclosure or
distribution is prohibited.  If you are not the intended recipient, =
contact the sender by reply e-mail and destroy all copies of the =
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, =
is for the sole use of the intended recipient(s) and may contain =
confidential and privileged information.  Any unauthorized review, use, =
disclosure or distribution is prohibited.  If you are not the intended =
recipient, please contact the sender by reply e-mail and destroy all =
copies of the original message.
Gnupg-users mailing list

@_date: 2003-08-08 10:32:09
@_author: Mike Hsu 
@_subject: gpg script in cron failed with "stdin must be a tty" 
A simple gpg script with no passphrase needed:
gpg --output junk.txt --decrypt junk2.gpg
runs OK in bash but fails in cron job.
I get the following message in mail:
stdin must be a tty
How can I fix this?
Mike Hsu (mhsu

@_date: 2003-08-08 16:33:02
@_author: Mike Hsu 
@_subject: gpg script in cron failed with "stdin must be a tty" 
Finally got it to work with root.
Still having problem with other user.
 DO NOT EDIT THIS FILE - edit the master and reinstall.
# (/tmp/crontab.12587 installed on Fri Aug  8 07:14:39 2003)
# (Cron version -- $Id: crontab.c,v 2.13 1994/01/17 03:20:37 vixie Exp =
15 07 * * * su - oracle -c testdec.sh
export GNUPGHOME=3D/home/oracle/.gnupg
rm /usr/dba/junk.out
gpg --output /usr/dba/junk.out --batch --no-tty --decrypt =
date > t.log
Mike Hsu (mhsu
-----Original Message-----
Sent: Friday, August 08, 2003 7:16 AM
cron uses bash.  You mean it runs OK while you are logged in, but fails
when you attempt to do it without being logged in.
That error message is probably incorrect.
Thank you,
CL Gilbert
"Then said I, Wisdom [is] better than strength: nevertheless the poor
man's wisdom [is] despised, and his words are not heard." Ecclesiastes
GnuPG Key Fingerprint:
82A6 8893 C2A1 F64E A9AD  19AE 55B2 4CD7 80D2 0A2D
GNU Privacy Guard  (Encryption and Digital

@_date: 2003-08-08 17:10:02
@_author: Mike Hsu 
@_subject: gpg script in cron failed with "stdin must be a tty" 
I am running RedHat Linux AS 2.1.
I duplicate the process as root and it worked.
(logged in as root, create the keyrings and keys without passphrase, =
export, import, ...)
I am sure it's not the "rm", I tried it with or without "-f".
Mike Hsu (mhsu
-----Original Message-----
Sent: Friday, August 08, 2003 7:58 AM
what do you mean with root? is the root a user that holds gpg keys on
yoru system?
What flavor of linux are you using?  Why did you edit crontab as opposed
to just putting the script in
perhaps try=20
rm -f /usr/dba/junk.out
else rm could ask you to verify that you want to delete the file.  for
me it only asks when I am logged in as root, but I do not know what cron
will do.
also if you have sendmail installed, you may want to check roots mail to
see any cron error messages.
Thank you,
CL Gilbert
"Then said I, Wisdom [is] better than strength: nevertheless the poor
man's wisdom [is] despised, and his words are not heard." Ecclesiastes
GnuPG Key Fingerprint:
82A6 8893 C2A1 F64E A9AD  19AE 55B2 4CD7 80D2 0A2D
GNU Privacy Guard  (Encryption and Digital
