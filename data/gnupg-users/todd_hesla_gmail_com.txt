
@_date: 2013-10-24 11:40:32
@_author: Todd Hesla 
@_subject: Gpg-agent won't add SSH keys 
Dear fellow GnuPG users:
I'm running gpg-agent with SSH support enabled, but ssh-add doesn't work as
The documentation for the "enable-ssh-support" option says that ssh-add will ask
for my SSH passphrase (it does), and that then gpg-agent will ask for my GPG
passphrase, and use it to encrypt my SSH key and store it in a "gpg-agent
specific directory".  The second step doesn't happen.  Not only am I not asked
for my (GPG) passphrase, but the "sshcontrol" file is not updated.  (I assume
that this is the "gpg-agent specific directory" referred to in the docs.)
The end result is that each day (or each time I start gpg-agent in a new
session), I need to enter my SSH passphrase the first time I run one of the SSH
utilities.  The documentation for the "enable-ssh-support" option implies that
this shouldn't be necessary--that once I enter my GPG passphrase at the
beginning of the session, the agent should perform all further requests
(involving either my GPG key, or my SSH key) without asking for a passphrase.
Or am I just misunderstanding how things are supposed to work?
I've checked the SSH_AUTH_SOCK environment variable, and it appears to be set
I'm running GnuPG 2.0.19 (and OpenSSH_6.1p1) on a recently installed Fedora 18
Thanks for your help.
