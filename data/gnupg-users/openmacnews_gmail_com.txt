
@_date: 2006-04-03 19:27:51
@_author: OpenMacNews 
@_subject: gnupg 1.4.3 build fails @ 'make' on OSX 10.4.5, 
Hash: RIPEMD160
hi all.
1.4.2 was built/running OK on my OSX 10.4.5.
attempting the 1.4.3 build ...
./configure w/:
results in a 'make' fail - -L/usr/local/include -I/usr/local/include -I/usr/local/include
- -I/usr/local/include  -g -O2 -Wall -Wno-pointer-sign -MT gpgsplit.o -MD
- -MP -MF ".deps/gpgsplit.Tpo" -c -o gpgsplit.o gpgsplit.c; \
".deps/gpgsplit.Tpo"; exit 1; fi
- -L/usr/local/lib -L/usr/local/lib -o gpgsplit  gpgsplit.o
../cipher/libcipher.a ../mpi/libmpi.a ../util/libutil.a  -liconv -lintl
- -liconv -lc  -lz -lbz2
definition of _locale_charset
DISABLING nls,  as:
howeverm results in a successful 'make'
fwiw, my /usr/local/lib/libintl.dylib is from a local install of GETTEXT
v0.14.5 ...
just starting to poke around as to what changed ... any suggestions?

@_date: 2006-04-04 01:20:00
@_author: OpenMacNews 
@_subject: gnupg 1.4.3 build fails @ 'make' on OSX 10.4.5, 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: RIPEMD160
and a little more info ... per request:
configuring 143 as:
  ./configure \
  --prefix=/usr/local/gpg143 \
  --with-readline=/usr/local \
  --with-zlib=/usr/local \
  --with-libcurl=/usr/local/lib \
  --with-included-gettext
also fails Making all in tools
if gcc -DHAVE_CONFIG_H -I. -I. -I.. -I../include -I../intl
- -L/usr/local/include -I/usr/local/include -I/usr/local/include  -g -O2
- -Wall -Wno-pointer-sign -MT gpgsplit.o -MD -MP -MF ".deps/gpgsplit.Tpo"
- -c -o gpgsplit.o gpgsplit.c; \
then mv -f ".deps/gpgsplit.Tpo" ".deps/gpgsplit.Po"; else rm -f
".deps/gpgsplit.Tpo"; exit 1; fi
gcc  -g -O2 -Wall -Wno-pointer-sign  -L/usr/local/lib -lreadline -lpcre
- -L/usr/local/lib -L/usr/local/lib -o gpgsplit  gpgsplit.o
../cipher/libcipher.a ../mpi/libmpi.a ../util/libutil.a  -liconv
../intl/libintl.a -liconv  -lz -lbz2
../util/libutil.a(memory.o) definition of _xfree in section (__TEXT,__text)
../util/libutil.a(memory.o) definition of _xmalloc in section
../util/libutil.a(memory.o) definition of _xrealloc in section
collect2: ld returned 1 exit status
make[2]: *** [gpgsplit] Error 1
make[1]: *** [all-recursive] Error 1
make: *** [all] Error 2

@_date: 2006-04-04 02:11:09
@_author: OpenMacNews 
@_subject: gnupg 1.4.3 build fails @ 'make' on OSX 10.4.5, 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: RIPEMD160
hi david,
well, not exactly ... yes i see the conflict, but no, i did not install
a 'new' gettext ... its' the same one i've built 1.4.2.2 against.
have not tried as yet, as it is/was working w/ 1.4.2.2:
otool -L /usr/local/bin/gpg
 /usr/local/lib/libreadline.5.1.dylib (compatibility version 5.0.0,
current version 5.1.0)
 /usr/local/lib/libpcre.0.dylib (compatibility version 1.0.0, current
version 1.1.0)
 /usr/lib/libiconv.2.dylib (compatibility version 5.0.0, current version
 /usr/local/lib/libintl.3.dylib (compatibility version 8.0.0, current
version 8.3.0)
 /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current
version 88.1.5)
 /usr/local/lib/libz.1.dylib (compatibility version 1.0.0, current
version 1.2.3)
 /usr/lib/libbz2.1.0.dylib (compatibility version 1.0.0, current version
 /usr/local/lib/libusb-0.1.4.dylib (compatibility version 9.0.0, current
version 9.4.0)
 /usr/local/lib/libcurl.3.dylib (compatibility version 4.0.0, current
version 4.0.0)
 /usr/local/lib/libidn.11.dylib (compatibility version 17.0.0, current
version 17.17.0)
 /usr/local/ssl/lib/libssl.0.9.7.dylib (compatibility version 0.9.0,
current version 0.9.7)
 /usr/local/ssl/lib/libcrypto.0.9.7.dylib (compatibility version 0.9.0,
current version 0.9.7)
 /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version

@_date: 2006-04-04 03:25:43
@_author: OpenMacNews 
@_subject: gnupg 1.4.3 build fails @ 'make' on OSX 10.4.5, 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: RIPEMD160
hi david,
thx for your insights.
odd, tho, as i routinely use gettext & readline across *dozens* of other
builds/apps/etc, with nary a problem ... even with gpg for ages (lucky'
tho i may have been ...)
as for the build environment, mine's not simply up to date with apple's
latest (it is), but further, in keeping with most upt-to-date app/tool
releases.  i kinda doubt 'too old' is the problem ...
i guess i'll be sticking with stable 1.4.2.2 for now.
thx again!

@_date: 2006-03-02 23:48:11
@_author: OpenMacNews 
@_subject: can't get perl's cpan to 'behave' when using gpg ... 
Hash: RIPEMD160
hi all,
i've gnupg 1.4.2.1 built/installed from src on OSX 10.4.5.
when using perl's CPAN, gpg is used for module signature checking.
to that end, cpan's Config.pm includes:
  'gpg' => q[/usr/local/bin/gpg],
i've configured my gpg to use keyrings/perms of "userA".
from shell, i typically run as userA.
however, cpan is often run as a different user, with superuser perms.
when i run cpan as userB to install modules i get warning such as:
gpg: WARNING: unsafe ownership on homedir `/Users/userA/gpg_homedir'
gpg: WARNING: unsafe ownership on homedir `/Users/userA/gpg_homedir'
Signature for
before running cpan, i see:
% ls -al /Users/userA/gpg_homedir
but AFTER running cpan as userB i see:
% ls -al /Users/userA/gpg_homedir
note that CPAN is, apparently, changing user ownership on pubring,
random_seed and trustdb !?
how/where do i:
(a) prevent cpan from making changes to my gpg files' ownership?
(b) force cpan to exec gpg as userA -- my typical/intended user?
i've changed the Config.pm entry to:
  'gpg' => q[sudo -u userA /usr/local/bin/gpg],
alas, to no avail.  same symptoms/warnings/etc.
suggestions are appreciated!
