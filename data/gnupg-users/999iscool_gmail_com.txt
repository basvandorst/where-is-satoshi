
@_date: 2018-08-07 16:27:44
@_author: Yu 
@_subject: gpg: decryption failed: No secret key 
I setup my gpg and keyed to Yubikey. My SSH works flawlessly. I have the
master key and subkeys. So my authentication key, encryption key, and
signing key should be totally fine.
John-Wong:tmp jwong$ gpg --list-secret-keys
sec#  rsa4096/0xC9E7221DAFCE6539 2018-08-07 [SC]
      Key fingerprint = 463F FBF9 0399 725F 240E  7A11 C9E7 221D AFCE 6539
uid                   [ultimate] John Wong ssb#  rsa4096/0xF7254D474BF6AD14 2018-08-07 [S]
ssb#  rsa4096/0xBAB7FE8D803C2351 2018-08-07 [E]
ssb>  rsa4096/0x676CA8641A239FE2 2018-08-07 [SA]
I am confused why I get this message:
    gpg: decryption failed: No secret key
I tried gpg --import but still doesn't help.
John-Wong:~ jwong$ gpg --import mastersub.key
gpg: key 0xC9E7221DAFCE6539: "John Wong " not changed
gpg: To migrate 'secring.gpg', with each smartcard, run: gpg --card-status
gpg: key 0xC9E7221DAFCE6539: secret key imported
gpg: Total number processed: 1
gpg:              unchanged: 1
gpg:       secret keys read:
Does anyone have any ideas for why this is happening? Thank you very much.
This has been bothering me for few days now.

@_date: 2018-08-07 19:38:29
@_author: Yu 
@_subject: gpg: decryption failed: No secret key 
Hi Dirk
Thank you very much. I just want to make sure I am doing the right thing,
so please excuse me if I am asking too much.
You should delete the complete secret key set from you keyring. Then
Do I just call "gpg delete-secret-key ID" for each key ID listed in the
--list-secret-keys output?
I have not :/

@_date: 2018-08-08 00:03:48
@_author: Yu 
@_subject: gpg: decryption failed: No secret key 
WOW! That works.
To document this, if anyone ever run into this situation:
This is the key I need to delete from the card/yubikey.
1. gpg --delete-key 0xC9E7221DAFCE6539
2. gpg --card-status should return NONE and  gpg --list-keys would return
gpg: no ultimately trusted keys found
3. pull out the card
4. run gpg --import PUBLIC_KEY_FILE
5. insert the card
6. gpg --card-status
7. now try to encrypt and decrypt (you will be prompted to enter your PIN
to unlock your card).
Thank you Dirk!
On Tue, Aug 7, 2018 at 7:59 PM Dirk Gottschalk <
