
@_date: 2015-11-17 07:32:03
@_author: James 
@_subject: best practices for creating keys 
I'm just dipping my toes into GPG and am making a significant effort
to "do things right" out of the gate.
Based on my research, it is my understanding that "best practices"
dictate we should have one master key with subkeys for specific
purposes (personal work, "work" work, etc.). The master key is kept on
an "offline" computer and then used only to revoke particular subkeys
if needed.
Is this accurate?
Below is an article that seems to discuss precisely this subject. It's
a bit dated (2013), so am looking for clarification on whether or not
this is the _best_ way to deal with GPG, key pairs, etc.
I've seen a few other StackOverflow questions about this matter and
they all seem to recommend the same thing: create one master key, a
subkey (or more than one) and use those instead of the master key for
signing as needed.
I'm particularly confused regarding the lexicon used in the article
above, mostly because of my ignorance (as the article is rather
clearly written). The author indicates that:
- we create a keypair
- added signing subkey
- exported complete keypair _to TWO files_ (along with a revocation certificate)
- removed original signing subkey and stash that away safely (in a
safe, offline)
My questions (and please forgive my ignorance):
(a) when you create a the original keypair and export, it exports to
_two_ files; how then, after adding another signing subkey, does the
export also result in two files? Are both signing subkey keys
(original and additional) embedded in your private key when exported?
(b) is this all really necessary? Aren't your private keys, when
secured via a password, encrypted via AES256? If you have a super
secure password / passphrase, is this all really necessary?
(b2) can someone please explain what sort of situation would be
necessary for a private key that's been secured via a password is
actually compromised? Are we talking about keyloggers, etc. here?
Brute force? etc.
(c) if your "laptop keypair" (terminology from article above) is
compromised, data encrypted against that subkey will be compromised as
well, correct? The only benefit to creating subkeys is that you can
then revoke the subkey using your original signing key and let the
world know that you're still "in control" of your identity, correct?
(d) let's say you've used the laptop keypair to encrypt a wide swath
of data (emails, actual files, etc.). If you revoke the laptop subkey
because it's been compromised, can you still use that compromised
keypair to _decrypt_ the data, or is it lost forever?
Any thoughts / clarification appreciated.

@_date: 2015-11-17 07:39:53
@_author: James 
@_subject: backing up keys 
I'm new to GPG and am hoping to learn the ropes. Please forgive any
ignorant questions.
(a) are there any recommended methods by which to back up your private
and public keys? I've seen some "paper" methods (paperkey) and some
GitHub gists that have taken the private key, broken it in several
pieces and used QR codes to back up. Which is better? Does it matter?
(b) is your public key embedded in your private key? If you're not
actually uploading your private key to a keyserver (perhaps using the
key to secure data / files instead of email, thus no need for
keyserver), is it sufficient to back up the private key only, or
_must_ I back up both files?
(c) Isn't the private key itself encrypted via AES256 when secured
with a passphrase? If so, assuming the passphrase is secure enough,
isn't it sufficient to upload this file to Dropbox, etc. for safe
keeping? Would appreciate both real-world and theoretical commentary
on this point.
(d) as best I can tell, the --armor flag is used to dump the key to
ASCII. The gpg documentation[1] seems to indicate that paperkey works
better at backing up to paper. Is there some reason why? Can't we
simply run --armor, print the output and then use OCR to pull the key
back in in case of emergency?
Thoughts, ideas and real world experience on securely handling backups
of your sensitive GPG data would be _greatly_ appreciated!
1

@_date: 2015-11-23 09:22:50
@_author: James 
@_subject: best practices for creating keys 
I'm pleasantly surprised by the warm and helpful reception of this
community to my many questions. Thank you all in advance for your
detailed and thorough responses. The conversation thus far has been
quite thought-provoking.
I thoroughly read and re-read the responses in this thread, tinkered
with GPG for many hours and poured over the documentation (again). I
still have a few questions:
- I believe that GPG has sane settings out-of-the-box, but prefer to
verify that trust. ;) Why doesn't GPG set the digest algorithm to
SHA512 instead of 256 out of the box?
- I'm also curious why the default-preference-list isn't set to
something more secure, as suggested here[1]:
default-preference-list SHA512 SHA384 SHA256 SHA224 AES256 AES192 AES
CAST5 ZLIB BZIP2 ZIP Uncompressed
To be perfectly clear, I am sure the folks who made the decision to
choose SHA256 is _far_ more intelligent than I am and there is sound
reason behind these default choices. I simply would like to better
understand these design decisions.
I'm also looking for some clarification around the primary key. Out of
the box it appears that GPG will create a private key for signing and
certification. Some documentation around the web indicates that the
primary key can be stripped of all capabilities, leaving _only_
certify. What are the pros and cons of allowing the private key only
to certify, then creating a subkey to sign (and another to encrypt)?
To go a bit further down that rabbit hole, let's say I want to create
a primary key (with certify-only capabilities), several subkeys and
then remove the private key (as has been discussed ad nauseam in this
thread); it appears that stripping the capabilities of the primary key
to the bare minimum (i.e., no signing, no encrypting, no
authenticating) would be "safer," no?
My concern is that if my primary key is for certification only, how
would it sign other people's certificates to expand the web of trust?
I suspect that if the capabilities are set to _only_ certify, I would
need to sign other people's keys using my subkey. How would this
affect the notion of "even if you lose your subkeys, your identity and
web of trust are not impacted as long as your primary key is not
Seems to me that the primary key /should/ have both certify and sign
capabilities to really be useful, no?
Any thoughts and ideas regarding these questions is greatly appreciated.
1

@_date: 2015-11-23 11:20:07
@_author: James 
@_subject: best practices for creating keys 
I appreciate the input and hear you loud and clear.
I respect that GPG makes sane, technically secure and well-thought-out
decisions. As I mentioned in my previous response, the folks that
designed and coded GPG are likely far more intelligent than I. This
does not assuage my deep curiosity to understand the various knobs and
gears that can be tweaked. Said deep understanding also puts me in a
position whereby I can more easily deal with various issues or
complexities down the line.
The same can be said for almost any complex system, software or not.
It seems to me that, perhaps, making these sorts of decisions up front
is of some value. If you create a primary key, upload it to a public
keyserver and later decide: "hrm, my public key should really only
certify, not sign," it's a bit too late. (although not impossible,
difficult to change ex post facto).
It's also worth noting that the suggestion to remove the primary key
from your laptop isn't thrown up on a few random blogs; instead it is
something that other projects[1] encourage.
If one's primary key is his or her identity, I'd like to be certain
that I correctly create the key(s). Thus being meticulous and careful
in creating primary key seems like a reasonable step, IMHO.
Finally, I do appreciate the list of things that I should focus on --
there are several I had not contemplated and will now do so.

@_date: 2015-11-23 15:31:10
@_author: James 
@_subject: best practices for creating keys 
Thank you Robert and Peter.
It appears that information I had read previously was erroneous. I was
under the impression the capabilities (at least for the primary key)
were set in stone, hence my apprehension at avoiding those insatiable
knobs and gears I like to tinker with. ;)
This thread has been tremendously insightful. My thanks to all who
responded and shared their perspectives.
