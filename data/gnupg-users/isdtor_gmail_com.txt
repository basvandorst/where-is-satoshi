
@_date: 2015-02-10 10:28:49
@_author: isdtor 
@_subject: HKPS issue with static build of gnupg 2.0.26: checking whether 
Not a gnupg problem. If the root cause for this behaviour is the
failure to link against libcurl, it's either the openssl ebuild or
openssl's own build system. I suspect the latter ...
# equery u openssl
[ Legend : U - final flag setting for installation]
[        : I - package is installed with flag     ]
[ Colors : set, unset                             ]
 * Found these USE flags for dev-libs/openssl-1.0.1k:
 U I
 - - bindist       : Disable EC/RC5 algorithms (as they seem to be
patented) -- note: changes the ABI
 - - gmp           : Add support for dev-libs/gmp (GNU MP library)
 - - kerberos      : Add kerberos support
 - - rfc3779       : Enable support for RFC 3779 (X.509 Extensions for
IP Addresses and AS Identifiers)
 + + static-libs   : Build static versions of dynamic libraries as well
 - - test          : Workaround to pull in packages needed to run with
FEATURES=test. Portage-2.1.2 handles this internally, so don't set it
in make.conf/package.use anymore
 + + tls-heartbeat : Enable the Heartbeat Extension in TLS and DTLS
 - - vanilla       : Do not add extra patches which change default
behaviour; DO NOT USE THIS ON A GLOBAL SCALE as the severity of the
meaning changes drastically
 + + zlib          : Add support for zlib (de)compression
gnupg ebuild config.log:
configure:9593: x86_64-pc-linux-gnu-gcc -o conftest -O2 -march=native
-pipe -fomit-frame-pointer   -Wl,-O1 -Wl,--as-needed -static
conftest.c -lcurl -lssl -lcrypto -lssl -lcrypto -lz  >&5
In function `Curl_parsenetrc':
(.text+0x3b1): warning: Using 'getpwuid_r' in statically linked
applications requires at runtime the shared libraries from the glibc
version used for linking
In function `Curl_getaddrinfo_ex':
(.text+0x6e): warning: Using 'getaddrinfo' in statically linked
applications requires at runtime the shared libraries from the glibc
version used for linking
In function `dlfcn_globallookup':
(.text+0x11): undefined reference to `dlopen'
In function `dlfcn_globallookup':
(.text+0x24): undefined reference to `dlsym'
In function `dlfcn_globallookup':
(.text+0x2f): undefined reference to `dlclose'
In function `dlfcn_bind_func':
(.text+0x334): undefined reference to `dlsym'
In function `dlfcn_bind_func':
(.text+0x3f2): undefined reference to `dlerror'
In function `dlfcn_bind_var':
(.text+0x464): undefined reference to `dlsym'
In function `dlfcn_bind_var':
(.text+0x522): undefined reference to `dlerror'
In function `dlfcn_load':
(.text+0x589): undefined reference to `dlopen'
In function `dlfcn_load':
(.text+0x5ed): undefined reference to `dlclose'
In function `dlfcn_load':
(.text+0x625): undefined reference to `dlerror'
In function `dlfcn_pathbyaddr':
(.text+0x6b1): undefined reference to `dladdr'
In function `dlfcn_pathbyaddr':
(.text+0x711): undefined reference to `dlerror'
In function `dlfcn_unload':
(.text+0x772): undefined reference to `dlclose'
collect2: error: ld returned 1 exit status
