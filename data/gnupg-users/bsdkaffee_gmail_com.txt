
@_date: 2009-12-05 02:49:01
@_author: Jason E. Hale 
@_subject: gpgme not compiling when gpgsm support disabled 
I tried to compile gpgme-1.2.0 on FreeBSD 8.0 with the following configure --with-gpg=/usr/local/bin/gpg2 --with-gpgsm=no --with-
The build stops because it cannot find assuan.h.
libtool: compile:  cc -DHAVE_CONFIG_H -I. -I.. -I/usr/local/include -O2 -fno-
strict-aliasing -pipe -march=prescott -Wall -Wcast-align -Wshadow -Wstrict-
prototypes -MT engine-gpgconf.lo -MD -MP -MF .deps/engine-gpgconf.Tpo -c engine-gpgconf.c  -fPIC -DPIC -o .libs/engine-gpgconf.o
engine-gpgconf.c:41:20: libtool: compile:  cc -DHAVE_CONFIG_H -I. -I.. -
I/usr/local/include -O2 -fno-strict-aliasing -pipe -march=prescott -Wall -
Wcast-align -Wshadow -Wstrict-prototypes -MT opassuan.lo -MD -MP -MF .deps/opassuan.Tpo -c opassuan.c -o opassuan.o >/dev/null 2>&1
error: assuan.h: No such file or directory
gmake[3]: libtool: compile:  cc -DHAVE_CONFIG_H -I. -I.. -I/usr/local/include -O2 -fno-strict-aliasing -pipe -march=prescott -Wall -Wcast-align -Wshadow -
Wstrict-prototypes -MT engine.lo -MD -MP -MF .deps/engine.Tpo -c engine.c -o engine.o >/dev/null 2>&1
*** [engine-gpgconf.lo] Error 1
gmake[3]: *** Waiting for unfinished jobs....
mv -f .deps/opassuan.Tpo .deps/opassuan.Plo
mv -f .deps/engine.Tpo .deps/engine.Plo
libtool: compile:  cc -DHAVE_CONFIG_H -I. -I.. -I/usr/local/include -O2 -fno-
strict-aliasing -pipe -march=prescott -Wall -Wcast-align -Wshadow -Wstrict-
prototypes -MT engine-gpg.lo -MD -MP -MF .deps/engine-gpg.Tpo -c engine-gpg.c -o engine-gpg.o >/dev/null 2>&1
mv -f .deps/engine-gpg.Tpo .deps/engine-gpg.Plo
gmake[3]: Leaving directory `/usr/ports/security/gpgme/work/gpgme-1.2.0/src'
gmake[2]: *** [all] Error 2
gmake[2]: Leaving directory `/usr/ports/security/gpgme/work/gpgme-1.2.0/src'
gmake[1]: *** [all-recursive] Error 1
gmake[1]: Leaving directory `/usr/ports/security/gpgme/work/gpgme-1.2.0'
gmake: *** [all] Error 2
*** Error code 1
Stop in /usr/ports/security/gpgme.
*** Error code 1
I removed the  "assuan.h" line from engine-gpgconf.c and the build succeeded.  Is the include neccessary?  Is libassuan needed for gpgconf support or only gpgsm?  I am not subscribed to the list...please CC me.

@_date: 2009-12-07 02:01:18
@_author: Jason E. Hale 
@_subject: gpgme not compiling when gpgsm support disabled 
I know, I am the port's maintainer.  I am trying to figure out if removing the header is an appropriate solution to the build error.  There is a PR about this (ports/141168) and I have been getting pointyhat error logs.
- Jason
