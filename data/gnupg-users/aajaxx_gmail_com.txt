
@_date: 2018-07-13 20:50:44
@_author: Ajax 
@_subject: Building gnupg using the Speedo method 
After export LD_LIBRARY_PATH=(pwd)/PLAY/inst/lib
then make -f build-aux/speedo.mk  native
How does one do the equilivent of make check and then install?

@_date: 2018-06-08 20:21:14
@_author: Ajax 
@_subject: Is something not right with my ~/.gnupg/pubring.kbx 
Most gpg commands give me something like this:
$ gpg -Kv
gpg: using classic trust model
gpg: keydb_search failed: Invalid value
gpg: Oops: keyid_from_fingerprint: no pubkey
Followed by what appears to me to be normal output.
I also see:
$ kbxutil --stats ~/.gnupg/pubring.kbx
Total number of blobs:      600
               header:        1
                empty:        0
              openpgp:      599
                 x509:        0
          non flagged:      599
       secret flagged:        0
    ephemeral flagged:        0
What should I do to clear the Invalid value and no pubkey?
I only saw this problem after upgrading from gpg 1 to gpg2 and using the
given script to migrate from pubring.gpg to pubring.kbx.
These outputs seem to throw a monkey wrench into some scripts such as, for
example, with pass generate -i
This is gpg 2.1.18 atop Debian stretch and Linux  4.9.0-6-amd64,
Thank you.

@_date: 2018-06-14 11:50:14
@_author: Ajax 
@_subject: Is something not right with my ~/.gnupg/pubring.kbx 
Are there no sugestions on how I should try to eliminate the indication of
no pub key althoug gpg -k shows my public keys?

@_date: 2019-12-11 21:12:01
@_author: Ajax 
@_subject: gpg-agent relocation error 
The command: gpg-agent --version gives me the following output:
gpg-agent: relocation error: gpg-agent: symbol
assuan_sock_set_system_hooks, version LIBASSUAN_1.0 not defined in
file libassuan.so.0 with link time referencel
libassuan.so.0 is linked to libassuan.so.0.8.3.  I have a compressed
163K copy which is too large to attach heree on thei list but which
can mail directly if someone can use it to help me.
This version of gpg-agent was built with the following commands:
cd gnupg-2.2.19
export PATH LD_LIBRARY_PATH
make -f build-aux/speedo.mk native \ INSTALL_PREFIX="$HOME" \
     > ../gnupg-2.2.19.speedo-output \
     2>../gnupg-2.219.speedo-errorout
This is on a Debian 9.11 (stretch) box with a  Linux 4.9.0-11 amd64 kernel.
I have seen this problem for a long time but I remain stumped on it.
What should I be looking for?
Why did not testing the binaries using LD_LIBRARY_PATH show a problem?
What in the speedo outputs indicates that the binaries were tested?
Thank you.

@_date: 2019-12-12 19:51:04
@_author: Ajax 
@_subject: gpg-agent relocation error 
Thank you for your quick and clear response; however I must still be
missing something.
With $ printenv LD_LIBRARY_PATH giving
$ gpg-agent --version gives the same relocation error as before.
What should I try now?

@_date: 2019-02-17 20:08:50
@_author: Ajax 
@_subject: Speedo build of GnuPG v2.2.13 fails for me 
This is with Debian Stretch (Debian 9.8) and Linux kernel
Speedo fails as follows:
ajax:~/src/gnupg/gnupg-2.2.13$ LD_LIBRARY_PATH=$(pwd)/PLAY/inst/lib make -f
build-aux/speedo.mk  native
make -f /home/jam/src/gnupg/gnupg-2.2.13/build-aux/speedo.mk UPD_SWDB=1
TARGETOS=native WHAT=release WITH_GUI=0 all
make[1]: Entering directory '/home/jam/src/gnupg/gnupg-2.2.13'
gpgv: Signature made Mon 11 Feb 2019 10:41:15 AM UTC
gpgv:                using RSA key D8692123C4065DEA5E0F3AB5249B39D24F25E3B6
gpgv: Good signature from "Werner Koch (dist sig)"
GnuPG version in swdb.lst is less than this version!
  This version: 2.2.13
  SWDB version: 2.2.12
getting GnuPG software version database.  Stop.
make[1]: Leaving directory '/home/ajax/src/gnupg/gnupg-2.2.13'
build-aux/speedo.mk:73: recipe for target 'native' failed
make: *** [native] Error 2
I notice the following:
ajax:~/src/gnupg/gnupg-2.2.13$ gpg --verify swdb.lst.sig swdb.lst
gpg: Signature made Mon 11 Feb 2019 10:41:15 AM UTC
gpg:                using RSA key D8692123C4065DEA5E0F3AB5249B39D24F25E3B6
gpg: Good signature from "Werner Koch (dist sig)"
jajax:~/src/gnupg/gnupg-2.2.13$ head -n 1 swdb.lst
gnupg22_ver 2.2.12
Is the above what is to be expected?
FWIW without speedo, I get the following and the build seems to be fine.
ajax:~/src/gnupg/gnupg-2.2.13$ ./configure | tail -n 30
config.status: creating po/Makefile
        GnuPG v2.2.13 has been configured as follows:
        Revision:  7922e2dd1  (31010)
        Platform:  GNU/Linux (x86_64-pc-linux-gnu)
        OpenPGP:   yes
        S/MIME:    yes
        Agent:     yes
        Smartcard: yes (without internal CCID driver)
        G13:       no
        Dirmngr:   yes
        Gpgtar:    yes
        WKS tools: yes
        Protect tool:      (default)
        LDAP wrapper:      (default)
        Default agent:     (default)
        Default pinentry:  (default)
        Default scdaemon:  (default)
        Default dirmngr:   (default)
        Dirmngr auto start:  yes
        Readline support:    yes
        LDAP support:        yes
        TLS support:         ntbtls
        TOFU support:        yes
        Tor support:         yes
What should I do to make a speedo build work?
Thank you.

@_date: 2019-02-18 20:10:20
@_author: Ajax 
@_subject: Speedo build of GnuPG v2.2.13 fails for me 
Any hints where I might  find build-aux on debian stretch?

@_date: 2019-02-18 21:54:58
@_author: Ajax 
@_subject: Speedo build of GnuPG v2.2.13 fails for me 
Thank you for your quick abs suscibct response and please excuse me for ny
last silly response.
The speedo build worked fine after using "build-aux/getswdb.sh".
After the speedo build make install gives:
make: *** No rule to make target 'install'.  Stop.
What am I missing now?

@_date: 2019-02-22 18:23:15
@_author: Ajax 
@_subject: Speedo build of GnuPG v2.2.13 fails for me 
Missing was  INSTALL_PREFIX=/usr/local
Thanks, all is well now.

@_date: 2019-09-29 17:29:21
@_author: Ajax 
@_subject: gpg WARNING server gpg-agent is older than us 
The warning:
gpg: WARNING: server 'gpg-agent' is older than us
comes from gpg v 2.2.17 installed using the speedo build.
$ gpg-agent --version
gpg-agent: relocation error: gpg-agent: symbol
assuan_sock_set_system_hooks, version LIBASSUAN_1.0 not defined in
file libassuan.so.0 with link time reference
PLAY/build/libassuan/src/.libs/alibassuan.so.0 -> libassuan.so.0.8.3
This is Libassuan 2.5.3 - The GnuPG IPC Library
Copyright 2001-2013 Free Software Foundation, Inc.
Copyright 2001-2019 g10 Code GmbH
SPDX-License-Identifier: LGPL-2.1-or-later
(4de3154 )
Is there a time reference there or elsewhere?
What else should I be looking for?
Thank you

@_date: 2020-08-21 19:00:52
@_author: Ajax 
@_subject: gpg-agent is older than us 
On a Debian box, 'gpg -K' gives "server 'gpg-agent' is older than us
(2.2.12 < 2.2.21)".   2.2.21 was built using speedo in my home
directory populating ~/bin which appears at the head of $PATH.  The
commands 'which gpg' and 'which gpg-agent' both point to ~/bin.
2.2.12 would have been installed by the Debian package manager with
'~/bin/gp-agent' and omit "older than us" warning?
Thank You

@_date: 2020-08-23 14:41:24
@_author: Ajax 
@_subject: gpg-agent is older than us 
Thank you Phil,
as it is for the Debian package manager to use with /usr/bin/gpg.  Why
cannot ~/bin/gpg use ~/bin/gpg-agent?  Is it true that gpg in $HOME or
