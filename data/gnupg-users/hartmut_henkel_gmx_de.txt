
@_date: 2006-04-06 00:56:17
@_author: Hartmut Henkel 
@_subject: keytocard doesn't move key 
using an SCR335 card reader with gnupg 1.4.3 under debian-sarge AMD64 i
can do
gpg --card-edit
which generates new keys on the smartcard fine and puts them also into
file secring.gpg. But then trying to move the secret key to the
smartcard by
gpg --edit-key
Befehl> toggle
Befehl> keytocard
does _not_ work: The newly generated secret key persists in secring.gpg.
E. g. i can do --export-secret-key without smartcard. Gpg tells:
Really move the primary key? (y/N) y
W?hlen Sie den Speicherort f?r den Schl?ssel:
   (1) Unterschriften-Schl?ssel
   (3) Authentisierungs-Schl?ssel
Ihre Auswahl? 1
gpg: WARNING: such a key has already been stored on the card!
Vorhandenen Schl?ssel ersetzen? (j/N) j
gpg: geheimer Schl?ssel ist bereits auf einer Karte gespeichert
When i delete the secret key manually from secring.gpg, the secret key
on the card won't be found, probably as the "stub" is missing in
So the question is: How can i get the secret key away from the
secring.gpg and still have the stub so that the secret key is requested
then from the smartcard?
Thanks a lot for any hints.
Regards, Hartmut
