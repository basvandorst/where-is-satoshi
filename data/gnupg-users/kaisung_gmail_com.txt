
@_date: 2005-03-29 11:02:00
@_author: Kai-Min Sung 
@_subject: gpg script to remove passphrase from secret key 
I'm trying to write a script that will remove the passphrase from a
secret key.  Here's the command I'm using:
gpg --passphrase-fd 0 --command-fd 0 --edit-key user < input
The input file looks like:
---input start---
---input end---
gpg doesn't seem to be reading the new passphrase from fd 0. The man
page says --passphrase-fd will only work if you're using one
passphrase, which is probably why this fails. Is there any other way
to make this work?
Thanks in advance,

@_date: 2005-03-29 11:02:03
@_author: Kai-Min Sung 
@_subject: gpg script to remove passphrase from secret key 
Nevermind, I think I figured it out.  Here's the command to use:
gpg --status-fd 1 --command-fd 0 --edit-key user < input
and here's the input file:
---input start---
---input end---
Replace the first blank line with a new passphrase if you want to
change the passphrase instead of removing it.
