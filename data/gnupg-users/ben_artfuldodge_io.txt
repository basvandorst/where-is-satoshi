
@_date: 2018-08-29 15:00:46
@_author: Ben Edwards 
@_subject: exporting always prompts for password 
Is there any way to avoid having to pass in the password each time you
do an export? I have a script that I want to use to roll the expiration
of my keys that does does something like
gpg2 --import "$secret"
fpr=$(gpg2 --with-colons -k | grep fpr | head -n1 | cut -d':' -f10)
gpg2 --quick-set-expire "$fpr" 1y
gpg2 --quick-set-expire "$fpr" 1y '*'
gpg2 --armor --export-secret-keys "$fpr" >"$secret"
gpg2 --armor --export-secret-subkeys "$fpr" >"$secret_subs"
gpg2 --armor --export "$fpr" >"$public"
where `$secret` is a path to some armored backup of my keys.I would very
much like it if I could adjust my invocations such that I am able 1) use
a standard pinentry program and 2) only enter the password once. I have
a working agent setup.
Is such a thing possible?
NB: I am well aware that the code that grabs the fingerprints is a bit
janky. This is a work in progress.

@_date: 2019-05-10 14:34:53
@_author: Ben Edwards 
@_subject: Audit logging for gpg-agent 
Is there any method for logging which keys have been used and for what operations via the agent? Essentially I'd like to be able to tail a file or attach to a socket to both send off for safe keeping and also do cute things like send a notification with libnotify to inform me that something just happened etc. I have tried the agent / scdaemon logs and they seem unsuitable for this purpose.
Advice gratefully received,
