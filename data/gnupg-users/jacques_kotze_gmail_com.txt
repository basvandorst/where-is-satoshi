
@_date: 2016-01-12 11:58:57
@_author: Jacques Kotze 
@_subject: GPG-Agent not recognising SSH keys 
Hi All,
First time post, so please excuse me if it is a ignorant noob question :)
I am using gpg-agent (GnuPG) 2.1.9 with libgcrypt 1.6.4 on a Mac OS 10.10.
I have created a pgp subkey that is intended for use as an ssh key. This
subkey's keygrip has been added to
$> ~/.gnupgp/sshcontrol
I would assume that this would then allow the pgp subkey to be added as a
ssh key automatically that I can use... but when I run
$> ssh-add -L
The agent has no identities.
I expected it to output the Public Key intended for ssh use (and keygrip
listed in sshcontrol)
I first suspected that gpp-agent wasn't thus running properly or something
else was amiss. Here is what I checked:
$> echo $SSH_AUTH_SOCK
Looks fine.. how about killing everything and starting it again:
$> unset GPG_AGENT_INFO SSH_AGENT_PID SSH_AUTH_SOCK
$> eval $(/usr/local/MacGPG2/bin/gpg-agent --daemon --enable-ssh-support)
Lets check that I always enable ssh support on gpg-agent:
$> cat ~/.gnupg/gpg-agent.conf
Ok.. so I am stumped. Any help appreciated :)

@_date: 2016-01-14 13:48:33
@_author: Jacques Kotze 
@_subject: GPG-Agent not recognising SSH keys 
Hi Peter
Thanks for your comments and help.
Your guide highlighted a silly error where I had accidentally chopped some
of the trailing characters of the appropriate keygrip in sshcontrol (Doh!).
BTW I am using GnuPG 2.1.9
I can now successfully get the response to ssh-add -L as expected. Great!
I do have a problem with this setup still not working as expected i.e. I
have the exported pub key (from ssh-add -L) copied to the external servers
~/.ssh/authorized_keys.. but still being prompted for a user password upon
ssh'ing to the server.
Anything there I am perhaps missing?
Kind regards
