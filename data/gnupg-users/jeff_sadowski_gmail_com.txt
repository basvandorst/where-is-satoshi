
@_date: 2010-04-27 12:52:58
@_author: Jeff Sadowski 
@_subject: Time output format 
when I run something like so
"cat test.email |gpg"
where test.email is an email that was signed I get output like so
<--- begin
The verified signed text
gpg: Signature made <3 letter Day of Week>  <3 letter
Month>     using DSA key ID gpg:  signature from ""
Primary key fingerprint: <--- end
Is there an option to change the format of the time?
While reading the manual I could not find it.
I'd like it in a time stamp format so its easy to compare against current time.
Or is there an option to validate that the text was signed within xx hours?

@_date: 2010-04-28 17:14:16
@_author: Jeff Sadowski 
@_subject: Time output format 
I came up with an elaborate script to check the time and run a command
that was emailed to me. I run this in a cron job every minute.  Maybe
others might find this useful.
<----------------------------------------------------- begin
From="FirstName LastName "
key="XXXX XXXX XXXX XXXX XXXX  XXXX XXXX XXXX XXXX XXXX"
cat /var/spool/mail/${USER} >> .onemail
echo -n >  /var/spool/mail/${USER}
Next=`grep -n "^From " .onemail|head -n 2|tail -n 1|cut -d: -f1`
if [ "${Next}" = "" ];then
 Next=0
if [ "${Next}" -lt "3" ]; then
 cat .onemail
 echo -n > .onemail
 let Next=${Next}-2
 Lines=`wc -l .onemail| cut -d" " -f1`
 let Left=${Lines}-${Next}
 head -n $Next .onemail
 tail -n $Left .onemail > .onemail.tmp
 cat .onemail.tmp > .onemail
 rm -rf .onemail.tmp
rlz(){ echo $1|sed 's/^0*//';}
 HOUR=`rlz \`echo $1|cut -d: -f1\``
 MINUTES=`rlz \`echo $1|cut -d: -f2\``
 if [ "${MINUTES}" = "" ];then MINUTES=0;fi
 Seconds=`rlz \`echo $1|cut -d: -f3\``
 if [ "${Seconds}" = "" ];then Seconds=0;fi
 if [ "${HOUR}" = "12" ];then HOUR=0;fi
 if [ "$2" = "PM" ]; then let HOUR=${HOUR}+12;fi
 let Seconds=${HOUR}*60*60+${MINUTES}*60+${Seconds}
 echo ${Seconds}
ly=0;let x=$1%400;
if [ "$x" = "0" ];then ly=1 ;else let x=$1%100;
if [ "$x" != "0" ];then let x=$1%4;
if [ "$x" = "0" ];then ly=1;fi;fi;fi
echo ${ly}
 of year
ly=`leap_year $1`;
case "$2" in
1|Jan) let x=$3 ;;
2|Feb) let x=31+$3 ;;
3|Mar) let x=59+$ly+$3 ;;
4|Apr) let x=90+$ly+$3 ;;
5|May) let x=120+$ly+$3 ;;
6|Jun) let x=151+$ly+$3 ;;
7|Jul) let x=181+$ly+$3 ;;
8|Aug) let x=212+$ly+$3 ;;
9|Sep) let x=243+$ly+$3 ;;
10|Oct) let x=273+$ly+$3 ;;
11|Nov) let x=304+$ly+$3 ;;
12|Dec) let x=334+$ly+$3 ;;
let y=365+$ly
echo $x of $y
 of years in between
 if [ $1 = $2 ];then
 echo 0
 elif [ $1 -gt $2 ];then
 let x=$1-$2-1
 if [ ${x} -gt 0 ];then
 let minus_one=$1-1
 let y=365+`leap_year ${minus_one}`+`days_of_yib ${minus_one} $2`
 echo $y
 else
 echo 0
 fi
 else
 days_of_yib $2 $1
 fi
 one=`doy $1 $2 $3`
 two=`doy $4 $5 $6`
 if [ "$1" = "$4" ];then
 let x=`echo $one $two|awk '{print $1-$4}'`
 echo ${x}
 else
 plus=`days_of_yib $1 $4`
 if [ $1 -gt $4 ];then
 let all=`echo $two $one $plus| awk '{print $7+$4+$3-$1}'`
 else
 let all=`echo $one $two $plus| awk '{print $7+$4+$3-$1}'`
 let all=0-$all
 fi
 echo ${all}
 fi
 days=`days_apart \`rlz $1\` \`rlz $2\` \`rlz $3\` \`rlz $6\` \`rlz
$7\` \`rlz $8\``
 let x=`Time $4 $5`-`Time $9 ${10}`+$days*86400
 echo $x
seconds_ago(){ seconds_apart `date "+%Y %m %d %I:%M:%S %p"` $1 $2 $3 $4 $5;}
while [ "`cat ${HOME}/.onemail /var/spool/mail/${USER}`" != "" ]; do
 verify=`onemail |gpg 2>&1 1> ${HOME}/.command`
 if [ "`cat ${HOME}/.command`" != "" ];then
 seconds_ago=`seconds_ago \`echo -e "${verify}"|grep "^gpg: Signature made"|
              awk '{print $7 " " $6 " " $5 " " $8 " " $9}'\``
 if [ "$seconds_ago -lt 3600" ]; then
  Good=`echo -e "${verify}"|grep "^gpg: Good signature from"`
  Primary=`echo -e "${verify}"|grep "^Primary key fingerprint:"`
  if [ "${Good}" = "gpg: Good signature from \"${From}\"" ] &&
     [ "${Primary}" = "Primary key fingerprint: ${key}" ]; then
   `cat ${HOME}/.command` &
  else
   echo `date` Bad Signature >> logfile
   echo -e "$verify" >> logfile
<-------------------- End

@_date: 2010-08-08 16:29:28
@_author: Jeff Sadowski 
@_subject: batch program to find my password - help please!!! 
I never tried it before but maybe jack the ripper might help.
I've only heard of it, never tried it. There was a procedure to try
and get the old key less trusted and tell people to use a new key.
Maybe someone can post the link to the page that tells you how to do
that before I can find it.

@_date: 2010-06-13 11:01:34
@_author: Jeff Sadowski 
@_subject: Was I suppose to reply to the email titled with my email? 
I read it but didn't see that I had to do anything. Did I read it
wrong seems a lot of people replied to theirs.
