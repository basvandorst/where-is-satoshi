
@_date: 2005-06-16 16:07:52
@_author: Leo Weppelman 
@_subject: feature req + patch: spaces in proxy auhorization 
At work, we have proxy authorization that contains spaces. This
is problematic with a lot of applications and also gnupg :-/ The patch
below contains a simple fix that allows escapes in the proxy
authorization so that I can do the following (in gpg.conf):
  keyserver-options http-proxy=
--- http.c	2005-02-03 12:16:27.000000000 +0100
+++ /tmp/http.c	2005-06-16 15:21:48.000000000 +0200
 -335,6 +335,8  		uri->auth=p;
 		*p3++='\0';
 		p=p3;
+		if( (n = remove_escapes( uri->auth )) < 0 )
+		    return G10ERR_BAD_URI;
 	      }
 	    strlwr( p );
