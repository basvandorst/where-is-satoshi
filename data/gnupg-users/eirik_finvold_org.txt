
@_date: 2007-10-28 05:27:41
@_author: _fr0st 
@_subject: GPG: Suddenly lost access to encryptet file 
A couple of days ago, I startet a process to create a new encrypted
LVM-partition, and move everything I got from the regular LVM to the
encrypted one. Btw, I use loop-aes to encrypt my partition.
Now, after some days, some unmounts/mounts, I suddenly gets "Error: gpg key
file decryption failed" every time I try to mount.
If I try to decrypt manually with "gpg -vvv -d ./keyfile.gpg" all I get is:
Now, some info about how I made this.
-emerged gnupg (using gentoo)
-maked a new random passphrase for myself with: "head -c 65 /dec/random |
uuencode -m - > mypass"
-maked a keyfile for my future disk encryption: "head -c 2880 /dev/random |
uuencode -m - | head -n 65 | tail -n 64 | gpg --symmetric -a > keyfile.gpg"
When asked for a password, I copy&pasted the whole text from "mypass".
Now, after using losetup to set up the encryption, filled the disk with
random data with dd and blah blah blah, I was ready for use. I mounted the
disk successfully with "mount -o
"mypass" when mount asked me for pass.
Suddenly now, today, after unmounting, adding new disks to lvm, lvextended,
resized with resize_reiserfs and "losetup -R", this happends. I don't think
losetup/mount/lvm can have anything to do with this..
So.. Any possible solutions? May it be because I did not create a private
key to pgp before starting this? I have not use pgp before, so Im a newbie..
I've tested to copy both mypass and keyfile.gpg over to other computers, no
luck there either.
Oh, and one more thing: I opened my keyfile.gpg in vim, don't remember if I
used ": x" or ": q" to quit.. Could vim do something with the file if I used
": x"?
And of course: I am the only one with access to this server, so my mypass
file is untouched..
Thanks in advance for any help!
