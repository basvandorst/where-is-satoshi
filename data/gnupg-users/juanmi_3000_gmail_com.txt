
@_date: 2015-08-28 22:54:55
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: uploading subkeys 
You can either upload the whole public set or none of it, you can't or
at least I know of no way of uploading only the public part of the subkeys.
As for the keyserver, I recommend sks-keyservers.net[1], either
hkp://pool.sks-keyservers.net or hkps://hkps.pool.sks-keyservers.net
which you will need to have a GnuPG compiled with GnuTLS support and
also the cert from the keyserver[2]
[1]: [2]: Gnupg-users mailing list
Gnupg-users at gnupg.org

@_date: 2015-08-29 22:27:20
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: Can't create or import secret keys: "End of file" error. Possible old 
OS: Windows 10 (Build 10240) x64
GnuPG version: 2.1.7
Whenever trying to create a new pair of keys or when importing secret
keys, it ends with End of file error and when using a created gpg-agent
daemon process via CLI it looks like if gpg-agent crashes just at the
end. No secret keys created nor imported but public keys import just fine.
As far as I searched, other GnuPG versions affected were 2.1.1[1,3,5],
2.1.2[4], 2.1.5[2] on Windows versions 8 x64[5], 8.1 with no
architecture given[4] and 8.1 x64[1,2,3]. Versions 2.1.3 and 2.1.4 were
mentioned on Issue 1819[1] with no info of its success.
On my experience, it didn't affect Windows 7 x64 with GnuPG version
either 2.1.1 or 2.1.2, which was when I created my first ECC key, nor
Windows 7 x86 with GnuPG 2.1.7 (just tested on a VM), so the assumption
is it affects all GnuPG 2.1 versions up to 2.1.7 while using a x64-based
Windows version equal or higher than Windows 8. I could try setting up a
Windows 10 x86 VM but it may take a while.
Attached are logs of both creation and importing of keys for both GnuPG
CLI tracing and GPG Agent with some parts skipped or replaced in some
way. I'm fine with creating a shareable secret key for testing and show
the skipped parts if needed.
Also, if this has to be continued on a bug report, should Issue 1819 or
2010 be continued or should it be on a new one?
[1]: [2]: [4b]: (Google Translate version) [5]:

@_date: 2015-08-31 13:53:48
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: GnuPG modern can't genereate keys on my Windows 
I assume you are using a Windows 8 or higher. I already reported that on
another message in this same list. For some reason, making a passphrase
protected key makes GPG Agent crash.

@_date: 2015-08-31 20:02:50
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: GnuPG modern can't genereate keys on my Windows 
I've got no issues either using GPG4Win (Full) nor GPG4Win (Vanilla) on
Windows 10 x64 and the pinentry windows looks different, first uses a
Kleopatra-looking pinentry window, the other a GnuPG-2.1-like with the
GnuPG blue symbol.

@_date: 2015-08-31 20:26:31
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: GnuPG modern can't genereate keys on my Windows 
I don't know how to reply to the issue (or maybe I just can't), I wanted
to say that issues 2083[1], 2010[2] and 1819[3] may be related or just
the same. They all have the "End of file" error.
[1]: [2]: [3]:

@_date: 2015-08-31 21:46:59
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: GnuPG modern can't genereate keys on my Windows 
It could be or at least part of it may be different.
I know that I also get the "gpg: error getting the KEK: Input/output
error" when trying to import a file with multiple secret files on it
(like when you do `gpg --export-secret-keys`).
Just try it, create multiple secret keys with passphrase on GnuPG 1.4
(or GnuPG 2.0 with GPG4Win if you are fine with the rebooting after
uninstall) then install GnuPG 2.1 and try any command that may cause the
secring.gpg migration. I don't remember if I got or not any pinentry
window during migration.

@_date: 2015-12-29 01:37:30
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: advice please 
If you believe that distro is trustworthy and one of the recommended
ones for Linux users, then just try:
   gpg -v && gpg2 -v
It will first try to use gpg and tell its version and, if it does, it
will then try to do with 'gpg2'.
If t's a Debian-based distro or a distro with apt-get, you can do:
   sudo apt-get update && apt-cache policy gnupg gnupg2
First command will update the local cache of the software listed in the
repository, if it all goes well then apt-cache will output a small info
about each package, including the prefered version in the repositories
and, either it'll say if it is not installed or if it is, it will output
the version installed.
You can also try:
    dpkg -s gnupg | more; dpkg -s gnupg2 | more
Which, if installed, will output information about the package, version,
dependencies and if it is still installed or not. First for gnupg, then
for gnupg2.
You are using Ubuntu 14.04, which by default comes with Gnupg 1.X
installed. You can install GnuPg 2.0.X by doing:
    sudo apt-get update && sudo apt-get install gnupg2

@_date: 2015-01-03 14:19:52
@_author: Juan Miguel Navarro =?ISO-8859-1?Q?Mart=EDnez?= 
@_subject: HKPS fails on GPG 2.1 
Refreshing, receiving, sending and searching for keys using a hkps server fails with a "No keyserver available" error as seen in this debug:
  C:\Users\Juanmi>gpg -vvv --debug 1024 --recv-keys 88E2947F9BC6B3CF    gpg: reading options from 'C:/Users/Juanmi/AppData/Roaming/gnupg/gpg.conf'
  gpg: using character set 'CP850'
  gpg: enabled debug flags: extprog assuan
  gpg: DBG: chan_000000C8 <- # Home: C:/Users/Juanmi/AppData/Roaming/gnupg
  gpg: DBG: chan_000000C8 <- # Config: C:/Users/Juanmi/AppData/Roaming/gnupg/dirmn
  gr.conf
  gpg: DBG: chan_000000C8 <- OK Dirmngr 2.1.1 at your service
  gpg: DBG: chan_000000CC <- # Home: C:/Users/Juanmi/AppData/Roaming/gnupg
  gpg: DBG: chan_000000CC <- # Config: C:/Users/Juanmi/AppData/Roaming/gnupg/dirmn
  gr.conf
  gpg: DBG: chan_000000CC <- OK Dirmngr 2.1.1 at your service
  gpg: DBG: connection to the dirmngr established
  gpg: DBG: chan_000000CC -> KEYSERVER --clear hkps://hkps.pool.sks-keyservers.net
  gpg: DBG: chan_000000CC <- OK
  gpg: DBG: chan_000000CC -> KS_GET -- 0x88E2947F9BC6B3CF
  gpg: DBG: chan_000000CC <- ERR 167772346 No keyserver available   gpg: keyserver receive failed: No keyserver available
  gpg: DBG: chan_000000CC -> BYE
  gpg: secmem usage: 0/32768 bytes in 0 blocks
It does not matter which hkps server is, I have tried hkps://keys.riseup.net as well. But if I use hkp, it works.
The certification file is added in the dirmngr.conf as below:
  hkp-cacert C:\Users\Juanmi\AppData\Roaming\gnupg\sks-keyservers.netCA.pem
And gpg.conf file is the one made at riseup.net but with 'default-key' changed to mine and the old 'keyserver-option ca-cert' option commented:
I'm wondering if it is because gnupg-curl and its libraries do not come with gnupg2.1.1 for Windows installer as it does with GPG4win installer, and I assume GPGTools for Mac.

@_date: 2015-01-03 23:39:09
@_author: Juan Miguel Navarro =?ISO-8859-1?Q?Mart=EDnez?= 
@_subject: HKPS fails on GPG 2.1 
I assume I must report it at  as the installer and the sources to make the installer are hosted at ftp://ftp.gnupg.org/gcrypt/binary/ and signed by the developers.
Thanks for the help.

@_date: 2015-07-04 14:03:31
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: Merging private subkeys into other key 
I could do it myself by importing the keys in GPG 2.1, then exporting

@_date: 2015-07-04 17:38:09
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: Merging private subkeys into other key 
El 04/07/2015 a las 16:34, Viktor Dick escribi?:
and then re-import them. Or is there a> better way?
For now, that's the only way I know of how to merge them, which is what
I did and I think you said, get the master key and the different subkeys
in different files (ex. masterkey.gpg, encryption_subkey.gpg,
windows_subkey.gpg, linux_subkey.gpg, android_subkey.gpg...), create a
temp folder or delete the secret keys from the current keyring.
Then import them back, do whatever changes I need and export the whole
thing after that so I can easily import the whole thing back for new
changes. And, of course, either remove the non-needed subkeys from the
keyring (as in delete the Windows and Android secret parts from the
Linux keyring) or shred the temporary keyring depending on what method I
If someone else knows another easy way that can help you (and I guess me
as well though it's not too much of an annoyance for me as I may do that

@_date: 2015-07-18 01:09:40
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: Problems with key available in v1.4.19 but not v2.1.5 
Pre-2.1: Public keys are in pubring.gpg and secret keys are in secring.gpg
Post-2.1: Public keys are in pubring.kbx and secret keys are in the
directory private-keys-v1.d[1].
Normally they should transition the Pre-2.1 keyrings to 2.1.X the first
time you use it or at least use pubring.gpg.
But if you wanna force-transition the public keyring, as shown in the
information about GnuPG2.1[2], you should do this commands:
$ cd ~/.gnupg
$ gpg --export-ownertrust >otrust.lst
$ mv pubring.gpg publickeys
$ gpg2 --import-options import-local-sigs --import publickeys
$ gpg2 --import-ownertrust otrust.lst
$ mv publickeys pubring.gpg
Second one exports the trust database, then renames pubring.gpg to
publickeys, next two ones import the trust database to GnuPG 2.1 and the
public keys from the rename GnuPG pre-2.1 keyring. Last command renames
it back to pubring.gpg so that it can be used by GnuPG 1.x and 2.0.x
As for the secret keyring, I don't know but I suppose you can always do:
$ gpg --export-secret-keys | gpg2 --import
As you have 1.4.19 and 2.1.5, `gpg` would be used for GnuPG 1.4.19 and
`gpg2` for GnuPG 2.1.5.
After you have done that, any change in either GnuPG pre-2.1 or post-2.1
keyrings won't be update into the other.
[1]: [2]:

@_date: 2015-07-18 01:19:53
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: Problems with key available in v1.4.19 but not v2.1.5 
PS: Of course, on the commands in the other email, cd ~/.gnupg implies
that gnupg directory is in your home. If it is in another place, you'll
have to use that path for the `cd` command instead.

@_date: 2015-07-20 20:23:39
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: Peculiar behavior of --list-secret-keys 
You are using GnuPG 1.x and GnuPG 2.1.x, they use different keyring
locations for storing public and secret keys.
The only time when GnuPG 2.1.x uses "pubring.gpg" instead of
"pubring.kbx" is when it detects public keys on pubring.gpg before
installing it.
So now you have GnuPG 1.x using pubring.gpg and secring.gpg and GnuPG
2.1.x using pubring.kbx and private-keys-v1.d folder. Every keys you
import or make in GnuPG 1.x won't appear in GnuPG 2.1.x and vice versa,
you'll have to use --import and --export on both versions to sync the
As to way GnuPG 2.1.x is looking at pubring.kbx, I don't know. I suppose
you made a secret key with GnuPG 2.1?

@_date: 2015-07-20 20:31:18
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: High resource usage when verifying a signature 
Send a mail to gnupg-users-request at gnupg.org with "unsubscribe
" in the subject or body.

@_date: 2015-07-27 21:22:08
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: Proposal of OpenPGP Email Validation 
It's attached in the OP named "OpenPGP-Email-Validation-20150726.pdf"

@_date: 2015-05-14 20:51:25
@_author: =?windows-1252?Q?Juan_Miguel_Navarro_Mart=EDnez?= 
@_subject: Creating a new Identity 
Alfredo Palhares:
I don't understand what you are trying to say here.
Alfredo Palhares:
Store it in a Smartcard, like Yubikey, an air-gapped computer or a CD or
USB, then you can import the secret key back to your PC if you need to
sign keys, then delete it afterwards.
Alfredo Palhares:
Why not just use the same old master key, just add the new UID
(alfredo at palhares.me) and revoke, if you want to, the old UID
(masterkorp at masterkorp.net).
If you want to really transition from key to key, you can sign the new
key with the old key. And if you know of people that use GPG and follows
the news from you (on your blog, website), you can make a key transition
statement[1][2][3] signed by both the old and new GPG keys.
I created an script[4] to make an unsigned transition statement, you are
free to look at the code and see if there is something bad or wrong with
it, you are also free to modify it as well.
[1] [2] [3] [4]

@_date: 2015-05-15 19:49:23
@_author: =?windows-1252?Q?Juan_Miguel_Navarro_Mart=EDnez?= 
@_subject: Removing hkp from server 
Hash: SHA512
Camatek Electronics Support Staff:
It would depend on the keyserver, like those that need an email
confirmation. But for most servers in pools like keys.gnupg.net,
subkeys.gnupg.net and [hkps.]pool.sks-keyservers.net, you're out of
Next time create revocation certs and let the key expire as well, as
you can later extend the expiration date.

@_date: 2015-05-16 18:50:16
@_author: =?windows-1252?Q?Juan_Miguel_Navarro_Mart=EDnez?= 
@_subject: OT: Re: Removing hkp from server 
Hash: SHA512
Only those created in 2.1 auto-create a revoke certification

@_date: 2015-10-03 22:21:50
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: How to get your first key signed 
If you knew how to subscribe, you should know how to unsubscribe, because:
1) If you told on this mailing list to be unsubscribed for the 600th
time, then someone told you how to unsubscribe for at least a 300th time.
2) If you are subscribed here, then you used a method to subscribe
yourself be it a) via website or b) via e-mail. And to unsusbcribe,
obviously, you use either of those methods as well.
For method a): Just go to the website[1] again (the URL is on everyone's
email tail). Then on the bottom, fill the form (one text box with the
sentence "Unsubscribe or Edit"), and click the "Unsusbcribe" button.
For method b): Just send an email to with "unsubscribe" as the subject or body[2].
No matter which method you used, just follow the instructions after that.
If you are not getting unsubscribed then either a) you didn't do all
steps, b) you did something wrong in any of the steps or c) you are
subscribed with another email.
[1]: [2]:

@_date: 2016-08-17 18:16:44
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: 2 Q's 
Last time I checked, Parcimonie wasn't made on Windows so:
? I know about it
? I would love to install it
? I can't install it

@_date: 2016-07-06 20:02:04
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: Unsubscribe 
If you follow the link in the footer of all emails in this list, you'll
get into the mail list, web page. On there, you can unsubscribe yourself
by inputing your mail address in the bottommost text box and clicking on
"Unsubscribe or edit options".

@_date: 2016-06-01 22:24:16
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: secret key not available 
What's the output of `gpg -K`?
El 01/06/16 a las 17:44, DODDI ANTHONY BALARAJU cs15d008 escribi?:

@_date: 2016-11-21 16:22:01
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: gpg-agent crashes on Windows 10 
I can't tell about heise.de version but as Peter Lebbing has said, GnuPG
2.0.30 is the latest stable branch version.
For GnuPG 2.1.16 download it from  or if you like
Gpg4Win you can install the Gpg4Win 3.0.0 Beta[2] which contains 2.1.15
(it could have been 2.1.16 but the last beta version was released a few
days earlier to the 2.1.16 release)
[1]:  (Second download
link on Windows row)
[2]:

@_date: 2016-11-25 14:31:37
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: What are those attachments you have on your email? 
The first one is indeed the public key, the second one most likely is
the signature for the email using PGP/MIME. If you have PGP-supported
email client (like Claws) or the email client have a PGP pluging (like
Thunderbird+Enigmail) it should be able to verify it. Otherwise, it
looks like a normal message (or empty if PGP/MIME encrypted) with a
signature.asc file (sometimes called differently) as an attachment.

@_date: 2016-10-11 00:44:51
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: GnuPG vs. GPG4Win 
I think it's mostly the GpgOl and GpgEx parts of the bundle that are in
beta, unless there's something different on Kleopatra and GPA Gpg4Win

@_date: 2016-09-19 16:37:03
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: Checking Integrity of GPG4Windows 
You need to use a checksum software for it. Usually it would be md5sum
or shaXsum, as the page you shared tells, but Windows does not have
those natively. You'll have to download a compiled binary of those
Fortunately, there's a native tool for computing hash on Windows, but
you'll need to manually compare both hashes yourself or have a script do
that for you. By opening a CMD or Powershell console and entering:
   certutil -hashfile [PATH\TO\]FILE ALGORITHM
It will output the hash separated by spaces of the file using the
algorithm specified on the command (ex: MD5, SHA1, SHA256 and SHA512).
Also, Powershell has the Get-FileHash command which, by using the next
command, you can compare file hashes easily:
   if("HASH" -eq (Get-FileHash -Algorithm ALGO -path FILE) { echo "OK" }
else { echo "Hash mismatch"}
Where HASH is the hash you want to check, ALGO is the algorithm for the
hash you want to compute/check and FILE is the path to the file you want
to compute/check the has. If it says "OK" then you have the correct file.
If all this seems complicated you can also use third-party software
* [Easy] Install and use any GUI checksum software like HashTab or
HashCheck to name two. HashTab integrates to the explorer so by
right-clicking on a file, going to its properties and going to the File
Hashes tab it will show a list of hashes and you can compare the hash in
that same tab.
* [Moderate] Install Git for Windows which should install the *sum
software and you can just do the command on that page.
* [Moderate] Cygwin also have them when you install it but it may be
confusing to use as Cygwin's home is different that your user one and to
access a drive you must use cd /cygdrive/c/path/to/file (if it's on C,
else use the other letter). Other than that, it's similar to us Git for
* [Advanced; Windows 10 Build 1511 or greater] Not a third party
software. Install Windows Subsystem for Linux (WSL) which should have
the *sum software. It requires you to know how to mount a system on
Unix, as WSL has no access to the files in C: or any other drives initially.
There are other alternatives but those are some I'd recommend.
At last, if you trust me I haven't modified these files, you can
download the portable checksum binaries from this folder. I wish I could
credit the one that built them but Google is giving me no results.
No need for installation, just download and use CMD or Powershell
console, go to the folder where you downloaded them with "cd
path\to\folder" and use the specific binary for the algorithm.
Feel free to ask anything if you still need help.

@_date: 2017-04-20 02:36:16
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: Prefer a currently available signing subkey? 
Is it possible that is a duplicate of this report too?
Both are about a capable subkey not being used on GnuPG Modern branch
because it prefers a subkey with its missing secret part. Plus there was
a patch which seemed to work for 2.1.18.
It would be nice for that bug or regression from 1.4/2.0 due to the
change of secret keyring to finally be fixed or, if it was not a bug, a
feature to be added, as the only workarounds are:
- Using `-u $SubkeyFingerprint!` which works if you only use GnuPG CLI.
  Git, Enigmail or other tools are a no-go.
- Using `default-key $SubkeyFingerprint!` which is a pain if you have
  two master keys.
- Delete the subkey public parts for the missing subkeys which is
  boring to do after each `gpg --refresh`.
- Forget about having multiple subkeys with the same capabilities cause
  that's a no-go if you don't like the previous workarounds.

@_date: 2017-01-15 22:17:39
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: Renewing expired keys 
If you want to keep the same keys (assuming they are still strong
enough) you can just extend its expiration date by editing your key with
`gpg[2] --edit-key (UID|KeyID|Fingerprint)` then use `expire` in `gpg>`
promt. If it has any subkeys, use `key n` (n = 1, 2, 3..) for all the
subkeys and use the `expire` command agan. Lastly `save` the changes.
Otherwise, you can also create a new master key and sign the new one
with the old one.
If you have a blog, personal or project's website or something that
people usually come to visit and know about your PGP keys, also make a
transtition statement signed with both keys telling which key you had,
which is the new one, their fringerprints and so on. Here are some examples:
Lastly, revoke the old one if you aren't going to use it publicly anymore.

@_date: 2017-01-17 22:26:17
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: I'm confused about GPG, and it's confused about me 
You are telling GnuPG to clear sign a file called "encryption test" with
a local key that has a User ID (UID) containing "--default-key".
Try using:
    gpg --clearsign --local-user
0x3A74A1DB2C796657D14BA6B83EDE6A3226F66FEB encryption\ test
or, this one if you use the other key:
    gpg --clearsign --local-user
0x1F356DC33182016A8E59E5099A72F153A780EFF6 encryption\ test
Same fron encryption:
    Key 1: gpg --armor --encrypt --recipient
0x3A74A1DB2C796657D14BA6B83EDE6A3226F66FEB encryption\ test
    Key 2: gpg --armor --encrypt --recipient
0x1F356DC33182016A8E59E5099A72F153A780EFF6 encryption\ test
Normally, you use "default-key" as an option in gpg.conf (usually on
~/.gnupg/) like this:
default-key 0xDEADBEEF
Where DEADBEEF is your master key keyID or, more secure yet, fingerprint
(like I did above).

@_date: 2017-01-28 22:37:15
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: Trojan detected in Windows 10 Simple Installer for GnuPG Modern 
I've just downloaded the same file:
    C:\Users\MyUser\Downloads>..\Desktop\portable\sha256sum.exe
    1fd01e24f65465dfd075b8ad55a58eaee13e79c02c42096c325a7ccf5a1eb283
... and Avast didn't detect it as malicious, also 0 / 56 detections from
I can't test it on Defender as it's disabled by Avast, but most likely
it is a false positive.
I'll try using a W10 machine.

@_date: 2017-06-14 19:21:00
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: How to join pubring.kbx and pubring.gpg? 
As far as I know, GPGSM is a GPG tool to use X.509 certificates. That's
not the OpenPGP protocol. With this said...
... even if your GnuPG installation used .kbx format -which mine does-,
gpg will still show only OpenPGP keys while gpgsm will show x509 keys.
For GnuPG to use KBX format, you must have the modern branch which is
2.1 and later. For that, you need to use the experimental version of
It should be very stable both with Kleopatra and gnupg in command line,
but if you find an error or bug please inform to the respective channel.
More info on how and where to report bugs here:
After you download the experimental version, you must do the follow:
1. The first time you use gpg -K (and maybe gpg -k), GnuPG will
automatically convert the keys in secring.gpg to the new format which is
storing the secret parts in individual files in
%AppData%\gnupg\private-keys-v1.d (if you changed GNUPGHOME then this
may differ and it should be in %GNUPGHOME%\private-keys-v1.d\).
You can then delete your secring.gpg file if the secret keys conversion
has been successful as it won't be used anymore. This is only for
OpenPGP keys as x509 secret keys as far as I know have always used the
private-keys-v1.d folder and pubring.kbx file.
2. As you imported the x509 key and so you have a pubring.kbx, you won't
be able to see the OpenPGP stored in pubring.gpg as it will prefer the
.kbx format over the .gpg. To import those keys, you should be able to
execute gpg --import X:\Path\To\pubring.gpg and it should start
importing the keys to the new format.
Renaming pubring.gpg to publickeys and then using gpg --import
publickeys is also a good idea if you didn't have a pubring.kbx to begin
I must remind you that your partner's key will still be a X.509 key and
so you'll still need to use GPGSM to list, verify messages from and
encrypt message to that key but now both public OpenPGP and X.509 keys
will be stored in pubring.kbx.

@_date: 2017-06-16 14:46:24
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: How to join pubring.kbx and pubring.gpg? 
I wouldn't try to transform an X.509 certificate into an OpenPGP
certificate for the reasons already talked in here.
If you want to use OpenPGP, tell your partner to make an OpenPGP
certificate using GnuPG or any OpenPGP supported software. You can them
make PGP/Inline or PGP/MIME (if your email client/plugin supports it,
Enigmail does) email.
If you want to use the X.509 certificate of your partner, you must use
an X.509-supported client to generate a certificate (OpenSSL normally
but Kleopatra, which comes by default with Gpg4Win unless selected
otherwise, also allows you to generate an X.509). Normally, email
software support S/MIME messages and there is no need for an extra
plugin. Thunderbird does so by default and you can configure your X.509
from the Security section of your account settings.
The problem with an X.509 is that it usually requires a Certificate
Authority (CA) to make a trusted signature. Comodo allows you to sign-up
for a free certificate X.509 certificate for each of your personal
emails. There may be others, some paid.
Enigmail only works with OpenPGP-related keys.
gpg4win is only a suite of GnuPG related software, with GPGSM for the
management of X.509 certs. Kleopatra is only a front-end GUI client for
both OpenPGP and X.509 operations with the respecting GnuPG tools.
As said above, if your partner uses X.509 then use X.509. If you want to
use OpenPGP tell him to make an OpenPGP key.
If he tries to decrypt a PGP/Inline or PGP/MIME message using an S/MIME
client it won't work. He'll need a PGP/Inline or PGP/MIME compatible
software for that (Thunderbird with Enigmail; Claws Mail, Mutt, etc...).
It was announced on the mail-list of Gpg4Win. But you can also find the
Beta directory link in the mid part of "All Downloads" section in the
Download page.
If you want to manage certs with GUI client use an S/MIME-supported
email client, which you do with Thunderbird, or Kleopatra for X.509 as I
said above.
And to reiterate again, Enigmail, as far as I know, will only support
OpenPGP certificate or keys.
Gpg4Win supports X.509 by using the GPGSM CLI tool or Kleopatra as a GUI
front-end but for S/MIME emails I would recommend an email client like

@_date: 2017-09-24 19:44:32
@_author: =?UTF-8?Q?Juan_Miguel_Navarro_Mart=c3=adnez?= 
@_subject: Signing failed -- "No secret key", even though I have the key 
You're missing the secret part of your subkey:
... and, for at least GnuPG >= 2.1.0, GPGAgent most likely wants to use
that subkey because it has been detected in the pubring.gpg or
pubring.kbx keyring, but due to the missing secret part GPGAgent doesn't
fallback to the master key with signing capabilities which you have its
secret parts.
