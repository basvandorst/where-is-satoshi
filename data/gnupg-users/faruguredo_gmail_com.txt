
@_date: 2014-02-12 07:02:51
@_author: Faru Guredo 
@_subject: Trying to understand the bond between master and subordinate key pairs 
I?ve read GNU Privacy Handbook, the FAQ and thought I understood the
purpose of all four keys initially generated with --gen-keys.
But then I found this  and lost it.
tl;dr: There is suggested backup of ~/.gnupg, creation of a new pair of
subkeys for signing, then all public keys and secret subkeys are exported,
master key (for signing) is removed (but still available in backup) and
finally public keys along with secret keys are imported back. This is
suggested???as far as I understand???in order to keep the original master
key for signing in a secret place, because master signing key = my genuine
identity. But.
Which public keys should be uploaded to the keyserver? Other people may
verify your signature and encrypt files for you only if they have
corresponding public keys (of yours). But what about gathering signatures
of other people on your own public key? Should I upload public key of my
master signing key along with the public key of the subordinate keypair I
am planning to use daily? If not, what is the purpose of the public part of
the master keypair? If I will not upload it, how other people will verify
signatures I made on their keys or my own keys? Does it all mean I need at
least three public keys to be known to other people???two for daily signing
and encrypting and one to verify master key signatures? Do they even need
to verify what I sign with my master key (I mean my keys and their keys)?
I don?t get the bond between master keys and subordinate keys. Does it even
exist? To me they look like totally different keys. Okay, when I usually
sign files with key AAAAAAAA when I send them to Alice, and eventually I
want to sign her key (?which of her keys, actually? The one she uses daily
or the one she keeps like me? If she keeps it, how did it get to me? Which
public keys supposed to collect signatures of other people ??of the master
one or newly created subordinate one?), I need to use my master key
BBBBBBBB. How does she know that BBBBBBBB is also my key if they have
different IDs? (Let?s assume public key of the master pair is irrelevant,
and signing pubkey exchange is done via subordinate pair which never
Sorry for my English.

@_date: 2014-02-14 10:23:54
@_author: Faru Guredo 
@_subject: gpg-agent chooses wrong identity when picking SSH key 
I am migrating from ssh-agent to gpg-agent and have successfully loaded my
SSH keys into the new agent,
$ ssh-add -l
4096 5c:f3:b8:34:56:31:08:88:7b:4d:a3:ce:d8:9b:62:d7
4096 d9:14:07:00:15:c4:7b:70:c4:94:73:6c:bb:5d:25:42
4096 df:19:f5:24:c7:2f:09:c3:ef:15:03:9f:aa:46:4c:06
4096 05:28:b8:2b:dc:65:55:d3:62:8b:37:e7:b5:a6:df:a4
And in ~/.ssh/config I have lines, telling that ~/.ssh/third-company should
be used when connecting to third-company.com
Host third-company
HostName third-company.com
User git
IdentityFile ~/.ssh/third-company
Though, when I push commits there, git on the server says 'Access denied
for first-company'. So I figured out that gpg-agent uses first available
key instead of looking at the host and settings in ~/.ssh/config
Host is defined in .git/config as
[remote "origin"]
    url = ssh://git at third-company/reponame.git
How could I fix that?

@_date: 2014-02-15 18:19:21
@_author: Faru Guredo 
@_subject: gpg-agent chooses wrong identity when picking SSH key 
After I have done small investigation, I've found that it's only the second
try when gpg-agent uses wrong identity. The first is done with correct
identity, but ssh server failed to authenticate the key because of this
error: RSA_public_decrypt failed:
debug1: ssh_rsa_verify: signature incorrect
Both keys are RSA with the same length (4096).
debug1: Server accepts key: pkalg ssh-rsa blen 535.
But ssh server refuses to validate the first and approves only the latter
one (there is a gitolite installation) which causes the push to be done
with the wrong key, and hence, the wrong username.
2014-02-14 10:23 GMT+04:00 Faru Guredo :

@_date: 2014-02-15 18:20:38
@_author: Faru Guredo 
@_subject: gpg-agent chooses wrong identity when picking SSH key 
It worked with ssh-agent and still works without any agent -- settings in
~/.ssh/config just work as they should. But with gpg-agent there is such a
2014-02-15 18:19 GMT+04:00 Faru Guredo :

@_date: 2014-02-17 11:04:28
@_author: Faru Guredo 
@_subject: gpg asks for the same passphrase each time it uses new subkey 
I do backups and want to encrypt some of them. I also want to set this as a
cron job. The problem is, if I haven't used my signing key before the cron
daemon will attempt to encrypt backup files, gpg will throw that damn
pinentry window to ask for the passphrase I have already entered at the
startup. Why it needs to ask _the same_ passphrase _for each_ subordinate
key and how to avoid this? At this time I can either do not sign backup
files, or enter that passphrase every time cron does backup files. Or enter
it twice at the startup when encrypting and signing something like `gpg se
