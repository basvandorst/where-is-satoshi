
@_date: 2003-09-18 03:49:02
@_author: Nigel Dunn 
@_subject: gpg: keyblock resource issue 
"You should at least be sure that you need to share the .gnupg dirs
Why do you think you need to do that instead of using separate dirs for
I'm trying to get GPG and PHP to play ball together. I've downloaded
about 20 scripts and modified them all and tested them one by one and
they all return exactly the same data...nothing.
I decided to back up a step and play with gpg by itself to make sure gpg
was actually working and that was when I discovered my problem. I need
to make PHP encrypt CC details and send them via email to a particular
person who has the secret key to unlock the email and manually process
the CC.
To simulate the problem I created a user called gpguser and then
--gen-key. I know that the web server wont be running as gpguser so I
need to use the gpguser keyring hence the --homedir directive. I also
created a key for myself on my box at home and exported it. I then
imported my public key on to the server so that I can test encryption be
emailing myself from the server.
I know that my problem is entirely a matter of permissions and users.
Any advice on tackling this would be great.

@_date: 2003-09-18 04:17:02
@_author: Nigel Dunn 
@_subject: gpg: keyblock resource issue 
I've solved the problem.
Total time taken: about 8 hours.
I'm going to write a How-To on how to get a web server to do GPG
encryption. Anyone who wants to critique it once its done and offer more
"secure" methods is welcome to. I'm sure there must be 101 other webdevs
that have this same issue.
Thanks for the help Todd :)
Nigel Dunn
