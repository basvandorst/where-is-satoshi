
@_date: 2003-08-13 19:32:02
@_author: Ross Druker 
@_subject: md5sum for egd, gnupg 
I'm trying to verify the md5sum for egd.  When I download the sum file from
this page:
I get the file:
It displays as this:
This does not match at all with what md5sum displays for the actual file, nor
does the content even look right.
I asked another user to try and he couldn't even display this in his browser.
 He had to download it.  Then, when he tried to display it, it was binary.
I get the same problem with the md5sum file for gnupg, but at least its sum is
posted on another page, so I could use that.
Anybody know what the problem is?  I did notice that the gnupg file ends in
.sig, which the egd file ends in .asc.

@_date: 2003-08-14 21:13:14
@_author: Ross Druker 
@_subject: Compilation problem overcome 
I had a problem compiling that required using this:
CFLAGS="-g -O2 -mcpu=powerpc"
I found an old posting on the web from 2001 that provided this, and the make
compiled successfully.  But I couldn't find anything in the gpg docs about
this.  Seems like it would be helpful.

@_date: 2003-08-14 21:13:35
@_author: Ross Druker 
@_subject: make check problem 
After running make, I ran make check as suggested.
Was fine until it got to this point.  Looks like a shell syntax error:
Making check in checks
        make  check-TESTS
./version.test[3]: test: ] missing
./version.test[3]: test: ] missing
It didn't seem to affect the testing, since a few passed, but then got a lot of
failures.  23 of 25 failed.  Here's a bit of output.  Should these work?:
PASS: mds.test
./decrypt.test[3]: test: ] missing
./decrypt.test[3]: test: ] missing
FAIL: decrypt.test
./decrypt-dsa.test[3]: test: ] missing
./decrypt-dsa.test[3]: test: ] missing
FAIL: decrypt-dsa.test
./sigs.test[3]: test: ] missing
./sigs.test[3]: test: ] missing

@_date: 2003-08-14 21:34:02
@_author: Ross Druker 
@_subject: make check problem 
I got an answer from the developers that this was a known problem, to be fixed
in 1.2.3
Also, I discovered that this should have been run *after* egd was installed,
but that didn't change the output.

@_date: 2003-08-14 21:47:02
@_author: Ross Druker 
@_subject: revocation certificate 
Following the README, I tried to created a revocation certificate:
gpg --gen-revoke your_user_id
Went fine up to this point.  The last line looks like an error.  What should I
see or get as output.  A file?  This system has 2 GB of memory and there's
basically nothing running since it's a test machine.
Create a revocation certificate for this key? y
Please select the reason for the revocation:
  0 = No reason specified
  1 = Key has been compromised
  2 = Key is superseded
  3 = Key is no longer used
  Q = Cancel
(Probably you want to select 1 here)
Your decision? 1
Enter an optional description; end it with an empty line:
Reason for revocation: Key has been compromised
test certificate
Is this okay? y
You need a passphrase to unlock the secret key for
user: ""
1024-bit DSA key, ID  created 2003-08-14
ASCII armored output forced.
gpg: out of  memory while allocating 8192 bytes

@_date: 2003-08-14 21:54:02
@_author: Ross Druker 
@_subject: egd SHA Makefile problems 
When making egd I ran into a minor problem (bug?).
There's no cc compiler on the box; I installed gcc.
The first time I ran
perl Makefile.PL
I got an error because it couldn't find cc, the default compiler.  So a ran
perl Makefile.PL CC=gcc
Got the same error.  Ran make clean, etc.  Same problem.  I discovered the
problem was in the SHA-1.2 directory.  It has it's own Makefile.  But the
CC=gcc I put on the command line in the main dir doesn't get passed down to the
Makefile.PL in the SHA subdir.
I manually cd'd to SHA-1.2 and ran
perl Makefile.PL CC=gcc
Then I went back to the main dir.  Now the compiles worked.

@_date: 2003-08-26 22:12:03
@_author: Ross Druker 
@_subject: compile errors 
I though that this was supposed to be fixed in 1.2.3?  This is on AIX 5.1.
if gcc -DHAVE_CONFIG_H -I. -I. -I.. -I.. -I../include     -g -O2 -Wall -MT
mpih-div.o -MD -MP -MF ".deps/mpih-div.Tpo"  -c -o mpih-div.o `test -f
'mpih-div.c' || echo './'`mpih-div.c;  then mv -f ".deps/mpih-div.Tpo"
".deps/mpih-div.Po";  else rm -f ".deps/mpih-div.Tpo"; exit 1;  fi
mpih-div.c: In function `mpihelp_mod_1':
mpih-div.c:87: warning: implicit declaration of function `__udiv_w_sdiv'
mpih-div.c:103: error: can't find a register in class `MQ_REGS' while reloading
mpih-div.c:103: error: can't find a register in class `MQ_REGS' while reloading
mpih-div.c:108: error: can't find a register in class `MQ_REGS' while reloading
mpih-div.c:108: error: can't find a register in class `MQ_REGS' while reloading
mpih-div.c:137: error: can't find a register in class `MQ_REGS' while reloading
mpih-div.c:137: error: can't find a register in class `MQ_REGS' while reloading
make: 1254-004 The error code from the last command is 1.

@_date: 2003-08-27 16:00:02
@_author: Ross Druker 
@_subject: Re-using keys 
This may be a dumb question, but I'm just getting started.
I have a user who has been using a Windows version of pgp.  I've recently
compiled and installed a Unix version of gnupg.  The user asked me if they
could re-use their Windows keys in the Unix system.  But from what I've read, I
need to generate a new public/private key pair for the user using gpg
--gen-key.  Is this correct?  Or is there some way to "import" their existing

@_date: 2003-08-27 20:10:03
@_author: Ross Druker 
@_subject: out of memory on encrypt 
I'm trying encrypt a tiny file, as root, using a key I imported from another
user.  I imported both her public and private keys, and I'm trying to use the
public key.  My first attempt failed because I hadn't started egd, so it asks
me about overwriting the existing file.  This is on AIX 5.1.  Any suggestions?
# gpg -v -e -r "User's Name " testpgp.txt
gpg: using secondary key A27627F4 instead of primary key 327A0D44
gpg: A27627F4: There is no indication that this key really belongs to the owner
2048g/A27627F4 2003-06-30 "User's Name "
 Primary key fingerprint: D280 13D2 504A 46C3 5F8F  29BC FC96 A4CC 327A 0D44
      Subkey fingerprint: AF0D 37D0 97CD 47EF 57EA  A558 9707 95FA A276 27F4
It is NOT certain that the key belongs to the person named
in the user ID.  If you *really* know what you are doing,
you may answer the next question with yes
Use this key anyway? yes
gpg: reading from `testpgp.txt'
File `testpgp.txt.gpg' exists. Overwrite (y/N)? y
gpg: writing to `testpgp.txt.gpg'
gpg: ELG-E/CAST5 encrypted for: "A27627F4 User's Name "
gpg: out of  memory while allocating 8192 bytes

@_date: 2003-08-28 14:46:01
@_author: Ross Druker 
@_subject: out of memory on encrypt 
While I appreciate your advice on proper usage of keys and users, that was not
really my question.  I'm trying to get gpg working on AIX.  But just so you
know, the private key is from someone I work with.  They generated the key on
their PC and I imported it into gpg on the AIX system because they asked if I
could re-use their existing key.  I can address the procedural issues you raise
later (and they are good points), but if I can't get the program to run, they
don't do me any good.
So my questions really are:
  Why is gpg bombing?
  Has anyone else seen this memory problem?
  Has anyone succuessfully run gpg on AIX 5.1?
Again, here is the tail end of the output:
What on earth are you doing with someone else's private key??? You only need
the public key to encrypt something to that person. The private key should
NEVER be given to anyone. Please ask the other user to REVOKE / delete their
key as it is should not be trusted.
Private key - used to DECRYPT and sign and needs to remain private.
Public key - use to encrypt and verify signatures and needs to be made public.
Second, don't run anything as root. Just do it as a normal user - root has no
advantages for GPG. Running anything as root just leaves a massive list of
problems - many of which will completely destroy your entire system. Only use
root for system configuration / hardware tools - your system will tell you
when root is required. At all other times, leave root alone!
Then don't encrypt! If you cannot trust the key, you cannot be sure that what
you encrypt will only be read by the correct person, so what is the point of
encryption? Encrypting to a compromised or untrusted key is bizarre.
Sounds like gpg has just saved your bacon, although by a secondary means. gpg
DID warn you, you overruled the warning (by typing yes), but gpg got the
better of you anyways. The out of memory error could be a sign of a bad
installation on your system.
1. Get the other user to generate a new key and revoke the old key.
2. Tell the other user NEVER to let their new private key be available to
anyone else at any time in any form for any purpose. No exceptions.
3. The public key is public - anyone can have that and the public key should
be made available to everyone with whom you correspond using gpg. (Many users
send the public key to a keyserver to make this easier.)
4. Follow the keysigning rules:
and sign each other's public keys. This will allow gpg to trust the key that
you want to use in encryption.
NOW encrypt something to the user:
Make sure it's $ not # - user not root.
It's easier to use a keyid instead of the full name and email address - less
to type.
If you get the error now, by all means re-post here.
Neil Williams

@_date: 2003-08-28 16:06:01
@_author: Ross Druker 
@_subject: compile errors 
Thanks, I tried it.  It still doesn't work.  Still gives the same errors:
mpih-div.c: In function `mpihelp_mod_1':
mpih-div.c:87: warning: implicit declaration of function `__udiv_w_sdiv'
mpih-div.c:103: error: can't find a register in class `MQ_REGS' while reloading
mpih-div.c:103: error: can't find a register in class `MQ_REGS' while reloading
mpih-div.c:108: error: can't find a register in class `MQ_REGS' while reloading
mpih-div.c:108: error: can't find a register in class `MQ_REGS' while reloading
mpih-div.c:137: error: can't find a register in class `MQ_REGS' while reloading
mpih-div.c:137: error: can't find a register in class `MQ_REGS' while reloading
However, I discovered this will work:
./configure CFLAGS="-g -O2 -mcpu=powerpc"
