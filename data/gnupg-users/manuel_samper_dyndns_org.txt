
@_date: 2003-04-13 19:42:02
@_author: Manuel Samper 
@_subject: Expiry Date 
Edit the key, then select the subkey:
Command> key 1
You will see your subkey marked with an asterisk. Now you can set the
espiry date in it.

@_date: 2003-04-13 19:47:02
@_author: Manuel Samper 
@_subject: trying to export the sender key 
^^^^^^^^^^^^^
gpg are seeing homedir=-a
Don't set --homedir (by default in $HOME/.gnupg, on unix-like systems),
or set it to where your gnupg files (keyrings, etc.) are.

@_date: 2003-05-16 01:16:03
@_author: Manuel Samper 
@_subject: Trouble signing (was: Trouble exporting keys) 
Try to generate a 4096 Elgamal one... in an offline, only one user, machine (so no much
activity to get entropy from).
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^
This looks ugly.
Feature request: it's so hard to allow a name being attched to these
photoids? Or it's required this way by the standard?
You cannot sign keys with subkeys. See recent posts on the list.

@_date: 2003-05-16 14:31:04
@_author: Manuel Samper 
@_subject: Duplicated self-signatures on keyservers 
this maybe also a keyserver issue, but I'm sure some keyserver folks are
reading this list, so I will ask here.
I recently created a keypair (fffd5da0), and sent it to public
keyservers.  Later, I modified the preferences on their user ids (gpg
--edit-key, setpref and updpref), and sent it again to keyserves.  Now,
when I search my key, I see now two self-signatures: But in my keyring I only see one signature, so I made some tests:
$ gpg --export fffd5da0|gpg --no-default-keyring --keyring local.gpg --import
$ gpg --no-default-keyring --keyring servers.gpg --recv-key fffd5da
The self-signatures of the first uid on the local and server keyring
$ gpg -v -v local.gpg
:public key packet:
        version 4, algo 1, created 1052865492, expires 0
        pkey[0]: [4096 bits]
        pkey[1]: [6 bits]
:user ID packet: "Manuel Samper"
:signature packet: algo 1, keyid AE5F2672FFFD5DA0
        version 4, created 1052865494, md5len 0, sigclass 13
        digest algo 2, begin of digest 6c 3e
        hashed subpkt 27 len 2 (key flags: 03)
        hashed subpkt 30 len 2 (features: 01)
        hashed subpkt 23 len 2 (key server preferences: 80)
        hashed subpkt 25 len 2 (primary user ID)
        hashed subpkt 11 len 6 (pref-sym-algos: 8 3 2 7 9)
        hashed subpkt 21 len 3 (pref-hash-algos: 3 2)
        hashed subpkt 22 len 3 (pref-zip-algos: 2 1)
        hashed subpkt 2 len 5 (sig created 2003-05-13)
        subpkt 16 len 9 (issuer key ID AE5F2672FFFD5DA0)
        data: [4096 bits]
:trust packet: flag=00 sigcache=03
$ gpg -v -v server.gpg
[same as above, with the below aditional signature]
:signature packet: algo 1, keyid AE5F2672FFFD5DA0
        version 4, created 1052865493, md5len 0, sigclass 13
        digest algo 2, begin of digest d6 c6
        hashed subpkt 27 len 2 (key flags: 03)
        hashed subpkt 11 len 5 (pref-sym-algos: 3 2 7 9)
        hashed subpkt 21 len 3 (pref-hash-algos: 3 2)
        hashed subpkt 22 len 3 (pref-zip-algos: 2 1)
        hashed subpkt 30 len 2 (features: 01)
        hashed subpkt 23 len 2 (key server preferences: 80)
        hashed subpkt 25 len 2 (primary user ID)
        hashed subpkt 2 len 5 (sig created 2003-05-13)
        subpkt 16 len 9 (issuer key ID AE5F2672FFFD5DA0)
        data: [4095 bits]
Is here anything that I must worry about? Is this the normal behaviour,
or another know keyserver bug?
AFAIK, keyservers merge up everything and don't remove anything, and the
gpg man page states:
updpref   Change  the  preferences of all user IDs (or just of the
          selected ones to the current list of preferences.  The
          timestamp of all affected self-signatures will be advanced by
          one second. [...]
So then, every time a userid preference list is updated, another selfsig
is added to the key copy on keyservers? (when uploading the key, of
It's safe to delete others people's duplicated selfigs? (I have seen
some keys with more tha one selfsig, and I wondered at the time why).
And if so, how to determine what's the last one issued? (other than
using "gpg -v -v" on a keyring).  It's always the first listed?
Not worried specially about it, just imagining the case of a key bloated
with a bunch of self-signatures...  but in that case, it's better to
fetch it directly from their owner and not from the keyservers, I think.

@_date: 2003-05-16 15:19:02
@_author: Manuel Samper 
@_subject: Keys not trusted 
I use this setup (at least I'm experimenting with it).
A secret keyring, revokation certs, etc. stored offline, a copy of the
secret keyring on floppy with the primary secret key striped (only with
subkeys), and no (empty) secret keyring on connected machines, with the
following gpg.conf options:
  keyring ~/.gnupg/pubring.gpg
  secret-keyring /floppy/secring.gpg
  keyserver-options auto-key-retrieve ...
And with a /floppy/pubring.gpg with only those keys (locally/ultimately)
And when I need to work on the floppy keyring, just use
"gpg --homedir /floppy" (I have a shell alias for it) and/or
"--no-default-keyring". And with autofs, I ever don't bother with
mounting/umounting the floppy (it's a ext2fs; I refer here to a floppy
for simplicity, but in fact is any removable media).
A related question: there is some tool/script/whatever to automatically
prune from the keyrings those keys with only self-signatures, or some
way to list them (and only them) with gpg?

@_date: 2003-05-16 16:08:03
@_author: Manuel Samper 
@_subject: Trouble signing (was: Trouble exporting keys) 
Yes, something like:
$ gpg --list-key samper
pub  4096R/FFFD5DA0 2003-05-13 Manuel Samper
uid                            Manuel Samper uid                            Manuel Samper [jpeg image of size 1234]
That is, at the time of attaching a photo id (had never done it, not
sure what gpg ask) being asked for a real name like normal uids.
But I don't known if this is a fool pretension or what problems may
arise to implement it. Or perhaps change only the gpg output when
verifying signatures (this may be accomplished also by the MUA).
But anything else is better than "also know as [image of size X]" :)

@_date: 2003-05-16 23:49:02
@_author: Manuel Samper 
@_subject: Duplicated self-signatures on keyservers 
I know, and BTW a great resource your keyanalyze statistics, and your
work on fixing the hpk keyserver bugs, thanks.
Yes, I have seen the same behaviour in a sks keyserver. I see now that
it laso store multiple signatures for subkeys also, due to changing the
expiration time, I guess. See:
Ah, that's what confused me...
And I should have write "multiple self-signatures", rather than
But older servers are buggy and don't handle properly multiple subkeys
among other things (again, AFAIK).
Thinking about this (and that's where gpg come into play), if older
versions of self-signatures are of no practical use, and may only bloat
the public key, it should be stripped at download time by the
"keyclient" (gpg in our case), although it are preserved in the
keyserver for some reasons (you should known better).

@_date: 2003-05-17 00:05:02
@_author: Manuel Samper 
@_subject: User attributes and audio IDs (was: Trouble signing) 
I suspected something similar.
Cool! But appart from this, I cannot see much more utility right now...
hmmm... yes, it should be, thinking on visually/audio impaired people.
Also, you may want to put not only your portrait/voice, but some other
stuff like a image of your real (not digital) signature, or anything you
can imagine will be useful. And then a description of what you can
expect is a must.
If no aditional security is apported, then I prefer other enhancements
in gpg rather than some funny capabilities. But who knowns how useful
may become...

@_date: 2003-05-17 00:17:01
@_author: Manuel Samper 
@_subject: [Q] How do I revoke my old key? 
Import the certificate into your keyring, then send your (now revoked)
key to a keyserver:
$ gpg --import < revocation.asc
$ gpg --send-key KEYID
A direct key signature, of type 0x20?
Search for a "rev:..." line after importing the certificate, with the
following command:
$ gpg --list-sig --with-colons KEYID

@_date: 2003-05-17 15:22:02
@_author: Manuel Samper 
@_subject: Duplicated self-signatures on keyservers 
Not if you retrieve a new key (at least with gpg 1.2.1; perhaps it's
different in 1.2.2):
$ gpg --no-default-keyring --keyring test --recv-key 0xfffd5da0
gpg: keyring `/home/users/manuel/.gnupg/test' created
gpg: key FFFD5DA0: public key "Manuel Samper" imported
gpg: Total number processed: 1
gpg:               imported: 1  (RSA: 1)
$ gpg --no-default-keyring --keyring test --list-sigs 0xfffd5da0
pub  4096R/FFFD5DA0 2003-05-13 Manuel Samper
sig 3       FFFD5DA0 2003-05-13   Manuel Samper
sig 3       FFFD5DA0 2003-05-13   Manuel Samper
uid                            Manuel Samper sig 1   P   C521097E 2003-05-14   [User id not found]
   Signature policy: sig 3       FFFD5DA0 2003-05-13   Manuel Samper
sig 3       FFFD5DA0 2003-05-13   Manuel Samper
sub  4096g/0AC11943 2003-05-13
sig         FFFD5DA0 2003-05-13   Manuel Samper
sub  1024D/2D16624C 2003-05-13 [expires: 2007-05-13]
sig         FFFD5DA0 2003-05-14   Manuel Samper
But don't import older self signatures if the key is already in the
public keyring:
$ gpg --recv-key 0xfffd5da0
gpg: key FFFD5DA0: "Manuel Samper" not changed
gpg: Total number processed: 1
gpg:              unchanged: 1
$ gpg --list-sigs 0xfffd5da0
pub  4096R/FFFD5DA0 2003-05-13 Manuel Samper
sig 3       FFFD5DA0 2003-05-13   Manuel Samper
uid                            Manuel Samper sig 3       FFFD5DA0 2003-05-13   Manuel Samper
sig 1   P   C521097E 2003-05-14   Robot CA
(    Signature policy: sub  4096g/0AC11943 2003-05-13
sig         FFFD5DA0 2003-05-13   Manuel Samper
sub  1024D/2D16624C 2003-05-13 [expires: 2007-05-13]
sig         FFFD5DA0 2003-05-14   Manuel Samper
Yes, it's better if they don't try to be too smart and begin to mangle

@_date: 2003-05-17 15:37:02
@_author: Manuel Samper 
@_subject: User attributes and audio IDs (was: Trouble signing) 
What I think would we really useful, is to allow this sort of
"attribute" (image,audio,..) in normal user id, so you can create a
normal uid with their real name, comment and email address _and_ attach
some data to it (like a photo), mainly if you create a user id without
email address, so you can collect other's people signatures here
(obviously, no email challenge is possible) and don't worry about
lossing it when you revoke a uid due to lossing the email address.
But AFAIK this isn't possible whitout breaking compliance with the
standard, right?
