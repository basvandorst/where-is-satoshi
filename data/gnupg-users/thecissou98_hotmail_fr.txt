
@_date: 2015-12-28 19:43:47
@_author: Francis Le Roy 
@_subject: Create Process ec=87 
I am trying to use your librairy but when I try to check the OpenPGP
engine's version, I get an error.
Here is join the code I tried to run and the complete error log.
Your sincerely,

@_date: 2015-12-29 12:24:26
@_author: Francis Le Roy 
@_subject: General error when creating keypair 
I got a problem generating a key pair, when I run the code, it return a
General error code :/.
If you could give me a sample on how to gen a key or fix my code it
would be nice :)
your sincerely,
    gpgme_set_global_flag("debug", "9");
    gpgme_set_global_flag("disable-gpgconf","1");
    gpgme_set_global_flag("gpg-name","gpgconf");
    cout << "cououcou" << endl;
    gpgme_check_version(NULL);
    gpgme_engine_check_version(GPGME_PROTOCOL_OpenPGP);
    gpgme_set_engine_info(GPGME_PROTOCOL_OpenPGP,NULL,"CHOME");
    gpgme_ctx_t ctx;
    gpgme_error_t err;
    gpgme_data_t pubkey;
    gpgme_data_t privkey;
    setlocale (LC_ALL, "");
    gpgme_set_locale (NULL, LC_CTYPE, setlocale (LC_CTYPE, NULL));
     LC_MESSAGES
    gpgme_set_locale (NULL, LC_MESSAGES, setlocale (LC_MESSAGES, NULL));
        err = gpgme_new(&ctx);
    if(err!=GPG_ERR_NO_ERROR) return err;
    err = gpgme_set_protocol(ctx,GPGME_PROTOCOL_OpenPGP);
    if(err!=GPG_ERR_NO_ERROR) return err;
    gpgme_set_armor(ctx,1);
    gpgme_set_offline(ctx,1);
    string req = "";
    req += "\nKey-Type: RSA";
    req += "\nKey-length: 1024";
    req += "\nName-Real: " + student.getFname() + " " + student.getLname();
    req += "\nName-Comment: " + student.getAddress();
    req += " " + student.getCity();
    req += " " + student.getZip();
    req += " " + student.getCountry();
    req += "\nExpire-Date: 0";
    req += "\nPassphrase: bla";
    req += "\n";
    cout << "Sgen ";
    gpgme_data_new(&pubkey);
    gpgme_data_new(&privkey);
    gpgme_data_set_encoding(privkey,GPGME_DATA_ENCODING_ARMOR);
    gpgme_data_set_encoding(pubkey,GPGME_DATA_ENCODING_ARMOR);
    const char* param = req.c_str();
    err = gpgme_op_genkey(ctx,param,NULL,NULL);
    cout << "Egen" << endl;
    if(err!=GPG_ERR_NO_ERROR) return err;

@_date: 2016-04-14 22:41:45
@_author: Francis Le Roy 
@_subject: Problem with decrypt 
I'm trying to decrypt a cipher using gpgme. I have a correct cipher and
have imported the private key but the plain result of gpgme_op_decrypt
is empty. The error returned is GPG_ERR_NO_ERROR...
Please CC me, I haven't subscribed to the mailing list.

@_date: 2016-04-16 10:37:13
@_author: Francis Le Roy 
@_subject: Problem with decrypt 
I am using the?
If(err) way to check if there is an error as GPG_ERR_NO_ERR is 0. But actually the gpgme_op_decrypt operation is successful. However, when I do something like : int len = gpgme_data_seek(plaintextdata, 0, SEEK_END); len is equal to zero.?
So I assume that the data haven't been decrypted or written to the buffer.
Le 15 avr. 2016 19:05, ? 19:05, Werner Koch  a ?crit:

@_date: 2016-08-06 08:44:41
@_author: Le Roy Francis 
@_subject: Generate private key on smartcard GPGME 
I can't figure out how to generate directly a key pair on a smartcard (I
am working with a Nitrokey) using GPGPME.
How can I do that and is it even possible ?

@_date: 2016-08-08 11:15:50
@_author: Le Roy Francis 
@_subject: Building gpgme on windows with GCC 5.1.0 
Hi, I have difficulties building gpgme on windows. I have tried to cross
compile on ubuntu, but I was unable to found a cross compile toolchain
with gcc version 5.1.0.. Building with MSYS on windows also gave me
error. Is there a simple way of building gpgme on windows ?

@_date: 2016-08-09 22:20:05
@_author: Le Roy Francis 
@_subject: Debug code parameter 
Hi, How can I produce code like keygen.valid or
cardedit.genkeys.storekeytype with gpg on the command line ?

@_date: 2016-02-24 11:34:27
@_author: Francis Le Roy 
@_subject: Decrypt without importing key to keyring 
Hi, is there a way to use a private key (PGP) to decrypt a message
without adding it to the keyring. I don't want the private key to be
written on the disk. I'm using gpgme in a C++ and I can't figure out
'transform' a gpgme_data_t object into gpgme_key_t without using the
gpgme_op_import function.

@_date: 2016-07-30 09:11:00
@_author: Le Roy Francis 
@_subject: GPGME & Smartcard 
I got several questions on how to use the gpgme lib (C++) along with a
Open PGP Smart Card.
First, I saw in the documentation a function called gpgme_op_card_edit.
I don't fully understand how that's work, would you mind providing me an
example ?
Secondly, I haven't received my Smart Card yet for testing, but are
gpgme_op_keylist_start and gpgme_op_export working with a Smart Card ?
How can I change the secret key inside my Smart Card ?
Thirdly, is there a way to override the default pin-entry function to
replace it with a callback function of my own ?
Best Regards.

@_date: 2016-09-12 04:04:19
@_author: Le Roy Francis 
@_subject: Javascript and smartcard 
Hi, I was wondering if by any chances, there is, in addition to the Javascript port of gpgme (OpenPGP.js), a Node.js module to interact with smart card?
Francis Le Roy.

@_date: 2016-09-14 15:23:29
@_author: Le Roy Francis 
@_subject: Javascript and smartcard 
Hi, I am trying to build a node.js module to interact with the smart card. I code the add-on in c++ with gpgme. Is there any way on knowing if the card is connected with gpgme?
Le 13 sept. 2016, ? 12:22, Werner Koch > a ?crit:
On Tue, 13 Sep 2016 01:02, dkg at fifthhorseman.net said:
 how to talk to gpg-agent for use of secret keys.  That way gpg-agent
 could delegate the work to the smartcard via scdaemon, and OpenPGP.js
 wouldn't need to know anything about the secret key material.
It might be worth to look at Native Messaging (Chrome) and Web
Extensions (Firefox) for accessing gpg-agent from OpenPGP.js.  The only
extra external dependency would then be a tool to connect stdin/stdout
to gpg-agent's socket (--browser-socket in that case) and maybe to
auto-start gpg-agent.
   Werner

@_date: 2016-09-16 18:45:23
@_author: Le Roy Francis 
@_subject: Call gpg with gpgme 
Hi, how can I interface directly with gpg via gpgme like in the
gpgme_op_edit. Is gpgme_op_spawn of any use in this case ? Is there an
equivalent of gpgme_op_assuan_transact_ext for GPG ?

@_date: 2016-09-17 11:59:34
@_author: Le Roy Francis 
@_subject: Call gpg with gpgme 
I have found another way, as my project is based on node js. I use the child_process package to launch gpg. I have already wrote a function to generate a new key pair directly in a smart card. Nonetheless, if I fail to create a node js function good enough for my needs, I give your solution a try.
Le 17 sept. 2016, ? 13:32, Werner Koch > a ?crit:
On Fri, 16 Sep 2016 20:45, thecissou98 at hotmail.fr said:
 Hi, how can I interface directly with gpg via gpgme like in the
 gpgme_op_edit. Is gpgme_op_spawn of any use in this case ? Is there an
 equivalent of gpgme_op_assuan_transact_ext for GPG ?
Yes, you need to implement the callback for gpgme_op_edit (or
gpgme_op_interact in the forthcoming 1.7).  You probably want to build
an FSM for this.  If you encounter an unknown keyword simply send a LF,
which is what you would have done on the command line too to use the
default answer.
For an example on how to build such a thing, check out the file
src/gpgmeedit.c from GPA.
gpgme_op_spawn is of no use for you.
   Werner

@_date: 2016-09-17 17:13:55
@_author: Le Roy Francis 
@_subject: Call gpg with gpgme 
My snippet works just fine if not for the pinentry. Is there a way of
avoiding the pinentry pop-up and enter the pin in STDIN ? Is gpg
--pinentry-mode loopback of any use ?
Le 17/09/2016 ? 13:59, Le Roy Francis a ?crit :
