
@_date: 2016-02-24 16:59:38
@_author: Martin Konold 
@_subject: Nitrokey HSM and GPG 
I am successfully using Nitrokey Pro with GnuPG 2.1.11.
On the otherhand I have a need to support more than 3 RSA subkeys and therefore I am testing with Nitrokey HSM which is supposed to be able to deal with up to 48 RSA-2048 keys.
On an uptodate openSUSE I verfied that Nitrokey Pro fully works as expected but Nitrokey HSM fails with OpenPGgpg2 --card-status
gpg: selecting openpgp failed: Card error
gpg: OpenPGP card not available: Card error
Kind Regards
--martin konold

@_date: 2016-02-24 22:53:01
@_author: Martin Konold 
@_subject: Nitrokey HSM and GPG 
Am Mittwoch, 24. Februar 2016, 20:12:13 CET schrieb Andreas Schwier:
Dear Andreas,
Thanks for enlightening me. I assume if I simply want to encrypt / decrypt files gpgsm should be sufficient?!
I read the man page but still fail using the Nitrokey HSM with gpgsm.
Can you provide me a hint how to instruct gpgsm to use a specific SmardCard-HSM I successully used openssl with this card but fail with gpgsm sofar using
engine -t dynamic -pre SO_PATH:/usr/lib64/engines/libpkcs11.so -pre ID:pkcs11 -pre LIST_ADD:1 -pre LOAD -pre MODULE_PATH:/usr/lib64/opensc-pkcs11.so
req -engine pkcs11 -new -key 0:10 -keyform engine -out cert.pem -text -x509 -
days 3640
Kind Regards
--martin konold

@_date: 2016-02-26 11:00:52
@_author: Martin Konold 
@_subject: Decrypt without importing key to keyring 
Am Donnerstag, 25. Februar 2016, 08:35:28 CET schrieb Werner Koch:
There is of course the option to leave the private key exclusivly on an OpenPGP Smartcard. This only requires a stub in the keyring which can be recreated on demand.
Kind Regards
--martin konold

@_date: 2016-02-26 12:31:50
@_author: Martin Konold 
@_subject: Single GPG key and multiple yubikeys 
Am Donnerstag, 25. Februar 2016, 15:56:32 CET schrieb Peter Lebbing:
In case there is an urgent need to use two smartcards on the same computer and account I recommend to make use of scdaemon.conf and seperate GNUHOME directories. You may then differentiate between the two cards with the gpg --
homedir commandline option.
Kind Regards
--martin konold

@_date: 2016-02-27 09:29:21
@_author: Martin Konold 
@_subject: gnupg-pkcs11 status & future 
Am Freitag, 26. Februar 2016, 15:18:55 CET schrieb Werner Koch:
Please allow me to mention that many smartcards disallow cleartext export of keys generated on the card while also don't allow to import cleartext private But this is not a backup issue as most cards also allow for n-of-m threshold schemes and DKEK/key-wrapping  e.g. IMHO there are additional legit use cases where having multiple private keys for decryption would be more than useful. Today I circumvent the limit by using multiple OpenPGP Cards and multiple GNUPGHOME directories each configured for a different USB device (scdaemon.conf)
While imho pkcs is ugly it really is a tool to gain interoperability while cleaning up a lot of mess (many people are confused with the current situation) and make encryption available to the masses.
Kind Regards
--martin konold

@_date: 2016-02-27 10:17:46
@_author: Martin Konold 
@_subject: Single GPG key and multiple yubikeys 
Am Freitag, 26. Februar 2016, 12:43:54 CET schrieb Kristian Fiskerstrand:
Hi Kristian,
This looks really good though it does not allow to have multiple smartcards connected simultaneously.
It is my understanding that  'gpg-connect-agent learn /bye' cannot deal with multiple cards visible simultaneously via scdaemon and pscd.
Did I overlook something?
I therefore would like to whish to be able to choose the smartcard (maybe indirectly via keyid) as I am today already able to achieve on the commandline using keyrings.
Why should the commandline user interface of gpg be different if the private keys reside on smartcards compared to a keyring in the filesystem?
What do you think?
Kind Regards
--martin konold
