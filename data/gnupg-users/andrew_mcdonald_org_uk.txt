
@_date: 2000-12-14 18:54:08
@_author: Andrew McDonald 
@_subject: Question regarding clearsigning emails automatically 
This extract is from the mutt manual. Doesn't this do what you want?
  6.3.113.  pgp_verify_sig
  Type: quadoption
  Default: yes
  If "Yes", always attempt to verify PGP/MIME signatures.  If "Ask",
  ask whether or not to verify the signature.  If "No", never attempt
  to verify PGP/MIME signatures.

@_date: 2000-12-14 19:10:17
@_author: Andrew McDonald 
@_subject: question regarding gnupg in my regular signature 
PGP/MIME has advantages over the older application/pgp format, and it
would be nice to see it supported by all the mailers that offer "pgp
support". The pgp/mime standard in rfc2015 is 4 years old, and lots of
MUAs seem to support S/MIME. :)
RFC 2440, does after all say: "An application that implements OpenPGP
for messaging SHOULD implement OpenPGP-MIME." (See RFC2119 for the
meaning of 'SHOULD').
"broken mailers" really referred to Microsoft Outlook, which I get
annoyed with for many reasons (and, yes, I do use it at work :( ). That
particular comment in my .muttrc came about after getting frustrated
trying to send a message to an Outlook user that they could easily
decrypt/verify. This process involved PGP/MIME, then application/pgp
and finally this macro which implements
application/pgp-but-the-content-type-says-text/plain. This, however, is
probably due to problems trying to plug PGP support into Outlook. :-)
By terming my macros "a bit of a cludge". I meant that mutt's PGP/MIME
support was so nice, easy and clean to use; using these macros seem
very horrible in comparison. :(

@_date: 2000-12-17 16:29:32
@_author: Andrew McDonald 
@_subject: question regarding gnupg in my regular signature 
Hash: SHA1
Some are advantages for the mailer, e.g. single MIME standard for
encrypted/signed e-mail (PGP/MIME is essentially the same as S/MIME in
its basic structure).
Some for the user, e.g. you can encrypt and sign attachments along with
the e-mail body, you can extract the original message without having to
pull off the PGP wrappings yourself. The first of those two is probably
one I find most useful. AFAIK, with the Outlook plug-in you would need
to separately encrypt/sign any attachments first (I'll double check
that tomorrow).
I think the 'clear-signing' method was probably created because, at the
time, there was no other way to do it. I think with MIME as a standard
PGP/MIME somehow becomes 'more obvious'.
Actually, I think there are probably quite a few more MUAs under Linux
that support PGP in a non-PGP/MIME form than support PGP/MIME.
With the Outlook plug-in, it simply processes the content of the text
edit window, getting it to do the header/structure modifications for
PGP/MIME (or even setting the content-type to application/pgp) is
probably more difficult to do from a plug-in.
Well, if the mailer supported PGP/MIME you wouldn't see any
attachments, just as you don't with an MUA that supports S/MIME on
S/MIME encoded messages. ;-)
Best wishes,

@_date: 2000-12-20 23:05:10
@_author: Andrew McDonald 
@_subject: --with-colons, key type construction 
Hash: SHA1
DSA can only do signatures, you can't do encryption with it.
Extract from RFC2440:
9.1. Public Key Algorithms
       ID           Algorithm
       --           ---------
       1          - RSA (Encrypt or Sign)
       2          - RSA Encrypt-Only
       3          - RSA Sign-Only
       16         - Elgamal (Encrypt-Only), see [ELGAMAL]
       17         - DSA (Digital Signature Standard)
       18         - Reserved for Elliptic Curve
       19         - Reserved for ECDSA
       20         - Elgamal (Encrypt or Sign)
       21         - Reserved for Diffie-Hellman (X9.42,
                    as defined for IETF-S/MIME)
       100 to 110 - Private/Experimental algorithm.

@_date: 2000-12-20 23:17:02
@_author: Andrew McDonald 
@_subject: question regarding gnupg in my regular signature 
An update on this. It appears that the plug-in does sign/encrypt
attachments. However, attachments are signed/encrypted separately from
the body of the e-mail. This separate signing has a clear semantic
difference to the PGP/MIME situation where they are signed together as
a whole.
As an example, consider a situation where I send a contract attached to
an e-mail. The body of the e-mail says 'This is a draft. We aren't
happy with it yet, and won't sign it until we've made some further
alterations.' PGP/MIME signs the combined body and attachment. The PGP
plug-in to Outlook signs them separately. The recipient can take the
contract and show it to others with my signature on it, without showing
them my qualifying statement from the body of the e-mail.

@_date: 2000-12-14 18:54:08
@_author: Andrew McDonald 
@_subject: Question regarding clearsigning emails automatically 
This extract is from the mutt manual. Doesn't this do what you want?
  6.3.113.  pgp_verify_sig
  Type: quadoption
  Default: yes
  If "Yes", always attempt to verify PGP/MIME signatures.  If "Ask",
  ask whether or not to verify the signature.  If "No", never attempt
  to verify PGP/MIME signatures.

@_date: 2000-12-14 19:10:17
@_author: Andrew McDonald 
@_subject: question regarding gnupg in my regular signature 
PGP/MIME has advantages over the older application/pgp format, and it
would be nice to see it supported by all the mailers that offer "pgp
support". The pgp/mime standard in rfc2015 is 4 years old, and lots of
MUAs seem to support S/MIME. :)
RFC 2440, does after all say: "An application that implements OpenPGP
for messaging SHOULD implement OpenPGP-MIME." (See RFC2119 for the
meaning of 'SHOULD').
"broken mailers" really referred to Microsoft Outlook, which I get
annoyed with for many reasons (and, yes, I do use it at work :( ). That
particular comment in my .muttrc came about after getting frustrated
trying to send a message to an Outlook user that they could easily
decrypt/verify. This process involved PGP/MIME, then application/pgp
and finally this macro which implements
application/pgp-but-the-content-type-says-text/plain. This, however, is
probably due to problems trying to plug PGP support into Outlook. :-)
By terming my macros "a bit of a cludge". I meant that mutt's PGP/MIME
support was so nice, easy and clean to use; using these macros seem
very horrible in comparison. :(

@_date: 2000-12-17 16:29:32
@_author: Andrew McDonald 
@_subject: question regarding gnupg in my regular signature 
Hash: SHA1
Some are advantages for the mailer, e.g. single MIME standard for
encrypted/signed e-mail (PGP/MIME is essentially the same as S/MIME in
its basic structure).
Some for the user, e.g. you can encrypt and sign attachments along with
the e-mail body, you can extract the original message without having to
pull off the PGP wrappings yourself. The first of those two is probably
one I find most useful. AFAIK, with the Outlook plug-in you would need
to separately encrypt/sign any attachments first (I'll double check
that tomorrow).
I think the 'clear-signing' method was probably created because, at the
time, there was no other way to do it. I think with MIME as a standard
PGP/MIME somehow becomes 'more obvious'.
Actually, I think there are probably quite a few more MUAs under Linux
that support PGP in a non-PGP/MIME form than support PGP/MIME.
With the Outlook plug-in, it simply processes the content of the text
edit window, getting it to do the header/structure modifications for
PGP/MIME (or even setting the content-type to application/pgp) is
probably more difficult to do from a plug-in.
Well, if the mailer supported PGP/MIME you wouldn't see any
attachments, just as you don't with an MUA that supports S/MIME on
S/MIME encoded messages. ;-)
Best wishes,

@_date: 2000-12-20 23:05:10
@_author: Andrew McDonald 
@_subject: --with-colons, key type construction 
Hash: SHA1
DSA can only do signatures, you can't do encryption with it.
Extract from RFC2440:
9.1. Public Key Algorithms
       ID           Algorithm
       --           ---------
       1          - RSA (Encrypt or Sign)
       2          - RSA Encrypt-Only
       3          - RSA Sign-Only
       16         - Elgamal (Encrypt-Only), see [ELGAMAL]
       17         - DSA (Digital Signature Standard)
       18         - Reserved for Elliptic Curve
       19         - Reserved for ECDSA
       20         - Elgamal (Encrypt or Sign)
       21         - Reserved for Diffie-Hellman (X9.42,
                    as defined for IETF-S/MIME)
       100 to 110 - Private/Experimental algorithm.

@_date: 2000-12-20 23:17:02
@_author: Andrew McDonald 
@_subject: question regarding gnupg in my regular signature 
An update on this. It appears that the plug-in does sign/encrypt
attachments. However, attachments are signed/encrypted separately from
the body of the e-mail. This separate signing has a clear semantic
difference to the PGP/MIME situation where they are signed together as
a whole.
As an example, consider a situation where I send a contract attached to
an e-mail. The body of the e-mail says 'This is a draft. We aren't
happy with it yet, and won't sign it until we've made some further
alterations.' PGP/MIME signs the combined body and attachment. The PGP
plug-in to Outlook signs them separately. The recipient can take the
contract and show it to others with my signature on it, without showing
them my qualifying statement from the body of the e-mail.

@_date: 2001-04-06 21:34:12
@_author: Andrew McDonald 
@_subject: [Announce] new gnupg snapshot 
IIRC, if you have a secret key it is ultimately trusted by default.
Persuading you to import a secret key could, therefore, subvert your
web of trust.

@_date: 2001-04-17 19:13:02
@_author: Andrew McDonald 
@_subject: GPG | Upgrade 
Well, I didn't have any problems with upgrading a box from 2.2r2 to
2.2r3. The setuid bit didn't fall off my copy of gpg.
Looking at the postinst script for the debalso shows that it should
have been set.

@_date: 2001-04-28 17:37:01
@_author: Andrew McDonald 
@_subject: my first steps with GnuPG... 
You'll find it, together with the other OpenPGP related Internet
Drafts, linked to from the IETF OpenPGP Working Group page at:

@_date: 2001-08-24 18:45:04
@_author: Andrew McDonald 
@_subject: Messed up? 
This is a problem with the keyserver.net servers. (Or, at least, the
way their HKP implementation interacts with gpg's).
Try another keyserver instead, e.g. horowitz.surfnet.nl. Most of the
keyservers exchange keys with one another, so uploading it to one
should be enough.

@_date: 2001-08-26 14:12:01
@_author: Andrew McDonald 
@_subject: A Logical Problem 
The best reference is RFC 2440.
e.g. available from (or the revised version currently available in Internet Draft form at

@_date: 2001-02-07 19:59:00
@_author: Andrew McDonald 
@_subject: Strange warning: "this cipher algorithm is depreciated" 
No. It's a double bug. The message should say "deprecated", but in this
case shouldn't be saying it at all.
See the FAQ: or mailing list archives.

@_date: 2001-02-15 20:43:02
@_author: Andrew McDonald 
@_subject: secure file deletion 
This was implemented in ext2, but removed somewhere in 1.3.x kernels
IIRC. I believe it was removed due to some nasty race conditions that
couldn't be easily resolved at the time.

@_date: 2001-02-27 23:23:03
@_author: Andrew McDonald 
@_subject: PGPFreeware and GPG 
If you've encrypted it with your friend's public key, then obviously
you can't decrypt it, since you don't have his private key. :)
By default, gnupg doesn't automatically encrypt it using your public
key as well. You can get it to do this, e.g. by adding a line
containing "default-key YOURKEYID" to your .gnupg/options file.

@_date: 2001-01-11 17:45:39
@_author: Andrew McDonald 
@_subject: Diffie-Hellman 
Yes, gnupg does deal with what PGP calls 'Diffie-Hellman', except it
more correctly calls it 'ElGamal', since that is what it is.
A DSS/DH (DSS/ElG) key is default when you are generating a key with

@_date: 2001-01-12 18:23:30
@_author: Andrew McDonald 
@_subject: Changing my preferences 
I just tried this (to change my preferences to the new default 7/10/3/4).
It worked, but initially I thought it hadn't since the 'pref' command
still showed the old preferences. It did show the new preferences when
I saved it and went back into edit-key.
It looks like gpg notices the preferences when you first go into
editing the key, but doesn't notice the change when the self-signature
is recreated.

@_date: 2001-01-11 17:45:39
@_author: Andrew McDonald 
@_subject: Diffie-Hellman 
Yes, gnupg does deal with what PGP calls 'Diffie-Hellman', except it
more correctly calls it 'ElGamal', since that is what it is.
A DSS/DH (DSS/ElG) key is default when you are generating a key with

@_date: 2001-01-12 18:23:30
@_author: Andrew McDonald 
@_subject: Changing my preferences 
I just tried this (to change my preferences to the new default 7/10/3/4).
It worked, but initially I thought it hadn't since the 'pref' command
still showed the old preferences. It did show the new preferences when
I saved it and went back into edit-key.
It looks like gpg notices the preferences when you first go into
editing the key, but doesn't notice the change when the self-signature
is recreated.

@_date: 2001-07-03 21:21:02
@_author: Andrew McDonald 
@_subject: how to verify (only) signed and encrypted file. 
'gpg --decrypt' will verify the signature after decrypting the file.
(The signature verification message is sent to stderr, whereas the
plaintext is sent to stdout).

@_date: 2001-07-25 21:02:01
@_author: Andrew McDonald 
@_subject: Win32 passphrase proposal 
Why not just have a key with no passphrase? I believe that this is
possible, and seems to be equivalent to what you are proposing.

@_date: 2001-06-10 22:53:02
@_author: Andrew McDonald 
@_subject: Refreshing PGP keys 
Content-Disposition: inline
One thing that seems to be missing from gnupg is an easy way to make
sure that you have the latest version of someones public key. This is
particularly relevant if a key has been revoked (also, for example if
there is a new self signature with different preferences or expiry
You could do a --recv-key for each key on your key ring in turn, but
this is a little tedious if done by hand.
I've attached a little shell script (nothing special) that I use to
automate this. It creates a list of the keyids in your public keyring,
and then performs a recv-key on each of them.
It creates three temporary files:
keylist - list of keyids in your keyring
keylistdone - list of keyids that it has updated
keylistresults - the output of gpg when receiving the keys
The script outputs the interesting stuff from the results file at the
(You can check how far it has got by comparing "wc -l keylist" and "wc
-l keylistdone").
This probably isn't as good as checking a CRL every time you use a key,
but I think it is useful to run from time to time.
I hope this is useful to someone,

@_date: 2001-06-13 21:05:01
@_author: Andrew McDonald 
@_subject: Refreshing PGP keys 
I have also been passed a patch to gnupg that adds a --recv-updates
option. There are reasonable concerns about the load it might place on
key servers, so there are no plans to add this at the present time.
An alternative might be to have an option to do an automatic --recv-key
every time a key is used for encryption or signature verification,
though this is rather inefficient. I guess that improved methods of
being able to query a keyserver might make this more feasible in the

@_date: 2001-06-26 19:14:02
@_author: Andrew McDonald 
@_subject: recomendation for keyserver ? 
My experience is that the 'official' pgp keyservers don't seem to
propagate keys very well. I suggest also uploading to, e.g.
wwwkeys.nl.pgp.net (aka horowitz.surfnet.nl) or wwwkeys.ch.pgp.net both
of which I've used without problems.

@_date: 2001-06-30 10:02:01
@_author: Andrew McDonald 
@_subject: how to verify (only) signed and encrypted file. 
No. The signature is over the plaintext message, and the signature is
also encrypted, so you do have to decrypt the message before you can
verify the signature.

@_date: 2001-03-07 23:22:12
@_author: Andrew McDonald 
@_subject: default Cipher and Pubkey algo 
You can find out the preferences from the edit-key command, e.g.
admcd gpg --edit-key 0xf2deed36
Secret key is available.
pub  1024D/F2DEED36  created: 1999-11-01 expires: never      trust: -/u
sub  2048g/FA04439F  created: 1999-11-01 expires: never
(1)  Andrew McDonald (2)  Andrew McDonald Command> pref
pub  1024D/F2DEED36  created: 1999-11-01 expires: never      trust: -/u
(1)  Andrew McDonald      S7 S10 S3 S4 H3 H2 Z2 Z1
(2)  Andrew McDonald      S7 S10 S3 S4 H3 H2 Z2 Z1
The 'S' is the symmetric cipher preference. 'H' is hash algorithm. 'Z'
is compression. You can find out what the numbers mean from RFC2440.
e.g. for the symmetric encryption:
[actually this is the list from the RFC2440-bis Internet Draft -
algorithm 10 isn't specified in RFC2440]
9.2. Symmetric Key Algorithms
       ID           Algorithm
       --           ---------
       0          - Plaintext or unencrypted data
       1          - IDEA [IDEA]
       2          - Triple-DES (DES-EDE, [SCHNEIER] -
                    168 bit key derived from 192)
       3          - CAST5 (128 bit key, as per RFC2144)
       4          - Blowfish (128 bit key, 16 rounds) [BLOWFISH]
       5          - SAFER-SK128 (13 rounds) [SAFER]
       6          - Reserved for DES/SK [AES]
       7          - AES with 128-bit key
       8          - AES with 192-bit key
       9          - AES with 256-bit key
       10         - Twofish with 256-bit key [TWOFISH]
       100 to 110 - Private/Experimental algorithm.
So, for my key shown above the preferences are AES, Twofish, CAST5,
Blowfish. Triple-DES is also implied as being at the end of the list,
since support for it is required by an OpenPGP implementation.

@_date: 2001-03-28 19:42:11
@_author: Andrew McDonald 
@_subject: insecure memory message 
More likely to be quite the opposite in fact.
You are probably using Rijndael which is incorrectly not recognised as
a 'recommended' algorithm in the 1.0.4 release.
I believe the FAQ covers both your questions.

@_date: 2001-05-01 20:23:01
@_author: Andrew McDonald 
@_subject: Ugly way to change the primary UID 
I had just independently come up with the same method and was about to
post it to the list. :-)
Anyway, it appears to work OK.

@_date: 2001-05-01 23:39:02
@_author: Andrew McDonald 
@_subject: Help with compiling GnuPG 1.0.5 on Solaris 7 
It can't find 'ar'. This is needed to manipulate archives such as the
.a files used by libraries.
Presumably you need to locate and install it.

@_date: 2001-05-02 09:42:01
@_author: Andrew McDonald 
@_subject: Ugly way to change the primary UID 
Nicholas Cole said:
I tried this, but found that a 'normal' signature was created rather than
a self signature. e.g. things like cipher algorithm preferences were

@_date: 2001-05-15 22:29:01
@_author: Andrew McDonald 
@_subject: no secret key for decryption available 
The file was encrypted under more than one public key. Probably yours
and the sender's. The secret key not found is that of the sender. It
could find your secret key and you successfully decrypted the file
using that.

@_date: 2001-05-16 19:25:01
@_author: Andrew McDonald 
@_subject: gnupg 1.0.5 slower than previous version on debian 
No. This is a result of the extra checks done to avoid certain attacks
on the secret key file.
You can use an option to disable it if you really want:
       --no-sig-create-check
                 GnuPG  normally  verifies  each  signature right
                 after creation to protect against bugs and hard-
                 ware malfunctions which could leak out bits from
                 the secret key.  This extra  verification  needs
                 some time (about 115% for DSA keys), and so this
                 option can be used to disable it.  However,  due
                 to  the  fact  that the signature creation needs
                 manual  interaction,  this  performance  penalty
                 does not matter in most settings.

@_date: 2001-10-16 22:36:01
@_author: Andrew McDonald 
@_subject: FW: Inquiry 
[self decrypting archives]
I think SDAs have one big problem (as I think previous threads here
have picked up). There is no integrity protection.
How do you know that the mail hasn't been intercepted on route and the
interceptor added a stub to the executable that captures the password
and sends it back to them?

@_date: 2001-10-17 19:26:02
@_author: Andrew McDonald 
@_subject: Can't check pgp-6.5.8 signatura 
I don't think OpenPGP itself specifies the way to send an OpenPGP
format message within a mail. (or does someone want to correct me on
There are, however, three ways (that I'm aware of) doing this:
1) PGP/MIME (RFC 3156)
2) application/pgp
3) what I'll call 'text/plain'
(1) is the strongly preferred way of doing it. It is the default in
mutt. In Outlook a signed message has an 'attachment' containing the
signature, for an encrypted message (IIRC) the whole thing appears as
an 'attachment'.
(2) is deprecated. It is available in mutt via the 'create_traditional'
option. Whether encrypted and/or signed the whole message appears as an
'attachment' in Outlook.
(3) is what the NAI PGP plug-in for Outlook does. It is the same as
(2), but the content type is set to 'text/plain'. The pgp filter for
pine that I used to use (a few years ago) also did this.
To me (2) seems more correct than (3). After all, the content isn't
text/plain is it? However, for signed mails in particular, it fails to
show the content in some MUAs, even though most of it is human
In my experience I'd prefer to use (1), but I sometimes have to use (3)
when I send encrypted/signed messages to people using Outlook.

@_date: 2001-10-17 23:53:01
@_author: Andrew McDonald 
@_subject: Can't check pgp-6.5.8 signatura 
Hmm. Sort of.
It specifies a way to "sign textual octet stream with ASCII armoring".
Which is clearly applicable to e-mail environments. It doesn't tell me
what MIME content type I should use.
Actually looking a bit further, section 2.4 says "An application that
implements OpenPGP for messaging SHOULD implement OpenPGP-MIME."
I don't think you can call it a 'very new message format'. It has,
after all, been around for five years now. RFC 2015 is dated October

@_date: 2001-10-23 21:39:02
@_author: Andrew McDonald 
@_subject: FORGOT PASSPHASE 
Not quite good enough. ;-) You need to be at least $OMNISCIENT_DEITY
($OMNIPOTENT_DEITY would probably do to).
Sorry. There isn't any way to get your passphrase back. What would the
point be if you could do that? Someone else would be able to do it as
[This doesn't appear to be in the FAQ - maybe it should be?]

@_date: 2001-09-01 10:18:02
@_author: Andrew McDonald 
@_subject: Port # of the keyserver 
HKP usually runs on port 11371. I think some use port 80 instead.
I don't know about the ldap ones, but gnupg doesn't support those at
the moment anyway.

@_date: 2001-09-10 22:53:01
@_author: Andrew McDonald 
@_subject: Automatic update of keyring 
When this came up last time I was passed a patch that added such an
option. I understand that Werner didn't want to include it due to
reasonable concerns about the load that might be placed on the
keyservers if everybody used it.

@_date: 2001-09-27 23:57:01
@_author: Andrew McDonald 
@_subject: how to sent revoke certificate to pgp keyserver? 
What gpg produces with gen-revoke is just the revocation signature. To
send it to a key server, you first need to import the public key (if
you haven't already got it in your keyring), then import the revocation
certificate you've just produced. Export the key (which now includes
the revocation signature) and send it to the keyserver.

@_date: 2002-03-06 23:16:02
@_author: Andrew McDonald 
@_subject: Decrypt without password... 
This is exactly the reason for recommending the use of "no password"
over "password in script" for automated systems. The latter doesn't
really give anything more than a false sense of security (and a more
complicated script) in this context.

@_date: 2002-03-14 23:12:01
@_author: Andrew McDonald 
@_subject: zlib bug 
Note that, as you are running Linux, it is quite likely that your gpg is
dynamically linked against the zlib libraries you probably have
installed on your system. You can check this with, e.g.:
admcd ldd $(which gpg)
        libz.so.1 => /usr/lib/libz.so.1 (0x40022000)
        libdl.so.2 => /lib/libdl.so.2 (0x40031000)
        libnsl.so.1 => /lib/libnsl.so.1 (0x40035000)
        libgdbm.so.1 => /usr/lib/libgdbm.so.1 (0x4004a000)
        libc.so.6 => /lib/libc.so.6 (0x40050000)
        /lib/ld-linux.so.2 => /lib/ld-linux.so.2 (0x40000000)
The libz is zlib. In this case you will want to upgrade the libz you
have installed and gpg will not need recompiling or relinking against
the updated version. Most of the main distributions have already
released updated zlib packages. Consult their security updates pages
for information.

@_date: 2002-03-17 16:12:01
@_author: Andrew McDonald 
@_subject: zlib bug 
I believe that the gnupg-w32-1.0.6-2.zip on ftp.gnupg.org is the
updated version.
