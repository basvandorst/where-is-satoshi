
@_date: 2016-11-18 18:24:41
@_author: David Adamson 
@_subject: gpg2 --version gpg: Fatal: libgcrypt is too old (need 1.7.0, 
I'm running a debian Jessie v8 kernel release 3.16.0-4-amd64 on my
personal laptop. It came pre-installed with GnuPG 1.4.18.
Rightly or not I thought having the latest version was a good idea for
no other reason than wanting to have the latest and greatest. So from
gnupg.org download page I downloaded and installed Gnupg Modern 2.1.15
along with the required libraries: nPth v1.2, Libgpg-error v1.25,
Libgcrypt v1.7.3, Libksba v1.3.5 and Libassuan v2.4.3. Integrity
checked them all.
After installation completed I ran gpg --version from the command line
and was presented with:
gpg (GnuPG) 1.4.18
but then saw reference online somewhere to gpg2 and figured that I
should be checking the version to that and so I ran gpg2 --version and
was presented with:
gpg: Fatal: libgcrypt is too old (need 1.7.0, have 1.6.3).
I would like to have either version at this point that works. I don't
like the idea of having misconfigured or improperly installed software
trashing up my system. If you can help me clean up my system and have
either version operational, I'd appreciate it.
I intend to use Gnupg just to encrypt and sign text and files.
Thanks in advance!

@_date: 2016-11-19 09:13:14
@_author: David Adamson 
@_subject: gpg2 --version gpg: Fatal: libgcrypt is too old (need 1.7.0, 
That worked thank you but only for that session and I read that it's
generally not good practice to make that path permanent.
Are you proposing I do this every time I wish to use gpg2?
Is this behavior expected in a successful installation or what did I
do wrong and can I fix it?
Thanks again.
P.S. I am prepared to do fresh install of OS if that would be smart.

@_date: 2016-11-19 14:44:37
@_author: David Adamson 
@_subject: gpg2 --version gpg: Fatal: libgcrypt is too old (need 1.7.0, 
Running ldconfig as root resolved the issue I was having! Now when I
type gpg2 --version in a new shell it reports the following:
gpg (GnuPG) 2.1.15
libgcrypt 1.7.3
Thanks for the help.

@_date: 2016-11-19 15:51:19
@_author: David Adamson 
@_subject: configure warnings and errors upon ./configure for Pinentry v0.9.7 
I'm running a debian Jessie v8 kernel release 3.16.0-4-amd64 on my
personal laptop. It came pre-installed with GnuPG 1.4.18.
I went to generate keys for myself by typing:
gpg2 --gen-key
But then during the process got this error:
gpg: agent_genkey failed: No pinentry
Key generation failed: No pinentry
So I assumed I needed to install Pinentry and downloaded it from gnupg.org.
I tried running ./configure as root and towards the end I got the
following warnings and errors. I'm not sure how many issues I'm
dealing with here or how to fix them.
checking for gpg-error-config... /usr/local/bin/gpg-error-config
checking for GPG Error - version >= 1.16... yes (1.25)
configure: WARNING:
*** The config script /usr/local/bin/gpg-error-config was
*** built for x86_64-pc-linux-gnu and thus may not match the
*** used host x86_64-unknown-linux-gnu.
*** You may want to use the configure option --with-gpg-error-prefix
*** to specify a matching config script or use $SYSROOT.
checking for libassuan-config... /usr/local/bin/libassuan-config
checking for LIBASSUAN - version >= 2.1.0... yes (2.4.3)
checking LIBASSUAN API version... okay
configure: WARNING:
*** The config script /usr/local/bin/libassuan-config was
*** built for x86_64-pc-linux-gnu and thus may not match the
*** used host x86_64-unknown-linux-gnu.
*** You may want to use the configure option --with-libassuan-prefix
*** to specify a matching config script or use $SYSROOT.
checking for byte typedef... no
checking for ulong typedef... yes
checking for setcap... /sbin/setcap
checking for cap_set_proc in -lcap... no
checking for pkg-config... no
checking for ncursesw... checking for ncurses... checking for initscr
in -lncursesw... no
checking for initscr in -lncurses... no
checking for tgetent in -lcurses... no
checking for tgetent in -ltermcap... no
checking for tgetent in -ltermlib... no
checking for initscr in -lcurses... no
checking if Unix domain socket is supported... yes
checking for pkg-config... no
checking for pkg-config... (cached) no
checking for Qt5Core >= 5.0.0 Qt5Gui >= 5.0.0 Qt5Widgets >= 5.0.0...
./configure: line 9744: no: command not found
./configure: line 9752: no: command not found
./configure: line 9770: no: command not found
checking for QtCore >= 4.4.0 QtGui >= 4.4.0... ./configure: line
10123: no: command not found
./configure: line 10131: no: command not found
configure: error: No pinentry enabled.
I appreciate any help, thanks.

@_date: 2016-11-20 03:04:59
@_author: David Adamson 
@_subject: configure warnings and errors upon ./configure for Pinentry v0.9.7 
Thanks Krzysztof. I did apt-get install pinentry-qt4 although it was
an older (0.8.3-2) version than what is on gnupg . org. It installed
without any errors but when I run gpg2 --gen-key I'm still getting:
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
gpg: agent_genkey failed: No pinentry
Key generation failed: No pinentry
There is no delay in the error - it occurs at the same time the text
above is displayed.

@_date: 2016-11-21 09:13:20
@_author: David Adamson 
@_subject: configure warnings and errors upon ./configure for Pinentry v0.9.7 
I looked for a GUI platform but had no idea what it's called where to
find it and why I need a GUI if I plan on using purely command line
Would It be:
"GPA is a graphical frontend to GnuPG"
Thanks for your help!

@_date: 2016-11-21 13:51:14
@_author: David Adamson 
@_subject: configure warnings and errors upon ./configure for Pinentry v0.9.7 
Thanks for the tip. I just tried your suggestion, installed
pinentry-curses, which installed without error but I am getting the
same error when trying generate keys, just as before.
You're right there's some information I accidentally left out. I have
a standard debian 8 jessie install which included gnupg v 1.4.18. I
then downloaded and installed from gnupg.org the source code for
version GnuPG modern 2.1.16 and needed libraries. With that said you
can pick up with the opening line of this thread. I hope I didn't
leave anything out this time.
I'm really starting to feel I missed a step along the way and messed
up the install.  I suppose I could do a fresh install  of the OS and
just use the 1.4.18 version otherwise I'm not aware of what to do
differently on my second attempt. I feel as though I followed the
instructions. It probably some basic linux config that I'm too new to
know about, LOL.

@_date: 2016-11-23 00:29:10
@_author: David Adamson 
@_subject: configure warnings and errors upon ./configure for Pinentry v0.9.7 
Stephan I updated the .bashrc file in my home directory, still got the
same error, so I restarted the system but unfortunately the error
Thanks for the assistance.

@_date: 2016-11-23 01:44:51
@_author: David Adamson 
@_subject: configure warnings and errors upon ./configure for Pinentry v0.9.7 
Werner was GTK+-2.0 a potential option for an appropriate development
package for the GUI platform?
After installing GTK+-2.0 I was successfully able to complete the
install of pinentry, However during the --gen-key process while
generating entropy I got the following errors:
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
gpg: lookup_hashtable failed: Unknown system error
gpg: trustdb: searching trust record failed: Unknown system error
gpg: Error: The trustdb is corrupted.
gpg: You may try to re-create the trustdb using the commands:
gpg:   cd ~/.gnupg
gpg:   gpg --export-ownertrust > otrust.tmp
gpg:   rm trustdb.gpg
gpg:   gpg --import-ownertrust < otrust.tmp
gpg: If that does not work, please consult the manual
So with one issue solved now on to the next.  I'm sorry but this can't
be right. Anyone know why I am running into so many issues?

@_date: 2016-11-24 03:40:42
@_author: David Adamson 
@_subject: configure warnings and errors upon ./configure for Pinentry v0.9.7 
I wasn't exactly methodical in my approach to resolve the issue but I
"think" what resolved my issue preventing me from generating keys was
following Stephan's suggestion of adding to .bashrc, which I had done
and was still getting the issue but tonight I added the lines to
.bashrc of root.
Or it could have been Peter's suggestion of rm trustdb.gpg.
Anyhow I have successfully generated pub and secret key.  I am getting
a gui pop up requesting I enter a passphrase when generating a key
which was not my initial goal but I'm glad to have something working
than nothing.
I have a feeling I'm not out of the woods quite yet but that's ok.  I
appreciate you guys helping me work through this gpg software.  I
still have lots of questions about what kind of questions I should
have but that will come.

@_date: 2016-11-25 08:12:35
@_author: David Adamson 
@_subject: What are those attachments you have on your email? 
Certainly that sounds like a good idea.
Thanks again for your help.  I am playing around with generating my
keys, importing others and encrypting and decrypting.
I was thinking of ways to get my key out to people without using the
keyservers and instead attaching my public key to my email seemed like a good
idea.  I noticed you have two, one called 0x4218732B.asc and another
called signature.asc.  Am I correct in assuming your first one is your
public key?  The second one I'm not sure what it is for.  I thought
maybe you were signing your public key so I ran the following but got
a BAD signature message so I thought maybe it's for something else -
david at system:~/Downloads$ gpg2 --verify signature.asc 0x4218732B.asc
gpg: Signature made Wed 23 Nov 2016 11:41:22 AM EST
gpg:                using RSA key 5E77973C5ED0E692
gpg: Can't check signature: No public key
david at system:~/Downloads$ gpg2 --import 0x4218732B.asc
gpg: key 1CA0EF5E4218732B: public key "Stephan Beck
" imported
gpg: Total number processed: 1
gpg:               imported: 1
david at system:~/Downloads$ gpg2 --verify signature.asc 0x4218732B.asc
gpg: Signature made Wed 23 Nov 2016 11:41:22 AM EST
gpg:                using RSA key 5E77973C5ED0E692
gpg: BAD signature from "Stephan Beck " [unknown]

@_date: 2016-11-25 11:01:11
@_author: David Adamson 
@_subject: What are those attachments you have on your email? 
Stephan so this is a result of you using a mail client that requires
the signature file and If I used a similar mail client it could
automatically verify this email message was signed by the holder of
Stephan's private key?
However is it the case as Juan put it that since I'm using another
type of mail service, in my case gmail web based interface, that this
signature will not be applicable?
Juan said:
"Otherwise, it
looks like a normal message (or empty if PGP/MIME encrypted) with a
signature.asc file (sometimes called differently) as an attachment."
Thanks for the resource. I'll have to get used to
reading/understanding this type of material/subject matter.
