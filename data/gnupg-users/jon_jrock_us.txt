
@_date: 2006-08-01 00:08:47
@_author: Jonathan Rockway 
@_subject: [Fwd: perl EUID change causing failure] 
Might I suggest using a pre-implemented perl solution?
GnuPG::Interface: And also, GPG, Mail::GPG, Crypt::GPG, or Mail::GnuPG.
In other words, other people have already worked out the details, so why
not try one of those modules before fighting with something that's not
really worth your time?
Jonathan Rockway

@_date: 2006-08-11 18:37:54
@_author: Jonathan Rockway 
@_subject: AES 256 bit key generation 
AES is a symmetric cypher, so you can use anything you want as the key,
although I'm pretty sure that you must never use the same key to encrypt
two different messages.  (See "Initialization Vector".  I know this is
required for stream cyphers like RC4, but I'm not sure about block
cyphers like AES.)  If anything, using a different key every time
ensures that two identical messages encrypt to different cyphertexts,
which is a good thing.  Also be sure to read up on ECB / CBC.
You should probably look this up in the AES section of Applied
Cryptography before you deploy any code, though.
Jonathan Rockway

@_date: 2006-08-19 20:53:20
@_author: Jonathan Rockway 
@_subject: Don't store your key on a flash drive! [was Re: GnuPG (GPG) Problem] 
I would recommend that you don't do that.  What if you lose the drive? Then your private key is compromised.  Do you have a revocation
certificate in a safe location?  If not, you can't even tell anyone that
your private key has been compromised!  Not good!
The OpenPGP smartcard is a much safer option, since it will not give up
the private key (even if you have the password), and will lock itself
after 3 incorrect password attempts.  (And after 3 incorrect Admin PIN
attempts, it will destroy itself, which is pretty inconvenient for
someone trying to steal your key.)  Compare this to a pen drive that
will let anyone copy off the secret key and guess the passphrase on
their friendly local supercomputer cluster.
The other advantage is that if your card gets stolen, you *know* that
it's been stolen.  If you have your key lying around in your homedir
somewhere, someone could just make a copy of it, and you'd never know. With the OpenPGP card, if it's not in your hand, you can consider it stolen.
For $20, you can't go wrong.  Get an OpenPGP card and be happy :)
Jonathan Rockway

@_date: 2006-08-22 22:32:50
@_author: Jonathan Rockway 
@_subject: Don't store your key on a flash drive! [was Re: GnuPG 
Yup, that's what the "Open" in "OpenPGP Smartcard" means :) I'm not a
smartcard programmer, so I bought one instead.  If you'd like to make
OpenPGP smartcards and sell them, that would be great!
Jonathan Rockway

@_date: 2006-07-12 20:47:34
@_author: Jonathan Rockway 
@_subject: How to verify the file was successfully encrypted... 
If you wanted to be really sure that GPG didn't mess something else, try decrypting it with some other OpenPGP implementation.  If you're using perl, use Crypt::OpenPGP.  (And Text::Diff to do your diff, and File::Slurp to read in the files for Text::Diff :)
BTW, why are you encrypting these files anyway?  If someone broke into your computer they could just steal the crypto key too.
Jonathan Rockway

@_date: 2006-05-23 16:26:12
@_author: Jonathan T. Rockway 
@_subject: How to use PKA 
Hash: SHA1
My understanding of those instructions is as follows:
As the administrator of "yourdomain.com", you can attest to the fact
that "you has a certain public key.  To do this:
Create a TXT record in "yourdomain.com" for you._pka.yourdomain.com.
"you" is the part before the at sign, and "yourdomain.com" is your
domain.  the _pka part isn't really a host on your network, it's
simply the convention that was decided upon for this.
The value of that TXT record is a colon-separated list of key=value
pairs, where the keys and values are: (ignore everything after v=pkal; # meaning that this is a pkal record
When concatenated together, you TXT record should look something like:
Which is incidentally what my PKA record looks like.
I actually just set this up and haven't tested it yet, though.  If it
doesn't work, I'll post a correction :)
What version of gpg are you using?  The instructions indicate that you
need to check out the subversion ("CVS") tree.  It's experimental in
nature, so it hasn't trickled down to stable versions yet.
I need to try a newer version today anyway, so I'll try this out and
let you know what version works.
Jonathan Rockway

@_date: 2006-05-30 23:02:41
@_author: Jonathan T. Rockway 
@_subject: Cipher v public key. 
I think you're misunderstanding how PGP public-key encryption works.  When you send an encrypted message, the first thing that happens is a random number called a session key is generated.  This session key is then used to encrypt the (compressed, possibly) original message with a symmetric cypher like AES256.  Then, this session key is encrypted with the recipient's public key (RSA or ElGamal).
When the message is received by the recipient, he uses his private key to decrypt the session key.  Then he uses the session key to decrypt the original message. If you're just using symmetric keys, you use AES256 directly.  The passphrase you type in is used as the session key, in this case (actually, there's a random number called "salt" appended to the passphrase to prevent certain attacks, but the idea is the same).  With public key cryptography, the software (via the public key algorithms) handles the (difficult) task of giving the recipient the decryption key.  With symmetric encryption, it's your responsibility to get the passphrase to the recipient.
If you're still not clear on this, you should definitely read something like Applied Cryptography, so that you can talk intelligently to your client about cryptography.  The biggest security problem with crypto is when it's misapplied (people think they're safe, but the crypto is merely obfuscating the message, not securing it).
Another good way to learn about symmetric encryption is to write your own simple encryption program.   will guide you through this.
Feel free to ask us any questions, though :)
Jonathan Rockway
