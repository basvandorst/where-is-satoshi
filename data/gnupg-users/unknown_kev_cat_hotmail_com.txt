
@_date: 2005-08-03 00:44:11
@_author: Joe Smith 
@_subject: Smartcard Faq 
Open Message to Werner Koch:
The OpenPGP Smartcard page says a FAQ is in production. While I'm pretty sure you can come up with enough questions, I pose the following questions which have occurred to me, and in the cases where I was able to make a decent sounding response, I have included an answer. Please feel free to use these in the FAQ.
Also I encourage others to post questions they have (or have had).
Q: What cards does GPG support?
A: GPG supports any card that Implements the OpenPGP Card spec. The only current implementation is available from Kernel concepts.
TECH NOTE: If you implement the spec in the form of software for an already existing card, please consider sharing it. In such an event you must apply for a free manufacture ID from FSF Europe e.V., also ensure that there is some mechanism by which each card can have a different serial number.
Q: What card readers can GPG use?
Q: Can I use algorithms other than RSA?
A: The OpenPGP spec currently allows only RSA keys; however, it was created to allow other key types to be added later.
Q: Can I use RSA keys larger than 1024 bits?
A: The spec allows for keys of 1024 bits or larger. The current card only supports 1024 bit keys.
Q: If the card locks up from invalid pins can it be unlocked?

@_date: 2005-08-12 06:30:44
@_author: Joe Smith 
@_subject: Access experimental subpackets of 'User Attribute Packet' 
Be careful with this. First of all both the second and third packet can be implemented as the first packet type. Second encouraging users to place extra data into theie keys is just asking for problem. Imaginge when somebody decides to attaches a 50 MiB mpeg to their key, and uploads it to the keyservers.
Third and most importantly, Anything for specifying pgpmime vs inline mime should be avoided. Let the experts (The openpgp working group) hash these things out.
For example there is the pgp corp implementation: In fact just let all of this sort of ting be handled by the openpgp working group. They are the experts. (To the extent that they are.)

@_date: 2005-08-28 17:27:45
@_author: Joe Smith 
@_subject: gnupg2-1.9.18: gpgkey2ssh: gpgkey2ssh.c:255: main: Assertion 
"Rex Dieter"  wrote in message Umm... Try passing a parameter to the program.

@_date: 2005-08-28 18:22:40
@_author: Joe Smith 
@_subject: OpenPGG Card 
There is no need to post a message to the list three times.
You can get aditional information, but unfortunately the information available is not to particularly satisfying.
That said these are the details I know:
The openPGP cards are manufactured by PPC Card Systems using a chip created by Atmel, running BasicCard OS, and code written presumably by Werner Koch. The cards are non-reprogrammable, they are set to state 'RUN'.
The last I asked there were no other manufactures of OpenPGP Card complient Ideally one should be able to just buy a smart card with rsa support, download OpenPGP card source, and compile it. Then flash it and any other things you wish to have on the card. However it sadly does not work that Source code is not available. Here is a quote from an email Werner sent me:
If you can somehow manage to get ahold of a BasicCard OS-based smartcard that has support for RSA, it would not be too difficult to program it. Most of the crypto stuff is handled by the chip, so the code needed to be written is mainly interface code.

@_date: 2005-08-29 23:46:28
@_author: Joe Smith 
@_subject: OpenPGP Card 
"Benjamin Donnachie"  wrote in message Gmane must be acting up then. My message got triplicated also. :(

@_date: 2005-07-30 04:29:10
@_author: Joe Smith 
@_subject: Entropy in ascii-armored output? 
He was speaking especially of encypted output which is theoretically near random, so it is fairly secure. If the password must be long, reproducable, and reasonably secure, using ascii-amoured output of encryption of a file is fairly secure, assuming the attacker is not aware of the nature of the password.If the attacker is aware security goes down some, but not terribly much.

@_date: 2005-06-06 03:41:55
@_author: Anonymous 
@_subject: Set date for signature to expire 
Well if I know that the person is lazy, and keeps the key on an unsecure computer and it is likely that within one year the key will be compromized, I would sign with a one year expiration date. Basicly this indicates that the person that signed the key does not trust that the key will still be uncompromized after the date of expiration.

@_date: 2005-06-06 18:17:56
@_author: Anonymous 
@_subject: Set date for signature to expire 
I know that the OpenPGP group has taken great pains to not define trust. It leaves trust to be defined by the user and/or the application.
That said a signature on a key  can be one of two things, depending on  A satement that you have checked the ownership of the key at the indicated time.
 A statement that you trust that the UID accurately reflects the true ownership of the key.
Both have the same meaning as far as ownership checks, as i would not trust that the UID reflects the true ownership of the key well enough to sign it unless i have verified identity. However the second one does have a reasonable reason for signature expiration.
Both are reasonable, and I suspect that many people take the second view, even if the first view is the official one.

@_date: 2005-06-11 20:12:30
@_author: Joe Smith 
@_subject: encrypt data, not file, in one line? 
What about:
echo SOME DATA HERE|gpg ...
This is not valid using just the standard execution methods under windows IIRC, but if you are using the cmd.exe shell it should work.
'echo' is a shell builtin.

@_date: 2005-06-14 10:48:07
@_author: Tacvek 
@_subject: Recent MD5 Collision 
Lucks' and Daum's new attack on MD5 is very scary.
Cryptographically it is a no-op in that it abuses the user. The postscript
file that is signed contains both messages.
A similar exploit would be to have a program that prints one document on
Caesar's computer (printer), but a different one on all other computers
Exploit is due to user's thinking of postscript programs as documents, and
signatures on them being equivalent to signatures on the output. The rest of
this message ignores this fact, just as most users will.
The attack works due to the fact that:
If md5(M)==md5(M') then md5(M||A)==md5(M'||A), where || stands for
concatenate. Import to note that A||M||B and A||M'||B also work.
The attack is then simple, find ANY M and M' such that md5(M)==md5(M') [In
reality certain characters or sequences may need to be avoided, but in
postscript it seems to generally not be too big a problem.]
Then construct A and B. Here is a possible A and B for a basic-like
programming language. This example assumes that M can be differentiated from
M' because the first character of M is  but the first character of M' is
something different.
---- BEGIN A ----
---- END A----
---- BEGIN B ----
"\nIf left$(temp$,1)=" then\nprint "Message A"\nelse\nprint "Message
B"\nEnd If
---- END B----
Obviously A and B could be changed arbitrarily.
That is what has already been done. What is really scary is that if somebody
finds *ANY* SHA-1 collision the above could be used in exactly the same way.
this actually applies to
all Merkle-Damg?rd hash functions.

@_date: 2005-05-12 21:05:15
@_author: Anonymous 
@_subject: [PGP-USERS] PGP Desktop Home - Cost of upgrade 
You are almost right. you may make binaries, but not for use, only for testing PGP for exploits. For example if you think you see an exploit in the source, you can compile PGP to test the exploit before reporting it to PCP corp.

@_date: 2005-11-15 03:24:01
@_author: Joe Smith 
@_subject: USB tokens instead of smartcards 
"Christoph Anton Mitterer"  wrote in message You still need to use special software.
A cyrpto token is just a card reader designed to read the smaller size cards. (like the SIM card is GSM phones).
They also have one of those cards. Some varaiations might just hard wire the chip from inside the card to the reader interfaces, but others actually use a physical card. If you break open the casing you could replace the card if it has one. It may even be possible to create a cheap usb reader of full-sized smart cards from one.
So basically crypto tokens are *exactly* like a "normal" reader. And the format of the included card is probably not compatible with gpg anyway.

@_date: 2005-09-05 23:47:36
@_author: Joe Smith 
@_subject: OpenPGP Card 
"Zeljko Vrba"  wrote in message PKCS is a crypto token enchange system
ISO7816 is a specification for a card interface.
They are 100% unrelated. Perhaps you meant the abondoned PKCS which is what many cards use.
*PKCS has nothing at all to do with smartcards.*
The fact that many propretary card drivers export a PKCS  interface is mearly coincedence.
That said, I think allowing a pkcs  interface as well as OpenPGP Card interface is useful in its own right.
Doesn't gpgsm support PKCS
One of the larger reasons why Werner is probably reluctant to support PKCS in GPG is that X509 (which pkcs is almost always used with) does not interface well with OpenPGP. It makes beteter sense to have a seperate X509 key, rather than use your key for both X509 and OpenPGP. For example, your CA can revoke your key leaving you with one key that is invalid X.509, but valid OpenPGP? Yuck!
Werner designed the OpenPGP Card such that the interface works well with OpenPGP. OpenPGP cards are intended to be used for authentication and OpenPGP only. They are not designed for things such as SSL, SSH, TLS, S/MIME , or any other cyrptographic purpose. It is important to ensure that people do not confuse X.509 and OpenPGP, but implementing PKCS in gpg may blur things too much.
Besides it is hard enough to support just one card, imagine the problems that could arise if people started using cards with broken PKCS drivers, and asssumed the problem was in gpg.

@_date: 2006-02-12 18:16:48
@_author: Joe Smith 
@_subject: only decrypting signed files? 
I parsed that question as the same as the last one, namely decrypt the file if it is signed, don't if it is not.
You apparently read it as: decrypt the files, rather than the normal function of decrypt and verify.
The poster could have made my interpretation clearer by transposing 'only' and 'decrypt'.

@_date: 2006-06-07 21:09:42
@_author: Joe Smith 
@_subject: sign and encrypt 
wrote in message Encrypt and then sign does not have this problem, unless the other person is willing to sacrifice his/her private key.
To avoid leaking information via the signature Encrypt-sign-encrypt could work.

@_date: 2006-03-04 04:01:44
@_author: Joe Smith 
@_subject: Using an official Austrian key on a smartcard with OpenPG 
I'm pretty sure that what you want is gpg 1.9
AFAICT, X.509 certs are usually used with S/MIME. There is nothing that prevents the use
of OpenPGP encyption formating, but few utilities will support that.
Fortuanteately GPG 1.9 does (or will) support many types of cards other than the OpenPGP card when
doing S/MIME encyption, so you may be in luck. Feel free to contact Werner as he is really in change of
of this project, and is also quite involved in the smart card aspects.

@_date: 2006-03-05 21:37:26
@_author: Joe Smith 
@_subject: Keys without signatures 
"Maria Lukas van den Berg"  wrote in message The following post is based on my understanding. I think I'm correct,
but it is possible I am wrong.
This is entirely reasonable. By doing that people can reasonable assume that unless the key is compromised,
or that the private key is held by more than one person (a group key), the poster of all the messages are the same.
You are asking about how the web of trust relates to identity. The simple fact is that identity is far from clear.
In the case where one simply wants to veryify that two messages were created by the same entity, then the
web of trust is not needed. In the case that one only eeds to know that the holder of the key ca read and send email
of a particular email address then a bot that verifies email adresses and then signs the key is usefull.
The web of trust is most useful in the case where verifying that a particular individual who uses a given name in the real
world is the holder of the key is what is important.
Short key id's are not secure, there are many keys with duplicate short ids.
Long ids are more secure, but it is still easier to duplicate that than duplicating the fingerprint, as long ids
are only a partial fingerprint.
First of all the OpenPGP signature format is designed to resist such an attack by doing things like including the key id.
Looking at just the underlying crypto: This is all but impossible.
If just one signature needed to validate using this new key then it might be somewhat easier than the attack you
mention as your first component.
If *all* signatures are to validate then this is really becomes as hard as making the key you describe as impractical
as your first component.
I'm pretty sure this is not a weakness. If one was able to create such a key
it would cause major problems. Even the web of trust would have problems
becaue the key creator could use his/her real info in the UID and get his/her key
into the web of trust. This would no be cheating the system any as that person really
would control that new key.
 I would say no.
If I am correct this is irrelevant.
Fingerprint duplication (ignoring the other contraints) is considered fairly It would however be much easier to duplicate a fingerprint using brute force than creating
the key you described above. Nevertheless it is still fairly impractical. Combining this with
the other features of key B described above really would pretty much require creating a key
with identical cryptographic material to your key. If somebody could do that then it
would be a real problem.
This question is reasonably on-topic here.
The only better place I can think of is the newsgroup comp.sci.crypto

@_date: 2006-03-23 03:24:15
@_author: Joe Smith 
@_subject: Change PIN on OpenPGP-Card with Cherry SmartTerminal ST-1044 
"Werner Koch"  wrote in message Could the next revision of the OpenPGP card spec (and the next version of the primary implemetation) provide
an [optional] command that resets the card to factory condition? (Wipes the key, and then resets the pin counts.
Perhaps itwould only work if PIN counter have reached maximum. [At which point the key on the card is for all
intents and purposes dead anyway as it is no longer usable, so the user should be able to wipe the card clean. It would
save a user's investment.])

@_date: 2006-05-13 08:31:17
@_author: Joe Smith 
@_subject: Rijndael usage 
"David Gray"  wrote in message If you are still needing assistance on this issue you may be in luck.
Mono is a Unix implementation of Microsoft's .Net platform, and it implements everything needed by your program.
If you have a Linux or Solaris system then implementation of a simple filter program is trivial.
You may not know C but I do, and it is a nice language. A wrapper around that function would take no more than 10 lines.
There is no OpenVMS port of Mono, but the nessisary portions should in theory compile fine under OpenVMS's POSIX subsystem.
Also, because .net is actually very well documented, I mey be able to act as a conctractor. In that event, I would provide C source to compile and link against a standard crypto library. Such a program should have no problems running under OpenVMS, although as I'm not familair with that OS, you would need to be able to compile the program, which should be trivial.
So if you still need some form of assistance with this, please feel free to contact me off-list.

@_date: 2006-05-26 05:17:08
@_author: Joe Smith 
@_subject: question about compiling gpg with cygwin 
"Henk M. de Bruijn"  wrote in message Don't bother to ask if you are allowed to ask, simply ask.
If you are having a problem, and it is due to GPG then this is the place to If the problem is really a cygwin problem, then you will be pointed to the list.

@_date: 2006-05-26 21:21:08
@_author: Joe Smith 
@_subject: question about compiling gpg with cygwin 
"Henk M. de Bruijn"  wrote in message ".infig.status" ? That looks like a problem.
Anyway, what is this prep.sh?
I had no problem configuring the latest version of 1.9 on cygwin.
I used "./autogen.sh && ./configure --enable-maintainer-mode"
OT: libgcrypt fails to compile under cygwin because of files differing by case: "mpih-add1.S" vs. "mpih-add1.s"
Please fix this.
