
@_date: 2018-03-06 14:11:59
@_author: Divan Santana 
@_subject: gpg agent Could not add identity agent refused operation 
I'm trying to use gpg-agent to manage my ssh key though am getting this
  ~ ? ssh-add ~/.ssh/id_rsa
  Enter passphrase for /home/admin/.ssh/id_rsa:
  Could not add identity "/home/admin/.ssh/id_rsa": agent refused operation
Is this because I have a 16k RSA ssh key?
How can I debug this further? I've tried many diff suggestions I found
online but none of them work for me.
  ~ ? ssh-keygen -l -f ~/.ssh/id_rsa.pub
  16384 SHA256:oMs4Eq8/34jDDV/TXjJ5POZVhIDKTD0WWCPLZtHSVqs swish (RSA)
More info:
  ~ ? echo $SSH_AUTH_SOCK
  /home/admin/.gnupg/S.gpg-agent.ssh
  ~ ? ll /home/admin/.gnupg/S.gpg-agent.ssh
  srwx------ 1 admin admin 0 Mar  6 09:46 /home/admin/.gnupg/S.gpg-agent.ssh
  ~ ? ps -ef |egrep 'gpg'
  admin     3290     1  0 09:46 ?        00:00:00 gpg-agent --homedir
  /home/admin/.gnupg --use-standard-socket --daemon
  ~ ? cat .gnupg/gpg-agent.conf
  pinentry-program /usr/bin/pinentry-gtk-2
  default-cache-ttl 3600
  max-cache-ttl 36000
  enable-ssh-support
  default-cache-ttl-ssh 36000
  ~ ? cat .gnupg/gpg.conf |egrep -v '^
  require-cross-certification
  keyserver  hkp://keys.gnupg.net
  default-key  B6DC7019551B9B96
  use-agent
  ~ ? pacman -Q |grep -i gnupg
  gnupg 2.2.5-1
Thanks very much!
