
@_date: 2018-10-25 17:29:35
@_author: =?UTF-8?Q?Alvaro_Mart=C3=ADnez?= 
@_subject: File name seen by gpg 
I just joined the list, hoping to find some guidance regarding my use of
gpg as part of a backup scheme.
I uploaded files to Amazon S3, after encrypting them locally. I kept a log
containing the hash of the encrypted file, the hash of the plain file, and
the file name. The idea is that I would regularly hash the files on my
computer and check the hashes against the copies in S3. I used symmetric
encryption because I read that public key encryption done by GPG includes
some random content and therefore does not always produce the same output.
I didn't know when I encrypted the files that the file name is part of the
encrypted data, and therefore a change in the file name changes the
resulting hash. I have files with accented characters on their names, those
names were encoded in UTF-8 by a Linux system. I am now using a Mac, which
encodes the same characters in a different way ("fully decomposed" vs the
original "precomposed" UTF-8), so the hashes of the encrypted files do not
I want to use a scheme which allows me to somehow future-proof my backups.
I can still do the checks and backups in a Linux box, but this issue made
me realize subtle system changes can break my backup strategy easily.
I read elsewhere that GPG can be told to not store any name, but if I do
that I'll have to re-upload my files, and although I'm willing to do that
for an improvement in the backup scheme, it would be quite painful on my
512Kbps line.
Is there any way to tell GPG which name it should use for the input file in
the encrypted data? something like the "iconv" option for rsync would be
ideal, but my searches on the web don't return any results.
Thanks for reading :)

@_date: 2018-10-30 21:33:26
@_author: =?utf-8?Q?Alvaro_Mart=C3=ADnez?= 
@_subject: File name seen by gpg 
It seems I was not looking at the right keywords when I searched, because I couldn't find that option before.
Thanks for your reply. I ended up discarding the possibility of re-generating these files, because I kept reading and found that GPG by default adds a salt to the passphrase, meaning there is no way for me to generate the same cypher text again. I'm not even sure I should rely on that, by the way, so I'll have to design a more robust system for my long-term backups :)
Hash: SHA512
On Thursday 25 October 2018 at 9:29:35 PM, in
Maybe it's   --set-filename string
                 Use string as the filename which is stored inside
                 messages. This overrides the default, which is to use
                 the actual filename of the file being encrypted.
                 Using the empty string for string effectively removes
                 the filename from the output.
