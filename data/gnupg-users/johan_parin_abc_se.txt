
@_date: 2003-08-08 08:40:02
@_author: Johan Parin 
@_subject: gpg script in cron failed with "stdin must be a tty" 
=2D----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
  Mike> 	A simple gpg script with no passphrase needed:
  Mike> 	gpg --output junk.txt --decrypt junk2.gpg
  Mike> 	runs OK in bash but fails in cron job.
  Mike> 	I get the following message in mail:
  Mike> 	stdin must be a tty
  Mike> 	How can I fix this?
On my Debian system, the following script runs without any problems
=2D From cron:
export GNUPGHOME=3D/data/gnupg
gpg --no-default-keyring --secret-keyring testsec.gpg \
  --keyring testpub.gpg --output testfil.txt --decrypt \
  testfil.gpg=20
The thing to remember about cron is that the jobs are run in a very
minimal environment, for instance on my system PATH is set to
"/usr/bin:/bin". And no .profile, .bashrc etc is run. So if your gpg
usage is depending on *any* environment settings whatsoever, you need to
set them manually in the cron job.
=2D --=20
Johan Parin =2D----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.2 (GNU/Linux)
Comment: =2D----END PGP SIGNATURE-----

@_date: 2003-05-14 21:59:02
@_author: Johan Parin 
@_subject: Using GnuPG on Windows/Linux 
Hi all,
I'm sure this has been asked before, but I couldn't find anything in
the HOWTO, Guide or FAQ. I am dual booting Linux and Windows XP and I
want to use GnuPG on both systems. Of course I want to use the same
keyrings etc. This means things needs to be stored on a Windows (FAT)
partition. The problem is how to set up things on the Linux side so it
uses the files on the FAT partition.
My first approach was to set the keyring and secret-keyring variables
in the options file. The problem with this is that when the keyrings
are updated GnuPG wants to lock those files, which is not possible on
the FAT partitions. Also, this approach doesn't take care of the
trustdb file.
My second approach was to make symlinks in my ~/.gnupg to the keyrings
and the trustdb on the FAT partition. The problem with this is that
when the keyrings are updated, they are *recreated*, thus destroying
the symlinks.
I think the best approach would probably be to set the GNUPGHOME
variable to the directory on the FAT partition, bc really all files
should be shared, right? But this means the file locking problem needs
to be solved. I noticed there is a `lock-never' option but it doesn't
feel quite safe.
What would be the best way to set this up? Any suggestions welcome.

@_date: 2003-05-15 21:55:02
@_author: Johan Parin 
@_subject: Using GnuPG on Windows/Linux 
>> Why is locking impossible on FAT32?
  David> It's not impossible technically, but the locking scheme GnuPG
  David> uses at the moment isn't compatible with a FAT filesystem.
  David> It uses link().
So what does the Windows version of GnuPG do, if like me one has their
homedir on a FAT32 partition?
