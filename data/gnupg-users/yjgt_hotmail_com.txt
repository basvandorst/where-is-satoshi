
@_date: 2019-11-26 17:51:48
@_author: Yves T 
@_subject: multiple recipients encryption and decryption in gpgsm 
A client uses gpgsm with multiple recipient options. The first option refers to his own certificate, the second option to the recipients certificate.
The receiving end has trouble decrypting the file. Output mentions
gpgsm: error decrypting session key: No secret key
gpgsm: decrypting session key failed: No secret key
The solution which was mentioned to us was to use local-user option but this does not seem to work.
Is it possible in gpgsm to encrypt for different recipients and how can they decrypt. Can you please complete with an example?
Thank you.
Verzonden vanuit Mail voor Windows 10

@_date: 2019-11-28 10:57:14
@_author: Yves T 
@_subject: multiple recipients encryption and decryption in gpgsm  
Sender A:
To recapitulate : sender A uses gpgsm with 2 recipients:
gpgsm --recipient  --recipient  --encrypt file.txt > encryptedfile.gpg
Receiver B:
The receiving end B has his own correct secret key available but not the secret key from B and gets an error when decrypting the file:
gpgsm: DBG: recp 0 - issuer: 'CN=MYREALM CA,DC=REALM' gpgsm: DBG: recp 0 - serial:  gpgsm: error decrypting session key: No secret key gpgsm: decrypting session key failed: No secret key
gpgsm: DBG: recp 1 - issuer: 'CN=MYREALM CA,DC=REALM' gpgsm: DBG: recp 1 - serial: So the question is:
  1.  is B able to decrypt the file if he has not the secret key from A
  2.  should he be able to do this even when not having A's secret key
  3.  am I missing something

@_date: 2019-11-28 14:38:31
@_author: Yves T 
@_subject: multiple recipients encryption and decryption in gpgsm 
============================== START ==============================
Dear Werner,
Thank you for your prompt reaction.
I did a test an despite the error I see indeed the file is correctly decrypted.
So the conclusion is that when a file is encrypted with two recipients - when the file is received by the second recipient it is sufficient that he has the corresponding private key; we do not need the private key of the other recipient.  Right?
Am I also correct to say the order or recipients is of no issue?
Thank you
