
@_date: 2001-10-01 22:24:02
@_author: pd 
@_subject: "--passphrase-fd n"   not working 
Here is what the man doc says about passing in the passphrase.
Read the passphrase from file descriptor  n.  If you  use  0  for  n, the=20
passphrase will be read from stdin. This can only be  used if  only=20
one  passphrase  is  supplied.  Don't use this option if you can avoid it.
I can't get it to work.  When I put in a filename it says it is looking for=
file descriptor 0.  Is the file descriptor here something different than=20
the filename?  I tried inode number and that doesn't seem to work either.
Does it have to do with:
        --enable-special-filenames
I don't understand the format being explained here:  "-&n".  I tried to=20
create a file with "&1" as the name and linux didn't like it.
Is there any other way to automate entry of the passphrase?
Thank you,

@_date: 2001-10-02 18:39:02
@_author: pd 
@_subject: "--passphrase-fd n"   not working 
Yes, I am familiar with these numbers.  I didn't know they were called "file descriptors".  I just looked at an excellent shell scripting book that verified what you said.  (Unix Shell Programming.  Lowell Jay Arthur & Ted Burns).
I downloaded it but don't see anything on --passphrase-fd .  All I could find on strace was in ltmain.sh.  I couldn't find any examples there.
However, with your help and others I have found that both of the following work for me:
gpg --decrypt -r george --passphrase-fd 0 Hth,

@_date: 2001-10-02 20:44:01
@_author: pd 
@_subject: "--passphrase-fd n"   not working 
Thank you both!
I *almost* had that figured out.  I see that the ">" and "<" operators apply to opening *files* whereas the *pipe* can be used with values and commands.  I was getting ready to try it with a "1" instead of "0" for the file descriptor.  That obviously does not work since the pipe is taking stdout and piping it to stdin of the next command.  stdin of the gpg command segment is file descriptor 0 instead of 1.
Thanks for setting me straight!

@_date: 2001-09-07 18:39:02
@_author: pd 
@_subject: How to make GnuPG work with Perl cgi script 
I have installed GnuPG on a Linux web server and am trying to use it to encrypt information submitted to a web site.
I have written the following two Unix shell scripts to be executed from perl scripts.  It works fine from the command line but when I try to get it to execute from a web page it refuses.  gpg reports no error, it *acts* like it is running, there is no system error returned, but it does nothing.
It is being executed by the user "apache" from the cgi-bin directory.  Is there a special option switch to  set in gnupg for this type of application?  When I do other unix commands in this fashion - "ls > out.txt" for example - it executes and writes to the file just fine from this area.
What is my problem?
Thank you,
 plain text file
gpg --homedir ../data/.gnupg  --always-trust --yes -o ../data/out.crypt -r "username"  --encrypt ../data/plain_text.txt 2>>err_gpg.txt
 stdin
gpg --homedir ../data/.gnupg  --always-trust --yes -o ../data/out.crypt -r "username"  --encrypt - 2>>err_gpg.txt

@_date: 2001-09-11 00:05:02
@_author: pd 
@_subject: Can't Run GnuPG from CGI Script 
I am getting the following error when trying to execute GnuPG from a cgi gpg: fatal: ~/.gnupg: can't create directory: No such file or directory secmem usage: 0/0 bytes in 0/0 blocks of pool 0/163
Here is the gpg command:
gpg --homedir /var/www/data/.gnupg  $armor --always-trust --yes -o- -r '987500C1' --no-tty --batch --encrypt /home/perluser/gpg/plain_text.txt
Shouldn't the "--homedir" option take care of this error?
It is being executed by user apache.
It works fine from the command line.  It also works fine when executing it by a different normal user from the command line.
Is anyone successfully using gpg in this way on a web server?
I have now installed Crypt::GPG and am using it to interface with GnuPG.  It still acts the same way when trying to execute gpg by user "apache" from the cgi-bin directory.
Any help would be *much* appreciated.
