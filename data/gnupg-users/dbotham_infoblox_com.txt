
@_date: 2008-02-18 17:35:33
@_author: David Botham 
@_subject: Cannot Set the Expiration Date on Secure Subkeys 
I am having problems setting the expiration date on my private subkey.
I can set it, however, when I quit and then re-edit the key, the
expiration date is set to 'never', instead of what I had set it to in
the previous editing session.  I am missing something?
Here is a transcript of my gpg sessions that demonstrate this problem
(key ID A734F56B is the one that switches back to 'never'):
C:\local\David\gpg>gpg --edit-key test at nowhere.com
gpg (GnuPG) 1.4.7; Copyright (C) 2006 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it
under certain conditions. See the file COPYING for details.
Secret key is available.
pub  1024D/8B1A6E74  created: 2008-02-18  expires: never       usage: SC
                     trust: ultimate      validity: ultimate
sub  1024g/890CB2FF  created: 2008-02-18  expires: never       usage: E
[ultimate] (1). Test User Command> toggle
sec  1024D/8B1A6E74  created: 2008-02-18  expires: never
ssb  1024g/890CB2FF  created: 2008-02-18  expires: never
(1)  Test User Command> toggle
pub  1024D/8B1A6E74  created: 2008-02-18  expires: never       usage: SC
                     trust: ultimate      validity: ultimate
sub  1024g/890CB2FF  created: 2008-02-18  expires: never       usage: E
[ultimate] (1). Test User Command> addkey
Key is protected.
You need a passphrase to unlock the secret key for
user: "Test User "
1024-bit DSA key, ID 8B1A6E74, created 2008-02-18
Please select what kind of key you want:
   (2) DSA (sign only)
   (4) Elgamal (encrypt only)
   (5) RSA (sign only)
   (6) RSA (encrypt only)
Your selection? 4
ELG-E keys may be between 1024 and 4096 bits long.
What keysize do you want? (2048) 1024
Requested keysize is 1024 bits
Please specify how long the key should be valid.
         0 = key does not expire
        = key expires in n days
      w = key expires in n weeks
      m = key expires in n months
      y = key expires in n years
Key is valid for? (0) 1
Key expires at 02/19/08 15:44:11
Is this correct? (y/N) y
Really create? (y/N) y
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
pub  1024D/8B1A6E74  created: 2008-02-18  expires: never       usage: SC
                     trust: ultimate      validity: ultimate
sub  1024g/890CB2FF  created: 2008-02-18  expires: never       usage: E
sub  1024g/A734F56B  created: 2008-02-18  expires: 2008-02-19  usage: E
[ultimate] (1). Test User Command> toggle
sec  1024D/8B1A6E74  created: 2008-02-18  expires: never
ssb  1024g/890CB2FF  created: 2008-02-18  expires: never
ssb  1024g/A734F56B  created: 2008-02-18  expires: 2008-02-19
(1)  Test User Command> q
Save changes? (y/N) y
C:\local\David\gpg>gpg --edit-key test at nowhere.com
gpg (GnuPG) 1.4.7; Copyright (C) 2006 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it
under certain conditions. See the file COPYING for details.
Secret key is available.
pub  1024D/8B1A6E74  created: 2008-02-18  expires: never       usage: SC
                     trust: ultimate      validity: ultimate
sub  1024g/890CB2FF  created: 2008-02-18  expires: never       usage: E
sub  1024g/A734F56B  created: 2008-02-18  expires: 2008-02-19  usage: E
[ultimate] (1). Test User Command> toggle
sec  1024D/8B1A6E74  created: 2008-02-18  expires: never
ssb  1024g/890CB2FF  created: 2008-02-18  expires: never
ssb  1024g/A734F56B  created: 2008-02-18  expires: never
(1)  Test User Any help you can give me would me sincerely appreciated.  Thank you,

@_date: 2008-02-19 07:29:02
@_author: David Botham 
@_subject: Cannot Set the Expiration Date on Secure Subkeys 
Thanks for you reply.
Yes, I used quit, however, I did Save on exit... See below... Notice
that for key 'A734F56B', the public subkey has an expiration of
2008-02-19, however, after exiting and re-editing, the secret subkey has
an expiration of 'never' (see my original post for the complete
transcript where this subkey initially has an expiration of 2008-02-19):
Command> q
Save changes? (y/N) y
C:\local\David\gpg>gpg --edit-key test at nowhere.com
gpg (GnuPG) 1.4.7; Copyright (C) 2006 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it
under certain conditions. See the file COPYING for details.
Secret key is available.
pub  1024D/8B1A6E74  created: 2008-02-18  expires: never       usage: SC
                     trust: ultimate      validity: ultimate
sub  1024g/890CB2FF  created: 2008-02-18  expires: never       usage: E
sub  1024g/A734F56B  created: 2008-02-18  expires: 2008-02-19  usage: E
[ultimate] (1). Test User Command> toggle
sec  1024D/8B1A6E74  created: 2008-02-18  expires: never
ssb  1024g/890CB2FF  created: 2008-02-18  expires: never
ssb  1024g/A734F56B  created: 2008-02-18  expires: never
(1)  Test User
