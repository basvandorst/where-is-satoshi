
@_date: 2001-09-03 08:03:01
@_author: Ph. Marek 
@_subject: [PATCH] gnu compatibility issues/asm opt on AIX 
Hello everybody,
there are two problems in the 1.0.6 source for use on none-gnu-platforms:
- a typing error in include/ttyio.h
- a gcc-ism in http.h
(see patch at end)
Furthermore, I got gnupg running on AIX 4.2 with XLC.
Depending on if "lsattr -E -l proc0" gives you powerpc or not, you use
CC=xlc ./configure --with-included-gettext --target=powerpc-ibm-aix4.2.1
CC=xlc ./configure --with-included-gettext --host=rs6000-ibm-aix4.2.1
I had furthermore "--enable-static-rnd=egd --with-egd-socket=/dev/random"
but that's not relevant for compatibility.
Please confirm me someone on these changes and the above configure-statements.
- Patch
diff -u -2 orig/include/ttyio.h gnupg/include/ttyio.h
 -25,5 +25,5   void tty_printf (const char *fmt, ... ) __attribute__ ((format
 - void tty_printf  const char *fmt, ... );
+ void tty_printf (const char *fmt, ... );
  void tty_print_string( byte *p, size_t n );
diff -u -2 orig/include/http.h gnupg/include/http.h
 -52,5 +52,5  enum {	/* put flag values into an enum, so that gdb can display them */
     HTTP_FLAG_TRY_PROXY = 1,
-    HTTP_FLAG_NO_SHUTDOWN = 2,
+    HTTP_FLAG_NO_SHUTDOWN = 2
 };
This message is RSA-encrypted: n=33389, e=257
