
@_date: 2001-10-16 17:03:02
@_author: Eelco Vriezekolk 
@_subject: How to accept only signed, encrypted messages automatically? 
Please CC me, I am not on the list. I've read the docs, searched the list, but cannot find an answer.
I have a script that receives, on STDIN, a signed, encrypted file. At least, that is the idea; the script ought to reject anything that is not encrypted, and anything that is not signed with one of the known public keys. Simple as that, I can't get it to work. I am relying on the exitvalue, zero should mean "signed with known, trusted signature, decryption OK", any other exitvalue should indicate an error.
"gpg --decrypt" will accept messages that are not signed, which is very much *not* what I want.
How can I make GnuPG decrypt and make sure that there is a trusted signature, and have it indicate to me by exitvalue?
Please CC me, as I am not on the list.
