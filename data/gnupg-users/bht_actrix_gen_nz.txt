
@_date: 2001-07-01 04:25:02
@_author: Bernard 
@_subject: gpg setuid access error 
Hi all, I am lost and I need help.
The gpg program version gnupg-1.0.6-1.i586.rpm, which I installed as
setuid(root) on Redhat Linux 7, fails to access the files of the
caller when permissions are set as specified.
What am I missing? Is this a bug?
Background (refer to gpg.man as in the Windows distribution with the
same version);
       On many  systems  this  program  should  be  installed  as
       setuid(root).  This  is  necessary  to  lock memory pages.
       Locking memory pages prevents the  operating  system  from
       writing  memory  pages  to  disk.  If  you  get no warning
       message  about  insecure  memory  your  operating   system
       supports  locking  without  being  root. The program drops
       root privileges as soon as locked memory is allocated.
I executed as root:
chmod u+s /usr/bin/gpg
Then I logged on as another user ("foo") and issued the following
gpg --keyring /home/foo/.gnupg/pubring.pgp --always-trust -r
recipient -a -e
The errors I get are:
gpg: /home/foo/.gnupgp/secring.gpg: can't create keyring: Permission
gpg: keyblock resource '/home/foo/.gnupgp/secring.gpg': file open
... more errors
all /home/foo/.gpg/* files are owned by foo!
permissions of
-rw-------   1   foo  foo ...
When I change the permission of the binary back with:
chmod u-s /usr/bin/gpg
then I get the expected warning:
Warning: using insecure memory!
but the program otherwise works as expected.
(the gpg command as above expects clear text input from stdin
(console), which has to be terminated with [Ctrl+D] on Linux.
Any help is highly appreciated.

@_date: 2001-06-05 00:58:01
@_author: Bernard 
@_subject: gpg setuid access error 
Hi all, I am lost and I need help.
The gpg program version gnupg-1.0.6-1.i586.rpm, which I installed as
setuid(root) on Redhat Linux 7, fails to access the files of the
caller when permissions are set as specified.
What am I missing? Is this a bug?
Background (refer to gpg.man as in the Windows distribution with the
same version);
       On many  systems  this  program  should  be  installed  as
       setuid(root).  This  is  necessary  to  lock memory pages.
       Locking memory pages prevents the  operating  system  from
       writing  memory  pages  to  disk.  If  you  get no warning
       message  about  insecure  memory  your  operating   system
       supports  locking  without  being  root. The program drops
       root privileges as soon as locked memory is allocated.
I executed as root:
chmod u+s /usr/bin/gpg
Then I logged on as another user ("foo") and issued the following
gpg --keyring /home/foo/.gnupg/pubring.pgp --always-trust -r
recipient -a -e
The errors I get are:
gpg: /home/foo/.gnupgp/secring.gpg: can't create keyring: Permission
gpg: keyblock resource '/home/foo/.gnupgp/secring.gpg': file open
... more errors
all /home/foo/.gpg/* files are owned by foo!
permissions of
-rw-------   1   foo  foo ...
When I change the permission of the binary back with:
chmod u-s /usr/bin/gpg
then I get the expected warning:
Warning: using insecure memory!
but the program otherwise works as expected.
(the gpg command as above expects clear text input from stdin
(console), which has to be terminated with [Ctrl+D] on Linux.
Any help is highly appreciated.

@_date: 2005-09-15 01:36:57
@_author: Bernard 
@_subject: How to delete a secret key in batch mode? 
I have added a secret key in batch mode.
Now I want to delete it in batch mode.
gpg prints an error:
gpg: can't do that in batchmode
gpg: (unless you specify the key by fingerprint)
The command I use is:
C:\gnupg\gpg.exe --homedir "\tmp" --yes --batch --delete-secret-key
It looks like I am doing what the error message requests: Specifying
the key by fingerprint.
Am I overlooking anything?
I am desparately looking for an answer to this (in clean simple batch
Many thanks

@_date: 2005-09-15 05:18:59
@_author: Bernard 
@_subject: How to delete a secret key in batch mode? 
Hi David
Thanks for your help.
Where can I find the syntax for deleting a secret key by fingerprint?
I get an eof error when I use what I guess is the fingerprint:
C:\gnupg\gpg.exe --homedir "\tmp" --fingerprint 1CBB4C01
pub   1024D/1CBB4C01 2005-09-14
      Key fingerprint = 361C C290 F145 7D9B AB8F  D49C 18C3 9694 1CBB
uid                  bttest$actrix.gen.nz (Test key comment)
sub   1024g/87D138B1 2005-09-14
C:\gnupg\gpg.exe --homedir "\tmp" --batch --delete-secret-key "361C
C290 F145 7D9B AB8F  D49C 18C3 9694 1CBB 4C01"
gpg: key "361C C290 F145 7D9B AB8F  D49C 18C3 9694 1CBB 4C01" not
found: eof
gpg: 361C C290 F145 7D9B AB8F  D49C 18C3 9694 1CBB 4C01: delete key
failed: eof
Thanks again

@_date: 2005-09-28 09:37:41
@_author: Bernard 
@_subject: Q: List format with --with-colons option 
Hi all
I am writing a basic front end with limited gpg functionality.
My knowledge of gpg is not great and as a start I need some help with
the list format of --list-secret-keys and --list-public-keys.
I found that the --with-colons option returns the most details and
appears to be more machine readable but I don't know what some fields
Where would I find documentation about this?
I don't know, for example with --list-secret-keys:
(myname :::
the meaning of 17 in
and how is the key ID extracted from the output? I just guess that
it's the last 8 characters of
Many thanks
My apologies: My ISP uses a white list based SPAM filter so it would
be easier to respond to the list because the filter knows gnupg.org
but does not know individual users of the list who would be blocked.
