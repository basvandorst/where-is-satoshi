
@_date: 2004-11-05 16:38:10
@_author: Aleksandar Milivojevic 
@_subject: Should I use S/MIME? 
Well, the main problem I have with S/MIME is the trust relationship that you are forced to use if you want it to just work "out-of-the-box". You, and all your correspondents need to buy certificates (or get one for free from Thawte, but there are some gotchas about those free ones).   So basically, instead of choosing who you trust, you are forced to trust commercial entities such as Verisign, GlobalSign, and hole bunch of others that are installed as certification authorities in your mail client.  Actually, virtually all S/MIME capable mail clients are set up to trust them automatically.  It is not all that hard to buy falsified certificate from most of them.  For example, some time ago there was incident when Verising sold some certificates to somebody pretending to be Microsoft Corp, that could be used for code signing.  Who knows how many falsified were sold to less known names.
Now, the question is, why would you trust any of those corporations? Because everybody else trust them?  Because you are told you should trust them?  Neither is good reason.
On the other hand, with OpenPGP, you are forced to build your trust relationships yourself.  Personally, I find the web model of OpenPGP more secure and flexible than hierarchical x509 model.
Of course, you could also generate and use self-signed certificates. But than, you are loosing all the advatages of x509 model.  Plus, other people can't sign your certificate (as they can OpenPGP key), so it makes it even less usefull.  You can even create your own CA.  But then, your correspondents would have to trust this CA and that you made it secure (so that nobody can break into your machine, steal CA keys, and falsify certificates with it).
On the technical side, I never liked the fact that S/MIME signature contains certificate (public key signed by CA) needed to verify signature as part of it.  It makes S/MIME signatures huge in comparation to OpenPGP signature, and most of the time they are waste of bandwith and disk space (you preatty soon end up with virtually thousands of useless copies of other people certificates stored in your mail folders).  On one hand, this is a nice feature.  You don't need to obtain your corespondents certificate beforehand.  You simply extract it from S/MIME signature, check CA signature on certificate, and use that certificate to verify signature on email.  Works nicely if you buy certificate from trusted CA.  Doesn't work at all in all other cases. On the other hand, as I said, you end up wasting your disk space.  Try signing one-line email with S/MIME and with OpenPGP, look at the message source, and see the huge difference in size.

@_date: 2004-11-22 18:43:17
@_author: Aleksandar Milivojevic 
@_subject: Group use of keys 
You would have to share secret key.  It would be best not to use personal key for this, because you will need to give it to your co-worker.  That means he can decrypt everyhting, and sign anything with it.  Create a new key for group usage.  Basically, there is "real" difference between personal and group key other than possibly in the key ID (peronal would say "Bob", group would say "Tech Support", or "Foobar The way how to share it depends on the installation and your comfort level.  If you will be using same computer, you can place it in separate keyrings (for public and private key), and include those keyrings from GnuPG configuration file (I think config options for including public and secret keyrings are not the same).  Make sure file permissions on keyrings are such that only you and your co-worker can access additional secret keyring.
If two of you are using separate computers, you can share that directory on the network (NFS, windows share) and go with previous solution.  But this is generally very bad idea (from security point of view).  Sharing secret key is bad idea to begin with.  Sharing them over network file systems is probably the most insecure way of doing it.  Better idea would be to copy needed secret and public keys into your co-workers keyring.  He can than set his own passphrase for that key, so he doesn't know your passphrase, and you don't know his passphrase.
In both cases, since there will be multiple secret keys in the keyrings, it is good idea to specify which one is default key for signing in GnuPG configuration file (depending on work requirements, that would either be personal or group key).  If you don't specify default secret key, GnuPG will simply use first that if finds (something you shouldn't rely on).

@_date: 2004-11-22 18:46:46
@_author: Aleksandar Milivojevic 
@_subject: Group use of keys 
Hm, small typo, should be "there is no real difference".

@_date: 2004-11-22 19:00:31
@_author: Aleksandar Milivojevic 
@_subject: Group use of keys 
Bribe.  Blackmail.  Extortion.  Horse head never fails.  But in this times it is not considered to be politically correct (no animals should be hurt, but hurting humans is OK).  Check "Godfather" movies for some more ideas. ;-)

@_date: 2004-11-22 19:09:36
@_author: Aleksandar Milivojevic 
@_subject: Asking a favour from fellow list subscribers 
Could somebody please email sist.mex and explain to him that Canada has more to offer than spam.  Or at least forward this email. Bouncing entire .ca top level domain isn't going to help him much with his spam problems.  But it might prevent him from getting some friendly help when he needs it.  Currently I'm getting bounces from him for each and every mail I send to this list, and it's a bit annoying.
Thanks to everybody willing to help :-)

@_date: 2004-11-25 18:27:30
@_author: Aleksandar Milivojevic 
@_subject: Access to key servers through athenticating proxy server 
I have a firewall that enforces policy of accessing Internet by using proxy server only (no direct connections to outside world from internal network).  The proxy uses authentication (username and password) to limit access only to some users.  I was able to find at least one key server that supports connections over port 80, but I couldn't get through the proxy.
The problem is that when using proxy server, gpg doesn't seem to support proxy authentication.  It simply prints that key was not found on the key server, instead of prompting me for proxy username and password.
Even if I place username/password into http_proxy environment variable (' it still doesn't work.  In this case it attempts to connect to proxy named 'username.mydomain.com' (obviously it is unable to correctly parse URL that defines the proxy server, so it interprets it as if it was '  I don't like placing password there, but I wanted to try if that would work.
Are there any plans to make a bit more robust proxy support for accessing key servers?
[ off-topic ]
I've also attempted to access same proxy server using Enigmail (Thunderbird version).  Supposedly it should have its own code for accessing key server, and should honor proxy settings from FireFox.  But that hasn't worked either.

@_date: 2004-10-01 16:33:47
@_author: Aleksandar Milivojevic 
@_subject: Is it possible to encrypt file symmetrically with 1 
Hm, why not using 0?  I don't know how VB handles redirection of stdin/stdout between processes, however this works quite well in Perl on  /usr/bin/perl
$gpg_exe = "gpg";
 = ($gpg_exe, "--quiet", "--batch", "--no-tty",
              "--passphrase-fd", "0", "-a", "-c", "blah");
open(FH, "|-") || exec  or die "Can't execute GnuPG!";
print FH "passpharase\n";
close(FH) or die "Encryption failed!";
What this does is that it starts new gpg process, and ties its standard input to file handle of parent process (basically it creates a pipe between two processes).  Then it sends the passpharase using this pipe.   Note the newline at the end of passphrase.  If this can be ported to VB on Windows, it *should* work (tm).
To prevent this going into the wrong direction, yes I do know that having passphrase in code is insecure, and yes I do know there are couple of nice Perl modules for handling GnuPG, and yes I do know this is not the best way of controlling GnuPG from another process.  This was just illustration, and for simple usage and with few precausions it works.

@_date: 2004-10-04 20:20:48
@_author: Aleksandar Milivojevic 
@_subject: Implications of using insecure memory 
For Linux box, you can ask your sysadmin to install gpg with setuid bit set.
For Windows and erasing the swap space, it depends on what it actually does (I'm not an Windows expert).  If the file is simply "deleted" from the disk and recreated on next boot, nope it is not sufficient (blocks where the data is will be unalocated, but data on them will be intact until something else writes to that part of the disk).  On the other hand if it overwrites the content of swap file with zeros (or does something similar), than you are kinda safe.  It won't stop inteligence agency from recovering the data (see my previous reply), but it will stop almost anybody else.  So, unless somebody can make millions $$$ out of your data, most likely nobody will bother to recover it.
If after setting that registry setting time to shutdown machine becomes much longer, than it is most likely doing the right thing.  Although, while machine is running, anything with access to swap file can read information from it.  So it is not ideal solution.  It is kind of in the If shutdown time stays almost the same, than it is simply removing the file (marking file as deleted), which does not give you any more security.  In that case setting that registry entry is pointless.

@_date: 2004-09-16 16:48:17
@_author: Aleksandar Milivojevic 
@_subject: Compiled gnupg-1.2.6 Successful???[B 
Or he can compile idea.c as module, place it in GnuPG's lib directory (usually /usr/lib/gnupg or /usr/local/lib/gnupg, or something similar, depending on compilation options) and load it from gpg.conf (load-extension idea).  That way he doesn't need to recompile GnuPG, or think about it when upgrading GnuPG to newer version.  Instructions on how to compile it as module are included in idea.c source file.

@_date: 2004-09-16 20:44:43
@_author: Aleksandar Milivojevic 
@_subject: Detecting PGP 2.6.x keys 
Thanks for your help.  I believe that this will be usable for what I need it (althoug it would be nice if there was a more direct way of doing it).  I'll just parse the output searching for "version 2, algo 1" For what I need it, I can assure that everybody with PGP 2.6 style key is actually using PGP 2.6.  Anyhow, even in general case, if somebody is using PGP 2.6 style key, than he probably has idea code compiled in or as a module.  Otherwise, he would loose access to all his previously encrypted data.
BTW, completely off topic.  When somebody migrates from PGP 2.x to say GnuPG, can he migrate his old RSA key and signatures into new V4 format (effectively getting V4 key that has same key data as his old key)?  Or the only way is to create new V4 key, get all people to sign it again, and so on...

@_date: 2004-09-16 22:50:53
@_author: Aleksandar Milivojevic 
@_subject: Detecting PGP 2.6.x keys 
Let say somebody implements option in GnuPG so that user can choose to have GnuPG go into PGP 2.x compatible mode automatically if PGP 2.x key is used. And let say option would be turned off by default, so for all current GnuPG users there is no change in how GnuPG behaves.
In this case, if I turn that option on (in my gpg.conf file for example), and try to encrypt to users A and B from your example, GnuPG could bark that it can't find set of compatible ciphers to accomodate both user A and user B, and that I should encrypt to them separately. When I get such an error from GnuPG, it would be my problem, since I was warned what might happen if I use option like that.  Same thing if my correspondent (who uses his old PGP 2.x key with GnuPG) barks at me that he no longer can use IDEA, and that I should upgrade from PGP 2.x to GnuPG ;-)
Having options in GnuPG to make it compatible with PGP 2.x (eihter short --pgp2 or mile long one specifying cipher, compresison, etc separately) is great.  But for somebody who has lots of PGP 2.x correspondents, option that will have GnuPG automatically turn those on would be much more usable (with appropriate warnings in the documentation, of course).

@_date: 2004-09-17 15:59:49
@_author: Aleksandar Milivojevic 
@_subject: Detecting PGP 2.6.x keys 
Errr...  You have a bug there.  Consider following patch:
--- foobar.orig 2004-09-17 09:01:37.513404000 -0500
+++ foobar      2004-09-17 09:01:20.946162000 -0500
 -1 +1 -most_of_the_world == USA
+most_of_the_world != USA

@_date: 2004-09-17 18:48:51
@_author: Aleksandar Milivojevic 
@_subject: Detecting PGP 2.6.x keys 
My previous reply was kind of joke (to put a bit of humor into the However on the serious side, even if 90/10% figures are correct (let assume they are for the sake of discussion), percentage of users that have problem and might have use of such an option is higher.
Since the option would be needed by users not using 2.x (as you named them "modern users"), statistically on average anybody who has 10 public keys (from 10 correspondents) on his keyring, should have one 2.x style key (one correspondent who belongs to "non-modern users").  Which means that (statistically) fair amount of those 90% modern users, will have at least one correspondent that belongs to 10% group, and his life would be much easier with such an option (having not to have to think should he just encrypt, or should he use special options to encrypt, it would just be done automatically for him, like in PGP 7.x or whatever is current Of course this is just my (biased) opinion, and if I'm the only one who thinks this way, its fine by me.
It also says that implementation can support IDEA.  So there's no requirement not to support it, or to assume that client doesn't support it if there are hints that it might support it.  Something like approach commercial PGP took.  But OK, GnuPG supports it by the means of an add-on module, so this is a bit of no relevance.  I guess one day IDEA petent expires, it will become standard part of GnuPG (just like it happened with RSA).
One additional argument might be that vast majority of people that are still using PGP 2.x generated keys, are using them to be able to communicate with people who still use PGP 2.x binaries.  In which case they must have IDEA module for GnuPG installed.  I've never revoked my PGP 2.x key because of this reason, but I prefer if people use my new V4 I would guess (and would be suprised if I'm wrong) that vast majority of people who don't have need for this backward compatibility with PGP 2.x have already generated (and are using) new V4 keys.  If nothing else, they created new keys because back in 2.x days 768 bit was considered commercial grade, and 1024 was considered military grade, and (some) people were looking at folks using 2048 bit keys as they look today on those using 4096 bit keys.  And remember, one of the menu options was 512 bit key (nobody is using those anymore, hopefully).  They probably wouldn't mind if little inconvinience would force their correspondents to finally start using newer keys ;-)

@_date: 2004-09-17 20:56:28
@_author: Aleksandar Milivojevic 
@_subject: Detecting PGP 2.6.x keys 
Than I guess the patch needs to be modified slightly.  However it still doesn't account for most of the world.  Good portion of Europe is not covered by patent, Japan is the only Asian country, and USA is the only country in both Americas.  Africa and Australia are totaly unafected. And we should not forget Antarctica ;-)
Haven't checked statistical data in a while (and my high school knowledge either faded away or become obsolete), but from back of my head, at least 5/6 of Earth's population is unaffected by IDEA patent. Hip hip hooray :-)

@_date: 2004-09-20 15:55:41
@_author: Aleksandar Milivojevic 
@_subject: Detecting PGP 2.6.x keys 
I totally agree.  But I can't influence what others are using.

@_date: 2004-09-20 16:09:02
@_author: Aleksandar Milivojevic 
@_subject: Detecting PGP 2.6.x keys 
It's the same as with all other questionable patents.  Nobody is going to court to sue you as long as there is (much) more to loose than to gain.  Translated, until there's a big corporation somewhere in affected European countries starting to use IDEA without paying patent rights, Mediacrypt will be quiet.

@_date: 2004-09-23 15:53:40
@_author: Aleksandar Milivojevic 
@_subject: having trouble with encrypted mail - thunderbird, enigmail, 
Have you checked that you have correct secret keys installed on both computers?  Have you checked that you encrypted with correct public key?   You need public keys A and B on both computers, secret key A on coputer A, and secret key B on computer B.  Than on computer A you encrypt with public key B, and on computer B you decrypt with secret key B.   You can check what secret keys are installed with gpg --list-secret-keys.  You might also want to check trust relationships. If you were exporting/importing keys, you might need to set trust manually using gpg --edit-key keyid, you usually want to set your private/secret keypair to be ultimately trusted.  Trust is not exported/imported with a key.

@_date: 2004-09-28 16:36:18
@_author: Aleksandar Milivojevic 
@_subject: pgp4pine problem 
Considering that simple "rpmbuild --rebuild src_rpm" will most likely do the job in about minute or two without need to edit anything (for simple package such as GnuPG), I'd say it pays to do it anyhow.

@_date: 2005-02-18 19:50:16
@_author: Aleksandar Milivojevic 
@_subject: SHA1 broken? 
Sascha, North Americans don't dig really well into prefixes of metric system.  An example is that I always ask for 200 grams of mortadela in local stores.  Asking for 20 dekagrams (as I would do back home in Europe) is beyond conversion abilities of average North American.  And this is in Canada where metric system is officialy in use.  I can only imagine how bad the things are south of the border.  So, to put things in perspective, 100 meter (328 feet) wall becomes 0.05 meter (aprox. 1 31/32 inch) wall.
