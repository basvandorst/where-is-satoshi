
@_date: 2017-02-16 16:04:51
@_author: Stefano Tranquillini 
@_subject: GPG, subkeys smartcard and computer 
Hi all,
I'm sort of new to GPG/PGP, I'm not new to the encryption/crypto world and
to computers, however, some concepts are yet not clear to me.
I can't get my head around on how to use GPG in the "correct" way to
guarantee the maximum result. That is: protect, at the best, my privacy and
also don't get the system too complicated.
The problems that I've are multiple, I'll try to summarize them here asking
for help. I've read the manual, but it's a bit outdated, and online I found
scattered information that does not always explain why some decision are
My ideal setup is:
   - Master generated on offline pc and stored in a cold storage
   - subkeys for the pc (main pc, that I use everyday) - i need
   (A)utenticate (E)encrypt (S)ign keys
   - subkeys for the smartcard - if I use a pc of someone else, and as
   backup for what is worth. (In the future I may switch to just the
   smartcard, removing the keys from pc, but I would like to have the keys on
   the pc for time being)
   - I would like to avoid moving the master ouside the offline pc/cold
   storage
Create the master:
I should create the master on a device that is not my primary one and that
is not online. It seems kind of freak approach to me, but I can understand
why. Once created, I backup it to a file which I store on a usb key or
somewhere outside of computers. With the master I can create, later,
subkeys for what I need and the revoke certificate in case of compromised
subkeys.  Other than the master key, do I've to export anything else (not
talking of subkeys yet, that's next topic)?
When creating the master, I've two possibility: (i) use the dafault setting
that results in a (SC) key or (ii) set it as only (C). The best solution
seems to be the second, right? (
Is it worth to use that approach or, as of today, the (i) is fine? I still
don't get the full benefit of one or the other solution
Create the subkey
With the master key I can create subkeys. I should do it from the offline
pc in which I created the key, or import the master in a pc and then create
the subkeys (it doesn't sound so safe though). Now:
   -  should each subkey be for only one scope (A) (S) (E) or is it fine if
      one key does  two or three scopes (ASE) or (SE)?
      - once subkeys are creted I've to export them and also their revoke
      certifications (do they have one)? correct?
      - I've a smartcard, but I've also a pc, should I create 6 subkeys, 2
      for A, 2 for S and 2 for E and move the 3 A S E to the yubikey and the
      other 3 to the pc?.
      - moving the keys on the smartcard is done via "keytocard" but to
      move the keys on the pc I've to export subkeys, will this export also the
      keys on the smartcard and then I'll need the smartcard to access some of
      those? how can I decide what to import where?
      - Do I've to rexport my public key or anything else to let the world
      know my subkeys?
      - Do I've to export anything else to achieve my scenario's goal?
Am I missing anything? Or is there anything that can guide me to achieving
my goals?
PS: Sorry for the long questions, but I can't find online something that
explains my scenario. Solutions are for base cases or for smart-card only.
Well, probably there's a guide, but I can't find it out.

@_date: 2017-02-17 12:31:07
@_author: Stefano Tranquillini 
@_subject: GPG, subkeys smartcard and computer 
Hi all,
I'm sort of new to GPG/PGP, I'm not new to the encryption/crypto world and
to computers, however, some concepts are yet not clear to me.
I can't get my head around on how to use GPG in the "correct" way to
guarantee the maximum result. That is: protect, at the best, my privacy and
also don't get the system too complicated.
The problems that I've are multiple, I'll try to summarize them here asking
for help. I've read the manual, but it's a bit outdated, and online I found
scattered information that does not always explain why some decision are
My ideal setup is:
   - Master generated on offline pc and stored in a cold storage
   - subkeys for the pc (main pc, that I use everyday) - i need
   (A)utenticate (E)encrypt (S)ign keys
   - subkeys for the smartcard - if I use a pc of someone else, and as
   backup for what is worth. (In the future I may switch to just the
   smartcard, removing the keys from pc, but I would like to have the keys on
   the pc for time being)
   - I would like to avoid moving the master ouside the offline pc/cold
   storage
Create the master:
I should create the master on a device that is not my primary one and that
is not online. It seems kind of freak approach to me, but I can understand
why. Once created, I backup it to a file which I store on a usb key or
somewhere outside of computers. With the master I can create, later,
subkeys for what I need and the revoke certificate in case of compromised
subkeys.  Other than the master key, do I've to export anything else (not
talking of subkeys yet, that's next topic)?
When creating the master, I've two possibility: (i) use the dafault setting
that results in a (SC) key or (ii) set it as only (C). The best solution
seems to be the second, right? (
tie-certification-with-sig). Is it worth to use that approach or, as of
today, the (i) is fine? I still don't get the full benefit of one or the
other solution
Create the subkey
With the master key I can create subkeys. I should do it from the offline
pc in which I created the key, or import the master in a pc and then create
the subkeys (it doesn't sound so safe though). Now:
   -  should each subkey be for only one scope (A) (S) (E) or is it fine if
      one key does  two or three scopes (ASE) or (SE)?
      - once subkeys are creted I've to export them and also their revoke
      certifications (do they have one)? correct?
      - I've a smartcard, but I've also a pc, should I create 6 subkeys, 2
      for A, 2 for S and 2 for E and move the 3 A S E to the yubikey and the
      other 3 to the pc?.
      - moving the keys on the smartcard is done via "keytocard" but to
      move the keys on the pc I've to export subkeys, will this export also the
      keys on the smartcard and then I'll need the smartcard to access some of
      those? how can I decide what to import where?
      - Do I've to rexport my public key or anything else to let the world
      know my subkeys?
      - Do I've to export anything else to achieve my scenario's goal?
Am I missing anything? Or is there anything that can guide me to achieving
my goals?
PS: Sorry for the long questions, but I can't find online something that
explains my scenario. Solutions are for base cases or for smart-card only.
Well, probably there's a guide, but I can't find it out.

@_date: 2017-02-19 09:41:24
@_author: Stefano Tranquillini 
@_subject: GPG, subkeys smartcard and computer 
Sorry for the double messages, I sent the first before subscribing to the
list and I tought it was not forwarded to the mailing list.
 - use tails to genereate master (default settings) and subkeys
 - export the public key and fingerprints
 - backup master to a cold storage
 - export the subkeys for later usage
 - move the subkeys into the laptop
I'll skip the smart card now, I'll only generate and add to it a A subkeys
for accessing ssh in case I'm away of the pc. I think I can have multiple A
subkeys, not like E keys that only the last is used, and use them to ssh
servers if all these subkeys are added to the server
Regarding the rest:
On Fri, Feb 17, 2017 at 3:11 PM, Andrew Gallagher ?wait, If i've a subkey E (called E1) and I lose it (e.g. it was on the
Can't I create a new E (called E2) from my master and decrypt the data? Or
the data encrypted are decriptable only by the exact E (E1 in this case)
that was used to encrypt it?
?Can't I export the subkeys to a file and backup that file? and then move
the keys to the card? Will I be able to restore the keys if they get lost?
?Sending you a sperarte email for the script (which seems the one you have
on the website)?

@_date: 2017-02-20 09:56:11
@_author: Stefano Tranquillini 
@_subject: GPG, subkeys smartcard and computer 
Things are getting clearer now, the fact is: subkeys are not related and
basically only the last generated is used. I missunderstood this step.
I need a Auth subkey on the smartcard becuase I've setup the server to
access ssh only via a key. If I'm not at my pc I can't access the server,
and this may be a problem. However, with a smartcard I may overcome the
problem by using any pc.
Probably is the same as having a ssh key stored on a usb and use it when
I'm not on my laptop (and throw it away afterward, just in case). but this
is outside the gpg list ;)
On Mon, Feb 20, 2017 at 1:14 AM, MFPA <2014-667rhzu3dc-lists-groups@

@_date: 2018-08-02 14:11:34
@_author: Stefano Tranquillini 
@_subject: cannot decrypt file symmetric encrypted 
Hi all,
last year I encrypted some files, today i tried to decrypt them but the
decryption fails
stefano gpg -d words.1.gpg
gpg: AES256 encrypted data
gpg: encrypted with 1 passphrase
gpg: decryption failed: Bad session key
can it be the difference between 1.4 (i guess in july 2017 that was) and
the current one
stefano gpg --version
gpg (GnuPG/MacGPG2) 2.2.8
libgcrypt 1.8.3
what can I do?
(i'm on a mac)

@_date: 2018-08-03 15:47:31
@_author: Stefano Tranquillini 
@_subject: cannot decrypt file symmetric encrypted 
the fact is that no passphrase is asked, and I don't know how I can force
the system to ask it.
On Thu, Aug 2, 2018 at 8:57 PM Dirk Gottschalk via Gnupg-users <

@_date: 2018-08-06 09:28:21
@_author: Stefano Tranquillini 
@_subject: cannot decrypt file symmetric encrypted 
i don't think that's the case. is there aa way to force the program to ask
On Fri, Aug 3, 2018 at 10:34 PM FuzzyDrawrings via Gnupg-users <
