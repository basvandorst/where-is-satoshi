
@_date: 2001-07-28 06:31:02
@_author: Peter Morgan 
@_subject: ask 
Dear Degui
I donot know exactly what your problem is but I help maintain a large suite of
Fortran code. It successfully runs on multiple platforms with multiple
compilers. The code does indeed go through both f90/95 native compilers and
the GNU G77 product. We always compile the gnu product seldom shipping images
or doing a cross build. There are a few subtle tricks to the operation like
the number of files that you are allowed and the many switches that you need
to turn on with the gnu compiler.
to illustrate this here is part of our top level make file. One day we will
invoke AUTOCONF
FIRST A SUNOS BUILD
   166  # ----- for SunOS from 5.2 to 5.8  (Solaris 2.2 to 2.8) -- #
   167  OS_ID SunOS 5200 5800
   168
   169  # ASSIGMENTS
   170
   171  FFLAGS = -O3 -u -Nl100
   172  FTN = f77
   173  CFLAGS = -g
   174  CC = cc
   175
   176  # EXPLICIT_RULES
   177          ranlib THELIB
   178
   179  # SUFFIX_RULES
   180
   181  .c.a:
   182          $(CC) -c $(CFLAGS) -I$(II) $<
   183          ar rv $@ *.o
   184          rm -f $*.o
   185
   186  .f.a:
   187          $(FTN) -c $(FFLAGS) $<
   188          ar rv $@ *.o
   189          rm -f $*.o
   190
   191  # BLOCKEND
Now a LINUX build using G77
   251  # ----- for Linux from 0.0.1 to 3.0.0  -- #
   252  OS_ID Linux 0001 3000
   253
   254  # ASSIGMENTS
   255
   256  FFLAGS = -O3 -Wuninitialized -Wunused -Wimplicit -fno-f2c -ffast-math
          -fno-automatic -fno-backslash -Wno-globals -fno-globals
   257  FTN = g77
   258  CFLAGS = -g
   259  CC = gcc
   260
   261  # EXPLICIT_RULES
   262          ranlib THELIB
   263
   264  # SUFFIX_RULES
   265
   266  .c.a:
   267          $(CC) -c $(CFLAGS) -I$(II) $<
   268          ar rv $@ *.o
   269          rm -f $*.o
   270
   271  .f.a:
   272          $(FTN) -c $(FFLAGS) $<
   273          ar rv $@ *.o
   274          rm -f $*.o
   275
   276  # BLOCKEND
   277
So I cannot tell what you really want to know at this moment but it should be
possible to do what you want to do UNLESS you are tied to a Microsoft
environment and need to invoke the Microsoft API. If this is your problem think
about freeing yourself from Microsoft.
regards peter
A/Prof Peter Morgan
Acting Head, School of Computing
University of Canberra
Canberra, ACT, 2600
Voice:   +61-(0)2-6201-2557
Fax:     +61-(0)2-6201-5213
Mobile:  +61-(0)4-1854-0137
email:   pjm
     OR  peterm
