
@_date: 2013-12-04 00:00:21
@_author: Johannes Zarl 
@_subject: Renewing expiring key - done correctly? 
Sorry for asking a possibly stupid question, but how exactly does a shorter validity period get you more security?
  Johannes

@_date: 2013-12-04 00:39:46
@_author: Johannes Zarl 
@_subject: Renewing expiring key - done correctly? 
Isn't that just a false sense of security? After all, if the key has been compromised, the attacker can just prolong the validity like the real owner would do (I guess even after the key has been expired).
I'm not sure if I get that example. To me it seems either that the attacker can just renew the key as the owner would (entire key is compromised), or that the owner can just issue a revocation certificate (only subkey is Ok, I can see the benefit here.
So in summary, the short validity period is essentially a reminder for people to regularly check whether the key has been revoked. And the security lies not in the expiry in itself, but in forcing people to refresh their keyrings.
  Johannes

@_date: 2013-12-19 17:44:55
@_author: Johannes Zarl 
@_subject: [Announce] GnuPG launches crowdfunding campaign 
Maybe my English is a little rusty, but what exactly is a "spanking server"?
  Johannes

@_date: 2013-12-19 19:27:59
@_author: Johannes Zarl 
@_subject: [Announce] GnuPG launches crowdfunding campaign 
Ah! I should have thought of this. The phrase as a whole is known to me, but without the "new" it was only nonsense to me...
...and I have learned something new today ;-)
  Johannes

@_date: 2013-11-01 17:22:20
@_author: Johannes Zarl 
@_subject: make gpg-agent forget the PIN 
I'm trying to get gpg-agent to automatically forget my credentials as soon as I leave the PC/the screen is locked. So far, I only got it half working:
When I send a SIGHUP to the gpg-agent, it correctly forgets cached passphrases. The cached PIN of my OpenPGP card, however remains available.
Is there any way to explicitly tell gpg-agent to forget the pin as well?
  Johannes

@_date: 2013-11-02 12:00:03
@_author: Johannes Zarl 
@_subject: make gpg-agent forget the PIN 
Thanks! That was exactly what I was looking for.
  Johannes

@_date: 2013-11-02 17:43:15
@_author: Johannes Zarl 
@_subject: Quotes from GPG users 
I wonder why not more respondents have written about authenticity? I'm not terribly good with this sort of thing, but I'll try:
"My handwriting is unique. With GPG, so is my email."
  Johannes

@_date: 2013-11-08 00:11:38
@_author: Johannes Zarl 
@_subject: Signing keys on a low-entropy system 
I'm currently thinking about using a raspberry pi as a non-networked stand-
alone system for signing keys. Since I haven't heard anything to the contrary, I'm pretty sure that entropy is relatively scarce on the pi.
How is GnuPG affected by such a low-entropy system? Will operations just take a bit longer, or can this affect the quality/security of generated keys or I heard that low entropy or a bad entropy source is generall less of a problem for RSA. Is this true? Does this affect me in practice?
  Johannes

@_date: 2013-11-08 14:17:53
@_author: Johannes Zarl 
@_subject: Signing keys on a low-entropy system 
The hardware-RNG somehow slipped under my radar. Thanks for pointing that out.
Out of curiosity: how does GnuPG deal with a system where entropy is scarce (or worse yet, where the RNG is partly predictable)?
  Johannes

@_date: 2013-11-12 11:35:55
@_author: Johannes Zarl 
@_subject: Signing keys on a low-entropy system 
Thank you both for your detailed answers - they were really helpful for me!
  Johannes

@_date: 2013-10-09 19:50:20
@_author: Johannes Zarl 
@_subject: Problems with keypad on Cherry ST-2000U card reader 
Hello again,
I'm just pushing this thread so it might get some attention. I'm not quite sure whether the lack of replies means that I did not formulate my question clearly or that nobody knows an answer.
If it's the former: I'll gladly try to refine my question once I know what part is unclear.
If it's the latter: What is the right place to ask questions regarding card reader support in gpg?
Kind regards,
  Johannes
P.S.: I did try again with gpg version 2.0.22, but the results are the same.

@_date: 2013-09-27 13:36:44
@_author: Johannes Zarl 
@_subject: Problems with keypad on Cherry ST-2000U card reader 
I recently got my fellowship card and now try to get a working setup. My first tries with a ReinerSCT cyberjack that I had lying around did not get me anywhere, so I bought a Cherry ST-2000U which looked like it should work with the internal CCID driver. The reader is "mostly" working, i.e. I can't get the pin entry via internal keypad to work.
Using pcscd (and therefore pinentry on my pc), the reader works flawlessly.
Using the internal driver (after stopping pcscd), "gpg --card-status" works When an operation needs the pin, the reader switches correctly into pin entry mode (judging by the leds). Regardless of whether I enter the correct pin or an incorrect one, after pressing the "ok"/green key, the operation is aborted.
Using gpg (not gpg2), I get the following message after hitting "ok":
gpg: sending command `SCD PKDECRYPT' to agent failed: ec=6.55
Except for this additional message, gpg and gpg2 behave exactly the same.
I'm using the following versions (on Debian sid):
gpg (GnuPG) 1.4.14
gpg (GnuPG) 2.0.21
libgcrypt 1.5.3
Card info:
Version ..........: 2.0
Manufacturer .....: ZeitControl
Card reader (lsusb):
Bus 006 Device 003: ID 046a:003e Cherry GmbH SmartTerminal ST-2xx
Any idea what could be the problem or how I can debug the issue?
  Johannes

@_date: 2014-08-21 21:35:16
@_author: Johannes Zarl 
@_subject: Fwd: GNU hackers discover HACIENDA government surveillance and 
"Compiling a collection of publicly available information" is an almost perfect description of the term "surveillance". E.g. a surveillance camera does exactly that: it collects publicly available information.
Your initial example,
, is also a nice example of surveillance.
The information is not by definition harmful to anyone, yet has the potential to be used against someone.
"Mr. and Mrs. Smith always leave the garage door open in summer, except for one week a year, when they also close the bathroom window." is trivial, maybe even boring information to most people. To someone with bad intent this information might be a lot more interesting.
  Johannes

@_date: 2014-02-10 21:58:12
@_author: Johannes Zarl 
@_subject: Could not extend expiration date 
It looks like you use an offline master key and use subkeys for signing and decryption. You can check this by looking at your secret keyring:
gpg2 -K
sec#  4096R/DEADBEEF 2013-10-25 [expires: 2018-10-24]
uid                  Some Body  ssb>  2048R/08152323 2013-10-25
ssb>  2048R/42424242 2013-10-25
In this case, the ' sign after the "sec" means that the private key is not If I read this correctly, your "master" key is 658682A5, but you usually use the subkey 3D2B665D.
  Johannes

@_date: 2014-01-04 22:28:26
@_author: Johannes Zarl 
@_subject: sign encrypted emails 
Wouldn't one have to encrypt the signed-encrypted-signed message again to prevent an attacker from stripping away the outer signature? What would the recipient then do with the simple signed-encrypted message?
One should certainly not act differently depending on the encryption of a message. Maybe with the one exception of timeliness: If a message is encrypted, you'll probably be ok with me reading the mail when I'm at my home computer. If a message is encrypted to my offline key, you'll be prepared to wait for a month or so (many people have their offline-key in a safe deposit Of course this opens way to subtle timing attacks (delaying reading a message until it is no longer relevant), but these subtle attacks can be done using simpler means (holding the message in transit).
  Johannes

@_date: 2014-01-06 00:31:59
@_author: Johannes Zarl 
@_subject: sign encrypted emails 
In my feeling this is a rather subjective (to the sender) thing: some people encrypt *every* message no matter how trivial. Other people only encrypt those messages that match some rather specific criteria. Both kinds of people have good reasons for their behaviour. That's the reason why I don't attach an intrinsic importance or anything else to the fact that a message is encrypted.
I can see your reasoning behind "that message feels more important", and I'm quite sure that many people feel that way. It's just that it went away for me some time after receiving the n'th encrypted grocery list.
Yeah. That's definitely what I meant when I said that one should not act Though if you want a really fancy policy you could require non-encrypted messages to be discarded and use the signed-but-not-encrypted communications for counter-intelligence. *g* (Yes, I know the flaw here is not-so-subtle...)

@_date: 2014-01-17 20:03:15
@_author: Johannes Zarl 
@_subject: Reusing signed user ID or attribute 
Wouldn't that have huge implications for the security(*) of the whole system?
If the revocation is a final act, as long as I can make sure that the revocation certificate reaches my communication partners I can be sure that nobody can compromise the key and "reenable" it and start impersonating me.
If, however, the revocation is only a temporary act until a newer self-
signature supersedes it, it would be almost impossible to effectively and permanently revoke a key. One would either (as long as the private key is not yet compromised) have to destroy the private key, or make sure that all communication partners somehow prevent the key from receiving further   Johannes
(*) please excuse the blanket-use of the term

@_date: 2014-01-18 00:20:03
@_author: Johannes Zarl 
@_subject: Reusing signed user ID or attribute 
Ah, yes, I was indeed thinking of the primary key. Thanks for clearing that   Johannes

@_date: 2014-01-23 15:58:04
@_author: Johannes Zarl 
@_subject: time delay unlock private key. 
The same feature is implemented in some form in many/most contemporary login systems as well, and it makes great sense for a login system.
The main reason this makes sense is that as a regular user you can't just bypass the login screen and get direct access to the hashed password value.
In contrast to the login screen example, a delay implemented by gnupg won't help you in this case. Once an attacker has access to your private key, he or she can try a brute-force attack against the passphrase using a patched version of gnupg that does not implement the delay.
So in short:
 - a delay won't help you
 - protect your private key so this won't happen
 - always use a strong passphrase
  Johannes

@_date: 2014-01-29 20:57:12
@_author: Johannes Zarl 
@_subject: MUA "automatically signs keys"? 
Since gnupg does equate trust level 1/persona certification to an untrusted one, that should not be a problem IMO.
I like how this idea could mirror a "natural" web of trust - given proper MUA Under the assumption that an attacker can't reliably do a MITM attack on every message that is sent over an extended time period, you would place almost no trust in a fresh persona-certified key, but high trust in an old and frequently encountered key. The trust would grow with time (just like the trust into someone you know in real life).
  Johannes

@_date: 2014-01-30 17:54:06
@_author: Johannes Zarl 
@_subject: Setting up shared access to gpg on a UNIX server 
Just in case this isn't clear to everybody already: The write-permission on the directory are the problem here, not the 744 on the file.
If one really wanted to use a shared secret key in this way (as opposed to a token), I would only share the keyrings, not the home directory.
Like that (only a mockup):
ls -la /opt/app/apps/dbmprod/gpg
-rwxr-x--- 1 root gpgusers  .
-rw-r----- 1 root gpgusers  secring.gpg
-rw-r----- 1 root gpgusers  pubring.gpg
Limiting readability to a user group would at least limit the access to the key material w.r.t. unprivileged processes running on the same machine.
gpg --secret-keyring /opt/app/apps/dbmprod/gpg/secring.gpg   --keyring /opt/app/apps/dbmprod/gpg/pubring.gpg   ...
As to what Bob wrote in the original message:
It might not make much of a difference, but having a strong passphrase would still protect copies of your key lying on some backup.
Other than that, I guess Diego's advice is sound -- limiting the potential damage by using a token/smartcard.
  Johannes

@_date: 2014-01-30 23:03:53
@_author: Johannes Zarl 
@_subject: MUA "automatically signs keys"? 
[resent, this time to the mailing list]
If the same email-address is used together with the same key for a long time, it effectively ties the email-address to a person for all practical concerns. After all, you are communicating via email with someone you have never seen. Otherwise, you would have exchanged keys in person.
Just take this list: I don't give a damn whether Werner Koch is the real name of that guy working on that awesome piece of software. I do care about that awesome piece of software being signed by the same Werner Koch as last year.
If I needed to clarify a legal issue pertaining to the German citizen Werner K., I would prefer a key that I can link to a government-issued id.
If someone else hijacks (maliciously or not) the email address without also infiltrating that person's PC and stealing the secret key, then the key would If the initial communication was subject to a MITM-attack, the key would change as soon as the MITM attack stops or gets sidestepped. The quality of this "canary" improves with the number of signatures over an extended time.
In either scenario, you would notice that something was afoul as soon as the key changes and investigate.
The result is not perfect glorious privacy, just pretty good for the average(tm) user.
  Johannes

@_date: 2014-01-31 15:53:18
@_author: Johannes Zarl 
@_subject: MUA "automatically signs keys"? 
If a mail program were to implement this automatic-persona-signature scheme, that wouldn't prevent this kind of fooling around. But I still think it could improve the awareness for this sort of thing (beyond the current state as described in xkcd: You are right - that's the implicit problem in a system without trust-anchor: you only ever can prove that a problem occurred, not that everything is fine.
Basically it's a "physical" approach instead of a "mathematical" one: in mathematics you can prove everything from a few axioms (the trust-anchor). In physics you can never be certain, but we keep watching the world and whenever we spot an inconsistency with our model we investigate.
If a mail program implements this (and automatic signing would need explicit support from the mail program), then it would also implement a notification. Implementing the auto-signing part without using the information for spotting problems is like implementing PGP without support for key expiration and revocation ;-)
  Johannes

@_date: 2014-01-31 16:37:28
@_author: Johannes Zarl 
@_subject: MUA "automatically signs keys"? 
I've meanwhile seen that others assumed the automatic-persona certification to use exportable signatures. To clarify:
As far as I understood the original idea, it would use local signatures only (preferably done with a special purpose local key only used for these If one would export these signatures, that would just DDoS the key server infrastructure for no gain.
  Johannes

@_date: 2014-01-31 20:26:03
@_author: Johannes Zarl 
@_subject: MUA "automatically signs keys"? 
============================== START ==============================
My thoughts, exactly. After I tried out gpg for the first time I abandoned it mostly because there was no way I could establish a trust path between me and anyone outside my immediate physical neighborhood.
  Johannes

@_date: 2014-06-17 18:24:29
@_author: Johannes Zarl 
@_subject: mascot_p 
A project mascot is certainly a great idea. In my opinion a mascot and a logo have different purposes and can beautifully complement each other. The logo stands for the product and has to follow certain rules in its design. A mascot, on the other hand stands more for the whole community and can create ties between several projects much more easily.
I was going to suggest a hedgehog (it's likeable, generally favours security over speed, and knows to protect itself), but a terrapin sounds great. Now I just have to find out the difference between a terrapin and a turtle?
  Johannes

@_date: 2014-06-17 23:09:31
@_author: Johannes Zarl 
@_subject: mascot_p 
Indeed. Thank you both for teaching me about the subtleties of the English language *and* some biology!
  Johannes

@_date: 2014-06-28 00:31:52
@_author: Johannes Zarl 
@_subject: On the advisability of stronger digests than SHA-1 in OpenPGP 
So basically there are (at least) two user groups:
1. legacy PGP implementations in closed corporate environments
2. people who want to exchange messages over the internet
Group 1 can afford not to have frequent security updates since the systems are isolated from the internet and don't upgrade because this would incur a significant cost with little benefit.
Group 2 is willing to keep their software up to date, but are in a generally more "attackable" environment. They push for "more secure" standards and defaults (whatever that means).
The way I see it compatibility between those two groups is a non-issue - they simply don't exchange messages.
Arguing that "internet-users" should not adopt SHA-x because SHA-1 is the only thing supported by legacy systems makes about as much sense as arguing that "legacy-users" should throw money into upgrading their isolated systems.
  Johannes

@_date: 2014-06-28 13:57:57
@_author: Johannes Zarl 
@_subject: On the advisability of stronger digests than SHA-1 in OpenPGP 
I do not think of "legacy" as a slur, but as a descriptive term.
Yes, it can have a negative connotation, but that largely depends on who you ask: the person using a legacy application that pre-dates the internet and holds 30+ years of distilled business-knowledge might have a vastly different take on the term "legacy" than the person who's task it is to couple a webshop with worldwide shipping to a database that uses 7-bit fixed length database To me there is a simple "legacy" test: If X could sensibly used for a newly developed project that runs for at least the next 5 years, then it is not a legacy system; otherwise it is.
Nobody (at least I assume nobody) goes around exclaiming: "PGP 8 is just the tool that we want to base our future projects on."

@_date: 2014-06-28 14:11:40
@_author: Johannes Zarl 
@_subject: On the advisability of stronger digests than SHA-1 in OpenPGP 
My assumptions were as follows:
 - When exchanging messages with untrusted parties it's a Bad Idea(tm) to use unmaintained software that is vulnerable to attacks.
 - PGP 8 is unmaintained software and must be assumed to be vulnerable to attacks (we know how many security related bugs gpg saw in the last 12 years)
 - Corporate environments do often use legacy systems, but are usually risk-
aware and isolate vulnerable systems.
I therefore assumed that PGP 8 is only used in closed environments, where the risk is manageable.
I assumed it is just the same as with, say Internet Explorer 6: Since many intranet applications depend on it, is is still used - it is a sensible business decision for some companies to do so. Browsing the web using IE6 on the other hand is something no corporate environment would allow.
If the lawyer example is a fitting one, then I guess I have an error in my If I communicate with someone who must use PGP 8, anything stronger than 1024bit RSA, SHA1 and 3DES is probably wasted effort, anyways.
  Johannes

@_date: 2014-11-14 18:34:07
@_author: Johannes Zarl 
@_subject: Help needed 
That seems a little harsh, doesn't it? ;-)
After all, you now know that you do indeed have the pinentry-gtk2 installed, and we know that you use a Debian-based distro.
Now, you could try to verify that pinentry-gtk2 is the pinentry program that you normally use:
$ grep pinentry-program ~/.gnupg/gpg-agent.conf
pinentry-program /usr/bin/pinentry-qt4
If not, you should ensure that the right pinentry program for your environment is installed (like you did before with pinentry-gtk2):
$ sudo apt-get install pinentry-qt4
If you don't find the cause of the problem in this way, then there's still enough time left to despair if you so wish?
  Johannes

@_date: 2014-11-15 13:36:13
@_author: Johannes Zarl 
@_subject: The Facts: 
It seems like the mirroring of laptop-1 to laptop-2 did not actually work as The above command output tells you that no .gnupg folder exists in your home directory and that a new one is created. As some people pointed out before, you have to copy the .gnupg folder from your laptop-1 to your laptop-2.
Maybe you forgot to restore your home directory when you migrated from laptop-1 to laptop-2?
  Johannes

@_date: 2015-02-07 00:59:41
@_author: Johannes Zarl 
@_subject: Talking about Cryptodevices... which one? 
You're conflating two different threats here. A smartcard *does* protect you from anyone trying to steal your private keys.
It does not prevent an attacker from stealing the pin.
It does not prevent an attacker from deleting your key.
It does not prevent an attacker from tricking you into signing or decrypting a message. Under some circumstances it does not even protect against key-
Having said all that, I still think it is a worthwhile goal to protect the key-material itself using smartcard-like hardware / an HSM. The protection against key-theft does radically decrease your attack surface in many cases.
  Johannes

@_date: 2015-01-22 19:34:51
@_author: Johannes Zarl 
@_subject: Crypto device where I need to confirm every operation? 
Are you sure? On my setup, the smartcard seems to only allow one sign operation per pin-entry. Decryption, on the other hand seems to be allowed without re-authorisation until the card has been removed from the reader (or until it has been reset by another means).

@_date: 2015-01-27 01:00:13
@_author: Johannes Zarl 
@_subject: Manually changing smartcard state 
You can tell gpg-agent to lock the card using the following command[1]:
gpg-connect-agent 'SCD RESET' /bye
[1]

@_date: 2015-07-18 15:57:09
@_author: Johannes Zarl-Zierl 
@_subject: High resource usage when verifying a signature 
I've noticed that sometimes gpg2 will take around 1-2 minutes on my desktop PC attempting to verify an email signature.
At first, I thought that maybe the increasing prevalence of really big keys would increase the computational complexity, or that the keyserver communication is taking so long, but this does not seem the case.
I'm pretty sure this happens on different kinds of keys, but today I noticed it on a 1024 bit DSA key. Looking into top revealed that my email program had spawned a gpg2 process that was using 100% of a single CPU core:
gpg2 --enable-special-filenames --batch --no-sk-comments --status-fd 22 --no-
tty --charset utf8 --enable-progress-filter --display :0 --verify -- -&23 -&25
Opening the same email a second time happens more or less instantaneously (as far as I know, kmail does not cache the verification).
Is this behaviour to be expected? Is this some computation that happens only the first time a new key is encountered?
  Johannes

@_date: 2015-07-19 16:32:51
@_author: Johannes Zarl-Zierl 
@_subject: High resource usage when verifying a signature 
...and sure enough "gpg2 --check-trustdb" takes around a minute, the same duration as the arbitrary lockups in kmail.
Thanks again, this is very probably the cause!
  Johannes
