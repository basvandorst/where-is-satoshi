
@_date: 2017-02-21 15:34:17
@_author: Gerd v. Egidy 
@_subject: Announcing paperbackup.py to backup keys as QR codes on paper 
I'd like to announce a program I wrote to backup GnuPG and SSH keys as qrcodes on paper:
paperbackup.py This is designed as fallback if all your regular backups failed to restore or were lost.
Usage is like this:
gpg2 --armor --export "User Name" >key.asc
gpg2 --armor --export-secret-key "User Name" >>key.asc
paperbackup.py key.asc
paperrestore.sh key.asc.pdf | diff key.asc -
lpr key.asc.pdf
You'll find all the details, reasoning and examples in the README.
Kind regards,

@_date: 2017-02-22 09:38:51
@_author: Gerd v. Egidy 
@_subject: Announcing paperbackup.py to backup keys as QR codes on paper 
Hi Daniel,
You are right that this is probably more than strictly neccessary. But if you look at my example output on github, a regular public and private key in qrcodes and plain is just 9 pages. If some of the qrcodes containing the public key could not be decoded during recovery, it won't affect the codes of the private key. The user will just have to remove the ascii armored remnants of the public key. So adding the public key won't hurt.
paperbackup.py doesn't know or understand public or private keys, it just cares about text files. So the user is always free to decide what parts to back up.
Yes, I have linked it in the README on github, section "Similar projects".
Correct. But unless you want to backup hundreds of keys I don't think it is necessary to think much about data reduction. It is just a few pages of paper and printing and scanning them is just a matter of a few minutes. This is the beauty of qrcodes in contrast to OCR and manually typing.
Kind regards,

@_date: 2017-02-23 11:00:54
@_author: Gerd v. Egidy 
@_subject: Announcing paperbackup.py to backup keys as QR codes on paper 
Hi Peter,
Seems you are trusted by much more people than me ;)
Thank you for your explanation and recommendation. I have adapted the readme on github.
Thank you for checking and reporting this.
As it will not leave out important information, just add more data that is not strictly needed, it won't hurt the affected users much. Just a few more dead What timespan are we talking about?
If we are talking decades, I have no doubts that some qrcode decoder will still be available, even if qrcodes aren't used anymore. There are several open source decoders available and included in linux distributions. Stuff like that tends to be available for a long time: you can still download packaged linux distros like Red Hat Linux 1.0 (released 1995) or Debian 0.91 (released 1994) today, about 23 years afterwards.
If we are talking centuries, I'd worry about the availability of gnupg as much as qrcodes. Both are publicly available standards, but I don't know if they are still available and understandable by then. I'd recommend going to plaintext on glass etched microfiche if you really want to cover that I know of that feature and have deliberately decided against it:
Not all decoders are capable of it, and if one qrcode is missing, the linking is broken and you have to patch the decoder to still get some data.
I consider the plaintext linking and ordering I used more robust, see
I used the largest error correction ratio possible.
I haven't studied the decoding algorithms at that level of detail. If the deformation is irregular, I guess it affects some parts of a code more than others. Then a higher error correction ration will help.
Kind regards,

@_date: 2017-02-23 11:06:47
@_author: Gerd v. Egidy 
@_subject: Announcing paperbackup.py to backup keys as QR codes on paper 
I want paperbackup.py to be independent and agnostic of gnupg. It should also be usable for e.g. ssh keys or ciphertext.
I had some problems creating proper multipage pdfs, so I used PyX.
If you can come up with shorter sourcecode or less dependencies, I'm happy to take patches.
Kind regards,

@_date: 2017-02-23 13:36:53
@_author: Gerd v. Egidy 
@_subject: Announcing paperbackup.py to backup keys as QR codes on paper 
I tried to change to OCR-B or Inconsolata but getting that to work with enscript is not easy, as you have to find and install afm and pfb into the correct directories. This goes a lot deeper than just installing packages provided by whatever disto you are using.
So I think that this would move the bar for a possible user of paperbackup.py higher than I want to.
Can you recommend a tool to create a short checksum (crc32?) for each line? Ideally it is a tool or combination of tools already deployed widely, like sed and sort I used in paperrestore. This would make the checksums still usable even when the source to paperbackup.py isn't available anymore.
Kind regards,

@_date: 2017-02-27 11:50:31
@_author: Gerd v. Egidy 
@_subject: Announcing paperbackup.py to backup keys as QR codes on paper 
Hi Peter,
thank you very much for helping with paperbackup.py and sending your python Yesterday, with your solution in mind, I had an idea how we could even further reduce dependencies and ease the use:
echo -n "line content to check" | md5sum | cut -c -6
MD5 may be broken as a secure hash, but it still makes a very good checksum. MD5 is well standardized and available and hashlib.md5() is included in python. Your solution uses base64 to show more bits of the checksum than my hex chars. But I think a collision at the first 3 bytes is less likely with MD5 than one with CRC. The MD5 sum changes drastically if just one bit flips.
What do you think?
Kind regards,

@_date: 2017-03-03 18:04:15
@_author: Gerd v. Egidy 
@_subject: Verify with missing public key: unexpected returncode 
I have a scenario where a signature on a file should be checked. The file is
signed by several keys and for this scenario it is ok if at least one is
correct. In some cases it can happen that the system doing the check does not
have access to all public keys that are used for signing.
When reading the gpg2 manpage on return codes:
I think it should return 1 in this case. But I get 2. Why?
Here are the commands to reproduce:
$ gpg2 --verify test.asc.gpg gpg: Signature made Fri Mar  3 17:44:57 2017 CET using RSA key ID DB2D0998DC19EEA3
gpg: Good signature from "Foo Foo" [ultimate]
gpg: Signature made Fri Mar  3 17:45:01 2017 CET using RSA key ID 467C036CA9014F3F
gpg: Good signature from "Bar Bar" [ultimate]
$ gpg2 --delete-secret-keys 467C036CA9014F3F
$ gpg2 --delete-keys 467C036CA9014F3F
$ gpg2 --verify test.asc.gpg ; echo "RET: $?"
gpg: Signature made Fri Mar  3 17:44:57 2017 CET using RSA key ID DB2D0998DC19EEA3
gpg: checking the trustdb
gpg: marginals needed: 3  completes needed: 1  trust model: pgp
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
gpg: Good signature from "Foo Foo" [ultimate]
gpg: Signature made Fri Mar  3 17:45:01 2017 CET using RSA key ID 467C036CA9014F3F
gpg: Can't check signature: No public key
RET: 2
Kind regards,

@_date: 2017-03-03 18:24:08
@_author: Gerd v. Egidy 
@_subject: Verify with missing public key: unexpected returncode 
Hi Robert,
Hmm, but according to the manpage you currently get a returncode meaning "fatal error" in this case. That sounds much more severe to me than a bad Kind regards,

@_date: 2017-03-03 18:28:16
@_author: Gerd v. Egidy 
@_subject: Verify with missing public key: unexpected returncode 
Hi Kristian,
Yes, this is an automated scenario. I'm already using --status-fd and parsing it's output. But to be on the safe side, I was checking the return code too. With the way gpg2 currently implements the return codes it seems I can't use Kind regards,

@_date: 2017-03-06 00:27:30
@_author: Gerd v. Egidy 
@_subject: Announcing paperbackup.py to backup keys as QR codes on paper 
Hi Peter,
I just implemented the line checksums as discussed.
Kind regards,

@_date: 2017-03-06 23:32:25
@_author: Gerd v. Egidy 
@_subject: How U2F works 
I think this is because many people consider anything that is called a "certificate" complicated. Probably because in the past a lot of programs had poor or buggy support for it and they struggled with it.
So they came up with a new brand name and standard.
But I think they messed this up: when you want an attestated U2F device, there is no way to backup the private key or clone it to another U2F device. So whenever you sign up to a new service or website, you must have your primary and all backup U2F devices (each with it's own key) at hand to register them with the service.
To have them at hand means I can't store them at a second secure location like a bank safe. Because I won't go to my bank safe just to be able to order at a new online store. Completely unpractical unless you restrict the usage just to a handful of key services. Or it is right back to "what was the name of your first pet" :(
Kind regards,

@_date: 2018-11-08 14:19:45
@_author: Gerd v. Egidy 
@_subject: OpenPGP Card V3.3 keytocard error invalid value 
Hi Antony,
what driver do you use to connect GnuPG to your card reader?
I experienced several weird communication problems when using the pcsc driver. They all went away after I switched to the ccid driver from GnuPG.
Kind regards,

@_date: 2019-02-11 12:17:09
@_author: Gerd v. Egidy 
@_subject: 0.332 
How does it compare size-wise to the cyberJack one from Reiner SCT? That is the one I use for size-constrained use cases. I think having a slot for a regular card is an advantage as you can easily take the card out, carry it with you in your wallet and use it on other systems too.
Kind regards,

@_date: 2019-02-11 12:10:37
@_author: Gerd v. Egidy 
@_subject: OpenPGP on paper (was: Where can I find some papers to read on 
You might also want to take a look at
This was specifically developed to store or transfer GPG encrypted text or secret keys on paper.
Kind regards,
