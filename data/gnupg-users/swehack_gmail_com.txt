
@_date: 2016-05-14 19:25:15
@_author: Stefan Midjich 
@_subject: Problems with USB access to Omnikey 4321 
Hi list users
My goal was to reset one of my GnuPG v2.1 smartcards because the PIN
counter had reached 3 and it had been locked "permanently". I am using
Fedora 23 with the PCMCIA Omnikey AG Cardman 4321.
I read many posts on the list showing me how to do this but I couldn't
communicate with my card using gpg-connect-agent console, every scd
command I attempted gave me a card error, except for scd restart which
said OK and started scdaemon if I had killed it.
Here is the output of gpg --card-status --debug-ccid-driver with the
locked card inserted: And here is my scdaemon.log when I've killed scdaemon, inserted my
card and attempt to use the command 'scd serialno' in the
gpg-connect-agent console.
In the scdaemon.log I can see errors like "ccid-driver: usb_bulk_read
error: F?rbindelsen dog ut (timeout)" which means connection timed
out, and "apdu_send_simple(0) failed: card I/O error" further down.
On the console it replies ERR 100696113 In/ut-fel  which means
I/O error, gpg-connect-agent does not listen when I set LANGUAGE=C in
the environment so I can't force english errors.
My ~/.gnupg/scdaemon.conf looks like this.
pcsc-driver /usr/lib64/pcsc/drivers/ifdokccid_linux_x86_64-v4.1.8.bundle/Contents/Linux/ifdokccid.so
log-file /home/stemid/.gnupg/scdaemon.log
The driver I downloaded from here hidglobal.com/drivers because I
think it was necessary for my card reader. I have another Gemalto
reader that seems to work without any additional drivers but it's
Pcscd is not running however.
I hope someone here understands what is wrong.
V?nliga H?lsningar / Sincerely
Stefan M

@_date: 2016-05-15 13:28:14
@_author: Stefan Midjich 
@_subject: Problems with USB access to Omnikey 4321 
Thanks for showing me, I tried gpgconf --kill scdaemon, then did your
trick but the scdaemon.log after that was still giving the occasional
swedish error just like the one I pasted. And same with the scd
command in the gpg-connect-agent console.
2016-05-14 20:54 GMT+02:00 Peter Lebbing :

@_date: 2016-11-16 09:52:49
@_author: Stefan Midjich 
@_subject: Specifying entropy source 
I'm a novice user but since nobody else has replied. Have you tried
installing haveged and starting the service? It generates entropy.
First link on Google.
2016-11-15 11:57 GMT+01:00  :

@_date: 2016-11-17 12:47:05
@_author: Stefan Midjich 
@_subject: TRNG (was: Specifying entropy source) 
On the topic of open source RNG, I own the OneRNG and have attempted
to use it with gpg but failed in the past.
I never made another attempt.
OneRNG was a kickstarter crowd funding campaign and is now available
from their webshop. It's supposed to be an open source RNG but I'm not
qualified to speak on its quality as a TRNG.
It instructed users to use rngd, and at the time I was not aware of
haveged. I was able to use it for entropy but never for GPG. The
OneRNG has a LED that is supposed to dim when entropy is being drawn
from it, but gpg use never triggered this.
My goal would be to make another attempt at using my OneRNG over USB
with haveged as entropy source. A quick web search shows others have
attempted this already. For example 2016-11-17 1:37 GMT+01:00 NIIBE Yutaka :
