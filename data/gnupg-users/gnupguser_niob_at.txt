
@_date: 2017-07-07 18:01:03
@_author: gnupg-user@niob.at 
@_subject: gpgme - raw RSA operation using GPG public/private keys? 
Hello everybody!
I am looking for a "simple" way to use a GPG public/private RSA key to
do "raw" RSA operations. I have the impression, that gpgme only deals
with "real" OpenPGP data structures, but this does not fit my use case.
This is for an application that is currently based on openssl crypto.
I do have a "plan-b" if there is no simpler way, but given the gpgme,
libgcrypt ecosystem (which I have not really used before) I hope that I
will not have to use this:
  * use gpgme to access gnupg keyrings
  * "export" a key using as an OpenPGP key into an in-memory buffer
  * parse this key from the buffer - extracting RSA numbers
  * put the RSA values into an openssl RSA key structure
  * do the crypto using openssl
This does work - I tested this up to the fourth bullet... but there
surely must be a better way.... however, looking at the gpgme docs I can
find no obvious candidates for RSA operations - gpgme_op_encrypt does
not what I need, as it constructs a PGP message, where I assume it uses
a session key and encrypts that using RSA...

@_date: 2017-07-17 13:25:43
@_author: gnupg-user@niob.at 
@_subject: gpgme - raw RSA operation using GPG public/private keys? 
Am 12.07.2017 um 01:55 schrieb Daniel Kahn Gillmor:
Thanks a lot for the answer. So the next question is: How? That is: I
could not find any libgcrypt functions taking a gpg key obtainable
through gpgme.
But that is the key problem (haha): I *could* (by hand) parse a secret
key exported using gpg (or, if possible, through gpgme) and use the RSA
parameters to build up the key structure required for either libgcrypt
(or openssl). But that would make it impossible to deal with e.g. gpg
So to rephrase the question: How would I proceed to do raw RSA
operations using libcrypt for gpg keys stored in a standard key ring? Or
is this functionality not exposed directly in any library? Would it be
best to look at how gpg itself does this? Any pointers (source files,
docs, examples, etc.?)
I want to be modern as well... :-)

@_date: 2017-07-26 02:21:40
@_author: gnupg-user@niob.at 
@_subject: gpgme - raw RSA operation using GPG public/private keys? 
Hello List!
One more question for this topic: Am I right that secret key export is
not really implemented, even though there is the
GPGME_EXPORT_MODE_SECRET flag to gpgme_op_export_keys()?
If this is correct: Why is there such a flag?
Am 17/07/17 um 13:25 schrieb gnupg-user at niob.at:
