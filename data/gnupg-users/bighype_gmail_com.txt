
@_date: 2014-11-06 13:37:11
@_author: Mel Brands 
@_subject: Error building GnuPG modern 2.1.0 on Yosemite 
Hi guys,
I tried to compile 2.1.0 today and ran into an issue. I have the
latest autoconf/m4/gnu toolchain and all of the latest libraries that
GnuPG needs.
./confgure output looks OK to me and it has no complaints. You can see
the full output here: But after I run make, it fails like this:
What am I doing wrong? Any hints/insight much appreciated! Thank you!

@_date: 2014-11-09 16:56:33
@_author: Mel Brands 
@_subject: Error building GnuPG modern 2.1.0 on Yosemite 
Thank you! Patching with -p1 fixed the compilation issue but now I've run
into a linking issue (I'm using the latest libgpg-error 1.17).
This is the error that occurs near the very end:
gcc -I/usr/local/include -I/usr/local/include -I/usr/local/include -g -O2
-Wall -Wno-pointer-sign -Wpointer-arith   -o t-sexputil t-sexputil.o
libcommon.a ../gl/libgnu.a -L/usr/local/lib -lgcrypt -lgpg-error -lassuan
-L/usr/local/lib -lgpg-error -L/usr/local/lib -lgpg-error  -liconv
Undefined symbols for architecture x86_64:
  "_default_errsource", referenced from:
      _parse_ber_header in libcommon.a(libcommon_a-tlv.o)
      _parse_sexp in libcommon.a(libcommon_a-tlv.o)
ld: symbol(s) not found for architecture x86_64
collect2: ld returned 1 exit status
make[3]: *** [t-sexputil] Error 1
make[2]: *** [all] Error 2
make[1]: *** [all-recursive] Error 1
make: *** [all] Error 2
According to this post, using a "stable" libgpg-error used to fix this
issue back in the May:
I've tried Libgpg-error 1.16/1.17 and they have all failed to link properly
with Gnupg 2.1.0. Libgpg-error 1.16/1.17 gives identical errors as the one
above and 1.15 itself fails to compile with the following:
libtool: compile:  gcc -DHAVE_CONFIG_H -I. -I..
-DLOCALEDIR=\"/usr/local/share/locale\" -g -O2 -Wall -Wpointer-arith -MT
libgpg_error_la-estream.lo -MD -MP -MF .deps/libgpg_error_la-estream.Tpo -c
estream.c  -fno-common -DPIC -o .libs/libgpg_error_la-estream.o
estream.c:3502: error: conflicting types for '_gpgrt_fseeko'
gpgrt-int.h:108: error: previous declaration of '_gpgrt_fseeko' was here
estream.c:3528: error: conflicting types for '_gpgrt_ftello'
gpgrt-int.h:110: error: previous declaration of '_gpgrt_ftello' was here
make[3]: *** [libgpg_error_la-estream.lo] Error 1
make[2]: *** [all] Error 2
make[1]: *** [all-recursive] Error 1
make: *** [all] Error 2
Thanks for any insight!
PS: To answer Patrick Brunschwig, I'm using Xcode 6.1 on OS X 10.10
 (everything's updated to the latest versions available).
