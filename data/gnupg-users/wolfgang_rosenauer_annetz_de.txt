
@_date: 2005-06-12 17:02:17
@_author: Wolfgang Rosenauer 
@_subject: gpg --change-pin doesn't work for me 
a long time ago:
it works with the Reiner SCT reader but not with the Towitoko.
I wasn't able to test 1.4.1 or 1.4.2rc1 yet.

@_date: 2005-05-02 12:33:09
@_author: Wolfgang Rosenauer 
@_subject: OpenPGP smartcard - authentication key 
a little off-topic but maybe someone has some hints.
As far as I understood it should be possible to save a SSH RSA key to the OpenPGP smartcard as authentication key.
If this is true, how can this be done?

@_date: 2005-05-02 12:33:14
@_author: Wolfgang Rosenauer 
@_subject: gpg --change-pin doesn't work for me 
I've got a new OpenPGP Smartcard and was able to add my GPG subkeys to it. But I can't change my pin via gpg --change-pin.
I enter my old pin and my new pin twice but afterwards get only "Error changing the PIN: Allgemeiner Fehler".
The GPG version is 1.4.0.
Any ideas how what the problem could be or recommendations how to find the cause for the problem?

@_date: 2005-05-02 13:38:28
@_author: Wolfgang Rosenauer 
@_subject: gpg --change-pin doesn't work for me 
this error I get with a Towitoko chipdrive micro.
I can test with a Reiner SCT cyberjack at home.
will try that soon.
  Wolfgang

@_date: 2005-05-03 14:52:35
@_author: Wolfgang Rosenauer 
@_subject: OpenPGP smartcard - authentication key 
OK, I've generated an authentication key within GPG on the card.
Now there are some questions left ;-)
How to get this special public key out of the complete public-key of this GPG ID?
I've tried gpg -a --export KEYID but I'm not sure if this is the correct format for SSH usage.
The other thing is (more an OpenSSH question) how to tell openssh to use the key from the card?
  Wolfgang

@_date: 2005-05-04 13:21:03
@_author: Wolfgang Rosenauer 
@_subject: OpenPGP smartcard - authentication key 
OK, I have gnupg 1.9.16 installed now and configured scdaemon to connect with ctapi driver directly to the reader. (gpg-agent not running as daemon yet)
I get the following now:
- gpg --card-status does still work (gnupg 1.4.0)
- gpg2 --card-status shows
stark gpg2 --card-status
gpg: NOTE: THIS IS A DEVELOPMENT VERSION!
gpg: It is only intended for test purposes and should NOT be
gpg: used in a production environment or with production keys!
gpg: WARNING: This version of gpg is not very matured and
gpg: WARNING: only intended for testing.  Please keep using
gpg: WARNING: gpg 1.2.x, 1.3.x or 1.4.x for OpenPGP
gpg: DBG: connection to agent established
scdaemon[9212]: NOTE: this is a development version!
scdaemon[9212]: updating status of slot 0 to 0x0007
gpg-agent[9211]: card has S/N: D2760001240101010001000004B00000
scdaemon[9212]: app_readcert failed: Nicht unterst?tzte Verarbeitungsaufgabe
gpg-agent[9211]: error reading certificate: Nicht unterst?tzte gpg-agent[9211]: command learn failed: Nicht unterst?tzte gpg: OpenPGP card not available: Nicht unterst?tzte Verarbeitungsaufgabe
stark scdaemon[9212]: ct_activate_card(0): activation failed: okay
scdaemon[9212]: DBG:   received data: 62 01
What does it mean?
In addition I tried to understand the documentation correctly but failed :-(
As soon as gpg-agent is running with --enable-ssh-support it will emulate the ssh-agent behaviour and I can add keys with ssh-add as before. But I haven't found an information how to add the authentication key from the OpenPGP card as SSH key.
  Wolfgang

@_date: 2005-10-07 10:55:55
@_author: Wolfgang Rosenauer 
@_subject: gpg2 vs. gpg and OpenPGP card 
my OpenPGP card works without problems with gpg (1.4.2) and an OpenPGP card.
But if I use gpg2 (1.9.18) I get only the following:
stark gpg2 --card-status
gpg: NOTE: THIS IS A DEVELOPMENT VERSION!
gpg: It is only intended for test purposes and should NOT be
gpg: used in a production environment or with production keys!
gpg: WARNING: This version of gpg is not very matured and
gpg: WARNING: only intended for testing.  Please keep using
gpg: WARNING: gpg 1.2.x, 1.3.x or 1.4.x for OpenPGP
gpg: DBG: connection to agent established
scdaemon[7104]: NOTE: this is a development version!
scdaemon[7104]: updating status of slot 0 to 0x0007
scdaemon[7104]: client pid is 7103, sending signal 12
gpg: OpenPGP card not available: Unbekannter Systemfehler
Any hints?

@_date: 2005-10-07 11:29:45
@_author: Wolfgang Rosenauer 
@_subject: gpg2 vs. gpg and OpenPGP card 
I want to perform SSH authentication the the card and therefore have to
use gpg-agent. I just wanted to see if gpg2 - gpg-agent - scdaemon does
work at all. It doesn't.

@_date: 2005-10-07 14:38:08
@_author: Wolfgang Rosenauer 
@_subject: gpg2 vs. gpg and OpenPGP card 
OK, maybe I haven't explained detailed enough.
I actually have both versions installed.
But as using ssh-add -l with running gpg-agent can't find my key on the
"The agent has no identities."
I've thought that this could have something to do with gpg2
--card-status failing.
So let me just ask: Why can't my gpg-agent find the key on the card?
Or: What information do you need to be able to identify the problem

@_date: 2005-10-10 09:31:50
@_author: Wolfgang Rosenauer 
@_subject: gpg2 vs. gpg and OpenPGP card 
That works.
gpg --card-status is not my problem. That works.
So I'm still not sure how to add the key from the card to the gpg-agent
by using ssh-add.
ssh-add -l reads from the card (according to the LED) but shows "The
agent has no identities" which is true since I haven't added a identity
at this point.
And ssh-add -s needs a reader-parameter. If this is the correct option
which value would be needed here?
 Wolfgang

@_date: 2005-10-10 11:16:04
@_author: Wolfgang Rosenauer 
@_subject: gpg2 vs. gpg and OpenPGP card 
Authentication key: C598 483F 4D8C 65CA B6BD  0248 8EBB 3693 A3ED 2695
      created ....: 2005-05-03 12:44:34
not for me :-(
