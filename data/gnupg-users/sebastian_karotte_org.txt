
@_date: 2003-05-05 11:18:02
@_author: Sebastian Wiesinger 
@_subject: Problem with Import of ultimate trusted key 
Hi all!
I have a problem here with the import of my own public key into
another keyring (the key is in pubring.gpg and in mykey.asc):
I use gpg 1.2.1 with the following options:
gpg --no-options --armor --no-default-keyring --keyring mykey.gpg --import mykey.asc
If I do so, the import resets the trust of my key to "unkown", also in
my main keyring (well it just updates the trustdb). Is it possible to
stop gpg from updating the trustdb for specific imports?

@_date: 2004-12-22 14:42:02
@_author: Sebastian Wiesinger 
@_subject: Display Hash? 
Hi, is there a way to display the Hash Algo when verifying a message?
I want to see which hash it uses. (mutt hides the "Hash: " line).

@_date: 2004-10-27 13:59:46
@_author: Sebastian Wiesinger 
@_subject: setpref syntax 
perhaps I'm blind but is there a way to get a list of *all* the "S1 S2
Z3" etc. keywords mapped to the actual cipher/algo names?

@_date: 2004-10-27 14:24:52
@_author: Sebastian Wiesinger 
@_subject: setpref syntax 
* David Shaw  [2004-10-27 14:19]:
Ah ok, I tried gpg --version -v, that didn't work. :)
Great. Thanks for your answers.

@_date: 2006-05-08 17:26:20
@_author: Sebastian Wiesinger 
@_subject: Speed of trustdb update? 
I'm using gnupg quite a lot and after importing ~100 keys from a
keysigning party, the trustdb updates got painfully slow:
$ time gpg --check-trustdb
gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model
gpg: depth: 0  valid:   1  signed: 124  trust: 0-, 0q, 0n, 0m, 0f, 1u
gpg: depth: 1  valid: 124  signed:  37  trust: 113-, 0q, 0n, 3m, 8f, 0u
gpg: depth: 2  valid:   9  signed:  11  trust: 5-, 3q, 0n, 0m, 1f, 0u
gpg: next trustdb check due at 2006-06-25
real    0m54.860s
user    0m42.880s
sys     0m1.710s
As you see it takes almost am minute to update everything. Is there a
way to make that process quicker? I already do --rebuild-keydb-caches
every night but it doesn't help very much. The only solution right now
is to disable the automatic trustdb-checks and update it in the middle
of the night.
The system is a AMD K6 with 350MHz, perhaps it's just too slow? Any
ideas how to speed up the trustdb check would be appreciated.

@_date: 2006-05-08 23:41:08
@_author: Sebastian Wiesinger 
@_subject: Speed of trustdb update? 
* David Shaw  [2006-05-08 17:44]:
gpg (GnuPG) 1.4.3
Copyright (C) 2006 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it
under certain conditions. See the file COPYING for details.
Home: ~/.gnupg
Supported algorithms:
Pubkey: RSA, RSA-E, RSA-S, ELG-E, DSA
Cipher: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH
Hash: MD5, SHA1, RIPEMD160, SHA256, SHA384, SHA512
Compression: Uncompressed, ZIP, ZLIB, BZIP2

@_date: 2015-11-14 21:28:09
@_author: Sebastian Wiesinger 
@_subject: What causes this bad signature 
for fun I tried a German government (or public-private partnership)
service that signs your PGP key if your name on a uid matches the
electronic data on your ID card (Neuer Personalausweis, nPA). I tried
this and got my signed key back. I tried to import it into my keyring
and imagine my surprise when it didn't show up. Reason being: I have
"import-options import-clean" set and the signature is somehow bad.
Is there a way to see why the signature is bad? If I decide to let
them know that their service fails I would like to be able to tell
them what they did wrong.
My key is 0x58A2D94A93A0B9CE and their signature comes from
pub   2048R/0x58A2D94A93A0B9CE 2009-08-11
uid                 [ultimate] Sebastian Wiesinger sig!3   P    0x58A2D94A93A0B9CE 2015-03-27 never       Sebastian Wiesinger sig-3      1 0x5E5CCCB4A4BF43D7 2015-11-14 never       Governikus OpenPGP Signaturservice (Neuer Personalausweis) I attached the signed key for your interest.
Regards Sebastian

@_date: 2015-11-16 16:01:28
@_author: Sebastian Wiesinger 
@_subject: What causes this bad signature 
* david at gbenet.com  [2015-11-15 03:06]:
my key is not bad, the signature by 0x5E5CCCB4A4BF43D7 is bad. The
question is why.

@_date: 2015-11-16 16:03:24
@_author: Sebastian Wiesinger 
@_subject: What causes this bad signature 
* gnupgpacker  [2015-11-15 10:39]:
It's here: But as you can see the signature is not working. And the signature for
my  UID didn't arrive at all.

@_date: 2018-08-02 16:25:21
@_author: Sebastian Wiesinger 
@_subject: Pinentry does not show "please insert smartcard" dialog 
* Sebastian Wiesinger  [2018-07-31 18:24]:
And after upgrading to Xubuntu 18.04 it started working again... no
idea what the problem was in the end.

@_date: 2018-07-31 18:22:49
@_author: Sebastian Wiesinger 
@_subject: Pinentry does not show "please insert smartcard" dialog 
============================== START ==============================
* GnuPG Users  [2018-06-30 13:22]:
I don't think this is the reason because the same setup works under

@_date: 2018-06-27 09:42:08
@_author: Sebastian Wiesinger 
@_subject: Pinentry does not show "please insert smartcard" dialog 
I'm using pinentry (GTK2) on my Xubuntu. My authentication key is
saved on a Yubikey4. Pinentry does work when the key is inserted and
displays the PIN entry dialog just fine.
What doesn't work is the "please insert smartcard" dialog when the key
is not plugged in. I manually added the correct keygrip to the
sshcontrol file but this does not work. On my MacOS the same config
does display the "insert smartcard" dialog.
Any idea why it doesn't work on my Linux system or how to find out? I
already tried multiple debug options but no helpful info showed up in
the logs.
Xubuntu 17.10
ii  pinentry-gtk2         1.0.0-2         amd64
$ gpg --version
gpg (GnuPG) 2.1.15
libgcrypt 1.7.8
Kind Regards

@_date: 2019-11-05 17:49:53
@_author: Sebastian Wiesinger 
@_subject: gpg-agent SSH agent returned incorrect signature type 
I'm using gpg-agent with the key stored on a Yubikey for ssh pubkey
authentication. Since upgrading server systems to Debian 10 I get the following
error when logging in:
agent key RSA SHA256:[keyhash] returned incorrect signature type
Login succeeds but the error is displayed on every new connection.
There is not much information about this, except that it seems the error is
caused by the agent signing the key with a different hash algorithm:
debug1: Server accepts key: cardno:000233441461 RSA SHA256:[keyhash] agent
debug3: sign_and_send_pubkey: RSA SHA256:[keyhash]
debug3: sign_and_send_pubkey: signing using rsa-sha2-512
agent key RSA SHA256:[keyhash] returned incorrect signature type
debug3: sign_and_send_pubkey: signing using ssh-rsa
My question is, is this a problem with gpg-agent or is the Yubikey just not
able to sign the key with the requested sha2-512 algo?

@_date: 2019-11-06 10:30:56
@_author: Sebastian Wiesinger 
@_subject: gpg-agent SSH agent returned incorrect signature type 
* GnuPG Users  [2019-11-05 20:56]:
Hi Werner,
I've attached a redacted version of the log to this mail. If you need
something in the clear let me know.
In regard to the algorithm, I'm not sure where I would change that.
This seems to be something SSH does on its own...

@_date: 2019-11-19 14:14:09
@_author: Sebastian Wiesinger 
@_subject: gpg-agent SSH agent returned incorrect signature type 
* Sebastian Wiesinger  [2019-11-05 17:49]:
It seems this might be fixed in gnupg 2.2.6. It was reported here:
T3880 "gpg-agent's ssh-agent does not handle flags in signing requests properly"
Can't test right now because I would need a newer agent.
