
@_date: 2013-07-06 19:00:47
@_author: atair 
@_subject: GPG keys for multiple email accounts 
Hi all,
I want to introduce encryption to my email accounts and hesitate
already for almost a year to set up the keys/infrastructure because I
see some severe problems. Maybe you can tell me your experiences/ideas
about the concerns I have...
I want so set up a GnuPG infrastructure for my (lets say) 20 email accounts.
1. Possible ways to implement and my concerns:
(1) I create one key pair for each email account. In case one key gets
compromised the possible damage is limited to one email account.
However, as drawback I'd have to (1) remember 20 passphrases (with for
example 20-40 characters each) and (2) type them every time I want to
read the emails. This does not seem to be very convenient... (*)
(2) I create one key with several sub keys for each email account. If
this key gets compromised I'd have to exchange all keys. This could be
a lot of work (for me and others).
(3) I create independent keys (with several sub keys) for groups of
email accounts (private/official/work/...).
(4) I create independent keys (without sub keys) and use one key for
multiple email accounts.
(*) additionally, all senders of emails to me would have to choose the
right keys for the account to send the email to. (related to 3.)
2. Maintenance:
Usually, I keep all (important) old emails locally on my hard disk.
But how should this be done with encrypted emails since the private
key might get lost or compromised one day? So far, I think it would be
necessary to decrypt all emails before archiving and store them
(unencrypted) on the encrypted (LUKS etc.) hard disk.
3. Spam/Privacy:
In case one has the public key, he/she also has the email address
attached to that key. In my opinion, this is not very useful since it
might open the door for lots of spam. Usually, I want to give my
public key only to people I know in person. So they'd know my email
address either way. Does it create problems to attach a fake email
address to the key (e.g.  Would I be less trustworthy to
other people (that I might not know in person) or do they on the
network of trust (respectively, the number of people who signed my key
even there's an obvious fake email inscribed)?
4. Transport private keys other computers:
Since I read my emails on laptop and PC, I need to copy the private
key to both computers. This is against the normal intention of a
"private key". How is/should this be usually done?
Thanks for suggestions,

@_date: 2013-07-06 18:32:17
@_author: atair 
@_subject: GPG keys for multiple email accounts 
Hi all,
I want to introduce encryption to my email accounts and hesitate
already for almost a year to set up the keys/infrastructure because I
see some severe problems. Maybe you can tell me your experiences/ideas
about the concerns I have...
I want so set up a GnuPG infrastructure for my (lets say) 20 email accounts.
1. Possible ways to implement and my concerns:
(1) I create one key pair for each email account. In case one key gets
compromised the possible damage is limited to one email account.
However, as drawback I'd have to (1) remember 20 passphrases (with for
example 20-40 characters each) and (2) type them every time I want to
read the emails. This does not seem to be very convenient... (*)
(2) I create one key with several sub keys for each email account. If
this key gets compromised I'd have to exchange all keys. This could be
a lot of work (for me and others).
(3) I create independent keys (with several sub keys) for groups of
email accounts (private/official/work/...).
(4) I create independent keys (without sub keys) and use one key for
multiple email accounts.
(*) additionally, all senders of emails to me would have to choose the
right keys for the account to send the email to. (related to 3.)
2. Maintenance:
Usually, I keep all (important) old emails locally on my hard disk.
But how should this be done with encrypted emails since the private
key might get lost or compromised one day? So far, I think it would be
necessary to decrypt all emails before archiving and store them
(unencrypted) on the encrypted (LUKS etc.) hard disk.
3. Spam/Privacy:
In case one has the public key, he/she also has the email address
attached to that key. In my opinion, this is not very useful since it
might open the door for lots of spam. Usually, I want to give my
public key only to people I know in person. So they'd know my email
address either way. Does it create problems to attach a fake email
address to the key (e.g.  Would I be less trustworthy to
other people (that I might not know in person) or do they on the
network of trust (respectively, the number of people who signed my key
even there's an obvious fake email inscribed)?
4. Transport private keys other computers:
Since I read my emails on laptop and PC, I need to copy the private
key to both computers. This is against the normal intention of a
"private key". How is/should this be usually done?
Thanks for suggestions,

@_date: 2013-07-07 10:18:46
@_author: atair 
@_subject: GPG keys for multiple email accounts 
Thanks for the replies,
ok, I agree
As Heinz Diehl pointed out, it seems not to be that simple.
Additionally, with "20-40 chars" I did not mean a pure random char
sequence but a more memorable sequence of words ("phrase"), e.g. by
using diceware method and the Oxford Advanced Learner's dictionary,
thus, the idea to use a relatively long/up to 40 chars passphrase.
So, following your suggestions, I (c|sh)ould do:
1.1. create one master key for signing on a save environment e.g. live
CD, USB flash disk.
1.2. the expire date is set to several years and
1.3. a backup is placed on an immutable/secure media.
1.4. no user ID is added.
1.5. the passphrase is a word sequence of 40 chars length.
2.1. create sub keys for sign and encryption with an expire date of two years.
2.2. use the same passphrase for all sub keys
2.3. the passphrase has a length of 20 chars (maybe sequence of words,
but nobody knows that it's not pure random). otherwise use a pure
random sequence with smaller length.
2.4. add a fake UID that identifies the domain of the key (business,
private organization,..); other possibility: create a UID without the
' such as "my_name__TheOrg01.org" and the people who use the key
know that the first '_' has to be replaced by '-' and the "__"
replaces the  '
2.5. sign those keys by the master key.
2.6. publish/hand out the public sub keys to the respective
sender/recipient group of people.
Would it be really that grave? If persons know and trust you, they
sign your key (and you may explain, why you use a pseudonym). These
persons may know other persons in person etc.
So, for the NoT I think it doesn't really matter. However, people you
meet for the first (and maybe only time, e.g. on a key signing party)
could refuse to sign the key, since they don't know whether it's
really your key that you want them to sign.

@_date: 2013-07-25 21:17:43
@_author: atair 
@_subject: Why trust gpg4win? 
First of all, it is ok to have doubts.
Basically, your concern is that some German federal institution
implemented a back door in gpg4win (in this case). This is
theoretically and practically possible, but there's one big problem
with this:
gpg4win (as gnupg, too) is _free software_ [1]. "Free" has to be
understood as in "free speech" not "free beer" (although it often
means both).
This basically means, that everyone(!) can access, modify and
redistribute the source code of the program (see [2] if you're
interested). There are lots of people (usually volunteers from all
over the wold) who do peer reviews on the sources (and if you start
with [2], _you_ can be another one). Therefore, changes that look like
back doors are VERY unlikely to find their way in a release, because
hundreds of people are looking how the software evolves and will
reject such a patch.
This is the/a major thing behind the necessity for "free and open"
software, such as the free operating system GNU/Linux. There's nobody
you just have to trust, because _you_ can verify what the program
actually does (as said above, by looking at the code and compiling it
( Besides, I think that, usually, the BSI people are good people. )
When you're used to gpg4win (or OpenPGP/cryptography in general), I
strongly recommend you to switch from windows to a free operating
system, preferably GNU/Linux. You may also have a look at the various
"Live CDs", e.g. [3] and [4]. You can download and burn an iso-image
to a CD/DVD and then boot a complete GNU/Linux OS without making
actual changes on your hard disk.
[1] [2]  then look for "source code package"
[3] [4]

@_date: 2013-07-26 00:33:51
@_author: atair 
@_subject: GPG keys for multiple email accounts 
This topic is not yet solved for me, sorry for the long inactivity...
I tried the following approach which is inspired by the debian hints [1][2].
[1] [2] # preparing clean environment for testing
$ mkdir /data/tmp/todel/gpghome-todelete
$ export GNUPGHOME=/data/tmp/todel/gpghome-todelete
$ gpg2 -k
gpg: keyring `/data/tmp/todel/gpghome-todelete/pubring.gpg' created
gpg: /data/tmp/todel/gpghome-todelete/trustdb.gpg: trustdb created
$ gpg2 -K
gpg: keyring `/data/tmp/todel/gpghome-todelete/secring.gpg' created
# create a sign only key first, and then add another sign key and
another encryption key
$ gpg2 --gen-key
gpg (GnuPG) 2.0.14; Copyright (C) 2009 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
Your selection? 3
DSA keys may be between 1024 and 3072 bits long.
What keysize do you want? (2048) 3072
Requested keysize is 3072 bits
Please specify how long the key should be valid.
         0 = key does not expire
        = key expires in n days
      w = key expires in n weeks
      m = key expires in n months
      y = key expires in n years
Key is valid for? (0) 2y
Key expires at 2015-07-26T01:51:16 CEST
Is this correct? (y/N) y
GnuPG needs to construct a user ID to identify your key.
Real name: Test Key
Email address:
You selected this USER-ID:
    "Test Key"
Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O
You need a Passphrase to protect your secret key.
gpg: problem with the agent: Not implemented
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
gpg: WARNING: some OpenPGP programs can't handle a DSA key with this digest size
gpg: key CDFD0D80 marked as ultimately trusted
public and secret key created and signed.
gpg: checking the trustdb
gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
gpg: next trustdb check due at 2015-07-25
pub   3072D/CDFD0D80 2013-07-25 [expires: 2015-07-25]
      Key fingerprint = 6FF6 3569 1EEC F4D7 6D33  5B4F 8F37 FCE1 CDFD 0D80
uid                  Test Key
Note that this key cannot be used for encryption.  You may want to use
the command "--edit-key" to generate a subkey for this purpose.
$ gpg2 --edit-key CDFD0D80
gpg (GnuPG) 2.0.14; Copyright (C) 2009 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Secret key is available.
pub  3072D/CDFD0D80  created: 2013-07-25  expires: 2015-07-25  usage: SC
                     trust: ultimate      validity: ultimate
[ultimate] (1). Test Key
Command> addkey
Key is protected.
You need a passphrase to unlock the secret key for
user: "Test Key"
3072-bit DSA key, ID CDFD0D80, created 2013-07-25
Please select what kind of key you want:
   (3) DSA (sign only)
   (4) RSA (sign only)
   (5) Elgamal (encrypt only)
   (6) RSA (encrypt only)
Your selection? 5
ELG keys may be between 1024 and 4096 bits long.
What keysize do you want? (2048) 4096
Requested keysize is 4096 bits
Please specify how long the key should be valid.
         0 = key does not expire
        = key expires in n days
      w = key expires in n weeks
      m = key expires in n months
      y = key expires in n years
Key is valid for? (0) 2w
Key expires at 2013-08-09T01:54:07 CEST
Is this correct? (y/N) y
Really create? (y/N) y
gpg: problem with the agent: Not implemented
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
pub  3072D/CDFD0D80  created: 2013-07-25  expires: 2015-07-25  usage: SC
                     trust: ultimate      validity: ultimate
sub  4096g/52C7F578  created: 2013-07-25  expires: 2013-08-08  usage: E
[ultimate] (1). Test Key
Command> addkey
Key is protected.
You need a passphrase to unlock the secret key for
user: "Test Key"
3072-bit DSA key, ID CDFD0D80, created 2013-07-25
Please select what kind of key you want:
   (3) DSA (sign only)
   (4) RSA (sign only)
   (5) Elgamal (encrypt only)
   (6) RSA (encrypt only)
Your selection? 3
DSA keys may be between 1024 and 3072 bits long.
What keysize do you want? (2048) 3072
Requested keysize is 3072 bits
Please specify how long the key should be valid.
         0 = key does not expire
        = key expires in n days
      w = key expires in n weeks
      m = key expires in n months
      y = key expires in n years
Key is valid for? (0) 20d
Key expires at 2013-08-15T01:56:58 CEST
Is this correct? (y/N) y
Really create? (y/N) y
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
gpg: WARNING: some OpenPGP programs can't handle a DSA key with this digest size
pub  3072D/CDFD0D80  created: 2013-07-25  expires: 2015-07-25  usage: SC
                     trust: ultimate      validity: ultimate
sub  4096g/52C7F578  created: 2013-07-25  expires: 2013-08-08  usage: E
sub  3072D/FC9E4EAC  created: 2013-07-25  expires: 2013-08-14  usage: S
[ultimate] (1). Test Key
Command> save
# basically following the debian-instructions here
# in real life, here could happen a change from offline to online environment
$ gpg2 --export CDFD0D80 > testkey.pub
$ gpg2 --export-secret-keys CDFD0D80 > testkey.prv
$ gpg2 --export-secret-subkeys 52C7F578! FC9E4EAC! > testkey.sub
$ gpg2 --delete-secret-keys CDFD0D80
gpg (GnuPG) 2.0.14; Copyright (C) 2009 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
sec  3072D/CDFD0D80 2013-07-25 Test Key
Delete this key from the keyring? (y/N) y
This is a secret key! - really delete? (y/N) y
# deletion has worked
$ gpg2 -k
sec#  3072D/CDFD0D80 2013-07-25 [expires: 2015-07-25]
uid                  Test Key
ssb   4096g/52C7F578 2013-07-25
ssb   3072D/FC9E4EAC 2013-07-25
# now check whether thunderbird+enigmail works
$ thunderbird
$  thunderbird+enigmail I choose "0xCDFD0D80" for an email account
$  in compose window I select "OpenPGP/sign"
$ #    and I have to enter the passphrase for "FC9E4EAC"
$ #    email gets sent and arrives with
$ #      "Good signature from Test Key \\Key ID: 0xCDFD0D80"
$  new email: this time check "OpenPGP/encrypt"
$ #    and I get an OpenPGP Alert:
$ #      "Send operation aborted. \\INV_RECP 0 0x782B2A766EE19DE0"
$ #    email is not sent
- What does this last alert tell me?
- Does this approach make sense? (I'm thinking on the suggested
--expert --gen-key option, for example)
- How to add support for other email addresses but the same master
key? Creating sign/encrypt keys for each account?
- Additionally, something that I don't understand (or at least
expected differently) is that I only had to type the master key's
passphrase. What I want (if possible) is a long passphrase for the
master key, and a shorter passphrase for the subkeys (for convenience
in daily use, etc). What am I doing wrong or misunderstand?
Thanks for your help,

@_date: 2013-07-30 22:58:37
@_author: atair 
@_subject: Different passphrase for subkey 
is it possible to have a master key and several subkeys with the
subkeys having a different (e.g. shorter) passphrase than the master

@_date: 2013-07-30 23:10:54
@_author: atair 
@_subject: "Certify" only master key 
is there anything that speaks against a master key with only the
"certify" usage-property set? I'd create separate expiring subkeys for
sign and encryption.
What is the advantage of having a certify+sign master key? In my
opinion, this sounds dangerous, because to sign a message one would
always need the secret key of the master key available (if using CS
master key, and E subkey). By using a certify only key as master key,
one could delete the master's secret key on the non-offline system.
The only case for a CS master key that comes to my mind, is when one
wants to sign some important documents in the offline environment
_with the master key_ (e.g. key policy, some configs etc). In that
case one would delete the secret master key for the online system and
use the sign subkey for ordinary communication.
Thanks for comments!

@_date: 2013-09-16 13:32:30
@_author: atair 
@_subject: Sign key and export for each UID 
Hi all,
I'm now in the situation to sign one other's key for the first time.
He signed mine some days ago and sent me an email "Your PGP key
" to each UID of my key with an attached file
I know that I can use --sign to sign the key and then --export to
export it, but I don't know how to do this for each UID (content of
attached files differ). I also discovered, that there's a sign, lsign,
... in the interactive mode with --edit-key -- what are they for/how
do they differ from normal --sign?
To me, this seems like a standard procedure/template, is it? Where to get it?
To me this looks pretty good, as it respects the signed person's
freedom to publish the signature on the keyservers he/she wants to
(and not me doing sth. with one others key).

@_date: 2013-09-17 06:23:35
@_author: atair 
@_subject: Sign key and export for each UID 
Is there a way to achieve the same signatures from gpg command line?
For example
$ gpg -a --export exports the complete key and not just the signature. However, I
understand the gpg-man pages in a way that it's possible to do a
$ gpg -u  --edit-key Is that true?
How could I export the created signature for each step? (sth like an
"-a --export " but from interactive mode seems not to be
BTW: I'm on GNU/Linux for some years now and I'd never use Windows again ;)
So personally, I don't care whether these tools exist for Windows or not...
seems reasonable, although there's an overhead for this
3-way-handshake (but usually you don't sign keys on a daily basis, so
that doesn't really matter :)
Probably I just overlooked it, but I could not find where the per-uid
signatures are created/exported.

@_date: 2013-09-17 07:42:14
@_author: atair 
@_subject: Sign key and export for each UID 
Thanks! That's what I looked for.
Sure, there should be a way to have the same functionality on all
platforms. I just wanted to say that there're good reasons (handy
tools, infrastructure, improvements are accessible to all
users/community,...) to use GNU/linux instead of Windows.
