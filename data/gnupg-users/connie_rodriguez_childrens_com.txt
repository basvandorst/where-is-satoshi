
@_date: 2009-11-16 16:09:41
@_author: CONNIE RODRIGUEZ 
@_subject: gpg: decryption failed: secret key not available 
I hope someone can help.  I can encrypt files for our vendor but they cannot decrypt as it errors to secret key not available.  I signed the vendors public key after I imported it into the unix system.  Any ideas?
Thank you in advance for any help anyone can provide.
Connie Rodriguez
Enterprise Application Analyst
Children's Medical Center  Dallas
1935 Medical District Drive
Dallas, Texas  75235
(214) 456-8480
Please consider the environment before printing this e-mail.
This e-mail, facsimile, or letter and any files or attachments transmitted with it contains
information that is confidential and privileged. This information is intended only for the
use of the individual(s) and entity(ies) to whom it is addressed. If you are the intended
recipient, further disclosures are prohibited without proper authorization. If you are not
the intended recipient, any disclosure, copying, printing, or use of this information is
strictly prohibited and possibly a violation of federal or state law and regulations. If you
have received this information in error, please notify Children's Medical Center Dallas immediately at 214-456-4444 or via e-mail at privacy at childrens.com. Children's Medical
Center Dallas and its affiliates hereby claim all applicable privileges related to this

@_date: 2009-10-14 12:55:37
@_author: CONNIE RODRIGUEZ 
@_subject: GNUPG HELP please 
Hello All,
I am a rookie at encrypting and run into a brick wall when I tried to run gnupg on a different server......
I hope someone  can help.  I was able to successfully run the gnupg on a development system but when I set up gnupg on my test system I received the following warnings and errors.  Can you help me?   + /usr/local/bin/gpg -e -r REWARD /law/test/law/test/interface/watsonwyatt/data/epay.txt
                gpg: WARNING: unsafe permissions on configuration file `/home/lawhr/.gnupg/gpg.conf'
                gpg: WARNING: unsafe enclosing directory permissions on configuration file `/home/lawhr/.gnupg/gpg.conf'
                gpg: WARNING: using insecure memory!
                gpg: please see  for more information
                gpg: 4D5AFE2E: There is no assurance this key belongs to the named user
                gpg: cannot open `/dev/tty': There is a request to a device or address that does not exist.
Thank you in advance for any help you can provide
Connie Rodriguez
connie.rodriguez at childrens.com Please consider the environment before printing this e-mail.
This e-mail, facsimile, or letter and any files or attachments transmitted with it contains
information that is confidential and privileged. This information is intended only for the
use of the individual(s) and entity(ies) to whom it is addressed. If you are the intended
recipient, further disclosures are prohibited without proper authorization. If you are not
the intended recipient, any disclosure, copying, printing, or use of this information is
strictly prohibited and possibly a violation of federal or state law and regulations. If you
have received this information in error, please notify Children's Medical Center Dallas immediately at 214-456-4444 or via e-mail at privacy at childrens.com. Children's Medical
Center Dallas and its affiliates hereby claim all applicable privileges related to this

@_date: 2009-10-14 16:07:13
@_author: CONNIE RODRIGUEZ 
@_subject: GNUPG HELP please 
Thank you very much for the very informative information.  I have locked down some of the permissions.  I attempted key signing but was not successful.  I received the following output:
[lawhr at lsftest1/usr/local/bin # ./gpg --edit-key REWARD
pub  1024D/C2126D6D  created: 2009-02-23  expires: never       usage: SC
                     trust: unknown       validity: unknown
sub  2048g/4D5AFE2E  created: 2009-02-23  expires: never       usage: E
[ unknown] (1). REWARD data interchange 2009
Command> sign
gpg: no default secret key: secret key not available
Any help is appreciated!
Thank you,
Connie Rodriguez Hi Connie--
This suggests that your configuration file may be readable or writable
by other users.  You can view the permissions on that file with:
  ls -l /home/lawbr/.gnupg/gpg.conf
You can lock it down with:
  chmod go-rwx /home/lawbr/.gnupg/gpg.conf
(note here that "go-rwx" means "remove (-) read (r), write (w), and
execute (x) from group (g) and all other users (o)" )
If you're not sure about the concept of filesystem permissions, it's
worthwhile to think about them a bit.  they'll come up fairly often on
unix systems.  wikipedia has a good start:
 This is due to a directory being potentially readable or writable by
other users.  You can lock down the "enclosing directory" with:
chmod go-rwx`/home/lawhr/.gnupg/
Search for "insecure memory" in the gpg manual page (try "man gpg") for
more information about this error under the BUGS section.  You may
either want to make gpg setuid root (if secure memory is important to
you) or to tell gpg to ignore this particular error by adding the
relvant option to your gpg.conf file.
have you read this?  It's worth reading!  You might be interested in
section 6.1 in particular:
   this is likely because you've imported the "REWARD" key into your remote
system without indicating any particular "ultimate" ownertrust.
gpg does a fair amount of work to make sure that keys belong to who you
think they should belong to -- it doesn't make any sense to encrypt data
to a key if you aren't sure whose key it is.
Presumably, there is someone who is making reasonable assertions about
which keys belong to which entities, and signing those keys.  You
probably want to designate "ultimate" ownertrust for that certifier on
your server.  For example, if you hold key DECAFBAD privately
(off-server), but you use that key to sign the REWARD key, you could
import the DECAFBAD public key on the server, and then (still on the
server) do:
gpg --edit-key DECAFBAD
  trust
and then choose "ultimate" ownertrust.  Make sense?
i dunno why this is coming up; what operating system are you running
this on?  what version of gpg?  did you build it yourself, or is it the
version provided by your OS?
Please consider the environment before printing this e-mail.
This e-mail, facsimile, or letter and any files or attachments transmitted with it contains
information that is confidential and privileged. This information is intended only for the
use of the individual(s) and entity(ies) to whom it is addressed. If you are the intended
recipient, further disclosures are prohibited without proper authorization. If you are not
the intended recipient, any disclosure, copying, printing, or use of this information is
strictly prohibited and possibly a violation of federal or state law and regulations. If you
have received this information in error, please notify Children's Medical Center Dallas immediately at 214-456-4444 or via e-mail at privacy at childrens.com. Children's Medical
Center Dallas and its affiliates hereby claim all applicable privileges related to this

@_date: 2009-10-15 09:20:04
@_author: CONNIE RODRIGUEZ 
@_subject: GNUPG HELP please 
Great!!  Signed and edit key ...Works like a charm.  Thank you
Hi Connie--
I'm glad that was useful.
It sounds to me like you might be confusing validity with ownertrust.
In my earlier note, i suggested that you *trust* the keyholder of some
key that will certify the keys you are encrypting to.
Instead, it looks to me like you've chosen to try to *sign* one of the
keys you're encrypting to directly from the server.
It helps me to separate out these concepts into two ideas:
0) who do you know (i.e. who can you identify)?
1) who do you trust to identify others?
And since you're dealing with two different gpg installations (one on
the server and one that you control elsewhere) you probably want to
think about those from separate perspectives.
I don't know what you're planning to do on your server, but i'll pretend
for the moment that you're working with a web application which is
expected to recieve information over the web, and then encrypt it to
someone.  I'll refer to that someone as the "encryption target".
from the webapp's view, how does it know it's encrypting info to the
right person?
let's say you're the administrator of such a system, and you want the
webapp to believe you when you certify that a certain key belongs to a
given person.  Then you (as the admin) would have your own OpenPGP key,
stored off of the server (probably on your own workstation someplace).
Let's assume that key is key ID 0xDECAFBAD. You'd upload the public part
of 0xDECAFBAD to the server, and import it into the webapp's keyring.
After import *as the webapp user* you'd say "i trust the sysadmin to
identify encryption targets" by doing:
  gpg --edit-key 0xDECAFBAD
   trust
and then designate "ultimate" ownertrust.
Then, you'd use your own key to certify the key belonging to the
encryption target -- you'd "sign the target's public key" with your own
key.  Then you'd upload the target's public key (with your
certification) to the server, and import it into the webapp's keyring.
Does this make sense?  The advantage of this arrangement is that now
your webapp can be used to encrypt to a variety of people -- you'll just
need to sign their keys, and they can be encryption targets as well.
hope this helps,
Please consider the environment before printing this e-mail.
This e-mail, facsimile, or letter and any files or attachments transmitted with it contains
information that is confidential and privileged. This information is intended only for the
use of the individual(s) and entity(ies) to whom it is addressed. If you are the intended
recipient, further disclosures are prohibited without proper authorization. If you are not
the intended recipient, any disclosure, copying, printing, or use of this information is
strictly prohibited and possibly a violation of federal or state law and regulations. If you
have received this information in error, please notify Children's Medical Center Dallas immediately at 214-456-4444 or via e-mail at privacy at childrens.com. Children's Medical
Center Dallas and its affiliates hereby claim all applicable privileges related to this

@_date: 2010-03-29 17:14:15
@_author: CONNIE RODRIGUEZ 
@_subject: Secret key without public key 
Help!!  Just last week I was able to decrypt files for our Vendor.  I tried this morning and now I get the message below.  The only changes that occurred was that another vendor key was added last week.  The ELG-E Key is the same the message was encrypted with.  Any insight to this message is appreciated.  I read a few articles and it stated to delete secret key but I am not comfortable with deleting any key without some kind of guidance since I am a rookie at gpg.   Anyway I am confused as to why I would need to delete the secret key when nothing has changed for this vendor.
gpg: key 9EDEB618: secret key without public key - skipped
gpg: encrypted with ELG-E key, ID BEA2D168
gpg: decryption failed: secret key not available
Thank you in advance for any help that you can provide
 Please consider the environment before printing this e-mail
This e-mail, facsimile, or letter and any files or attachments transmitted with it contains

@_date: 2010-03-29 19:03:53
@_author: CONNIE RODRIGUEZ 
@_subject: Secret key without public key 
Sorry forgot to mention this is in unix.  Also, I do not have a backup to re-import.  The actual error is:
gpg: encrypted with ELG-E key, ID BEA2D168
gpg: decryption failed: secret key not available
It appears that another key being added was not the only thing that occurred and someone has deleted the secret key the message was encrypted to. Do you have a backup to re-import?
 Please consider the environment before printing this e-mail
This e-mail, facsimile, or letter and any files or attachments transmitted with it contains

@_date: 2010-03-29 19:10:35
@_author: CONNIE RODRIGUEZ 
@_subject: Secret key without public key 
This is a development box..no backup.  Can I copy from the another environment?
I figured is was Unix. Without a backup you wont be able to decrypt the file.
Are you certain there is no backup? No backup of the system which could have the .gnupg directory? Tape perhaps?
 Please consider the environment before printing this e-mail
This e-mail, facsimile, or letter and any files or attachments transmitted with it contains

@_date: 2010-03-29 19:17:30
@_author: CONNIE RODRIGUEZ 
@_subject: Secret key without public key 
Great!!  Thank you for your help.  I will post on how it went.
yes if you have the key on another server such as a production box.
gpg --export-secret-key -a > a-filename-here
copy it to the dev box with something like scp
then on the dev box
gpg --import a-filename-here
make sure to remove the file you generated exporting the key. You don't want someone to see copy it ;)
shred -f -n 1000 -z -v -u a-filename-here
 Please consider the environment before printing this e-mail
This e-mail, facsimile, or letter and any files or attachments transmitted with it contains

@_date: 2012-11-07 16:48:41
@_author: Connie Rodriguez 
@_subject: SSH key and PGP key  
Any help is appreciated!  My knowledge is very limited on encryption/decryption.  I understand the concept but that is just about it!
I currently have gpg installed on our unix system.  I have been asked to provide a SSH key and GPG key that will expire annually to our bank vendor.  In the beginning I had set our key to not expire when I first set it up..can I change this?  Also, how do I create and export  a ssh key?
Thanks for any help someone can provide
Connie Rodriguez
Enterprise Application Analyst
Children's Medical Center Dallas
1935 Medical District Drive
Dallas, TX 75235
Please consider the environment before printing this e-mail.
This e-mail, facsimile, or letter and any files or attachments transmitted with it contains information that is confidential and privileged. This information is intended only for the use of the individual(s) and entity(ies) to whom it is addressed. If you are the intended recipient, further disclosures are prohibited without proper authorization. If you are not the intended recipient, any disclosure, copying, printing, or use of this information is strictly prohibited and possibly a violation of federal or state law and regulations. If you have received this information in error, please notify Children's Medical Center Dallas immediately at 214-456-4444 or via e-mail at privacy at childrens.com. Children's Medical Center Dallas and its affiliates hereby claim all applicable privileges related to this information.
