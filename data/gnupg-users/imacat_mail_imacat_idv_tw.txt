
@_date: 2005-05-25 08:46:39
@_author: imacat 
@_subject: Secret Key UID Missing 
Dear all,
    I have got into trouble.  Here is my key now:
imacat ~ % gpg --edit imacat
gpg (GnuPG) 1.4.1; Copyright (C) 2005 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it
under certain conditions. See the file COPYING for details.
Secret key is available.
pub  1024D/30B94B5C  created: 2002-07-04  expires: never       usage: CS
                     trust: ultimate      validity: ultimate
sub  4096g/266EF40E  created: 2002-07-04  expires: never       usage: E
[ultimate] (1). ??? (imacat) [ultimate] (2)  ??? (imacat) Command> toggle
sec  1024D/30B94B5C  created: 2002-07-04  expires: never
ssb  4096g/266EF40E  created: 2002-07-04  expires: never
(1)  ??? (imacat) Command> quit
imacat ~ %
    One of my UID is missing in the secret key ring.  I was editing my
keys, revoking UIDs with non-UTF8 comment and adding UTF-8 UIDs.  Maybe
it's lost during some export/import.
    The missing 2nd UID is my company e-mail.  I can't sign my mails
without it at my office.  This is really strange.  What can I do about
it?  Do I have to revoke my office UID and create new again? :(  I'd
just wrote several mails to my frieds to sign my new UIDs, and I have to
revoke it now?  That's not reasonable.  I can't find a way to manage my
secret key UIDs.  Why can public key UIDs not matching secret key UIDs?
Is there any way I can synchronize my public key UID with my secret key
UID, or simply help me add that missing one?
    Thank you for your time and patience.

@_date: 2005-05-25 21:08:13
@_author: imacat 
@_subject: Secret Key UID Missing 
Well, after some hacking, I think I'd found the answer to manuplate
the secret key UID now.  I think this worths sharing.  It may not be the
intension of the authors, but at the meanwhile while secret key UID
management is not available, this should provide some solution.  This
method should work for people want to add a secret key UID, delete a
secret key UID, or bla bla bla.  Though, GnuPG itself should provide
some way to synchronize the secret key UID with the public key UID, or
drop the secret key UID completely.
    I got the idea from this article:
    If the secret key UID is "only" created to make the listening easier,
I can reasonably assume that it is irrevelent to the corresponding
public key UID.  Then, if I backup and drop the original public key UID
that has many signatures, create a new dummy public/secret key UID pair
with exactly the same name, e-mail and comment, and replace the dummy
new public key UID with my original, backuped one, the new secret key
UID should be paired with the original, signed public key UID.  Then,
I'll have a new secret key UID to use.
    This works.  Here is the actual steps involved.
imacat ~ % gpg --edit 30B94B5C
gpg (GnuPG) 1.4.1; Copyright (C) 2005 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it
under certain conditions. See the file COPYING for details.
Secret key is available.
pub  1024D/30B94B5C  created: 2002-07-04  expires: never       usage: CS
                     trust: ultimate      validity: ultimate
sub  4096g/266EF40E  created: 2002-07-04  expires: never       usage: E
[ultimate] (1). ??? (imacat) [ultimate] (2)  ??? (imacat) Command> check
uid  ??? (imacat) sig!3        30B94B5C 2005-05-16  [self-signature]
sig!3        30B94B5C 2005-05-16  [self-signature]
sig!         11C02382 2005-05-25  Ying-Chieh Liao uid  ??? (imacat) sig!3        30B94B5C 2005-05-16  [self-signature]
sig!         11C02382 2005-05-25  Ying-Chieh Liao Command> toggle
sec  1024D/30B94B5C  created: 2002-07-04  expires: never
ssb  4096g/266EF40E  created: 2002-07-04  expires: never
(1)  ??? (imacat) Command> toggle
pub  1024D/30B94B5C  created: 2002-07-04  expires: never       usage: CS
                     trust: ultimate      validity: ultimate
sub  4096g/266EF40E  created: 2002-07-04  expires: never       usage: E
[ultimate] (1). ??? (imacat) [ultimate] (2)  ??? (imacat) Command> quit
imacat ~ % cp .gnupg/pubring.gpg .gnupg/pubring.gpg-bak
imacat ~ % gpg --edit 30B94B5C
gpg (GnuPG) 1.4.1; Copyright (C) 2005 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it
under certain conditions. See the file COPYING for details.
Secret key is available.
pub  1024D/30B94B5C  created: 2002-07-04  expires: never       usage: CS
                     trust: ultimate      validity: ultimate
sub  4096g/266EF40E  created: 2002-07-04  expires: never       usage: E
[ultimate] (1). ??? (imacat) [ultimate] (2)  ??? (imacat) Command> check
uid  ??? (imacat) sig!3        30B94B5C 2005-05-16  [self-signature]
sig!3        30B94B5C 2005-05-16  [self-signature]
sig!         11C02382 2005-05-25  Ying-Chieh Liao uid  ??? (imacat) sig!3        30B94B5C 2005-05-16  [self-signature]
sig!         11C02382 2005-05-25  Ying-Chieh Liao Command> toggle
sec  1024D/30B94B5C  created: 2002-07-04  expires: never
ssb  4096g/266EF40E  created: 2002-07-04  expires: never
(1)  ??? (imacat) Command> toggle
pub  1024D/30B94B5C  created: 2002-07-04  expires: never       usage: CS
                     trust: ultimate      validity: ultimate
sub  4096g/266EF40E  created: 2002-07-04  expires: never       usage: E
[ultimate] (1). ??? (imacat) [ultimate] (2)  ??? (imacat) Command> uid 2
pub  1024D/30B94B5C  created: 2002-07-04  expires: never       usage: CS
                     trust: ultimate      validity: ultimate
sub  4096g/266EF40E  created: 2002-07-04  expires: never       usage: E
[ultimate] (1). ??? (imacat) [ultimate] (2)* ??? (imacat) Command> deluid
Really remove this user ID? (y/N) y
pub  1024D/30B94B5C  created: 2002-07-04  expires: never       usage: CS
                     trust: ultimate      validity: ultimate
sub  4096g/266EF40E  created: 2002-07-04  expires: never       usage: E
[ultimate] (1). ??? (imacat) Command> check
uid  ??? (imacat) sig!3        30B94B5C 2005-05-16  [self-signature]
sig!3        30B94B5C 2005-05-16  [self-signature]
sig!         11C02382 2005-05-25  Ying-Chieh Liao Command> toggle
sec  1024D/30B94B5C  created: 2002-07-04  expires: never
ssb  4096g/266EF40E  created: 2002-07-04  expires: never
(1)  ??? (imacat) Command> toggle
pub  1024D/30B94B5C  created: 2002-07-04  expires: never       usage: CS
                     trust: ultimate      validity: ultimate
sub  4096g/266EF40E  created: 2002-07-04  expires: never       usage: E
[ultimate] (1). ??? (imacat) Command> adduid
Real name: ???
Email address: imacat
Comment: imacat
You are using the `utf-8' character set.
You selected this USER-ID:
    "??? (imacat) "
Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? o
You need a passphrase to unlock the secret key for
user: "??? (imacat) "
1024-bit DSA key, ID 30B94B5C, created 2002-07-04
pub  1024D/30B94B5C  created: 2002-07-04  expires: never       usage: CS
                     trust: ultimate      validity: ultimate
sub  4096g/266EF40E  created: 2002-07-04  expires: never       usage: E
[ultimate] (1). ??? (imacat) [ultimate] (2)  ??? (imacat) Command> check
uid  ??? (imacat) sig!3        30B94B5C 2005-05-16  [self-signature]
sig!3        30B94B5C 2005-05-16  [self-signature]
sig!         11C02382 2005-05-25  Ying-Chieh Liao uid  ??? (imacat) sig!3        30B94B5C 2005-05-25  [self-signature]
Command> toggle
sec  1024D/30B94B5C  created: 2002-07-04  expires: never
ssb  4096g/266EF40E  created: 2002-07-04  expires: never
(1)  ??? (imacat) (2)  ??? (imacat) Command> toggle
pub  1024D/30B94B5C  created: 2002-07-04  expires: never       usage: CS
                     trust: ultimate      validity: ultimate
sub  4096g/266EF40E  created: 2002-07-04  expires: never       usage: E
[ultimate] (1). ??? (imacat) [ultimate] (2)  ??? (imacat) Command> save
imacat ~ % cp .gnupg/pubring.gpg-bak .gnupg/pubring.gpg
cp: overwrite `.gnupg/pubring.gpg'? y
imacat ~ % gpg --edit 30B94B5C
gpg (GnuPG) 1.4.1; Copyright (C) 2005 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it
under certain conditions. See the file COPYING for details.
Secret key is available.
gpg: checking the trustdb
gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model
gpg: depth: 0  valid:   2  signed:  45  trust: 0-, 0q, 0n, 0m, 0f, 2u
gpg: depth: 1  valid:  45  signed:   0  trust: 5-, 0q, 0n, 40m, 0f, 0u
gpg: next trustdb check due at 2005-10-22
pub  1024D/30B94B5C  created: 2002-07-04  expires: never       usage: CS
                     trust: ultimate      validity: ultimate
sub  4096g/266EF40E  created: 2002-07-04  expires: never       usage: E
[ultimate] (1). ??? (imacat) [ultimate] (2)  ??? (imacat) Command> check
uid  ??? (imacat) sig!3        30B94B5C 2005-05-16  [self-signature]
sig!3        30B94B5C 2005-05-16  [self-signature]
sig!         11C02382 2005-05-25  Ying-Chieh Liao uid  ??? (imacat) sig!3        30B94B5C 2005-05-16  [self-signature]
sig!         11C02382 2005-05-25  Ying-Chieh Liao Command> toggle
sec  1024D/30B94B5C  created: 2002-07-04  expires: never
ssb  4096g/266EF40E  created: 2002-07-04  expires: never
(1)  ??? (imacat) (2)  ??? (imacat) Command> toggle
pub  1024D/30B94B5C  created: 2002-07-04  expires: never       usage: CS
                     trust: ultimate      validity: ultimate
sub  4096g/266EF40E  created: 2002-07-04  expires: never       usage: E
[ultimate] (1). ??? (imacat) [ultimate] (2)  ??? (imacat) Command> quit
imacat ~ %
Best regards,
imacat ^_*' PGP Key: <> News: Tavern IMACAT's: TLUG List Manager:

@_date: 2007-05-24 04:01:35
@_author: imacat 
@_subject: Advice Upgrading to GnuPG 2 
Dear all,
    Hi.  This is imacat from Taiwan.
    I'm currently running GnuPG 1.4.7.  It works nicely.  I'm wondering
if I should upgrade to GnuPG 2.
    I'm thinking about that, even if I installed, I may never use it. I'm used to the binary name "gpg", but not "gpg2".  And most
environments I'm working on are servers, not desktops.  I use GnuPG from
console mostly to check software package signatures, but not sign and
encrypt information.  I do not need gpg-agent at all in such cases.
    Can someone give me an advice whether I should upgrade to GnuPG 2 in
my case?  Will there be any security benefit upgrading it or not? Thank
you very much in advance.
Best regards,
imacat ^_*' PGP Key: <> News: Tavern IMACAT's: TLUG List Manager:

@_date: 2007-05-24 22:51:22
@_author: imacat 
@_subject: Advice Upgrading to GnuPG 2 
Thank you.  I shall stick with my GnuPG 1.4.7.
Best regards,
imacat ^_*' PGP Key: <> News: Tavern IMACAT's: TLUG List Manager:
