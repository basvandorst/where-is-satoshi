
@_date: 2013-12-03 12:21:26
@_author: bj 
@_subject: Windows command line to decrypt multiple files 
Hi all.  I found and modified a batch file that encrypts files prior to
sending them out.  Now we need to decrypt incoming files from another
company (encrypted with our key).  The GPG4Win GUI allows me to do this
manually but I would like to automate on a server.  The echo line below
seems to be the meat of the encrypt process.  Changing the command to
decrypt (and trying several variations) has led to failures.  Sorry I lost
the specific errors.  My technical understanding is still newby.  Can
anyone please help me?  Where is password defined?
Thanks much
*FOR /F "delims=" %%F IN ('MORE ^< "%TMP%\~encryptlist.txt"') DO (IF EXIST
%%F (ECHO Password|GPG --batch --encrypt --passphrase-fd 0 -r F75C5TE0 -o
"C:\encryptedfiles\%%F.pgp" %%F IF ERRORLEVEL == 0 DEL "%%F"))POPD*
(NEXT SECTION IS FTP TRANSFERS)

@_date: 2013-12-03 22:47:59
@_author: bj 
@_subject: Fwd: Windows command line to decrypt multiple files 
Hi.  Good catch.  I previously did not need to supply a password to
encrypt.  I know the password, just not sure where to define it with
GPG4Win or other method.  Even though the server is internal, I want it to
be secure.  I could lock down file permissions if that helps.
When I try  it gives me the following   usage: gpg [options] [filename]
I still get this putting the file at the end.
Thanks, BJ
---------- Forwarded message ----------
Am Di 03.12.2013, 12:21:26 schrieb bj:
passwort is (implicitly) defined in the keyring. The secret key is stored
encrypted. You need the passphrase in order to use the key. You must know
passphrase, you cannot get it from the GnuPG installation.
I am not familiar with that DOS / Windows stuff. Just a few comments:
1) You do not need a passphrase when you encrypt files. You need the
passphrase for signing and decrypting.
2) ECHO Password|
gpg --passphrase-fd 0 --batch -o "..." --decrypt %%F
should do.

@_date: 2013-12-04 08:11:36
@_author: bj 
@_subject: Windows command line to decrypt multiple files 
* Hi.  We are using 64bit Windows 2008 OS.  I am looking forward to your
suggestion.  Thanks*
*-------------------------- Forwarded message
Am Di 03.12.2013, 12:21:26 schrieb bj:
passwort is (implicitly) defined in the keyring. The secret key is stored
encrypted. You need the passphrase in order to use the key. You must know
passphrase, you cannot get it from the GnuPG installation.
I am not familiar with that DOS / Windows stuff. Just a few comments:
1) You do not need a passphrase when you encrypt files. You need the
passphrase for signing and decrypting.
2) ECHO Password|
gpg --passphrase-fd 0 --batch -o "..." --decrypt %%F
should do.
