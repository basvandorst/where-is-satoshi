
@_date: 2014-12-18 21:14:26
@_author: Joshua Rogers 
@_subject: latest version build error 
I'm trying to build the latest version of gnupgp from the git repo, but
I'm encountering a problem while compiling it.
It all compiles fine up until logging.c.
gcc    -g -O2 -O3 -Wall -Wcast-align -Wshadow -Wstrict-prototypes
-Wformat -Wno-format-y2k -Wformat-security -W -Wno-sign-compare
-Wno-missing-field-initializers -Wdeclaration-after-statement
-Wno-pointer-sign -Wpointer-arith   -o t-stringhelp t-stringhelp.o
t-support.o libcommon.a -lgcrypt -lassuan -L/usr/lib/x86_64-linux-gnu
-lgpg-error -L/usr/local/lib -lgpg-error
libcommon.a(libcommon_a-logging.o): In function `set_file_fd':
gnupg/common/logging.c:449: undefined reference to `gpgrt_fclose'
gnupg/common/logging.c:457: undefined reference to `_gpgrt_get_std_stream'
gnupg/common/logging.c:457: undefined reference to `gpgrt_fileno'
gnupg/common/logging.c:516: undefined reference to `gpgrt_fopencookie'
gnupg/common/logging.c:523: undefined reference to `gpgrt_setvbuf'
gnupg/common/logging.c:521: undefined reference to `_gpgrt_get_std_stream'
From a Google search, gpgrt_fclose, for example, is in libgpg-error.
# strings -a /usr/local/lib/libgpg-error.so.0 | grep 'gpgrt_fclose'
I run:
# ./configure --build=x86_64-pc-linux-gnu --enable-maintainer-mode
which outputs no errors, and this info:
        GnuPG v2.1.2 has been configured as follows:
        Revision:  5cb6df8  (23734)
        Platform:  GNU/Linux (x86_64-pc-linux-gnu)
        OpenPGP:   yes
        S/MIME:    yes
        Agent:     yes
        Smartcard: yes
        G13:       yes
        Dirmngr:   yes
        Gpgtar:    yes
        Protect tool:      (default)
        LDAP wrapper:      (default)
        Default agent:     (default)
        Default pinentry:  (default)
        Default scdaemon:  (default)
        Default dirmngr:   (default)
        Dirmngr auto start:  yes
        Readline support:    yes
        LDAP support:        yes
        DNS SRV support:     yes
        TLS support:         gnutls
Any suggestions?
P.S: Please CC me, as I'm not subscribed to this list.

@_date: 2014-12-19 17:35:55
@_author: Joshua Rogers 
@_subject: latest version build error 
I'm using
ftp://ftp.gnupg.org/gcrypt/libgpg-error/libgpg-error-1.17.tar.gz , but
still to no avail.
Is that the right package?

@_date: 2014-12-19 18:13:02
@_author: Joshua Rogers 
@_subject: latest version build error 
Ends up that I had an old installation of libgpg-error still on the box.
I just did apt-get remove libgpg-error-dev.
I did use --with-gpg-error=/usr/local (or whatever it is), which is
strange, though..
