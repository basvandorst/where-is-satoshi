
@_date: 2015-05-11 15:17:59
@_author: Josh Clearihan 
@_subject: WINDOWS - Adding passphrase to gpg via command line 
Hi all,
Windows 2012 Server
GnuPG 2.0.27
To automatically decrypt and encrypt files from cmd batch file.
I'm experiencing issues trying to decrypt a .pgp file from command line.
When running this it launches the pinentry window, manually requiring the gpg2.exe --output D:\Folder --recipient certname --decrypt If I enter the passkey manually in the pinentry box it seems to stay active for a number of minutes, allowing me to decrypt multiple files without being prompted by pinentry. However, after say 10 - 15 mins when I try to decrypt another file, the pinentry windows appears requiring manual entry again.
After researching how to set the passkey in the stdin cache I attempted gpg-preset-passphrase.exe --preset "mypassphrase"
This syntax seems correct because it does not come up invalid, it just sits there in cmd on the next line doing nothing
I manually edited my gpg-agent.conf file, it looks like this
 GPGConf ---+++
 GPGConf ---+++ 04/30/15 09:41:02 AUS Eastern Standard Time
# GPGConf edited this configuration file.
# It will disable options before this marked block, but it will
# never change anything below these lines.
I have also tried piping in my passphrase via this command, but this also launches pinentry requiring manual entry if the passphrase
echo "mypassphrase"| gpg2.exe --output D:\Folder --recipient certname --decrypt D:\Folder\*.txt.pgp
This solution was posted here
Can someone please tell me what I'm doing wrong.
Many Thanks!
Josh Clearihan
Senior Systems Administrator 858 Lorimer Street | PO Box 107
Port Melbourne, VIC 3207
T: 03 9644 6666 | D: 03 9644 6899 F: 03 9644 6622 | M: 0437 096 974 E: Josh.Clearihan at isuzu.net.au	
DISCLAIMER: Any views or opinions expressed in this communication are those of the individual sender, except where the sender specifically states them to be the views or opinions of Isuzu Australia Limited.
This communication is confidential. If you are not the intended recipient of this communication please delete and destroy all copies and contact the sender immediately. Any unauthorised form of disclosure or reproduction of this message is prohibited. Isuzu Australia Ltd does not guarantee the security of any information electronically transmitted. Isuzu Australia Ltd does not accept responsibility for any improper or incomplete transmission. Any views or opinions expressed in this communication are those of the individual sender, except where the sender specifically states them to be the views or opinions of Isuzu Australia Limited.
This communication is confidential. If you are not the intended recipient of this communication please delete and destroy all copies and contact the sender immediately. Any unauthorised form of disclosure or reproduction of this message is prohibited. Isuzu Australia Ltd does not guarantee the security of any information electronically transmitted. Isuzu Australia Ltd does not accept responsibility for any improper or incomplete transmission.

@_date: 2015-05-12 09:07:52
@_author: Josh Clearihan 
@_subject: WINDOWS - Adding passphrase to gpg via command line 
Thanks, but our requirement is that the key is secured with a passphrase.
Any other ideas into what is wrong with my coding?
Josh Clearihan
Senior Systems Administrator 858 Lorimer Street | PO Box 107
Port Melbourne, VIC 3207
T: 03 9644 6666 | D: 03 9644 6899 F: 03 9644 6622 | M: 0437 096 974 E: Josh.Clearihan at isuzu.net.au	
DISCLAIMER: Any views or opinions expressed in this communication are those of the individual sender, except where the sender specifically states them to be the views or opinions of Isuzu Australia Limited.
This communication is confidential. If you are not the intended recipient of this communication please delete and destroy all copies and contact the sender immediately. Any unauthorised form of disclosure or reproduction of this message is prohibited. Isuzu Australia Ltd does not guarantee the security of any information electronically transmitted. Isuzu Australia Ltd does not accept responsibility for any improper or incomplete transmission. -----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512
On Monday 11 May 2015 at 6:17:59 AM, in
If you set an empty passphrase for the decryption key, the pinentry
window will not appear.
