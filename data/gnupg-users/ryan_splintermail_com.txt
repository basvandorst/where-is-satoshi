
@_date: 2017-11-05 20:08:24
@_author: Ryan Beethe 
@_subject: Request for assistance 
Hi Olalere,
Three things:
1) Why are you using such and old version of GPG4WIN?  Version 2.0.4 is
from 2010...
2) What did Kleopatra say when the decryption failed?  It should say,
"Decryption Failed: xyz", where "xyz" is the reason.  It is easier to
help if you give the full failure message.
3) Also, you should check the recipient of the message.  When you try to
decrypt the file with Kleopatra, Kleopatra should say:
    Recipient: (40-character fingerprint)
and you should make sure that recipient is the same 40-character
fingerprint for the certificate you created.
On Sat, Nov 04, 2017 at 02:01:02PM +0000, olalereabass at outlook.com

@_date: 2017-11-06 18:11:56
@_author: Ryan Beethe 
@_subject: GnuPGv2 & 'pinentry' on Linux w/ remote access 
Hi Sander,
I also was frustrated with how GPG pinentry worked by default.  In
particular, I *almost* always want to use the ncurses pinentry, unless
through a key shortcut my window manager tries to call gpg (for my
password manager).  But if I want to encrypt a file with mutt, I don't
want a popup!  I hate popups!
What I did was write a custom pinentry wrapper, which I call rpinentry.
It just dispaches either the curses-based pinentry or a gui pinentry
based on the environment variable PINENTRY_USER_DATA which is read by
gpg and passed to the pinentry program, for jobs like this:
        if [ "$PINENTRY_USER_DATA" == "terminal" ] ; then
        # always use the terminal if one is handy
        /usr/bin/pinentry-curses
    else
        # otherwise DISPLAY info is passed on command line, just forward it
        /usr/bin/pinentry-qt "$
    fi
Then in ~/.gnupg/gpg-agent.conf I set it to be my default pinentry
    pinentry-program /path/to/rpinentry
In my ~/.bashrc I have the following two lines:
    export PINENTRY_USER_DATA="terminal"
    export GPG_TTY=$(tty)
Then in the config file for my window manager, I have the equivalent of:
    export PINENTRY_USER_DATA=qt
So this covers all of my bases.  If I do something that calls GPG from a
terminal, I get a curses-based pinentry prompt, because each individual
terminal has PINENTRY_USER_DATA set to "terminal" and GPG_TTY set
properly as soon as it is opened, thanks to my ~/.bashrc.
If my window manager does something which calls GPG (just my password
manager, really), then when the window manager spawns gpg it passes
PINENTRY_USER_DATA set to "qt" and I get a gui popup.
I think my setup might be almost a drop-in fix for your gpg-over-ssh
issue, although you will have to figure out where to set the environment
variable for your particular window manager.

@_date: 2017-11-07 12:59:23
@_author: Ryan Beethe 
@_subject: GnuPGv2 & 'pinentry' on Linux w/ remote access 
Well... it happens that when I copy your script to my archlinux machine,
everything works fine.
It also happens that when I copy your script into my ubuntu machine, I
had to change both references of `gpg` to `gpg2`, since in ubuntu gpg is
not the same program as gpg2.  I also would find it convenient to add a
`--default-recipient-self` to the `gpg2 -ea` line, but maybe that's just
me.  If the same change works for you, perhaps you have an
"alias gpg=gpg2" in your ~/.bashrc, causing your shell to behave
differently that vim?
Personally, I use a plugin ( and I
have never had problems.  Then in my ~/.vimrc, I just had to set:
    let GPGUsePipes=1
    let GPGDefaultRecipients=['my.email at address.com']

@_date: 2017-11-08 05:28:44
@_author: Ryan Beethe 
@_subject: GnuPGv2 & 'pinentry' on Linux w/ remote access 
Yes, I reset my gpg-agent (killall -1 gpg-agent) each time, and was
prompted with a pinentry prompt each time.
Hm... now that I think about it I think the pinentry prompt has been
broken in my vim with that plugin for some time (due to improper
handling of stderr from the looks of it).  It just hasn't bothered me
because I almost never use vim until after I have entered the gpg
password for something else.
So it might be worth a shot but I can't make any promises.

@_date: 2017-09-12 14:07:25
@_author: ryan@splintermail.com 
@_subject: Explicit command for particular behavior 
Hi Gnupg-Users,
I am developing an email service that automatically gpg-encrypts all
email that a user recieves before it is written to disk.  To manage this
reasonably, I was developing a tool for users to submit their public
key, as output from:
  gpg --export --armored some_key_id  >  keyfile
But then I wanted perform some basic checks on the file submitted, and I
found this fantastic behavior:
  cat keyfile | gpg --with-colons --with-fingerprints
which outputs something that is stable and easily parsable.  Except...
It also gives me the following error:
  gpg: WARNING: no command supplied.  Trying to guess what you mean ...
But I tried literally every command from `gpg --dump-options`, and
nothing replicated the output I needed without the same error.
So... is there a command that explicitly calls for the behavior I want?
PS: I also discovered that gpgme is the "correct answer" to my problem,
but nonetheless I am curious why there is no command for this desired
