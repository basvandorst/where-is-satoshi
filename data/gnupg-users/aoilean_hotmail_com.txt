
@_date: 2011-04-07 04:36:31
@_author: 123098 
@_subject: gpg: encryption failed: public key not found 
I've made a script that (among other things) encrypts some sensitive data
that I have to send afterwards to a different user on a different computer.
If I encrypt the data by command-line I have no problem at all and
everything goes smoothly. However, when I try to get cron to run the script,
I get the error:
gpg: [Recipient's_ID]: skipped: public key not found
gpg: [Filename]: encryption failed: public key not found
I encrypt the data with the recipient's public key, that is included in my
keyring (I can see it if I list them), and that I signed with my own key.
The syntax that I use is:
gpg --encrypt -r "[Recipient's_ID]" [Filename]
I don't have a clue of what the problem might be, since cron is running as
root and therefore has access to the key's location, and as I said before I
have no problem running the same script manually.
Thanks in advance for your help.

@_date: 2011-04-11 12:08:31
@_author: 123098 
@_subject: gpg: encryption failed: public key not found 
Sorry everyone because I should have made this clear on my first post: when I
say "I", I mean root. I log in that computer as sysadmin, so I do all my
work there as root. That's why I don't understand what the problem is.
There's only one keyring, containing root's keys and the recipient's public
key (signed with root's key so it's trusted).
The only thing I didn't think of is to mark it as trusted-key. I didn't
think it was of any use since I thought that signing it with root's key
would solve the trust issue, and anyway the problem is that gpg can't locate
the key, but I can try it tomorrow at work just in case.

@_date: 2011-04-18 02:55:55
@_author: 123098 
@_subject: gpg: encryption failed: public key not found 
No point in arguing about that. I agree with you about the privileges, but
it's not my call to make. I've just been given that machine (external to the
company), no power to change anything, and one command: "Make it work". So that's my only concern right now. I've triple-checked everything and I
really think I have everything right, so it either must be some truly stupid
stupid thing that I still missed or a bug. It's probably the first one, but
I'd appreciate any more ideas you can have about what could be wrong.
Thanks a lot
