
@_date: 2000-08-23 15:49:13
@_author: David Hallinan 
@_subject: compression [manpage prob?] 
[I'm using gpg 1.0.2.]
I think I found a documentation bug.  According to rfc2440,
the compression algorithm id's are as follows:
  9.3. Compression Algorithms
       ID           Algorithm
       --           ---------
       0          - Uncompressed
       1          - ZIP (RFC 1951)
       2          - ZLIB (RFC 1950)
       100 to 110 - Private/Experimental algorithm.
   Implementations MUST implement uncompressed data. Implementations
   SHOULD implement ZIP. Implementations MAY implement ZLIB.
The software appears to be using zip (id 1) by default -- at least
on signature only packets.  The manpage says algorithm 2 is the
default.  The manpage also says that algorithm 1 is zlib, but rfc2440
says zlib is algorithm 2.  I'm guessing that the software is correct
and the manpage just needs to have some of it's numbers swapped
Here's the text from the manpage:
 --compress-algo n
    Use compress algorithm  n. Default is 2 which is RFC1950 com-
    pression.  You may use 1 to use the old zlib version which is
    used by PGP. The default algorithm may  give  better  results
    because  the window size is not limited to 8K. If this is not
    used the OpenPGP behavior is used, i.e. the compression algo-
    rithm is selected from the preferences; note, that this can't
    be done if you do not encrypt the data.

@_date: 2000-08-23 15:49:13
@_author: David Hallinan 
@_subject: compression [manpage prob?] 
[I'm using gpg 1.0.2.]
I think I found a documentation bug.  According to rfc2440,
the compression algorithm id's are as follows:
  9.3. Compression Algorithms
       ID           Algorithm
       --           ---------
       0          - Uncompressed
       1          - ZIP (RFC 1951)
       2          - ZLIB (RFC 1950)
       100 to 110 - Private/Experimental algorithm.
   Implementations MUST implement uncompressed data. Implementations
   SHOULD implement ZIP. Implementations MAY implement ZLIB.
The software appears to be using zip (id 1) by default -- at least
on signature only packets.  The manpage says algorithm 2 is the
default.  The manpage also says that algorithm 1 is zlib, but rfc2440
says zlib is algorithm 2.  I'm guessing that the software is correct
and the manpage just needs to have some of it's numbers swapped
Here's the text from the manpage:
 --compress-algo n
    Use compress algorithm  n. Default is 2 which is RFC1950 com-
    pression.  You may use 1 to use the old zlib version which is
    used by PGP. The default algorithm may  give  better  results
    because  the window size is not limited to 8K. If this is not
    used the OpenPGP behavior is used, i.e. the compression algo-
    rithm is selected from the preferences; note, that this can't
    be done if you do not encrypt the data.

@_date: 2000-01-10 14:19:15
@_author: David Hallinan 
@_subject: probs w/ uncompressed encapsulating signature files 
I'm signing some files without compression, but gpg is then
having problems verifying its own output.  I've hand parsed
gpg's output using rfc 2440, and it looks fine.  The output
is a one pass signature packet, followed by a literal data
packet (with binary data), followed by a signature packet.
Here's how to repeat the problem:
% gpg --version
gpg (GnuPG) 1.0.0
% gpg -s -z 0 testfile
% gpg --verify testfile.gpg
gpg: no valid OpenPGP data found.
gpg: verify signatures failed: eof
% gpg --list-packets testfile.gpg
gpg: no valid OpenPGP data found.
gpg: processing message failed: eof
Let me know if you need more data, want me to try on a
newer version of gpg, or if I'm just misunderstanding some
of gpg's command line options.
- Dave

@_date: 2000-01-10 14:19:15
@_author: David Hallinan 
@_subject: probs w/ uncompressed encapsulating signature files 
I'm signing some files without compression, but gpg is then
having problems verifying its own output.  I've hand parsed
gpg's output using rfc 2440, and it looks fine.  The output
is a one pass signature packet, followed by a literal data
packet (with binary data), followed by a signature packet.
Here's how to repeat the problem:
% gpg --version
gpg (GnuPG) 1.0.0
% gpg -s -z 0 testfile
% gpg --verify testfile.gpg
gpg: no valid OpenPGP data found.
gpg: verify signatures failed: eof
% gpg --list-packets testfile.gpg
gpg: no valid OpenPGP data found.
gpg: processing message failed: eof
Let me know if you need more data, want me to try on a
newer version of gpg, or if I'm just misunderstanding some
of gpg's command line options.
- Dave
