
@_date: 2003-12-10 21:50:10
@_author: Malte Gell 
@_subject: RSA key size restriction? 
Am Dienstag, 9. Dezember 2003 09:18 schrieb Ludwig H?gelsch?fer:
What is a reasonable size? I think a 4096 bit RSA key provides security that may be far beyond what most people need. But think of a 30 year old human rights activist in a dictatorship, "they" may use force to get the information they want, but it may be possible they just collect every encrypted communication and wait until it's feasible to reveal the information and so the life of this person can be endangered 20, 30 years later. Can you guarantee that a 4096 bit key will still be safe in 3,4 decades from now? With a 8k or even 16k key the probability would certainly be much higher.
Though, only very few people may need such security for them it'd be nice to be sure that their information are kept secret as long as they live and beyond... Maybe, such key sizes would be a nice extension for the --expert option :-)

@_date: 2003-12-11 13:52:58
@_author: Malte Gell 
@_subject: RSA key size restriction? 
ACK, there's just the hope who uses "--expert" will know what he/she is doing... of course, you're right whith signatures, it would be much much bigger then the message itself and hardly any gain in security.
Totally true, whoever wants such keys will be able to create them easily. Maybe the question about key sizes gets philosphical beyond a certain length rather then reasonable.

@_date: 2003-12-11 14:11:32
@_author: Malte Gell 
@_subject: RSA key size restriction? 
Am Donnerstag, 11. Dezember 2003 08:54 schrieb Adrian von Bidder:
Actually, first I didn't want to join this kind of discussion, because I think similar about this like you and David Shaw.
I just wanted to find an example that may show that there's information that may keep its value at the same level of a very long time and such information may require such protection, though an 8k key looks pretty much ridiculous from todays point of view. A nice lesson again that key size is not necessarily the weakest point.

@_date: 2003-12-15 19:18:18
@_author: Malte Gell 
@_subject: Change comments? 
Am Montag, 15. Dezember 2003 15:40 schrieb David Shaw:
Would it be a bad idea to change this? For instance I have a key solely to use with ICQ and its comment string contains the ICQ UIN. Should the UIN ever change I had to add a new dummy uid to create a new comment string with the new UIN. IF the comment string could be edited this wouldn't be necessary. What do you think about making the comment string more flexible? Of course any change would be protected by the

@_date: 2003-12-15 23:07:32
@_author: Malte Gell 
@_subject: Change comments? 
Am Montag, 15. Dezember 2003 19:44 schrieb Neil Williams:
I overlooked this point, maybe some people don't recognize how strict the comment is bound to the id of a user and regard it as a kind of volatile information... It just may happen easily one creates a key, distributes it and thinks 2 days later "oh wait...", creating a key shouldn't be done too impatiently ;-)

@_date: 2004-04-19 00:48:18
@_author: Malte Gell 
@_subject: twofish keysize 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
Maybe he expects a performance advantage when using 128 bit keys instead of 256 bit. By the way, are there estimations how much slower a 256 bit Twofish key is? I guess one will only notice it whith huge amount of

@_date: 2004-04-22 00:10:09
@_author: Malte Gell 
@_subject: twofish keysize 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
Am Mittwoch, 21. April 2004 11:05 schrieb Werner Koch:
Isn't this issue one of the reasons why OpenPGP compresses data before encrypting it? If a large cleartext chunk contains much redundant data, compression may reduce it and helps to reduce such patterns.  So encrypting with "only" a 64 bit block size shouldn't be a problem. Is this correct?

@_date: 2004-04-22 00:28:09
@_author: Malte Gell 
@_subject: twofish keysize 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
Am Montag, 19. April 2004 09:26 schrieb Werner Koch:
Would it be much hassle to introduce 2Fish-128,196,256, just according to AES-128,196,256 to adress this? Since many encryption keys are 1024/2048 bit a 128 bit session key should be sufficient and wouldn't "waste" entropy? On the one hand asym. keys > 2048 are said to be useful only in certain situation, on the other hand PGP/GnuPG amply uses system's entropy for AES-256/Twofish(256)...(sorry for key length discussion now on the symm. side,I'll immediately duck and cover;-)

@_date: 2004-04-22 11:51:29
@_author: Malte Gell 
@_subject: AES256 vs Twofish performance (Was: twofish keysize) 
Am Donnerstag, 22. April 2004 09:01 schrieb Per Tunedal Casual:
AES-256 has 14, Twofish(256) has 16 rounds. BTW, there's some nice Information about AES at Wikipedia
Just made a quick "real-worl-test", test.tar has about 55 MB and is a tar'ed /home directory on a Linux box with different types of data. Actually Twofish was really slightly faster, this is interesting since Rijndael's believed speed was one of NISTS's major reasons why it became AES and 2Fish-256 has more rounds.
time echo test | gpg --passphrase-fd 0 --cipher-algo aes256 --symmetric real    0m28.687s
user    0m26.280s
sys     0m0.930s
time echo test |gpg --passphrase-fd 0 --cipher-algo twofish --symmetric real    0m27.055s
user    0m24.800s
sys     0m1.000s
It shows the difference is negligible and AES/Rijndael doesn't seem to be the top performer it is sometimes said to be, at least with large files. I think I may later make a test with a 1000 MB tar-file to see what happens with really large files.

@_date: 2004-04-25 15:48:28
@_author: Malte Gell 
@_subject: MUA option "encrypt to self" weakness in certain situations? 
Hash: SHA1
Many MUA's or plugins allow to encrypt a message not only to the recipient's key, but to your own key to keep the sent message secret on your own machine.
But, can this strategy be a possible weakness? When using such an option the message is now encrypted to 2 keys with the same session key: an attacker can now chose which key to attack to restore the message. Example: I have a 2048 bit ELG-E subkey and send a message to a person whose encryption key has 4096 bit, I have enabled the MUA's "encrypt to self" option. So the encrypted message contains the session key twice, encrypted to 2 keys. The overall security is now limited to the shorter key. The recipient is confident his long key protects the message to him, but actually the "encrypt to self" option limits this protection to the shorter key.
This could mean that if someone (=recipient) uses a long key it may be rendered "useless" without intention if the sender has a short(er) key and uses such an "encrypt to self" option in his MUA. Is this thought

@_date: 2004-02-11 03:21:04
@_author: Malte Gell 
@_subject: 10x compression factor 
Am Dienstag, 10. Februar 2004 19:29 schrieb David Shaw:
What about bzip2 support already available with GnuPG 1.2.4? After compiling gpg 1.2.4 with it and using Z3 in a key --list-packets confirms that bzip2 was used when I tested it... or is it in such an experimental stage in gpg 1.2.4 that one shouldn't use it?

@_date: 2004-02-25 11:22:45
@_author: Malte Gell 
@_subject: gnupg-agent problem 
Am Dienstag, 24. Februar 2004 23:09 schrieb John:
What does "set | grep GPG_AGENT" say? It has to say something like this:
malte_gell set|grep AGENT
If this isn't the case, gpg-agent is either not running at all or it's not setup correctly.
Make sure gpg-agent is not running, then you could try what I have used  to start gpg-agent:
in ~/.xinitrc put the following very ugly stuff
# starting gpg-agent
if test -e ~/.gpg_agent_info; then
       .  ~/.gpg_agent_info
       else
gpg-agent --daemon --sh >>  ~/.gpg_agent_info
.  ~/.gpg_agent_info
If your distribution doesn't have ~/.xinitrc then there might be a template somewhere in /etc/X11/, but check in /etc/X11 that an existing ~/.xinitrc will be executed, otherwise you may wonder again why gpg-agent hasn't started.
Then make sure, there's a ~/.gnupg/gpg-agent.conf which may look like pinentry-program /usr/bin/pinentry-qt
default-cache-ttl 3600
Is pinentry-qt a reasonably new version? IIRC some older versions had bugs which prevented pinentry-qt from starting correctly, while gpg-agent was running correctly this looked like a broken gpg-agent, but actually it was pinentry-qt which didn't work.

@_date: 2004-03-10 00:51:51
@_author: Malte Gell 
@_subject: extensions of files when decrypting 
Am Dienstag, 9. M?rz 2004 09:44 schrieb Holger Sesterhenn:
Looks like an interesting option. But does it really work? I just played with it a bit. I encrypted a file like this:
gpg --use-embedded-filename="GnuPG-Manual.ps" -e -r 0x83171b57 After encrypting I renamed it: "mv GnuPG-Manual.ps.gpg test.gpg".
Now, since the file name is embedded "gpg test.gpg" should revover "GnuPG-Manual.ps", right? No it doesn't, the result is "test"! So embedding the file just did nothing, or have I misunderstood the purpose of --use-embedde-filename?

@_date: 2004-05-05 21:46:43
@_author: Malte Gell 
@_subject: Static Linking 
Hash: SHA1
Am Dienstag, 4. Mai 2004 16:15 schrieb Raphael Susewind:
export CFLAGS="-static"
export CXXFLAGS="-static"
then the usual steps to build gpg.
Though, I guess setting CXXFLAGS is not needed with GnuPG...?
[malte_gell ldd gpg
        not a dynamic executable
Keep in mind, if there's a flaw in libc6 or elsewhere you have to build GnuPG again, because the flaw is now hardwired to your static gpg. To use GnuPG on a machine which doesn't have the things needed to build/
run GnuPG is the only reason I can imagine why to do this, or what is your reason? Under normal circumstances it shouldn't be done I think.

@_date: 2004-05-14 03:57:44
@_author: Malte Gell 
@_subject: "user4user documentation" category? 
Hash: SHA1
some people on this list have made highly useful tutorials available on their homepages. Those from Adrian and the recent from Atom Smasher may be useful for advanced gpg users first, but wouldn't it be nice to have a kind of "user4user docu" rubric at gnupg.org to make these ready to hand for frequently asked questions?

@_date: 2004-05-18 01:57:01
@_author: Malte Gell 
@_subject: GnuPG 1.2.4 fetches revoked key 
As Atom recently described it I transformed my former key 0x00FCC016 into a subkey, now with 0xABBA7881 being the new primary key id. After that I revoked the old key.
Now, SKS keyservers are able to find the primary key id if a message was signed with a subkey. The strange thing is now that gpg 1.2.4 fetches the old revoked key as well, "include-revoked" is NOT set or used.
This is confusing people who automatically fetch keys not in their keyring and wonder why the message seem to be signed with a revoked Of course, this is a "special case" if someone transforms a key into a subkey, nevertheless, GnuPG should not fetch a revoked key until told to do so, right? Is this a situation gpg is not aware of, or is it the SKS keyserver that shouldn't have sent the revoked key?
[malte_gell gpg --recv-key 0x00FCC016
gpgkeys: WARNING: this is an *experimental* HKP interface!
gpg: key 00FCC016: public key "Malte Gell " gpg: key ABBA7881: public key "[User id not found]" imported
gpg: Total number processed: 2
gpg:               imported: 2  (RSA: 1)
[malte_gell gpg --list-keys
pub  1024D/00FCC016 2002-11-09 Malte Gell which is revoked and shouldn't have been fetched?
uid                            Malte Gell sub  2048g/AE55B221 2002-11-09 [expires: 2005-01-01]
pub  4096R/ABBA7881 2004-05-12 Malte Gell uid                            Malte Gell sub  1024D/00FCC016 2002-11-09 [expires: 2005-01-01]
sub  2048g/AE55B221 2002-11-09 [expires: 2005-01-01]

@_date: 2004-05-18 15:15:15
@_author: Malte Gell 
@_subject: GnuPG 1.2.4 fetches revoked key 
Maybe I just have not correctly understood the "include-revoked" option... man gpg says
When searching for a key with --search-keys, include keys that are marked on the  keyserver  as  revoked.  Note that this option is always set when using the NAI HKP keyserver, as this  keyserver  does  not  differentiate  between  revoked and unrevoked keys."
So "include-revoked" does only effect --search-keys whereas --recv-key always fetches a revoked key, not matter if "include-revoked" is given or not. Hm.

@_date: 2004-05-18 18:35:11
@_author: Malte Gell 
@_subject: key-signing for pseudonyms 
Gpg already has the needed features to do something like this, though probably violating some principles.
You locally sign someone's key and force the export with --export-option include-local-sigs and the other person uses allow-local-sigs to import this local signature (see manpage). This way you can have your key signed without "spreading" the signatures unintentionally e.g. to keyservers. Of course it's not totally bulletproof since the recipient of such a signature can always enforce the export if he really wants to do so. How far this procedure is useful at all may is something different., it makes only sense for a closed group of people.

@_date: 2004-05-22 05:08:12
@_author: Malte Gell 
@_subject: revoked key - was: Re: key-signing for pseudonyms 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
Does this mean the attacker takes your subkey, puts it on his own key and now we have two different keys which will verify data you have signed and a third person can now only guess who really signed the data ? Frightening...
In what way does this fix change gpg's behaviour? The only way to prevent such an attack i can think of is to send some random data to the person claiming to have signed your stuff and then it gets evident that he doesn't have the secret part of that subkey. One more reason to carefully check keys...

@_date: 2004-10-04 19:46:22
@_author: Malte Gell 
@_subject: Implications of using insecure memory 
You can tell Windows to clean the swap file with a simple registry entry, see
But this is really only a minor issue concerning the severe vulnerabilities that emerged over the last few years.

@_date: 2005-02-11 18:33:39
@_author: Malte Gell 
@_subject: [Announce] Attack against OpenPGP encryption 
This is really amazing stuff. I just read their PDF and they make a suggestion how a new kind of "quick check" could like like: adding the hash of the symmetric key... I'm not a cryptologist, but this sounds absolutely crazy, this would mean in the future the security of symmetric encryption relies not only on the cipher, but on a hash algorithm... regarding the recent discussions and rumours about hash algorithms in general, is this really safer!?
Are there several different ideas what the new "quick check" could look like or is there even already a consesus what it could look like?

@_date: 2005-02-16 21:35:37
@_author: Malte Gell 
@_subject: Newsgroup signing error 
Your signature failed. Recently David reported an issue with PGP/MIME signatures and GnuPG 1.4, but this is more a MUA issue than a GnuPG issue, see his announcement from Jan-05:
It seems you use Enigmail, could post a new message to the list, but with an inline signature and not PGP/MIME signed? If this signature works then you know it's an Enigmail issue.

@_date: 2006-04-22 04:31:13
@_author: Malte Gell 
@_subject: Why are my signatures being labelled as bad? 
This is probably a Kgpg issue. The same here with "Umlauts" (? ? ?),Kgpg considers clearsigned text as bad. Example:
Cut and paste the content of this patch description into Kgpg?s internal editor and it?ll say broken signature. Download the patch description and verify it manually using "gpg --verify MozillaFirefox-52838" and you?ll see the sig is fine. There must be a nasty bug somewhere in Kgpg Trying every possible configuration, either in Kgpg or gpg.conf hasn?t

@_date: 2006-12-08 14:19:55
@_author: Malte Gell 
@_subject: [Announce] GnuPG: remotely controllable function pointer 
Hm, GnuPG 1.4.5 (unpatched)/KMail 1.8.2 reports invalid signed message... Maybe my gpg.conf is messed or is this due to changes in gpg

@_date: 2006-02-17 18:18:51
@_author: Malte Gell 
@_subject: [Announce] First release candidate for 1.4.3 available 
Is the backsign command of 1.4.3rc1 stable enough to provide existing keys with a back signature? Are there any PGP implementations that have problems with keys containing such a signature?

@_date: 2006-03-16 16:22:31
@_author: Malte Gell 
@_subject: add notation to self sig 
This notation looks interesting, does any MUA or even GnuPG directly honor it and automagically use PGP/MIME or is it more a comment for

@_date: 2006-03-27 19:52:19
@_author: Malte Gell 
@_subject: Trouble with gpgsm 
It is My_CA.pem that you can?t import into the GnuPG system, right? What happens if you try the following:
openssl pkcs12 -in My_CA.pem -export -out My_CA.p12 -nocerts -nodes
This should result in My_CA.p12 and next
gpgsm --call-protect-tool --p12-import --store My_CA.p12
Does this work? Does gpgsm --list-secret-keys list it now? _If_ this worked you can grab the public part from My_CA.pem with an editor, since it is a text file. I took this from a mini-howto that describes how to use GnuPG with X.509 certificates that some email providers

@_date: 2009-02-01 06:13:17
@_author: Malte Gell 
@_subject: trouble getting GnuPG 2.0.9 working with smartcard 
Hi there,
with hope of finding more response I place my question now here.
I have a Reiner SCT Cyberjack Secoder card reader and with the driver from Reiner SCT's web site it works now, the diagnosis tool "cyberjack" says the reader is available and accessable.
In ~/.gnupg/scdaemon.conf i specified the PCSC driver, it contains the debug-level advanced
pcsc-driver /usr/lib/readers/ifd-cyberjack.bundle/Contents/Linux/ifd-
But, when inserting a blank smartcard i only get the following:
1[root at linux-61r3]4339-06:06~> gpg --card-status
can't connect to `/root/.gnupg/S.gpg-agent': Connection refused
scdaemon[28645]: listening on socket `/tmp/gpg-Gxylwx/S.scdaemon'
scdaemon[28645]: handler for fd -1 started
scdaemon[28645]: error sending PC/SC OPEN request: Broken pipe
scdaemon[28645.0] DBG: -> OK GNU Privacy Guard's Smartcard server ready
scdaemon[28645.0] DBG: <- GETINFO socket_name
scdaemon[28645.0] DBG: -> D /tmp/gpg-Gxylwx/S.scdaemon
scdaemon[28645.0] DBG: -> OK
scdaemon[28645.0] DBG: <- OPTION event-signal=12
scdaemon[28645.0] DBG: -> OK
scdaemon[28645.0] DBG: <- SERIALNO
scdaemon[28645]: no supported card application found: General error
scdaemon[28645.0] DBG: -> ERR 100663297 General error gpg-agent[28644]: command learn failed: General error
gpg: OpenPGP card not available: General error
[2]1[root at linux-61r3]4340-06:07~> scdaemon[28645.0] DBG: <- RESTART
scdaemon[28645.0] DBG: -> OK
scdaemon[28645.0] DBG: <- [EOF]
scdaemon[28645]: handler for fd -1 terminated
scdaemon[28645]: scdaemon (GnuPG) 2.0.9 stopped
In my naive thoughts I hoped to be able to "format" a blank card to put my key on it. Is this now a driver / GnuPG vs card reader issue or is it not possible to just use any blank smart card (it is a 8 kB smartcard from Atmel it seems)

@_date: 2009-02-05 22:33:23
@_author: Malte Gell 
@_subject: OpenPGP card not accessible 
i made some progress with my new OpenPGP card. I can access it with gpg --card-edit but i cannot do anything, because GnuPG immediately exists and says there was no card....
gpg --card-edit first detectd the card  and then suddenly says "OpenPGP card is not available", though it is still in the card reader....
I use gpg 2.0.9 and the Reiner SCT ctapi-driver, scdaemon.conf looks like ctapi-driver libctapi-cyberjack.so
reader-port 1
The ctapi driver seem to be the only way to access the card a little bit, but it still does not work correctly...
If someone have some experience about these issues, let me know
Application ID ...: D2760001240101010001000015CB0000
Version ..........: 1.1
Manufacturer .....: PPC Card Systems
Serial number ....: 000015CB
Name of cardholder: [not set]
Language prefs ...: de
Sex ..............: unspecified
URL of public key : [not set]
Login data .......: [not set]
Signature PIN ....: forced
Max. PIN lengths .: 254 254 254
PIN retry counter : 3 3 3
Signature counter : 0
Signature key ....: [none]
Encryption key....: [none]
Authentication key: [none]
General key info..: [none]
Command> scdaemon[19663]: updating status of slot 0 to 0x0007
scdaemon[19663]: client pid is 19662, sending signal 12
scdaemon[19663.0] DBG: <- [EOF]
scdaemon[19663]: handler for fd -1 terminated
scdaemon[19663]: scdaemon (GnuPG) 2.0.9 stopped
gpg: OpenPGP card not available: IPC write error

@_date: 2009-02-06 00:46:27
@_author: Malte Gell 
@_subject: OpenPGP card not accessible 
wrote the following:
Thanx, I tried the updated GnuPG, but it still does not work, see below. You use the same driver, just a different Cyberjack reader, so my guess is, it is the reader that makes trouble. It is a Cyberjack Secoder, released in 2008, maybe it is too new to work correctly with the delivered ctapi driver. Since your Cyberjack and the ctapi driver works it may be more likely it is the Secoder that is not properly supported by the current ctapi driver...
1[root at linux-61r3]4877-00:34~> gpg --card-edit can't connect to `/root/.gnupg/S.gpg-agent': Connection refused
scdaemon[7910]: listening on socket `/tmp/gpg-PdOdAU/S.scdaemon'
scdaemon[7910]: handler for fd -1 started                       scdaemon[7910]: reader slot 0: Processor ICC present            scdaemon[7910]: slot 0: ATR=3B FA 13 00 FF 81 31 80 45 00 31 C1 73 C0 01 00 00 90 00 B1
scdaemon[7910.0] DBG: -> OK GNU Privacy Guard's Smartcard server ready                 scdaemon[7910.0] DBG: <- GETINFO socket_name                                           scdaemon[7910.0] DBG: -> D /tmp/gpg-PdOdAU/S.scdaemon                                  scdaemon[7910.0] DBG: -> OK                                                            scdaemon[7910.0] DBG: <- OPTION event-signal=12                                        scdaemon[7910.0] DBG: -> OK                                                            scdaemon[7910.0] DBG: <- SERIALNO                                                      scdaemon[7910]: AID: D2 76 00 01 24 01 01 01 00 01 00 00 15 CB 00 00                   scdaemon[7910]: Version-2 ......: no                                                   scdaemon[7910]: Get-Challenge ..: yes (0 bytes max)                                    scdaemon[7910]: Key-Import .....: yes
scdaemon[7910]: Change-Force-PW1: yes
scdaemon[7910]: Private-DOs ....: yes
scdaemon[7910]: Algo-Attr-Change: no
scdaemon[7910]: SM-Support .....: no
scdaemon[7910]: Max-Cert3-Len ..: 0
scdaemon[7910]: Max-Cmd-Data ...: 0
scdaemon[7910]: Max-Rsp-Data ...: 0
scdaemon[7910]: Cmd-Chaining ...: no
scdaemon[7910]: Ext-Lc-Le ......: no
scdaemon[7910]: Status Indicator: 00
scdaemon[7910]: GnuPG-No-Sync ..: no
scdaemon[7910]: GnuPG-Def-PW2 ..: no
scdaemon[7910]: Key-Attr-sign ..: RSA, n=1024, e=32, fmt=std
scdaemon[7910]: Key-Attr-encr ..: RSA, n=1024, e=32, fmt=std
scdaemon[7910]: Key-Attr-auth ..: RSA, n=1024, e=32, fmt=std
scdaemon[7910]: DBG: USING application context (refcount=1) (new)
scdaemon[7910.0] DBG: -> S SERIALNO XXXXXXXXXXXXXXXXXXXX
scdaemon[7910.0] DBG: -> OK
scdaemon[7910]: updating slot 0 status: 0x0000->0x0007 (0->1)
scdaemon[7910]: sending signal 12 to client 7909
scdaemon[7910.0] DBG: <- [EOF]
scdaemon[7910]: handler for fd -1 terminated
gpg: OpenPGP card not available: End of file
Command> scdaemon[7910]: scdaemon (GnuPG) 2.0.10 stopped
gpg: OpenPGP card not available: IPC write error
Command> quit

@_date: 2009-02-06 01:41:41
@_author: Malte Gell 
@_subject: OpenPGP card not accessible 
Am Donnerstag, 5. Februar 2009 23:13:08 schrieb Wolfgang Rosenauer:
As written previously, it has not helped, I have now tried to use the pc/sc driver and pcsc daemon, to no avail, output below.....
1[root at linux-61r3]4937-01:39~> gpg --card-edit  can't connect to `/root/.gnupg/S.gpg-agent': Connection refused
scdaemon[20981]: listening on socket `/tmp/gpg-lPsvco/S.scdaemon'
scdaemon[20981]: handler for fd -1 started                       scdaemon[20981]: reader slot 0: not connected                    scdaemon[20981]: slot 0: ATR=3B FA 13 00 FF 81 31 80 45 00 31 C1 73 C0 01 00 00 90 00 B1
scdaemon[20981.0] DBG: -> OK GNU Privacy Guard's Smartcard server ready                 scdaemon[20981.0] DBG: <- GETINFO socket_name                                           scdaemon[20981.0] DBG: -> D /tmp/gpg-lPsvco/S.scdaemon                                  scdaemon[20981.0] DBG: -> OK                                                            scdaemon[20981.0] DBG: <- OPTION event-signal=12                                        scdaemon[20981.0] DBG: -> OK                                                            scdaemon[20981.0] DBG: <- SERIALNO                                                      scdaemon[20981]: AID: D2 76 00 01 24 01 01 01 00 01 00 00 15 CB 00 00                   scdaemon[20981]: Version-2 ......: no                                                   scdaemon[20981]: Get-Challenge ..: yes (0 bytes max)                                    scdaemon[20981]: Key-Import .....: yes                                                  scdaemon[20981]: Change-Force-PW1: yes                                                  scdaemon[20981]: Private-DOs ....: yes                                                  scdaemon[20981]: Algo-Attr-Change: no                                                   scdaemon[20981]: SM-Support .....: no                                                   scdaemon[20981]: Max-Cert3-Len ..: 0                                                    scdaemon[20981]: Max-Cmd-Data ...: 0                                                    scdaemon[20981]: Max-Rsp-Data ...: 0                                                    scdaemon[20981]: Cmd-Chaining ...: no                                                   scdaemon[20981]: Ext-Lc-Le ......: no                                                   scdaemon[20981]: Status Indicator: 00                                                   scdaemon[20981]: GnuPG-No-Sync ..: no                                                   scdaemon[20981]: GnuPG-Def-PW2 ..: no                                                   scdaemon[20981]: Key-Attr-sign ..: RSA, n=1024, e=32, fmt=std                           scdaemon[20981]: Key-Attr-encr ..: RSA, n=1024, e=32, fmt=std                           scdaemon[20981]: Key-Attr-auth ..: RSA, n=1024, e=32, fmt=std                           scdaemon[20981]: DBG: USING application context (refcount=1) (new)                      scdaemon[20981.0] DBG: -> S SERIALNO xxxx                 scdaemon[20981.0] DBG: -> OK                                                            scdaemon[20981.0] DBG: <- LEARN --force                                                 scdaemon[20981.0] DBG: -> S SERIALNO xxxx                 scdaemon[20981.0] DBG: -> S APPTYPE OPENPGP                                             scdaemon[20981.0] DBG: -> S EXTCAP gc=1+ki=1+fc=1+pd=1+mcl3=0                           scdaemon[20981.0] DBG: -> S DISP-NAME                                                   scdaemon[20981.0] DBG: -> S DISP-LANG de                                                scdaemon[20981.0] DBG: -> S DISP-SEX 9                                                  scdaemon[20981.0] DBG: -> S PUBKEY-URL                                                  scdaemon[20981.0] DBG: -> S CHV-STATUS +0+254+254+254+3+3+3                             scdaemon[20981.0] DBG: -> S SIG-COUNTER 0                                               scdaemon[20981.0] DBG: -> S PRIVATE-DO-1                                                scdaemon[20981.0] DBG: -> S PRIVATE-DO-2                                                scdaemon[20981]: reading public key failed: Missing item in object                      scdaemon[20981]: reading public key failed: Missing item in object
scdaemon[20981]: reading public key failed: Missing item in object
scdaemon[20981.0] DBG: -> OK
gpg-agent[20980]: card has S/N: (XXXXXXed by me)
Application ID ...: XXXXXX
Version ..........: 1.1
Manufacturer .....: PPC Card Systems
Serial number ....: 000015CB
Name of cardholder: [not set]
Language prefs ...: de
Sex ..............: unspecified
URL of public key : [not set]
Login data .......: [not set]
Signature PIN ....: forced
Max. PIN lengths .: 254 254 254
PIN retry counter : 3 3 3
Signature counter : 0
Signature key ....: [none]
Encryption key....: [none]
Authentication key: [none]
General key info..: [none]
Command> scdaemon[20981]: updating slot 0 status: 0x0000->0x0007 (0->1)
scdaemon[20981]: sending signal 12 to client 20980
scdaemon[20981.0] DBG: <- [EOF]
scdaemon[20981]: handler for fd -1 terminated
scdaemon[20981]: scdaemon (GnuPG) 2.0.10 stopped
gpg: OpenPGP card not available: IPC write error

@_date: 2009-02-07 21:33:04
@_author: Malte Gell 
@_subject: (SOLVED) Re: OpenPGP card not accessible 
For whom it may concern and Google cache:
 I found the source of trouble. I had to give one additional parameter to gpg-
agent: --scdaemon-program /usr/bin/scdaemon
After specifying this parameter I was able to successfully access the openPGP card with pcsc drivers and a Reiner SCT e-com.
On e.g. openSUSE open /etc/X11/xdm/sys.xsession and look for the line that starts with "set -- $gpgagent --sh --daemon.........." add to this line:
--scdaemon-program /usr/bin/scdaemon
and the error described below is gone. Am Donnerstag, 5. Februar 2009 22:33:23 schrieb Malte Gell:

@_date: 2009-02-07 21:50:20
@_author: Malte Gell 
@_subject: openPGP card, cant change admin pin 
Hi there,
i wanted to change the pins of my new card and invoked gpg --change-pin I was able to select point one, was asked for the old pin and entered the new one and affirmed. Then I chose point three "change Admin PIN", but gpg said "no permission"!? How can I now change the admin pin and why did gpg not allow to change it?
By the way, does gpg explicitly say when it needs the "normal" pin and the admin pin? Does th card become useless after three times wrong pin?

@_date: 2009-02-08 00:12:16
@_author: Malte Gell 
@_subject: openPGP card, cant change admin pin 
Am Samstag, 7. Februar 2009 21:50:20 schrieb Malte Gell:
gpg --card-edit
then asked for the PIN, default pin "123456" entered
asked for the new pin, new pin entered twice
and then this
"Error changing the PIN: Conditions of use not satisfied"
When I try to change the admin pin something similar, "permission denied". What is wrong, why can't I change the pins?

@_date: 2009-02-08 09:29:38
@_author: Malte Gell 
@_subject: openPGP card, cant change admin pin, can't change name 
Am Sonntag, 8. Februar 2009 00:12:16 schrieb Malte Gell:
Too stupid, the pin needs to be 6 digits of course..
does still now work, what is wrong there, why don't I have the permission to change the admin pin?
2[malte_gell at linux-61r3]4867 09:25~> gpg --change-pin
gpg: OpenPGP card no. XXXXX detected
1 - change PIN
2 - unblock PIN
3 - change Admin PIN
4 - set the Reset Code
Q - quit
Your selection? 3
Error changing the PIN: Permission denied
The same happens when trying to change the name:
Command> name
Cardholder's surname: Gell
Cardholder's given name: Malte
gpg: error setting Name: Permission denied

@_date: 2009-02-08 18:25:42
@_author: Malte Gell 
@_subject: openPGP card, cant change admin pin, can't change name 
Am Sonntag, 8. Februar 2009 10:26:24 schrieb Benjamin Donnachie:
Thanx for that hint, actually, I do read manpages and I knew that option before and played with it, I don't know why it has not worked before, I put it in scdaemon.conf and it works now. Fine :-)

@_date: 2009-02-10 08:34:58
@_author: Malte Gell 
@_subject: (SOLVED) Re: OpenPGP card not accessible 
Am Samstag, 7. Februar 2009 21:33:04 schrieb Malte Gell:
Further investigation showed, this did not help, but something different has helped finally:
1. killing running gpg-agent
2. starting gpg-agent again
eval $(gpg-agent --daemon)
And now, gpg --card-edit works and the "missing card" error disappeared.

@_date: 2009-02-10 09:51:03
@_author: Malte Gell 
@_subject: More than one key on openPGP card? 
can the openPGP card store more than one key? If yes, how many can be stored?
Will the forthcoming cards version 2.0 differ from 1.1 in that aspect?

@_date: 2009-02-10 16:14:54
@_author: Malte Gell 
@_subject: (SOLVED) Re: OpenPGP card not accessible 
Am Dienstag, 10. Februar 2009 11:34:03 schrieb Werner Koch:
Ok. I put that in a script, may need from time to time...
Well, I have only one version installed, not parallel installation or other strange things...

@_date: 2009-02-10 17:38:41
@_author: Malte Gell 
@_subject: OpenPGP card not accessible 
Am Dienstag, 10. Februar 2009 11:34:03 schrieb Werner Koch:
Hm, I don't buy it...... I continued to try things, the strange behaviour continues, now my openPGP card is shown as empty:
2[malte_gell at linux-61r3]5438 17:34~> gpg --card-status
Application ID ...: D2760001240101010001000015CB0000
Version ..........: 1.1
Manufacturer .....: PPC Card Systems
Serial number ....: 000015CB
Name of cardholder: [nicht gesetzt]
Language prefs ...: [nicht gesetzt]
Sex ..............: unbestimmt
URL of public key : [nicht gesetzt]
Login data .......: [nicht gesetzt]
Signature PIN ....: zwingend
Max. PIN lengths .: 0 0 0
PIN retry counter : 0 0 0
Signature counter : 0
Signature key ....: [none]
Encryption key....: [none]
Authentication key: [none]
General key info..: [none]
I DO have keys on this card, minutes ago everything worked fine, now the card is shown like it was empty...
Doesn't look this strange behaviour like a bug? It does not see my key on the card sometimes.

@_date: 2009-02-10 20:14:28
@_author: Malte Gell 
@_subject: OpenPGP card not accessible 
Am Dienstag, 10. Februar 2009 18:09:58 schrieb Werner Koch:
Yes, I use pcscd, but it also occurs with only ctapi drivers. I use a Reiner SCT cyberjack ecom (class 3 with display and pinpad). OS is openSUSE 11.1 32bit. One way to try to trigger this odd behaviour was to e.g. sign something, remove the card, stop and start again pcscd daemon, or remove the card, or stop pcscd daemon and play with onlinebanking (=ctapi), start pcscd again and trying to use the openPGPcard again, it always was triggered after the card was used and some change happened, be it to remove the card use a totally different card, change driver etc.
[malte_gell at linux-61r3]5520 20:08~> rpm -qa | grep libusb
Interesting: I added "card-timeout 0" to scdaemon.conf and the last couple hours everything was fine... now I can remove the card, sign something, move the card back into the reader and it is readable, maybe found the cure... Is card-timeout 0 harmful as the manpage suggests?

@_date: 2009-02-12 09:46:23
@_author: Malte Gell 
@_subject: openPGP card: using a readers keypad instead of pinentry-qt 
being a class 3 reader, my cardreader has a keypad and a display, but gpg-
agent still invokes pinentry-qt to enter the pin. How can I change this to use the cardreader's keypad?
I have not set "--disable-keypad" in scdaemon.conf

@_date: 2009-02-12 14:45:26
@_author: Malte Gell 
@_subject: openPGP card: using a readers keypad instead of pinentry-qt 
Am Donnerstag, 12. Februar 2009 12:41:45 schrieb Werner Koch:
I see. Are there such specific requirements by different card readers that you are forced to individually test them for keypad support? Could someone who owns such a not yet supported reader help you?
...in order to get keypad support? PCSC has proven to be most reliable to me... I have not been able to get the CCID running. Does GnuPGs internal CCID driver run with *any* CCID cardreader?

@_date: 2009-06-06 22:52:58
@_author: Malte Gell 
@_subject: GPG4WIN and GnuPG smartcard, Claws 
Hi there!
Does the GPG4Win package support the GnuPG smartcard? Of course, given there is a reader and its driver installed first...
And, how powerful is the Claws client? Does it support multiple pop, smtp accounts and IMAP?
Thanx a lot in advance

@_date: 2009-06-08 21:44:00
@_author: Malte Gell 
@_subject: GPG4WIN and GnuPG smartcard, Claws 
Werner Koch schrieb:
Indeed, GPG4Win works very smoothly.
I see, Claws seems to have very capable filter capabilities. Ugly UI
under Windows, but powerful ;-) I noticed, it does not support SSL
encrypted transmission of pop/smtp passwords? Is this due to lack of SSL
on Windows or is this a general limitation on Claws 3.0.x that comes
with GPG4Win? This makes Claws unusable for mail providers like gmx.net
which only allow SSL secured transmission of passwords (maybe I am wrong
here and the still allow plain text, have not tested).

@_date: 2009-06-09 14:49:10
@_author: Malte Gell 
@_subject: GPG4WIN and GnuPG smartcard, Claws 
Werner Koch schrieb:
Thanx for that hint, so I will give it a try. GNUTLS is integrated in
the package I guess?
Thunderbird is just a crap, Enigmail is great, but filter capabilities
are so poor...

@_date: 2009-06-12 00:02:25
@_author: Malte Gell 
@_subject: Smartphone platforms andd gnupg 
Johannes Graumann  wrote
Though I like the idea to have GnuPG on my Nokia N82 smartphone I doubt it is really worth the effort.
These days you get powerful netbooks, sometimes even cheaper than an expensive smartphone and there you'd have GnuPG out of the box, so why fiddle with a I think bringing things like Phil Zimmermann's Zphone to a smartphone would make more sense. A free, encrypting voice over ip tool, wouldn't that make more sense on a phone?

@_date: 2009-06-29 14:43:30
@_author: Malte Gell 
@_subject: defining port number for keyserver searches 
Hi there,
when doing a keyserver search on the server side it seems port 11371 is used. I would like to define a fixed port number (the same 11371) for gpg which waits for the answer from the keyserver. Can I tell gpg at which port to listen?

@_date: 2009-06-29 15:26:17
@_author: Malte Gell 
@_subject: defining port number for keyserver searches 
David Shaw  wrote
Yep. My machine is connected to a router that blocks incoming traffic. If I could assign a fixed port for gpg --search-key I could open this port for incoming traffic. At the moment gpg uses a different port each time i use gpg --
search-key for incoming traffic and so i cant specify a rule.
The funny thing I dont understand, when surfing the web, Firefox of course also uses high ports for receiving data and these don't get blocked...(which is not desired of course)

@_date: 2009-06-29 15:38:07
@_author: Malte Gell 
@_subject: defining port number for keyserver searches 
David Shaw  wrote
Oh no... can it be, subkeys.pgp.net is down currently? I think I don't have a port filtering issue, the keyserver seems to be down!

@_date: 2010-07-23 00:13:24
@_author: Malte Gell 
@_subject: Using pinentry-curses interactively in Linux boot process fails 
Hi there!
I have the following setup: a Linux luks encrypted partition. It is encrypted with a keyfile, the keyfile itself is GnuPG encrypted and stored in /root
Now I have a smartcard reader and a OpenPGP card, so I want to decrypt the keyfile, enter the card's PIN and that's it. I wrote a little init script. Actually, this works *after* booting. But, when using it in real world booting, it does not work.
gpg-agent is started correctly, but I see no pinentry-curses mask. What could be wrong?
These are the commands I use in my init script:
export GNUPGHOME=/root/.gnupg
gpg-agent --daemon --sh --use-standard-socket --pinentry-program gpg -d /root/Administrativa/BOOT-SCHLUESSEL-LUKS/luks-key-home-malte.bin.gpg | cryptsetup luksOpen /dev/disk/by-id/ata-WDC_WD3200BEVT-22ZCT0_WD-WXJ0A99M9523-
part6 --key-file=- cr_sda6 (this is one long line of course)
mount -o acl,user_xattr /dev/mapper/cr_sda6 /home
When I use these commands after booting, they do what I want them to do. pinentry-curses asks my PIN, I enter it and everything is fine. But when I use exactly these commands in my script, I simply get no pinentry-curses appearing on the screen...
I use GnuPG 2.0.12.

@_date: 2010-07-23 08:52:07
@_author: Malte Gell 
@_subject: Using pinentry-curses interactively in Linux boot process fails 
Grant Olson  wrote
Yes and the boot partition is not encrypted, only /home But I solved it. It was an init script issue. On openSUSE there is an init script "earlyxdm" and it has overridden so to say the pinentry-ncurses program. I have now edited earlyxdm and have added my own script to Requried-Start, thus earlyxdm now waits until pinentry-curses does its job. It works now. Pretty cool, I can now unlock my LUKS volume with the openPGP card, that's nerd ;-)

@_date: 2010-07-23 21:03:53
@_author: Malte Gell 
@_subject: Using pinentry-curses interactively in Linux boot process fails 
tux.tsndcb at free.fr wrote
Yes, of course. I have attached it, I named it open-luks-key. The only interesting stuff is the start and stop section. I have directly put the name of my luks partition there. It is a dumb script, does not detect anything automatically, but it works if the card reader is running fine. I even have not removed  the FOO template stuff from it :-) Ugly, but works.
The "Required-Start:" section needs to contain the PCSC daemon, that needs to run, so gpg-agent can call the pinentry program.

@_date: 2010-07-24 21:53:08
@_author: Malte Gell 
@_subject: Using pinentry-curses interactively in Linux boot process fails 
Hi there,
Can you explain, why this setup is broken? The keyfile consists of 4 kBytes of random data and is encrypted with my PGP key, which itself is a 1024 bit RSA key, thus the security of my encrypted partition basially is as secure as my PGP key.
The idea behind the whole thing is, that the openPGP pin is much easier to enter than a long password/phrase and if you use the openPGP card you simply need a keyfile to have a token that you use openPGP upon.
I'm sorry, but this is pure nonsense. This setup is secure. The keyfile is openPGP encrypted and when decrypted, it is piped to the cryptsetup command. There is no security hole. An attacker who gains access to the hard drive would have to break the openPGP encrypted keyfile.
Well, I now achieved what I wanted to achieve. The number of people who own an openPGP card is very small so I think a small howto would be enough for these

@_date: 2011-01-16 06:12:42
@_author: =?utf-8?B?TWFsdGUgR2VsbA==?= 
@_subject: =?utf-8?B?T3BlblBHUCBmb3IgQW5kcm9pZA==?= 
Hi there,
In the Android Market there is APG. Has anyone tested it? Does it import keys with subkeys? By the way, is there an app that encrypts SMS with APG?

@_date: 2011-03-16 19:31:30
@_author: Malte Gell 
@_subject: Running GnuPG smartcard with CTAPI? 
currently I have some trouble to get my Cyberjack running with PCSC. So I wonder, can GnuPG (2.0.16) also work with CTAPI drivers?

@_date: 2011-03-17 13:52:34
@_author: Malte Gell 
@_subject: Running GnuPG smartcard with CTAPI? 
Am Thu, 17 Mar 2011 10:02:43 +0100
schrieb Werner Koch :
They supported Linux at least... what other brand would you recommend?
(Security class III with pinpad and display with Linux support).

@_date: 2011-03-21 21:42:30
@_author: Malte Gell 
@_subject: No changing of expiry of openPGP card? 
Hi there,
I just wanted to change the expiry of the key on my openPGP card. But
GnuPG did not let me do this, it still shows the old expiry date.
Can the expiry of the openPGP card not be changed!?

@_date: 2011-03-21 21:53:27
@_author: Malte Gell 
@_subject: No changing of expiry of openPGP card? 
Am Mon, 21 Mar 2011 21:42:30 +0100
schrieb Malte Gell :
My fault... I have forgotten to change the subkey?s expiry too......

@_date: 2012-04-12 20:38:10
@_author: Malte Gell 
@_subject: Current key servers 
Hi there,
haven?t used key servers in recent time and wonder what key servers are
recommended currently.
I have used pool.sks-keyservers.net, they were said to be okay
especially due to the subkeys issues.
Any new key servers recommended to use?
