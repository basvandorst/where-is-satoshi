
@_date: 2000-01-13 12:08:58
@_author: Chuck Robey 
@_subject: automation 
I'm trying to use gnupg for the *sole* purpose of creating secure
signatures on documents to be broadcast.  I *can't* use any system that
requires interactive entry of the passphrase each time.
Is there any way that I can stick the passphrase into a file, and get
gnnupg to read that file for it?

@_date: 2000-01-13 12:26:52
@_author: Chuck Robey 
@_subject: automation 
I think I better clarify what I wanted to get done in the previous
paragraph ... I want to be able to pass a document into gnupg via stdin,
and pass the file containing the passphrase in via an option.  I can't
pass both the document to be signed and the passphrase in on stdin, and it
would be much easier to pass in the document via stdin, so that it can be
part of a pipe.
Is that possible to perform?  Or must I delete the passphrase to get this
action (I wouldn't want to do that, but it CAN'T be interactive).

@_date: 2000-01-13 12:54:01
@_author: Chuck Robey 
@_subject: automation 
I saw this, I was hoping there might be some way not to have to pass just
the fd.  I guess not, if you're just telling me to look back there.  I'm
not too used to doing security things, I guess there must be some reason
for not allowing such a helpful option as passing in a filename.

@_date: 2000-01-19 17:06:30
@_author: Chuck Robey 
@_subject: pass phrase 
I was wondering about the access method used to get the pass phrase into
gpg.  The only method allowed is via fd, which is a major pain when using
a script language that doesn't allow direct access to fd numbers.
I know very little yet about security, but could someone please tell me
what security justification there is for making access to the passphrase
so difficult?

@_date: 2000-01-19 20:53:47
@_author: Chuck Robey 
@_subject: pass phrase 
I could do it myself in C++ or perl.  Any idea how to do it in tclsh,
short of writing an installable command in C?  In this environment, that
wouldn't be totally impossible, but certainly not my first choice.  I'm
patching gpg into a running system.  I can't find any way to access fd
numbers in tcl.

@_date: 2000-01-20 12:33:49
@_author: Chuck Robey 
@_subject: pass phrase 
I'm not, and neither do I have choice of which tool to use.  I'm using tcl
(because I'm adding gpg to a working system), it doesn't let me have the
fd's, and the only way out of it I have (because gpg gives me no option)
is to call a shell script.  That's why I was wondering why the
restriction.  If you know a way to pry fd's out of tcl, well, that'd be
appreciated.  I'm trying to see if it'd be okay to write an installable
You know, if you don't always assume others are stupid, you might have
figured that out yourself.  I did give enough info above.

@_date: 2000-01-20 13:36:26
@_author: Chuck Robey 
@_subject: pass phrase 
Using an auxiliary file seemed like a weakening of security.  I asked a
friend of mine if this was so, he agreed it wasn't so good, which is why I
wanted to avoid even the one-liner shell script I'm currently calling as a
intermediary to gpg.
Isn't there a way to suppress the argument listing?  I know that, under
FreeBSD current, you can't even see the environment unless you're root or
the owning user.

@_date: 2000-01-20 14:21:21
@_author: Chuck Robey 
@_subject: pass phrase 
I was going to say, embedding the passphrase inside the tcl script would
be even worse security ... then I noticed you used a variable ...
You mean use the script itself to read the passphrase file, then using the
piece above to do it?  Now that's a decent idea ...

@_date: 2000-01-20 16:59:05
@_author: Chuck Robey 
@_subject: pass phrase 
Yeah, that was changed in current.  There was serious discussion about
removing all access to the environment and args from ps, but it was
considered too important to sys admins to take it all out, so it was
limited to root and the owning user.  ps isn't setgid kmem anymore.

@_date: 2000-01-20 17:29:17
@_author: Chuck Robey 
@_subject: pass phrase 
Let me edit myself, because that last statement is wrong.  Ps used to get
it's stuff from /proc, that's changed.  It IS setgid, but does only show
the environment if you're the process owner or root (in -current).

@_date: 2000-01-21 01:22:50
@_author: Chuck Robey 
@_subject: Key Servers 
I was wondering about finding an explanation of what key servers are (the
general function seems obvious to me) and if there are any really large
ones.  I have to get a public key advertised, and I'm not sure what the
right venue for it would be.  It would be in support of a public FreeBSD
user's service (something for FreeBSDers .. not limited to FreeBSDers, but
others would have limited interest).
I'm handling the obvious advertising things like list announcements and
web pages, it's the key server stuff I need to find out about.

@_date: 2000-01-21 12:08:36
@_author: Chuck Robey 
@_subject: A last word on --passphrase-fd 
How does either of your two options deal with a process started on a
regular basis by cron?  No daemon to store the passphrase in ram with, and
impossible to make interactive input.

@_date: 2000-01-21 14:06:47
@_author: Chuck Robey 
@_subject: A last word on --passphrase-fd 
Uhh.  I'm not the crypto-whiz you are.  I understand (I think) the DVD
story.  Can you tell me why needing crypto signatures on output of a cron
job equates to the DVD story?  No sarcasm here, I really don't know.

@_date: 2000-01-21 14:52:03
@_author: Chuck Robey 
@_subject: pass phrase 
I ought to chime in here that Chip Christian posted a nice suggestion
which I turned into working fix; I was able to eliminate my external shell
script assist.

@_date: 2000-01-21 15:11:45
@_author: Chuck Robey 
@_subject: A last word on --passphrase-fd 
That makes sense, yes, thanks (I didn't understand "unprotected").  I am
going to use passphrases because "I was told to", but you make a good
argument, I guess.  I was told adding a passphrase in a fairly well hidden
file would *somewhat* increase it's security.  Of course, if someone gets
root on my machine, it's all up anyhow.

@_date: 2000-01-21 17:25:42
@_author: Chuck Robey 
@_subject: Key Servers 
Thanks!  Stuff like this would seem to be prime FAQ material.

@_date: 2000-01-27 01:09:40
@_author: Chuck Robey 
@_subject: --recv-keys 
The manual for this, and every bit of info about it, says I need a "key
ID" in order to get a key, but that's apparently the only time in the
entire doc that the words "key ID" are used.
If I'm wrong, can someone point me at the definition of what a key ID
is?  How do I get my own key ID?  How do I get the key ID of those keys my
friends have sent me?

@_date: 2000-01-13 12:08:58
@_author: Chuck Robey 
@_subject: automation 
I'm trying to use gnupg for the *sole* purpose of creating secure
signatures on documents to be broadcast.  I *can't* use any system that
requires interactive entry of the passphrase each time.
Is there any way that I can stick the passphrase into a file, and get
gnnupg to read that file for it?

@_date: 2000-01-13 12:26:52
@_author: Chuck Robey 
@_subject: automation 
I think I better clarify what I wanted to get done in the previous
paragraph ... I want to be able to pass a document into gnupg via stdin,
and pass the file containing the passphrase in via an option.  I can't
pass both the document to be signed and the passphrase in on stdin, and it
would be much easier to pass in the document via stdin, so that it can be
part of a pipe.
Is that possible to perform?  Or must I delete the passphrase to get this
action (I wouldn't want to do that, but it CAN'T be interactive).

@_date: 2000-01-13 12:54:01
@_author: Chuck Robey 
@_subject: automation 
I saw this, I was hoping there might be some way not to have to pass just
the fd.  I guess not, if you're just telling me to look back there.  I'm
not too used to doing security things, I guess there must be some reason
for not allowing such a helpful option as passing in a filename.

@_date: 2000-01-19 17:06:30
@_author: Chuck Robey 
@_subject: pass phrase 
I was wondering about the access method used to get the pass phrase into
gpg.  The only method allowed is via fd, which is a major pain when using
a script language that doesn't allow direct access to fd numbers.
I know very little yet about security, but could someone please tell me
what security justification there is for making access to the passphrase
so difficult?

@_date: 2000-01-19 20:53:47
@_author: Chuck Robey 
@_subject: pass phrase 
I could do it myself in C++ or perl.  Any idea how to do it in tclsh,
short of writing an installable command in C?  In this environment, that
wouldn't be totally impossible, but certainly not my first choice.  I'm
patching gpg into a running system.  I can't find any way to access fd
numbers in tcl.

@_date: 2000-01-20 12:33:49
@_author: Chuck Robey 
@_subject: pass phrase 
I'm not, and neither do I have choice of which tool to use.  I'm using tcl
(because I'm adding gpg to a working system), it doesn't let me have the
fd's, and the only way out of it I have (because gpg gives me no option)
is to call a shell script.  That's why I was wondering why the
restriction.  If you know a way to pry fd's out of tcl, well, that'd be
appreciated.  I'm trying to see if it'd be okay to write an installable
You know, if you don't always assume others are stupid, you might have
figured that out yourself.  I did give enough info above.

@_date: 2000-01-20 13:36:26
@_author: Chuck Robey 
@_subject: pass phrase 
Using an auxiliary file seemed like a weakening of security.  I asked a
friend of mine if this was so, he agreed it wasn't so good, which is why I
wanted to avoid even the one-liner shell script I'm currently calling as a
intermediary to gpg.
Isn't there a way to suppress the argument listing?  I know that, under
FreeBSD current, you can't even see the environment unless you're root or
the owning user.

@_date: 2000-01-20 14:21:21
@_author: Chuck Robey 
@_subject: pass phrase 
I was going to say, embedding the passphrase inside the tcl script would
be even worse security ... then I noticed you used a variable ...
You mean use the script itself to read the passphrase file, then using the
piece above to do it?  Now that's a decent idea ...

@_date: 2000-01-20 16:59:05
@_author: Chuck Robey 
@_subject: pass phrase 
Yeah, that was changed in current.  There was serious discussion about
removing all access to the environment and args from ps, but it was
considered too important to sys admins to take it all out, so it was
limited to root and the owning user.  ps isn't setgid kmem anymore.

@_date: 2000-01-20 17:29:17
@_author: Chuck Robey 
@_subject: pass phrase 
Let me edit myself, because that last statement is wrong.  Ps used to get
it's stuff from /proc, that's changed.  It IS setgid, but does only show
the environment if you're the process owner or root (in -current).

@_date: 2000-01-21 01:22:50
@_author: Chuck Robey 
@_subject: Key Servers 
I was wondering about finding an explanation of what key servers are (the
general function seems obvious to me) and if there are any really large
ones.  I have to get a public key advertised, and I'm not sure what the
right venue for it would be.  It would be in support of a public FreeBSD
user's service (something for FreeBSDers .. not limited to FreeBSDers, but
others would have limited interest).
I'm handling the obvious advertising things like list announcements and
web pages, it's the key server stuff I need to find out about.

@_date: 2000-01-21 12:08:36
@_author: Chuck Robey 
@_subject: A last word on --passphrase-fd 
How does either of your two options deal with a process started on a
regular basis by cron?  No daemon to store the passphrase in ram with, and
impossible to make interactive input.

@_date: 2000-01-21 14:06:47
@_author: Chuck Robey 
@_subject: A last word on --passphrase-fd 
Uhh.  I'm not the crypto-whiz you are.  I understand (I think) the DVD
story.  Can you tell me why needing crypto signatures on output of a cron
job equates to the DVD story?  No sarcasm here, I really don't know.

@_date: 2000-01-21 14:52:03
@_author: Chuck Robey 
@_subject: pass phrase 
I ought to chime in here that Chip Christian posted a nice suggestion
which I turned into working fix; I was able to eliminate my external shell
script assist.

@_date: 2000-01-21 15:11:45
@_author: Chuck Robey 
@_subject: A last word on --passphrase-fd 
That makes sense, yes, thanks (I didn't understand "unprotected").  I am
going to use passphrases because "I was told to", but you make a good
argument, I guess.  I was told adding a passphrase in a fairly well hidden
file would *somewhat* increase it's security.  Of course, if someone gets
root on my machine, it's all up anyhow.

@_date: 2000-01-21 17:25:42
@_author: Chuck Robey 
@_subject: Key Servers 
Thanks!  Stuff like this would seem to be prime FAQ material.

@_date: 2000-01-27 01:09:40
@_author: Chuck Robey 
@_subject: --recv-keys 
The manual for this, and every bit of info about it, says I need a "key
ID" in order to get a key, but that's apparently the only time in the
entire doc that the words "key ID" are used.
If I'm wrong, can someone point me at the definition of what a key ID
is?  How do I get my own key ID?  How do I get the key ID of those keys my
friends have sent me?
