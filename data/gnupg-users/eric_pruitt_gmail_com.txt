
@_date: 2016-04-26 14:31:19
@_author: Eric Pruitt 
@_subject: Querying gpg-agent configuration options 
Is it possible to query the configuration of a running gpg-agent? In
particular, I would like to query the running agent to see what values
are being used for default-cache-ttl and max-cache-ttl. I have reviewed
the documentation for gpg-connect-agent and its commands but haven't
found what I'm looking for.

@_date: 2016-04-26 19:20:37
@_author: Eric Pruitt 
@_subject: Querying gpg-agent configuration options 
It's not that simple. I would also need to account for flags passed into
the application via the command line (--default-cache-ttl, etc.)  which
can also change the configuration file used. On top of that, the
configuration file does not necessarily reflect the state of the running
agent e.g. if the configuration were modified after the agent was
launched and a reload command never issued to the application or if the
configuration file was deleted. For certain desktop environments, things
are further complicated -- if I recall correctly, the GNOME keyring
doesn't necessarily read its configuration from the GPG home directory.

@_date: 2016-04-27 09:02:41
@_author: Eric Pruitt 
@_subject: Querying gpg-agent configuration options 
Per the other messages in this thread and the original post, I want to
query the options from the gpg-agent directly. Based on some
experimentation with the configuration files and strace, gpgconf doesn't
query the information from gpg-agent, it parses the configuration files
which is not what I need. Am I missing something? If it matters, the
version of gpgconf / GPG I'm using is 2.0.14.

@_date: 2016-08-15 17:36:36
@_author: Eric Pruitt 
@_subject: 2 Q's 
Following up on this, it's fairly common for people to add email headers
with information that can be used to fetch a public key. For example,
all of the emails I send using Mutt include this header:
    X-PGP-Key: There are some other variants of this header like "OpenPGP: ...", and
"PGP-Key: ..." I thought X-PGP-Key was supposed to become the standard,
but I just read an IETF draft
and it looks like "OpenPGP" is what you _should_ use, so I will probably
change mine after I do some more research.

@_date: 2016-02-19 16:09:55
@_author: Eric Pruitt 
@_subject: When to use GPG flags 
I'm writing an email client with support for PGP encrypted and signed
messages using GPG. I've noticed that GPG seems to do the right thing in
may situations regardless of the flags used which makes it hard to know
if I'm passing it the correct flags. For example, if I pipe a
clearsigned message into GPG using "gpg --decrypt", GPG verifies the
clearsigned signature and strips the "---BEGIN PGP...." and "---END
PGP..." blocks. I would expect GPG to raise an error because it doesn't
get any encrypted data. Is there some type of GPG "strict mode" that
will make GPG exit unsuccessfully if when processing certain types of
data with flags that don't match? Ignore buffer overflow and flaws in
the GPG code, Is there any danger of remote execution by piping
arbitrary messages into "gpg" without _any_ flags at all (GPG seems to
"do the right thing" in many situations when no flags are provided at

@_date: 2016-02-20 09:14:10
@_author: Eric Pruitt 
@_subject: When to use GPG flags 
As a human, this behavior is surprising and unintuitive. I use GPG
outside of email clients more often than not. I typically use
"--encrypt", "--decrypt" and any other flags I think are necessary, but
it seems like I don't actually need to bother doing that. Regardless of
how I ultimately choose to implement PGP support in my mail client, I
would still like to have the questions I asked addressed to understand
how GPG handles command line flags.

@_date: 2016-06-30 18:23:32
@_author: Eric Pruitt 
@_subject: Change agent-socket path 
For GPG 1.x, you can change this by setting the GPG_AGENT_INFO
environment variable or by using the --gpg-agent-info flag. Both of
these are documented in further detail in "man gpg." In GPG 2.x,
--gpg-agent-info is no longer used, but I think GPG_AGENT_INFO still
works; see "man gpg2" for more info.
