
@_date: 2012-02-03 14:41:53
@_author: Slawek Gonet 
@_subject: Problems with GnuPG and Smartcard (opensc + pcsc) 
I'm trying to follow this howto:
To start using my smartcard as gpg-key.
My smartcard and terminal:
- Aladdin eToken 32k Pro (initialised with pkcs15-init):
- Info : CardOS V4.2B (C) Siemens AG 1994-2005
- pkcs11-tool --module /usr/lib/opensc-pkcs11.so -L:
  Slot 1 (0x1): HP USB Smartcard Reader [HP USB Smartcard Reader] (0000000000000
    token label:   Slawomir Gonet (User PIN)
    token manuf:   OpenSC Project
    token model:   PKCS
    token flags:   login required, PIN initialized, token initialized
    serial num  :  XXXBDCXXXXX
Objects on my smartcard from pkcs15-tool -D:
  PKCS Card [Slawomir Gonet]:
  PIN [User PIN]
    Object Flags   : [0x3], private, modifiable
    ID             : 01
    Flags          : [0x32], local, initialized, needs-padding
  Private RSA Key [Private Key]
    Object Flags   : [0x3], private, modifiable
    Usage          : [0x4], sign
    Access Flags   : [0x1D], sensitive, alwaysSensitive, neverExtract, local
  Public RSA Key [Public Key]
    Object Flags   : [0x2], modifiable
    Usage          : [0x4], sign
    Access Flags   : [0x0]
  X.509 Certificate [Certificate]
    Object Flags   : [0x2], modifiable
    Authority      : no
~/.gnupg $ cat gnupg-pkcs11-scd.conf   # Log file.
  # log-file log1
  # Default is not verbose.
  # verbose
  # Default is no debugging.
  # debug-all
  # Pin cache period in seconds; default is infinite.
  # pin-cache 20
  # Comma-separated list of available provider names. Then set
  # attributes for each provider using the provider-[name]-attribute
  # syntax.
  providers opensc
  # Provider attributes (see below for detailed description)
  provider-opensc-library /usr/lib/opensc-pkcs11.so
  emulate-openpgp
  openpgp-sign XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
  openpgp-encr XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
  openpgp-auth XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
