
@_date: 2013-05-17 19:52:59
@_author: Tim Friske 
@_subject: Public sign-only RSA key not restored when importing armored backup 
when I import the armored secret key file to restore the public and
private parts of my own OpenPGP key the secret and public parts of my
primary key and subkeys are restored *except* for the public part of
my sign-only subkey. After the import the pubring.gpg file contains:
1. Certify-only primary RSA key
  (a) Encrypt-only sub-RSA key
  (b) Authenticate-only sub-RSA key
The secring.ggp file contains:
2. Certify-only primary RSA key
  (a) Sign-only sub-RSA key
  (b) Encrypt-only sub-RSA key
  (c) Authenticate-only sub-RSA key
Where is the public part of the sign-only sub-RSA key gone?
When I restore the public key from the secret key with the gpgsplit
program the previously missing public part of the sign-only sub-RSA
key is back again.
Any clues, why not the public parts of all secret (sub)keys are
restored upon import?
Many thanks in advance.
Best regards

@_date: 2013-05-18 10:42:02
@_author: Tim Friske 
@_subject: Public sign-only RSA key not restored when importing armored 
Hi Hauke,
the attached file 0x7526FBF74D4020B6.sec.asc.txt contains the secret
key material with 1 primary and 3 subkeys (R4096; C,S,E,A).
With "gpg --armor --no-default-keyring --keyring
./0x7526FBF74D4020B6.sec.asc.txt --list-keys" all keys get correctly
listed. Also when I import them into an empty pubring.gpg and
secring.gpg file for test purposes with "gpg --armor --import
0x7526FBF74D4020B6.sec.asc.txt" all keys get correctly listed with
"gpg -k" and "gpg -K".
When I now mess with the expiration dates of all keys, save those
changes, export, purge (delete-secret-and-public-keys) and re-import
them again, the sign-only sub-RSA key is gone. Why is that? I don't
Also with "gpg --list-options show-unusable-subkeys --list-keys" I
cannot resurrect the sign-only sub-RSA key. I'm left with 1 primary
and only 2 subkeys (R4096, C,E,A).
Any ideas?
Best regards
2013/5/17 Tim Friske :

@_date: 2013-05-18 11:37:52
@_author: Tim Friske 
@_subject: Fwd: Public sign-only RSA key not restored when importing armored 
I can reproduce the lost sign-only sub-RSA key behavior as follows:
When you change the expiry date of the R4096(A) subkey (key 3, expire,
e.g. 1, save), export the secret key in ASCII armored format (gpg
--armor --output 0x7526FBF74D4020B6.sec.asc.txt --export-secret-keys
0x7526FBF74D4020B6), purge it (gpg --delete-secret-and-public-keys
0x7526FBF74D4020B6) and re-import it (gpg --import
0x7526FBF74D4020B6.sec.asc.txt) the sign-only sub-RSA key is not
listed in the pubring.gpg file anymore but still in the secring.gpg
Hope this helps to explain why.
Best regards
---------- Forwarded message ----------
Hi Hauke,
the attached file 0x7526FBF74D4020B6.sec.asc.txt contains the secret
key material with 1 primary and 3 subkeys (R4096; C,S,E,A).
With "gpg --armor --no-default-keyring --keyring
./0x7526FBF74D4020B6.sec.asc.txt --list-keys" all keys get correctly
listed. Also when I import them into an empty pubring.gpg and
secring.gpg file for test purposes with "gpg --armor --import
0x7526FBF74D4020B6.sec.asc.txt" all keys get correctly listed with
"gpg -k" and "gpg -K".
When I now mess with the expiration dates of all keys, save those
changes, export, purge (delete-secret-and-public-keys) and re-import
them again, the sign-only sub-RSA key is gone. Why is that? I don't
Also with "gpg --list-options show-unusable-subkeys --list-keys" I
cannot resurrect the sign-only sub-RSA key. I'm left with 1 primary
and only 2 subkeys (R4096, C,E,A).
Any ideas?
Best regards
2013/5/17 Tim Friske :
