
@_date: 2017-12-29 01:18:27
@_author: =?utf-8?Q?Rezart_Qelibari_f=C3=BCr_GnuPG?= 
@_subject: How to batch generate ECC key 
Hi *,
I want to batch generate a key using an ECC algorithm using the following command:  $ cat config.txt | gpg ?-batch ?generate-key  config.txt contains the following:  Key-Type: eddsa  Key-Curve: ed25519
Key-Usage: sign
Subkey-Type: ecdh
Subkey-Curve: cv25519
Subkey-Usage: encrypt
Passphrase: somepassword
Name-Real: Some Real Name
Name-Email: mail at example.com
Creation-Date: 20170801T180000
Expire-Date: 0
But I always receive the following error:  gpg: agent_genkey failed: Unknown elliptic curve  gpg: key generation failed: Unknown elliptic curve
I already tried changing the key type to 22 or 18. Strangely this only happens with ed25519 or cv25519 curves while it works for nist p 256 as shown here:
Does anyone know what exactly goes wrong here?
I am using gpg 2.2.4 and libgcrypt 1.8.2.

@_date: 2017-12-29 16:53:27
@_author: =?utf-8?Q?Rezart_Qelibari_f=C3=BCr_GnuPG?= 
@_subject: How to batch generate ECC key 
Thank you so much! This did the trick! I am very impressed.
I don?t want to bother you too much, but maybe you can answer me the two follow-up questions:
- How did you find out the protocol names, especially the upper case ?E? of ?Ed25519? and that ?cv25519? is actually named ?Curve25519?? Although ?gpg --expert --full-generate-key? correctly states ??Curve 25519?, ?gpg -k? still yields ?cv25519?. I find this behaviour very strange and unwisely.
- Why do the algorithm ids (22 for ?Ed25519? and 18 for ?Curve25519?) not work?
In both cases I looked up both gpg and libgcrypt documentations and found no hint on that behaviour at all.
try:  $ cat config.txt  Key-Type: eddsa

@_date: 2017-12-29 20:33:35
@_author: =?utf-8?Q?Rezart_Qelibari_f=C3=BCr_GnuPG?= 
@_subject: How to batch generate ECC key 
Thank you Kristian for explaining and thank you Werner for implementing that so fast. You guys are awesome!
