
@_date: 2000-05-05 21:52:52
@_author: Jim Breton 
@_subject: help with directing output to remote file 
I'm trying to set up some remote tape backups and I am able to do it in
cleartext, as well as by using ssh to re-direct tar's stdout to ssh and
send the data over the wire encrypted.
However, I would ideally like to be able to write the data to the tape
with encryption as well.  But I am having a problem with the output from
gpg and from ssh interfering with each other.  Here's an example:
$ tar zxvf - /etc/passwd | gpg -c | ssh jamesb "cat > /dev/tape"
Enter passphrase: Executing /usr/local/bin/ssh1 for ssh1 compatibility.
jamesb password:
You can see where the two prompts, one from gpg and one from ssh,
overlap.  Is this due to gpg sending its prompt to stdout rather than
stderr, or is something else going on here?
Any hints on how I can make this work effectively?  I just need to be
able to answer the gpg prompt before ssh asks me for my password.
Thanks.  :)

@_date: 2000-05-05 22:55:51
@_author: Jim Breton 
@_subject: help with directing output to remote file 
Thanks for the response -- the reason for ssh though, is because the
alternative is rsh... and I'm sure I won't have to explain why I prefer
ssh over rsh.  :)
Using [r|s]sh is nice for this purpose since it can take data on stdin
and feed it directly to the remote command's stdin.

@_date: 2000-05-05 21:52:52
@_author: Jim Breton 
@_subject: help with directing output to remote file 
I'm trying to set up some remote tape backups and I am able to do it in
cleartext, as well as by using ssh to re-direct tar's stdout to ssh and
send the data over the wire encrypted.
However, I would ideally like to be able to write the data to the tape
with encryption as well.  But I am having a problem with the output from
gpg and from ssh interfering with each other.  Here's an example:
$ tar zxvf - /etc/passwd | gpg -c | ssh jamesb "cat > /dev/tape"
Enter passphrase: Executing /usr/local/bin/ssh1 for ssh1 compatibility.
jamesb password:
You can see where the two prompts, one from gpg and one from ssh,
overlap.  Is this due to gpg sending its prompt to stdout rather than
stderr, or is something else going on here?
Any hints on how I can make this work effectively?  I just need to be
able to answer the gpg prompt before ssh asks me for my password.
Thanks.  :)

@_date: 2000-05-05 22:55:51
@_author: Jim Breton 
@_subject: help with directing output to remote file 
Thanks for the response -- the reason for ssh though, is because the
alternative is rsh... and I'm sure I won't have to explain why I prefer
ssh over rsh.  :)
Using [r|s]sh is nice for this purpose since it can take data on stdin
and feed it directly to the remote command's stdin.

@_date: 2001-07-04 11:10:01
@_author: Jim Breton 
@_subject: "out of secure memory while allocating 4316 bytes" 
Hi, I am using gnupg-1.0.6 on a Debian potato system, kernel 2.4.6 (had
this problem on 2.4.5 as well).  This computer has 256 MB of RAM.
When I try to decrypt a file, I can get this error:
gpg: out of secure memory while allocating 4316 bytes
gpg: (this may be caused by too many secret keys used simultaneously or
due to excessive large key sizes)
I am using a 4096-bit key; however, I did a google search on this error
and found one other person with a similar problem:
After reading that, I tried my own and indeed, this does seem to only
occur if I fail to type my passphrase correctly the first time.
I have been compiling gnupg with the --enable-m-guard option but I just
tried a re-compile without that option and the same thing happens.
Anyone got ideas on what is going on?
I am not currently subscribed, please copy me on any responses.
Thank you.
P.S. I have not been able to find a good, detailed description of what
"m-guard" _actually_ does, is this information available somewhere?
