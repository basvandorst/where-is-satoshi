
@_date: 2020-11-17 17:37:38
@_author: Ernst G Giessmann 
@_subject: Avoid recipient-compatibility SHA1 
The answer to the second question is:
A SHA-1 collision of two documents D1 and D2 means that the hash values
Hash(D1) and Hash(D2) are equal, which in turn means that (regardless
who signs) any signature of D1 (be it OpenPGP or SMIME) can also be used
as a signature of D2. Any signer and any key, if used with SHA-1!
So if you got a harmless document D to sign, you must be sure that there
is no evil twin of it. This is usually the case if you are the author of
D, because the construction of an evil twin remains hard. But it is easy
to construct docs with the same hash value.
Am 2020-11-17 um 16:47 schrieb Stefan Claas via Gnupg-users:

@_date: 2020-11-18 15:58:18
@_author: Ernst G Giessmann 
@_subject: Avoid recipient-compatibility SHA1 
Am 2020-11-18 um 14:30 schrieb Stefan Claas:
No, here you will have no problem, because we all trust gnupg.org ;-)
They will never create two different packages with a SHA-1 collision.
The problem shows up, if Mallory creates two documents D1 and D2 being a SHA-1 collision.
D1 says that Alice will owe Bob 10 Euros, D2 says the Bob will owe Alice 1000 Euros.
Anybody who signs D1 will sign at the same time also D2.? Now I come back to your example.
Fine. Unfortunally Alice accepts SHA-1 signed messages and Bob creates signatures based on SHA-1
No, Mallory does not sign the document, instead he sends D1 to Bob and asks him for his signature.
Bob is happy because he gets 10 Euros for free from Alice and immediately signs the document D1.
Mallory replaces D1 by D2, leaving the signature untouched.
Alice will see a signed by Bob document D2 with a valid signature (due to the fact that SHA1(D1)=SHA1(D2)), where Bob confirms, that he owes Alice money.
That Bob signs another document could be proven by showing the other document D1, but which document, D1 or D2, was actually signed remains nevertheless open. In this particular case, it seems very unlikely that Bob had signed D2, but it would have been even better if he had not used SHA-1 at all. And SHA-2(D1) is certainly different from SHA-2(D2).
I suspect, that Mallory and Alice were in fact the same person ;-)
