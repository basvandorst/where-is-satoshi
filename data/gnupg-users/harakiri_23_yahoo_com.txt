
@_date: 2008-04-30 08:20:57
@_author: Harakiri 
@_subject: LDAP Basic Auth not working for key search, keyserver-options ignored! 
following the example here : i used the binddn and bindpw option to do a simple auth against an ldap server gpg.exe --keyserver ldap://localhost --keyserver-options
 "binddn=\"uid=someuser\"" --keyserver-options bindpw=somepw --keyserver-options verbose
--search-keys somemail
However - neither binddn nor bindpw is passed to the ldap server - my LDAP Server is disabled for
anonymous bind so gpg returns an error about insufficant access rights - i debugged the ldap
server and gpg never calls a bind/lookup with the credentials just :
        Base Object : 'cn=pgpServerInfo'
        Scope : base object
        Deref Aliases : never Deref Aliases
        Size Limit : no limit
        Time Limit : no limit
        Types Only : false
        Filter : '(objectClass=*)'
        Attributes : pgpBaseKeySpaceDN, software, version
What is wrong? LDAP Server Basic Auth is working fine for other clients like outlook, thunderbird
etc when searching for x509 from the same server
      ____________________________________________________________________________________
Be a better friend, newshound, and know-it-all with Yahoo! Mobile.  Try it now.

@_date: 2008-08-07 07:43:49
@_author: Harakiri 
@_subject: Multiple clients 
Anyone else is really frightend by this question and prays that your bank is not part of those that this guy is consulting?

@_date: 2008-08-19 02:52:31
@_author: Harakiri 
@_subject: Unable to run gpg command in JAVA 
All of that is still not the right way to do it, what people need to know about java is that Runtime.exec does not START a shell - i.e. its not a bash or anything you are used.
This is a very old article but still true:
there are better examples but google is your friend

@_date: 2008-05-05 02:27:43
@_author: Harakiri 
@_subject: [REPOST] LDAP Basic Auth not working for key search, 
following the example here : i used the binddn and bindpw option to do a simple auth against an ldap
 server gpg.exe --keyserver ldap://localhost --keyserver-options
 "binddn=\"uid=someuser\"" --keyserver-options bindpw=somepw
 --keyserver-options verbose
--search-keys somemail
However - neither binddn nor bindpw is passed to the ldap server - my
 LDAP Server is disabled for
anonymous bind so gpg returns an error about insufficant access rights
 - i debugged the ldap
server and gpg never calls a bind/lookup with the credentials just :
        Base Object : 'cn=pgpServerInfo'
        Scope : base object
        Deref Aliases : never Deref Aliases
        Size Limit : no limit
        Time Limit : no limit
        Types Only : false
        Filter : '(objectClass=*)'
        Attributes : pgpBaseKeySpaceDN, software, version
What is wrong? LDAP Server Basic Auth is working fine for other clients
 like outlook, thunderbird
etc when searching for x509 from the same server
Im using gnupg 1.49
      ____________________________________________________________________________________
Be a better friend, newshound, and know-it-all with Yahoo! Mobile.  Try it now.

@_date: 2009-04-21 08:25:41
@_author: Harakiri 
@_subject: GNUPG CLI endless loop when using --batch and --decrypt on detached 
When automatically processing files, i found that gnupg has an endless loop from stdin expecting something but no matter what you enter, it will never quit.
1. using -verify
gpg --no-options --batch --status-fd 2 --yes --output out.out --verify in.in.asc
gpg: no signed data
gpg: can't hash datafile: file open error
this is fine, gpg exits, and returns an error (i need to supply the signed data file)
2. using -decrypt without batch on detached signature file
gpg --no-options --status-fd 2 --yes --output out.out --decrypt in.in.asc
Detached signature.
Please enter name of data file: No such file, try again or hit enter to quit.
OK i should enter something and can quit with .
3. now using -decrypt with batch on detached signature file gpg --no-options --status-fd 2 --batch --yes --output out.out --decrypt in.in.asc
i can enter what i want - gnupg will never quit - adding --debug-all or -v doesnt reveal anything, only control c will quit - but this doesnt help in a batch processing cronjob or similar.
I know that --decrypt is not suited for detached signature files but im talking about batch processing here and i dont have control what files are were - at the very least GPG should quit with an error because of --status-fd 2. According to DETAILS.txt this would be the best case for
UNEXPECTED         Unexpected data has been encountered
            0 - not further specified               1

@_date: 2009-04-21 11:29:20
@_author: Harakiri 
@_subject: GNUPG CLI endless loop when using --batch and --decrypt on 
could you please be a bit more specific?
Im using --batch in unattended mode but when i use --decrypt on a detached signature file there is no way to quit the program except control + c - what am i supposed to do? status-fd does not indicate that this is a signature file (not encrypted) - so i cant do anything

@_date: 2009-04-22 02:17:46
@_author: Harakiri 
@_subject: GNUPG CLI endless loop when using --batch and --decrypt on 
I DO, please reread what i wrote - the problem exists because i USE batch!
I simply wanted to show how gnupg acts :
a) using -decrypt *without* batch on detached signature file
gpg --no-options --status-fd 2 --yes --output out.out --decrypt in.in.asc
Detached signature.
Please enter name of data file: No such file, try again or hit enter to quit.
OK i should enter something and can quit with .
*THIS IS FINE* Its not for unattended mode, just showing i could escape as a user with tty.
b) now using -decrypt *with* batch on detached signature file gpg --no-options --status-fd 2 --batch --yes --output out.out --decrypt in.in.asc
*THIS IS THE ISSUE* Automatic programs cannot escape this process ever.
Its an endless loop, im requested to enter something in stdin but neither enter nor a filename will quit this modus, furthermore i believe that if --decrypt and status-fd 2 recognizes a DETACHED signatur it should show some kind of status or error and then QUIT because automatic programs cannot escape this call anymore
Im perfectly aware of --batch and piping passphrases, im using gnupg for unattended decryption/verification/signing/encryption.
You dont need to, i have been using it since at least 5 years and it works perfectly till i found this case with detached signatures and --batch --decrypt

@_date: 2009-04-22 12:47:13
@_author: Harakiri 
@_subject: GNUPG CLI endless loop when using --batch and --decrypt on 
i thought the option --notty is the same as stdin /dev/null ?
I was only demonstrating with --batch --decrypt the issue - even with --notty nothing changes. Could you please try to call --batch --decrypt with a detached signature file - you will immediately see what i mean - even with --notty there is no way to escape this process without control+c

@_date: 2009-04-23 03:09:12
@_author: Harakiri 
@_subject: GNUPG CLI endless loop when using --batch and --decrypt on 
Ok, i found a similar issue in gnupg here from this user:
its exactly as described - adding "< /dev/null" to the end solves the problem.
But as the user suggested why does --batch does not take care of it? I saw that it is "expected from unix" programs to behave like this - but what about windows? there is no dev null piping - at least there should be an option because users expect that --batch will work automatically.
Furthermore there is still the issue that even with /dev/null status-fd does not tell me its a detached signature file it just asks for a public key first.

@_date: 2009-04-23 07:49:12
@_author: Harakiri 
@_subject: GNUPG CLI endless loop when using --batch and --decrypt on 
See, and this is exactly the reason why there should be an option to gnupg like --notty with --nostdin to make a generic for every platform - the caller does not really need to know about these OS specifics. He is using "--batch" as the name implies - it should be done automatically always - now i have to make a workaround because
a) GNUPG does not inform the caller via status-fd that its a detached signature and halts the processing
b) GNUPG needs "--batch" on "some" occasions to be really "batch mode" compatbile (this is undocumented and should be a flag)
c) Since i do not know in advance if it is an encrypted or detached signature file (no status output) - i may need to pipe the passphrase too - but with stdin to dev/null - i cant anymore

@_date: 2009-04-27 04:04:13
@_author: Harakiri 
@_subject: Just a thought 
Bad idea, read my comment on the bug - what good is a setting when you can only communicate with people which use GPG - and the other 80% which use PGP Desktop cant decrypt your message?

@_date: 2009-03-27 08:54:25
@_author: Harakiri 
@_subject: Signing all outgoing mails on MTA, not on MUA 
You are better off buying a comerical product, parsing e-mails specific for PGP (except pgp/mime) is not an easy task and frankly, without very good knowledge of eml standards (or richtext outlook msg format files) you will not achieve anything good
gnupg will just do the signing for you, there is no mime parser - that is your task - and its a though one

@_date: 2010-08-12 15:19:59
@_author: Harakiri 
@_subject: GPG decryption issues on WINDOWS 2003 SERVER 
This issue has nothing todo with GNUPG. This issue has also nothing todo with Windows 2003. The issue has something todo that the original author, and you dont know much about java programming at all.
I highly advice you read more about java programming, because just calling
with gpg is not gonna work, this is not a shell.
Here i give you a start
and another free advice, dont use some "java class you found on the net" to integrate in your project. A real developer would never use code he does not understand, it only leads to ugly legacy code that experienced developers have to fix after you leave.
tltr: try the java forums

@_date: 2010-03-26 14:03:54
@_author: Harakiri 
@_subject: Possible to sign &/or encrypt without importing to keyring 
if you are using bash to encrypt when not do (pseudo syntax)
gpg --public-keyring tmp_keyring --import key.asc && gpg --public-keyring tmp_keyring --encrypt myfile.txt && tmp_keyring
you can even define an alias for this in your bash.rc or either simly convert all those single public keys to single keyrings
however as already said, the keymanagement is horrible, sadly

@_date: 2010-05-10 05:23:42
@_author: Harakiri 
@_subject: genkey for DSA with 2048 bit 
the old DSA standard only supported 1024 bit, however the newer with SHA256 support 2048 and more.
I tried it with the --genkey command, i tried
Key-Type: DSA2
Key-Type: DSA-2
Key-Type: DSASHA256
no dice, how can you generate these kind of keys?
And, do old gpg versions verify such signatures correctly?

@_date: 2011-10-19 11:07:45
@_author: Harakiri 
@_subject: STEED - Usable end-to-end encryption 
Here is some input, you might not like it - but still:
I dont see any ground breaking new approaches to the topic - key search via DNS has been in commercial products for over 10 years already - nothing new - heck isnt there even an RFC that describes this?
Letting the keys automatically be generated by the client is not a new approach either commercial solutions do this too - however - did you think of the keys the user already has? His ID for example - you are sponsored by the german government - the first thing which should have come into your mind is that everybody can use his "Personalausweis" as a Smartcard because it already has a private/public keypair. Other european countries could follow...
Also - inventing just ANOTHER protocol for email encryption that mail clients should implement? Heck, the only protocol available in all major mail clients right now for out of the box encryption is only smime - for PGP you need plugins - even after so many years there is no out of the box solution for the other major standard - lets not talk about all the compatibility issues with smime in all existing clients. And you just want add another NEW standard which will solve issues? I dont think so.
Use existing tools most user have installed on his machine by default - work with these and get a suiteable end-to-end encryption going!

@_date: 2014-06-17 03:50:08
@_author: Harakiri 
@_subject: Character Encoding used for Passphrase for edit-key 
Im unable to use a key created by gnupg which contains german umlauts with other crypto libaries (bouncycastle).
It works well with non umlaut passwords.
What character encoding does gnupg use when setting/changing the passphrase ?
I tried UTF-8 but that did not work the passphrase is not recognized by bouncycastle
