
@_date: 1999-07-20 14:24:13
@_author: Matthias Urlichs 
@_subject: Encrypting Web Forms 
Michael Roth:
You can store the passphrase in a script which prompts for the secret at
system startup. That's somewhat less insecure. You can store the secret in
a program which marks itself as nonswappable. Even less insecure, though anybody with root could still attach a debugger to it and watch as it
passes the secret to gnupg. :-(
On a production system, you could recompile the kernel and disable ptrace()...
of course you'd also have to remove /dev/[k]mem, disable kernel module
loading, disable mknod(), ... ugh.

@_date: 1999-07-20 14:24:13
@_author: Matthias Urlichs 
@_subject: Encrypting Web Forms 
Michael Roth:
You can store the passphrase in a script which prompts for the secret at
system startup. That's somewhat less insecure. You can store the secret in
a program which marks itself as nonswappable. Even less insecure, though anybody with root could still attach a debugger to it and watch as it
passes the secret to gnupg. :-(
On a production system, you could recompile the kernel and disable ptrace()...
of course you'd also have to remove /dev/[k]mem, disable kernel module
loading, disable mknod(), ... ugh.

@_date: 1999-09-15 08:49:15
@_author: Matthias Urlichs 
@_subject: gpg: cannot open /dev/tty: Permission denied 
Randy Harmon:
"chmod 666 /dev/tty".
Some Linux boxes have broken permissions for that device file.

@_date: 1999-09-15 18:56:35
@_author: Matthias Urlichs 
@_subject: gpg: cannot open /dev/tty: Permission denied 
Randy Harmon:
If you're running on a web server then the web server has been putting
itself into the background, thus it doesn't have a tty, thus opening
It's probably trying to read a passphrase, confirm a key, or whatever.
ALWAYS use --batch when calling gpg from non-terminal programs.

@_date: 1999-09-16 00:33:51
@_author: Matthias Urlichs 
@_subject: gpg: cannot open /dev/tty: Permission denied 
Randy Harmon:
That's how one talks to the controlling terminal -- open /dev/tty and
read/write from there. You can't use stdin/out/err; they might be
redirected. Instead of playing games with isatty() and trying to write to
stdin (or read from stdout), gpg uses /dev/tty always. That makes sense,
I don't know. You can use truss or strace to find out what exactly gpg
writes to /dev/tty.

@_date: 1999-09-15 08:49:15
@_author: Matthias Urlichs 
@_subject: gpg: cannot open /dev/tty: Permission denied 
Randy Harmon:
"chmod 666 /dev/tty".
Some Linux boxes have broken permissions for that device file.

@_date: 1999-09-15 18:56:35
@_author: Matthias Urlichs 
@_subject: gpg: cannot open /dev/tty: Permission denied 
Randy Harmon:
If you're running on a web server then the web server has been putting
itself into the background, thus it doesn't have a tty, thus opening
It's probably trying to read a passphrase, confirm a key, or whatever.
ALWAYS use --batch when calling gpg from non-terminal programs.

@_date: 1999-09-16 00:33:51
@_author: Matthias Urlichs 
@_subject: gpg: cannot open /dev/tty: Permission denied 
Randy Harmon:
That's how one talks to the controlling terminal -- open /dev/tty and
read/write from there. You can't use stdin/out/err; they might be
redirected. Instead of playing games with isatty() and trying to write to
stdin (or read from stdout), gpg uses /dev/tty always. That makes sense,
I don't know. You can use truss or strace to find out what exactly gpg
writes to /dev/tty.

@_date: 2000-08-01 14:33:55
@_author: Matthias Urlichs 
@_subject: Problem with GPG and remailers 
This is a multi-part message in MIME format.
 name="smurf.vcf"

@_date: 2000-08-01 15:14:14
@_author: Matthias Urlichs 
@_subject: Problem with GPG and remailers 
Werner Koch:
Hmm, how about --try-all-keys or --try-all-secrets or
Alternately, it might be feasible (but slightly more programming work)
to always check all subkeys if the key with the keyid is a primary key
with the wrong algorithm..?

@_date: 2000-08-01 14:33:55
@_author: Matthias Urlichs 
@_subject: Problem with GPG and remailers 
This is a multi-part message in MIME format.
 name="smurf.vcf"

@_date: 2000-08-01 15:14:14
@_author: Matthias Urlichs 
@_subject: Problem with GPG and remailers 
Werner Koch:
Hmm, how about --try-all-keys or --try-all-secrets or
Alternately, it might be feasible (but slightly more programming work)
to always check all subkeys if the key with the keyid is a primary key
with the wrong algorithm..?

@_date: 2001-04-23 15:39:02
@_author: Matthias Urlichs 
@_subject: Re[2]: AW: GnuPG with PHP 
Everybody: Please take this discussion somewhere else.

@_date: 2001-04-30 11:42:01
@_author: Matthias Urlichs 
@_subject: Key Signing 
David Turner:
That's the only way, basically. Obviously you'll have to trust the
person not to divulge the passwort to anyone, not to use it in any
other context where it could be observed, etc., for varying levels of
paranoia.  ;-)
You might want to use a one-time-password (for example, use one of these
cool 20-faced RPG dice and ignore results >15). XORing the result of
these dice throws with the key fingerprint is left as an exercise to the

@_date: 2001-02-02 13:56:13
@_author: Matthias Urlichs 
@_subject: gpg on public system? 
Jan Petranek:
Frankly, I can't think of a better alternative.
In fact, it's basically impossible to graft a secure subsystem onto an
insecure machine if you cannot restrict access from the insecure system
in any way. A Bad Guy with root access, on a Unix box, is just the
ultimate example of this principle.

@_date: 2001-02-02 17:22:06
@_author: Matthias Urlichs 
@_subject: gpg on public system? 
Jan Petranek:
The CD-ROM idea is good and not easily improved upon.
You might want to check the machine's process list for stuff that
doesn't usually run on it, or which masquerades itself (like for
instance a "ls" which runs for longer than a couple of seconds, or a
"top" that uses a significantly different amount of memory than the one
you're running).
All of this can also be faked, of course, but you already knew that.  :-/

@_date: 2001-02-23 09:04:05
@_author: Matthias Urlichs 
@_subject: Using GPG to encrypt raw data from a Perl Script 
Ton Sistos:
You shouldn't use stdin as the passphrase FD if you also use it for the
data to be encrypted.
And if the data in question is too large to fit into the pipe buffers, the above exercise _will_ fail. You need to fork twice, instead: once
for executing gpg and once for feeding the input data to it.

@_date: 2001-02-26 13:02:01
@_author: Matthias Urlichs 
@_subject: gnupg & RIPE DB 
Andrew Bell:
Correct. It's even documented somewhere. ;-)

@_date: 2001-02-27 11:51:06
@_author: Matthias Urlichs 
@_subject: request for CC: 
So what?  You can still set the clock correctly once you've booted
This is especially important when you send emails. :-(

@_date: 2001-01-25 16:27:21
@_author: Matthias Urlichs 
@_subject: Configure Failed need red hat install help 
Cindy Walsh:
Are they totally insane?
Sorry, but that's terminally stupid.

@_date: 2001-01-25 16:27:21
@_author: Matthias Urlichs 
@_subject: Configure Failed need red hat install help 
Cindy Walsh:
Are they totally insane?
Sorry, but that's terminally stupid.

@_date: 2001-03-16 02:34:01
@_author: Matthias Urlichs 
@_subject: Insecure memory 
Bjoern Fischer:
However, part of the point of ensuring that the passphrase / secret key
doesn't end up on swap space is to make sure that it doesn't get picked
off by an adversary _afterwards_. One, for instance, who simply steals
the computer.

@_date: 2001-05-09 14:57:01
@_author: Matthias Urlichs 
@_subject: Running gpg with a public key file path 
Faisal Nasim:
Use /dev/stdout (or /proc/self/fd/1 or whatever) as the output file

@_date: 2001-05-18 07:59:02
@_author: Matthias Urlichs 
@_subject: gpg non-pubkey decryption automation 
Frank DiCostanzo:
Use zero, not one.
Replace "echo" with "yes"; then you can decrypt many files in one pass.
Or do the "for i in * ; do echo ... gpg ... $i; done" shell thing.
You defenestrate any pretense of security by doing this, but well... I
think you know that. ;-)
