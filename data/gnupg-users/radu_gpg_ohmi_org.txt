
@_date: 2005-05-02 16:51:59
@_author: Radu Hociung 
@_subject: GPGME support for expiring signatures 
I've been looking high and low for a way set an expiration date on
signatures being generated with GPGME (this would be the equivalent to
--openpgp --ask-sig-expire in gpg), but can't find it.
Is this possible with GPGME, and how is it done?
Thank you kindly,

@_date: 2005-05-19 21:11:09
@_author: Radu Hociung 
@_subject: Keyservers and the future 
Hello all,
I'm researching email authentication, and it looks like there is some
promise in using cryptographic signatures. Currently there are hundreds
of millions of domain names, and tens of millions of domain name owners.
Depending on proposal, email authentication would require between 1
key/domain owner and several keys per domain name (ie, between tens of
millions and more than a billion new keys).
One email authentication proposal is DomainKeys. There are others as
well. DomainKeys stores the needed keys in the DNS system, but the DNS
system is spoofable. Also, this key storage architecture does not allow
for trust-signatures, as the key could easily grow in size past the
maximum size of a DNS reply packet (512 bytes). In fact it appears that
the average key length on the keyservers is around 1.2KB.
Different proposals seek to authenticate different parts of the mail
- SMTP session
- email headers
- email body
Currently a relatively small population uses PGP to sign the message
body (There are currently < 2.2million keys on the public keyservers).
If email authentication was implemented, the majority of mail traffic
would be signed and verified. This means many more keys need to be
stored on the keyservers. Also, it would require billions of queries to
keyservers during the verification phase(s). Even with locally cached
keys, there would still be lots of queries looking for revocation
This creates the following questions:
1. If future email authentication standards require use of cryptography
(signatures), what is the most scaleable way to distribute and manage
keys? Does OpenPGP have a role to play here?
2. If it became standard for email to be authenticated in some manner,
would the PGP keyserver or a similar architecture based on
synchronization, etc, be a scaleable enough architecture to use?
I know there is some work being done on two next generation keyservers,
CKS and OpenPKSD, and I would like to ask a second question:
3. What is the state of the art in next-generation keyservers, and how
far are we from the 1-billion key capability ? Are the current projects
active still?
4. Are the public keyservers even the right place to look for email
authentication key storage ? Are there other better ideas that should be
Thank you kindly for any input or comments.
Radu Hociung.

@_date: 2005-05-20 00:25:16
@_author: Radu Hociung 
@_subject: Keyservers and the future 
Trust information is locally and privately established and managed, and
thus does not belong on the keyservers. That process of managing trust
is not the object of my question.
The scalability of trust management is a problem for MTA (mail
transport agents) vendors to solve.
The object of trust, however, is a key. Without a key there isn't much
to be trusted. The question is ... is the PGP architecture suited to a
load of hundreds of millions of keys, or even billions?
Are CA's and X509 certificates better equipped to handle the load?
There are several working groups that are working on email
authentication, and they are considering trust. Concepts such as trust,
reputation and accreditation, authorization and authentication are used
in various combinations. Some are bogus, some are quite solid  :)

@_date: 2005-05-20 05:23:50
@_author: Radu Hociung 
@_subject: Keyservers and the future 
It is exactly this argument that makes me believe PGP to be a better
A few other advantages also.
Perhaps I should explain at least one of the email authentication protocols:
DomainKeys, for instance, works at the transport level. Somewhat like
SSH, where the client and server use one key to encrypt the datastream,
but a different key is used by the user to actually authenticate and log
in. DomainKeys does not encrypt the channel, but it only signs it (it
signs a subset of the message headers as well as the body of the
message). If a recipient domain trusts Yahoo's keys, he can assert that
the mail really came from the Yahoo domain. This is a per-domain
signature, not per-user.
Once a domain (bob.com) trusts that the signing key belongs to the other
domain (alice.com), then it can identify email that genuinely comes from
alice.com. This does nothing more than prevent domain forgeries, as an
attacker forging the alice.com domain.
So, while Charlie and David don't know or trust each
other, they can be sure that the mail they received really came from the
alice.com domain or the bob.com domain. And it really is the two mail
servers that trust each other, while the users of each domain trusts
that the mail they receive will not be impersonating a different domain.
In this way, DomainKeys-type of technology can ensure that domain name
forgeries do not happen. It would eliminate phishing attacks from
paypal.com and the banks. Of course, how bob.com came to trust
alice.com's domain key is still a problem. Perhaps a trust broker will
be proposed. The problem of trust management may not be as
insurmountable as the problem of reliably detecting spam and phishing
attacks with 100% accuracy.
As the name implied, DomainKeys provides domain-to-domain
authentication, as opposed to applications like Enigmail which provide
user-to-user authentication. It works out that domain-to-domain
forgeries make up a large amount of the current spam and fishing problem
that we're encountering.
I'm not claiming that DomainKeys is the best, but it shows one valid way
that email authentication could be done. Better protocols are in the
pipeline, but sooner or later they all need to publish a key.
Also, there is no claim that DomainKeys eliminates spam. A spammer
domain could have a trusted domain key. Or, mail send by a Yahoo (main
DomainKeys proponent) user could be spam. Mail authentication only
allows one to pinpoint exactly where the spam or ham is coming from,
instead of guessing as is done currently. Thus it is hoped that email
authentication will bring a significant improvement in spam detection
accuracy rates.
That's why I am asking the question: could PGP cope if all, or a
significant proportion of all domains were to enable some kind of email
transport authentication?
Also, there are some competing standards being discussed, each with
their own advantages and disadvantages, and it is likely that a domain
may support one or several mail authentication methods, and perhaps
require several public keys.
I agree that there are challenges to implementing any kind of email
authentication standard, but I would like to find out the extent to
which key storage and distribution is one of those challenges. PGP is a
possible solution, but the PGP keyserver seems to not be as scalable as
necessary to be specified as supporting technology for something as
widespread as email.  So the question is... can PGP be a viable support
technology, and/or is the development of it heading in a direction that
makes it a candidate for email authentication?
I have also noticed that while there was a surge of PGP keys in the
90's, there are comparatively few keys being uploaded to the public
servers in recent years. I do wonder why?

@_date: 2005-05-20 20:41:14
@_author: Radu Hociung 
@_subject: Keyservers and the future 
Thanks Sean for your explanations. They are in exact agreement with what
email authentication wants to be.
I would like to add another note on the the number of total keys that
may be required. This will also answer Neil's other question:
The fewest number of keys is needed if the scheme allows each domain
owner to use 1 key. A domain owner is the person who has one or more
domains. At a minimum, there would be as many keys as there are people
who own internet real-estate (domain names). If you own 100 domains, you
can of course use 1 key.
As for the maximum number of keys needed:
Private key distribution remains a problem. DomainKeys has a solution to
this problem:
With DomainKeys as used by yahoo.com, each mail server machine has its
own private key. This avoids the need to copy a master key to all mail
servers, which are deployed world wide possibly. So there are a
multitude of keys that each domain signs with.
There is an additional practical issue of hardware failures. When a
hard-disk fails, the machine is sent to the technical support
department, who replace the failed disk with a new one. However, if the
private key is stored on the hard disk, it must now be revoked, as the
technicians have access to extract it. This problem can be solved in one
of thee ways:
1. Store the key on the hard-disk, but revoke old keys when hard-disks
are replaced (due to failure or pre-emptive maintenance).
2. Do not store the key on the hard-disk, but generate it in memory
every time the machine is rebooted.
3. Use a security storage device in each machine. Keys need to be
revoked when machines are retired.
Any one of these models will see many keys in use for each domain. After
a few years, the majority of keys will be revoked and expired keys.
There is also another issue of Public Relations:
Some domain owners own many domains and run their own servers, as Neil
pointed out. In this case, one key is sufficient for many domains.
However, many domain owners get their ISP to run the mail servers, in
exchange for a monthly due. When an ISP handles several domains, the
respective domain owners would not want their domain's mail to be signed
with the same key as another domain that the ISP may be hosting. So each
 of the ISP's mail server machines may at any one time host hundreds of
domains, and need to maintain a separate private key for each of those
If you combine the security issues outlined for DomainKey with the PR
issues of ISPs hosting multiple domains, the maximum number of keys
required globally to implement email authentication may be much larger
than the number of domain names actually registered.
I think at a minimum we're talking tens of millions of keys, and at
maximum we're talking tens of billions of keys.
I understand that due to the security issues, a revoked key cannot be
deleted before its expiration date. This would imply that at any one
time, the cost of email authentication will be about double the number
of active keys at any one time. The key deletion feature does not exist
in the current keyserver, as far as I can tell.
