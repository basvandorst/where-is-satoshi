
@_date: 2018-02-01 04:03:20
@_author: Aneesh Varghese 
@_subject: How to avoid Passphrase prompt 
Hi Peter,
We need passphrase, but passphrase should be enter via code not from windows popup prompt.
Thanks & Regards
Aneesh Varghese
Sent: Wednesday, January 31, 2018 6:42 PM
The simplest way to avoid the popup is to remove the passphrase from the
private key.
The private key is stored on your hard disk. If there is no passphrase
on the private key, anybody with access to your hard disk can decrypt
files. They can also do anything else with your key.
So you need to make sure that only you have access to the hard disk.
Is this acceptable?
I use the GNU Privacy Guard (GnuPG) in combination with Enigmail.
You can send me encrypted mail if you want some privacy.
My key is available at

@_date: 2018-02-02 11:32:46
@_author: Aneesh Varghese 
@_subject: How to avoid Passphrase prompt 
Thanks Peter...
Thanks & Regards
Aneesh Varghese
Sent: Friday, February 2, 2018 4:53 PM
Hah, now I understand! :-)
There are two methods: gpg-preset-passphrase and pinentry loopback.
--8<---------------cut here---------------start------------->8---
max-cache-ttl 2147483647
--8<---------------cut here---------------end--------------->8---
gpg --with-keygrip -K
--8<---------------cut here---------------start------------->8---
sec   rsa1024 2012-03-17 [SC] [expires: 2018-02-07]
      825472F37172B95ADC7349BE98B67DE4DCDFDFA4
      Keygrip = 2F677680CA15F6F7B963AF35822E8EC01FBF840A
uid           [  full  ] Test Teststra (Koning van Wezel) uid           [  full  ] Test Teststra ssb   rsa1024 2012-03-17 [E]
      Keygrip = 15CB764B81D542CF921978CA89910C69D53F4E2D
ssb   rsa2048 2016-01-12 [A]
      Keygrip = 3D88DC9D60F791821AF8D537EEAC3C8DF7720D63
--8<---------------cut here---------------end--------------->8---
Note keygrip for [E] subkey.
Do this every time after starting the server/starting gpg-agent, to unlock
the key:
gpg-preset-passphrase --preset 15CB764B81D542CF921978CA89910C69D53F4E2D
(Type in the password. Currently no pinentry support.)
Second method: pinentry loopback.
This method has a problem. Your code supplies the passphrase. Where is
the passphrase stored? If it is simply stored on the hard disk, the
passphrase is probably useless. An attacker can just read the
passphrase. What are you protecting against?
It is simple, though:
echo passphrase | gpg --batch --pinentry-mode loopback --passphrase-fd 0 -d test.gpg
(Use code to pass the passphrase on some FD, don't actually use echo).
All this was tried out on Linux. I don't have Windows, or the necessary
knowledge. I think it should work on Windows.
I use the GNU Privacy Guard (GnuPG) in combination with Enigmail.
You can send me encrypted mail if you want some privacy.
My key is available at

@_date: 2018-01-31 06:12:15
@_author: Aneesh Varghese 
@_subject: How to avoid Passphrase prompt 
How to avoid the passphrase prompt while decrypting the file in the version gnupg-w32-2.2.3_20171120.
Thanks & Regards
Aneesh Varghese

@_date: 2018-01-31 11:47:22
@_author: Aneesh Varghese 
@_subject: How to avoid Passphrase prompt 
Thanks for your reply..
How can we decrypt a file without passphrase prompt? Passphrase is entered via code.
Thanks & Regards
Aneesh Varghese
Sent: Wednesday, January 31, 2018 5:04 PM
You can remove the passphrase from the private key by:
gpg --edit-key KEYID
Just enter the old password but keep the "new" fields blank. GnuPG will
prompt whether you're sure you want to remove the protection of the key.
Choose "Yes, protection is not needed".
It will prompt multiple times when you have subkeys. It would be
possible to remove passphrase protection from just the encryption
subkey, but leave it on the rest. But this appears to be a bit awkward
as the prompt doesn't tell me which subkey I'm currently changing the
passphrase for...
There's also a way to supply the password up front, which would still
keep the on-disk private key encrypted. But this is more cumbersome, and
you don't say whether that is needed or not, so I'm just mentioning it,
not working it out.
More in general, it helps if you explain more about your situation and
your goals.
I use the GNU Privacy Guard (GnuPG) in combination with Enigmail.
You can send me encrypted mail if you want some privacy.
My key is available at

@_date: 2018-01-31 12:19:49
@_author: Aneesh Varghese 
@_subject: How to avoid Passphrase prompt 
Hi Peter,
Currently I am able to decrypt the file using passphrase (passphrase entered via windows popup), is it possible to avoid the windows popup for entering the passphrase?
Thanks & Regards
Aneesh Varghese
Sent: Wednesday, January 31, 2018 5:41 PM
I don't understand what you want me to explain.
A file is decrypted by using the private key. If the private key is
passphrase-protected, you will need to enter that passphrase. I
explained how to remove the passphrase from the key.
The private key is stored as a file on your hard disk. If there is no
passphrase to protect it, anybody with access to the file can use the
private key. They can also decrypt files, and use the key however they
want. This is why it has passphrase protection normally.
I don't understand what you mean.
I use the GNU Privacy Guard (GnuPG) in combination with Enigmail.
You can send me encrypted mail if you want some privacy.
My key is available at
