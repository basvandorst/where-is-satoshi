
@_date: 2010-03-08 02:43:17
@_author: Alex Efros 
@_subject: how to suppress warning about gpg-agent? 
Looks like we need an option to suppress warning about gpg-agent.
I've a lot of projects (each has separate user account) which use gpg for
encrypting daily backups (from cron) in this way:
  gpg --batch --cipher-algo AES256 -c --passphrase-file PASSFILE BACKUP.tar
The problem is, after switching to gpg2 I start receiving a lot of emails
every day with same warning:
  "can't connect to `/home/USER/.gnupg/S.gpg-agent': No such file or directory"
I don't like to redirect STDERR output of gpg to /dev/null because I wanna
receive emails in case of problems with backup process. But I don't wanna
receive dozens of useless emails with this warning every day.
I don't like to run gpg-agent as a daemon on all these user accounts just
to suppress this warning message (and there may be additional issues to
make it accessible from cron scripts, too).
I can try to run gpg-agent from same cron script just before using gpg,
and then kill gpg-agent, but this may lead to race conditions in case
gpg-agent already started by that user for other needs.
Looks like there only two real solutions: implement pipe filter for gpg's
STDERR to strip just this message (ugly), and patch gpg to add an option
to suppress this warning.
P.S. I use Gentoo Linux and app-crypt/gnupg-2.0.14.

@_date: 2010-03-08 14:22:28
@_author: Alex Efros 
@_subject: how to suppress warning about gpg-agent? 
I don't think so. Every project encrypt it backups with different
passwords (needed for security), and right now I can keep just several
dozens of passwords, but with public keys I'll need to keep several dozens
of .gnupg directories instead, which is harder to manage.
I know. Right now it run gpg-agent in server mode and talk to it STDIN -
that's ok for my needs. I don't try to avoid running gpg-agent, I just
wanna suppress warning.
Wow, it works! With this parameter gpg doesn't output that warning
anymore (and doesn't try to start gpg-agent).
I wonder what is physical sense of this number? Is it safe to hardcode one
number for all user accounts on same server (many servers)?
P.S. But I still think much more clear solution is just add option to
suppress warning message and let gpg start own copy of gpg-agent when it
need it.
