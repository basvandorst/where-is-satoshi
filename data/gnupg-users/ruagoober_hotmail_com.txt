
@_date: 2003-02-12 22:47:02
@_author: Goober Rama 
@_subject: gnupg 1.2.1 IDEA support 
If anyone can help out with this, I would greatly appreciate it.  I've read through many of the archives and have tried I think all of the recommended solutions to no avail.
We're attempting to use gpg on AIX 5.1 and have the need to import some old pgp 2.x keys. So, I've tried using 'load-extension idea' in my options file after compiling the idea.c module and copying it to /usr/local/lib/gnupg.  The output of 'gpg --version' always returns the 'idea encryption (0) failed' error.  I have tried this with the pre-compiled binary available from  (both 1.2.1 and 1.0.7) and compiling 1.2.1 and 1.0.7 from source.  I've tried compiling both with IBM's C for AIX version 5 and the gcc (with the necessary CFLAGS statement as outlined in the README).  I have tried using both IBM's packaged gcc (version 2.9) and version 3.2.1 available from UCLA.
Summary of software versions and steps taken:
AIX 5.1 - 5100-03
C for AIX 5
gcc 2.9 (IBM's package)
gcc 3.2.1 (UCLA)
gpg 1.2.1 - compiled from source
gpg 1.2.1 - binary from Bull Freeware
gpg 1.0.7 - compiled from source
gpg 1.0.7 - binary from Bull Freeware
idea.c.gz - from ftp://ftp.gnupg.dk/pub/contrib-dk/idea.c.gz
configure: CFLAGS="-g -O2 -mcpu=powerpc" ./configure --disable-nls --with-included-gettext --enable-static-rnd=egd --disable-asm --disable-dev-random --with-egd-socket=/dev/egd
I've tried compiling idea.c in with everything else by having it in the gcc -Wall -O2 -shared -fPIC -o idea idea.c
and using the 'load-extension' option.  Everything still ends up with 'idea encryption (0) failed'.
If anyone can shed some light on this get help me get over this hurdle, that would be great.
Protect your PC - get McAfee.com VirusScan Online

@_date: 2003-02-13 16:01:02
@_author: Goober Rama 
@_subject: gnupg 1.2.1 IDEA support 
Thanks for the response...Yeah, I've got the module in there prior to the configure and make and it does get compiled.  From what I've seen, the 'idea encryption (0) failed' means there's an internal self-check within the idea module that's failing.
Also from what I can tell, it is successfully compiling with big endian support so...I'm at a loss.
STOP MORE SPAM with the new MSN 8 and get 2 months FREE*

@_date: 2003-02-13 16:04:02
@_author: Goober Rama 
@_subject: gnupg 1.2.1 IDEA support 
modules being depracated, with the exception of idea.  That's why there's the idea-stub.c in the cipher directory.
As far as I can tell, the idea.c that I downloaded from the .dk site is the latest and greatest and I have tried some others I've found through searching around, but nothing seems to want to do it.
Help STOP SPAM with the new MSN 8 and get 2 months FREE*

@_date: 2003-02-13 17:08:02
@_author: Goober Rama 
@_subject: gnupg 1.2.1 IDEA support 
Yesterday.  This is the latest comment in it:
* 2002-12-11 wk  __ppc__ is used on Darwin instead of __powerpc__.
Just for the heck of it, I downloaded the Windows dll, put it on my workstation and it works fine with the win32 gpg and winpt.
MSN 8 with e-mail virus protection service: 2 months FREE*

@_date: 2003-02-14 14:09:01
@_author: Goober Rama 
@_subject: gnupg 1.2.1 IDEA support 
That did it!  Why didn't I think of that?? >:/  Obviously that won't work for everyone, but I guess there's something in those  that needs to change for AIX/powerpc?
Now to verify that we can actually encrypt to that key...
Thank you very much!
Help STOP SPAM with the new MSN 8 and get 2 months FREE*

@_date: 2003-02-15 03:51:02
@_author: Goober Rama 
@_subject: gnupg 1.2.1 IDEA support 
Here you go:
 __GNUC_MINOR__ 9
 _AIX 1
 _LONG_LONG 1
 _ARCH_COM 1
 __CHAR_UNSIGNED__ 1
 _AIX32 1
 _AIX41 1
 _AIX43 1
 _AIX51 1
 __GNUC__ 2
 _POWER 1
 _IBMR2 1
I have a Solaris 8 machine I can do this on as well if you need that info too.  Thanks again!
Protect your PC - get McAfee.com VirusScan Online

@_date: 2003-02-15 03:57:02
@_author: Goober Rama 
@_subject: gnupg 1.2.1 IDEA support 
Here's the output from gcc 2.95.3 (sunfreeware.com) on Solaris 8, build  __GCC_NEW_VARARGS__ 1
 __sparc 1
 __svr4__ 1
 __GNUC_MINOR__ 95
 __sun 1
 sparc 1
 __sun__ 1
 __unix 1
 __unix__ 1
 __SVR4 1
 sun 1
 __GNUC__ 2
 __sparc__ 1
 unix 1
MSN 8 helps eliminate e-mail viruses. Get 2 months FREE*.

@_date: 2003-02-20 10:52:01
@_author: Goober Rama 
@_subject: gnupg 1.2.1 IDEA support 
I meant to mention in my previous message that this worked using IBM's C for AIX compiler too.
STOP MORE SPAM with the new MSN 8 and get 2 months FREE*
