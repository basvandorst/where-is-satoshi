
@_date: 2006-02-04 04:48:28
@_author: enediel gonzalez 
@_subject: gpg on cron task 
I use debian sarge and I need to encrypt and decrypt automatically backup files using gpg
  I create a php script will the whole procedure, which include the following declaration
enediel is included into the trusted chain for the root user.
When I execute the script manually as root, I obtain the encrypted file, but if I put the same script as a cron's task, the whole script works perfectly except the encryption process, and I not receive any error.
I'll appreciate if somebody help me with that, basically what I need is to encrypt and decrypt specific files automatically using gpg.
Thanks in advance for any answer
Linux user 300141
Debian GNU/Linux

@_date: 2006-02-04 14:41:04
@_author: enediel gonzalez 
@_subject: gpg on cron task 
Thanks for your attention
-root is the owner of the script.
-as a root user, if I execute my script manually I obtain what I want
-the script was included as a cron task for root
-running the same script from a cron task the encrypting process fails because I don't obtain any .gpg file, no error reported.
-I know that the script was executed from the cron task because the same script previously created by itself the file I want to encrypt with gpg.
-everything is done over /tmp where everybody can write
Linux user 300141 Debian GNU/Linux

@_date: 2006-02-04 16:33:32
@_author: enediel gonzalez 
@_subject: gpg on cron task 
Thanks Samuel for the answer
as you can see on the line I execute, I include the full paths necessary for the execution
regarding permissions, this task is a root's task, so, the referenced key ID in included within the trusted chain for root.
$str_execute = "cd /tmp/backup && /bin/echo apassword | /usr/bin/gpg -se --passphrase-fd 0 -r enediel /
Linux user 300141 Debian GNU/Linux

@_date: 2006-02-06 16:40:32
@_author: enediel gonzalez 
@_subject: gpg on cron task 
I'm sorry Atom for the personal email, I just replied the message without change the address.
Following the suggestions I created the script
cd /tmp/backup && /bin/echo apassword | /usr/bin/gpg -se --passphrase-fd 0 --logger-fd 1 -r enediel /tmp/backup/backup20060206100521 >> Executing it from a cron task I obtained in /tmp/debug3.txt the following gpg: cannot open `/dev/tty': No such device or address
according to this line, it looks line the way I use to pass the password to gpg is incorrect when the script is used on a cron task.
?Could somebody show me an example how to do it in any way?
I'm sorry, I searched without find the answer to this question.
Thanks in advance for any answer
Linux user 300141
Debian GNU/Linux
