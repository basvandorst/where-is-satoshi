
@_date: 2002-05-04 20:36:01
@_author: Nic Ferrier 
@_subject: moving gpg to another PC 
I installed GPG on a linux machine some time ago, I've now moved my
home stuff to another machine (I still have the old one).
I want to move my GPG stuff to the new machine.
I saw a message in March that suggested that I would just have to
copy the .gnupg directory to the new machine, I've tried that but it
doesn't seem to work.
The problem is that the key ids change as soon as the directory is
copied. This means that the new machine can't decrypt stuff sent with
the private key created on the old machine.
Can anybody help?
Nic Ferrier

@_date: 2002-05-04 21:01:02
@_author: Nic Ferrier 
@_subject: moving gpg to another PC 
"R. Bradley Tilley"  replied:
No. It isn't permissions. I copied the dir with the correct
permissions and it still doesn't work. When one does:
  gpg --list-keys
on both machines the key ids are very clearly different.
Attempting to:
  gpg -d somefile-enrypted-by-old-key
on the new machine fails with the statement:
  gpg: decryption failed: secret key not available
  gpg: [don't know]: invalid packet (ctb=50)
whereas on the old machine it's fine.
Any more ideas?

@_date: 2002-05-05 11:29:02
@_author: Nic Ferrier 
@_subject: Moving gnupg to another PC: more strangeness 
See the other thread (from yesterday). What I'm trying to do is move my GPG setup to a new machine. Simply
copying the directory doesn't seem to work (and yes, I set the rights
I wondered what would be a good way to test this, so I NFS mounted my
old-machine GPG set up to my new machine.
  old-machine$ gpg --list-keys
pub  yyyy/YYYYYYYY 2002-02-16 Nic Ferrier ....
sub  zzzz/ZZZZZZZZ 2002-02-16
This seems pretty strange to me, I'm using exactly the same data, but
with two different GPG executables on two different machines and they
report different numbers.
I am very confused. Someone please help.

@_date: 2002-05-06 01:35:01
@_author: Nic Ferrier 
@_subject: Moving gnupg to another PC: more strangeness 
Lines: 26
--text follows this line--
Exactly the same. This is the *same* directory remember, the files
don't change between machines. My new machine is mounting the old machine's .gnupg via NFS.
The two machines are of different architectures: one's a powerpc
linux box and the other is an i386 linux box.
Would that make a difference?

@_date: 2002-05-06 12:43:01
@_author: Nic Ferrier 
@_subject: Moving gnupg to another PC: more strangeness 
I have a SPARC machine with linux here.
I have installed the same version of GNUPG (1.0.6) and tested with
the same data directory (the i386 linux box, mounted onto the sparc).
Here's an interesting thing: the SPARC produces exactly the SAME key
ids as the iMac. The ids are different from the ids on the i386 box
so I can't decrypt stuff that was encrypted with my published public
But it's interesting none the less.

@_date: 2002-05-06 17:50:01
@_author: Nic Ferrier 
@_subject: moving gpg to another PC 
Hmm... I tried this approach. It didn't seem to work.
Here's what I did:
  source-machine $ gpg --export-secret-key 'X' > secret.key
  source-machine $ gpg --export 'X' > public.key
  source-machine $ scp *.key  dest-machine:/myhomedir
    dest-machine $ gpg --allow-secret-key --import secret.key public.key
   gpg: /myhomedir/.gnupg/secring.gpg: keyring created
   gpg: /myhomedir/.gnupg/pubring.gpg: keyring created
   gpg: key FD0EEEAD: secret key imported
   gpg: key FD0EEEAD: no valid user IDs
   gpg: this may be caused by a missing self-signature
   gpg: Total number processed: 2
   gpg:           w/o user IDs: 1
   gpg:       secret keys read: 1
   gpg:   secret keys imported: 1
So that doesn't seem to work.
I could sign the public key but if I did how would I verify the
signature on the dest-machine? The dest-machine doesn't have a valid
secret/public key combination.
Should I seek a solution for this on the developer list?

@_date: 2002-05-06 18:49:02
@_author: Nic Ferrier 
@_subject: moving gpg to another PC 
I presume you mean:
dest-machine $ gpg --allow-secret-key-import \
                    --import secretkey.asc publickey.asc
Here's what I get:
        gpg: Warning: using insecure memory!
        gpg: key ZZZZZZZZZ: no valid user IDs
        gpg: this may be caused by a missing self-signature
        gpg: Total number processed: 1
        gpg:           w/o user IDs: 1
It's the same error as before.
One can't run edit-key until the public key is imported, I get this
error message:
      gpg (GnuPG) 1.0.6; Copyright (C) 2001 Free Software Foundation, Inc.
      This program comes with ABSOLUTELY NO WARRANTY.
      This is free software, and you are welcome to redistribute it
      under certain conditions. See the file COPYING for details.
      gpg: Warning: using insecure memory!
      gpg: key ZZZZZZZZ: secret key without public key - skipped
      gpg: X: user not found

@_date: 2002-05-06 18:58:01
@_author: Nic Ferrier 
@_subject: moving gpg to another PC 
It's not that because I'm not moving versions. I didn't think that
was a good idea so I'm using the same source code, just on 2
different machines.
GPG 1.0.6.
GPG 1.0.6.
GPG 1.0.6
What are the implications of supplying this information?
One of my problems with GNU PG is that the documentation is very
poor (if I can get this working I will supply a patch to the HOWTO).
There is no description of the output of --list-key and what the
implications of revealing it might be, if somebody wants to see the
information to solve the problem then I'm happy to supply it but I'd
rather not just publish it.
That would be cool. This seems like a fairly common thing to want to
do and I don't understand why there's a problem.

@_date: 2005-10-18 22:25:50
@_author: Nic Ferrier 
@_subject: Emacs interface to gpg 
I had a hard time finding information as well.
mailcrypt works with GNU Emacs.
Nic Ferrier
