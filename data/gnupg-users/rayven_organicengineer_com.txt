
@_date: 2009-04-17 07:58:04
@_author: rayven 
@_subject: trouble with gnu-agent and etoken 
I have been trying to get gpg working with my etoken.  I'm thinking is
something to do with pinenrty or gpg-agent.  any and all help will be
greatly appreciated.
so far here is where i am:
Let me know which systems you'd like info about and I'll post the version
numbers and such.
I've used the slackbuild scripts for gnupg, openct 0.6.15, opensc 0.11.7,
pinentry 0.7.5
built from source :      gnupg-pkcs11-scd-0.06
I'm not sure i have the card setup properly i've initilized it a few times
on my windows box.  I've added pgp keys to it.
I've used the pkcs-init tool to generate a keypair on it and ad a cert.pem
certificate to it.
when i go to gpg2 --card-edit
and run a generate command if get this (after answering the questions):
Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? o
gpg: DBG: got status line `KEY-FPR 8FDA0003BA061700DFF01B1C87EC43DF61D323FD'
gpg: DBG: got status line `KEY-CREATED-AT 1239979297'
gpg: DBG: got status line `SERIALNO D2760001240111111111111111111111 0'
gpg: DBG: got status line `KEY-DATA n
gpg: DBG: got status line `KEY-DATA e 010001'
gpg: checking created signature failed: Bad signature
gpg: signing failed: Bad signature
gpg: make_keysig_packet failed: Bad signature
Key generation failed: Bad signature
Sometimes i get a pinentry box and i get a different error messge (sorry
coudn't reproduce this one anymore):
Basically is said something about and improperly formated ICP line.
