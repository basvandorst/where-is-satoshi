
@_date: 2010-07-20 18:15:35
@_author: Perry, James J. 
@_subject: GPG seems broken on FC13 after upgrade. 
I was able to get that to work a while back but the main problem I am
having is that if I have the display set on the terminal doing the ssh
into the host but no X-server (Cygwin/X) running on my PC, then it fails
to fall back to text-based password requests, making me spend hours
trying to figure out what happened.  If the interface is being changed
in this manner than it would seem that simple code to check for a
responding X-server or if the X-server connection is denied, it would
fall back to curses style windows.
HP's diagnostic tool stm, installation utility swinstall and OS level
tool SAM all have had this logic for > 10 years.
Just me doing something unexpected when the application was being beta
tested that I wanted to bring up with a solution to see if it could
improve the new interface to the application.
   Thanks!
   -Jim
-----Original Message-----
Sent: Tuesday, July 20, 2010 6:09 PM
OpenPGP  x
__________________________________________________________ x
I'm not sure if this is your exact problem but on my openSuSE 11.2
system Seahorse really made a mess of things.  Try running your
gpg-agent the old fashion way and export the variables.  I'm
initializing mine in .xinitrc with an eval statement and relevant
arguments b/c seahorse doesn't seem to work correctly with scdaemon.

@_date: 2010-07-21 10:53:43
@_author: Perry, James J. 
@_subject: GPG seems broken on FC13 after upgrade. 
the following messages when I try to decrypt a file and have the DISPLAY
set even though I am not using X.
I >>do not want all the pretty stuff and I need it to prompt for a
password on >>the command line like it did prior to the used of
pinentry-qt or pinentry->>curses.  What do I need to fix?  I spent 4
hours digging around to just >>find that if I had a DISPLAY variable set
but no X-Server running on my MS >>Win box, it would not even work.
Users of GPG here on Linux will not >>understand that issue so I will
need to keep it running as it did before, >>but no manuals I found
seemed to indicate how to correct it.
non-conflicting, >and while there is significant overlap, do serve
somewhat different >purposes.
(i.e. >gnupg 2.x) package to replace it.  This breaks all sorts of
scripts and >things that were written to use 1.4.x.
Thanks for the links.  If Fedora does not make the needed changes it
would seem that the gnupg2 code would at least need to be altered to
check for a working X display first, and then try curses.  Optimally I
think it would be nice to have a config parameter in the
or command line.  I did not see any settings to control that when I dug
through the configs and man pages months ago.
Proud partner. Susan G. Komen for the Cure.
Please consider our environment before printing this e-mail or attachments.

@_date: 2010-07-22 10:54:08
@_author: Perry, James J. 
@_subject: GPG seems broken on FC13 after upgrade. 
Thanks for the update.  As most of my GnuPG use is via script I normally do not see problems it
is when I am trying to resolve problem that I run into issues where the
new interface requires X or curses to interact with GnuPG.  Of course better error messages about not being able to connect to X
would have been very useful when I first noted the problem.
   -Jim
On Wed, 21 Jul 2010 16:33, dshaw at jabberwocky.com said:
(i.e. gnupg 2.x) package to replace it.  This breaks all sorts of
scripts and things that were written to use 1.4.x.
FWIW, the new 2.0.16 may help to mitigate this problem if the
--use-standard-socket option is used.  The agent will then be started if
needed.  You can't use this feature if your home directory is NFS
mounted or you are not using X.
   Werner

@_date: 2010-07-28 11:35:51
@_author: Perry, James J. 
@_subject: GPG seems broken on FC13 after upgrade. 
I don't know about Qt libraries but I found that just running the GTK
code fragment checked it fairly easily:
include void main (int argc, char **argv){
gboolean return_code;
   Returns true on success, false on failure */
return_code = gtk_init_check(&argc, &argv);
printf("Return Code: %d\n", return_code);
Since I do not code much C anymore, it seemed way too easy of a check
but worked very well.  When I had my DISPLAY set but local X-Server not
running, it returned false but when I ran it with the X-Server running
it correctly displayed true.  It does the same functions as gtk_init but
returns a status code.  Could this be what is needed here to check to see if curses is called
when the DISPLAY is set but there is no X-Server or permissions are
Proud partner. Susan G. Komen for the Cure.
Please consider our environment before printing this e-mail or attachments.

@_date: 2010-06-01 18:49:49
@_author: Perry, James J. 
@_subject: GPG seems broken on FC13 after upgrade. 
I just updated to FC 13 and not gpg fails to work for any user.  I get
the following messages when I try to decrypt a file and have the DISPLAY
set even though I am not using X.
gpg --pgp6 EDI997.20100601091546.pgp
You need a passphrase to unlock the secret key for
user: "xyz"
2048-bit ELG key, ID ...
can't connect to `/root/.gnupg/S.gpg-agent': No such file or directory
gpg-agent[24444]: command get_passphrase failed: Operation cancelled
gpg: cancelled by user
gpg: encrypted with 2048-bit ELG key, ID ...
gpg: public key decryption failed: General error
gpg: decryption failed: No secret key
This happens when I have a DISPLAY variable set.  Without it I get a bad
looking curses interface image like below:
   x Please enter the passphrase to unlock the secret key for the
OpenPGP  x
   x certificate:
   x "xyz"                                                            x
   x 2048-bit ELG key, ID ...                                        x
   x created 2010-05-30 (main key ID ...).                            x
   x
   x
   x Passphrase
__________________________________________________________ x
   x
   x           This was not how it worked when I used it prior to upgrading to FC13.  I
do not want all the pretty stuff and I need it to prompt for a password
on the command line like it did prior to the used of pinentry-qt or
pinentry-curses.  What do I need to fix?  I spent 4 hours digging around
to just find that if I had a DISPLAY variable set but no X-Server
running on my MS Win box, it would not even work.  Users of GPG here on
Linux will not understand that issue so I will need to keep it running
as it did before, but no manuals I found seemed to indicate how to
correct it.
  Thanks!
   -Jim

@_date: 2010-06-03 10:23:41
@_author: Perry, James J. 
@_subject: Crypto Stick released! 
RSA keys (signature, encryption, authentication) with a length up to
3072 bit."  While I don't speak Marketing, it sure sounds like each key
is 1024 with the three of them taking up 3072 total.
-----Original Message-----
[mailto:gnupg-users-bounces at gnupg.org] On Behalf Of Joke de Buhr
Sent: Thursday, June 03, 2010 10:12 AM
My stick works fine with 3072bit rsa keys.
Proud partner. Susan G. Komen for the Cure.
Please consider our environment before printing this e-mail or attachments.
