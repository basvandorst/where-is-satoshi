
@_date: 2008-01-12 21:14:00
@_author: Stefan Malte Schumacher 
@_subject: Compiling libgcrypt 
I am currently trying to build GnuPG 2.08 from the source. I have compiled
and installed the latest versions of the necessary libraries (libksba-1.0.2,
libgpg-error-1.6,  libassuan-1.0.4 and pth-2.0.7) except libgcrypt
1.4.0which unfortunately aborts during the compile process. I have
tried to
install an older version (1.2.2) but it also aborted with an error in
rijndael.lol . I am using GNU Make 3.80 and gcc (GCC) 3.3.3 (SuSE Linux).
Below are the outputs of make and the configure-script while trying to build
libgcrypt 1.4.0. How can I get this working ?
Yours sincerely
Stefan Malte Schumacher
This is the make output :
-I../src -I../src   -I/usr/local/include -g -O2 -Wall -Wpointer-arith -MT
rijndael.lo -MD -MP -MF .deps/rijndael.Tpo -c -o rijndael.lo rijndael.c
 gcc -DHAVE_CONFIG_H -I. -I.. -I../src -I../src -I/usr/local/include -g -O2
-Wall -Wpointer-arith -MT rijndael.lo -MD -MP -MF .deps/rijndael.Tpo -c
rijndael.c  -fPIC -DPIC -o .libs/rijndael.o
 gcc -DHAVE_CONFIG_H -I. -I.. -I../src -I../src -I/usr/local/include -g -O2
-Wall -Wpointer-arith -MT rijndael.lo -MD -MP -MF .deps/rijndael.Tpo -c
rijndael.c -o rijndael.o >/dev/null 2>&1
make[2]: *** [rijndael.lo] Fehler 1
make[2]: Leaving directory `/home/stefan/Software/Packed/libgcrypt-1.4.0
make[1]: *** [all-recursive] Fehler 1
make[1]: Leaving directory `/home/stefan/Software/Packed/libgcrypt- 1.4.0'
make: *** [all] Fehler 2
And this is the output of configure :
checking for mmap... yes
checking for getpagesize... yes
checking for sysconf... yes
checking for waitpid... yes
checking for wait4... yes
checking for gettimeofday... yes
checking for getrusage... yes
checking for gethrtime... no
checking for clock_gettime... no
checking for fcntl... yes
checking for ftruncate... yes
checking for mlock... yes
checking for sysconf... (cached) yes
checking for getpagesize... (cached) yes
checking whether mlock is broken... no
checking for random device... yes
checking for _ prefix in compiled symbols... no
checking for mpi assembler functions... done
checking if gcc supports -Wpointer-arith... yes
checking whether non excutable stack support is requested... yes
checking whether assembler supports --noexecstack option... yes
configure: creating ./config.status
config.status: creating Makefile
config.status: creating m4/Makefile
config.status: creating mpi/Makefile
config.status: creating cipher/Makefile
config.status: creating doc/Makefile
config.status: creating src/Makefile
config.status: creating src/gcrypt.h
config.status: creating src/libgcrypt-config
config.status: creating src/versioninfo.rc
config.status: creating tests/Makefile
config.status: creating config.h
config.status : config.h is unchanged
config.status: linking ./mpi/i386/mpih-add1.S to mpi/mpih-add1-asm.S
config.status: linking ./mpi/i386/mpih-sub1.S to mpi/mpih-sub1-asm.S
config.status: linking ./mpi/i386/mpih-mul1.S to mpi/mpih- mul1-asm.S
config.status: linking ./mpi/i386/mpih-mul2.S to mpi/mpih-mul2-asm.S
config.status: linking ./mpi/i386/mpih-mul3.S to mpi/mpih-mul3-asm.S
config.status: linking ./mpi/i386/mpih-lshift.S to mpi/mpih-lshift-asm.S
config.status: linking ./mpi/i386/mpih-rshift.S to mpi/mpih-rshift-asm.S
config.status: linking ./mpi/generic/mpi-asm-defs.h to mpi/mpi-asm-defs.h
config.status: executing depfiles commands
config.status: executing gcrypt-conf commands
                Configured for: GNU/Linux (i686-pc-linux-gnu)

@_date: 2013-02-20 22:29:08
@_author: Stefan Malte Schumacher 
@_subject: Piping tar into gpg 
I want to create encrypted backups with tar and gpg, which I then want to
upload to my online storage. Strangely I can't get it working.
"find /mnt/raid/Dokumente/ -type f -print0 |tar cfzv | gpg --symmetric
--output 1.tar.gz.gpg" aks for a password but aborts after creating a 4,0K
large binary file. I have had other cases in which tar and gpg were
obviously working (I monitored the program activity with htop) but instead
of writing to the file specified with --output they were overwriting a
random file in the path selected with find. I haven't been able to
replicate this behaviour but it has occured multiple times and destroyed 3
files. How can I pipe tars into gpg and what may have happened when gpg
started to overwrite files at random?
Thanks in advance for any help
Stefan Malte Schumacher
