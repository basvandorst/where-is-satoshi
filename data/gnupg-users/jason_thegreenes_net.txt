
@_date: 2007-08-01 13:27:20
@_author: jag7720 
@_subject: gpg in a for loop 
I am writing a "simple" script that loops through a file and encrypts each
file listed then secure copies it to another server...  I am stuck
When I run my script I get gpg: shawnm: skipped: public key not found
here is the part of my script that does the encrytping and scp-ing
       for FILE in `cat $EEX`
        gpg -e -r shawnm  $FILE
if [ $? -ne 0 ] ; then
  echo "Could not encrypt $FILE"
  exit 1
        scp $FILE.gpg $USER
if I put this in its own script by itself and substitute the $FILE variable
with a file name it will run.
gpg -e -r shawnm  file.txt
Am I missing something? Can someone help?

@_date: 2007-08-02 08:33:56
@_author: jag7720 
@_subject: gpg in a for loop [SOLVED] 
Ok,  I seem to have found a solution
If I add --homedir /home/foobar/.gnupg to my code it works.
so instead of this
gpg -e -r user at user.com file.txt
use this
gpg  -e --homedir /home/foobar/.gnupg -r user at user.com file.txt

@_date: 2007-08-01 12:10:04
@_author: jag7720 
@_subject: gpg in a for loop 
I am writing a "simple" script that loops through a file and encrypts each
file listed then secure copies it to another server...  I am stuck
When I run my script I get gpg: shawnm: skipped: public key not found
here is the part of my script that does the encrytping and scp-ing
       for FILE in `cat $EEX`
        gpg -e -r shawnm  $FILE
if [ $? -ne 0 ] ; then
  echo "Could not encrypt $FILE"
  exit 1
        scp $FILE.gpg $USER
if I put this in its own script by itself and substitute the $FILE variable
with a file name it will run.
gpg -e -r shawnm  file.txt
Am I missing something? Can someone help?
