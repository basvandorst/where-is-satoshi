
@_date: 2008-01-09 16:28:46
@_author: Paul Crittenden 
@_subject: Decryption error 
I am using gpg for encryption with Amanda, a disk backup utility. It
backups up just fine but when I try to restore I get the error:
ld.so.1: gpg: fatal: libgcc_s.so.1: open failed: No such file or
I have set environment variables both when I compiled gpg and when I run
the restore utility but I can't seem to get past this error.
I have worked with the Amanda folks but still haven't figured this one
Any ideas would be appreciated.
Paul Crittenden
Computer Systems Manager
Simpson College
Phone: 515-961-1680
Email: paul.crittenden at simpson.edu

@_date: 2008-01-10 08:32:31
@_author: Paul Crittenden 
@_subject: Decryption error 
I ran ldd against the binary gpg and it found the file.
# ldd /usr/bin/gpg
        libiconv.so.2 =>         /usr/local/lib/libiconv.so.2
        libresolv.so.2 =>        /usr/lib/libresolv.so.2
        libz.so.1 =>     /usr/lib/libz.so.1
        libreadline.so.5 =>      /usr/local/lib/libreadline.so.5
        libcurses.so.1 =>        /usr/lib/libcurses.so.1
        libdl.so.1 =>    /usr/lib/libdl.so.1
        libsocket.so.1 =>        /usr/lib/libsocket.so.1
        libnsl.so.1 =>   /usr/lib/libnsl.so.1
        libc.so.1 =>     /usr/lib/libc.so.1
        libgcc_s.so.1 =>         /usr/local/lib/libgcc_s.so.1
        libmp.so.2 =>    /usr/lib/libmp.so.2
        /usr/platform/SUNW,Sun-Fire-V890/lib/libc_psr.so.1
Paul Crittenden
Computer Systems Manager
Simpson College
Phone: 515-961-1680
Email: paul.crittenden at simpson.edu
-----Original Message-----
[mailto:gnupg-users-bounces at gnupg.org] On Behalf Of David Shaw
Sent: Wednesday, January 09, 2008 9:26 PM
This isn't an Amanda issue or a GPG issue.  Rather, it's a regular old
Unix-ish shared library issue.  The error means that the gpg binary
was compiled on a system that could find libgcc_s.so.1, but is now
being run on a system that cannot.
Does the libgcc_s.so.1 file exist at all on your machine?
Gnupg-users mailing list
Gnupg-users at gnupg.org

@_date: 2008-01-10 09:22:54
@_author: Paul Crittenden 
@_subject: Decryption error 
I fixed it, perhaps not the proper fix but it now works. I made a link
from /usr/local/lib/libgcc... to /usr/lib/libgcc...
Paul Crittenden
Computer Systems Manager
Simpson College
Phone: 515-961-1680
Email: paul.crittenden at simpson.edu
-----Original Message-----
[mailto:gnupg-users-bounces at gnupg.org] On Behalf Of David Shaw
Sent: Wednesday, January 09, 2008 9:26 PM
This isn't an Amanda issue or a GPG issue.  Rather, it's a regular old
Unix-ish shared library issue.  The error means that the gpg binary
was compiled on a system that could find libgcc_s.so.1, but is now
being run on a system that cannot.
Does the libgcc_s.so.1 file exist at all on your machine?
Gnupg-users mailing list
Gnupg-users at gnupg.org

@_date: 2008-01-10 13:28:01
@_author: Paul Crittenden 
@_subject: Decryption error 
Thanks, this fixed the problem, the correct way.
Paul Crittenden
Computer Systems Manager
Simpson College
Phone: 515-961-1680
Email: paul.crittenden at simpson.edu
Hash: SHA1
If it's a Linux-system add /usr/local/lib to the file /etc/ld.so.conf
and run the command ldconfig once.
In Solaris you need to use the crle-tool, I've found instructions here
so I don't have to type it:
 - Section "Configure the
dynamic linker"
Both commands have the same result, to tell your system where to look
for libraries. If you system doesn't look into /usr/local/lib because it
isn't configured to do so, you run into the problem you have.
HTH, Alex.
Gnupg-users mailing list
Gnupg-users at gnupg.org
