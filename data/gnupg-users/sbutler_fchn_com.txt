
@_date: 2001-12-05 22:19:01
@_author: Steve Butler 
@_subject: Using only one public key; no way to sign it 
Two options:
       --trusted-key long key ID
                 Assume  that  the  specified  key (which must be
                 given as a  full 8 byte key ID) is as  trustworthy
                 as one of your own secret keys. This option
                 is useful if you don't want to keep your  secret
                 keys  (or  one of them) online but still want to
                 be able to check the validity of a given recipient's
                 or signator's key.
       --always-trust
                 Skip  key  validation  and assume that used keys
                 are always fully trusted.  You  won't  use  this
                 unless  you have installed some external validation
                 scheme.
-----Original Message-----
Sent: Wednesday, December 05, 2001 11:37 AM
I want to use gpg with only a single public key.  I know the key is correct
and trusted and not compromised, but I can't find a way to tell gpg to trust
the key.
I don't have a private key to sign the public key with, and I don't think I
should need one.
I've found some relevent posts:
but nothing since then that's applicable.
Basically, I want to do the following, starting from a fresh installation of
gpg --import mypubkey.pgp
gpg --encrypt --recip "mypub" hello.txt
 without any user prompts.  The closest I've come is:
[c:\temp\gpg]gpg --encrypt --recip "mypub" --armor --quiet --batch --yes
gpg: abcd1234: no info to calculate a trust probability
gpg: no valid addressees
gpg: hello.txt: encryption failed: no such user id
If I take out the "--batch", I get a prompt:
Could not find a valid trust path to the key.  Let's see whether we
can assign some missing owner trust values.
No path leading to one of our keys found.
It is NOT certain that the key belongs to its owner.
If you *really* know what you are doing, you may answer
the next question with yes
Use this key anyway?
I tried "--trusted-key", but it said:
gpg: key abcd1234: no public key for trusted key - skipped
so I don't understand what it's good for.
I'd like the "--strong-yes" or a "--force-trust-key", or a workaround that
does not require any console input... commands that can all be run
with --no-tty.
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2001-12-05 22:26:01
@_author: Steve Butler 
@_subject: GNU Privacy Guard - Installation on Windoze poorly explained 
Peter,  I wrote a set of implementation and usage documents along for WinPT.
You might find these to be helpful.  I'll email them separately along with a
white paper that we are floating for the health insurance companies in the
Seattle, WA area.  If that doesn't provide enough background then email
I don't think you'll have to do the registry setting by hand.  I found I was
able to effect the change using the preference settings.
-----Original Message-----
Sent: Wednesday, December 05, 2001 11:16 AM
I wanted to install GNU Privacy Guard on my WinNT PC. I read the "Readme.w32" in the ZIP file. I got stuck on Step 4 of the "Installation Here is the vague text for reference:
4. If you did not use the default directory "c:\gnupg", you
   should enter a string with the directory into the Registry
   under the key:
    \\HKEY_CURRENT_USER\Software\GNU\GnuPG\HomeDir
   Please use forward slashes and not the backslashes when
   setting filenames for GnuPG into the Registry.
A. It doesn't state * where* exactly in the registry the string should be entered (in left pane, or under "Name", or under "Value").
B. should the directory path end with a "\" or not?
C. Is "HomeDir" to be * replaced* by the actual directory path, or should one replace the path under "name", under "value" (DE = "Wert")? Under the Name = "Standard", or does one create a new Name? What should the name of the new Name be?
D. At which location exactly does one use forward slashes?
E. What does "setting filenames" mean?
F. An *example * of a correct registry entry in the rteadme file would have solved all problems.
G. Step 5 says: "Enter "gpg" and see what happens". I doubleclicked on "gpg.exe" in the install directory and only got a DOS window asking me to type something - very unimpressive, and defietely not what I was hoping to get out of this; namely the ability to encrypt emails using Mozilla (and the "enigmail" module -  ).
Please provide usable instructions and reply to me directly. I would be very happy to use and evangelize this useful-sounding tool (if it works on windoze machines).

@_date: 2001-12-07 16:57:02
@_author: Steve Butler 
@_subject: Using GnuPG and Network Associates PGP. 
I use WinPT with GnuPG and Outlook on an NT 4.0 box.  Use the installer=
version at -----Original Message-----
Sent: Thursday, December 06, 2001 6:05 PM
I want to use gpg to encrypt messages from a web page that are sent
as e-mail to me. I have Outlook and Network Associates PGP installed.
I exported the public key from NA PGP and imported it into GnuPG.
When I try to encrypt I always get an application failure, memory acces=
I also tried to import the key ring from GnuPG to NA PGP, it works but =
use it because it's status is invalid!? Don't know why!
I was hoping to be able to decrypt my messages in Outlook rather then d=
it using command line. Is it possible to make this scenario work?
Thanks in advance, Ingi Skulason.
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments=
, is for the sole use of the intended recipient(s) and may contain conf=
idential and privileged information.  Any unauthorized review, use, dis=
closure or distribution is prohibited.  If you are not the intended rec=
ipient, please contact the sender by reply e-mail and destroy all copie=
s of the original message.

@_date: 2001-12-10 17:03:01
@_author: Steve Butler 
@_subject: Recursive Encryption 
I'd use tar to create the archive and then gnupg to encrypt it.  I haven't
thought about it but you might be able to pipe the output from tar to gnupg
(especially if you use named pipes).
-----Original Message-----
Sent: Friday, December 07, 2001 6:21 PM
key in my mail reader. As penance, I read through the documentation, and I
don't think there is a way using gpg alone; the way I'd do it would be to
put all the directories into an archive, and then to encrypt the archive. Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2001-12-12 20:56:02
@_author: Steve Butler 
@_subject: Security Implications 
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2001-10-31 22:08:01
@_author: Steve Butler 
@_subject: DSA/ElGamal key not usable by PGP v7 (imports but won't encrypt) 
============================== START ==============================
My apologies if this has a documented solution.  I pulled down this entire
archive and found some notes but not enough for me to figure out a solution.
We generated a new DSA/ElGamal key (2048 bits).  One group that is
attempting to encrypt data to send to us is unable to use the new public
key.  They have PGP v7.  It attempts to encrypt but then blows up.  Their
PGP support claims they don't support interaction with OpenPG.
I've seen the notes about Type 16 versus Type 20 ElGamal.  However, I'm
unable to determine which type we have and how to change it to the other
type (without invalidating our public keys for all the other folks).
pub  1024D
sub  2048g
sec  1024D
ssb  2048g
--Steve Butler
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-04-03 23:02:01
@_author: Steve Butler 
@_subject: Decrypting an entire file 
This is a multi-part message in MIME format.
x-gfisavedcharset: iso-8859-1

@_date: 2002-04-04 00:38:02
@_author: Steve Butler 
@_subject: Decrypting an entire file 
Sorry, all my scripting is in the Korn shell on a Linux box.
On Linux I'd do:
  echo "My Pass Phrase" | gpg --homedir my_home_dir --passphrase-fd 0
--no-tty --output - --decrypt "$2" >> my_decrypted_output
Don't know if the '--output -' will force the output to STDLIST on a *doze
box or not.  You might try it without the '--output -' altogether.
-----Original Message-----
Sent: Wednesday, April 03, 2002 1:32 PM
The file is encrypted on a Cobalt (Redhat Linux) and decrypted on a WinXP
machine.  Can you tell me what the full command line should be at the
command prompt on my WinXP box to accomplish this?  I sure do appreciate the
response :)  It will be a happy day when I know how to do this.
Tim D.
I don't remember all the details.  Seems like you had individual encrypted
sessions appended to the main file.
I suspect that since you want each decrypted session to also append to the
output that you will need to send the decrypted output to STDLIST and
redirect that to a file using the append redirect (>>).  I presume this is
on a *NIX box.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-04-09 22:15:01
@_author: Steve Butler 
@_subject: key security 
1.  Removable media is good.  I leave mine on my hard drive but other folks
don't have access to it  <>.  If you choose to
leave it on your hard drive use a nice, long, easy to remember but hard to
guess pass phrase.
2.  Encrypt to recipient does not use your private key.  You would use your
private key to sign if you should choose to also do that.
BTW, my attempt to reply directly to you resulted in this message:
Reporting-MTA: dns;milkyway.fchn.com
Received-From-MTA: dns;milkyway.fchn.com
Arrival-Date: Tue, 9 Apr 2002 13:12:01 -0700
Final-Recipient: rfc822;jeroen
Action: failed
Status: 5.0.0
Diagnostic-Code: smtp;550 Requested action not taken: mailbox unavailable
-----Original Message-----
Sent: Tuesday, April 09, 2002 12:37 PM
I'm new to the list and GnuPG. I have some small (newbie) questions.
1/ What about key security. Do you people all leave your private key on
the harddisk of your machine. On Debian linux that's in the .gnupg
directory. How about putting this whole directory on removable media
(for example diskette) A colleague of mine has his on a remove USB
media. Good idea? reactions? impractical?
2/ To encrypt a message all I need is the recipients public key, right?
Encryption is done solely with the public key of the recipient. My
private key is not used, is this correct?
A confused newbie.

@_date: 2002-04-10 16:33:02
@_author: Steve Butler 
@_subject: key security 
Throw in some "bad" spellings or words that sound the same but are spelled
differently with different meanings <> like, not
versus knot.  Use some random capitalization and a few numbers or other
strange keys at weird places.
The most important part -- remember it!
-----Original Message-----
Sent: Tuesday, April 09, 2002 5:00 PM
The only real security for your encrypted data depends
on the quality of your passphrase, although to some
Better to tell
them you used "head -c 24 /dev/random | mimencode" but
actually use the telephone number for your dead
grandmother that you remember from your youth plus your
dog's name plus two different negative descriptors you use
for your two ex-wives plus your favorite flavor...
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-04-11 16:57:01
@_author: Steve Butler 
@_subject: key security 
This is a multi-part message in MIME format.
x-gfisavedcharset: iso-8859-1

@_date: 2002-04-11 20:36:01
@_author: Steve Butler 
@_subject: hide warning 
Yes, you can do this two ways:
1.  chmod +s gpg     -rwsr-xr-x    1 root     root      1582955 Nov 14 11:00 gpg*
    Mine is located in /usr/local/bin
    This is the preferred method.
2.  --no-secmem-warning on the command line or no-secmem-warning in the
options file
    This will ignore the problem.
-----Original Message-----
Sent: Thursday, April 11, 2002 10:57 AM
Hi all.
Is there any way to avoid see the following message
gpg: Warning: using insecure memory!
I see it each time i sign or verify a message. I'm using red hat
GNU/Linux on a i386 and gnupg 1.0.6 version.

@_date: 2002-04-12 16:29:01
@_author: Steve Butler 
@_subject: Confidential Business Proposal 
Sure, sure!  You probably also want the bank account number in order to make
deposits (err, withdrawls) on a timely basis.
Looks like the abuse address was shut down!
SpamCop version 1.3.3 (c) Julian Haight, Joel Martin 1998-2002 All Rights
Parsing input:[mailto:a_abdul
[show] "dig arabia.com] mx" (digging for mail exchanger) Found
mailserver:mail.arabia.com. = 216.251.237.200
Tracking ip 216.251.237.200:
[show] "nslookup 216.251.237.200" (getting name) 216.251.237.200 =
[show] "nslookup mail.arabia.com" (checking ip) ip = 216.251.237.200
Paranoid reverse DNS passes
abuse.net mail.arabia.com = abuse postmaster
abuse = abuse bounces (11283 sent : 5642 bounces) (-3)
216.251.237.200 is not currently blocked by bl.spamcop.net
More Information..
Note, this is not necessarily a reflection on the specific address given. It
is rather based on the overall ISP score.
Found abuse address:postmaster
-----Original Message-----
Sent: Friday, April 12, 2002 4:49 AM
                                BUSINESS PROPOSAL
I am a member of the financial sector of my country Kuwait. My country
is interested in the purchase of a large quantity of some international
products which I understand your company can assist us procure.
 But oweing to a tight governmental restriction from the office of the
Crown Prince and the Prime Minister,Sheikh Saad Al Abdullah Al Salem Al
Sabah, against the prolific and indiscriminate issuance of huge
contracts to foreign companies and individuals who do not queue for
such priviledged consideration, I am hereby proposing to you if you
could supply us the goods quite confidentially via a neutral company
established abroad which has already won the contractor favour status
accordingly. Note that if you are willing to assist me and cooperate
with me, it would have to be done confidentially without my fellow
colleagues knowing the original source of the supply. You would be paid
cash before you supply the goods.
Kindly be informed at this initial stage that the sole purpose of my
concern in this transaction is based on the fact that all prices for
the product you are to supply, must be overin-voiced by 30% from the
original price you would tender. The government would pay, but the 30%
would serve as a compensation to me and some relevant officers who
would assist in the approval of the contract payment to you. You would
also be compensated for your assistance.Is this arrangement attainable?
If it is, then please kindly contact me via email immediately so that
we would resume
immediate discussion on how to commence transaction. Also furnish me
with your DIRECT PRIVATE TELEPHONE AND FAX NUMBERS for a more private
discussion over this issue.
I awaite your swift response.
 Best Regards.
Abdul Abubakar
Download mersal and add me as a friend :) Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-04-15 16:22:01
@_author: Steve Butler 
@_subject: Integrated GnuPG use with MS Outlook 
Have you looked at  ?
-----Original Message-----
Sent: Friday, April 12, 2002 11:04 PM
Does anyone know of a way to use GnuPG with MS Outlook?  The only thing I could find is the G DATA GnuPG-Plugin.  The download link at  doesn't go anywhere.
Can anyone vouch for this thing?
Better yet, is there an option out there that I missed?
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-04-17 00:21:02
@_author: Steve Butler 
@_subject: Encrypting in a directory 
It's very close in *NIX:
for i in *
  gpg --passphrase-fd 0 -o gpg_save/$i --symmetric $i < passphrase.txt
This presumes that gpg_save is a subdirectory to the directory where this
This gives one file out for each file in.  If the desire is a single
encrypted file for all files in the directory then:
  tar -czf my_dir.tar .
  gpg --passphrase-fd 0 -o my_dir.tar.pgp -- symmetric my_dir.tar <
I am presuming that a *doze user would use PKZIP or equivalent instead of
-----Original Message-----
Sent: Tuesday, April 16, 2002 2:27 PM
In Windows, first put your passphrase in a file, say passphrase.txt.
Then (all on one line, and caution: I have not tested this),
   for %i in (*.* ) do gpg --passphrase-fd 0 -o gpg\%i --symmetric %i <
   passphrase.txt
The DOS for command will execute a line for multiple files, substituting
the filename for %i throughout.
The --passphrase-fd 0 will read the passphrase from standard input, which
is redirected later with < .
-o sets the output file to a subdirectory (which you should create first)
so that the for command will not attempt to call gpg for the newly-created
.gpg files
I'm confident that Linux/Unix, etc. have a similar command, but due to the
exigencies of employment, I'm not as familiar with them as with MSW.
--Alan Frank
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-04-17 16:25:02
@_author: Steve Butler 
@_subject: Encrypting in a directory 
As in the old west, if you can't wipe out your tracks make them look =
you are going somewhere else.=20
-----Original Message-----
Sent: Wednesday, April 17, 2002 2:48 AM
=BBSteve Butler=AB sagte am 2002-04-16 um 15:21:13 -0700 :
Strange name for a gzip'ped tar file, don't you think? ;)
I'd rather use my_dir.tar.gz or even use bzip2:
tar cjf my_dir.tar.bz2 .
However, this will only work on GNU tar, I suppose.
Alexander Skwar
How to quote:	 (german)  =
Homepage:	      |     Jabber: askwar
   iso-top.de - Die g=FCnstige Art an Linux Distributionen zu kommen
                       Uptime: 2 days 15 hours 7 minutes
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, =
is for the sole use of the intended recipient(s) and may contain =
confidential and privileged information.  Any unauthorized review, use, =
disclosure or distribution is prohibited.  If you are not the intended =
recipient, please contact the sender by reply e-mail and destroy all =
copies of the original message.

@_date: 2002-04-17 17:33:01
@_author: Steve Butler 
@_subject: verifying rsa signatures 
I have imported RSA public keys sent to me by others using gpg --import. -----Original Message-----
Sent: Wednesday, April 17, 2002 8:26 AM
Does gnupg-1.0.6 have the support for verifying signatures generated
thru RSA encryption of SHA1 hases?
I dont see how i can specify a RSA public key to verify a digital
signature generated by RSA. "gpg --import" doesnt allow me to import RSA
public keys. My "gpg --version" however shows "PubKey RSA,...."
Also the "gpg --gen-key" shows me no "RSA"option for the kind of key i
want! ( i see only DSA&ElGamal, DSA and ElGamal options).
The gnupg faq however says that RSA is included frm gnupg-1.0.3 and
above versions!
Anyone can help me out?
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-04-17 18:18:01
@_author: Steve Butler 
@_subject: verifying rsa signatures 
I'm not familiar with openssl.  Can it export a public key into OpenPGP
format?  It sounds like the pub.pem is not in the correct format.  Can you
paste this to a public keyserver and have it downloadable?
-----Original Message-----
Sent: Wednesday, April 17, 2002 9:24 AM
Well, this is wht i get when i tried to import a RSA public key.
 >> gpg --import pub.pem
gpg: Warning: using insecure memory!
gpg: no valid OpenPGP data found.
gpg: Total number processed: 0
Note that pub.pem is my RSA public key extracted frm a RSA private key.pem
that i used to create the .sig file using RSA digital signature algo. Its
not a pgp public key and it is created thru  genrsa frm openssl. and i now
want to verify this .sig using gpg tools.
Does anything special need to be done enable RSA operations? Do we have to
do sth to the .gnupg/options file?
And assuming this operation had succeeded, how do i specify the rsa pubkey
that i want  to verify the rsa signature with? I see that "gnupg -verify
x.sig x.txt" doesnt have the option to take in a specified key.
Basically, can we, using gpg tools, verify the signatures generated thru RSA
private key using, say, openssl rsa sign generation utilities? If we can,
then can somebody guide me thru the steps please?
is for the sole use of the intended recipient(s) and may contain
confidential and privileged information.  Any unauthorized review, use,
disclosure or distribution is prohibited.  If you are not the intended
recipient, please contact the sender by reply e-mail and destroy all copies
of the original message.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-04-17 18:57:02
@_author: Steve Butler 
@_subject: verifying rsa signatures 
I'd never show my private key.  Note, I did try to import BOTH your public
and private keys!!  Lucky for you that they are not in the OpenPG format.
But somebody else may have openssl.  So, you should consider your private
key compromised at this point.
Here is an export of a public RSA key.  Note:  Since this isn't my public
key I have modified it in a few places so it will not be loadable.  But, you
can see that the format is different.
-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: GnuPG v1.0.6-2 (MingW32)
-----END PGP PUBLIC KEY BLOCK-----
-----Original Message-----
Sent: Wednesday, April 17, 2002 9:50 AM
- i guess openssl doesnt know the pgp format. I couldnt  find any openssl's
rsa utility to convert the rsa public key to OpenPGP format. Since i
noticed in the gpg faq and my "gpg --version" that  gpg has RSA  support, i
thought we should be able to verify the signatures generated by RSA algo
using the rsa public key (i guess this is pkcs format).
Thats when i stumbled upon this that gpg doesnt allow me to import anything
other than a key which is in open pgp format. So can we at all verify the
rsa digital signature by using gpg -verify??!
btw heres my pub.pem
-----BEGIN PUBLIC KEY-----
-----END PUBLIC KEY-----
and the corresponding RSA private key
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-04-17 19:33:02
@_author: Steve Butler 
@_subject: verifying rsa signatures 
It got my heart pumping this morning anyway <>.
That RSA key was generated by a client using PGP.  It was shipped to me in
the format I showed and I was able to import it into GnuPG.
Can I verify digital signatures using gpg sent by this client?  Yes.
Does this client use "SHA1 hased messages in pkcs format"?  I don't know.
Others will need to jump in here and help out regarding openssl.
-----Original Message-----
Sent: Wednesday, April 17, 2002 10:25 AM
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-04-18 18:54:01
@_author: Steve Butler 
@_subject: Lost Cipher and Hash preferences 
One of our clients has a problem with PGP attempting to encrypt a file to
us.  It simply exists without an error message and with nothing encrypted.
I looked at the preferences for their key versus the preferences for our key
and noticed that our key is missing _all_ cipher and hash preferences!
leo:/home/oracle > gpg --no-batch --edit fchn Secret key is available.
pub  1024D/1B32D54B  created: 2001-10-16 expires: never      trust: f/u
sub  2048g/5A2CEA48  created: 2001-10-16 expires: never     (1). First Choice Health Network (FCHN) Command> showpref
pub  1024D/1B32D54B  created: 2001-10-16 expires: never      trust: f/u
(1). First Choice Health Network (FCHN) Command> quit
How do I get the preferences back with GnuPG 1.06-2?
The our client's public key shows:
leo:/home/oracle > gpg --no-batch --edit VSP pub  1024D/03844E3A  created: 2001-02-20 expires: never      trust: -/q
sub  4096g/210BFAEA  created: 2001-02-20 expires: never     (1). VSP Enterprise Command> showpref
pub  1024D/03844E3A  created: 2001-02-20 expires: never      trust: -/q
(1). VSP Enterprise      Cipher: CAST5, 3DES, [1]
     Hash: Command> quit
Oracle Administrator
First Choice Health
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-04-18 19:48:02
@_author: Steve Butler 
@_subject: Lost Cipher and Hash preferences 
Get back to you on that.  I have a query out to them.  So far, this is all I
have (other than looking at their and our public keys):
"I was looking at your key and apparently you use GnuPGP. You will be the
first group that I send data to that is using GPG. In a nutshell, I tried to
encrypt your file, and it starts to, pulls up the banner info for your key,
and then asks if I want to use this key. But when I say yes, it pauses, and
then returns to the directory where the file resides. (when I use normal PGP
it displays the filename with a .pgp extension - indicating a successful
encryption.)  When I look at the directory nothing is encrypted. "My question is this,  do you have other clients that use PGP and send you
encrypted data? If so, Is there a special way to import the key? Are there
any special commands that I should use to encrypt the file. right now I just
use the typical pgp -e  ."
-----Original Message----- [with appropriate snips]
Sent: Thursday, April 18, 2002 10:13 AM
Hmm.  This shouldn't make any difference - a key without preferences
defaults to the safe values of 3DES & SHA1.  What version of PGP is
your client using?
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-04-18 20:01:02
@_author: Steve Butler 
@_subject: Lost Cipher and Hash preferences 
The client is using version 7.0.1.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-04-22 16:13:02
@_author: Steve Butler 
@_subject: Lost Cipher and Hash preferences 
It is getting more interesting.  The customer was able to encrypt using the
key on a *doze box.  It's their Unix box that doesn't like the key!
I followed the steps to add preferences.  No preferences were added.  Do I understand that v1.07 will have the ability to directly change the
-----Original Message-----
Sent: Sunday, April 21, 2002 10:20 AM
Hmm.  I tried encrypting to your key here with 7.0.3 and all was well.
I don't know what was exactly was changed between 7.0.1 and 7.0.3 (or
if what was changed is relevant to this problem).  That said, here are
two things to try:
1) Add preferences to your key and give it to the customer to try
   again.  You can add preferences by going to the --edit menu, using
   "delsig" to delete your self-signature, then using "sign" to
   re-sign it with itself.  (gpg -u 1B32D54B --edit 1B32D54B)
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-04-22 16:23:02
@_author: Steve Butler 
@_subject: 1.0.6e symmetrically encrypted signed message fails to decrypt 
I was able to decrypt it (and read it) using 1.0.6-2 with the WinPT
Version: GnuPG v1.0.6e (MingW32)
-----END PGP MESSAGE-----
Confirmed on Win32 compilation.
This does decrypt on PGP.

@_date: 2002-04-23 16:26:01
@_author: Steve Butler 
@_subject: Lost Cipher and Hash preferences 
Didn't realize that *doze and *nix were bashing.  While the workstation and
the PC at home are *doze box, the database server is a *nix box.  Sorry that
I touched a sensitive nerve.
I have GnuPG running on both the workstation (with WinPT) and the main
database server.
-----Original Message-----
Sent: Monday, April 22, 2002 10:40 PM
Hello Steve Butler,
Just what do you mean by "*doze" box? The GnuPG Users List is just that.
It is NOT a Unix List. There are many of us here that use the Windows OS
and are happy with it. I wish Members like yourself would stop this kind
of OS bashing nonsense!! Grow UP!!

@_date: 2002-04-26 17:05:01
@_author: Steve Butler 
@_subject: (no subject) 
Did you use the        --allow-secret-key-import    option on the import?
-----Original Message-----
Sent: Friday, April 26, 2002 7:12 AM
How I can export my secret key? I can't do it...
I try to do the command --export-secret-key MyNAme > File but when I try to
import it The program do nothing....
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-04-30 22:31:01
@_author: Steve Butler 
@_subject: Makefile errors? 
This is a multi-part message in MIME format.
x-gfisavedcharset:  iso-8859-1

@_date: 2002-04-30 22:41:01
@_author: Steve Butler 
@_subject: MakeFile on SuSE 7.2 -- OK 
It appears the problem is just on the RedHat 6.2EE platform.
v1.0.7 compiled clean and installed on SuSE 7.2 Oracle Administrator
First Choice Health Network
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-08-01 17:55:02
@_author: Steve Butler 
@_subject: gpg secure gateway feature 
Plus a Firewall, SPAM filter, along with a cook and bottle washer!
I run into the same mentality were I work.  Our file format developers
(Mercator) want to build exotic hooks into our Oracle database rather than
have nice clean interfaces that will work generically whether its to a
database or some other applications. This Unix concept of doing one thing (and only one thing) well seems to be a
foreign concept to most folks.  Reminds me of the difference between a
specialist and a generalist:
  Specialist -- knows more-and-more about less-and-less until knows
everything about nothing.
  Generalist -- knows less-and-less about more-and-more until knows nothing
about everything.
I've always wondered if that was the same point?
--Steve Butler
Oracle Administrator
First Choice Health Network
PS.  Please ignore the below warning.  The company's systems add it and I'm
unable to do anything to get it removed.  Just shows that government "Of the
People, By the People and For the People" will always do it "to the People"
given enough legislative freedom.  But let me crawl off that soapbox and
back into my heated and cable supplied cave.
-----Original Message-----
Sent: Thursday, August 01, 2002 8:06 AM
Yet more evidence that if PGP had included an mp3 player, people would
expect one in GnuPG...

@_date: 2002-08-05 22:15:53
@_author: Steve Butler 
@_subject: Using GPG to encrypt tape backups 
Did you try the --yes option with --batch?
-----Original Message-----
Sent: Friday, August 02, 2002 5:02 PM
I'm trying to use GPG as a filter to encrypt my tape backups:
tar cf - backup | gpg -e -r myID -z 9 -o /dev/nst0
The problem is that GPG wants to prompt because /dev/nst0 exists.
If I answer "y" it works fine, but I'm trying to automate this.  If I use
--batch, it complains about the existing file and aborts.
I have also tried without the output option, instead redirecting
stdout to /dev/nst0, but I get "write error: Invalid argument" errors.
I even tried piping gpg to dd of=/dev/nst0 bs=512, but no go either.
It does't seem to be possible to use gpg as a filter in this manner.
Does anyone have any ideas?  I would like to see an option to
overwrite the output file, but chances are slim that will be done.
Creating a temporary file and dumping that is not an option.
Carl Litt
Network Administrator
Execulink Internet
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-08-06 16:56:02
@_author: Steve Butler 
@_subject: Another idea (was Re: Password on command line?) 
And now somebody can do a 'ps -ef' and see it on the command for many
flavors of Unix.
My solution is not much better but does raise one small fence to keep the
mildly curious out.
Have the script read that pass phrase once from the keyboard and keep it in
a local environmental variable.
If you must write it out to a file then do something to make it non-clear
text.  It would still be fairly easy to decode but you have at least raised
one small fence.
echo "my pass phrase" | gzip | xxd -p > mypassphrase.file
Then when you need the passphrase read from the file:
  xxd -r -p mypassphrase.file | zcat | gpg --passphrase-fd 0 .....
Be aware that the above does not encrypt the file.  It simply changes it so
that it is not readily readable by a human.  But then, as you can see, it
doesn't take much to revert it back to plain text and a determined
individual will read your script and figure out how to read the file.  But,
by then, your file should be gone from the system.
-----Original Message-----
Sent: Monday, August 05, 2002 7:35 PM
It just occurred to me that, since you want to put this on a script, the
'echo "password" | gpg ...' option would be bad.  Your password would be
in plain text in a file.
Here's an improvement on that idea.
1) Make your script accept your password as a command-line argument.
Then, on your script you'd have:
echo "$1" | gpg --passphrase-fd 0
You could then call your script with:
yourscript.sh  "my secret passphrase"
If you use "quotes" you won't have trouble with special characters and
2) If you still don't want your passphrase to show up on your screen, you
can add this additional Perl program:
 -w
use strict;
use Term::ReadKey;
ReadMode('noecho');  # Turn off output to the screen.
print "Please enter your passphrase: ";
chomp( my $password = ReadLine(0) );
`yourscript.sh "$password"`;
I hope that this helps.
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-08-13 20:23:01
@_author: Steve Butler 
@_subject: can't get passphrase-fd option to work with GnuPG on HPUX when running a scheduled batch 
Try the --batch keyword.  Here is the script I use for decrypting files
inbound to our site:
# COPYRIGHT (c) 1995-2002 Stephen M. Butler dba XRG
# This information may be copied, distributed and/or modified under
# certain conditions, but it comes WITHOUT ANY WARRANTY.
# See the Design Science License for more details
# =================================================================
#  gpg_decrypt pass_id   input_file  output_file
#     Interface for edi and default routines to decrypt pgp files vi GnuPG.
#     #     pass_id      1 or 2 to indicate which pass phrase needs to be picked
#     input_file   name of file to decrypt.  Includes any path
#     output_file  name where to place output plain text file (with path)
#     Note:  See 'default' script for default usage.
homedir=$(default gpg_home)
  rm -f "$3" 2>&1 1> /dev/null
  default gpg_pass$1 \
 gpg --homedir $homedir --passphrase-fd 0 --no-tty --skip-verify \
        --output "$3" --decrypt "$2"
Note that our option file includes:
-----Original Message-----
Sent: Tuesday, August 13, 2002 9:43 AM
Hi, I'm new to the list. Sorry to join just when I need help with a problem,
but goes.
We're trying to use the --passphrase-fd option with GnuPG from a shell
script running through a batch run by scheduling software (ESP) on HPUX11.0 (not a good idea, I know, but it's what we need). We're using gpg version 1.0.7. Even though we can get the script to work when run interactively, regardless
of how we use the option (using standard in or with a real file descriptor),
the gpg command is failing when run through the scheduling software with the
following error:
gpp: cannot open /dev/tty: No such device or address
I was assuming this had something to do with the process running the script not having access to standard in in the same way that the script has when we
run it interactively. I've had the scheduling software su to the correct
user to help set the environment correctly, but it still doesn't work. I'm
looking for suggestions with trouble-shooting the problem.
Not sure if it's related, but I've never been able to successfuly use a real
file descriptor with the --passphrase-fd option on this platform. This works
in a shell script:
gpg --passphrase-fd 0 --decrypt myfile.txt.pgp <<!
But this just prompts me for the passphrase:
gpg --passphrase-fd secretinfo.txt --decrypt myfile.txt.pgp
I've specified the path to the file in a number of ways, to try to ensure it
can find the file, but it still won't work. I've also tried using the option
in with a number of other options (--output, --yes, etc) since I've noticed that using some options together seems to change the behavior of the gpg command in unexpexted ways, but I still can't make it work. Any thoughts on what could be causing the problem, or suggestions about how to get around it?
Poney Carpenter
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-08-16 16:59:01
@_author: Steve Butler 
@_subject: How to bypass the passphrase prompt when runing gpg decrypt command in a script? 
Thought sure it would be the FAQ by now.  Seems to be asked every day.
1. Decide whether you want to hard code the passphrase someplace on your
hard drive (as in the script or in a file the script can read); or,
2. Remove the pass phrase from your secret key.
If the later, remove it and be done.  If the former, then you will need to
do something on the order of:
cat my_pass_phrase_file | gpg --batch --notty --homedir $homedir
--passphrase-fd 0 --output my_text_file --decrypt my_encrypted_file
-----Original Message-----
Sent: Thursday, August 15, 2002 5:24 PM
Hi all,
Does anyone know how to achieve this in a script when running gpg decrypt
option w/o prompting for passphrase input? I'm using Version: GnuPG v1.0.7
(OSF1). Thanks in advance,
Shiuwen Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-08-27 18:12:03
@_author: Steve Butler 
@_subject: CR-LF on OpenVMS ? 
Is this before or after sending the file through an FTP transmission medium?
We have problems with one client who uses WS-FTP to send encrypted files to
us.  They do this in binary mode.  Still, somewhere along the path a random
 or two will be dropped (yes, in BIN mode).  If they try the FTP two or
three times in a row, the transmission will eventually send all the
So, is this after an FTP transmission and is the destination encrypted file
the same size as the source encrypted file?  If not, then you may have found
a more serious problem.
--Steve Butler
Oracle Administrator
First Choice Health Network
-----Original Message-----
Sent: Tuesday, August 27, 2002 8:27 AM
      The financial aid industry in the US uses OpenPGP to secure file
transmissions and we've built our systems around GPG.  Everything has
worked great so far, but we just encountered a problem with one of our
schools who is using GPG on VMS.  If they encrypt a text file that contains
CR-LF's the decryption fails.  Has any else encountered this ?
                              -JSM
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-02-13 16:53:02
@_author: Steve Butler 
@_subject: HOWTO Revoke a key without having any backup of the key pair 
We are all presuming that you don't have a backup of your hard drive and
didn't copy your secret key someplace else (like on a diskette locked up in
your desk buried under the junk pile in the corner where nobody would ever
think to look).  The only way to prove ownership is for you to recover your secret key and
have the pass phrase to use it.  Then you could generate a revocation
certificate.  Hmm. Guess I'll be busy today generating a couple of those for the "just in
case" scenario.
--Steve Butler
Oracle DBA
First Choice Health Network
(and please ignore the notice that the State of Washington is forcing all
health care business to append to all outgoing email).
-----Original Message-----
Sent: Wednesday, February 13, 2002 6:05 AM
It's easy: You just have to proof, that you are the owner of the key
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-02-13 21:31:02
@_author: Steve Butler 
@_subject: HOWTO Revoke a key without having any backup of the key pair 
Interesting point.  However, I think it points to the way out using existing
tools rather than anything new.  Each signer can still revoke their
signature as long as they can be convinced that the original party is this
same person now asking for this favor.  They should have records showing
proof of identity for the original party (photo ID at least) that can be
used to verify the identity of the person who lost their secret key.  At a
minimum they should revoke their signature if they have any doubt about the
other person's key being compromised.  You would end up with a key that
shows revoked signatures.
-----Original Message-----
Sent: Wednesday, February 13, 2002 11:11 AM
I'm glad I made a revocation key. But the point that there's no way to
know it's you could be partially wrong.
If I have my key signed by another person, he knows the key is owned by
me. So he should be able to vouch that I own the key. Ofcourse, you
can't trust the signer to be speaking for the real person (he/she could
be speaking for you without you knowing), but maybe something that works
could be devised? CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-02-19 00:12:02
@_author: Steve Butler 
@_subject: --batch option 
Try this script:
# COPYRIGHT (c) 1995-2001 Stephen M. Butler dba XRG
# COPYRIGHT (c) 1995-2001 First Choice Health Network
# This information may be copied, distributed and/or modified under
# certain conditions, but it comes WITHOUT ANY WARRANTY.
# See the Design Science License for more details
# =================================================================
homedir=$(default gpg_home)
  rm -f "$3" 2>&1 1> /dev/null
  default gpg_pass$1 \
 gpg --batch --homedir $homedir --passphrase-fd 0 --no-tty --skip-verify
        --output "$3" --decrypt "$2"
$1 = pass phrase number to indicate which pass phrase to pass (I have two
public keys)
$2 = incoming file name (with .pgp extension)
$3 = file name to save it as
NOTE:  default is a utility (ksh script) to return information from a
configuration file.
  gpg_home -- the home directory for gpg
  gpg_pass1 -- the pass phrase for key   gpg_pass2 -- the pass phrase for key -----Original Message-----
Sent: Monday, February 18, 2002 1:50 PM
Looking to automate the decryption process using gnupg. Can't seem to find
any examples of the --batch option.
Any links\documentation would be of immense help.
Get your FREE personalized e-mail at Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-02-19 16:45:01
@_author: Steve Butler 
@_subject: --batch option 
It's reading STDIN (file handle   I haven't tried this in a Windows
environment but you should be able to pipe it in just as in Unix.
-----Original Message-----
Sent: Tuesday, February 19, 2002 6:20 AM
Thanks Steve.
When gnupg is attempting to read the passphrase from a file descriptor, what
file does it look for? I am working on a Windows2000 environment.
is for the sole use of the intended recipient(s) and may contain
confidential and privileged information.  Any unauthorized review, use,
disclosure or distribution is prohibited.  If you are not the intended
recipient, please contact the sender by reply e-mail and destroy all copies
of the original message.
Get your FREE personalized e-mail at CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-02-20 17:49:01
@_author: Steve Butler 
@_subject: Comments on a small script please 
and hold it until needed.  That caused me some concern until I read the
script and discovered it wasn't so! The main problem is whenever you have a plain text file sitting around
somebody else can grab it.  There really isn't any way around that problem
on a multi-user system.  At our shop we don't care since everybody inside
the firewall may have a legitimate need to read the plain text.  Outside the
firewall the plain text never appears until the recipient at the far end
(across town, the state or the continent) decrypts it.
Just one small nit to pick on the coding.  Your test for the number of
arguments passed can be easily broken by somebody who knows how to pass a
null argument in the 2nd position.  In the Korn shell (ksh) you can use $#
to get the actual number of parameters that Unix/Linux thinks is on the
command line.  Not sure if that will work in the sh shell -- but I think it
--Steve Butler
Oracle Administrator
First Choice Health
-----Original Message-----
Sent: Wednesday, February 20, 2002 6:53 AM
Hi all,
I wrote a smallish sh-script to help me store my private
text files encrypted. The script is called "gpge" as in "gpg
edit" and is supposed to act as a simple frontend to
gpg. I'd like to use it on a multi-user unix machine, so
I'd really welcome some comments on its safety; how easily
it breaks? What should be changed?
The script is available at .
Thanks for yor time,

@_date: 2002-02-25 16:36:01
@_author: Steve Butler 
@_subject: Using gpg on multiple systems 
I am relying on a long/strong passphrase.  I suppose I could develop two
public keys.  One for home and one for work but...
I'll be interested to the approach others have taken.
--Steve Butler
Oracle DBA
First Choice Health Network
PS  Apologies for the forced disclaimer attached below.  This message is for
you folks!
-----Original Message-----
Sent: Friday, February 22, 2002 9:36 PM
Hello, I am not subscribed, so please CC me when you reply.
I'm planning on using gpg at home and at work. At home gpg is installed on
my computer where I'm the only one who uses, so my keys are secure enough.
At work however, a lot of people use the machines and they have gpg
installed. I'm paranoid about leaving my keys at the work server though.
What's the safest way for me to use the same keyID and keys at both work
and home? Both systems are running Linux.
Do I have to create two separate IDs for them? I'm new at this, so I'd
appreciate the step by step procedure on how to do it.
Thanks in advance.
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-02-27 16:57:01
@_author: Steve Butler 
@_subject: implications of subkeys? 
Has anybody written a tutorial on this?  I think I finally figured out the Public/Private key <> but when
Master and Subkeys are added, then I'm lost.
Frank put up this nice starting point:
Primary Key
  ->uid1
    -> you sign
    -> bob signs
    -> alice signs
  -> uid2
    -> you sign
    -> charlie signs
  -> subkey1
    -> you sign
  -> subkey2
    -> you sign
But I still have a lot of questions.  May I presume that the signing key is
the Master Private Key?  Are the private subkeys signed or is it just the
public subkeys?  Did that question make any sense?
How then do signing subkeys enter the picture?
Perhaps if one of the professors would sigh, groan, and pull out the
chalkboard - oops, showing my age - pull out the whiteboard and walk us
through a couple of examples we might catch on to the possibilities here.
Oracle DBA
First Choice Health Network
 -----Original Message-----
Sent:	Wednesday, February 27, 2002 7:27 AM
Hello Alex,
Alex, Frank and Dizss... That sounds simple enough, and thank you. I
think another aspect which is confusing to me is the term "Master
Signing Key", and then "signing subkey", which is, as I understand it,
something PGP doesn't offer. So, in an attempt to understand this,
myself and other people sign my UID(s), while my (owner) signature is
also attached to any subkey, be it signing or encryption, correct?
What is the purpose behind a signing subkey, and how does it differ from
the Master (Private) Key which I presume is also used for signing... or
are they one in the same? Can one change a signing subkey without it
affecting the Master Key? Can others still verify your signature even if
you change your signing subkey without having to issue a new Public Key?

@_date: 2002-02-28 17:08:01
@_author: Steve Butler 
@_subject: let the flaming begin or Factoring Breakthrough? 
Our trading partners who have RSA keys started talking last fall about
raising them to 4096 bits.  I don't know what they will do now!!  Stephen Butler
Oracle Administrator
First Choice Health Network
-----Original Message-----
Sent: Wednesday, February 27, 2002 3:29 PM
So if you have to hide information from the NSA you'd better use stronger RSA keys. Otherwise your 1024 bit RSA keys are still safe enough. New RSA keys should IMO nevertheless have at least 2048 bits.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments=
, is for the sole use of the intended recipient(s) and may contain conf=
idential and privileged information.  Any unauthorized review, use, dis=
closure or distribution is prohibited.  If you are not the intended rec=
ipient, please contact the sender by reply e-mail and destroy all copie=
s of the original message.

@_date: 2002-02-28 23:58:01
@_author: Steve Butler 
@_subject: implications of subkeys? 
============================== START ==============================
After thinking this over and using gpg to generate some keys today I have a
slightly better understanding:
  * generated a 1024 bit sign only DSA master key pair
  * added a 2048 bit encrypt only ELG sub key pair
  * added a 1024 bit encrypt only ELG sub key pair
  * added 2 1024 bit sign only DSA sub key pair
I suppose I could have used two ELG keys with sign/encrypt capability
instead of the four sub keys.
Now, I take it that the 3rd party must know the exact key ID I wish them to
use.  If somebody sends files both to me at home (pleasure) and at work
(business) then they must know enough to specify different key ID.  If I
remember the discussion from earlier in the week the email/user ID is not
attached to a specific sub key.
And I take it that for signing I have to specify the particular key ID on
the --local-user option rather than just allowing it to sign with the
default (which would probably be the master key).
However, to verify my signature the recipient need only to have my public
key with all of the sub-keys.  The software will know which key ID was used
to sign and will automatically use the correct public sub-key.  Likewise,
when I receive an encrypted file the software will know which public sub-key
they used to encrypt the data and will use the corresponding private
sub-key.  All private keys (master and sub-keys) are protected with the same
pass phrase.
Or have I fallen off the deep end again?  Stephen M Butler
Oracle Administrator
First Choice Health Network
Seattle, WA
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-01-04 18:21:01
@_author: Steve Butler 
@_subject: Passphrase as parameter in the command line 
NOTE:  My "default" program hands back data strings based on the host name
from which it is running.         gpg_home returns the path to where the key rings are located.
       gpg_pass$1 returns the pass phrase identified by $1 (1st parameter on
command line)
       The 2nd and 3rd parameters on the command line are the input and
output file names (including paths)
script name: gpg_decrypt
homedir=$(default gpg_home)
rm -f $3 2>&1 1> /dev/null
default gpg_pass$1 \
 gpg --homedir $homedir --passphrase-fd 0 --no-tty \
        --output $3 --decrypt $2
# end of script
Since we have two public keys (a 1024 bit one and a 2048 bit one -- we are
phasing out the 1024 bit key) we identify the pass phrases differently.  You
might prefer to have a single pass phrase and simply echo "my pass phrase"
and pipe that to gpg and use --passphrase-fd 0 Note that our options file has these additional entries that might be
appropriate for your environment:
compress-algo 1
Usage:  gpg_decrypt 2 input_file output_file
And, no, the passphrases are not in clear text.  However, a hacker could
quickly break my simple obfuscation.  But it keeps the company non-hackers
from casually gazing on them.  My personal pass phrase is not on the box.
--Steve Butler
Oracle DBA
First Choice Health Network
(And I apologize for the forced commentary the corporate email server will
apply once this message leaves my box).
-----Original Message-----
Sent: Friday, January 04, 2002 8:38 AM
Dear Linux community,
I have been looking for weeks for a solution to the following problem.
How can I give gpg the passphrase as parameter in the commandline to decrypt
files, instead to type it in after GPG's request? I need this to automaticaly process a lot of files under UNIX, managed by
self written program.
I would be greatful for any hints, or any ideas, which may lead to a
Should you have any questions, or require further information, please do not
hesitate to contact me. Best regards,
Horst Ritter
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-01-04 18:57:01
@_author: Steve Butler 
@_subject: How to decrypt / encrypt automatically 
This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.
I have some Linux/Unix scripts that do this rather nicely.  I'm currently
looking to see if I can copyleft them (I currently hold the copyright but am
unable to put the level of effort into them to make the commercial quality).
I'd suggest a Linux box <> to do all that work.  I'm currently working
to upgrade my edi_out script to pick up files from a Windoze FTP server (so
I can pull files off the user network) and send them to predefined
destinations (the name of the file will clue the script as to the
destination).  My ftpexec script already knows how to encrypt a file and can
pick up the appropriate key per destination.
My edi_in script knows how to pick up from from a web based ftp server pull
them inside a firewall and decrypt them (it is being enhanced to know how to
deliver specific files to predefined internal destinations such as Windoze
so users can pick up the decrypted file).  Now, if somebody will just clue me in on what I need to do to copyleft these
 Sent: Fri 1/4/2002 9:18 AM NOTE:  My "default" program hands back data strings based on the host name
from which it is running.        gpg_home returns the path to where the key rings are located.
       gpg_pass$1 returns the pass phrase identified by $1 (1st parameter on
command line)
       The 2nd and 3rd parameters on the command line are the input and
output file names (including paths)
script name: gpg_decrypt
homedir=$(default gpg_home)
rm -f $3 2>&1 1> /dev/null
default gpg_pass$1 \
 gpg --homedir $homedir --passphrase-fd 0 --no-tty \
        --output $3 --decrypt $2
# end of script
Since we have two public keys (a 1024 bit one and a 2048 bit one -- we are
phasing out the 1024 bit key) we identify the pass phrases differently.  You
might prefer to have a single pass phrase and simply echo "my pass phrase"
and pipe that to gpg and use --passphrase-fd 0
Note that our options file has these additional entries that might be
appropriate for your environment:
compress-algo 1
Usage:  gpg_decrypt 2 input_file output_file
And, no, the passphrases are not in clear text.  However, a hacker could
quickly break my simple obfuscation.  But it keeps the company non-hackers
from casually gazing on them.  My personal pass phrase is not on the box.
--Steve Butler
Oracle DBA
First Choice Health Network
(And I apologize for the forced commentary the corporate email server will
apply once this message leaves my box).
From: Dinesh Achuthan [mailto:dinesh.achuthan Friday, January 04, 2002 9:44 AMTo: Steve Butler; ritter, horst (EDS CH); gnupg-users How to decrypt / encrypt I have Windows NT as my OS. I have set of files generated automatically every hour and I need to FTP these files to different locations after encrypting it. In the other end I need to decrypt all these files. I need to automate this process in both the ends such that scheduled script gets executed to carry out these encryption and decryption processes. Since I need to key in pass-phrase everytime I am unable to do this.
Can anyone help me out detailing how to do this. I am new to this field. I am using Java to write my application. -----Original Message----- From: Steve Butler   Sent: Fri 1/4/2002 9:18 AM To: 'ritter, horst (EDS CH)';   'gnupg-users Cc: Subject: RE: Passphrase as   parameter in the command line
NOTE: My "default" program hands back data strings based   on the host namefrom which it is   running. gpg_home returns the   path to where the key rings are   located. gpg_pass$1 returns the pass   phrase identified by $1 (1st parameter oncommand   line) The 2nd and 3rd parameters on   the command line are the input andoutput file names (including   paths)script name:   gpg_decrypt gpg_home)rm -f $3   2>&1 1> /dev/nulldefault gpg_pass$1 \ | gpg --homedir   $homedir --passphrase-fd 0 --no-tty   \ --output $3 --decrypt $2#   end of scriptSince we have two public keys (a 1024 bit one and a 2048   bit one -- we arephasing out the 1024 bit key) we identify the pass   phrases differently. Youmight prefer to have a single pass phrase   and simply echo "my pass phrase"and pipe that to gpg and use   --passphrase-fd 0Note that our options file has these additional   entries that might beappropriate for your environment:compress-algo   1force-v3-sigsbatchUsage: gpg_decrypt 2 input_file   output_fileAnd, no, the passphrases are not in clear text.   However, a hacker couldquickly break my simple obfuscation. But it   keeps the company non-hackersfrom casually gazing on them. My   personal pass phrase is not on the box.--Steve ButlerOracle   DBAFirst Choice Health Network(And I apologize for the forced   commentary the corporate email server willapply once this message leaves   my box).-----Original Message-----From: ritter, horst (EDS   CH) [mailto:horst.ritter-eds   Friday, January 04, 2002 8:38 AMTo: 'gnupg-users   Passphrase as parameter in the command lineDear Linux   community,I have been looking for weeks for a solution to the   following problem.How can I give gpg the passphrase as parameter in   the commandline to decryptfiles, instead to type it in after GPG's   request?I need this to automaticaly process a lot of files under UNIX,   managed byself written program.I would be greatful for any hints,   or any ideas, which may lead to asolution.Should you have any   questions, or require further information, please do nothesitate to   contact me.Best regards,Horst   Ritter_______________________________________________Gnupg-users   mailing listGnupg-users   NOTICE: This e-mail message, including any attachments, is for the sole   use of the intended recipient(s) and may contain confidential and privileged   information. Any unauthorized review, use, disclosure or distribution is   prohibited. If you are not the intended recipient, please contact the   sender by reply e-mail and destroy all copies of the original   message._______________________________________________Gnupg-users   mailing listGnupg-users
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-01-07 17:15:01
@_author: Steve Butler 
@_subject: installing as suid root 
Log in as root.
cd to the directory where the program file lives.
chown root:bin file_name
chmod 4775 file_name  (that will do only the suid and not both suid and
-----Original Message-----
Sent: Saturday, January 05, 2002 8:12 AM
Hi all
I'm having a little trouble with the concept of suid root of setuid.
I've seen the FAQ and the HOWTO on the gnupg pages and there is
certainly talk of 'running gpg as suid root' to avoid 'insecure memory'
warnings but no mention of HOW to do this?
I've just re-installed gpg as root but I'm still getting the warnings. I
know this is my understanding rather than a bug but that knowledge
doesn't help.
Can someone please explain what and how I should be doing this?
Much oblidged :)

@_date: 2002-01-09 21:49:02
@_author: Steve Butler 
@_subject: Problems with PGP user decrypting GPG files 
A few questions:
1.  Is the size of file they have received the same as the size you sent?
2.  If not, check that you are using BIN for the FTP transfer rather than
3.  If so, still check just to be sure <>.
4.  If going through email are they using binary transfer methods to get it
from their email system to their decryption box?
5.  Can you check to see which session encryption algorithm was used?  Is it
one supported by PGP?
We had problems with a client unable to encrypt to us due to an older
version of PGP they were using.  This involved the blowfish (if I remember
correctly) session encryption algorithm. And I made the mistake once of shipping an encrypted file using ASCII level
ftp (so have a couple of clients coming back to us).  I'll be interested to hear the outcome.
--Steve Butler
Oracle DBA
First Choice Health Network
-----Original Message-----
Sent: Wednesday, January 09, 2002 8:18 AM
Hi everyone,
We are in the process of testing our encryption / decrytion with some
trading partners that are using PGP 7.0.1 on windows 2000 advanced server.
We are using gpg 1.0.6 on tru64 unix v5.1 on a DS10.
I have imported into GPG their public keys, and our private/public pair that
were exported from PGP 6.5.8 on a PC.
I encrypt files by using the following shell script:
#  Program Name: /usr/bin/encryptgpguser
#  Author: Mike Kirkland
#  Date: 11-28-01
#  Purpose:     This script will encrypt files past to it from server lyra
#               after encryption lyra will ftp files from this directory to
be sent to payer
#               This script will be rexec from lyra with 2 parameters passed
to it
#               1 the filename to be encrypted
#               2 the payer's public key identifier to be used for
#  Modifications:  N/A
cd /gpguser
USAGE="Usage: `basename $0`  "  # If no
filename or more than one, then tell how to use this script
if [ "$ -ne 2 ]; then   # Check to see that only   one filename and keyid
is passed in
  echo ;
  echo $USAGE;
  exit 1;
if [ -s "$FILENAME" ]; then    # -s option checks that file exists and
filesize > 0
  if [ $? -eq 0 ] ; then
    echo ;
    echo "filename $FILENAME found and is not an empty file";
      if [ -e "$FILENAME.gpg" ]; then
              rm $FILENAME.gpg;
              /usr/bin/gpg --batch -q --no-tty --no-verbose
--no-secmem-warning -r "$PUBKEYID" -e "$FILENAME";
              echo "PART 1 filename $FILENAME successfully encrypted and
copied as  $FILENAME.gpg" ;
              exit 0;
      else
              /usr/bin/gpg --batch -q --no-tty --no-verbose
--no-secmem-warning -r "$PUBKEYID" -e "$FILENAME";
              echo "PART 2 filename $FILENAME successfully encrypted and
copied as  $FILENAME.gpg" ;
              exit 0;
      fi
  else
    echo "ERROR filename $1 encryption failed!! check $USAGE or call your
Unix System Administrator"
  fi
  echo "ERROR filename $1 is not found or filesize is zero bytes"
exit $?
Everything is ok on the encryption, but when our trading partner gets the
file they get this error message:
   Error: encrypted session key is bad
Any thoughts?
Mike Kirkland
Unix System Administrator
National Data Corporation
Phone:  (918) 481-2817
Fax:      (918) 481-4275
mike.kirkland Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-01-15 00:30:02
@_author: Steve Butler 
@_subject: Password as an option 
You could cat or type the file contents via a pipe if you want to put the
phrase in a file rather than have them in the bat files.
Since we are moving from a 1024 bit key to a 2048 bit key, I built a script
that would obtain the appropriate pass phrase and set it to $STDLIST.  The
output is then piped to gpg just like the output from echo.
Sent: Monday, January 14, 2002 4:48 PM
The information you seek is in the gpg.man documentation file tha tcomes
with GnuPG:
echo passphrase|gpg --batch --yes --passphrase-fd 0 --symmetric FILENAME
:::Ryan Malayter, MCSE
:::Bank Administration Institute
:::Chicago, Illinois, USA
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-01-15 18:35:02
@_author: Steve Butler 
@_subject: a post I made 
He's in the list because he is running GnuPG!  Just because he's on a
Windoze box shouldn't be a reason to ban him from use of good encryption
Most of my use is on a Linux box.  However, there is some us from my Windoze
work station (but I'm not running the other software with which Mike is
having problems.
-----Original Message-----
Sent: Tuesday, January 15, 2002 8:43 AM
It worked for me with Linux =)
Sorry man... but If U R not a Linux/Unix user I don't
see what R U doing in this mailing list.
Brains R like books only work when they R open
Do You Yahoo!?
Send FREE video emails in Yahoo! Mail!
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-01-16 16:21:01
@_author: Steve Butler 
@_subject: Revocation questions 
Do   You should also be able to remove the old userid.  Upload the
changed key to the key server.
-----Original Message-----
Sent: Tuesday, January 15, 2002 5:08 PM
I was signing my emails (in KDE Kmail) with a gpg signature I created based
an email account that is no longer valid, and I am unsure if I should:
1.  Publish my revocation certificate and then generate a new keypair.  My
has not been compromised, so I do not know if that is the strict use of
2.  Expire my current keypair and then generate a new keypair.
3.  Keep current keypair and add a new userid to my current keypair.  If I
this, can I reset the new userid to be the primary one?
Protect Digital Rights!
Do You Yahoo!?
Send FREE video emails in Yahoo! Mail!
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-01-16 16:29:01
@_author: Steve Butler 
@_subject: PHP, windows and GNUPGP - output problems 
The --passphrase-fd option should help.  On Unix/Linux I use --passphrase-fd
0 and then echo "mypassphrase" | gpg [options]
However, I'm thinking that the STDIN, STDLIST, and STDERR may be numbered
differently in DOS/Windows.  Just a nagging thought from the days when I
used to write .bat files.  You might try a '1' instead of the '0' or check
with somebody knowledgeable about the numbering of standard file I/O in
Windows.  Maybe you can play at the command line level to see what happens
before attempting to implement in php.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-01-18 23:50:02
@_author: Steve Butler 
@_subject: Output of gpg --encrypt 
By default the encrypted output does not go to $STDLIST.  Therefore,
you can't redirect it with I/O redirection of file handle   By default it
appends the .gpg extension to the input file name and saves that.  Use the
-o or the --output command line directive.
I'll leave  and  for somebody else.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-01-28 20:30:01
@_author: Steve Butler 
@_subject: ASCII versus BINARY ftp of encrypted file -- post ftp fixup? 
We have a client who routinely sends us an encrypted file using the ASCII
rather than BIN ftp format.  At least whenever we have had them resend it
using the BIN format the decryption works.  The error we get is:
gpg: encrypted with 2048-bit ELG-E key, ID 5A2CEA48, created 2001-10-16
      "First Choice Health Network (FCHN)"
gpg: fatal: zlib inflate problem: invalid block type
secmem usage: 2336/4128 bytes in 6/11 blocks of pool 4768/16384
Has anybody played with doing a post-FTP fixup of such a file?  Suggestions
on how we might recover the file without having the sender ftp it again?
--Steve Butler
Oracle DBA
First Choice Health Network
[My apologies for the forced notice below.  The great State of Washington in
their infinite wisdom has decreed that such a notice must accompany all
email leaving our company.]
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-01-28 21:43:02
@_author: Steve Butler 
@_subject: ASCII versus BINARY ftp of encrypted file -- post ftp fixup? 
After doing an xdd dump of the file, it appears the parity bit came through.
Since the originating system is a windows box, I'm wondering if the only
change was to drop the  and keep the .
Now, I've already tried inserting a  everywhere I found an  but that
left the file in worse shape (don't worry, the original, as received, is
still available).  It appears there are 360 places where the  occurs.  I
guess it's experiment time to see which ones actually had a  in front of
When driving gpg from the command line it does leave a rather large section
of the file decrypted.  Inspecting this output leads me to believe there may
be only one  that should be inserted rather late in the file. Is there a spot late in the file where OpenPG requires a line break (which
on a Windows box would be )?
Now, if the sender would just return my phone calls -- my usually contact is
on vacation <>.
-----Original Message-----
I agree with Alex.  Once that 8th bit is gone, it's gone.  There's no

@_date: 2002-01-28 23:20:01
@_author: Steve Butler 
@_subject: ASCII versus BINARY ftp of encrypted file -- post ftp fixup? 
Just to bring you all up to date, a good version of the file was finally
Turns out that the ftp process was dropping the  on two of the three
legitimate occurrences of .  Don't know which side was dropping but
those two bytes dropped out of the middle sure made for an interesting day
And, if I should ever ask again, just because there is an  sitting in
the file doesn't mean that a  should precede it!
--Steve (sheepish grin on face -- and ignore that thing below ;-)
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-01-29 22:11:02
@_author: Steve Butler 
@_subject: --encrypt does not return to command prompt 
It appears you are encrypting the $STDIN (what you type on the keyboard).
I place the --encrypt as the last item in the options list and follow it
with the file name.  As in:
 gpg --output tdeck.gpg --recipient sethsperman --encrypt
You might want some other options if in a batch file (--batch --no-tty
--homedir xxx, etc).
-----Original Message-----
Sent: Tuesday, January 29, 2002 12:08 PM
When I run the following line at the command prompt, it **never returns to
the command prompt** but it does create a file:
gpg --output tdeck.gpg --encrypt --recipient sethspearman  (I DO
NOT SEE IN SYNTAX HOW TO TELL WHICH FILE TO ENCRYPT).
It DOES NOT return to the c prompt BUT DOES NOT appear to hang in any way.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-01-30 00:03:01
@_author: Steve Butler 
@_subject: FW: Import/Export key pair 
Of course, that means both machines can pretend to be you!  If you don't
want the destination box to have your secret key then don't do the 2nd
export.  But, if you are like me, and want the secret key both on your work
box and your home box, then this is what you'll have to do.  Just don't ever send your secret key to somebody else.  Best carry it on a
floppy between the two machines << and then destroy the floppy -- grin >>.
Sent: Tuesday, January 29, 2002 2:24 PM
I have not found in the documentation a way to save my key pair in order
to use it on another computer. Do I have just to copy the files from my
.gnupg directory ?

@_date: 2002-07-18 16:38:01
@_author: Steve Butler 
@_subject: Getting ready to use gnupg for real 
1.  Good.
2.  Why RSA?  I'm doing DSH/ELG 2048 bit keys.  [The primary is 1024 by the
encrypting is 2048].
3.  Great.
4.  Just sign and encrypt the message.  I don't think md5sum will buy you
-----Original Message-----
Sent: Tuesday, July 16, 2002 10:03 PM
Hello All,
   I have the possibility of "work-for-hire" situation coming up and my
wants secure email traffic between the 2 of us getting the work done.
   I have proposed that we do the following ::
1. Both install gnupg-1.0.7.
2. Both generate a key-pair, each key-pair containing 1 RSA-2048bit signing
key, and
1 RSA 2048bit
  encryption key.
3. Exchange public keys, sign em and all that.
4. A message consists of 2 parts:  1 message encrypted with public key of
                                   1 message which is the md5sum of the
message (+ date/time,
                                    and sender's name), signed with private
key of
It would seem that the above is maybe a reasonable protocol.  And 1 question
is, is
the above, or something
as safe, already available say, with the 'gpg -se' for signing and
encrypting the
same message, (I assume
gpg get's it right as to whose key to sign with and whose key to encrypt
And is md5sum still considered to be safe?  I hear everyone talking about
SHA1 these
days. I get the
feeling that some of this is already done automagically by gnupg but not
sure.  I have written
scripts to accomplish step 4 in reasonably automatic fashion, with the
exception of
passphrase prompting,
which I have eliminated for testing purposes by editting the keys and
changing to a
null passphrase.
Right now we have not done any of the steps.  I have done 1-4 already with 2
user ids
in order to
test my scripts.
Regards, Newton
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-07-18 16:40:02
@_author: Steve Butler 
@_subject: Installation in Windows environment 
I'll ship you a set of documents (via direct email) we wrote for GnuPG usage
within our company.  Perhaps they will help you.
-----Original Message-----
Sent: Wednesday, July 17, 2002 6:26 AM
because pgp is a little bit suspicious to me I wanted to use GnuPG in the
future. Unfortunately (at this time) my OS is Windows  and I haven't any
experience with Linux.
After downloading and unpacking the files I tried to run "gnupg.exe". A
window opended and I got the message: "Go ahead and type your message..."
And then...?
It would be very kind if  you could give me support how to run GnuPG on a
windows system (and perhaps a newsgroup to find additional infos)
Thanks in advance!
Yours sincerely
Andreas Budich
Andreas Budich
Leiter Sicherheitsmanagement PB
Head of security management PB
ORGA Kartensysteme GmbH
Am Hoppenhof 33
D- 33104 Paderborn
Phone: +49/ (0) 52 51/ 889 - 1550
Fax: + 49/ (0) 52 51/ 889 - 1590
EMail: abudich
ORGA is a company of the authentos-group - This e-mail is intended only for the person(s) to whom it is addressed and
may contain confidential information. If you have received this e-mail in
error, please notify us immediately by reply e-mail and then delete this
message from your system. Please
do not copy it or use it for any purposes, or disclose its contents to any
other person. Thank you for your co-operation.
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-07-19 16:25:02
@_author: Steve Butler 
@_subject: Installation in Windows environment 
Thank you Peter.  I'll copy these off to reference in future emails.
-----Original Message-----
Sent: Thursday, July 18, 2002 6:10 PM
Steve, did I ever told you the exact URL for the html-transcripts of your
Replace .html with .doc and you'll get Steve's original documents.
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-06-04 18:57:01
@_author: Steve Butler 
@_subject: Cannot encrypt/decrypt zip-Files correctly 
Remember that a compressed file is a binary file.  You can't treat it as =
text file.  Now, if this compressed file is also an output from tar (a
compressed tarball) it will be even more unreadable by a human.
1.  Be sure you used binary mode to do the download (using FTP?)
2.  When you decrypt a binary file it will still be binary -- just not
encrypted.  So, that gzip file on your clipboard will still be a gzip =
(which you will have to decompress).
3.  If it was a compressed tarball you will have to uncompress it and =
it (winzip might handle some forms of a tarball).
Have fun.
-----Original Message-----
Sent: Tuesday, June 04, 2002 9:18 AM
I=B4ve got a strange problem.  I try to encrypt a gz-file on my Linux =
using GPG, and download the encrypted file, and decrypt it with WinPT on =
That`s what I=B4ve tried in SHELL:
(17:23:59) [webseite] gpg -o out.txt -a -e --default-recipient akorthaus
in the same way I encrypted html-files which I could decrypt without any
Now I open out.txt and copied the code to my clipboard. After that I =
WinPT and decrypted the code from clipboard, that worked correctly, but =
result was:
As I allready said - the same way worked with html Files!
What could be the problem, or how can I decrypt complete files using =
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, =
is for the sole use of the intended recipient(s) and may contain =
confidential and privileged information.  Any unauthorized review, use, =
disclosure or distribution is prohibited.  If you are not the intended =
recipient, please contact the sender by reply e-mail and destroy all =
copies of the original message.

@_date: 2002-06-04 23:02:06
@_author: Steve Butler 
@_subject: Cannot encrypt/decrypt zip-Files correctly (Andreas) 
I missed the -a flag on the first read.  So, the encrypted file could be
ftp'ed as ASCII as the -a does give the ASCII armoring.
However, the important piece is that the file (before encryption and after
decryption) is a gzipped file.  Now, unless somebody can show me a new flag
for gzip, all such files are binary even though you start with ASCII text
files.  So, Andreas was looking at a gzipped file and wondering why it
looked funny.  If he had uncompressed it after decrypting then it would have
looked like his original file. Now, gpg does do it's own compression so it generally wouldn't be a good
idea to compress files with some other utility prior to feeding them to gpg.
But, I can think of some reasons why that might be desirable (disregarding
any side affects of attempting to compress an already compressed file).
PS  None of the "desirable" reasons will hold water for a purist.
-----Original Message-----
Sent: Tuesday, June 04, 2002 11:18 AM
don't you have to specify ascii armoring on the command line tho?
andreas doesn't do that in his command line.  or is gpg smart enough
to ascii armor a .txt output file based on extension?

@_date: 2002-06-05 18:32:01
@_author: Steve Butler 
@_subject: Cannot encrypt/decrypt zip-Files correctly (Andreas) 
gpg will compress every bit as good as gzip.  So, if you are going to
compress and encrypt in a single command line, then let gpg do the
However, as the list contributors stated earlier, if you have to save =
un-encrypted file in a compressed state, then do the compression outside =
gzip and then encrypted the already compressed file.  There is a flag =
can pass to tell gpg to not attempt to compress the file.  Otherwise you =
the small risk of the file actually increasing in size as it attempts
further compression.
In your case where you are dumping a database, I can understand =
the dump on the fly as it comes out of the database.  That is what I do =
order to keep the dump under 2 Gigs (and I use split just in case the
compressed file does go over 2 Gigs).  Should I have to send that in the
wild (ie, internet) then I'd want to encrypt it without uncompressing it
But, if you are going to dump/compress/encrypt all at once, then dump
directly into gpg and let it do the compression and encryption.
--Steve Butler
Oracle Administrator
First Choice Health Network
-----Original Message-----
Sent: Tuesday, June 04, 2002 7:36 PM
YOU ARE GREAT!!!
Thank you very much, now it works, I just had to add --homedir, that was
all. CHMOD was 700, but it was not important. That=B4s how it works:
system ("gzip -c /www/path/to/file.htm | gpg --homedir
Thanks a lot!
Now I try to get the whole Script running. But what did you think about
compression? Why not gzip?

@_date: 2002-06-05 18:32:05
@_author: Steve Butler 
@_subject: Cannot encrypt/decrypt zip-Files correctly (Andreas) 
Interesting.  Didn't realize that GnuPG had that level of deductive
reasoning.  Sounds like a winner.
As for the other responder that is doing gzip and gpg in a pipeline, it will
be easier on the system to have one less process and one less pipe by
removing gzip and letting gpg do the compression.  Again, there may be
reasons to do it in two steps especially if you want the decrypted file to
still be compressed.
Options!  Options!  Always a dozen ways to do something right.  Now, which
one is the best is only something the implementer can decide.  Everybody
else will probably disagree <>.
However, after 27 years in this industry I've come to the following
The best way is:
1.  The method the implementer understands intuitively and is obvious to the
most casual observer.
2.  Does the job the way the implementer wants it done.
3.  Produces the desired results.
4.  Does so in an acceptable amount of time.
5.  Uses no more than an acceptable amount of resources.
The downside is that somebody will always come along to so a method that
uses less resources!
-----Original Message-----
Sent: Tuesday, June 04, 2002 7:56 PM
If you encrypt a compressed file, GnuPG (1.0.7) will try to
automatically disable compression so as not to compress twice.  By
default, if you encrypt a uncompressed file, GnuPG will automatically
compress it while encrypting.  You are pretty safe going either way
with the compression :)

@_date: 2002-06-05 18:33:02
@_author: Steve Butler 
@_subject: why is an existing file not overwritten by output-file? 
(rm output.gpg; mysqldump database | gpg -o output.gpg -e
--default-recipient andreas)
-----Original Message-----
Sent: Wednesday, June 05, 2002 4:32 AM
Is there another possibility instead of:
rm output.gpg | mysqldump database | gpg -o
output.gpg -e --default-recipient andreas
But that doesn=B4t work, the file is removed, but nothing else happens. =
what happens, if 'output.gpg' does not exist?
Overwriting would be the best idea, but how?

@_date: 2002-06-05 22:43:01
@_author: Steve Butler 
@_subject: =?iso-8859-1?Q?RE:_can=B4t_uncompress_files_anymore=3F!?= 
When you decrypt it with gpg it will also decompress so it is no longer =
a gz
-----Original Message-----
Sent: Wednesday, June 05, 2002 6:05 AM
It worked so fine, and I don=B4t know what=B4I=B4ve changed, theonly =
thing I
changed is the trust of the recipient. I can encrypt the file, and I can
decrypt it on my PC, size semms to be right, but I can=B4t unzip it =
'archiev either unknown format or damaged' command is the following:
mysqldump database | gpg --homedir /link/to/.gnupg -o
file.gz.gpg  -e --default-recipient andreas --yes
Why shouldn=B4t work this? If I try -a or leave out --yes  the result is =
same. Do you have an idea? It is so strange, because some hours ago it
worked perfectly! What could be a possible reason?

@_date: 2002-06-06 17:18:02
@_author: Steve Butler 
@_subject: =?iso-8859-1?Q?RE:_Passphrase_and_swapfile_=28David_Pic=F3n_=C1lvarez=29?= 
Hash: SHA1
In a recent article I read the authors showed that even overwriting does
not prevent a well financed and determined group from picking off the
last 4-5 layers.  It has to do with the stray magnetic fields and the
heads not being exactly (down to the atom) positioned the same for each
write.  In fact, that technology is used by some data recovery
companies to pick off data one layer back.  So, even if it has been
"properly" erased, somebody, with the right set of tools, can read it.
The main question becomes, in the swap file which set of random byte
sequences (even ASCII strings) do we use.  Now, that might still be a
smaller set to test.  So, perhaps the programs that do deal with pass
phrases should always make sure that they are buried in a much larger
and random ASCII string in memory.  The exact location could also be
random thus increasing the uncertainty of using any particular string
or sub string found in a swap file.

@_date: 2002-06-07 21:44:03
@_author: Steve Butler 
@_subject: =?iso-8859-1?Q?RE:_Passphrase_and_swapfile_=28David_Pic=F3n_=C1lvarez=29?= 
Sorry, the same article talked about the magnetic flux left floating on =
It's not as reliable and seems to be based on the length of time the =
remained in memory before shut down.
In the mid '70s there were rumors that the US government considered hard
drives on which classified information had been stored to continue to be
classified devices even after:
1.  Randomly written longitudinally.
2.  Randomly written transversely.
3.  Burned.
4.  Beaten to pulp.
5.  Buried in a dump for classified materials (highly secured).
They considered the data still vulnerable after taking all 5 steps.  =
like they were right.
On the other hand, this group has always said that when you give up =
security of your computer you should consider everything to be =
Wondering when they'll be able to read the brain waves and pick off the =
10 layers of thought.
-----Original Message-----
Sent: Friday, June 07, 2002 12:03 AM
When you begin to worry about such things, you'd better
 - destroy the discs physically
 - use only non-battery backed solid state disks
(at least I've never heard of anybody recovering data from a unplugged
DRAM, so I'd assume this would be really safe: install your system to
this disk, as soon as the attacker comes, pull the plug...)

@_date: 2002-06-12 20:48:01
@_author: Steve Butler 
@_subject: cipher algorithm 1 (IDEA) is unknown or disabled 
Yup.  I had similar problems until I edited the preferences on my public key
and redistributed it.
You have the following options:
1.  Obtain and load the IDEA cipher module -- doesn't come with GnuPG.  You
may have legal restrictions that prevent you from using IDEA.
2.  Modify the preferences on your public key to ensure that IDEA isn't
3.  Have the client modify their script so they do no use the IDEA cipher.
-----Original Message-----
Sent: Wednesday, June 12, 2002 10:59 AM
  I did install gpg and I am able to encrypt and decrypt here
  and our customer able to decrypt my file.
* But when I try to decrypt their file I am getting following error
  Could you please help....
   ( they are using pgp )
vftp:/data/ftp/nat1 21% gpg --decrypt test.file.pgp
You need a passphrase to unlock the secret key for
user: "nat1 (This is for nat1 account)
"  2048-bit ELG-E key, ID 04208468, created 2002-06-10 (main key ID 72A1D0B2)
gpg: cipher algorithm 1 (IDEA) is unknown or disabled
gpg: the IDEA cipher plugin is not present
gpg: please see  for more information
gpg: encrypted with 2048-bit ELG-E key, ID 04208468, created 2002-06-10
      "nat1 (This is for nat1 account)
"  gpg: public key decryption failed: unknown cipher algorithm
gpg: encrypted with 2048-bit ELG-E key, ID 458DC124, created 2002-06-03
      "viko
gpg: decryption failed: secret key not available
vftp:/data/ftp/nat1 22%
Jomy Vellian
IT Department
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-06-12 23:47:02
@_author: Steve Butler 
@_subject: cipher algorithm 1 (IDEA) is unknown or disabled 
look at the man pages for the following:
--edit-key And then the following sub-menu commands within --edit-key
Sent: Wednesday, June 12, 2002 7:48 PM
Yup.  I had similar problems until I edited the preferences on my public key
and redistributed it.
You have the following options:
1.  Obtain and load the IDEA cipher module -- doesn't come with GnuPG.  You
may have legal restrictions that prevent you from using IDEA.
2.  Modify the preferences on your public key to ensure that IDEA isn't
3.  Have the client modify their script so they do no use the IDEA cipher.
-----Original Message-----
Sent: Wednesday, June 12, 2002 10:59 AM
  I did install gpg and I am able to encrypt and decrypt here
  and our customer able to decrypt my file.
* But when I try to decrypt their file I am getting following error
  Could you please help....
   ( they are using pgp )
vftp:/data/ftp/nat1 21% gpg --decrypt test.file.pgp
You need a passphrase to unlock the secret key for
user: "nat1 (This is for nat1 account)
"  2048-bit ELG-E key, ID 04208468, created 2002-06-10 (main key ID 72A1D0B2)
gpg: cipher algorithm 1 (IDEA) is unknown or disabled
gpg: the IDEA cipher plugin is not present
gpg: please see  for more information
gpg: encrypted with 2048-bit ELG-E key, ID 04208468, created 2002-06-10
      "nat1 (This is for nat1 account)
"  gpg: public key decryption failed: unknown cipher algorithm
gpg: encrypted with 2048-bit ELG-E key, ID 458DC124, created 2002-06-03
      "viko
gpg: decryption failed: secret key not available
vftp:/data/ftp/nat1 22%
Jomy Vellian
IT Department
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is
for the sole use of the intended recipient(s) and may contain confidential
and privileged information.  Any unauthorized review, use, disclosure or
distribution is prohibited.  If you are not the intended recipient, please
contact the sender by reply e-mail and destroy all copies of the original
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-06-18 16:52:07
@_author: Steve Butler 
@_subject: Preferences 
Yup.  Those are the "defaults" and "Must Have" that are called for in the
-----Original Message-----
Sent: Tuesday, June 18, 2002 7:16 AM
Hello, I have some questions about the preferences list in gpg. Lets say for
example, I set preferences in gnupg1.07 through edit-key to S10 h3 h2 z2 z1.
i update them using updpref, now i do a pref on the same key but now it has
a [mdc] at the end of the list. Is that supposed to happen? Another thing, when I do a showpref on same key, 3DES shows up on the key
when I did not specify it in the preferences list. I only specified S10. Any
ideas why this is happening?

@_date: 2002-06-21 18:04:02
@_author: Steve Butler 
@_subject: Suppressing passphrase prompt 
Guess I'll have to start a counter of how many times I post this:
leo:/home/oracle > cat /usr/xrg_dba/bin/gpg_decrypt
# COPYRIGHT (c) 1995-2002 Stephen M. Butler dba XRG
# This information may be copied, distributed and/or modified under
# certain conditions, but it comes WITHOUT ANY WARRANTY.
# See the Design Science License for more details
# =================================================================
#  gpg_decrypt
#     Interface for edi and default routines to decrypt pgp files vi GnuPG.
homedir=$(default gpg_home)
  rm -f "$3" 2>&1 1> /dev/null
  default gpg_pass$1 \
 gpg --homedir $homedir --passphrase-fd 0 --no-tty --skip-verify \
        --output "$3" --decrypt "$2"
Notes: 1.  default is a utility for looking up default values given the keyword
    A.  gpg_home returns the path to send to the --homedir option.
    B.  gpg_pass$1 returns the passphrase associated with the first command
        parameter (I have 2 secret keys -- most everybody is on the 2nd key
2.  Command line parameters:
    $1 -- identifier for which passphrase to return
    $2 -- name of input file to decrypt
    $3 -- name of output file to send the clear text
3.  Usage:  gpg_decyrpt N file_in file_out
The purist will suggest that you set your passphrase to an null string and
run without a passphrase.  The above method has about the same security as
removing your passphrase -- eg, a good hacker will be delayed only a second
or two.
--Steve Butler
Oracle Administrator
First Choice Health Network
-----Original Message-----
Sent: Friday, June 21, 2002 8:18 AM
Hi All,
I am a new user to GPG and I am hoping that someone on this list can provide an easy answer to this.  When I try to sign & encrypt a file (--sign
encrypt --armor), gpg prompts me for a passphrase for my secret key.  Is there any way to suppress this prompt?  I need to suppress it because the encryption is going to become part of an automated batch file.
Steven Handleman
IT Manager
Geewax, Terker and Co.
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-06-21 18:16:01
@_author: Steve Butler 
@_subject: Suppressing passphrase prompt 
Oops.  I gave my decrypt script which has the passphrase stuff.  Here is my
encrypt script which does not do signing.  However, feel free to merge the
two scripts for your purposes:
# COPYRIGHT (c) 1995-2002 Stephen M. Butler dba XRG
# This information may be copied, distributed and/or modified under
# certain conditions, but it comes WITHOUT ANY WARRANTY.
# See the Design Science License for more details
# =================================================================
# gpg_script PK_ID source
#   Interface script for edi and ftpexec to encrypt files vi GnuPG
homedir=$($xrgbin/default gpg_home)
if [[ $# -ne 2 ]]; then
  echo "gpg_script: Must supply 2 parameters" >&2
  exit 99
rm -f "$2.pgp" > /dev/null
gpg --homedir $homedir --no-tty --always-trust --recipient $1 \
    --output "$2.pgp" --encrypt "$2"
if [ $x -ne 0 ]; then
  echo "gpg_script: gpg failure code '$x'" >&2
echo "$2.pgp"
exit $x
-----Original Message-----
Sent: Friday, June 21, 2002 9:01 AM
Use --passphrase-fd then for automated entering.

@_date: 2002-06-28 20:20:01
@_author: Steve Butler 
@_subject: Windows CE version 
Just had a need to place an encrypted file on my iPAQ running under Windows
CE.  Anybody know of a GnuPG compatible tool that will run on the Compaq
iPAQ?  I'd hate to have to depend on going to my local PC to
decrypt/modify/re-encrypt this file.
--Steve Butler
Oracle Administrator
First Choice Health Network
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-03-01 16:36:01
@_author: Steve Butler 
@_subject: implications of subkeys? 
I was really thinking of 2 ELG sign/encrypt sub-keys instead of the 2 ELG
encrypt sub-keys and the 2 DSA sign sub keys.  However, there was some note
about the ELG sign/encrypt being depreciated.  I'm not sure what that really
means in this case but the dictionary definition implied this was a bad
The more comments I read, the closer I come to believing the best bet is a
key set for work and a totally separate key set for home.  Or more
precisely, a personal set and a business set.
Now, it does appear to me that the default mechanism GPG uses to build the
keys (a DSA sign pair and an ELG encrypt pair as a sub-key) really does lend
itself to keeping the DSA around as long as possible while putting a life on
the ELG sub-keys.  However, if the authorities came and asked for my decrypting key, I'm not
sure I'd know how to pull only the ELG sub key (private piece) out to give
to them without also letting them have the DSA private key.
PS  Thanks for everybody who has chipped in on this discussion as it sure
has increased my understanding of the black box.
-----Original Message-----
Sent: Thursday, February 28, 2002 3:57 PM
Yes, but then you would have had two "keys" in the keyservers and on
people's keyrings.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-03-01 18:10:01
@_author: Steve Butler 
@_subject: implications of subkeys? 
Hmm.  This whole thread started because of somebody's desire to secure =
home communication versus their work site communication.  It really has=
 been
a learning experience.  Your and David's helpful comments throughout th=
process have shed a lot of light.  So, if I have read everything correc=
it sounds like the general consensus is:
*  Have one signing only key pair -- the master set (most likely DSA of=
appropriate strength for long term usage).
*  Have one encryption sub-key (until most keyservers understand and
correctly handle multiple sub-keys) that is changed every so often.
*  Expose only the session-level key if possible when given a court ord=
(with appropriate legal counsel).
*  If must expose the encryption sub-key, then generate a new pair for
future use (and change it more often) and revoke the prior sub-key pair=
I guess this still doesn't answer the one individual's concern about wa=
to have business and personal encryption different in case a court orde=
forced exposure of one or the other key.  Sounds like we need to wait f=
updates to the keyservers.
-----Original Message-----
Sent: Friday, March 01, 2002 8:12 AM
Steve Butler wrote/napisa=B3[a]/schrieb:
 is a
Don't do this. I did this once and still regret (my experiences with 'l=
v3 key' are a dim echo of this past). It complicates your web of trust
position, you have two set of user-ids to gather signatures, you never =
if your correspondent has the right key on and generally the hassle is
significant. And significantly bigger than for single key.

@_date: 2002-03-04 19:14:01
@_author: Steve Butler 
@_subject: short question 
Even then I think he wanted it all in a single file.
As for 'foo' and 'fubar', etc.  It's all based on well mis-understood
mathematical functions.  It's like f(x) or f'(x) or f"(x).  Or, just th=
to yourself "It's a math thing".
And man page is a Unix thing.  Very, very technical.  Even I haven't ma=
the art of writing one of those yet <>.
I guess you could say that the authors of the gpg web page were
unconsciously (I hope it was that anyway) showing their background.  Ju=
st as
I suspect your background is based in Microsoft products.  Not that one=
 is
better than the other (you would have to ask "At what?" before venturin=
g an
I think the equivalent in the M/S word is Help File.
Anyway, I still think Unix shows its gender bias since they were not na=
woman pages.  <>
-----Original Message-----
Sent: Monday, March 04, 2002 9:41 AM
Hello Armin Sch=F6ch,
With all due respect Armin, the instructions exactly as you have listed=
do not exist in the "man page". What you have typed is a reflection of
your expertise in using GPG... not something you get by reading the
Manual once. ;o)
BTW, why does GnuPG use terms like "foo" and "man page"? The terms are
non-sensical... I've never even heard the term man page before... and
"foo" doesn't even exist?

@_date: 2002-03-06 22:17:02
@_author: Steve Butler 
@_subject: Decrypt without password... 
Create your own script file called gpg_decrypt and accept the file name you
want to decrypt (without the .pgp extension)
echo "my pass phrase here" | gpg --homedir /etc/gnupg/homdir --passphrase-fd
0 --no-tty --output "$1" --decrypt "$1.pgp"
NOTE:  The quotes around $1 allow the file name to contain embedded spaces.
Embedded spaces in file names seems to be natural to Windows boxes.  It
causes havoc to Unix type scripts unless you are very careful to allow for
the spaces.
Or, just change your key to not have a pass phrase at all.
-----Original Message-----
Sent: Wednesday, March 06, 2002 12:39 PM
Is there a way to decript files without having to type my private
I'd like to put this password as default to decript the massages cause i
want to make a script to do it by itself...
Is there a way to do it???
Thanks in advance,
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-03-06 23:46:02
@_author: Steve Butler 
@_subject: Decrypt without password... 
I'd never do this for my personal key.  But for the corporate one running on
the internal corporate GnuPG server where everybody who has access to the
machine can read the plain text anyway....
Now, I don't leave the pass phrase as plain text but the methods I use to
"hide" it are easily broken (otherwise I'd have to actually encrypt it with
another passphrase).  It at least keeps the causual observer somewhat at
bay.  -----Original Message-----
Sent: Wednesday, March 06, 2002 1:49 PM
Is it just me, or is this insecure? I would _never_ place my pass phrase in
a file. Security and convenience seem to always be at odds. As for me, I'll take security along with inconvenience any day.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-03-07 20:23:02
@_author: Steve Butler 
@_subject: Revoke certificate -- format errors 
I attempted to revoke an old key for which I found the revoke certificate.
However, wwwkeys.us.pgp.net returned this message:
Key block in add request contained no new
keys, userid's, or signatures.
Your key block contained 1 format errors,
which were treated as if the erroneous elements
hadn't been part of your submission.
The last error was on key 0xf87cc708:
Key block corrupt: signature without key
I had submitted this in the submit key screen.
-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: GnuPG v1.0.6 (MingW32)
Comment: For info see Comment: A revocation certificate should follow
-----END PGP PUBLIC KEY BLOCK-----
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-03-07 20:39:01
@_author: Steve Butler 
@_subject: Import Public key + Import Revoke Cert ==> export key to keyserve 
Found a solution.  I had to import the public key from the keyserver, then
import my revoke certificate and export the updated key back to the
keyserver.  At least the keyserver now shows my key as being revoked.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-03-07 22:41:01
@_author: Steve Butler 
@_subject: Auto Descrypt 
This is asked about once a day.  I thought it was twice today -- but noticed
that the other one was actually yesterday!
1.  Don't use a pass phrase at all!  When it asks for a pass phrase just hit
the enter key.  See the man page (gpg text file for windows folks) regarding
the --edit option.  This is just as secure as the 2nd option and requires
less scripting changes.
2.  Feed the passphrase in your script via the echo command as in:
     echo "my pass phrase here" \
 gpg --homedir /etc/gnupg/homdir --passphrase-fd 0 --no-tty --output
myoutfile --decrypt myinfile.pgp
This is korn shell syntax and subject to slight changes for Windows batch
-----Original Message-----
Sent: Thursday, March 07, 2002 12:54 PM
Is there a way to decript files without having to type my private
gpg -o file.txt --decrypt file.txt.gpg
Gpg needs the private password to decrypt. Is there a way to put this
password inside a file and do the command above without the need to put the
password?? Or is there another command that i can do it???
Thank you.
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-03-08 21:01:01
@_author: Steve Butler 
@_subject: change the passphrase... 
The secret key is encrypted by the passphrase.  Therefore, to use the secret
key you must supply the pasphrase that is used to decrypt it.  That's why
the passphrase needs to be longer than a single word.  And yes, if you have two different secret keyrings each having your secret
key but secured by two different passphrases, then each will work as you
-----Original Message-----
Sent: Friday, March 08, 2002 10:59 AM
As it is possible to change the passphrase that means (to me) that the secretKey "knows" the passphrase.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-03-12 19:05:02
@_author: Steve Butler 
@_subject: Compatibility problem ?? 
The message you are showing is not the same our clients had, but there does
appear to be a cipher preference problem for DSH/ELG key pairs generated by
1.0.6.  Once our clients went to the latest version of pgp 7, they were able
to use the keys.
You're message almost sounds like you sent them a public key that can only
sign but not encrypt.  However, that might be an artifact of the above issue
dealing with the cipher preferences.  I forget which one was causing
problems on the PGP side.
Stephen M Butler
Oracle Administrator
First Choice Health Network
-----Original Message-----
Sent: Tuesday, March 12, 2002 8:29 AM
is there a known compatibility problem of GPG with PGP 6 and 7?
Other people can't use my gpg key because "key can't be used for
I used the default values for key generation with gpg 1.0.6
There's nothing about that in the FAQ.
Thanks in advance

@_date: 2002-03-20 17:00:02
@_author: Steve Butler 
@_subject: [WINPT USERS] Questions about installing latest WinPT over an 
NOTE to GnuPG-user list.  I've cc'd this from the winpt user list as the
issues are really about gnupg rather than winpt.
This person lost their passphrase to their old secret key.  So we are
suggesting that a work around to telling the world that it's lost is for him
to sign it with his new key, then revoke the signature and upload the old
key to the keyserver again.
Guess it's time for the experts to step in and set us onto the right path.
Sent: Tuesday, March 19, 2002 4:00 PM
sending it again
     Probably didn't need to do this but at least your old key is now signed
by your new key.
I've never revoked just the signature before.  But, the process should be
similar to revoking the entire key.  It should write out a certificate that
you can import back in to the keyring.
Guess we need the experts from the gnupg-users email list.  I'll cc that
list on this reply and suggest that you look there for further assistance.
anything has changed.. Somehow you need to get that signature revoke certificate generated and
imported back in to the keyring.  Then upload the results to the keyserver.
down from the Should I copy my old public >key to Linux, sign/revsign it, then move the
signed/revoked public key back over to WinPT, and
In theory you should be able to pull a key down from the keyserver, sign it,
upload it back.  All you need to do is add in the revoke signature piece
before uploading it again.
signed/revoked key back
overwrite C:\GNUPG
Just import the revoke certificate.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-03-21 16:45:01
@_author: Steve Butler 
@_subject: terms and conditions in using encryption with gnupg 
Perhaps one would rather use the program than to sue it.  Here in the U=
it might be possible to sue the program <> but I think the previo=
author really intended to type use instead.  And to think that the hamm=
distance between those two words is only 2.
-----Original Message-----
Sent: Thursday, March 21, 2002 6:42 AM
Christian Brandl wrote/napisa=B3[a]/schrieb:
You may sue the program as you like. The source code is avaliable, and =
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments=
, is for the sole use of the intended recipient(s) and may contain conf=
idential and privileged information.  Any unauthorized review, use, dis=
closure or distribution is prohibited.  If you are not the intended rec=
ipient, please contact the sender by reply e-mail and destroy all copie=
s of the original message.

@_date: 2002-03-25 17:10:01
@_author: Steve Butler 
@_subject: how to revoke a key? 
He may have to export it to a file with --armour.  Then take the file to a
clipboard.  Run up to the keyserver on the web and manually paste it as a
new key.  That's what I ended up doing when I had to use a revoke
certificate.  Thanks to David for sharing that hint with me a few weeks
-----Original Message-----
Sent: Monday, March 25, 2002 7:06 AM
a friend has lost his passphrase. He created a revocation ceritificate,
but do not know how to revoke it at the key servers.
I told him first he should import the revocation certifikate into his
keyring and afterwards he should export his key and send this export
to the key-server.
First he sent me his exported key. I was able to import it and saw that
it is revoked. But the transfer to the keyserver fails.
I tried to find information with google, but nowhere was an exact example.
So i am not really sure if my insctrucions where ok.
gpg was started as following:
gpg --send-keys --keyserver wwwkeys.nl.pgp.net revoked-key.asc
kind regards,
Micha Holzmann

@_date: 2002-03-26 17:31:02
@_author: Steve Butler 
@_subject: Licensing 
I picked the following up from  Free software is a matter of the users' freedom to run, copy, distribute,
study, change and improve the software. More precisely, it refers to four
kinds of freedom, for the users of the software: * The freedom to run the program, for any purpose (freedom 0). * The freedom to study how the program works, and adapt it to your needs
(freedom 1). Access to the source code is a precondition for this. * The freedom to redistribute copies so you can help your neighbor (freedom
2). * The freedom to improve the program, and release your improvements to the
public, so that the whole community benefits. (freedom 3). Access to the
source code is a precondition for this. ``Free software'' does not mean ``non-commercial''. A free program must be
available for commercial use, commercial development, and commercial
distribution. Commercial development of free software is no longer unusual;
such free commercial software is very important. -----Original Message-----
Sent: Tuesday, March 26, 2002 7:29 AM
I would like to use GPG in a corporate (for profit) setting. Can someone
give me a definitive answer to the question:
Will this be legal??
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-03-26 21:41:02
@_author: Steve Butler 
@_subject: FAQ item?: Using GnuPG in a business 
On the first page of  is a link saying 'Free Software'
that takes a person to   Now, I
agree that a person has to read pretty far down that page to find
"Thus, you may have paid money to get copies of GNU software, or you may
have obtained copies at no charge. But regardless of how you got your
copies, you always have the freedom to copy and change the software, even to
sell copies. ``Free software'' does not mean ``non-commercial''. A free program must be
available for commercial use, commercial development, and commercial
distribution. Commercial development of free software is no longer unusual;
such free commercial software is very important."
Perhaps a disclaimer at the top or even back on  where the
'Free Software' link is at, the wording could be changed from:
"It can be freely used, modified and distributed under the terms of the GNU
General Public Licence" (where Gnu General Public Licence is a link)
To say:
"This software may be freely used, modified and distributed in any
commercial or non-commercial environment without payment of royalties under
the terms of the Gnu General Public License"   (where Gnu General Public
License would still be a link)
An addition to the FAQ up toward the top (it's been awhile since I read it)
might also be appropriate.  I know it took me a couple of days of digging
through the web site before I could convince myself and my boss that this
was for real.
Stephen M Butler
Oracle Administrator
First Choice Health Network
sbutler GnuPG: 8B17 7384 AB86 D67F 7612 3587 5715 C880 1B32 D54B kg7je  GnuPG: 8A25 9726 D439 758D D846 E5D4 282A 5477 0385 81D8 -----Original Message-----
Sent: Tuesday, March 26, 2002 10:26 AM
With the recent changes at NAI/pgp.com, there has been a definite
upswing with the "can I legally use GnuPG in my business?" questions.
While the GPL discussions are interesting, I suspect that the majority
of the people asking this question are companies that just want to use
GnuPG now that they can't use PGP.  Most questions of code
modification or distribution don't apply to them - they just want a
PGP-alike to use.  Naturally, the GPL lets them do this.
Could someone write this up and stick it on a web page somewhere?  If
nobody jumps at it, perhaps I'll have a crack at it in a couple of
days.  The idea here is to make it very clear that if they're just
talking about using it (rather than making their own version and
distributing the changes, or whatever else), then they don't need to
bother to read beyond the first paragraph.
Maybe this should be a FAQ - I saw Douglas Calvert volunteered to be
the new FAQ maintainer.

@_date: 2002-03-27 16:31:02
@_author: Steve Butler 
@_subject: Help!! 
I've seen this under two conditions (which are twins of each other):
1.  The file was FTP'ed using ASCII rather than Binary mode from a =
box to a *NIX box.  This causes all  bytes to be dropped from the =
2.  The file was sent in Binary mode from a WSFTP client to a Linux =
One or more (but not all)  characters where dropped.  The file is at
least one byte short.  Wish I could find the culprit cause it only =
with one client!
Stephen M Butler
Oracle Administrator
First Choice Health Network
sbutler GnuPG: 8B17 7384 AB86 D67F 7612 3587 5715 C880 1B32 =
kg7je  GnuPG: 8A25 9726 D439 758D D846 E5D4 282A 5477 0385 =
-----Original Message-----
Sent: Wednesday, March 27, 2002 5:22 AM
Today while decrypting a file, I got following errors:
gpg : fatal :zlib inflate problem : invalid stored
block lengths
secmem usage : 2048/3552 bytes in 4/8 blocks of pool
I have gpg (GnuPG) 1.0.4 version.
It's difficult for me to understand this error.
Please help me out in solving this problem.
Do You Yahoo!?
Yahoo! Movies - coverage of the 74th Academy Awards=AE
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, =
is for the sole use of the intended recipient(s) and may contain =
confidential and privileged information.  Any unauthorized review, use, =
disclosure or distribution is prohibited.  If you are not the intended =
recipient, please contact the sender by reply e-mail and destroy all =
copies of the original message.

@_date: 2002-03-27 17:52:01
@_author: Steve Butler 
@_subject: Help!! 
I wish I knew!  So far it is happening only with one client.  But it =
to happen every time they need to send the file.  So far they can resend =
up to four times before all the bytes show up.=20
I'm pointing the finger at the client's software.  So far they are =
to take my suggestion and attempt to a UNIX to Linux FTP so see if that =
more reliable.  Every so often they don't spot the size discrepancy and =
automated script emails me that gpg returned a status of '2'.  Hand =
to decrypt usually so that problem that started this thread (zlib =
but have shown various other errors. =20
So, if in doubt, have the client verify the length of the file!
Stephen M Butler
Oracle Administrator
First Choice Health Network
sbutler GnuPG: 8B17 7384 AB86 D67F 7612 3587 5715 C880 1B32 =
kg7je  GnuPG: 8A25 9726 D439 758D D846 E5D4 282A 5477 0385 =
-----Original Message-----
Sent: Wednesday, March 27, 2002 8:23 AM
In _binary_ mode??? Sheesh, that's an ugly one! Is this a common flaw
with the WSFTP clients, or a specific version? Bugs like that cannot be
accepted, it has to be corrected ASAFP.
+----------| En dag uten Cola er som en hund uten svane. |----------+
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, =
is for the sole use of the intended recipient(s) and may contain =
confidential and privileged information.  Any unauthorized review, use, =
disclosure or distribution is prohibited.  If you are not the intended =
recipient, please contact the sender by reply e-mail and destroy all =
copies of the original message.

@_date: 2002-03-27 18:06:02
@_author: Steve Butler 
@_subject: 1024 bit encryption compromised? 
We have one client using RSA.  Last fall they moved to 4096 bits due to
rumors about vulnerability at 1024.  We moved to 2048 bit DSA/ELG-E at the
same time.  Perhaps we're just paranoid.
Stephen M Butler
Oracle Administrator
First Choice Health Network
sbutler GnuPG: 8B17 7384 AB86 D67F 7612 3587 5715 C880 1B32 D54B kg7je  GnuPG: 8A25 9726 D439 758D D846 E5D4 282A 5477 0385 81D8 or kg7je
-----Original Message-----
Sent: Wednesday, March 27, 2002 8:16 AM
    According to a security debate sparked off by cryptography expert
    Lucky Green on Bugtraq yesterday, 1,024-bit RSA encryption should
    be "considered compromised".
The question is floating around among us -- would it be wise to upgrade
to 2048 bits, or is this just speculations? Now that they're talking
about this, I guess one should be a step ahead of the snoopers --
especially when it comes to the future robustness of the signatures.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-03-28 22:47:02
@_author: Steve Butler 
@_subject: commercial usage of gnupg allowed 
No commercial restrictions.  No royalties.  You can give the source away.
Usage in certain countries may be restricted by their local law.
Stephen M Butler
Oracle Administrator
First Choice Health Network
sbutler GnuPG: 8B17 7384 AB86 D67F 7612 3587 5715 C880 1B32 D54B kg7je  GnuPG: 8A25 9726 D439 758D D846 E5D4 282A 5477 0385 81D8 -----Original Message-----
Sent: Thursday, March 28, 2002 12:15 PM
is a commercial usage of gnupg allowed? If yes, what has to be
considered or payed? Are there any restrictions to send encrypted files
to or use gpnupg  in a foreign country, e.g. somewhere in the world?
Please send your answer to: Thomas.Rueppel
Your soonest reply is highly apriciated!
Best regards,
Thomas Rueppel
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-04-30 23:17:02
@_author: Steve Butler 
@_subject: Makefile errors? 
Went searching and found these defines in the ldap.h file:
 LDAP_PORT       389
 LDAP_VERSION1   1
 LDAP_VERSION2   2
 LDAP_VERSION    LDAP_VERSION2
Searched the SuSE box to find what it had and found nothing at all (perhaps
that's why it compiled clean -- ldap wasn't there at all).  Not reading C and knowing even less about make files, I wasn't able to
determine if that is the case.  Since we are moving from RedHat to SuSE, I'll just stay with 1.0.6 on the
RedHat box and bring 1.0.7 up on the SuSE box.
-----Original Message-----
Sent: Tuesday, April 30, 2002 1:45 PM
The tar you sent clears it up:
(a few dozen more ldap.h errors follow).
What version of OpenLDAP are you using?  You need OpenLDAP to compile
the LDAP keyserver code, but if you don't want to update your OpenLDAP
installation, you can configure GnuPG with the '--disable-ldap' flag.

@_date: 2002-05-01 16:47:01
@_author: Steve Butler 
@_subject: Makefile errors? 
Thank-you.  Looks clean.
-----Original Message-----
Sent: Tuesday, April 30, 2002 7:24 PM
In the meantime, you can successfully build on the RedHat box if you
run configure as "./configure --disable-ldap"
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-05-06 16:34:02
@_author: Steve Butler 
@_subject: moving gpg to another PC 
Looks like the best thing would be to export both your public and private
key rings from the old box and import them into a fresh install of GnuPG on
the new box.  I tend to do that when moving between boxes that might have
different flavors/versions/packages at the O/S level.
-----Original Message-----
Sent: Saturday, May 04, 2002 12:03 PM
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-05-06 18:45:01
@_author: Steve Butler 
@_subject: moving gpg to another PC 
First off, the developers are also here and have been a great help to me in
the past in this list.  Second, I'm not an expert user, but do try to help as best I can.
In that light, I'm beginning to suspect that the source key isn't signed
correctly.  Now, that might be an artifact of moving from 1.0.6 to 1.0.7
without that one step about rebuilding the key caches (I forget the actual
syntax).  Then again, that might not be it either.  But the following
questions need to be answered before we proceed:
1.  What version of gpg created the key pair?  (it was gpg instead of pgp?)
2.  What version of gpg is currently on your source box? 3.  What version of gpg is on your destination box?
4.  What type of key pair?
5.  Please provide a gpg --list-key 'X' output (maybe even with the
--with-colons option)
With that information (and perhaps some follow-up questions) somebody will
be able to provide help.
-----Original Message-----
Sent: Monday, May 06, 2002 8:52 AM
Hmm... I tried this approach. It didn't seem to work.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-05-06 19:15:02
@_author: Steve Butler 
@_subject: moving gpg to another PC 
I saw the main developer ask for the logs of the builds for the two boxes.
So you have at least come up on their radar <>.
Looks like if you have the same version on both boxes it probably boils down
to a difference in the way the boxes handle the storing of certain types of
data.  Werner will be the best to pursue the problem.
As to the questions of showing the list information, there is nothing there
that would compromise your keys in anyway.  In fact, uploading your public
key to a key server will provide more information.  Here are several formats
of the list.  Turns out that it is the initial output from the edit command
that I thought might be most helpful.  It shows the user IDs and the
sub-keys all tied together.  You can do this on the source machine.  The
third method should show that you have a userID attached.
gpg --list-key helpdesk
pub  1024D/1B32D54B 2001-10-16 First Choice Health Network (FCHN)
sub  2048g/5A2CEA48 2001-10-16
gpg --with-colons --list-key helpdesk
pub:u:1024:17:5715C8801B32D54B:2001-10-16::59:-:First Choice Health Network
(FCHN) ::scESC:
gpg --no-batch --edit helpdesk
Secret key is available.
pub  1024D/1B32D54B  created: 2001-10-16 expires: never      trust: -/u
sub  2048g/5A2CEA48  created: 2001-10-16 expires: never     (1). First Choice Health Network (FCHN) Command> quit
You are in good hands with Werner.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-05-07 23:42:03
@_author: Steve Butler 
@_subject: Making it simple 
What problem are you having?  I receive files encrypted by clients using PGP
(both 6 and 7) and am able to decrypt them with both gpg 1.0.6 and 1.0.7.
Neither version required any extension (other than setting the following in
the options file) nor any dollars.
compress-algo 1
--Steve Butler
Oracle Administrator
First Choice Health Network
-----Original Message-----
Sent: Tuesday, May 07, 2002 1:42 PM
What does it take to extend GnuPG 1.0.7 so it will decrypt messages
encrypted in PGP 6.x or 7.x for commercial use in the united states ?
 Is this even possible or do you have to purchase a license still ?
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-05-08 16:30:02
@_author: Steve Butler 
@_subject: Making it simple 
Thanks Werner.  These are settings from an earlier release.  Guess we haven't paid much
attention to the new defaults in 1.0.7 and the impact on the options file.
As long as it keeps working we tend to focus on the items not yet completed
or those that just broke :-).
Guess I'll have to do an analysis on the public keys our customers have sent
us to see if they do specify a compression preference.  Seems we had
problems with one client and this fixed it (without breaking the others).
I'll stick this on my "to do" list.
-----Original Message-----
Sent: Tuesday, May 07, 2002 11:50 PM
On Tue, 7 May 2002 14:41:23 -0700, Steve Butler said:
Hmmm, this should get handled automagically without setting any
options.  There are preferences for the compress algorithms similar to
those for the cipher algorithms. The options file which gets installed by the first use did always set
this and 1.0.7 make this a default anyway (and --excape-from).  So
everything should work fine even without an options file.
  Werner
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-05-08 16:52:01
@_author: Steve Butler 
@_subject: Install problem 
Thanks to David's earlier help, I can testify that ./configure
--disable-ldap on RH 6.2EE box works great.
-----Original Message-----
Sent: Wednesday, May 08, 2002 6:53 AM
Yes.  The OpenLDAP that comes with RH 6.2 is pretty old.  If you don't
need LDAP keyserver upport, you can also skip it by specifying
--disable-ldap when you run ./configure.

@_date: 2002-05-10 16:45:01
@_author: Steve Butler 
@_subject: help needed!!! 
For the first install on NT, I use the graphical installer from WinPT
Then I change the preferences so that GnuPG expects it's keyrings and
options in C:\gnupg.
-----Original Message-----
Sent: Thursday, May 09, 2002 10:48 PM
Hello group,
I am unable to install the GnuPG for windows NT. Can anybody help me with this. If you can provide me the stepwise process of installation, it would be great. Any help is appreciated.
Click below to visit monsterindia.com and review jobs in India or Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-05-10 21:27:01
@_author: Steve Butler 
@_subject: gnupg1.0.7 removing the secmem warning 
Hey, if that is the worst thing you did this week then feel yourself very
lucky.  At lease you had the presence to verify the location of what you
were running! Meaning there have been times when I didn't and wished I had.
Have a great weekend.
-----Original Message-----
Sent: Friday, May 10, 2002 12:16 PM
I apologize for bothering the list with this question...
I checked my PATH and, sure enuf, I was not executing the gnupg-1.0.7 that
I just installed, I was running the /usr/bin/gpg that apparently came
with RH7.2 Linux, and it did NOT have setuid set for root.
I answered my own question ....
in other words .... DOOOH! (Homer Simpson)
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-05-10 23:36:02
@_author: Steve Butler 
@_subject: Making it simple 
Finally looked the preferences on all the public keys from the folks with
whom we exchange data.  Most of them did not have any preference for HASH
and COMPRESS methods.  What will gpg use?
And, those two folks having RSA keys have no preferences whatsoever!  What
is the default for this case?
I've set our preferences to be:
     Cipher: CAST5, AES, AES192, AES256, 3DES
     Hash: SHA1, RIPEMD160, MD5
     Compression: ZLIB, ZIP
PGP 7.0.1 on a Unix box had problems when our preference list was empty.  As
an interim measure I had set our preferences at CAST5, 3DES, SHA1,
RIPEMD160, ZIP, ZLIB until earlier today when it was expanded since one
client was sending to us using AES (even though it wasn't in our list).
Is there a utility that I can use to quickly cycle down through all the
encrypted files we have received and report back the Cipher, Hash, and
Compression actually used?
-----Original Message-----
Sent: Tuesday, May 07, 2002 11:50 PM
On Tue, 7 May 2002 14:41:23 -0700, Steve Butler said:
Hmmm, this should get handled automagically without setting any
options.  There are preferences for the compress algorithms similar to
those for the cipher algorithms. The options file which gets installed by the first use did always set
this and 1.0.7 make this a default anyway (and --excape-from).  So
everything should work fine even without an options file.
  Werner
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-05-13 16:54:02
@_author: Steve Butler 
@_subject: Decryption Automation 
This is a portion of the script I use to automate receiving encrypted files
from our ftp server.
  homedir=$(default gpg_home)
  rm -f "$3" 2>&1 1> /dev/null
  default gpg_pass$1 \
 gpg --homedir $homedir --passphrase-fd 0 --no-tty --skip-verify \
        --output "$3" --decrypt "$2"
NOTE:  default gpg_home -- returns '/etc/gnupg'
       default gpg_pass$1 -- returns the passphrase referenced by $1
                            ie, default gpg_pass1 returns passphrase for 1st
                                default gpg_pass2 returns passphrase for 2nd
The quote marks are around $2 and $3 since some clients embed spaces in the
file names and this script is running on a Linux box.
-----Original Message-----
Sent: Sunday, May 12, 2002 9:44 PM
Hello group,
  I wanted to automate the encryption/decryption process. For this i have made 2 batch files that has encrypt and decrypt commads in them. My encryption thing is working fine but the problem is with decryption. It asks for the passpharse, is there any way thru which we can bypass this and achieve total automation.
Any help is appreciated,
Click below to visit monsterindia.com and review jobs in India or Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-05-16 18:36:02
@_author: Steve Butler 
@_subject: compatibility issues 
Hash: SHA1
We at First Choice Health have had some interesting times with clients
using PGP.  Usually we've been able to overcome them.  Here is what I'd
suggest you check:
1.  the preferences on your key do not reference BLOWFISH or TWOFISH
anywhere in the list.
2.  the client isn't trying to override and encrypt to IDEA.
3.  the client (or your internal) file copy (via FTP) did not use
ASCII.  [We had to educate a couple of clients.]
4.  Is the client using WS_FTP on a Windows box and your FTP server is
a Linux box?  Specifically we have a problem with one client using
WS_FTP talking to our RedHat 6.2EE ftp server.  The client side appears
to drop random  bytes (not all of them as would be the case if it
was an ASCII transfer).  Any other ftp client at their site appears to
work flawlessly.  But they "like" WS_FTP  <>.
- From your description, I would lean toward  or   The presumes that
they were able to correctly import your public key are are really
encrypting to it.  Are you able to encrypt a file to your public key
and then decrypt it?

@_date: 2002-05-16 20:05:01
@_author: Steve Butler 
@_subject: compatibility issues 
Not quite what I meant.  They can encrypt either text (ASCII) or binary data
(spreadsheets, programs, pictures, etc).  However, the output from the
encryption will be binary (unless you use the --armour option).
So, after the file has been encrypted and until the file has been decrypted,
treat it as binary in all file transmissions.
-----Original Message-----
Sent: Thursday, May 16, 2002 10:36 AM
So the client should be encrypting binary?  I forgot to mention that we haven't tried any signatures
yet so signing is not (yet) an issue.  Thanks for all the suggestions, I'll check em out and
keep you all posted.
Thanks again,
is for the sole use of the intended recipient(s) and may contain
confidential and privileged information.  Any unauthorized review, use,
disclosure or distribution is prohibited.  If you are not the intended
recipient, please contact the sender by reply e-mail and destroy all copies
of the original message.

@_date: 2002-05-22 22:30:02
@_author: Steve Butler 
@_subject: Symmetric cipher selection order, RSA keys 
Would it be an ordered list so that the left most item left in the
intersection would take precedence?  That way if my personal list was:
CAST5, AES256, AES, 3DES  then CAST5 would be picked (based on the two below
keys).  However, if I listed AES256, AES, CAST5, 3DES then AES would be
-----Original Message-----
Sent: Wednesday, May 22, 2002 7:18 AM
After thinking about this some more, I think that a list of algorithms
that the user favors is a good idea.  I've added
"--personal-preference-list" to the CVS.  GnuPG will take this list
into account when picking algorithms.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-05-23 18:38:02
@_author: Steve Butler 
@_subject: Reguest 
Hash: SHA1
I use GnuPG with WinPT on a Windows 2K box running Outlook.

@_date: 2002-05-31 16:28:02
@_author: Steve Butler 
@_subject: using decrypt from shell script 
# COPYRIGHT (c) 1995-2002 Stephen M. Butler dba XRG
# This information may be copied, distributed and/or modified under
# certain conditions, but it comes WITHOUT ANY WARRANTY.
# See the Design Science License for more details
# =================================================================
#  gpg_decrypt
#     Interface for edi and default routines to decrypt pgp files vi GnuPG.
homedir=$(default gpg_home)
  rm -f "$3" 2>&1 1> /dev/null
  default gpg_pass$1 \
 gpg --homedir $homedir --passphrase-fd 0 --no-tty --skip-verify \
        --output "$3" --decrypt "$2"
-----Original Message-----
Sent: Friday, May 31, 2002 6:15 AM
I'm really new to using Gnupg, so I apologize for probably asking a
question that has been asked many times before. But I have an
application developed in C and Korn Shell scripts that needs to decrypt
GPG files automatically and can't seem to get pass the requirement to
enter the passphrase. I've tried using "here" and attempted to use
--batch. How can I do this?
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-11-06 23:11:01
@_author: Steve Butler 
@_subject: ^M characters are embedded at the end of every record. 
Try using the --armour flag on encryption.  That will make the file bigger.
You might also use a tool to change a DOS file to a UNIX file after it has
been decrypted.  That is part of what FTP does when you send a file in ASCII mode from a
Windows type box (where line terminators are the  pair of
characters) to a Unix type box (where line terminators is a single character).  The ^M character is really a .  FTP removes the  that
immediately precedes an  character.
Which is why an encrypted file (non-ASCII armoured) always needs to be
FTP'ed as binary.  Should a  sequence show up in the datastream (and
they do!), the ASCII mode will remove the  leaving a corrupted file.
-----Original Message-----
Sent: Wednesday, November 06, 2002 1:24 PM
Hi All,
I created a text file in Windows environment.  Then it is encrypted and
FTPed to a Unix server where the file is decrypted.  After decryption, I am
seeing ^M characters at the end of each record.  I have tried sending the
file in both ASCII and BINARY modes.  Both modes don't help.  However, if I
send the plain text file via FTP in ASCII mode, the file does not contain
and control characters.  Is there a way to decrypt the file into an output
file without ^M character or is there a way to encrypt the file without ^M?
Thanks in advance.
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-11-06 23:36:01
@_author: Steve Butler 
@_subject: ^M characters are embedded at the end of every record. 
Sorry Nicolas, ^M does not stand for Microsoft.  Any machine (PET, Apple, etc) that uses the ASCII  sequence as a
end-of-line terminator will exhibit the same behavior if FTP'ed binary mode
to a Unix type box.
-----Original Message-----
Sent: Wednesday, November 06, 2002 2:11 PM
FTPed to a Unix server where the file is decrypted.  After decryption, I am
seeing ^M characters at the end of each record.  I have tried sending the
file in both ASCII and BINARY modes.  Both modes don't help.  However, if I
send the plain text file via FTP in ASCII mode, the file does not contain
and control characters.  Is there a way to decrypt the file into an output
file without ^M character or is there a way to encrypt the file without ^M?
This is not a GnuPG issue. All files created on notepad or some
microsoft editor are full of ^M. Microsoft it says. The best you could
do it not use windows but if you're addicted to this thing you could
always use an other editor.

@_date: 2002-11-07 00:11:02
@_author: Steve Butler 
@_subject: ^M characters are embedded at the end of every record. 
Ah, but I do use a lot of Microsoft.  I also use a lot of Linux.  And I am
aware of how MPE (HP-3000 boxes) handles it's record termination.  Been
exposed to IBM mainframes.  Worked on Honeywell and Univac boxes.  And I have a DSP chip and a PIC micro-controller at home that I would like
the time to play and program.  And just for grins, for my senior project in
college ('75) I wrote a tape based operating system for a PDP-11/20.  Had to
load the first iteration from the front panel switch register in binary.
No.  I'm not in love with Windows.  Neither do I like the X environment.
Neither Bill nor Larry are worthy of their following.  But, my employer
likes what I do with Oracle databases on Linux boxes so I am able to earn a
living.  On top of that, the EDI manager prefers that I play the technical
side of working with GnuPG.  So that software runs on Linux but I do keep a
version of GnuPG with WinPT on my Windows 2K workstation.
Now, do I really understand the workings behind GnuPG?  No.  I do have 60
quarter hours of college level math and could dig it out.  But there are
other things in life that are more fun for me right now. I've done my share of subtle windows bashing and really wish Oracle would
back away from X-Windows but I do try to be technically accurate to the best
of my knowledge when helping others out.  I am sure that there have been
times in this group where folks have felt that I must have hoof and mouth
disease.  Perhaps I just switched feet.
Please ignore the disclaimer below.  I can't prevent it from showing up.
-----Original Message-----
Sent: Wednesday, November 06, 2002 2:50 PM
I was really sure this was made to piss of people that doesn't use m$ CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-11-07 17:16:01
@_author: Steve Butler 
@_subject: ^M characters are embedded at the end of every record. 
Aha!  Another variant.
Thanks for the clarification.  -----Original Message-----
Sent: Wednesday, November 06, 2002 6:30 PM
Small note: Apple does not use CRLF, they use just CR.

@_date: 2002-10-08 18:55:02
@_author: Steve Butler 
@_subject: Using keys in Windows ans Linux 
export both your public and secret keys (perhaps in two passes)
On windows:
gpg --output my_public.key --export my-key-id gpg --output my_secret.key --export-secret-key my-key-id
On Linux (after gpg all set up):
gpg --allow-secret-key-import --import my_*.key
Note:  Not sure which version of GnuPG you have.  My man pages state:
       --allow-secret-key-import
                 This  is an obsolete option and is not used anywhere.
Be sure you use BINARY when you ftp the files from Windows to Linux.
--Steve Butler
Oracle Administrator
First Choice Health Network
-----Original Message-----
Sent: Tuesday, October 08, 2002 9:23 AM
I'm currently using Gnupg running on a Windows PC. Now I'd like to use my keys on my Linux notebook.
How can I import my secret keys to GnuPG in Linux???
thanks a lot
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-10-11 00:18:02
@_author: Steve Butler 
@_subject: gpg - PGP compatibility ? 
I'm having a different problem from GnuPG 1.0.7 to PGP 6.5.8.  Their end
does not error out, it writes a file, but the output file is identical to
the encrypted file I send them.
We had a problem receiving files from them (unknown packets) until we
discovered that their mainframe was adding about 80 bytes of data to the
As for Rick's problem, wonder if GPG is using a compression algo that PGP
doesn't handle well.  Can you try it without any compression?
--Steve Butler
Oracle Administrator
First Choice Health Network
-----Original Message-----
Sent: Thursday, October 10, 2002 2:48 PM
We are having intermittent problems with files encrypted using GPG 1.0.6
being sent to another party using PGP 6.5.  They get PGP errors every once
and a while that say "problem expanding" data.
Has anyone seen a similar problem?
Rick DuVall
Loma Linda University Medical Center
Information Systems
(909) 558 3265 ext. 32830 Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-10-11 18:57:02
@_author: Steve Butler 
@_subject: gpg - PGP compatibility ? 
I try to avoid sending encrypted data files via email.  So, the problems =
run into involve GnuPG and ftp on a Linux box plus whatever the group on =
other end is using.  In some cases the other end is using a Windows ftp
server (which makes for interesting problems sending an encrypted data =
with record marks from Linux and having them read them after decrypting =
on a
Windows box).  Coming the other way we have to strip the "^M" character =
the end of the records.
Sent:	Friday, October 11, 2002 12:19 AM
I'm having a different problem from GnuPG 1.0.7 to PGP 6.5.8.  Their end
does not error out, it writes a file, but the output file is identical =
the encrypted file I send them.
We had a problem receiving files from them (unknown packets) until we
discovered that their mainframe was adding about 80 bytes of data to the
As for Rick's problem, wonder if GPG is using a compression algo that =
doesn't handle well.  Can you try it without any compression?
--Steve Butler
Oracle Administrator
First Choice Health Network
-----Original Message-----
Sent: Thursday, October 10, 2002 2:48 PM
We are having intermittent problems with files encrypted using GPG 1.0.6
being sent to another party using PGP 6.5.  They get PGP errors every =
and a while that say "problem expanding" data.
Has anyone seen a similar problem?
Rick DuVall
Loma Linda University Medical Center
Information Systems
(909) 558 3265 ext. 32830
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, =
for the sole use of the intended recipient(s) and may contain =
and privileged information.  Any unauthorized review, use, disclosure or =
distribution is prohibited.  If you are not the intended recipient, =
contact the sender by reply e-mail and destroy all copies of the =
Gnupg-users mailing list
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, =
is for the sole use of the intended recipient(s) and may contain =
confidential and privileged information.  Any unauthorized review, use, =
disclosure or distribution is prohibited.  If you are not the intended =
recipient, please contact the sender by reply e-mail and destroy all =
copies of the original message.

@_date: 2002-10-11 21:42:01
@_author: Steve Butler 
@_subject: 941670      Delete a key in win98 
I'd be inclined to do:  gpg --list-secret-keys
-----Original Message-----
Sent: Friday, October 11, 2002 12:00 PM
Hi all!
I got this mail back with the hint: "user unknown".
Hopefully I'm  subscribed this list with the number 941670
I have a serious problem in using GnuPG.
I deleted the first key   I created on the win98 box by
deleting the folder \windows\anwenderdaten\gnugp\ (secring, pubring, options,), for the key was too complicated (Now I know it's a serious I created a new key-pair .
Now I can encrypt everything, but
when I try do decrypt  an error message appears: "No secret key". And above appears  the very first key I created, but don't want to use.
I tried the item "default key" -to use the new key-pair.  No success.
I tried to re-install the program an deleting every registry key containing "gpg and gnupg and the number of the key" with no success.
Can smb. be so kind to tell me where win98 stores the secret-key entries ?
I suppose it's hidden in the registry.
Hans Klonner
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-09-06 18:20:02
@_author: Steve Butler 
@_subject: CR-LF on OpenVMS ? 
It's possible.  You can always take a wild swing and see if that provides
solutions.  I'm the kind that wants to know when and were it went sideways.
Can you demonstrate that the file was able to be decrypted before the email
but fails right after?  That would point to the above solution.
However, if it stops being able to be decrypted at a different step, then a
different solution might be more apparent.
Behalf Of Steve Butler
Sent: Tuesday, August 27, 2002 12:11 PM
Is this before or after sending the file through an FTP transmission medium?
We have problems with one client who uses WS-FTP to send encrypted files to
us.  They do this in binary mode.  Still, somewhere along the path a random
 or two will be dropped (yes, in BIN mode).  If they try the FTP two or
three times in a row, the transmission will eventually send all the
So, is this after an FTP transmission and is the destination encrypted file
the same size as the source encrypted file?  If not, then you may have found
a more serious problem.
--Steve Butler
Oracle Administrator
First Choice Health Network
-----Original Message-----
Sent: Tuesday, August 27, 2002 8:27 AM
      The financial aid industry in the US uses OpenPGP to secure file
transmissions and we've built our systems around GPG.  Everything has
worked great so far, but we just encountered a problem with one of our
schools who is using GPG on VMS.  If they encrypt a text file that contains
CR-LF's the decryption fails.  Has any else encountered this ?
                              -JSM
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is
for the sole use of the intended recipient(s) and may contain confidential
and privileged information.  Any unauthorized review, use, disclosure or
distribution is prohibited.  If you are not the intended recipient, please
contact the sender by reply e-mail and destroy all copies of the original
Gnupg-users mailing list
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-09-16 19:00:01
@_author: Steve Butler 
@_subject: gpg 1.0.7 and 1.0.6 on redhat 7.3 
1.  Be sure that /usr/local/bin comes before /usr/bin in your $PATH
environmental variable (probably not preferred).
2.  rm gpg in /usr/bin  and ensure that /usr/local/bin is in $PATH
3.  rm gpg in /usr/bin and replace it with a link to gpg in /usr/local/bin.
-----Original Message-----
Sent: Monday, September 16, 2002 8:03 AM
I am running Redhat 7.3 which installed gpg 1.0.6 when i loaded the system.
I downloaded the tarball of gpg 1.0.7 and installed it,  now i have version
1.0.6 in /usr/bin which the system still uses and gpg 1.0.7 in
version ?
Thanks in advance
Dan Gordon
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2002-09-23 20:07:02
@_author: Steve Butler 
@_subject: What is wrong here? 
Oh boy!  I hope my M/S Windows Outlook didn't do that when I was out of =
office.  Been out since Sept 18 with a fractured knee, surgery on the =
and this past week blood clots.  I'd hate to think mine is doing the =
thing so I turned it off from home this morning.
--Steve Butler
Oracle Administrator
First Choice Health Network
(absent from office until released to be present in office)
-----Original Message-----
Sent: Monday, September 23, 2002 10:17 AM
I stand corrected.  He's not out of the office.  He's "je suis absent
jusqu'au 16/10/2002".
Either way, he's got his turn indicator on all the way down the =

@_date: 2003-04-23 22:43:03
@_author: Steve Butler 
@_subject: do_plaintext() error message 
Perhaps I'm all wet, but wouldn't the output from both tar and time be sent
via the pipe to gpg?  Somehow I think there will be problems since tar is
being told to send output via STDOUT and time writes by default to STDOUT.
Try it without time.
-----Original Message-----
Sent: Wednesday, April 23, 2003 12:12 PM
Could some one please explain what the following error message means and in
particular whether the output is corrupt in some way?
gpg: do_plaintext(): wrote 46305280 bytes but expected 4096 bytes
This was the result of entering a command like this.
time tar -cvf - directory | gpg --output outfile --encrypt --recipient keyid
Here "directory" is a directory, "outfile" is the output file, and "keyid"
is the recipient.  This is GnuPG 1.0.6 running under RedHat 7.2.  A
decryption by PGP seemed to work.
Thank you,
Bryan Hunter
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-04-24 17:38:02
@_author: Steve Butler 
@_subject: do_plaintext() error message 
It does appear that time is a built-in and is not affected by any IO
redirection on the command line.
Testing on my box did not elicit the error.  I did
time tar -cf - [directory] | gpg --no-batch --always-trust --recipient
[myself] --output web.pgp --encrypt
File `web.pgp' exists. Overwrite (y/N)? y
    2.99s real     0.94s user     0.02s system
Note:  --always-trust is needed solely due to the way we handle keys.
Hash: SHA1
Hmmm.  Not on my system.
kyle ~ $ time echo hello
real	0m0.000s
user	0m0.000s
sys	0m0.000s
kyle ~ $ time echo hello > /dev/null
real	0m0.000s
user	0m0.000s
sys	0m0.000s
kyle ~ $ uname -a
Linux longshot 2.4.20  Thu Nov 28 20:28:40 CST 2002 i686 unknown
kyle ~ $ I'm not sure how time writes its output, but it's not stdout.  It's a shell
built-in, so maybe it writes straight to the terminal.

@_date: 2003-04-29 17:15:02
@_author: Steve Butler 
@_subject: problems to sign emails 
I exported both the public and private keys from the Linux box and imported
both the public and private keys to the Windows box. Hash: SHA1
thanks, it works now :-) but how can i use the same secret-key on two different systems? on my workstation in my office i use suse 8.2 with kmail an vmware 4.0 with winxp and $ms-office. both i need for different things because kmail doesn't work together with exchange2000 :(
the key i use was genereting on my linux system, so now i would use it also
on my windows-system. for ms-outlook i found on gnugpg.org a plugin which i've downloaded and installed. when i copy the ~/.gnupg/secring.gpg to the windows-dirctory C:\Programme\GnuPGExch it won't work. so i can't use one secret-key for both systems. Did anybody have any idea or perhaps a solution? perhaps i'm doing something
dirk fettke
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-08-01 18:44:02
@_author: Steve Butler 
@_subject: Data not decrypting 
I think you are missing the file handle number needed for the passphrase FD.
I would also put the --output before the --decrypt (just a peculiarity that
I ran into several months ago).  Try it this way:
gpg --passphrase-fd 0 --output input.txt --decyrpt input.pgp <
passphrase.txt 2> log_decrypt.txt
-----Original Message-----
Sent: Friday, August 01, 2003 9:23 AM
Hi, I'm a newbie, both to gnupg and to cryptography concepts in general, and the
problem I'm having is: when I decrypt a file the output is completely
unreadable, it looks like the file is still encrypted! My situation is this: I created and exported my gnupg key pair using the
WinPT interface (gnupg version 1.2.1). I emailed my public key to the person
who will be sending me encrypted files. This person encrypted a file using
my public key (she is using PGP version 7.0.4). She emailed me the encrypted
file. I wrote a .bat file containing the following decrypt statement:
gpg --passphrase-fd --decrypt --output input.txt input.pgp < passphrase.txt
2> log_decrypt.txt
I ran the .bat file and got the following messages in my log file:
gpg: encrypted with ELG-E key, ID uniqueid
gpg: encrypted with ELG-E key, ID uniqueid
gpg: encrypted with 1792-bit ELG-E key, ID uniqueid created 2003-06-24
      "my name here "
gpg: WARNING: message was not integrity protected
(1) from reading this list serv I believe the WARNING message is because
gnupg is expecting MDC to be used but PGP is not using MDC. It is my
understanding this warning message shouldn't affect the outcome of the
actual decryption. In fact, to get rid of the warning message I added
"--no-mdc-warning" which did, indeed, get rid of the warning.
(2) what do the three "gpg: encryped with..." messages mean?
(3) when I looked at my output file (input.txt), it was all garbage
characters, it still looks encrypted!
Thanks for any light you'all can shed on the subject.
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-08-01 19:38:03
@_author: Steve Butler 
@_subject: Data not decrypting 
Interesting.  Does look like your friend encrypted to three different
recipients.  In your test of encrypting a file to yourself also include two
other recipients and see if you can decrypt it OK.  Should work fine, but
that's the only thing I see that might be causing problems.  If the file was transferred in ASCII mode rather than Binary, I'd expect gpg
to complain and abort.  So, I doubt that is a factor (besides, attached
binary files "should" be ok).
The final idea is really off the wall.  Don't supposed she encrypted it
twice?  Hmm.  I haven't played with that to see what gpg would do.  The only
scenario I can imagine is encrypting a file to a third party, then encrypt
it to an intermediary, send it to the intermediary to decrypt and forward
the resulting file on to the third party.  Doesn't make much sense -- but
then a lot of things in life fall into that category.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-08-05 21:04:01
@_author: Steve Butler 
@_subject: Can't decrypt PGP 8 msg 
I used his public key (from the message) to encrypt and send his message
back to him.  Hopefully he can figure things out from there.
-----Original Message-----
Sent: Tuesday, August 05, 2003 11:36 AM
Have you signed this persons key?

@_date: 2003-08-07 20:49:02
@_author: Steve Butler 
@_subject: gpg script in cron failed with "stdin must be a tty" 
Cron Usage:  use the --batch and --no-tty options to gpg.
gpg --batch --no-tty --output junk.txt --decrypt junk2.gpg
-----Original Message-----
Sent: Thursday, August 07, 2003 10:18 AM
Mike Hsu (mhsu
Database Technologist
Northrop Grumman IT
Defense Enterprise Solutions
La Mesa, CA   619-460-2281 x 237
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-08-07 21:05:02
@_author: Steve Butler 
@_subject: gpg script in cron failed with "stdin must be a tty" 
PS  You will also have to pass in the pass phrase or ensure that there is no
pass phrase on your secret key.
Sent: Thursday, August 07, 2003 10:18 AM
Mike Hsu (mhsu
Database Technologist
Northrop Grumman IT
Defense Enterprise Solutions
La Mesa, CA   619-460-2281 x 237
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is
for the sole use of the intended recipient(s) and may contain confidential
and privileged information.  Any unauthorized review, use, disclosure or
distribution is prohibited.  If you are not the intended recipient, please
contact the sender by reply e-mail and destroy all copies of the original
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-08-07 23:33:02
@_author: Steve Butler 
@_subject: gpg script in cron failed with "stdin must be a tty" 
Does cron know about the HOMEDIR environment variable?  I have some scripts
that run under cron (pull encrypted files off the ftp server and bring them
inside the firewall before decrypting), but they force the environment to be
set up.  The crontab entries for 'root' that do this look like:
# MAILTO=sbutler
01,06,11,16,21,26,31,36,41,46,51,56 * * * * . $MYENV; $MYBIN/edi_in
04,09,14,19,24,29,34,39,44,49,54,59 * * * * . $MYENV; $MYBIN/edi_out
The $MYENV (/usr/xrg_dba/conf/env.oracle) sets up a whole slew of Linux and
database variables so that the environment for the scripts looks correct
when running from cron.
Sent: Thursday, August 07, 2003 12:06 PM
PS  You will also have to pass in the pass phrase or ensure that there is no
pass phrase on your secret key.
Sent: Thursday, August 07, 2003 10:18 AM
Mike Hsu (mhsu
Database Technologist
Northrop Grumman IT
Defense Enterprise Solutions
La Mesa, CA   619-460-2281 x 237
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is
for the sole use of the intended recipient(s) and may contain confidential
and privileged information.  Any unauthorized review, use, disclosure or
distribution is prohibited.  If you are not the intended recipient, please
contact the sender by reply e-mail and destroy all copies of the original
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is
for the sole use of the intended recipient(s) and may contain confidential
and privileged information.  Any unauthorized review, use, disclosure or
distribution is prohibited.  If you are not the intended recipient, please
contact the sender by reply e-mail and destroy all copies of the original
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-08-08 20:25:06
@_author: Steve Butler 
@_subject: extracting a public key from the secret key 
Saw a message from the GnuPG team once that the public key can be extracted
from the secret key.  They may have a tool available (or a list of steps to
accomplish the extract).
Hash: SHA1
Content-Description: signed data
If no one else has the public key, you might as well generate a new pair.
If you've encrypted a file or two with it, you can decrypt them with the
secret you still have and then reencrypt with the new key you generate.
The only thing I can think might give trouble is verifying old signatures.

@_date: 2003-08-15 23:36:02
@_author: Steve Butler 
@_subject: Usage of gnupg to automatically decrypt messages. 
If I understand your idea correctly, then anybody who can read the options
could see which secret key is registered and they then could use that secret
key (without a passphrase) to decrypt your messages.  Especially if they
managed to connect using your account name. [[somebody like root]].
If you are going to do that, you might as well publish your passphrase.  At
least with your passphrase published, you are constantly aware how insecure
your secret key really is.
Those of us who do use automated tools to decrypt files do use the
--phassphrase-fd option (or remove the passphrase completely).  This servers
as a daily reminder that anybody who has access to the decryption box does
have access to the secret key.  It is only a matter of time before the key
will have to be retired and another one distributed.
-----Original Message-----
Sent: Friday, August 15, 2003 1:52 PM
I need to automatically decrypt messages. I don't want to pass in the
passphrase in the options as it will then be highly visible to everybody.
Can there be a way just as we register the public key of using the secret
key with the user name. So, it is as if we run the decrypt command and
specify a keyId or name of the user and the registered
secret key gets picked up and the decryption takes place. Thereby I don't
need to write down the passphrase.
Thanks in advance, Sachin Naik
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-08-21 17:11:02
@_author: Steve Butler 
@_subject: Works from the command line, but I can't get it to work with PHP 
Also, never store a non-sensible <> passphrase either!
Sorry, but I thought I'd just close that door at the same time.
-----Original Message-----
The passphrase in our example should be "secret", we store it in
"pass" (And kids: Don't try this at home. *Never* store a sensible
passphrase in a file. *Never*. It's only to illustrate the example.)
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, =
is for the sole use of the intended recipient(s) and may contain =
confidential and privileged information.  Any unauthorized review, use, =
disclosure or distribution is prohibited.  If you are not the intended =
recipient, please contact the sender by reply e-mail and destroy all =
copies of the original message.

@_date: 2003-12-02 00:19:59
@_author: Steve Butler 
@_subject: Invalid Packet (ctb=3b) 
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-12-02 18:16:26
@_author: Steve Butler 
@_subject: Corrupted Files -- Need Help 
Hash: SHA1
After several months of smooth operation we have received 3 different
copies of a file that we are unable to decrypt.
AFAIK nothing has changed on either side. 1.  All three files are exactly the same length, 1280 bytes.  This does
seem odd as most files that I encrypt a 2nd time are usually several
bytes different in size.
2.  All three files are different starting in byte 20.  The first 32
bytes from each file are (from xxd)
File1:  a803 5047 50c1 c14e 036b a0ba 0a5a 2cea   4810 07ff 6e41 b28f
b07b e150 7c3c 020d
File2:  a803 5047 50c1 c14e 036b a0ba 0a5a 2cea  4810 07fd 1ab3 4d1a
2290 7606 3c63 7ed8 File3: a803 5047 50c1 c14e 036b a0ba 0a5a 2cea   4810 07ff 5559 d7c0
8165 8a9a 3e6f a799 3.  Each file ends with a different number of hex zeros:
File1:  113 hex zero bytes at tail of file.  Last byte before zeros is
hex 27
File2:  Also has 113 hex zero bytes preceeded by hex F0.
File3:  Has 48 hex zeros preceeded by hex 06.
4.  gpg --no-batch --verbose --list-packets
:marker packet:
 50 47 50
:pubkey enc packet: version 3, algo 16, keyid 6BA0BA0A5A2CEA48
   data: [2047 bits]
   data: [2046 bits]
gpg: public key is 5A2CEA48
gpg: using secondary key 5A2CEA48 instead of primary key 1B32D54B
You need a passphrase to unlock the secret key for
user: "First Choice Health Network (FCHN) "
gpg: using secondary key 5A2CEA48 instead of primary key 1B32D54B
2048-bit ELG-E key, ID 5A2CEA48, created 2001-10-16 (main key ID
:encrypted data packet:
   length: 630
gpg: encrypted with 2048-bit ELG-E key, ID 5A2CEA48, created
      "First Choice Health Network (FCHN) "
gpg: AES encrypted data
:compressed packet: algo=1
:literal data packet:
   mode b, created 268435456, name="enc_20031201_1339",
   raw data: 0 bytes
gpg: [don't know]: invalid packet (ctb=3b)
:compressed packet: algo=153
gpg: uncompressing failed: unknown compress algorithm
gpg: WARNING: message was not integrity protected
:marker packet:
 50 47 50
:pubkey enc packet: version 3, algo 16, keyid 6BA0BA0A5A2CEA48
   data: [2045 bits]
   data: [2047 bits]
gpg: public key is 5A2CEA48
gpg: using secondary key 5A2CEA48 instead of primary key 1B32D54B
You need a passphrase to unlock the secret key for
user: "First Choice Health Network (FCHN) "
gpg: using secondary key 5A2CEA48 instead of primary key 1B32D54B
2048-bit ELG-E key, ID 5A2CEA48, created 2001-10-16 (main key ID
:encrypted data packet:
   length: 630
gpg: encrypted with 2048-bit ELG-E key, ID 5A2CEA48, created
      "First Choice Health Network (FCHN) "
gpg: AES encrypted data
:compressed packet: algo=1
:literal data packet:
   mode b, created 268435456, name="enc_20031201_1339",
   raw data: 0 bytes
gpg: block_filter 0x80e3fe0: read error (size=8302,a->size=57479)
gpg: packet(7) with unknown version 255
gpg: WARNING: message was not integrity protected
gpg: block_filter: pending bytes!
:marker packet:
 50 47 50
:pubkey enc packet: version 3, algo 16, keyid 6BA0BA0A5A2CEA48
   data: [2047 bits]
   data: [2047 bits]
gpg: public key is 5A2CEA48
gpg: using secondary key 5A2CEA48 instead of primary key 1B32D54B
You need a passphrase to unlock the secret key for
user: "First Choice Health Network (FCHN) "
gpg: using secondary key 5A2CEA48 instead of primary key 1B32D54B
2048-bit ELG-E key, ID 5A2CEA48, created 2001-10-16 (main key ID
:encrypted data packet:
   length: 695
gpg: encrypted with 2048-bit ELG-E key, ID 5A2CEA48, created
      "First Choice Health Network (FCHN) "
gpg: AES encrypted data
:compressed packet: algo=1
:literal data packet:
   mode b, created 268435456, name="enc_20031130_2400",
   raw data: 0 bytes
gpg: [don't know]: invalid packet (ctb=73)
gpg: packet(5) with unknown version 25
gpg: WARNING: message was not integrity protected
I'm open to suggestions, ideas or requests for more information.

@_date: 2003-12-02 20:22:40
@_author: Steve Butler 
@_subject: Corrupted Files -- Need Help 
Transmitted via FTP.  I'm presuming it wasn't ASCII since it has worked for
several months.
Have asked for an armored file.  Also suggested posting at their FTP site
and I'll pull it down (just in case the network folks here decided to do
some packet filtering at our firewall).  That way I can verify file lengths
before and after the transmission.
Pulled down the RFC 2440 and have verified that the session keys are all
different (baptism by fire!) via visual inspect of a hex dump of the file.
--show-session-key also verified that no two are the same.
If I am decoding correctly, the packets are:
1.  a8 of 3 bytes
2.  c1 of 526 bytes  (the two MPIs for Elgamal are 258 bytes each--including
length octets)
3.  c9 of [c1 b6] 630 bytes for files 1/2 and [c1 f7] 695 bytes for file 3.
4.  Which brings us to hex location 48F in file 1/2 which starts a string of
00 00 ... until location 4ff (end of file).
    For file 3 it brings us to hex location 4D0 which starts the string of
00 00 ... until location 4ff (end of file).
So, it appears that this structure is OK and it must be the encrypted
contents in hex locations hex 219-48e (or 219-4cf) that is somehow
incorrect.  Hex locations start at byte 0.
Does that sound plausible?
-----Original Message-----
Sent: Tuesday, December 02, 2003 10:19 AM
Interesting.  Those files were generated with PGP (you can tell from
the ":marker packet: 50 47 50").  How were they transferred to you?
If it was FTP, can you ensure that it wasn't ASCII mode?
Try having the user send you an ASCII armored file.  Also try having
the user zip the file before sending it, which can help establish
where the corruption is happening.
Out of curiosity, try decrypting each with the --show-session-key
flag.  Don't post the output - just tell me if the key is the same for
all three.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-12-02 20:35:32
@_author: Steve Butler 
@_subject: Corrupted Files -- Need Help 
Which forced me to look at the trailing octets of zero and inspect other
encrypted files from this same source.  Stripped off the trailing octets of
zero and the file decrypts!
I'd say Yahoo!  but somebody might think I was infringing on a trademark.
Now, I just got to find out how the zero padding took place.
Thanks folks.
-----Original Message-----
Sent: Tuesday, December 02, 2003 11:24 AM
4.  Which brings us to hex location 48F in file 1/2 which starts a string of
00 00 ... until location 4ff (end of file).
    For file 3 it brings us to hex location 4D0 which starts the string of
00 00 ... until location 4ff (end of file).
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-12-10 16:58:54
@_author: Steve Butler 
@_subject: gpg on M$ 
WinPT with GnuPG isn't automatic but the hot-keys work great.  A little user
training helps.
-----Original Message-----
Sent: Tuesday, December 09, 2003 11:37 PM
i don't want them to be bothered by cutting-n-pasting... they'll be
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-12-10 23:29:18
@_author: Steve Butler 
@_subject: feature request: allowing display of session key used for 
Why not always encrypt to yourself as one of the recipients?
-----Original Message-----
Sent: Wednesday, December 10, 2003 2:12 PM
this would allow for the sender to decrypt the sender's copy at a later
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-12-19 19:52:27
@_author: Steve Butler 
@_subject: Key Ownership 
The standard method is to sign the key or otherwise build a web of trust
from your signing key to their public key.
    a.  if all the public keys on your keyring are manually placed there
    b.  You really do trust all the public keys on your key ring
Then you can use the option --always-trust.
-----Original Message-----
Sent: Friday, December 19, 2003 10:46 AM
When I encrypt a file with the recipient's key I sometimes get the
"There is no indication that the key belongs to the user"
Why is this so and what can I do to eliminate this issue/error?
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-12-22 17:09:48
@_author: Steve Butler 
@_subject: GPG problem Urgent please 
Are you running on a Linux/Unix box?  If so, then I have scripts in use here
to automatically decrypt incoming data files.  In fact, the script will run
on a Linux box inside the firewall.  It will periodically pull files in from
the FTP server sitting in the DMZ and then decrypt them once the files are
inside the firewall.
If this is your situation, let me know.
--Steve Butler
Oracle Administrator
First Choice Health Network
Sent: Monday, December 22, 2003 10:30 AM
Gnupg-users mailing list
Gnupg-users Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-12-22 17:42:27
@_author: Steve Butler 
@_subject: GPG problem Urgent please 
Besides, an sftp server requires a special client.  Many small shops (mine
included) don't want to use anything other than a standard ftp client.
Sent: Monday, December 22, 2003 11:20 AM
Can you not run sftp or are you in MS hell @ work ??

@_date: 2003-07-08 18:56:02
@_author: Steve Butler 
@_subject: passphrase 
You can remove the passphrase or use the following mechanism to send the
  $xrgbin/default gpg_pass$1 \
 gpg --homedir $homedir --passphrase-fd 0 --no-tty --skip-verify \
        --output "$3" --decrypt "$2"
Where $1 is the passphrase # (I have two)
      $2 is the inbound encrypted file name
      $3 is the decrypted file name (where to write the output)
-----Original Message-----
Sent: Tuesday, July 08, 2003 8:19 AM
Another newbie question.
Is there a way to pass the passphrase to the gpg command line?
or Is there a way to not need a passphrase?
Ronald Thorp Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-07-08 21:33:02
@_author: Steve Butler 
@_subject: Corporate public key? 
Sent: Tuesday, July 08, 2003 12:06 PM
at the may Even then, ING would have to distribute the key with that signature.  They
could simply post their key without any other signatures on their web site
and state that is the only authorized place to obtain their up to date
public key(s).
Until they fire John Smith, VP of Security for breach of trust (or some
other infraction).  In practicality, they would have to keep an updated key
posted someplace (see above) and post the key revocation for John Smith.  CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-07-16 20:56:02
@_author: Steve Butler 
@_subject: keys and many OS and backuping keys! 
On your windows box gpg --armour --export mykey > mykey.asc
gpg --armour --export-secret-keys mykey > myseckey.asc
ftp binary mode from Windows to Linux.
On Linux
gpg --import mykey.asc myseckey.asc
Hash: SHA1
Im running GNUPG in my windows XP worktstation!
But I have another computer running gnu/linux!
I want to know if i can use my secret key in both operating systems and how can i do that!
Just copy secring.gpg and pubring.gpg to linux ?
How do you backup your keys?
Thanks a lot!
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-07-17 19:30:02
@_author: Steve Butler 
@_subject: keys and many OS and backuping keys! 
I just tried both and both worked.  Same sized output.  Diff did not report
any differences. But then, my mother, teachers, wife, and a few others have always complained
that I couldn't spell :^).
-----Original Message-----
Sent: Wednesday, July 16, 2003 6:36 PM
Interesting. Does gpg work with both spellings (American and English) of armor?
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-07-23 21:46:03
@_author: Steve Butler 
@_subject: Script with sensitive info 
At some point key information must be left in an automated script such that
a determined hacker could locate and retrieve any hidden information.  Worst
case for the hacker is to pretend they are the CPU and faithfully follow
every instruction in the script.
Having laid that groundwork, there are things you can do to discourage the
casual reader.  How may roadblocks you throw up will determine how many give
up before reaching the goal line.  It will also be an indication of how much
you value the hidden information.
1.  Place the data in an encrypted file and have your script decrypt it (you
must reveal the passphrase or go without a passphrase -- so a hacker could
also decrypt the file).
2.  You might find that just compressing the data and having your script
decompress it will be sufficient (and keep your passphrase secure).
3.  Combine a couple of steps such as gzip and xxd (hex dump) to store the
data in one or more files.  Reverse the process to read the data.
Just make sure that you and root are the only two accounts that can read the
files (and if you can find a way to prevent root -- let me know!).
-----Original Message-----
Sent: Wednesday, July 23, 2003 11:19 AM
I want to write a Perl script whose operation requires it to have some
sensitive information (bank account passwords, etc.).  This script is
meant to run non-interactively, so having it prompt the user for this
information is not an option.  Also, encrypting the file itself would
render the script uninterpretable by /usr/bin/perl.
Is there a way to use Gnupg to solve the problem of protecting this
script?  (I realize that the script is already protected by my Unix
account password, but I would like more protection than that.)
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-07-24 17:09:02
@_author: Steve Butler 
@_subject: Revoke old keys 
One could use their latest key to sign their old public key and then revoke
that signature.  Doesn't remove the key but somebody looking at the key
might do a double take to see why a similar ID signed and then revoked their
signature.  Might lead them to the currently active key -- especially if
encrypting to the old one didn't elicit any response.
-----Original Message-----
Sent: Thursday, July 24, 2003 1:11 AM
You can try to bug the keyserver operators, but I would not advise it. Probably they won't delete your key anyway, but just ignore your mail, because even when you manage to delete your old public keys on most or even all public keyservers, how can you absolutely know that there isn't somebody
who has an old keyring around and just decides to upload your old key again?
The other thing is, of course, workload: once the keyserver operators start
to accept such requests, I bet there's tons of old keys around...
The third thing is authentication: is can you prove that you're the original
owner of the old key?
Personally, I would be in favor of key expiration on the keyservers: delete keys that did not get any new signatures in the last 5 years, delete keys that have only self signatures after 1 year. But again: this would be on a per-keyserver basis, so those deleted keys would probably re-appear again
and

@_date: 2003-07-24 17:22:02
@_author: Steve Butler 
@_subject: Script with sensitive info 
UnixWare used to check the SUID and GUID bits on an script which I used so
that the script could read files that the user invoking the script couldn't.
For Linux I wrote a C program to emulate that when invoking a script.  It means doing double de-referencing and that the user can't own the scripts
that read the data.  So far it has kept the developers from figuring out the
database passwords being used by the production scripts.
It is a hassle though having to read their scripts and then changing the
ownership (I read them to be sure they are not planting a "Cuckoo's Egg"
-----Original Message-----
Sent: Thursday, July 24, 2003 7:18 AM
Linux does not support that for scripts. You can only execute a script if
it is readable.

@_date: 2003-07-28 16:50:02
@_author: Steve Butler 
@_subject: can`t verify signature 
That's not so bad as what I saw on that key.  That key had everybody's ID
(not just signed) as part of the key.
At my company we have to exchange corporate public keys to transfer
information via FTP files.  So, a corporate key doesn't both me that much.
I'm more bothered by an individual using their personal key to do corporate
business -- and one individual tried that trick.
However, it should be clear that the key is a corporate key and should only
have the ID of the group within the company with whom contact should be made
regarding the key.  I'd also expect that they key would change over time --
especially as people who knew the passphrase and had access to the secret
portion of the key left the company.
Should they be on a public key server?  Perhaps one dedicated to their type
of industry.
-----Original Message-----
Sent: Friday, July 25, 2003 10:49 PM
The fact that a corporation is not an individual.

@_date: 2003-07-29 16:43:01
@_author: Steve Butler 
@_subject: GPG decryption within shell scripts. 
The best way is not to!  Please understand that this shop does what you are
asking.  But, it's still not the best way since somebody could gain access
to the box and hijack your secret key (and leave the original behind for you
to use) without your knowledge.
There are two ways with adherents in both camps.  Pick one:
1.  Remove the pass phrase from your secret key.  Use the --batch and
--no-tty options.  Your script will not need to know the pass phrase as
there isn't one.  However, your secret key is vulnerable to anybody who can
read your keyring.
2.  Place your secret key in a file (if you encrypt it how will you decrypt
it?) and do something like:
cat pass_phrase_file | \
gpg --homedir $homedir --passphrase-fd 0 --no-tty --output $out_file
--decrypt $in_file
You might gzip the pass_phrase_file and use zcat instead of cat to add some
false security.  But, anybody more than a casual observer will locate and
have your pass phrase.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-07-29 17:18:01
@_author: Steve Butler 
@_subject: GPG decryption within shell scripts. 
See correction below
-----Original Message-----
Sent: Tuesday, July 29, 2003 7:44 AM
The best way is not to!  Please understand that this shop does what you are
asking.  But, it's still not the best way since somebody could gain access
to the box and hijack your secret key (and leave the original behind for you
to use) without your knowledge.
There are two ways with adherents in both camps.  Pick one:
1.  Remove the pass phrase from your secret key.  Use the --batch and
--no-tty options.  Your script will not need to know the pass phrase as
there isn't one.  However, your secret key is vulnerable to anybody who can
read your keyring.
2.  Place your secret key in a file (if you encrypt it how will you decrypt
it?) and do something like:
  <>
cat pass_phrase_file | \
gpg --homedir $homedir --passphrase-fd 0 --no-tty --output $out_file
--decrypt $in_file
You might gzip the pass_phrase_file and use zcat instead of cat to add some
false security.  But, anybody more than a casual observer will locate and
have your pass phrase.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is
for the sole use of the intended recipient(s) and may contain confidential
and privileged information.  Any unauthorized review, use, disclosure or
distribution is prohibited.  If you are not the intended recipient, please
contact the sender by reply e-mail and destroy all copies of the original
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-06-05 16:51:02
@_author: Steve Butler 
@_subject: Newbie question - how to include the pass phrase in the command 
There are two ways to do this.  Both work for Windows or Unix.  But since
I'm on Unix I'll show the Unix flavor and point out what I've heard about
doing it on Windows.
1.  First, the easiest way.  Remove the pass phrase.  Well, since the pass
phrase is going to be on the box anyway and somebody is likely to see it
(especially when rooting around in the file system) why not make it easier
on yourself.  No pass phrase is the  recommend solution for those who need
some sort of automated interface.
2.  Then, for folks like me <>, who must have to have that false sense
of at least trying to raise a roadblock, do some simple code encryption that
a mildly interested hacker could decode in two heartbeats but would stop the
casual observer.  (1's compliment, zip compression, hex dump, etc, or some
combo of two or more) then feed it via the following mechanism:
   my_decrypt < my_pass_file | gpg --homedir $homedir --passphrase-fd 0 \
        --output "$3" --decrypt "$2"
Now, I've heard piping in the above manner doesn't work on Windows and that
the passphrase-fd isn't a number but some DOS type file handle.  But, if you
were doing this on Unix (or Linux) that's the command line you'd use.
Perhaps the Windows experts can clue you in on how the FD is formatted and
handled in the Windows world.
--Steve Butler
Oracle Administrator
First Choice Health Network
Sent: Wednesday, June 04, 2003 6:14 PM
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
I am not hard coding them into the cmd file.  They will be parameters in the
cmd file.
I am creating a Windows GUI  interface which the operator enters the userid
and password to logon, choose the files, the program then uses ShellExecute
to execute the command file and pass the parameters.
The user may choose more than one file.  I don't want the user to re-enter
the passphrase again for every file.  Does this make sense?
Can you answser now?
Ping Kam
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-06-05 20:12:01
@_author: Steve Butler 
@_subject: Newbie question - how to include the pass phrase in the command 
I have never tried without a pass phrase.  However, you can remove the pass
phrase, test it, add the pass phrase back, or even change the pass phrase to
something else.
I'll have to point you to the documentation and then let you experiment from
Use the --edit option on the command line.  You will then be able to change
various things about the key.  One of those is the 'passwd' command.
gpg --edit kg7je
Secret key is available.
pub  1024D/038581D8  created: 2002-03-07 expires: never      trust: u/u
sub  2048g/A2A2E9F8  created: 2002-03-07 expires: never     (1). Steve Butler (2)  Stephen M Butler Command> passwd
Key is protected.
You need a passphrase to unlock the secret key for
user: "Steve Butler "
1024-bit DSA key, ID 038581D8, created 2002-03-07
Enter passphrase: <>
Enter the new passphrase for this secret key.
Enter passphrase:<>
Repeat passphrase:<>
You don't want a passphrase - this is probably a *bad* idea!
Do you really want to do this?Y
Command> save
And that will remove your pass phrase.  Similar steps will add it back on
Yes, I reset mine.  <>
Sent: Thursday, June 05, 2003 8:50 AM
I have two question though.
First, how to remove the pass phrase?
Can I still sign the encyption?  I don't want to remove the pass phrase and
then find out that I can't sign the file without the pass phrase and now I
can't restore the pass phrase.
I have got a script sample from a friend like this for windows
echo %1|gpg  --encrypt --output %2.asc --armour --recipient
our_own_userid --encrypt-to the_recipient_userid --passphrase-fd 0 %2
Then I can execute the cmd file like this
MyCmdFile MyPassphrase SourceFileName
What I find out that it will encrypt the file even without the pass phrase.
What I mean is the following will work
  echo |gpg  --encrypt --output %2.asc --armour --recipient
our_own_userid --encrypt-to the_recipient_userid --passphrase-fd 0 %2
then execute the cmd file without the passphrase parameter
But if I add the --sign option, in both case, then GPG will prompt me to
enter the passphrase.  If I call execute cmd file from a window apps, then
no file will be created.  Since GPG just run in the background, the user
can't see the command window to complete the encryption, and the process
will not terminated.  I can see one more instance added to the task manager
everytime I execute the cmd from a window app.
So how can I sign a file using the command line without any interaction with
I hope I make it clear.
Ping Kam
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-06-05 20:24:02
@_author: Steve Butler 
@_subject: Newbie question - how to include the pass phrase in the command 
I'd change this from:
echo %1|gpg  --encrypt --output %2.asc --armour --recipient
our_own_userid --encrypt-to the_recipient_userid --passphrase-fd 0 %2
To this <>:
echo %1 | gpg --passphrase-fd 0 --armour --recipient %3 --encrypt-to
<> --sign --output %2.asc --encrypt %2
Then invoke it:
my_gpg "my passphrase" my_file to_whom_it_concerns
Of course, that's without a blank passphrase.
If your passphrase is blank, then the following should work:
gpg --armour --recipient %1 --encrypt-to <> --sign --output
%2.asc --encrypt %2
Then invoke it:
my_gpg  to_whom_it_concerns   my_file
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-06-05 22:24:02
@_author: Steve Butler 
@_subject: Having trouble finding Options/gpg.conf file from command line 
GNUPGHOME works great on Unix/Linux type servers.  Our entry is:
Hash: SHA1
Here's a sample .REG file (From the Nullify build for Windows):
"HomeDir"="C:\\Program Files\\GnuPG"
"gpgProgram"="C:\\Program Files\\GnuPG\\gpg.exe"
[HKEY_CURRENT_USER\Control Panel\Mingw32]
[HKEY_CURRENT_USER\Control Panel\Mingw32\NLS]
"MODir"="C:\\Program Files\\GnuPG\\Locale"
Never heard of GNUPGHOME. There was a PGPHOME in some of the old PGP
cmdline versions. Just use gpg.conf here, no Options. file.

@_date: 2003-06-06 03:44:03
@_author: Steve Butler 
@_subject: Newbie question - how to include the pass phrase in the command 
Not really.
They may be able to encrypt but they won't be able to sign without your pass
phrase (which if it is missing makes it wide open).
They can't decrypt without your pass phrase.  Even if they know your ID
(which is in the Public key).
Sent: Thursday, June 05, 2003 12:24 PM
<> --sign --output
is for the sole use of the intended recipient(s) and may contain
confidential and privileged information.  Any unauthorized review, use,
disclosure or distribution is prohibited.  If you are not the intended
recipient, please contact the sender by reply e-mail and destroy all copies
of the original message.
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-06-06 03:52:03
@_author: Steve Butler 
@_subject: Newbie question - how to include the pass phrase in the command 
Ah, because it's now checking the right things in the right order.
It's the "recipient" to whom you are sending the encrypted file that needs
to be "trusted".  In the first version you are sending to yourself
(actually, sending to somebody for whom you also have the secret key).  So
you trust (the secret key trusts) the recipient.
I suspect that the "encrypt-to" logic doesn't do the web of trust check.
Did you sign (or local sign) the recipient's public key?  I don't do it at
work either since the only keys that get loaded are ones that are "trusted".
Therefore I set the trust always flag.
You may be interested the some of the following options to gpg:  batch,
no-tty, always-yes
Sent: Thursday, June 05, 2003 12:24 PM
I change the cmd file following your suggestion and it stops working.
Before the change, I got the following message but it creates the file.:
Reading passphrase from file descriptor 0
You need a passphrase to unlock the secret key for
user: ...........
After the change:
Reading passphrase from file descriptor 0
You need a passphrase to unlock the secret key for
user: ..........
Could not find a valid trust path to the key.  Let's see whether we
can assign some missing owner trust values.
No path leading to one of our keys found.
It is NOT certain that the key belongs to its owner.
If you *really* know what you are doing, you may answer
the next question with yes
Use this key anyway?
What is the difference and why one works and the other does not?
Ping Kam
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-06-06 20:39:02
@_author: Steve Butler 
@_subject: Newbie question - how to include the pass phrase in the command 
This is the key ID of the person to whom the file will be sent.  Don't use
the '--encrypt-to' option for this.  --recipient <> is enough to
ensure the file is encrypted so the other person can decrypt it.
--encrypt-to <>
                 Same as --recipient but this one is intended for
                 use in the options file and  may  be  used  with
                 your own user-id as an "encrypt-to-self".  These
                 keys are only used when there are other  recipi-
                 ents  given  either  by use of --recipient or by
                 the asked user id.  No trust  checking  is  per-
                 formed for these user ids and even disabled keys
                 can be used.
You encrypt the file to yourself so you can decrypt it later (if the need to
see exactly what was sent).  You are using the options in opposite order to
their intended usage.
You really should read up on the web of trust.
Sent: Thursday, June 05, 2003 7:52 PM
This is confusing.  I want to encrypt the file for the recipient so I
encrypt-to the recipient.  I want to ensure that I can also decrypt the file
so I add myself to the list of recipients.  Why would I want to encrypt the
file to myself?
Don't know anything about this feature.  But since I am not using it now, I
don't really care.
I have tried to trust a key using the trusted-key option but I don't know
what to enter for the keyid.  I tried the 8 digit hex number from
the --list-key, the 5 digit number before it, and the two together with the
slash.  I always get the error 'xxxx is not a valid long keyID'.  And I
couldn't find any documentation or help on how to do this.  Can you tell me
how to do this, or direct me to some links that will?
I have tried them all, none of them works for me.  I get the prompt anyway.
Ping Kam
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-06-20 06:42:02
@_author: Steve Butler 
@_subject: Self Decrypting Archives 
Not sure what industry Jeff is in.  In the health care industry in the US we
can simply point to the HIPPA regs and tell our vendors that need to run
something compatible with PGP and provide us with their public key.  Had one vendor that insisted on generating a new public key for us to use!
I've always wondered how they kept track of which pass phrase to use when
they had to decrypt.  Thankfully cooler heads prevail here and I could simply provide them with
the same Public key we provide everybody else.
But, to the point for Jeff.  I'd simply ask them for their public key and
state that you'll send them an encrypted file.
Since we encrypt on a Linux box, it would be impossible for us to send a SDA
to those vendors that use Windows (and I know of at least two -- wish them
luck everytime we ship a file as they forget about the LF versus CR LF
Hash: SHA1
  So tell them how *insecure* it is. It won't take any longer to truly
encrypt a message/whatever than to make the same message/whatever an SDA. Tell them that if they're worried about being secure, they need to stop the SDA crud and do it right and tell them they need to quit being so lazy. It's just plain ridiculous to have a paid-for version of PGP on a windows machine, and
just use it for SDA's, it's just simply ludicrous.
  John

@_date: 2003-06-20 16:26:02
@_author: Steve Butler 
@_subject: alternate ids in key 
I'm KG7JE, aka Steve Butler, aka Stephen M. Butler (and there is at least
one other Stephen M. Butler in the Seattle area but he doesn't have an FCC
call sign of KG7JE).
-----Original Message-----
Sent: Thursday, June 19, 2003 9:47 PM
i am trying to figure out why someone would want to have additional id's in
their key... can anyone provide me with hypothetical scenarios or point me
in the right direction?
thanks in advance.

@_date: 2003-06-20 16:32:03
@_author: Steve Butler 
@_subject: Self Decrypting Archives 
Have to share this experience with you.  A national claims clearing house is
testing the new HIPAA X12-837 transaction with us.  Their first file was
fixed length at 80 bytes with trailing spaces after the last segment marker!
We followed the more traditional format of inserting a CR LF after the major
segment terminators (~).  Neither of us could process the other's files.
Not sure what they were using but we had Mercator trying to map their files.
Finally settled on no CR or LF anywhere in the file!
-----Original Message-----
Sent: Thursday, June 19, 2003 10:23 PM
I feel your pain regarding the EOLN conversion. It seems like the vendors who are using Windows are the least helpful. They always expect us Unix people to do their EOLN conversion.
We're Moving June 20th!
600 University St, Suite 1400
Seattle, WA 98101
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-06-20 16:44:02
@_author: Steve Butler 
@_subject: Self Decrypting Archives 
I should clarify a bit.  HIPAA doesn't mandate PGP or PGP compatible.  =
does mandate secure transmissions for PHI (protected health =
Albeit, a FAX is considered secure!!
I'll have to put you in touch with our HIPAA person to go into further
details.  But our lawyers have determined that using a password on PKZIP
doesn't qualify.
Now, if you share a VPN with your client, then the transmission medium =
encrypted and you won't have to worry about using something like PGP.
As a side note, the Office of Insurance Commissioner (OIC) for the State =
Washington expects a monthly file for physicians and other practitioners =
our network.  This file contains SSN which is part of the PHI.  But =
state law requires OIC to make this data publicly available, they refuse =
accept encrypted files.  Go figure!
-----Original Message-----
Sent: Friday, June 20, 2003 7:13 AM
On Friday, June 20, 2003 12:41 AM [GMT-5=3DEST], Steve Butler
I am by no means a HIPAA expert -- I don't think /anyone/ is, including
the United States Department of Health & Human Services itself.
However, I /have/ read through the Health Insurance Reform: Security
Standards Final Rule (
I think this quote from section (=A7 164.312(e)(1)) says it all: "In =
final rule, we adopt integrity controls and encryption, as addressable
implementation specifications."  This indicates that encryption is not a
requirement.  My organization's team of legal consultants in Washington
has confirmed this.
Another interesting quote from the /Response/ section:
-----BEGIN QUOTE-----
Particularly when considering situations faced by small and rural
providers, it became clear that there is not yet available a simple and
interoperable solution to encrypting email communications with patients.
As a result, we decided to make the use of encryption in the
transmission process an addressable implementation specification.
Covered entities are encouraged, however, to consider use of encryption
technology for transmitting electronic protected health information,
particularly over the internet.
-----END QUOTE-----
As far as I can understand, the 'HIR: Security Standards Final Rule' is
indeed a HIPAA Regulation.  If you could, Steve, please refer us to the
HIPAA Regulation(s) you briefly mentioned above that state
PGP-compatible encryption is a requirement.  I am sure that there are at
least a few of us on this list are interested.
We're Moving June 20th!
600 University St, Suite 1400
Seattle, WA 98101
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, =
is for the sole use of the intended recipient(s) and may contain =
confidential and privileged information.  Any unauthorized review, use, =
disclosure or distribution is prohibited.  If you are not the intended =
recipient, please contact the sender by reply e-mail and destroy all =
copies of the original message.

@_date: 2003-06-25 17:47:01
@_author: Steve Butler 
@_subject: [gpg]Re: decrypt stdin with passphrase in 
Hash: SHA1
That's I/O redirection. I don't think there is any syntax that allows _pipe_ (|) to use
anything other than stdlist and stdin.
However, Unix does allow a file_name to be set up as a pipe/node and
these can have I/O redirection.  That may alleviate the concern for
having the information on the disk (as it most likely will never
actually be written to the disk but simply pass through memory).
Finally, there are bi-directional pipes that can be set up in Unix
(I've not used them) to allow coordinated communcation between two
processes in the same process stack.  The jr DBA has the shell book
is out today.  Therefore, I can't follow up to check out the actual
syntax and usage.
We're Moving June 20th!
600 University St, Suite 1400
Seattle, WA 98101
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-06-25 18:28:08
@_author: Steve Butler 
@_subject: decrypt stdin with passphrase in 
Try the following:
rm /tmp/my_phrase /tmp/my_file
mknode /tmp/my_phrase p
mknode /tmp/my_file p
cat my_gpg_file > /tmp/my_file &
echo 'passphrase' > /tmp/my_phrase &
gpg --homedir $gnupg_home --passphrase-fd=3 --no-tty --decrypt \
  3< /tmp/my_phrase 1< /tmp/my_file
Both the pass phrase and the data file will be written through pipe files.
Neither should ever show up on disk.  Both the cat and the echo will wait
until gpg reads the node (er, pipe).
In some versions of Unix, the gpg may need to run first (in the back ground)
as some versions want the pipe reader to open the file first as in:
rm /tmp/my_phrase /tmp/my_file
mknode /tmp/my_phrase p
mknode /tmp/my_file p
gpg --homedir $gnupg_home --passphrase-fd=3 --no-tty --decrypt \
  3< /tmp/my_phrase 1< /tmp/my_file &
cat my_gpg_file > /tmp/my_file &
echo 'passphrase' > /tmp/my_phrase &
We're Moving June 20th!
600 University St, Suite 1400
Seattle, WA 98101
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-06-25 18:55:01
@_author: Steve Butler 
@_subject: decrypt stdin with passphrase in 
As Robert pointed out, that should be 'mknod' rather than 'mknode'.  I'm
slipping today.
-----Original Message-----
Sent: Wednesday, June 25, 2003 9:29 AM
Try the following:
rm /tmp/my_phrase /tmp/my_file
mknode /tmp/my_phrase p
mknode /tmp/my_file p
cat my_gpg_file > /tmp/my_file &
echo 'passphrase' > /tmp/my_phrase &
gpg --homedir $gnupg_home --passphrase-fd=3 --no-tty --decrypt \
  3< /tmp/my_phrase 1< /tmp/my_file
Both the pass phrase and the data file will be written through pipe files.
Neither should ever show up on disk.  Both the cat and the echo will wait
until gpg reads the node (er, pipe).
In some versions of Unix, the gpg may need to run first (in the back ground)
as some versions want the pipe reader to open the file first as in:
rm /tmp/my_phrase /tmp/my_file
mknode /tmp/my_phrase p
mknode /tmp/my_file p
gpg --homedir $gnupg_home --passphrase-fd=3 --no-tty --decrypt \
  3< /tmp/my_phrase 1< /tmp/my_file &
cat my_gpg_file > /tmp/my_file &
echo 'passphrase' > /tmp/my_phrase &
We're Moving June 20th!
600 University St, Suite 1400
Seattle, WA 98101
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is
for the sole use of the intended recipient(s) and may contain confidential
and privileged information.  Any unauthorized review, use, disclosure or
distribution is prohibited.  If you are not the intended recipient, please
contact the sender by reply e-mail and destroy all copies of the original
Gnupg-users mailing list
We're Moving June 20th!
600 University St, Suite 1400
Seattle, WA 98101
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-06-30 16:43:03
@_author: Steve Butler 
@_subject: [gpg]Re: decrypt stdin with passphrase in 
Well, to split hairs here, and hair splitting seems to be in vogue right
now, that's still I/O redirection.  The pipe itself is still writing to
STDIN even though STDIN is being redirected to FD 3.  Now if the pipe had a syntax such as 1|3 or even 2|3 (output from STDERR
piped to FD 3), then I'd agree that the syntax for _pipe_ allowed it to use
other file handles than STDLIST and STDIN.
We're Moving June 20th!
600 University St, Suite 1400
Seattle, WA 98101
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-06-30 17:53:01
@_author: Steve Butler 
@_subject: [gpg]Re: decrypt stdin with passphrase in 
No.  And I have complained to the company officials including my boss, the
VP of Information Systems.
I've been outvoted.  Seems that Exchange (or Mail Essentials) appends it to
all outgoing emails after the SEND button has been hit (pressed or clicked

@_date: 2003-06-30 19:18:02
@_author: Steve Butler 
@_subject: disclaimer 
As much as I would like to, the disclaimer must have the "blessing" of the
corporate legal council.  Since the company is part of the health care
industry there are certain state/federal requirements that must be met.
I suspect that one of these days, our great leaders (tongue firmly planted
deep in cheek) will pass a law forbidding disclaimers unless they are
required by law.
This morning I also pointed out that since we have already moved and it is
past the 20th of June that it makes no sense to inform folks we are going to
move.  Now, if they want to change it to read that "we have moved" that
might make some weird sort of sense (not to confused with dollars).
So, thanks for the thoughts, but ....   Guess I'd better open the other eye
and check on the 17 databases the company pays me to keep in some semblance
of availability.
--Steve Butler
Oracle Administrator
First Choice Health Network
-----Original Message-----
Sent: Monday, June 30, 2003 10:09 AM
When we had people attaching "disclaimers" to their emails, I started using
this one. I lifted it from a Register article on disclaimers. Afterwards,
the use of disclaimers dropped precipitously. Perhaps you could recommend
this one instead.
"IMPORTANT: This email is intended for the use of the individual
addressee(s) named above and may contain information that is confidential,
privileged or unsuitable for overly sensitive persons with low self-esteem,
no sense of humour or irrational religious beliefs. If you are not the
intended recipient, any dissemination, distribution or copying of this email
is not authorised (either explicitly or implicitly) and constitutes an
irritating social faux pas. "Unless the word absquatulation has been used in its correct context
somewhere other than in this warning, it does not have any legal or no
grammatical use and may be ignored. No animals were harmed in the
transmission of this email, although the kelpie next door is living on
borrowed time, let me tell you. Those of you with an overwhelming fear of
the unknown will be gratified to learn that there is no hidden message
revealed by reading this warning backwards, so just ignore that Alert Notice
from Microsoft. "However, by pouring a complete circle of salt around yourself and your
computer you can ensure that no harm befalls you and your pets. If you have
received this email in error, please add some nutmeg and egg whites, whisk
and place in a warm oven for 40 minutes."
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-05-12 17:08:02
@_author: Steve Butler 
@_subject: gnupg encrypted mail and malware/spam 
Now that HPIAA is in force within the USA, many of us in the health care
industry must install encryption software for individuals who must exchange
protected health information (PHI) with cooperating institutions.  Thus, we
have PGP and GnuPG on several client machines around the company.
However, this is not the major problem of bringing unintended viruii into
the company.  Folks do use the web to check their personal email accounts
during breaks or the lunch hour.  An attachment can be zipped with a
password (another form of encryption).
Finally, there are folks who must be allowed on to the Web as part of their
work day.  These folks will surf it during breaks.  More viruii pop in on
their machines.
We have found it best to have two competing virus scanning software.
Usually written by different authors.  One sits near (or on) the firewall
and monitors the traffic (including email).  The other sits on each client
within the company and monitors that particular box.  There have been
incidents that demonstrate the wisdom of spreading the virus checking
around.  Don't depend on a single point of failure.
--Steve Butler
Oracle Administrator
First Choice Health Network
"Those who give up liberty for the sake of security deserve neither liberty
nor security."

@_date: 2003-11-11 16:50:23
@_author: Steve Butler 
@_subject: Gen keypair 
I just downloaded 1.2.3 and installed it over the 1.2.1 that WinPT was
using.  Then I did exactly what is shown in the prior email except at the
Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? prompt, I entered a
lower case o for OK.  It them prompted for the passphrase (twice) and
generated a key pair (which I immediately deleted using WinPT Key Manager).
Then I went back and tried just entering a  at the prompt.  There is no
default for this prompt and one of the options must be entered.  I suppose
we could ask that OK be the default.  But, there is a work-around that
allows one to continue.  At the very least, this makes the user sit up and
take notice that a major operation is about to begin and are they really
sure they wish to proceed.
-----Original Message-----
Sent: Monday, November 10, 2003 1:22 PM
I am new to GnuPG, so I downloaded the latest binary for Windows and ran the
D:\>gpg --gen-key
gpg (GnuPG) 1.2.3; Copyright (C) 2003 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it
under certain conditions. See the file COPYING for details.
Please select what kind of key you want:
   (1) DSA and ElGamal (default)
   (2) DSA (sign only)
   (5) RSA (sign only)
Your selection?
DSA keypair will have 1024 bits.
About to generate a new ELG-E keypair.
              minimum keysize is  768 bits
              default keysize is 1024 bits
    highest suggested keysize is 2048 bits
What keysize do you want? (1024)
Requested keysize is 1024 bits
Please specify how long the key should be valid.
         0 = key does not expire
        = key expires in n days
      w = key expires in n weeks
      m = key expires in n months
      y = key expires in n years
Key is valid for? (0)
Key does not expire at all
Is this correct (y/n)? y
You need a User-ID to identify your key; the software constructs the user id
from Real Name, Comment and Email Address in this form:
    "Heinrich Heine (Der Dichter) "
Real name: Johne Doe
Email address: jdoe
Comment: TestId For John Doe
You selected this USER-ID:
    "Johne Doe (TestId For John Doe) "
Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit?
I cannot get out of the change prompt to complete the key generation.  What
am I missing?
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-11-11 22:08:45
@_author: Steve Butler 
@_subject: Timing test of GnuPG and old PGP 
All of the PGP recipients with whom we have dealt will accept other ciphers
than IDEA.  In most cases they were unaware that we were sending data with
one of the alternate ciphers.
PGP seems to honor the preferences set on our PK.  At least PGP vendors have
not had problems sending us encrypted data once we had the preferences set
correctly (on our key).
I think you can be "transparent" without using IDEA.
Sent: Thursday, October 30, 2003 6:36 PM
Maybe. What version was the "old" PGP? What symmetric cipher did you use
with each program? Perhaps GnuPG used Triple-DES, which is much slower
than the IDEA and CAST algorithms that were the default in older PGP
programs. You can change your kep preferences to use AES, CAST, or some
other speedy cipher with GnuPG.
I assume you eliminated the obvious possibilities for the slowness:
other system activity, file system fragmentation, etc.
Gnupg-users mailing list
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-11-20 00:00:42
@_author: Steve Butler 
@_subject: Strength of passphrase encryption 
The flip side does give some hint to the strength of the encryption for the
private key.  In short, if you lose your passphrase, might as well kiss your
private key goodbye.  -----Original Message-----
Sent: Wednesday, November 19, 2003 2:12 PM
I have a quick question. What algorithm does gpg use to encrypt your
private keyfile on your disk? Does it have any known classes of weak
keys? Can it be brute-forced quickly?  Obviously this depends on the
length of the passphrase, if it's dictionary based, etc. But independent
of these, is it an easily brute-forced cipher, or a slowly brute-forced
The reason I ask is that Linux's loop-aes and other encrypted file
systems allow you to use gpg to encrypt your actual filesystem key
with a special public key created just for your FS. When the FS is
mounted, you are prompted for your gpg password for that private key.
Thus the strength of the whole system essentially hinges on gpg's
ability to protect your private key after it has fallen into the wrong
hands. Was gpg designed with this possibility in mind? All the docs
essentially say to guard your private key with your life, so I worry
that the authors may have just assumed that if your key is stolen, all
is lost, and didn't bother to encrypt it effectively.

@_date: 2003-11-20 16:38:29
@_author: Steve Butler 
@_subject: Using GPG key from website 
The easiest is to cut/paste the keyblock into Notepad and save it as a file.
Then use the --import command of gpg.
Especially so if it is ASCII armor and has the BEGIN/END Key Block monikers.
Now, I've had good luck on Windows using WinPT.  On the Key Manager window
simply click on Edit then Paste (after cutting the key from another source).
WinPT will walk you through two other windows and then the key is in the
keyring.  In fact, I wouldn't use GnuPG on Windows without WinPT.  But,
that's my bias.
-----Original Message-----
Sent: Thursday, November 20, 2003 4:23 AM
I'm new to using encryption and have a question that I couldn't find an
answer to in the how-to's and FAQ.  When someone posts their gpg key on
a website, how would I import that key so I can use it to send that user
an email?  Is it as simple as copying and pasting it somewhere?  I'm not
sure if this matters, but I'm running Kmail on a Linux and FreeBSD box.
I'm also wondering how I would do this on a Windows box?  My parents are
using Windows XP and I would like to have them use encryption, as well,
when needed.   Thanks for the help.
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-10-29 22:44:37
@_author: Steve Butler 
@_subject: cannot open /dev/tty: No such device or address 
There is a similar error message when driving gpg from cron.  Try the
--no-tty option.
-----Original Message-----
Sent: Wednesday, October 29, 2003 1:00 PM
Hi all,
attachments from emails and decrypt them. If I run the perl script from a
bash$ cat mailbox | mbox-parser.pl
Reading passphrase from file descriptor 11
You need a passphrase to unlock the secret key for
user: "GPG user (GPG user's key) "
1024-bit ELG-E key, ID D49D1DBC, created 2003-10-28 (main key ID 7724AA8E)
passphrase output. I tried to redirect STDOUT to a log file, but doesn't
make any difference.
bash$ cat .procmailrc
:0 HB : user.procmail.lock
* ^To:.*user
gpg: Warning: using insecure memory!
gpg: cannot open /dev/tty: No such device or address
a terminal, but can't be found any and it fails. I'll enclose here the subroutine I'm using on the decryption, just in case somebody wants to know what I'm doing...
sub decrypting
  my $attachment  = $_[0];
  my $gnupg = GnuPG::Interface->new();
  $gnupg->options->hash_init( armor    => 1,
                              recipients => [ 'tj-cl-testing ]
                            );
  my ( $input, $output, $error, $passphrase_fh, $status_fh )
    = ( IO::Handle->new(),
        IO::Handle->new(),
        IO::Handle->new(),
        IO::Handle->new(),
        IO::Handle->new(),
      );
  my $handles = GnuPG::Handles->new( stdin      => $input,
                                     stdout     => $output,
                                     stderr     => $error,
                                     passphrase => $passphrase_fh,
                                     status     => $status_fh,
                                   );
  my $cipher_file = IO::File->new( "$attachment" );
  my $pid = $gnupg->decrypt( handles => $handles );
  print $passphrase_fh $passphrase;
  close $passphrase_fh;
  print $input $_ while <$cipher_file>;
  close $input;
  close $cipher_file;
  my     = <$output>;   # reading the output
  my  = <$error>;    # reading the error
  my   = <$status_fh>; # read the status info
  open(LOGFILE,">>$DECRLOG");
  my $date = `date`;
  chomp($date);
  print LOGFILE "\n$date -- $attachment decryption   print LOGFILE   print LOGFILE   close(LOGFILE);
open (SAVE,">$ATTACHLOC/$ATTACHMENT.decrypted");
print SAVE   # clean up...
  close $output;
  close $error;
  close $status_fh;
  waitpid $pid, 0;  # clean up the finished GnuPG process
Thanks a million,
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-10-31 18:46:45
@_author: Steve Butler 
@_subject: help needed desperately: gpg --decrypt hanging 
I don't use Perl but I do have a Korn shell script that works for me on a
SuSE SLES Linux box.  You will need to replace the 'default gpg_pass$1'
routine with something that gets the passphrase for your secret key.  Also
replace 'default gpg_homd' with something that gets the GnuPG home directory
for your box (or set the environment before running the script).
# COPYRIGHT (c) 1995-2002 Stephen M. Butler dba XRG
# This information may be copied, distributed and/or modified under
# certain conditions, but it comes WITHOUT ANY WARRANTY.
# See the Design Science License for more details
# =================================================================
#  gpg_decrypt pass_id   input_file  output_file
#     Interface for edi and default routines to decrypt pgp files vi GnuPG.
#     pass_id      1 or 2 to indicate which pass phrase needs to be picked
#     input_file   name of file to decrypt.  Includes any path
#     output_file  name where to place output plain text file (with path)
#     Note:  See 'default' script for default usage.
homedir=$($xrgbin/default gpg_home)
  rm -f "$3" 2>&1 1> /dev/null
  $xrgbin/default gpg_pass$1 \
 gpg --homedir $homedir --passphrase-fd 0 --no-tty --skip-verify \
        --output "$3" --decrypt "$2"
-----Original Message-----
Sent: Friday, October 31, 2003 8:44 AM
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-10-31 20:00:35
@_author: Steve Butler 
@_subject: help needed desperately: gpg --decrypt hanging 
OK.  Perhaps I was the brain dead one <>.
Perhaps you already know this and I just didn't pick it out from the Perl
script.  However, the data to be encrypted and the passphrase cannot both
come through STDIN (or FD 0).  I would suggest that you send the passphrase
through STDIN (and use the --passphrase-fd 0 command line option) and send
the data to decrypt through a named pipe.  Perhaps something like:
mknod mydata p
cat info_to_decrypt > mydata &
cat my_pass_phrase | gpg --no-tty --passphrase-fd 0 --decrypt mydata >
Does that help or am I still barking up the wrong tree?
-----Original Message-----
Sent: Friday, October 31, 2003 10:52 AM
Sorry Steve, I don't think I explained the problem well enough.  If I
run, on the command line:
gpg --decrypt
Then I pass it the encrypted text to decrypt, and then I give it the
password, it just hangs!  It sits and sits and sits...and we get
Thanks for your help!
is for the sole use of the intended recipient(s) and may contain
confidential and privileged information.  Any unauthorized review, use,
disclosure or distribution is prohibited.  If you are not the intended
recipient, please contact the sender by reply e-mail and destroy all copies
of the original message.

@_date: 2003-10-31 21:30:57
@_author: Steve Butler 
@_subject: help needed desperately: gpg --decrypt hanging 
Can't help with Perl or Crypt.  However, I can help with:
  gpg --decrypt
This wants to have both the passphrase and the encrypted file come in
through STDIN.  The problem is that it wants to start readying the encrypted
data (from STDIN) first.  So, it will just sit there.  If you do feed it
some encrypted, it will start to read the encrypted data (to find out which
key is needed to decrypt) but then need the passphrase (which you did see
and entered).  After that, it will need the rest of the encrypted data until
it hits end-of-file (EOF).  You can simulate an EOF by entering a CNTRL-D at
the keyboard.  But that is cumbersome.  You can try that just to see if it
works (using a really small encrypted file).
But, you should try the below first and see if it works for you.
  cat try1.pgp | gpg --decrypt
You need a passphrase to unlock the secret key for
user: "First Choice Health Network (FCHN) "
2048-bit ELG-E key, ID 5A2CEA48, created 2001-10-16 (main key ID 1B32D54B)
Enter passphrase: <>
gpg: encrypted with 2048-bit ELG-E key, ID 5A2CEA48, created 2001-10-16
      "First Choice Health Network (FCHN) "
If this all works so far, then try sending the encrypted data through a
named pipe:
mknod mydata p
cat try1.pgp > mydata &
[1] 28405
gpg --no-batch --decrypt mydata
You need a passphrase to unlock the secret key for
user: "First Choice Health Network (FCHN) "
2048-bit ELG-E key, ID 5A2CEA48, created 2001-10-16 (main key ID 1B32D54B)
Enter passphrase: <>
gpg: encrypted with 2048-bit ELG-E key, ID 5A2CEA48, created 2001-10-16
      "First Choice Health Network (FCHN) "t
This should all work based on the command line.  If it doesn't, then there
is a problem with your gpg setup/install.  If this all works, then we can tackle whatever problem is left (like sending
the passphrase to FD 0 and the encrypted data via the named pipe with output
going to either STLIST or a file.
-----Original Message-----
Sent: Friday, October 31, 2003 12:06 PM
Hi Steve,
Yes, the Halloween bug is hitting us all here in NYC too. :)
Well, the first problem is that I'm not able to use gpg from the command
line, in at least one fashion (see my message to David Shaw on the
list).  The next issue is that Crypt::GPG (perl module) now appears to
be broken, because, I'm assuming, it is using the same method to decrypt
text through gpg.  CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2003-09-16 18:39:01
@_author: Steve Butler 
@_subject: auto decrypt in unix 
This is a multi-part message in MIME format.
x-gfisavedcharset:  iso-8859-1

@_date: 2003-09-17 16:27:02
@_author: Steve Butler 
@_subject: broken ascii armor (was Re: auto decrypt in unix) 
Thanks Todd.  That was the first message I'd signed in a long time here.
Since the company has standardized on the software from a local (Redmond,
WA) software company for the desktop, I'm somewhat at the mercy of MS
Outlook (not the express version).
And, I haven't checked that the PK on the Windows box is exactly the same as
the PK on the Unix boxes.  It's the Unix boxes that do all the work with the
encrypted files.
Bottom line, I'll refrain from signing emails.
PS.  Looks like something wrapped my prior message at a most in-opportune
Hash: SHA1
Your message tripped up a small issue in mutt.  The first paragraph of your
message disappeared after the signature was checked (which still fails even
after I downloaded your key).  I tracked this down and found that the ascii
armoring on your message has had a few errant spaces added, one of which
causes mutt to think the first paragraph is part of the armor header.  In
your message, the line after Hash: SHA1 contains a single space.  According
to the OpenPGP RFC:
   7. Cleartext signature framework
      [...]
      The cleartext signed message consists of:
        - The cleartext header '-----BEGIN PGP SIGNED MESSAGE-----' on a
          single line,
        - One or more "Hash" Armor Headers,
        - Exactly one empty line not included into the message digest,
          ^^^^^^^^^^^^^^^^^^^^^^
        - The dash-escaped cleartext that is included into the message
          digest,
        - The ASCII armored signature(s) including the '-----BEGIN PGP
          SIGNATURE-----' Armor Header and Armor Tail Lines.
I'm guessing that some MTA along the way added the space.  Since it took me
a while to figure out why mutt was losing the first paragraph of your
message (making the line about the korn shell seem out of place :), I
figured I'd post this here, in case any other mutt users found the same
thing.

@_date: 2004-04-02 17:55:44
@_author: Steve Butler 
@_subject: GPG - Invalid packet 
I had a similar problem with files coming from a mainframe environment.
They threw some switch that made the file a multiple of their sector length.
The trailing bytes became all hex zeros.  I edited the file to remove the
trailing bytes and GnuPG worked fine.  The sender never did admit that the
problem was theirs but subsequent files did not end at a sector boundary.
See if the file size is a multiple of 256 bytes.
The other thing that bites (or should I say bytes <>) is when somebody
ships the file to us in ASCII mode without using the --ascii-armor.  Since
our FTP server is running on Linux, any CR/LF combinations are transformed
into just the LF.  That will stop the decryption with all sorts of strange
results (depending on where the bytes were dropped).  Right now none of our senders are using the --ascii-armor switch and we are
not using it for our recipients.  Been doing this for a couple of years.
Once it is set up and automated (on both ends) then it works like a charm.
But, everybody has to handle the file as binary.  Some folks have a hard
time grasping that concept -- especially one un-named vendor up here in the
USA Pacific Northwest (not Billy boy).
Sent: Friday, April 02, 2004 9:20 AM
do you know if it was encrypted with ascii-armor?
I have seen problems with non-ascii systems sending files with wierd
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-04-07 17:15:42
@_author: Steve Butler 
@_subject: Implementation questions 
Having worked as a system admin for a large newspaper company, if a critical
employee is walked out the door (or leaves) all passwords known to them (or
even presumed to be known by them) are immediately changed.  Therefore, any
database of passwords they may have copied at home (even if encrypted) are
immediately invalid.
The new list is distributed as needed.  If the super user password changes,
a copy is placed in the VP's office safe.  Hash: SHA1
1) install my public key
2) $ chmod 0 ~/.gnupg/gpg.conf
3) $ ps | gpg -ear 0x3D7D41E3
you're the sender, i'm the recipient. as the sender of that message, see
if you can decrypt it... i'll be *very* impressed if you can.
my point, here, is that you can't always count on the sender encrypting to
themself. and what if the sender and recipient both get hit by a bus?
data can be ENcrypted on auto-pilot to as many keys as you want, and sent
to a file, database, etc....
one of the encryption keys could belong to the boss... they never plan on
getting hit by a bus. also, you might want to print out your private key,
write out your secret password on it, put it in an envelope, and store
that in a locked safe, under control of the boss. when all of the techs
get hit by a meteorite, the new techs can recover the keys from the safe.
that's tough.... i can't think of a way to do that. even if you could
"revoke" the key, let's say one of the employees emails the database to
himself, and then gets fired: he's home with a copy of the db and his
secret key.
the best thing i can think of (at 0400 hrs) to deal with that, is to have
a file/db encrypted to each employee. if an employee leaves, that file/db
can be deleted.... but it won't do any good to delete it if they already
saved their own copy  ;)
 _________________________________________
 PGP key -  3EBE 2810 30AE 601D 54B2 4A90 9C28 0BBF 3D7D 41E3
 -------------------------------------------------
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-04-09 16:17:34
@_author: Steve Butler 
@_subject: I have keys - now I want to encrypt a file 
Change the order a little.
gpg  --recipient "$1" --output "$2.gpg" --encrypt "$2"
-----Original Message-----
Sent: Tuesday, April 06, 2004 1:06 PM
Hi all,
I have just installed gpg on my Solaris system.
My requirement is to encrypt small flat files and send
them to outside recipients.  I have successfully
imported two public keys from these recipients.  Now I
want to encrypt 'testfile' to prepare it for FTPing to
one of the recipients.  What syntax should I use?  I
have thus far tried gpg --encrypt-files testfile --recipient
somebody keyname
but I get the message 'you did not specify a user ID'
I have checked the FAQ and do not find the answer
thanks !
Doug Thomson
Minneapolis, MN  USA   Do you Yahoo!?
Yahoo! Small Business $15K Web Design Giveaway Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-04-26 16:35:58
@_author: Steve Butler 
@_subject: Encrypting for multiple recipients eith GnuPG 
Why go to all that work?  Just give gpg the list of recipients (multiple -r
entries on the command line) before asking it to encrypt the file.
gpg -r x -r y -r z -o output.gpg -e input.txt
-----Original Message-----
Sent: Friday, April 23, 2004 6:55 AM
Hi All,
I'd like to encrypt a data file for multiple recipients, using the GPG.
It should be possible, just encrypt the file with a symmetric key, and then attach multiple copies of that key (with some random data added), each copy encrypted with public key of the other recipient (the random data should vary to make attack more difficult).
However are there any options in GnuPG to automate that process?
Meybe such a functionality should be added to the GnuPG?

@_date: 2004-04-28 16:58:24
@_author: Steve Butler 
@_subject: Moving from PGP to GnuPG and other questions ...  
At one time a client was sending us files encrypted with IDEA (they were a
PGP shop).  Found that there were no prefs on the key that had been
generated by GnuPG.  So, I edited the key, set the preferences and had the
client update their keyring.  They no longer send us files encrypted using
So, yes, a PGP client will honor the preferences set by GnuPG.
--Steve Butler
Oracle Administrator
First Choice Health Network
Seattle, WA USA
-----Original Message-----
Sent: Wednesday, April 28, 2004 6:26 AM
If I import a new key to PGP which has been generated by GnuPG with its
default preferences
     Cipher: AES256, AES192, AES, CAST5, 3DES
     Digest: SHA1, RIPEMD160
     Compression: ZLIB, ZIP, Uncompressed
     Features: MDC
,done with GnuPG 1.2.3)
PGP will encrypt with CAST5 or 3DES (maybe AES).
BUT I have changed the prefs of a V4 key which has been generated with
PGP (with IDEA as default!), exported to GnuPG, *deleted* entirely from
PGP, exported from GnuPG with new prefs set and again imported from PGP.
Will say: there was a time where PGP did not know about the existence of
this key. But somewhere in PGP's key database information can be found
that this key has had IDEA as the default algo.
enough That exactly is the question!

@_date: 2004-02-04 16:31:36
@_author: Steve Butler 
@_subject: copy GNUPG keys for user from one box to another 
Use the --export and --import options.  A floppy, CD, or USB card also come
in handy.
Hash: SHA1
Hi, All!
How, I can copy GNUPG keys for user from one system to another?

@_date: 2004-02-06 04:24:26
@_author: Steve Butler 
@_subject: copy GNUPG keys for user from one box to another 
Some folks already have another keyring on the other end.  I have one on the
windows box which has some keys I don't want on the Linux box.  And the
other way also from the Linux side.
Folks should know how to do an --export --import (with appropriate varients)
in addition to cp, mv, ftp, tar, copy, rename, and a host of other methods.
-----Original Message-----
Sent: Thursday, February 05, 2004 1:07 PM
Why so complicated? Why not just copy or ftp/scp the entire keyrings?

@_date: 2004-02-06 04:29:27
@_author: Steve Butler 
@_subject: MUA questions 
How about we graduate back to some of the anceint languages and drop all
vowels also!
Hmm.  Seems everybody preaches diversity -- as long as it's my diversity you
all are talkin' about.  <>
Hash: SHA1
and whats with them capitol letters and punkuation nobody needs them (/sic/)

@_date: 2004-02-06 16:17:21
@_author: Steve Butler 
@_subject: copy GNUPG keys for user from one box to another 
I have had no problems exporting private keys and importing them.  I use
gnupg on both Windows and Linux.
-----Original Message-----
I've read in the gpg docs that --export doesn't do private keys
properly.  I usually export from PGPkeys in Windows and pass around that
file, since it does private keys properly.  If I didn't have that option
I'd just copy the file itself around.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-02-06 16:30:23
@_author: Steve Butler 
@_subject: copy GNUPG keys for user from one box to another 
Thank you for expanding on the --export variants.  Perhaps I should use
--export* to represent all the varies incarnations.
Thankfully,        --allow-secret-key-import
                 This  is an obsolete option and is not used any-
                 where.
But there were times in past years when I had to go "oh yes -- how was that
Folks really should "read" the man pages (or help file in Windows) for the
various methods to export and import keys.
-----Original Message-----
Because, especially if you're moving secret keys about, you may get
the permissions wrong. --import won't.
Because I've used similar procedures, just earlier today (though
with commercial PGP) to move a shared keypair from one user account
to another. Copying .pgp there isn't an option without a bunch of
manual editing (the config files include full paths to keyrings),
but exporting as one user and importing as the other Just Works.
Because keys aren't files, they're objects that can be represented
in several different ways singly and in sets in files.
And the other reasons already mentioned.
But mostly I was just expanding on the stated --export | --import
syntax, so that someone taking that advice blindly wouldn't be
confused by the subsequent lack of secret keys.

@_date: 2004-02-06 16:46:26
@_author: Steve Butler 
@_subject: Off Topic 
0 0
    1
  1   1
   111
-----Original Message-----
Can someone just take the time to teach me how to speak binary? CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-02-06 22:35:19
@_author: Steve Butler 
@_subject: Bug: Unusable key 
Reminds me of a humorous antidote in "Are Your Lights On?" by Donald C.
Gause and Gerald M. Weinberg (review at
How much information do you put on a roadside sign as folks leave a tunnel
and just before a parking area for a scenic overview:
  "If it's daylight and you turned on your lights, please turn them off
before parking.
   If it's daylight and you didn't turn on your lights then don't worry
about it.
   If it's nighttime and your lights are not one, please turn them on right
   If it's nighttime and your lights are on, then turn them off after
Of course, drivers who read the entire sign had accidents due to inattention
to the road.  Those who didn't read the entire sign were left wondering what
they were supposed to do about the lights (perhaps it was talking about the
sun).  Those who didn't bother to read the sign still had dead batteries
after spending hours at scenic overview with their lights on.
Sometimes the most elegant error message is the one that causes the
user/driver to think and solve their own problem.  As in "Lights?"  Or, in
this case:
Translations to other languages (English and American included) are left as
an exercise for the reader.
-----Original Message-----
Sent: Friday, February 06, 2004 1:05 PM
That does not cover all the cases.  Specifically, it doesn't cover the
case where there is no encryption key at all.
If we're talking about an error message change here, then it needs to
embody the concept "I did find the key, but the key isn't capable of
encryption - this might be because there is no encryption capability
in the first place, and it might be because there was encryption
capability in the past which is now revoked and/or expired."
The current message is "unusable public key".  Any other suggestions?
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-02-06 23:29:28
@_author: Steve Butler 
@_subject: Bug: Unusable key 
Sounds good to me, 'cause, for all practical purposes, that public key is
unusable.  It's up to the user to figure out which one of the 101 reasons
applies in this case.  But, sounds like I'm in the minority (my wife reminds
of that quite often).
-----Original Message-----
Heh, I like that.  How about "unusable public key" ?  That pretty much
describes the problem ... ;)
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-02-09 04:21:01
@_author: Steve Butler 
@_subject: Bug: Unusable key 
Now I feel like I'm on the hot seat!  I'm not sure that the more verbose message carries any more information then
the shorter version.  Perhaps I've been in the business to long and have
learned how to read short error messages.  Now, my mother would cringe on
seeing the incorrect verb usage.
Is it the parenthetical phrase "zero or more sub keys" that provides the
extra good feelings?  That really doesn't tell you if there are sub keys or
even how many there might be.  Ergo, not really any additional information.
"Hey Buddy" is just an American slang phrase that really isn't needed. (Yes,
I speak American and my British friends tolerate me!)
Finally, "have (sb has) major problems" says no more than "unusable".
So, while I'm gratified that you think the message is more clear, it was
created with tongue in cheek.  (Going overboard to master the understatement.)
-----Original Message-----
No, those two realy don't say the same thing, which is why I started
arguing with you about this to begin with.
"unusable public key" is very obtuse, whereas Steve's suggestion,
simply by having a few more words, is FAR more clear.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-02-09 04:24:10
@_author: Steve Butler 
@_subject: Bug: Unusable key 
There I was.  Galloping across the sands to come to your rescue.
Maybe I should switch to overstating the obtuse.
-----Original Message-----
Sent: Saturday, February 07, 2004 5:17 PM
I'm kidding, I'm kidding... note the ;)
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-02-09 18:08:56
@_author: Steve Butler 
@_subject: automation on UNIX and Windows platforms 
1.  Realize that any automation where the pass phrase is known to the script
is a huge security leak.  You might as well not have a pass phrase at all!
2.  Not having a pass phrase is one method to allow automation.  No pass
phrase to enter means no prompt for one.
3.  Then there is the --passphrase-fd option that allows a pass phrase to be
piped to gpg.   is the mechanism I use knowing full well that anybody that has access to
the Linux box will figure out how to read my script.  The answer is obtuse,
but any persistent individual can figure it out and there goes my (the
company's) secret key.  The box is secure enough that the company is willing
to take the risk for the automation.  Example: $(script to obtain pass-phrase and write it to $STDLIST) | gpg --homedir
$homedir --passphrase-fd 0 --no-tty --output $output_filename --decrypt
-----Original Message-----
Sent: Monday, February 09, 2004 8:49 AM
and it didn't seem to make sense - you still have to provide a
password.  Perhaps I am missing something here.  Anyways, my situation is
that I want to setup a way to simply encrypt and decrypt from the
commandline in both UNIX and DOS with simple scripting(i.e. don't have to
use expect or anything else of that matter - can, just being lazy) where
it doesn't prompt me for a password, yet I can still pass the password to
the program via either piping, feeding through a file, or an environment
variable.  We use an older version of PGP on our server right now(2.62),
and it supports passing of the password through the environment variable
PGPPASS.  I don't see why GNUPG would not support something like this -
I'm hoping it does, but can not find any document reference to it.  As a
result, the requirement to enter in the password by hand makes automation
extremely difficult.  Anyways, I'm hoping someone here knows of such a way
I mentioned above, or another equally simple way to achieve this.  If not,
what's the low down and dirty dirt on how to get this sucker to work in an
automated fashion?  Any help would be greatly appreciated.
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-02-09 19:40:04
@_author: Steve Butler 
@_subject: Bug: Unusable key 
There are so many different reasons why a Public key might not be usable.
Trying to address them in an elegant error message will lead to frustration
for both the developers and the consumers.  It's that odd time when none of
the "suggestions" apply that will lead to further calls to refine the error
message (make it more verbose).
Perhaps the appropriate solution is to dedicate a web page to "What makes a
Public Key Unusable" and include a reference to that page in the error
message.  Or put it in the FAQ.
In any event, thank you for your kind words.  Now, this next suggestion may be a little far out, but if the web page or
FAQ numbered the different conditions, then the error message could say:
Public Key Unusable -- Found:
a) 20 occurrences of condition 1455;
b) 15 occurrences of 2822;
c) 1,459 occurrences of 1299
-----Original Message-----
Sent: Monday, February 09, 2004 10:24 AM
Your suggestion isn't actually *enough* better from my point of view
(nor from David's, I don't think, which was probably the kernel of
truth in his tongue-in-cheek response), but it *is* better.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-02-10 17:39:21
@_author: Steve Butler 
@_subject: Removing AES 
Don't need to generate a new key.  Just change the preferences on your
existing key.  Export it.  Give the new export out as your public key.
For example, the company's public key has been changed so it works great
with all versions of PGP with which we have done EDI.
Secret key is available.
pub  1024D/1B32D54B  created: 2001-10-16 expires: never      trust: u/u
sub  2048g/5A2CEA48  created: 2001-10-16 expires: never     (1). First Choice Health Network (FCHN) Command> showpref
pub  1024D/1B32D54B  created: 2001-10-16 expires: never      trust: u/u
(1). First Choice Health Network (FCHN)      Cipher: CAST5, AES, AES192, AES256, 3DES
     Digest: SHA1, RIPEMD160, MD5
     Compression: ZLIB, ZIP, Uncompressed
     Features: MDC
I kept the AES items for those folks that can do it.  But, CAST5 is first on
the list for the PGP folks.
Look at the setpref and updpref commands.
Hash: SHA1
Our organization has a partner who claims that version 7.0.1 of
PGP is incompatible with all versions of GnuPG (as well as PGP
v8.0.2).  Basically, this person has stated that GnuPG defaults
to AES256, AES192, and AES128 symmetric algorithms as the
preferred symmetric algorithms when creating a key, and that
this is the cause of the incompatibility.
Is it possible to create a new GPG key that excludes any and all
AES algorithms.  If so, how would one go about doing such a
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-02-10 17:53:21
@_author: Steve Butler 
@_subject: 10x compression factor 
Plain text should have lots (and even more than lots) of spaces.  Many of
them consecutively spaced <>.  There should be lots of other
characters (even strings of characters) that repeat throughout the file.
Gzip should be able to do that trick fairly easy.  Pkzip could also do it.
Since GnuPG uses similar compression routines (ZIP and ZLIB), it should do
just as well.
I just generated a 1 Gbyte file that contains only spaces (no newline; no
).  That's 1,073,741,824 spaces (all in a row).
PKZIP compressed this down to 1,048,417 bytes (1024:1)  1Gbyte to just under
1 Mbyte.
gzip  compressed this down to 1,042,077 bytes (1030:1)
GnuPG encrypted  this down to 1,044,357 bytes (1028:1) (even with the key
So, 10:1 compression just means that the text files had more random text
than a string of spaces.  But it wasn't completely random.  Most text files
will fail most any statistical test for randomness.  Ergo, they compress
really well!
-----Original Message-----
Sent: Monday, February 09, 2004 7:06 PM
A client has presented an astonishing metric. They say they have a 1Gig
plaintext file which they can compress and PGP encrypt down to 80Mb! I
don't know what tool they are using. How is this possible? What compression algorithm could they be using?
Can I achieve this sort of compression using GPG?
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-02-10 20:05:21
@_author: Steve Butler 
@_subject: 10x compression factor 
Which is why I knew to go looking for this special case.  But, it is fun to
pull our the corner cases and watch folks eyes glaze over!
Back in the beginning of FidoNet (remember FidoNet?) one of the lead
developers had somebody dialing into his site every few hours to look for
updates.  Complained if none were found.  So, a special update was prepared
for him.  <> They hand generated the compressed version of a really
big file.  Big enough to ensure that the recipient couldn't decompress it on
their box.
My understanding is that this person wanted the "big" update so bad they
went out and bought a new system with enough disk space.
Now my system at home has more RAM than fit on the hard drive I used back
-----Original Message-----
Sent: Tuesday, February 10, 2004 10:29 AM
So, bzip2 compresses 1 gigabyte to less than 1 kilobyte. :) Of course,
this is an really artificial situation (all spaces) that plays
directly into a major strength of bzip2, but it's amusing nonetheless.
Compression ratios like this make for decompression bombs...
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-02-10 20:13:56
@_author: Steve Butler 
@_subject: 10x compression factor 
Yes, David just presented the numbers.  And folks wonder why the software
doesn't compress _after_ encryption <>.
As for novels, some I've (started to) read seemed a lot more repetitive than
technical specs.  Perhaps checking the compression ratio should be part of
the test for good novels. --tongue in cheek--
-----Original Message-----
Sent: Tuesday, February 10, 2004 10:31 AM
In my experience, english text compresses with rates from 6:1 to 15:1 - depending on formatting (spaces etc), and of course repetitive text parts (technical docs often contain a lot duplicated content; novels probably For silly compression rates, try bzip2 - IIRC it's something like 1000 times
better than gzip :-)
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-02-11 16:29:13
@_author: Steve Butler 
@_subject: change the location ~/.gnupg 
That's why there is an environmental variable GNUPGHOME that can be set up
by a system wide .profile.
-----Original Message-----
Sent: Wednesday, February 11, 2004 4:08 AM
Remember that the amended homedir would have to be specified for all gpg
usage, including scripts, email clients and the like. If this is a
desktop / user system, that could be a real pain. homedir is more useful
for remote automated environments where the only execution of gpg is by
customised scripts etc. What are you wanting to accomplish?
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-02-11 23:55:20
@_author: Steve Butler 
@_subject: GPG encrypting form data 
I believe the gpg (on Unix/Linux) can behave as a pipe filter -- eg, it can
read $STDIN and write to $STDOUT.
-----Original Message-----
Sent: Wednesday, February 11, 2004 2:48 PM
Hi All,
without creating an unencrypted file first. E.g. building a string or
array with all the form data encrypting it to another string and then
mailing it?
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-02-18 22:13:57
@_author: Steve Butler 
@_subject: Prompt 
1.  locally sign the recipient's key and apply trust to it; or,
2.  Use the --no-batch and --yes command line directives.
-----Original Message-----
Sent: Wednesday, February 18, 2004 1:04 PM
I am using GnuPG on a Windows platform to automatically encrypt a file which
I am sending out via FTP daily. Unfortunately, I cannot automate this
process fully because the command prompt asks the following before
completing the process of encrypting my file:
It is NOT certain that the key belongs to the person named
in the user ID.  If you *really* know what you are doing,
you may answer the next question with yes
Is there any way I can avoid this prompt?
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-02-18 22:16:44
@_author: Steve Butler 
@_subject: Prompt 
Or, if you really understand what is happening and manually update your key
rings, 3.  Use the --always-trust option (equivalent to --trust-model always)
Sent: Wednesday, February 18, 2004 1:04 PM
I am using GnuPG on a Windows platform to automatically encrypt a file which
I am sending out via FTP daily. Unfortunately, I cannot automate this
process fully because the command prompt asks the following before
completing the process of encrypting my file:
It is NOT certain that the key belongs to the person named
in the user ID.  If you *really* know what you are doing,
you may answer the next question with yes
Is there any way I can avoid this prompt?
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-01-12 17:02:14
@_author: Steve Butler 
@_subject: password only encryption used in a cron 
Try the --no-tty --batch options.
-----Original Message-----
Sent: Monday, January 12, 2004 7:18 AM
I am trying to decrypt a file that I am getting in a daily email using a
cron daemon.  The file is only encrypted by a password. CRON is giving me an
error message:
gpg: /home/al1/.gnupg/options:112: deprecated option "honor-http-proxy"
gpg: please use "keyserver-options honor-http-proxy" instead
gpg: WARNING: using insecure memory!
gpg: please see  for more information
gpg: cannot open /dev/tty: No such device or address
when I run the command from the command line I do not get the same message:
gpg: /u/al1/.gnupg/options:112: deprecated option "honor-http-proxy"
gpg: please use "keyserver-options honor-http-proxy" instead
gpg: WARNING: using insecure memory!
gpg: please see  for more information
Reading passphrase from file descriptor 0
gpg: assuming IDEA encrypted data
gpg: WARNING: message was not integrity protected
Here is the command I am trying to run:
where /u/bin/ppf is the password
The cron is set up for the same non-root user that I run the command line.
Any suggestions on what I am doing wrong?
Joe Johnson
Airlink Systems
512-231-1240 x101
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-07-06 16:43:51
@_author: Steve Butler 
@_subject: Batch run  Sun/solaris 
Try a couple
Here is how I have cron type jobs invoke encryption:
gpg --homedir $homedir --batch --no-tty --always-trust --recipient $1 \
    --output "$2.$ext" --encrypt "$2"
-----Original Message-----
[mailto:gnupg-users-bounces Behalf Of Deiter Scott
Sent: Thursday, June 03, 2004 7:50 AM
We are very new to gnupg
we are running gpg to send data to one of our banks.
If the userid logs on and runs the script manually all is well.
However during the execution with in the job scheduler we receive this
                gpg: cannot open `/dev/tty': No such device or address
So what parm or environment variable can we set to get past this error.
everything else is running rather well.

@_date: 2004-03-06 14:26:19
@_author: Steve Butler 
@_subject: GPG encrypting and decrypting files 
Did you copy the keyring or use the appropriate export/import commands?
On the recipient machine, do the following:
  gpg --list-secret-keys
See if your secret key is listed there.  Do the same on the sending machine.
I'm convinced that the two lists will be different.
You may need to:
1.  Use  --export-secret-keys on the one box to
2.  Use  --import on the other box of the secret keys exported in 3.  (If older GnuPG) use --allow-secret-key-import when doing -----Original Message-----
Sent: Monday, March 01, 2004 11:44 AM
Both machines are running Linux.  The machine encrypting the files is
running Red Hat 8 and the decrypting machine is on SuSE 9.
I seem to have gotten beyond this problem, and have come across a new
one.  When I go to decrypt the file, I get a message saying : gpg: encrypted with ELG-E key, ID 9012F1E4
gpg: decryption failed: secret key not available
When I "gpg --list-keys", the keys are identical on both the encrypting
and decrypting machines.  Is there something that I'm missing somewhere?
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-03-06 14:26:20
@_author: Steve Butler 
@_subject: gpg --list-sigs (root for other users) 
root doesn't need to su since root is already the super user.
However, if each person keeps their keys in their own private keyring, then
root will have to locate each keyring and list/export the keys from there.
That seems like an abuse of power by the super user.
As a DBA, I hold the password to the most power database accounts (super
user if you please).  Which means that I could look at every record in the
database.  It would be highly unethical for me to search the database for
unmarried women living in well-to-do sections of town (presumably wealthy).
-----Original Message-----
Sent: Tuesday, March 02, 2004 8:14 AM
How can root list or export the keys of 1 or better all user(s) on a machine without su?
Gnupg-users mailing list
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-03-06 14:26:23
@_author: Steve Butler 
@_subject: backup startegy for keyrings 
But Neil, that answer begs the question of when does the pubring.gpg~ file
get generated.  And under what circumstances.  For example, yesterday I
imported a new public key.  The "backup" keyring file called pubring.gpg~
was not created.
But, I do have such a file from about a month ago when I did some edits on a
So, not knowing the precise answer (and hoping one of the development team
members will jump in), I have to suppose that the file is generated _before_
edits are done to existing keys.  But, it is not generated before, during,
or after an import operation.
That still leaves questions of when during the "edit" phase that the file is
copied.  1.  Is it the "before" image of the entire file when the first --edit
operation was done.  2.  Or, if there are several edits done in a row does the "backup" for the
last edit overwrite the prior entries?
3.  Or, does each edit operation simply backup the key being worked on.
Granted, one should not depend on the pubring.gpg~ file for long-term
backup.  But, since the file is generated, it would be nice to know at what
point it could be used to "rollback" a "transaction" (if I might invoke
database terminology).
-----Original Message-----
Sent: Sunday, February 29, 2004 12:14 PM
That's left to you. Your public keys don't really need to be backed up - all
you need is the list of keyID's and a keyserver. Maybe stick them in a database or just a simple text file. You should, obviously, have a secure backup of your secret key AND a secure revocation certificate. Beyond that, it's nice to have a backup of your trustdb and gpg.conf to save time.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-05-05 15:25:12
@_author: Steve Butler 
@_subject: OT: Revoking Old Keys... my problem 
I'm not sure that I'd consider any place on the WEB as safe for a revocation
cert.  Perhaps a bank vault or a heavy fire safe at home.  Committing the
entire revocation cert to memory would be a little extreme!
-----Original Message-----
Sent: Friday, April 30, 2004 6:38 PM
So far as a 'safe' place to keep the reovation certificate, which I have as yet not made and am going to do so as soon as this clears the system, would a 'web mail' account (Lycos.com for instance) be considered 'safe?'  If I had done that before I would not be having this problem CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-05-05 15:26:08
@_author: Steve Butler 
@_subject: OT: Revoking Old Keys... my problem 
I don't think the additional signatures on the key will affect the
revocation cert.  In fact, the revocation cert is just another signature
that states "this guy is bad!" -- or something to that effect.
As for key size, most of the clients we (First Choice Health Network) deal
with have moved to either 2048 or 4096.  But then, we are faced with HPAA
regulations here in the US that mandate encryption for PHI (personal health
information) being transmitted over the web.  We moved our key from 1024 to
2048 a couple of years ago.
-----Original Message-----
Sent: Monday, May 03, 2004 5:49 PM
 > I'm not sure that I'd consider any place on the WEB as safe for a  > cert.  Perhaps a bank vault or a heavy fire safe at home.  Committing the
 > entire revocation cert to memory would be a little extreme!
 >
 > -----Original Message-----
 > From: Bill Turner [mailto:turner_bill
 > Sent: Friday, April 30, 2004 6:38 PM
 > To: Jerry Windrel
 >
 > as yet not made and am going to do so as soon as this clears the system,
 > would a 'web mail' account (Lycos.com for instance) be considered
 > 'safe?'  If I had done that before I would not be having this problem
Hello Steve,
I gathered as much from comments from others.  I still have not made the
Firstly, since I have not yet made the 'irrevocable signing' nor the
'revocation cert' of my key, should I do the 'signing' first or does
that really matter?
Secondly, is it possible to change the comment in my gpg key without
having to generate a new keypair?  If so, should I do that before I
generate the revocation cert, afterwards, or does it matter at all?
I suppose I am just a bit confused on the 'proper order' for all these
things.  Also, since I made both keys 1024 bits, is that adequate,
really?  I am beginning to think perhaps I should have made the second
key 2048 instead of 1024, especially if I am going with a 'expire' of 10
years down the road.  If 1024 bits is actually an 'appropriate' size
then I am fine.  I just need a bit of guidance on the right order to do
the 'irrevocable local signing' and the 'revocation cert' generation.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-05-06 17:21:13
@_author: Steve Butler 
@_subject: OT: Revoking Old Keys... my problem 
Sure you can encrypt it.  Just what are you going to do when you lose the
secret key and are unable to decrypt it (which is the reason you have a
separate revocation certificate in the first place)?  Just which foot are we
shooting here?
Hash: SHA1
Of course you can encrypt it. It's just a file like any other, so
just "gpg -ca" and then you can store it anywhere you like, where
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-05-18 22:02:26
@_author: Steve Butler 
@_subject: key-signing for pseudonyms 
What useful purpose would this serve?  I'm at a loss trying to dream one up.
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2004-06-05 11:15:03
@_author: Steve Butler 
@_subject: paraphrase 
So, if somehow you managed to put the passphrase in a script, it would have
to be:
a.  Encrypted so prying eyes couldn't decode it.
b.  Open to prying eyes.
Assuming point a, then you would need a key to decrypt it.  Ergo a
passphrase to decrypt the passphrase.  Oops.  Back at square 1.
Ergo, point b.  But that would reveal the passphrase!
Guess not.
However you can automate it in a manner that the script will know the
passphrase.  However, anybody else reading the script could figure it out
also.  Check out  --passphrase-fd
-----Original Message-----
Sent: Tuesday, May 25, 2004 11:45 AM
I was decrypting a file and I had to put my paraphrase in.  Is there a way
to bypass this or automate the paraphrase being passed via a parameter w/out
revealing the paraphrase? thanks! Derek B. Smith
OhioHealth IT
UNIX / TSM / EDM Teams
CONFIDENTIALITY NOTICE:  This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.

@_date: 2015-04-24 21:11:55
@_author: Steve Butler 
@_subject: Block Filter:  1st byte missing 
Client with PGP is encrypting files that we can usually decrypt with GnuPG 1.4.16 on an Oracle Enterprise Linux (2.6.8-274.17.1.0.1.e15).
Occasionally gpg reports:  gpg: block_filter: 1st length byte missing.
Client will re-encrypt and resend.  That file always (even with different name) is not decrypted with above message.
Do a:  gpg --no-batch --verbose --verbose --list-packets [filename]
:marker packet: PGP
:pubkey enc packet: version 3, algo 16, keyid 6BA0BA0A5A2CEA48
        data: [2047 bits]
        data: [2048 bits]
gpg: public key is 5A2CEA48
gpg: using subkey 5A2CEA48 instead of primary key 1B32D54B
You need a passphrase to unlock the secret key for
user: "First Choice Health Network (FCHN) "
gpg: using subkey 5A2CEA48 instead of primary key 1B32D54B
2048-bit ELG-E key, ID 5A2CEA48, created 2001-10-16 (main key ID 1B32D54B)
gpg: public key encrypted data: good DEK
:encrypted data packet:
        length: unknown
gpg: encrypted with 2048-bit ELG-E key, ID 5A2CEA48, created 2001-10-16
      "First Choice Health Network (FCHN) "
gpg: CAST5 encrypted data
gpg: block_filter: 1st length byte missing
:compressed packet: algo=1
gpg: decryption okay
gpg: WARNING: message was not integrity protected
But gpg  exits with status 2.
The 'gpg: decryption okay' message is not seen unless the 2nd -verbose is listed on the command line.  Not conducive to automated processing.
Manual inspection of the file with xxd shows it starts with:          0000000:  a803 5047 50c1 c14e 03 [my pk sub key id] etc.
I believe that third packet starts at hex location 217 in this line:  0000210: 3e65 83a0 73a7 c9ec xxxxxx   I believe the c9ec means tag 9 with 4096 packet length.
That should take us to locatin 1219 in this line:                             0001210: 34ed 52dd 5afb 457a 0c06 xxxx  I think 0c is the next packet length of 12 of which the 06 is the first byte.
The file ends on the next line:                                                        0001220: 0edb ef22 ac
This all looks good to me.  Is gpg expecting another packet?  Or another length byte?
PS  I've been using GnuPG for well over a decade and have run into this problem on occasion.  Always a re-encrypt has solved it.  With this client that is no longer the case.
Stephen M. Butler, PMP, PSM
IT Manager - Software Engineering
First Choice Health Network
Email: sbutler at fchn.com
Voice: 206-268-2309
Fax:  206-268-6173

@_date: 2015-12-15 23:21:13
@_author: Steve Butler 
@_subject: Can I pass the password from the command line? 
There is under 1.4.  Don't know if it is in v2.  I'm not at my desk to pop the script open.   But you could pipe the passphrase via stain and tell gpg  to grab it from there.  Be careful as that still leaves it in the clear to those reading your script.   Potential local users could also see it if you echo'd it to the pipe.
Sent from my Verizon Wireless 4G LTE smartphone
-------- Original message --------
I don't think there is a password parameter, and I'd strongly recommend not doing it even if there was. Many OSes make the command line parameters of processes available to any local user.
Have you tried piping the password to stdin?
Gnupg-users mailing list
Gnupg-users at gnupg.org

@_date: 2015-12-16 17:30:18
@_author: Steve Butler 
@_subject: Get gpg to use keyring files in the current directory 
Either set --homedir on the command line or in the options file.
-----Original Message-----
Sent: Wednesday, December 16, 2015 8:19 AM
I'm trying to get gpg to create and use keyryring files in the current directory.
In e:\test I have this options file named test.conf :
     utf8-strings
     no-default-keyring
     keyring test-public.keyring
     secret-keyring test-secret.keyring
If I cd to e:\test and use this command line:
     gpg --gen-key --options test.conf
the keyrings are not created in the current directory, but in C:\Users\username\AppData\Roaming\gnupg
The options file is read, since the keyring files use the specified names.
I'm using gpg to encrypt small backup files which will be decrypted by non-tech-savvy users that do not usually use gpg. I'm going to store the keyrings ready for use on a USB-stick and will not know the absolute path to the keyfiles.
Any suggestions?
gpg (GnuPG) 2.0.29 (Gpg4win 2.3.0)
Windows 10
Gnupg-users mailing list
Gnupg-users at gnupg.org

@_date: 2015-12-28 21:52:54
@_author: Steve Butler 
@_subject: advice please 
I see the attached when I do the search in Software Center on Ubuntu 15.10.
Stephen M. Butler, PMP, PSM
IT Manager - Software Engineering
First Choice Health Network
Email: sbutler at fchn.com
Voice: 206-268-2309
Fax:  206-268-6173
-----Original Message-----
Sent: Monday, December 28, 2015 12:02 PM
I use Debian.  On my system, if I open a terminal, and then, whether I am root or no, give the command:
   apt-cache search gnupg
apt returns a long list of packages.  Here are the last few:
pinentry-tty - minimal dumb-terminal PIN or pass-phrase entry for GnuPG python-gnupg - Python wrapper for the GNU Privacy Guard (Python 2.x) python3-gnupg - Python wrapper for the GNU Privacy Guard (Python 3.x) libqca2-plugin-gnupg - transitional package for libqca2-plugins signing-party - Various OpenPGP related tools gnupg-doc - GNU Privacy Guard documentation gnupg-agent - GNU privacy guard - cryptographic agent
gnupg2 - GNU privacy guard - a free PGP replacement (new v2.x) gnupg2-dbg - debugging symbols for gnupg2 gpgsm - GNU privacy guard - S/MIME version scdaemon - GNU privacy guard - smart card support
On Debian, if you are connected to the Net, and if you do, as root;
   apt-get update
and then
   apt-get install gnupg-doc gnupg-agent gnupg2
apt should install the above three packages.
Likely Ubuntu has a "GUI" wrapper or an equivalent for apt.  I'd have guessed that the "Ubuntu Software Center" would be it, and that the USC would show you gnupg easily.
Gnupg-users mailing list
Gnupg-users at gnupg.org

@_date: 2015-07-23 17:11:03
@_author: Steve Butler 
@_subject: Gnupg Decryption Question 
This is a snippet of the script I use to decrypt any file coming to me that has my private key (or my companies private key)
  $DFLT gpg_pass2 \
 gpg --homedir $homedir --quiet --passphrase-fd 0 --no-tty --skip-verify \
        --no-permission-warning --no-mdc-warning --batch  \
        --output "$oname" --decrypt "$x" > /dev/null 2>&1
The DFLT gpg_pass2 script manages to obtain the pass phrase for the private key and pipe it to gpg via stdin
The statement right after the above does check to see if the status ($?) is 0.
Sent: Thursday, July 23, 2015 7:47 AM
We currently use Gnupg 1.4.10 as part of our interactions with an online mailbox system. We are able to successfully encrypt our data files but we haven't been able to find the combination of options that will let us decrypt files that we receive - so we've used a different product for that purpose.  Our desire is to use only one product to perform both encryption and decryption.
This is a sample of how we would call gpg to encrypt a text file prior to transmission:
gpg -c -o DataFile.gpg --batch --compress-algo 1 --cipher-algo cast5 --passphrase KeyValue DataFile.txt
The files that we receive share the same KeyValue, so we would appreciate some guidance on undoing what was done above.
Thanks very much.

@_date: 2015-07-24 14:02:29
@_author: Steve Butler 
@_subject: Gnupg Decryption Question 
Sent: Friday, July 24, 2015 4:24 AM
On Thu, 23 Jul 2015 19:11, sbutler at fchn.com said:
If you receive arbitrary data you may want to add
  --max-output SUITABLELARGENUMBEROFBYTES
to avoid a DoS using special crafted compression data.
   Werner
I'll look into that.  We do IP filtering on the firewall so we do know who is getting to our SFTP box (on Aug 3 we will shut down port 21 and standard FTP).  All who send data to us must sign a business agreement (HIPAA rules).  One such does send us encrypted files that approach 25 GB in size -- yikes!!  Thankfully that is once a month.

@_date: 2015-06-04 17:21:12
@_author: Steve Butler 
@_subject: Facebook and OpenPGP 
Yeah, I think it sets a great precedent for other large organizations to follow.  Plus it increases the amount of PGP-encrypted email flowing around, which reduces PGP as a marker for "secret messages".
One thing I learned in college, if all inbound mail came in the same color (pink) and scented then nobody knew which one came from the girl-friend.  It was easier to get her to use a brown non-descript envelope though!

@_date: 2015-06-16 15:22:01
@_author: Steve Butler 
@_subject: Teaching GnuPG to noobs 
Biggest pitfall -- new users sending me both their public and private keys. Most have a mental block on how these are used.
I generated a set of documents about a decade ago that someone asked permission to post on the web.  Just did a search and could not find.  I'll try to dig through my thumb drive at home to see if they are buried someplace there.
--Steve -----Original Message-----
Sent: Tuesday, June 16, 2015 6:50 AM
Hi everyone,
What has your experience been teaching inexperienced users how to use GnuPG properly? What are common pitfalls on the part of the instructor?
What aspects are the most challenging for new users to understand?
Lastly, what's your favorite noob-friendly guide, and why?
Gnupg-users mailing list
Gnupg-users at gnupg.org

@_date: 2016-08-18 13:54:09
@_author: Steve Butler 
@_subject: Decryption failed: No secret key found (Please help !) 
Thanks for the response. We have provided them our public key. The key 31743B64 is not our public key. I'm confused as our vendor is able to decrypt our message but we are not able to do it. Any advise is appreciated.
Sent: Thursday, August 18, 2016 2:40 PM
Let's say that you public key has an ID of PKA and your vendor has public key ID of PKB.
When you encrypt your message to the vendor you encrypt with their PKB key ID.  If you also want to decrypt that same message later for yourself you need to also encrypt it to PKA (encrypt to both key IDs).
When your vendor sends a message to you they need to encrypt to your public key ID of PKA.  It looks like they encrypted the message to two public keys.  However, neither one is yours.  You need to contact the vendor and ensure they encrypt messages to you with your PKA key ID. [Substitute actual fingerprint values as needed.]
Give them the key IDs to which they did encrypt the message as that will help them figure out what they did wrong on their end.
On a couple of occasions I've had vendors send me their private key along with the public key.  [Holding head in hands!]  You may need to hold their hands to get this working right for you.

@_date: 2016-02-18 21:56:21
@_author: Steve Butler 
@_subject: Use of --passphrase-file 
Any "secure" storage for the passphrase will itself need a mechanism to "unlock".  This only digs the hole one more level down.  Only you can decide when to stop digging.  But remember, whatever the automated script can do, a human following the script can also do.  [Note to self, use "hacker" instead of "human" next time.]
After wrestling with this for some time several years ago, I came to the conclusion that I could only delay the inevitable and could not prevent it.  I my case I chose to "hide" the plaintext passphrase in a fashion that kept the casual looker (non-hacker) at bay (1 level down) but was real easy to implement and didn't require another password/phrase.  Any serious programmer could easily read the code and reveal the passphrase.  Then I limit who has access to that particular box.
Stephen M. Butler, PMP, PSM
IT Manager - Software Engineering
First Choice Health Network
Email: sbutler at fchn.com
Voice: 206-268-2309
Fax:  206-268-6173
Sent: Wednesday, February 17, 2016 8:34 AM
I am attempting to automate a process that decrypts files. The files are encrypted with my key which has a passphrase. I have determined I can use the "--passphrase-file" option to get the passphrase of my key. In the gpg documentation at  under "--passphrase-file file" it says "Don't use this option if you can avoid it", but I can't find any alternative solution in the documentation. I found one blog that says to just remove the passphrase, however I'd like to preserve the passphrase. Do you have any recommendations where I can have a passphrase but still use it in an unattended fashion that is secure?
Michael W. Harman, MIT | Senior Application Architect, Information Services | UHS of Delaware, Inc. | a subsidiary of Universal Health Services | Phone 610.768.3416
UHS of Delaware, Inc. Confidentiality Notice: This e-mail message, including any attachments, is for the sole use of the intended recipient(s) and may contain confidential and privileged information. Any unauthorized review, use, disclosure or distribution of this information is prohibited, and may be punishable by law. If this was sent to you in error, please notify the sender by reply e-mail and destroy all copies of the original message.

@_date: 2016-01-27 14:53:31
@_author: Steve Butler 
@_subject: BAD signatures for GnuPG Stable 
Perhaps an ASCII download instead of binary?  That would make the download file larger!
-----Original Message-----
Sent: Tuesday, January 26, 2016 8:45 PM
Interesting. The file I downloaded is actually larger than what it should be!
-rw-rw-r--  1 aaron aaron  855815 Jan 25 21:44 libgpg-error-1.21.tar.bz2
Gnupg-users mailing list
Gnupg-users at gnupg.org

@_date: 2016-01-28 20:16:53
@_author: Steve Butler 
@_subject: BAD signatures for GnuPG Stable 
Did you say this was on a VM?  We've had corrupted files with 'cp' from one file system to another on a VM box if it decided to do a vmotion while the copy was in progress.
Just remember -- "To err is human, but to really foul things up you need a computer."(Paul Ehrlich)
-----Original Message-----
Sent: Thursday, January 28, 2016 11:52 AM
I had a similarly confusing incident with some FLAC files intermittently being logged as corrupted by vlc. It turned out that I had bad RAM that lead to subtle differences in the files if they happened to be put onto the bad RAM by the kernel's file cache.
Long story short, I suggest that you check your RAM.

@_date: 2016-10-03 20:31:35
@_author: Steve Butler 
@_subject: What to do at failed integrity check? 
Go to any public key server and get that key ID.
However, before doing that, I'd first verify the checksum without using GnuPG.  That process should also have been described on the download page.
-----Original Message-----
Sent: Monday, October 03, 2016 6:36 AM
Hello everybody,
I?m having a problem getting GnuPG set up: I downloaded the tarball and signature (for v2.0.30), then did the integrity check as described on  using the packaged version of GnuPG (1.4.something), and it failed with this message:
gpg: Signature made Do 31 M?r 2016 12:56:02 CEST using RSA key ID 4F25E3B6
gpg: Can't check signature: public key not found
I already tried getting the files from a mirror ? same thing.
Now, the instructions on the linked webpage only say ?the file should be treated suspiciously?. But what can I do now? Just use it anyway and hope it?s not a real problem?
Best regards,
Simon Albrecht
Gnupg-users mailing list
Gnupg-users at gnupg.org

@_date: 2016-10-06 20:19:43
@_author: Steve Butler 
@_subject: Syntax Question on GPG2 on LINUX 
I don't use modern but I do have a script for classic that works in unattended mode on a Linux box.  The caller knows the input file name and the script knows my passphrase -- default gpg_pass2.  Hope this helps with gpg2! --Steve
$ cat gpg_encrypt
usage="gpg_encrypt [ -a -b -e ext -n -s ] PK_ID source"
#   Interface script for edi and ftpexec to encrypt files vi GnuPG
#   -a  Use Ascii Armor (--armor switch)
#   -b  Use binary (e.g. opposite of -a)
#   -e  Use ext as value of file extension (defaults to pgp when not specified)
#   -n  Do not sign (e.g. opposite of -s)
#   -s  Sign using key for helpdesk at fchn.com as signing key
# For conflicting options, the last one entered takes precedence.
#   PK_ID  Key ID to which the file is to be encrypted.
#   source Source file name to encrypt.
# Encryptes to a file of source.ext and name is echoed to stdlist
homedir=$($xrgbin/default gpg_home)
while getopts ":abe:ns" opt
  case $opt in
    a) ARMOR="--armor" ;;
    b) ARMOR="" ;;
    e) EXT=$OPTARG ;;
    n) SIGN="" ;;
    s) SIGN="--sign" ;;
    *) echo $usage
       exit 2
       ;;
  esac
shift $(($OPTIND - 1))
if [[ $# -ne 2 ]]; then
  echo "gpg_encrypt:  Must supply 2 parameters" >&2
  echo " usage: $usage" >&2
  exit 99
rm -f "$2.$EXT" > /dev/null
if [[ -z $SIGN ]]; then
  gpg --batch --homedir $homedir --quiet --no-tty --always-trust $ARMOR \
      --no-permission-warning --recipient $1 --output "$2.$EXT" --encrypt "$2"
  x=$?
  $xrgbin/default gpg_pass2  | gpg \
     --batch --homedir $homedir --quiet --no-tty --always-trust $ARMOR \
      --sign --passphrase-fd 0 --default-key helpdesk at fchn.com \
      --no-permission-warning --recipient $1 --output "$2.$EXT" --encrypt "$2"
  x=$?
if [ $x -ne 0 ]; then
  echo "gpg_encrypt: gpg failure code '$x'" >&2
echo "$2.$EXT"
exit $x
Sent: Thursday, October 06, 2016 5:39 AM
Hello All -
I am working in a LINUX environment using GPG version 2.1.15
Can anyone give me the syntax to use gpg2  to create a signed, encrypted file using a passphrase in a LINUX shell script ?  This is being run from Oracle EBS on a schedule so there would not be a user interacting to answer prompts. With this mode, is there any terminal settings I would need to set ?
Thanks !!
Jim Ernst
NTT Data
NOTE: The sender of this email is an independent contractor of Invacare Corporation or one of its subsidiaries. CONFIDENTIALITY NOTICE: The information in this e-mail message and any attachments may contain privileged, confidential or proprietary information, including confidential health information, protected by applicable Federal or state laws. Such information is intended only for the recipient named above. If you are not the intended recipient, please notify the sender immediately, and take notice that any use, disclosure or distribution of such information is prohibited by law.
