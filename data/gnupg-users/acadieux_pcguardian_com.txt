
@_date: 2003-08-19 20:10:03
@_author: Adam Cadieux 
@_subject: Works from the command line, but I 
I am trying to write a PHP script that will encrypt user data (4 number=
with a symmetric password, but I am having trouble.
I have looked through the archives and have added:
Also I have made sure that I have make all the files in .gnupg are read=
I can get this command to work:
echo system("gpg --warranty --homedir /home/encrypt/.gnupg");
But when I run this test line nothing happens:
echo system("echo 1234 | /usr/bin/gpg -o file.gpg --symmetric --homedir=
I also can't seem to get this type of command to work either.
echo system("gpg --list-keys --homedir /home/encrypt/.gnupg");
Thanks for any suggestions.

@_date: 2003-08-20 23:33:01
@_author: Adam Cadieux 
@_subject: Works from the command line, but I can't get it to work with PHP 
Thanks Ralf for your advice. I think I need to get my gpg correct befor=
e I
try to integrate it into PHP code.
So I wrote the following command, but it doesn't seem to be working. I =
the feeling that I am missing something basic.
echo 1234 | gpg -o encrypted.gpg --symmetric --passphrase-fd 0 < pass.t=
The '1234' is the data I want to encrypt,
What I am really trying to do is something like this
echo $data | gpg -o encrypted_file.gpg --symmetric --passphrase-fd
Adam Cadieux
                                                                       =
                                                               =20
                      Ralf D=F6ring                                    =
                                                                 =20
                                         cc:                     =
                                                               =20
                      Sent by:                 Subject:  Re: Works from=
 the command line, but I can't get it to work with PHP         =20
                      gnupg-users-admin                                =
                                                               =20
                                                             =
                                                               =20
                                                                       =
                                                               =20
                                                                       =
                                                               =20
                      08/19/2003 11:44                                 =
                                                               =20
                      PM                                               =
                                                               =20
                                                                       =
                                                               =20
                                                                       =
                                                               =20
This should be something like
I`m not a PHP programmer, but assume this doesn`t work because gpg
needs a passphrase for symmetric encryption. You can`t just pass this
as a variable to the system function. According to the PHP
documentation the second parameter to system() ($password in your case)=
receives the return code of the called program. To pass the passphrase
to gpg I suggest using the --passphrase-fd option of gpg.
Gnupg-users mailing list

@_date: 2003-08-26 02:20:01
@_author: Adam Cadieux 
@_subject: decrypting a symmetric key from the command line in a script 
Instead of decrypting a file I want to store the encrypted data in a
database, and write a script that will decrypt it.
This works fine:
$results = exec("echo '$password' | /usr/bin/gpg --passphrase-fd 0 --batch
--yes -d /tmp/crypt2.gpg");
But I can't seem to get this to work:
I have tried using -t, --set-filename, --utf8-string, -a
Not quite sure what I am doing wrong. Thanks for any suggestions,
Adam Cadieux
