
@_date: 2006-02-22 21:18:20
@_author: Peter Mikulas 
@_subject: Error handling OpenPGP card with a cyberjack pinpad 
I'm unable the to change the PIN, generate a key,... on my OpenPGP card with a cyberjack pinpad smartcard reader (with 1.4.2.1 and 1.9.20).
The error messages are:
peter gpg2 --card-status
gpg: NOTE: THIS IS A DEVELOPMENT VERSION!
gpg: It is only intended for test purposes and should NOT be
gpg: used in a production environment or with production keys!
gpg: WARNING: This version of gpg is not very matured and
gpg: WARNING: only intended for testing.  Please keep using
gpg: WARNING: gpg 1.2.x, 1.3.x or 1.4.x for OpenPGP
gpg: DBG: connection to agent established
scdaemon[20008]: NOTE: this is a development version!
scdaemon[22094]: reading public key failed: Missing item in object
scdaemon[22094]: reading public key failed: Missing item in object
scdaemon[22094]: reading public key failed: Missing item in object
gpg-agent[20007]: card has S/N: D2760001240101010001000007FD0000
Application ID ...: D2760001240101010001000007FD0000
Version ..........: 1.1
Manufacturer .....: PPC Card Systems
Serial number ....: 000007FD
Name of cardholder: [not set]
Language prefs ...: de
Sex ..............: unspecified
URL of public key : [not set]
Login data .......: [not set]
Signature PIN ....: forced
Max. PIN lengths .: 254 254 254
PIN retry counter : 3 3 3
Signature counter : 0
Signature key ....: [none]
Encryption key....: [none]
Authentication key: [none]
General key info..: [none]
peter scdaemon[20008]: ct_activate_card(0): activation failed: okay
scdaemon[20008]: DBG:   received data: 62 01
scdaemon[20008]: scdaemon (GnuPG) 1.9.20 stopped
When using the card-edit command:
peter gpg2 --card-edit
[output cut]
gpg: DBG: connection to agent established
scdaemon[25518]: NOTE: this is a development version!
scdaemon[25518]: reading public key failed: Missing item in object
scdaemon[25518]: reading public key failed: Missing item in object
scdaemon[25518]: reading public key failed: Missing item in object
[output cut]
Command> scdaemon[25518]: updating status of slot 0 to 0x0007
scdaemon[25518]: client pid is 25517, sending signal 12
scdaemon[25518]: scdaemon (GnuPG) 1.9.20 stopped
or when trying to change the pin:
peter gpg --change-pin
gpg: OpenPGP card no. D2760001240101010001000007FD0000 detected
1 - change PIN
2 - unblock PIN
3 - change Admin PIN
Q - quit
Your selection? 1
gpg: sending command `SCD PASSWD' to agent failed: ec=6.110
Error changing the PIN: general error
1 - change PIN
2 - unblock PIN
3 - change Admin PIN
Q - quit
Your selection?               Any Ideas?
  Peter M.
I'm using a cyberjack pinpad (usb) (Product ID 0x300)
The CT-API driver (from reiner-sct) is version 2.0.9.
Program versions are:
Slackware-10.2 with kernel-2.6.14.7

@_date: 2006-02-22 21:18:32
@_author: Peter Mikulas 
@_subject: Error handling OpenPGP card with a cyberjack pinpad 
I'm unable the to change the PIN, generate a key,... on my OpenPGP card with a cyberjack pinpad smartcard reader (with 1.4.2.1 and 1.9.20).
The error messages are:
peter gpg2 --card-status
gpg: NOTE: THIS IS A DEVELOPMENT VERSION!
gpg: It is only intended for test purposes and should NOT be
gpg: used in a production environment or with production keys!
gpg: WARNING: This version of gpg is not very matured and
gpg: WARNING: only intended for testing.  Please keep using
gpg: WARNING: gpg 1.2.x, 1.3.x or 1.4.x for OpenPGP
gpg: DBG: connection to agent established
scdaemon[20008]: NOTE: this is a development version!
scdaemon[22094]: reading public key failed: Missing item in object
scdaemon[22094]: reading public key failed: Missing item in object
scdaemon[22094]: reading public key failed: Missing item in object
gpg-agent[20007]: card has S/N: D2760001240101010001000007FD0000
Application ID ...: D2760001240101010001000007FD0000
Version ..........: 1.1
Manufacturer .....: PPC Card Systems
Serial number ....: 000007FD
Name of cardholder: [not set]
Language prefs ...: de
Sex ..............: unspecified
URL of public key : [not set]
Login data .......: [not set]
Signature PIN ....: forced
Max. PIN lengths .: 254 254 254
PIN retry counter : 3 3 3
Signature counter : 0
Signature key ....: [none]
Encryption key....: [none]
Authentication key: [none]
General key info..: [none]
peter scdaemon[20008]: ct_activate_card(0): activation failed: okay
scdaemon[20008]: DBG:   received data: 62 01
scdaemon[20008]: scdaemon (GnuPG) 1.9.20 stopped
When using the card-edit command:
peter gpg2 --card-edit
[output cut]
gpg: DBG: connection to agent established
scdaemon[25518]: NOTE: this is a development version!
scdaemon[25518]: reading public key failed: Missing item in object
scdaemon[25518]: reading public key failed: Missing item in object
scdaemon[25518]: reading public key failed: Missing item in object
[output cut]
Command> scdaemon[25518]: updating status of slot 0 to 0x0007
scdaemon[25518]: client pid is 25517, sending signal 12
scdaemon[25518]: scdaemon (GnuPG) 1.9.20 stopped
or when trying to change the pin:
peter gpg --change-pin
gpg: OpenPGP card no. D2760001240101010001000007FD0000 detected
1 - change PIN
2 - unblock PIN
3 - change Admin PIN
Q - quit
Your selection? 1
gpg: sending command `SCD PASSWD' to agent failed: ec=6.110
Error changing the PIN: general error
1 - change PIN
2 - unblock PIN
3 - change Admin PIN
Q - quit
Your selection?               Any Ideas?
  Peter M.
I'm using a cyberjack pinpad (usb) (Product ID 0x300)
The CT-API driver (from reiner-sct) is version 2.0.9.
Program versions are:
Slackware-10.2 with kernel-2.6.14.7

@_date: 2006-02-22 22:00:50
@_author: Peter Mikulas 
@_subject: Error handling OpenPGP card with a cyberjack pinpad 
Hello again!
After reading the thread "OpenPGP card not available: Assuan server fault" my questions to the error messages generatet by gpg2  are obsolete.
But when using gnupg-1.4.2.1 I'm still not able to do anything with the OpenPGP card.
When I'm trying to e.g. change the PIN via gpg --change-pin and typing 1 or 3 (is't a new unused card), the pinentry-qt dialog pops up and after typing in the PIN the following error occurs: gpg: sending command `SCD PASSWD' to agent failed: ec=4.99 \ Error changing the PIN: general error
The same with generating a key:
  gpg: sending command `SCD SETATTR' to agent failed: ec=6.110
or listing all available data:
  pgp: sending command `SCD LEARN' to agent failed: ec=6.110
Peter M.
