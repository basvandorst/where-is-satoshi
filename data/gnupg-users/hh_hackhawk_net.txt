
@_date: 2003-04-08 05:18:02
@_author: Hack Hawk 
@_subject: Suppressing gpg messages from php exec command? 
I'm pulling my hair out over this one, can anyone assist?  I've searched google for hours but to no avail.  I'm trying to suppress gpg output from within a php script.
Here's the important stuff.
--------- PHP ------------------
I've tried adding ALL of the following to the $comd command line with no --logger-fd 1
--status-fd 1
Is there ANYWAY to suppress these messages?  I'm assuming that if the signature is NOT validated, then the $res will NOT return the unsigned message, and that's how I'll verify validity or not.  Please correct me if I'm wrong about this assumption.
Thanks in advance for any replies
- Rich

@_date: 2003-04-08 17:58:01
@_author: Hack Hawk 
@_subject: Suppressing gpg messages from php exec command? 
Oh Darn,
I thought since this message bounced back originally I'd be spared the embarrassment of yet another useless post on my part.
I obviously needed to step away from the computer for the evening, because when I came back the next morning I immediately realized that I was modifying the WRONG friggin file!!  Aaarrrgggh!
The --status-fd 1 did indeed work just fine.
- rich

@_date: 2003-03-04 04:35:02
@_author: Hack Hawk 
@_subject: passphrase-fd $msg & $pass from command line? 
Please forgive me for discussing a topic already discussed in the archives, but I can't seem to find the "very specific" answer I'm looking for.
I'm writing a PHP script to --clearsign a message.
1) I've found out how to clearsign text passed on the command line.
   $msg = "my message";
   $cmd = "echo '$msg' | gpg --clearsign --passphrase-fd 2 2<pass.txt";
   exec($cmd,$encr,$err);
2) I've found out how to clearsign a file, with the password sent on the command line.  Not sure if the syntax is exactly correct cause I already overwrote this one.
   $cmd = "echo PASS | gpg --clearsign --passphrase-fd 0 msg.txt";
   exec($cmd,$outp,$err);
But what I'm failing to find is a way to pass BOTH the message AND the password on the command line without using any files at all.  Is this even possible, or am I just dreaming?
Best Regards
- hawk

@_date: 2003-03-04 04:57:02
@_author: Hack Hawk 
@_subject: passphrase-fd $msg & $pass from command line? 
Now I feel stupid.  The moment I give up, I find my answer.  Seems to always work this way.  Thanks to Paul Evad (May 2000) from the archives, slightly altered.  I must've typo'd the first time I tried this because now it's working.  :)
$command="echo '$passphrase\n$msg' | gpg --clearsign --passphrase-fd 0"
- hawk
