
@_date: 2013-05-30 09:54:33
@_author: Bruno Bigras 
@_subject: 'gpg-connect-agent KEYINFO --list' empty with OpenPGP smartcard 
============================== START ==============================
I'm trying to use
to use Putty with my OpenPGP 2.0 smartcard on Windows but the script
fails when trying to get data from the gpg-agent with 'KEYINFO --list
"KEYINFO --list --data" seems to only returns 'OK' even if I see my
smartcard with 'gpg2 --card-status' and I can use it to encrypt and
sign stuff. I don't know what the command should do but I guess it
should list my keys.
My key size is 4096
On Windows :
gpg (GnuPG) 2.0.19 (Gpg4win 2.1.1-34299-beta)
gpg-agent (GnuPG) 2.0.19 (Gpg4win 2.1.1-34299-beta)
gpg-agent is started automatically by Kleopatra.
C:\Users\bbigras>gpg-connect-agent -v "KEYINFO --list --data"
gpg-connect-agent: connection to agent established
On Debian :
gpg (GnuPG) 2.0.19
gpg-agent (GnuPG) 2.0.19
To run the agent I have the following in ~/.profile:
eval $(gpg-agent --enable-ssh-support --daemon)
bruno at debian:~$ gpg-connect-agent -v "KEYINFO --list --data"
gpg-connect-agent: connection to agent established
dmesg :
[   40.625537] usb 2-2: new full-speed USB device number 3 using ohci_hcd
[   41.157954] usb 2-2: New USB device found, idVendor=08e6, idProduct=3438
[   41.157958] usb 2-2: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[   41.157971] usb 2-2: Product: USB SmartCard Reader
[   41.157972] usb 2-2: Manufacturer: Gemalto
[   41.157973] usb 2-2: SerialNumber: 386B8D90
[   41.169691] WARNING! power/level is deprecated; use power/control instead
Any ideas?
