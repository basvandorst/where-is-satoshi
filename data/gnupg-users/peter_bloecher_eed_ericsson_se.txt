
@_date: 2000-12-13 13:37:48
@_author: Peter Bloecher (EED 
@_subject: gnupg 1.0.4 <-> 1.0.0 interoperability problem 
After upgrading to gpg 1.0.4 I discovered a problem when exchanging messages
with people using gpg 1.0.0. What happens is that during decryption they are asked
to enter their private key, but then no decrypted output is produced. No message
is printed, either -- just nothing happens. gpg 1.0.4 can decrypt the message without
problem. [this is all happening on SunOS 5.6 = Solaris 2.6]
Calling gpg 1.0.0 with --list-packets results in
:pubkey enc packet: version 3, algo 16, keyid 274336D3E7F40A9D
        data: [1022 bits]
        data: [1022 bits]
:unknown packet: type 18, length 0
dump: 01 e2 83 8e 36 0d 30 d7  2f cb 17 29 48 b1 9d b3  99 02 57 b4 90 51 73 48
  24: 38 f6 32 c7 de 14 3d ee  e8 ee 46 90 5a da 91 4a  6d 59 d1 71 15 03 35 07
(dunp continues)
Calling gpg 1.0.4 with --list-packets gives
:pubkey enc packet: version 3, algo 16, keyid 274336D3E7F40A9D
        data: [1022 bits]
        data: [1022 bits]
:encrypted data packet:
        length: 4294967295
        mdc_method: 2
:compressed packet: algo=2
:literal data packet:
        mode b, created 976709893, name="testtext",
        raw data: 1420 bytes
The length field of the encrypted packet looks suspicious, but that does not
have to be connected to the problem.
I am able to reproduce the problem with test data and a test key. They are available
on request.
Just upgrading everybody to 1.0.4 does not seem reasonable. I also fear that
there might be interoperability problems with, e.g., PGP.
Any advice?
Best regards,
PS: Please CC me on any answer - I'm not subscribed to the list

@_date: 2000-12-13 16:50:01
@_author: Peter Bloecher (EED 
@_subject: gnupg 1.0.4 <-> 1.0.0 interoperability problem 
Hello Werner (CC all),
Not really. I think I actually did that for the example, but the key of the person
who encountered the problem was definitely generated with 1.0.0 (since they do
not have 1.0.4, which is why we have the problem).
Sorry for not reading that. I dug around for a while in the newsgroup and the
BUG list.
If I decode this correctly: The problem is caused by pgp 1.0.4 using an encryption
method (?) called MDC, which is not supported by 1.0.0. Correct?
For some reason, that method was used even when I encrypted with a key that
was generated with gpg 1.0.0. Right?
[The preferences for that key are:  S10 S4 S3 H3 H2 Z2 Z1]
That seems to work. Thanks a lot for your help.
(and I will continue to ask the other people to upgrade ;-) )
I did not find anything in the FAQ.
Best regards,

@_date: 2000-12-13 13:37:48
@_author: Peter Bloecher (EED 
@_subject: gnupg 1.0.4 <-> 1.0.0 interoperability problem 
After upgrading to gpg 1.0.4 I discovered a problem when exchanging messages
with people using gpg 1.0.0. What happens is that during decryption they are asked
to enter their private key, but then no decrypted output is produced. No message
is printed, either -- just nothing happens. gpg 1.0.4 can decrypt the message without
problem. [this is all happening on SunOS 5.6 = Solaris 2.6]
Calling gpg 1.0.0 with --list-packets results in
:pubkey enc packet: version 3, algo 16, keyid 274336D3E7F40A9D
        data: [1022 bits]
        data: [1022 bits]
:unknown packet: type 18, length 0
dump: 01 e2 83 8e 36 0d 30 d7  2f cb 17 29 48 b1 9d b3  99 02 57 b4 90 51 73 48
  24: 38 f6 32 c7 de 14 3d ee  e8 ee 46 90 5a da 91 4a  6d 59 d1 71 15 03 35 07
(dunp continues)
Calling gpg 1.0.4 with --list-packets gives
:pubkey enc packet: version 3, algo 16, keyid 274336D3E7F40A9D
        data: [1022 bits]
        data: [1022 bits]
:encrypted data packet:
        length: 4294967295
        mdc_method: 2
:compressed packet: algo=2
:literal data packet:
        mode b, created 976709893, name="testtext",
        raw data: 1420 bytes
The length field of the encrypted packet looks suspicious, but that does not
have to be connected to the problem.
I am able to reproduce the problem with test data and a test key. They are available
on request.
Just upgrading everybody to 1.0.4 does not seem reasonable. I also fear that
there might be interoperability problems with, e.g., PGP.
Any advice?
Best regards,
PS: Please CC me on any answer - I'm not subscribed to the list

@_date: 2000-12-13 16:50:01
@_author: Peter Bloecher (EED 
@_subject: gnupg 1.0.4 <-> 1.0.0 interoperability problem 
Hello Werner (CC all),
Not really. I think I actually did that for the example, but the key of the person
who encountered the problem was definitely generated with 1.0.0 (since they do
not have 1.0.4, which is why we have the problem).
Sorry for not reading that. I dug around for a while in the newsgroup and the
BUG list.
If I decode this correctly: The problem is caused by pgp 1.0.4 using an encryption
method (?) called MDC, which is not supported by 1.0.0. Correct?
For some reason, that method was used even when I encrypted with a key that
was generated with gpg 1.0.0. Right?
[The preferences for that key are:  S10 S4 S3 H3 H2 Z2 Z1]
That seems to work. Thanks a lot for your help.
(and I will continue to ask the other people to upgrade ;-) )
I did not find anything in the FAQ.
Best regards,
