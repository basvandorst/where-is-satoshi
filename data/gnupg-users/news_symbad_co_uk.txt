
@_date: 2002-06-01 21:30:02
@_author: Andy Freeman 
@_subject: gpg 1.0.6 hangs in rxvt 2.7.2-10 on Windows 2000 
It could be to do with the user context that your cygwin rxvt runs in.
I don't know what "cygwin rxvt" is,
but we had an identical (symptom-wise) problem
trying to run it from a web application.
It reads the HKEY_CURRENT_USER key,
which is inaccessible to the standard web user.
This is also the case for Services.
Assuming that cygwin is running in the web context or as a Service,
The solution is :
1) Create a new user, with user only permissions
2) Login as this user, and use regedit to add the key
    listed in the readme.w32 doc .
    ("\\HKEY_CURRENT_USER\Software\GNU\GnuPG\HomeDir
    Please use forward slashes and not the backslashes when
    setting filenames for GnuPG into the Registry."
   . So, in this key you set the default string value to be e.g. c:/gnupg/
 )
3) Set the file permissions on the gnupg folder, and all its files,
    to include "change" permissions for this new user.
4) Change the context that your cygwin runs as.
    (If it's being run through IIS, then :
     a) Open up iis admin
     b) Go to the properties of the website / webfolder which contains your
     c) Go to directory security tab
     d) Edit "anonymous access & authentication control"
     e) Change the "account used for anonymous access" to this new user
     f) Enter the password for this account
     g) DO NOT TICK the "allow iis to manage pwd" (or "... synchronise pwd"
depending on iis version).
     h) Make sure that the password on your user is VERY secure.
   )
   If it's being run as a Service, then (I think this is correct):
    a) Go to control panel | services
    b) Find the service, and open its properties
    c) Go to the "logon" tab, change "log on as" to the user you've just
5) MAKE SURE that this user has access rights to the TEMP folder,
    or whichever folder you are using to store the intermediate files,
    if you are using file i/o.
We spent about a week trying get GnuPg to run on both linux and NT servers,
with no problems at all when running on linux, mac and NT desktops.
On both servers, the GnuPg process was started but never completed,
and we had to kill each GnuPG process.
On both servers the problem was identical :
The user under whose context the web process was running
was not configured correctly.
But to us it looked like there was something wrong with gnupg.
(which there wasn't).
Hope this helps
Andy Freeman
----- Original Message -----
Sent: Friday, May 31, 2002 10:54 PM

@_date: 2002-05-21 15:33:01
@_author: Andy Freeman 
@_subject: Can't run GPG through php on linux (works fine through telnet) 
And, finally,
Oh yeah don't forget to chown nobody:nobody or nobody:root the text files
and PHP scripts etc
----- Original Message -----
Sent: Tuesday, May 21, 2002 2:32 PM
