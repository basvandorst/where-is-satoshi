
@_date: 2006-04-30 17:26:09
@_author: Adrian Friedli 
@_subject: card inactive 
I've got a SCM SCR335 cardreader and a cryptocard from fsfe.org. I've setup udev, so the user has access to the device.
Then when I want to access my card:
$ gpg -v --card-status
gpg: pcsc_connect failed: unknown reader (0x80100009)
gpg: card reader not available
gpg: OpenPGP card not available: general error
And when I stop pcscd I get this:
$ gpg -v --card-status
gpg: reader slot 0: using ccid driver
gpg: apdu_send_simple(0) failed: card inactive
My system is a Debian sid. GnuPG is version 1.4.3.
Please help.
Adrian friedli

@_date: 2006-05-03 00:26:25
@_author: Adrian Friedli 
@_subject: card inactive 
Am Dienstag, 2. Mai 2006 19:35 schrieb Werner Koch:
$ gpg --debug 2048 --debug-ccid-driver -v --card-status
gpg: reading options from `/home/adi/.gnupg/gpg.conf'
gpg: DBG: ccid-driver: using CCID reader 0 (ID=04E6:5115:6010146e:0)
gpg: DBG: ccid-driver: idVendor: 04E6  idProduct: 5115  bcdDevice: 0518
gpg: DBG: ccid-driver: ChipCard Interface Descriptor:
gpg: DBG: ccid-driver:   bLength                54
gpg: DBG: ccid-driver:   bDescriptorType        33
gpg: DBG: ccid-driver:   bcdCCID              1.00
gpg: DBG: ccid-driver:   nMaxSlotIndex           0
gpg: DBG: ccid-driver:   bVoltageSupport         1  5.0V
gpg: DBG: ccid-driver:   dwProtocols             3  T=0 T=1
gpg: DBG: ccid-driver:   dwDefaultClock       4000
gpg: DBG: ccid-driver:   dwMaxiumumClock     12000
gpg: DBG: ccid-driver:   bNumClockSupported      0
gpg: DBG: ccid-driver:   dwDataRate           9600 bps
gpg: DBG: ccid-driver:   dwMaxDataRate      307200 bps
gpg: DBG: ccid-driver:   bNumDataRatesSupp.      0
gpg: DBG: ccid-driver:   dwMaxIFSD             252
gpg: DBG: ccid-driver:   dwSyncProtocols  00000000
gpg: DBG: ccid-driver:   dwMechanical     00000000
gpg: DBG: ccid-driver:   dwFeatures       000100BA
gpg: DBG: ccid-driver:     Auto configuration based on ATR
gpg: DBG: ccid-driver:     Auto voltage selection
gpg: DBG: ccid-driver:     Auto clock change
gpg: DBG: ccid-driver:     Auto baud rate change
gpg: DBG: ccid-driver:     Auto PPS made by CCID
gpg: DBG: ccid-driver:     TPDU level exchange
gpg: DBG: ccid-driver:   dwMaxCCIDMsgLen       263
gpg: DBG: ccid-driver:   bClassGetResponse    echo
gpg: DBG: ccid-driver:   bClassEnvelope       echo
gpg: DBG: ccid-driver:   wlcdLayout           none
gpg: DBG: ccid-driver:   bPINSupport             0
gpg: DBG: ccid-driver:   bMaxCCIDBusySlots       1
gpg: DBG: ccid-driver: usb_bulk_read error: Resource temporarily unavailable
gpg: DBG: ccid-driver: USB: CALLING USB_CLEAR_HALT
gpg: DBG: ccid-driver: usb_bulk_read error: Resource temporarily unavailable
gpg: DBG: ccid-driver: USB: RETRYING bulk_in AGAIN
gpg: DBG: ccid-driver: usb_bulk_read error: Resource temporarily unavailable
gpg: DBG: ccid-driver: USB: RETRYING bulk_in AGAIN
gpg: DBG: ccid-driver: status: 41  error: FE  octet[9]: 00
               data:
gpg: DBG: ccid-driver: CCID command failed: CCID timed out while talking to the ICC
gpg: reader slot 0: using ccid driver
gpg: DBG: send apdu: c=00 i=A4 p0=04 p1=00 lc=6 le=-1
gpg: DBG: ccid-driver: status: 41  error: FE  octet[9]: 00
               data:
gpg: DBG: ccid-driver: CCID command failed: CCID timed out while talking to the ICC
gpg: apdu_send_simple(0) failed: card inactive
gpg: DBG: ccid-driver: status: 01  error: 00  octet[9]: 01
               data:
gpg: DBG: ccid-driver: idVendor: 04E6  idProduct: 5115  bcdDevice: 0518
gpg: DBG: ccid-driver: ChipCard Interface Descriptor:
gpg: DBG: ccid-driver:   bLength                54
gpg: DBG: ccid-driver:   bDescriptorType        33
gpg: DBG: ccid-driver:   bcdCCID              1.00
gpg: DBG: ccid-driver:   nMaxSlotIndex           0
gpg: DBG: ccid-driver:   bVoltageSupport         1  5.0V
gpg: DBG: ccid-driver:   dwProtocols             3  T=0 T=1
gpg: DBG: ccid-driver:   dwDefaultClock       4000
gpg: DBG: ccid-driver:   dwMaxiumumClock     12000
gpg: DBG: ccid-driver:   bNumClockSupported      0
gpg: DBG: ccid-driver:   dwDataRate           9600 bps
gpg: DBG: ccid-driver:   dwMaxDataRate      307200 bps
gpg: DBG: ccid-driver:   bNumDataRatesSupp.      0
gpg: DBG: ccid-driver:   dwMaxIFSD             252
gpg: DBG: ccid-driver:   dwSyncProtocols  00000000
gpg: DBG: ccid-driver:   dwMechanical     00000000
gpg: DBG: ccid-driver:   dwFeatures       000100BA
gpg: DBG: ccid-driver:     Auto configuration based on ATR
gpg: DBG: ccid-driver:     Auto voltage selection
gpg: DBG: ccid-driver:     Auto clock change
gpg: DBG: ccid-driver:     Auto baud rate change
gpg: DBG: ccid-driver:     Auto PPS made by CCID
gpg: DBG: ccid-driver:     TPDU level exchange
gpg: DBG: ccid-driver:   dwMaxCCIDMsgLen       263
gpg: DBG: ccid-driver:   bClassGetResponse    echo
gpg: DBG: ccid-driver:   bClassEnvelope       echo
gpg: DBG: ccid-driver:   wlcdLayout           none
gpg: DBG: ccid-driver:   bPINSupport             0
gpg: DBG: ccid-driver:   bMaxCCIDBusySlots       1
Please insert the card and hit return or enter 'c' to cancel: c
gpg: selecting openpgp failed: general error
gpg: OpenPGP card not available: general error
secmem usage: 0/0 bytes in 0/0 blocks of pool 0/32768
mhh... that doesn't say anything to me :-(

@_date: 2006-05-05 23:35:42
@_author: Adrian Friedli 
@_subject: card inactive 
Am Freitag, 5. Mai 2006 22:29 schrieb Matthias Kirschner:
No, I'm using the package from Debian unstable.
