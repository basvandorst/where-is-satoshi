
@_date: 2006-08-20 07:20:59
@_author: Dylan Vaughn 
@_subject: Multi-user gpg-agent question 
Hello, I am trying to figure out an issue I'm having with gpg-agent.  I have
set up gpg and gpg-agent according to the guides here:
 (for gpg)
and here:
(for gpg-agent)
I am running Debian sarge, and using all standard debian packages. The issue is that after I start gpg-agent for one user, it does not work
for any other user on my machine.  For example, after I do an initial
decrypt call with:
dylan $ gpg -o clear.txt -d encrypted.txt.asc
which works fine, i.e. the pinentry-curses program asks me for my
passphrase the first time and gpg-agent uses the cached passphrase on
subsequent decrypt calls, then when I switch to a different user on my
machine and try to do the same thing gpg-agent doesn't prompt me for my
passphrase on the initial attempt and instead gives me this message:
dylan2 eval "$(gpg-agent --daemon)"
dylan2 gpg -o clear.txt -d test.txt.asc
You need a passphrase to unlock the secret key for
user: "Dylan2 Vaughn "
2048-bit ELG-E key, ID 34FC7CBC, created 2006-08-19 (main key ID
gpg: cancelled by user
gpg: encrypted with 2048-bit ELG-E key, ID 34FC7CBC, created 2006-08-19
      "Dylan2 Vaughn "
gpg: public key decryption failed: bad passphrase
gpg: decryption failed: secret key not available
However, I can do the normal encrypt / decrypt stuff with the root user
after doing it the first time with my 'dylan' user.  Also, if I
initially log into the 'dylan2' user account after rebooting, I can do
the encrypt / decrypt with that user but then not any others (except
root).  What am I doing wrong?  Any help would be appreciated.  Thanks,
