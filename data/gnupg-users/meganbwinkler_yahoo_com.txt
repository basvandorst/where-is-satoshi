
@_date: 2011-10-16 02:39:11
@_author: Megan Winkler 
@_subject: GPGME and Windows Server 2003/2008 
We are using GPGME in our C++ application to decrypt PGP files ?sent to us by a client.? The files are approximately 60meg encrypted, ?500meg decrypted.
We have tested the application on two different boxes with the following configurations:
????????? Windows Server 2003 R2 x64 16GB RAM 8 3GHz cores
????????? Windows Server 2008 R2 x64 16GB RAM 8 3GHz cores
????????? Latest Windows Hot fix
????????? GPG 1.1.4
Our application is using a single thread for the decryption.? We are dynamically linking to the libpgme-11.dll using LoadLibrary(). During testing we are only running the application that is doing the decryption and we have been testing only ?one data file.? ?What is troubling is that the amount of time taken to decrypt the file varies tremendously ? in the best case it takes less than 2 minutes and in the worse case 7+ hours.?? No matter how long it takes the decryption completes successfully.
What could be causing the performance differences?? ?
Also, I have noticed that the GPG.exe process ?does not terminate and continues to use the CPU even after the application cleans up and shuts down. ?I have observed multiple GPG.exe processes in Task Manager. ?The decryption cleanup calls gpgme_data_release() to free the data buffers, gpgme_release to free the context, and FreeLibrary to unload the dll.? What am I neglecting to do?
???

@_date: 2014-01-28 03:44:58
@_author: Megan Winkler 
@_subject: Configuring gpg-agent to run in Windows 
I would like to decrypt files in batch mode using GPG2 on a Windows 7 machine. ??I have GPG4Win, version 2.2.1 installed.
I have so far been unable to make it work. I suspect I haven't configured the gpg-agent properly as I get the following error when I try to cache the passphrase:
C:\GnuPG>gpg-agent --daemon --allow-preset-passphrase --write-env-file --batch
--debug-level 9 -vv
gpg-agent[21568]: enabled debug flags: command mpi crypto memory cache memstat a
gpg-agent[21568]: listening on socket `C:\Users\Megan\AppData\Roaming\gnupg\S.gp
set GPG_AGENT_INFO=C:\Users\Megan\AppData\Roaming\gnupg\S.gpg-agent;21568;1
gpg-agent[21568]: gpg-agent (GnuPG) 2.0.22 started
gpg-agent[21568]: DBG: returning notify handle 00000100
gpg-agent[21568]: handler 0x544c for fd 268 started
gpg-agent[21568]: chan_0000010C -> OK Pleased to meet you
gpg-agent[21568]: chan_0000010C <- PRESET_PASSPHRASE 2C7C06CF44E5B9B58023F24A44D
CB856B29B6933 -1 6661697468
gpg-agent[21568]: DBG: agent_put_cache `2C7C06CF44E5B9B58023F24A44DCB856B29B6933
' requested ttl=-1 mode=1
gpg-agent[21568]: chan_0000010C -> OK
gpg-agent[21568]: chan_0000010C <- [error: Input/output error]
gpg-agent[21568]: Assuan processing failed: Input/output error
gpg-agent[21568]: handler 0x544c for fd 268 terminated
Any ideas would be appreciated!
