
@_date: 2006-01-19 15:18:15
@_author: Carsten Pfeiffer 
@_subject: gpgsm: bad signature (which actually is not bad) 
I'm having a problem importing an X.509 certificate in PEM format with gpgsm (1.9.19 -- unfortunately there is no Debian package for 1.9.20, yet).
gpgsm reports a bad signature, albeit other applications, e.g. Mozilla Thunderbird are able to import and use it just fine.
Any idea what might go wrong?
Here's the verbose log I get:
? 4 - 2006-01-18 20:51:53 gpgsm[17943.0x8082e98] DBG: -> Home: ~/.gnupg
? 4 - 2006-01-18 20:51:53 gpgsm[17943.0x8082e98] DBG: -> Config: /home/gis/.gnupg/gpgsm.conf
? 4 - 2006-01-18 20:51:53 gpgsm[17943.0x8082e98] DBG: -> AgentInfo: /tmp/gpg-2bH7v8/S.gpg-agent:4733:1
? 4 - 2006-01-18 20:51:53 gpgsm[17943.0x8082e98] DBG: -> DirmngrInfo: [not ? 4 - 2006-01-18 20:51:53 gpgsm[17943.0x8082e98] DBG: -> GNU Privacy Guard's S/M server 1.9.19 ready
? 4 - 2006-01-18 20:51:53 gpgsm[17943.0x8082e98] DBG: <- OPTION display=:0
? 4 - 2006-01-18 20:51:53 gpgsm[17943.0x8082e98] DBG: -> OK
? 4 - 2006-01-18 20:51:53 gpgsm[17943.0x8082e98] DBG: <- OPTION ? 4 - 2006-01-18 20:51:53 gpgsm[17943.0x8082e98] DBG: -> OK
? 4 - 2006-01-18 20:51:53 gpgsm[17943.0x8082e98] DBG: <- OPTION ? 4 - 2006-01-18 20:51:53 gpgsm[17943.0x8082e98] DBG: -> OK
? 4 - 2006-01-18 20:51:53 gpgsm[17943.0x8082e98] DBG: <- INPUT FD=13
? 4 - 2006-01-18 20:51:53 gpgsm[17943.0x8082e98] DBG: -> OK
? 4 - 2006-01-18 20:51:53 gpgsm[17943.0x8082e98] DBG: <- IMPORT
? 4 - 2006-01-18 20:51:53 gpgsm[17943]: DBG: signature value: 28 37 3A 73 69 67 2D 76 61 6C 28 33 3A 72 73 61 28 31 3A 73 32 35 36 3A 36 D5 0F DC 43 33 69 95 07 12 C2 75 04 19 B9 38 81 EA 30 54 A2 03 56 51 10 41 5A 0A 37 6D A1 E0 08 C7 30 AE 5E 75 83 F5 C1 E1 F2 A0 B9 27 78 61 DC 6F DC 12 55 D2 AA 10 D1 AC EA FB 94 22 7D B2 B0 08 B1 B9 B7 AC 5E CE 4F D0 74 93 9C FE 96 0A 1E 9A 85 AF BA 53 21 FC 8B 57 1D CF 4F 97 FE 9A C9 A1 CD 8A A9 F0 E5 46 86 DA 17 63 38 36 CC 0D 95 8B 08 FC E5 97 67 86 C2 E5 DD 8A AE 91 8C C3 53 B9 FB 92 96 35 3F FE 88 FC 55 23 47 F1 0B 37 5A 9E D8 D9 97 3A 89 D9 19 60 E5 79 58 2F 6A 9D F1 E7 AF 85 2A AC 05 27 01 54 E4 7F C4 DC 60 BB 62 E6 48 16 06 D8 B9 FB BA 60 8D E4 EF 01 27 3B 58 22 66 28 C8 CD C0 EA 12 7F 09 71 6D 6B 40 8F EB 28 85 94 47 19 60 21 AF E0 D7 D5 29 1B 5E 15 F9 CF 53 7A 4E BA E9 9D 1B EF D9 56 3B DB A3 4D 70 7B F3 AB 72 D0 23 7E 13 A0 43 1C 31 38 7A 28 29 29 29
? 4 - 2006-01-18 20:51:53 gpgsm[17943]: DBG: encoded hash: 00 01 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF 00 30 21 30 09 06 05 2B 0E 03 02 1A 05 00 04 14 2C 4A 36 0F 60 5D 38 21 6F 3D 82 13 39 B4 3F 5F 7B C4 A4 E7
? 4 - 2006-01-18 20:51:53 gpgsm[17943]: DBG: gcry_pk_verify: Falsche ? 4 - 2006-01-18 20:51:53 gpgsm[17943]: self-signed certificate has a BAD signature: Falsche Unterschrift
? 4 - 2006-01-18 20:51:53 gpgsm[17943]: DBG: BEGIN Certificate `self-signing ? 4 - 2006-01-18 20:51:53 gpgsm[17943]: DBG: ? ? ?serial: 01
? 4 - 2006-01-18 20:51:54 gpgsm[17943]: DBG: ? notBefore: 2004-03-04 09:22:06
? 4 - 2006-01-18 20:51:54 gpgsm[17943]: DBG: ? ?notAfter: 2006-12-31 23:00:00
? 4 - 2006-01-18 20:51:54 gpgsm[17943]: DBG: ? ? ?issuer: CN=Fraunhofer-Gesellschaft Root-CA v2,O=Fraunhofer,C=DE
? 4 - 2006-01-18 20:51:54 gpgsm[17943]: DBG: ? ? subject: CN=Fraunhofer-Gesellschaft Root-CA v2,O=Fraunhofer,C=DE
? 4 - 2006-01-18 20:51:54 gpgsm[17943]: DBG: ? hash algo: 1.2.840.113549.1.1.5
? 4 - 2006-01-18 20:51:54 gpgsm[17943]: DBG: ? SHA1 Fingerprint: ? 4 - 2006-01-18 20:51:54 gpgsm[17943]: DBG: END Certificate
? 4 - 2006-01-18 20:51:54 gpgsm[17943]: basic certificate checks failed - not ? 4 - 2006-01-18 20:51:54 gpgsm[17943.0x8082e98] DBG: -> S IMPORT_PROBLEM 1 ? 4 - 2006-01-18 20:51:54 gpgsm[17943]: total number processed: 1
? 4 - 2006-01-18 20:51:54 gpgsm[17943]: ? ? ? ? ? not imported: 1
Thanks and best wishes,
Carsten Pfeiffer
