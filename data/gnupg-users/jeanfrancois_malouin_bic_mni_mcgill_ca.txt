
@_date: 2000-11-23 10:15:29
@_author: Jean-Francois Malouin 
@_subject: gpg: fatal: idea encryption (0) failed 
I just got gnupg-1.0.4 compiled on irix along with egd-0.8 and with
RSA and IDEA extension modules in order to import my PGP-2.6.2 keys as
per the doc in  but I'm having
problems using them with gpg once imported. If I try to clearsign a file with my secret key I get the error:
~> gpg --clearsign doc
You need a passphrase to unlock the secret key for
user: "Jean-Francois Malouin "
1024-bit RSA key, ID 718E2E75, created 2000-08-10
gpg: fatal: idea encryption (0) failed
secmem usage: 2016/2176 bytes in 4/5 blocks of pool 2176/16384
Ugh! ~> gpg --version
gpg (GnuPG) 1.0.4
Copyright (C) 2000 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it
under certain conditions. See the file COPYING for details.
Home: ~/.gnupg
Supported algorithms:
Cipher: IDEA, 3DES, CAST5, BLOWFISH, RIJNDAEL, RIJNDAEL192,
RIJNDAEL256, TWOFISH
gpg: skipping pubkey 1: already loaded
gpg: skipping pubkey 2: already loaded
gpg: skipping pubkey 3: already loaded
Pubkey: RSA, RSA-E, RSA-S, ELG-E, DSA, ELG
Hash: MD5, SHA1, RIPEMD160
~> gpg -vv --list-keys
:public key packet:
        version 3, algo 1, created 965924807, expires 0
        pkey[0]: [1024 bits]
        pkey[1]: [5 bits]
:user ID packet: "Jean-Francois Malouin
:signature packet: algo 1, keyid 3F5AC0FF718E2E75
        version 3, created 974875316, md5len 5, sigclass 10
        digest algo 1, begin of digest 84 40
        data: [1023 bits]
gpg: loaded digest 1
gpg: /usr/people/malin/.gnupg/rsa: RSA ($Revision: 1.10 $)
gpg: /usr/people/malin/.gnupg/idea: IDEA ($Revision: 1.11 $)
pub  1024R/718E2E75 2000-08-10 Jean-Francois Malouin
sig        718E2E75 2000-11-22  Jean-Francois Malouin

@_date: 2000-11-23 13:25:28
@_author: Jean-Francois Malouin 
@_subject: gpg: fatal: idea encryption (0) failed 
* Werner Koch (wk [20001123 11:02] thus spake:
I'm not sure if I understand but anyways gnupg was compiled on
irix-5.3 (which only have mips-32bit abi):
~> cc -c idea.o
~> file idea
idea:           ELF 32-bit MSB dynamic lib MIPS - version 1
~> ld -elf -shared -o idea -all idea.o
~> file .gnupg/idea .gnupg/idea:    ELF 32-bit MSB dynamic lib MIPS - version 1

@_date: 2000-11-23 13:44:24
@_author: Jean-Francois Malouin 
@_subject: gpg: fatal: idea encryption (0) failed 
* Jean-Francois Malouin (Jean-Francois.Malouin [20001123 13:25] thus spake:
Follow-up on me...I should have been more resilient!
I reconfigured gnupg with the following flags:
  --disable-nls --with-included-gettext \
  --enable-static-rnd=egd --disable-asm
and used gcc version egcs-2.91.66 (egcs-1.1.2 release) rather
than the irix native C compiler.
After I compiled the rsa and idea modules using:
gcc -Wall -O2 -shared -fPIC -o rsa rsa.c
gcc -Wall -O2 -shared -fPIC -o idea idea.c
and lo and behold it now works!
Can someone shed some light on what is going on here?

@_date: 2000-11-23 10:15:29
@_author: Jean-Francois Malouin 
@_subject: gpg: fatal: idea encryption (0) failed 
I just got gnupg-1.0.4 compiled on irix along with egd-0.8 and with
RSA and IDEA extension modules in order to import my PGP-2.6.2 keys as
per the doc in  but I'm having
problems using them with gpg once imported. If I try to clearsign a file with my secret key I get the error:
~> gpg --clearsign doc
You need a passphrase to unlock the secret key for
user: "Jean-Francois Malouin "
1024-bit RSA key, ID 718E2E75, created 2000-08-10
gpg: fatal: idea encryption (0) failed
secmem usage: 2016/2176 bytes in 4/5 blocks of pool 2176/16384
Ugh! ~> gpg --version
gpg (GnuPG) 1.0.4
Copyright (C) 2000 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it
under certain conditions. See the file COPYING for details.
Home: ~/.gnupg
Supported algorithms:
Cipher: IDEA, 3DES, CAST5, BLOWFISH, RIJNDAEL, RIJNDAEL192,
RIJNDAEL256, TWOFISH
gpg: skipping pubkey 1: already loaded
gpg: skipping pubkey 2: already loaded
gpg: skipping pubkey 3: already loaded
Pubkey: RSA, RSA-E, RSA-S, ELG-E, DSA, ELG
Hash: MD5, SHA1, RIPEMD160
~> gpg -vv --list-keys
:public key packet:
        version 3, algo 1, created 965924807, expires 0
        pkey[0]: [1024 bits]
        pkey[1]: [5 bits]
:user ID packet: "Jean-Francois Malouin
:signature packet: algo 1, keyid 3F5AC0FF718E2E75
        version 3, created 974875316, md5len 5, sigclass 10
        digest algo 1, begin of digest 84 40
        data: [1023 bits]
gpg: loaded digest 1
gpg: /usr/people/malin/.gnupg/rsa: RSA ($Revision: 1.10 $)
gpg: /usr/people/malin/.gnupg/idea: IDEA ($Revision: 1.11 $)
pub  1024R/718E2E75 2000-08-10 Jean-Francois Malouin
sig        718E2E75 2000-11-22  Jean-Francois Malouin

@_date: 2000-11-23 13:25:28
@_author: Jean-Francois Malouin 
@_subject: gpg: fatal: idea encryption (0) failed 
* Werner Koch (wk [20001123 11:02] thus spake:
I'm not sure if I understand but anyways gnupg was compiled on
irix-5.3 (which only have mips-32bit abi):
~> cc -c idea.o
~> file idea
idea:           ELF 32-bit MSB dynamic lib MIPS - version 1
~> ld -elf -shared -o idea -all idea.o
~> file .gnupg/idea .gnupg/idea:    ELF 32-bit MSB dynamic lib MIPS - version 1

@_date: 2000-11-23 13:44:24
@_author: Jean-Francois Malouin 
@_subject: gpg: fatal: idea encryption (0) failed 
* Jean-Francois Malouin (Jean-Francois.Malouin [20001123 13:25] thus spake:
Follow-up on me...I should have been more resilient!
I reconfigured gnupg with the following flags:
  --disable-nls --with-included-gettext \
  --enable-static-rnd=egd --disable-asm
and used gcc version egcs-2.91.66 (egcs-1.1.2 release) rather
than the irix native C compiler.
After I compiled the rsa and idea modules using:
gcc -Wall -O2 -shared -fPIC -o rsa rsa.c
gcc -Wall -O2 -shared -fPIC -o idea idea.c
and lo and behold it now works!
Can someone shed some light on what is going on here?
