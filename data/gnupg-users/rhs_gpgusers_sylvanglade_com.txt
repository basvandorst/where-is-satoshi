
@_date: 2008-09-16 20:23:06
@_author: Ray Simard 
@_subject: Problems decrypting with multifile 
I haven't been able to find anything about this in the FAQs or a web search.
The goal is to decrypt a large number of files using
--multifile --decrypt (or --decrypt-files).  When doing so, the first
file in the list is decrypted normally, but thereafter the results are
as below, and nothing further is decrypted.
The files temp1.gpg temp2.gpg and temp3.gpg are just some encrypted
trivial text files created for the purpose of this test.  Individually
they all decrypt with no trouble.
(Another strangeness to check into elsewhere is that the binary is
installed setuid root but I get the insecure memory warning anyway if
I'm not running as root.)
higgins:/yonder2/tmp/random_archive_temp # \
    gpg --decrypt-files temp1.gpg temp2.gpg temp3.gpg
You need a passphrase to unlock the secret key for
user: "Raymond H. Simard "
2048-bit ELG key, ID 333C1C33, created 1998-02-01 (main key ID 7599038C)
gpg: encrypted with 2048-bit ELG key, ID 333C1C33, created 1998-02-01
      "Raymond H. Simard "
File `temp1' exists. Overwrite? (y/N) y
gpg: WARNING: message was not integrity protected
gpg: encrypted with 2048-bit ELG key, ID 333C1C33, created 1998-02-01
      "Raymond H. Simard "
gpg: WARNING: multiple plaintexts seen
gpg: handle plaintext failed: Unexpected error
gpg: WARNING: message was not integrity protected
gpg: encrypted with 2048-bit ELG key, ID 333C1C33, created 1998-02-01
      "Raymond H. Simard "
gpg: WARNING: multiple plaintexts seen
gpg: handle plaintext failed: Unexpected error
gpg: WARNING: message was not integrity protected
I looked up the multiple-plaintexts message and I'm not sure I
completely understand it, but it's a security issue of some kind. IN any
case. from the docs, it seems all that should be necessary to do what
I'm trying to do is to list the files on the command line or feed them
into stdin one line at a time and use the command as I've shown it.  I
can't think of anything else to try.
(This is a personal machine with nobody else around to monkey with it,
so I have been able to get the job done with --batch, though I'll have
to purge the command from the history. No biggie.)
Thanks for any help.
Ray Simard
