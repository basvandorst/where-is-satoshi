
@_date: 2017-03-21 23:10:14
@_author: terry 
@_subject: Compiling GPG on Solaris 10 
I'm having problems compiling GPG on a Solaris 10 server using gcc v.3.4.3 and gmake v.3.80
I've successfully compiled and installed the dependencies
Libgpg-error     (v 1.27)
Libgcrypt        (v 1.7.6)
Libksba          (v 1.3.5)
Libassuan        (v 2.4.3)
nPth             (v 1.3)
as below
./configure (no arguments, just used default)
gmake check (all tests passed)
gmake install
All libraries went into /usr/local/lib by default where I can see them
When it came to compiling gnupg-2.0.30 I have hit problems with configure, which fails with the following
configure: checking system features for estream
*** You need libgcrypt to build this program.
**  This library is for example available at
*** ftp://ftp.gnupg.org/gcrypt/libgcrypt/
*** (at least version 1.5.0 using API 1 is required.)
*** It is now required to build with support for the
*** GNU Portable Threads Library (Pth). Please install this
*** library first.  The library is for example available at
*** ftp://ftp.gnu.org/gnu/pth/
*** On a Debian GNU/Linux system you can install it using
***   apt-get install libpth-dev
*** To build GnuPG for Windows you need to use the W32PTH
*** package; available at:
*** ftp://ftp.g10code.com/g10code/w32pth/
configure: error:
*** Required libraries not found. Please consult the above messages
*** and install them before running configure again.
I then installed pth-2.0.7 (again configure, gmake, gmake check gmake install) and configure found pth, but I'm still getting the libgcrypt error
I can see the libraries in /usr/local/lib
-rwxr-xr-x   1 root     root        274K Mar 21 17:46 libgpg-error.so.0.22.0
lrwxrwxrwx   1 root     root          22 Mar 21 17:46 libgpg-error.so.0 -> libgpg-error.so.0.22.0
lrwxrwxrwx   1 root     root          22 Mar 21 17:46 libgpg-error.so -> -rwxr-xr-x   1 root     root        1.1K Mar 21 17:46 libgpg-error.la
-rwxr-xr-x   1 root     root        477K Mar 21 17:47 libassuan.so.0.7.3
lrwxrwxrwx   1 root     root          18 Mar 21 17:47 libassuan.so.0 -> lrwxrwxrwx   1 root     root          18 Mar 21 17:47 libassuan.so -> -rwxr-xr-x   1 root     root        1.2K Mar 21 17:47 libassuan.la
-rwxr-xr-x   1 root     root        844K Mar 21 17:48 libksba.so.8.11.6
lrwxrwxrwx   1 root     root          17 Mar 21 17:48 libksba.so.8 -> lrwxrwxrwx   1 root     root          17 Mar 21 17:48 libksba.so -> -rwxr-xr-x   1 root     root        1.1K Mar 21 17:48 libksba.la
-rwxr-xr-x   1 root     root         17K Mar 21 17:49 libnpth.so.0.0.6
lrwxrwxrwx   1 root     root          16 Mar 21 17:49 libnpth.so.0 -> lrwxrwxrwx   1 root     root          16 Mar 21 17:49 libnpth.so -> -rwxr-xr-x   1 root     root         925 Mar 21 17:49 libnpth.la
-rwxr-xr-x   1 root     root        3.0M Mar 21 18:03 libgcrypt.so.20.1.6
lrwxrwxrwx   1 root     root          19 Mar 21 18:03 libgcrypt.so.20 -> -rwxr-xr-x   1 root     root         75K Mar 21 18:39 libpth.so.20.0.27
lrwxrwxrwx   1 root     root          17 Mar 21 18:39 libpth.so.20 -> lrwxrwxrwx   1 root     root          17 Mar 21 18:39 libpth.so -> -rwxr-xr-x   1 root     root         791 Mar 21 18:39 libpth.la
-rw-r--r--   1 root     root         93K Mar 21 18:39 libpth.a
-rwxr-xr-x   1 root     root        1.7M Mar 21 20:18 libgcrypt.so.11.8.4
lrwxrwxrwx   1 root     root          19 Mar 21 20:18 libgcrypt.so.11 -> lrwxrwxrwx   1 root     root          19 Mar 21 20:18 libgcrypt.so -> -rwxr-xr-x   1 root     root        1.2K Mar 21 20:18 libgcrypt.la
and have set LD_LIBRARY_PATH to /usr/local/lib ,but can't make any headway
Do you have any suggestions on how to proceed?

@_date: 2017-03-22 13:12:16
@_author: Terry Stewart 
@_subject: Compiling GPG on Solaris 10 
Hi Andy
I didn't have, but I've just installed it now.
13:07:>> automake --version
automake (GNU automake) 1.15
However no luck, still failing with the same error
checking for deflateInit2_ in -lz... yes
checking for bzlib.h... yes
checking for BZ2_bzCompressInit in -lbz2... yes
checking whether readline via "-lreadline" is present and sane... no
checking whether readline via "-lreadline -ltermcap" is present and sane... no
checking whether readline via "-lreadline -lcurses" is present and sane... no
checking whether readline via "-lreadline -lncurses" is present and sane... no
configure: checking for cc features
checking if gcc ignores unknown -Wno-* options... no
checking if gcc supports -Wno-pointer-sign... no
checking if gcc supports -Wpointer-arith... yes
configure: checking system features for estream-printf
checking for stdint.h... (cached) yes
checking for long long int... (cached) yes
checking for long double... yes
checking for intmax_t... yes
checking for uintmax_t... yes
checking for ptrdiff_t... yes
checking size of unsigned long... (cached) 4
checking size of void *... 4
checking for nl_langinfo and THOUSANDS_SEP... no
configure: checking system features for estream
*** You need libgcrypt to build this program.
**  This library is for example available at
***   ftp://ftp.gnupg.org/gcrypt/libgcrypt/
*** (at least version 1.5.0 using API 1 is required.)
configure: error:
*** Required libraries not found. Please consult the above messages
*** and install them before running configure again.

@_date: 2017-03-22 13:32:33
@_author: Terry Stewart 
@_subject: Compiling GPG on Solaris 10 
Hi Werner
Thanks for replying.  I compiled libgcrypt from source (from  as well as the other dependencies
All these dependencies installed without error using
gmake check
gmake install
 >> /usr/local/bin/libgcrypt-config --version
Configure was complaining about readline so I reinstalled that as well
checking whether regular expression support is requested... yes
checking for library containing regcomp... none required
checking for regcomp... yes
checking whether your system's regexp library is broken... no
checking zlib.h usability... yes
checking zlib.h presence... yes
checking for zlib.h... yes
checking for deflateInit2_ in -lz... yes
checking for bzlib.h... yes
checking for BZ2_bzCompressInit in -lbz2... yes
checking whether readline via "-lreadline" is present and sane... no
checking whether readline via "-lreadline -ltermcap" is present and sane... yes
configure: checking for cc features
checking if gcc ignores unknown -Wno-* options... no
checking if gcc supports -Wno-pointer-sign... no
checking if gcc supports -Wpointer-arith... yes
configure: checking system features for estream-printf
checking for stdint.h... (cached) yes
checking for long long int... (cached) yes
checking for long double... yes
checking for intmax_t... yes
checking for uintmax_t... yes
checking for ptrdiff_t... yes
checking size of unsigned long... (cached) 4
checking size of void *... 4
checking for nl_langinfo and THOUSANDS_SEP... no
configure: checking system features for estream
*** You need libgcrypt to build this program.
**  This library is for example available at
***   ftp://ftp.gnupg.org/gcrypt/libgcrypt/
*** (at least version 1.5.0 using API 1 is required.)
configure: error:

@_date: 2017-03-22 16:04:17
@_author: Terry Stewart 
@_subject: Compiling GPG on Solaris 10 
Thanks for the help everyone
Looking on my system I found an old version of libgcrypt-config in that in my PATH
All working and compiled now

@_date: 2017-03-23 17:06:44
@_author: Terry Stewart 
@_subject: Compiling GPG on Solaris 10 
Hi Werner
I found the problem, which was an old version of libgcrypt-config in referenced this.  I was installing into /usr/local/bin but /usr/bin was before that in my PATH
All working and compiled now
