
@_date: 2008-10-01 11:56:48
@_author: Robert Vanyi 
@_subject: Unicode filename support on Windows 
Hi Shuichi,
2008/9/18 HIRA, Shuichi :
Thanks for the link. However, if I apply the settings, the whole
system will be using Japanese, and then I won't be able to use for
example Russian (cyrillic) file names. Encrypting Japanese files on
Japanese Windows works. However, I would like to be able to encrypt
files with any Unicode characters in the file name on any (recent)
Windows system. Does anybody has any experience with that?
I was browsing some documentation, and maybe I have found an important
point: Windows passes command line parameters always as UTF-16. If the
application cannot handle UTF-16, it is converted to the local
codepage. It would explain why I'm seeing question marks instead of
Japanese characters, because Japanese characters cannot be represented
in the local (English) codepage, so they are replaced with a
I've read that the application should have a wmain function instead of
main to handle UTF-16 on Windows. Do you know anything about that?
Maybe I should discuss this topic on gnupg-dev.

@_date: 2008-09-17 13:47:39
@_author: Robert Vanyi 
@_subject: Unicode filename support on Windows 
I was trying to use a Japanese filename on an English Windows Server
2008, but I got the following error:
C:\>gpg -e ???.txt
gpg: can't open `???.txt': No error
gpg: ???.txt: encryption failed: file open error
The Japanese string in the filename contains three characters:
katakana TE (U+30C6)
katakana SU (U+30B9)
katakana TO (U+30C8)
from this page: I'm using GnuPG 1.4.7:
C:\>gpg --version
gpg (GnuPG) 1.4.7
Is there a newer version with support for Unicode filenames, or are
there any plans to support them on Windows platforms?

@_date: 2008-09-17 15:14:31
@_author: Robert Vanyi 
@_subject: Unicode filename support on Windows 
It was UTF-8 only in my email, originally I was passing it as UTF-16.
I was trying to do it via the command line and via the Windows API
(CreateProcessW) as well.
ps. On Windows 2008 there is a command line tool called chcp to change
codepage, but I haven't done much testing with it.
