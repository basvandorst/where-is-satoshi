
@_date: 2013-01-23 12:40:06
@_author: Johannes Scholz 
@_subject: gpg on windows 2008 running from task scheduler as NT 
I am trying to run some gpg operations from a script on windows.
Said script works perfectly fine when I run it as a "normal" user account.
When launched from the task scheduler (which launches the script as NT AUTHORITY\SYSTEM) it just exits, the exit code is being set to 255.
Nothing on stderr or stdout.
One example command that fails:
"C:\Program Files\Some App\Update\gpg\gpg2.exe" --list-public-keys --with-colons --homedir "C:\Program Files\Some App\Update" XXXXXXXX
The home directory I specified with ?homedir exists and the System user has full access to that directory and its contents.
I added gpg2.exe to windows 2008's data execution prevention (DEP) exception list.
At this point I am out of ideas. Other binaries uses by the script (wget, 7zip) work just fine, even when run as System user.
gpg (GnuPG) 2.0.17 (Gpg4win 2.1.0)
libgcrypt 1.4.6
Johannes Scholz

@_date: 2013-01-24 08:55:29
@_author: Johannes Scholz 
@_subject: Patch for using GPG on 64 bit Matching 
By "does not run when automated" you mean it does not run when you run it from the task scheduler? If so, maybe you are having the same issue that I seem to have (2008 AMD64) + Johannes Scholz
+ js at vinci-info.com
Hi David,
OS is: Windows 2008 R2 Enterprise (64-bit). We are running Gpg4win version 2.1.0 (2011-03-15)  which contains GnuPG 2.0.17.
I regularly use GnuPG on 64 bit servers with no patches or changes.  What OS is on your servers?  What version of GPG are you running?
Hi fellow gnupg-users,
I am new to gpg arena though I have used PGP in the past.
We have 64-bit servers and I was wondering if there is a Patch to apply to gpg so it could run successfully on 64 bit.
Please let me know.
Currently, my command line scripts does not run when automated but I can run them manually.
Please help.
Gnupg-users mailing list
Gnupg-users at gnupg.org
David Tomaschik
OpenPGP: 0x5DEA789B
david at systemoverlord.com
