
@_date: 2014-02-06 20:37:53
@_author: Jim Ernst 
@_subject: Error "Need the secret key to do this" Encountered During adduid 
Hello All -
I am trying to add a second uid to a key via adduid. I have exported the key from my production UNIX box to and exported it to a test UNIX box.
When I try to use adduid I get the following:
Command> adduid
Need the secret key to do this.
Has anyone experienced this and if so what is the solution? I am logged into the UNIX under the same ID that created the key.  Any help is greatly appreciated.
Jim Ernst
NTT Data
jernst at invacarecontractor.com
CONFIDENTIALITY NOTICE: The information in this e-mail message and any attachments may contain privileged, confidential or proprietary information, including confidential health information, protected by applicable Federal or state laws. Such information is intended only for the recipient named above. If you are not the intended recipient, please notify the sender immediately, and take notice that any use, disclosure or distribution of such information is prohibited by law.

@_date: 2014-02-10 13:44:50
@_author: Jim Ernst 
@_subject: Error "Need the secret key to do this" Encountered During 
Hi - I just used --export for it.
After looking at it further, I did wonder whether or not it was a result of exporting the file off of one UNIX machine and importing it onto another (again, using just --export). Would you know if movement like that between machines should create an issue? I was figuring the key could be exported from one UNIX machine and imported to another, but I did not know if the machine ID was part of the key.
Jim E.
Hash: SHA512
On Thursday 6 February 2014 at 8:37:53 PM, in ,
Command>> adduid
Did you export the secret key using "--export-secret-keys" or just the public key using "-export?"

@_date: 2014-02-10 19:03:21
@_author: Jim Ernst 
@_subject: Question Regarding Adding A New uid 
Hello All -
I have a process built that will read the uid as -local-user in order to determine which key to utilize in an extract process. I am adding a second uid to the key as part of the changes. I have given the current key set (without the new uid) to the server that is the target. Since this new uid is only to be used on the source side to determine which key to use, is it necessary to publish the key a second time to the target server once I have added the new uid ? I am figuring the uid is more of a name by which I can reference the key and I would not need to send the key again to the target server.
Jim Ernst
NTT Data
jernst at invacarecontractor.com
CONFIDENTIALITY NOTICE: The information in this e-mail message and any attachments may contain privileged, confidential or proprietary information, including confidential health information, protected by applicable Federal or state laws. Such information is intended only for the recipient named above. If you are not the intended recipient, please notify the sender immediately, and take notice that any use, disclosure or distribution of such information is prohibited by law.

@_date: 2014-02-10 19:28:11
@_author: Jim Ernst 
@_subject: Error "Need the secret key to do this" Encountered During 
Hi Daniel - thank you for the information... so using --export-secret-keys does the complete key, including both public and secret?  The key I had imported and then tried to use adduid on was created using just --export.  I could not use adduid on the new machine I had imported too;  sounds like using this --export-secret-keys would have solved the issue.  Is there any special syntax on the --import when importing a file that was exported using --export-secret-keys?
Jim Ernst
jernst at invacarecontractor.com
-----Original Message-----
Sent: Monday, February 10, 2014 2:05 PM
--export only emits the public keys, not the secret keys.  You'd want --export-secret-keys if you wanted to transfer the secret keys as well.
CONFIDENTIALITY NOTICE: The information in this e-mail message and any attachments may contain privileged, confidential or proprietary information, including confidential health information, protected by applicable Federal or state laws. Such information is intended only for the recipient named above. If you are not the intended recipient, please notify the sender immediately, and take notice that any use, disclosure or distribution of such information is prohibited by law.

@_date: 2016-10-06 12:38:33
@_author: Jim Ernst 
@_subject: Syntax Question on GPG2 on LINUX 
Hello All -
I am working in a LINUX environment using GPG version 2.1.15
Can anyone give me the syntax to use gpg2  to create a signed, encrypted file using a passphrase in a LINUX shell script ?  This is being run from Oracle EBS on a schedule so there would not be a user interacting to answer prompts. With this mode, is there any terminal settings I would need to set ?
Thanks !!
Jim Ernst
NTT Data
NOTE: The sender of this email is an independent contractor of Invacare Corporation or one of its subsidiaries. CONFIDENTIALITY NOTICE: The information in this e-mail message and any attachments may contain privileged, confidential or proprietary information, including confidential health information, protected by applicable Federal or state laws. Such information is intended only for the recipient named above. If you are not the intended recipient, please notify the sender immediately, and take notice that any use, disclosure or distribution of such information is prohibited by law.

@_date: 2016-10-07 20:59:44
@_author: Jim Ernst 
@_subject: Linux GPG2 Encryption Getting Intermittent  gpg: signing failed: 
Hello All  -
I am using the following code with gpg (GnuPG) 2.1.15, and when run on Linux submitted from an Oracle EBS Apps request it errors with "gpg: signing failed: Inappropriate ioctl for device":
The process will work then the error will suddenly occur when there has been no change in the statement. Has anyone hit something like this before ?
I notice the error message has "gpg:"; does gpg2 start its' messages this way or with "gpg2:" ?
James Ernst
NTT Data
NOTE: The sender of this email is an independent contractor of Invacare Corporation or one of its subsidiaries. CONFIDENTIALITY NOTICE: The information in this e-mail message and any attachments may contain privileged, confidential or proprietary information, including confidential health information, protected by applicable Federal or state laws. Such information is intended only for the recipient named above. If you are not the intended recipient, please notify the sender immediately, and take notice that any use, disclosure or distribution of such information is prohibited by law.

@_date: 2016-09-28 17:14:35
@_author: Jim Ernst 
@_subject: gpg: signing failed: Inappropriate ioctl for device Error Message on 
Hello -
I am currently testing keys I created using gpg version 2 2.1.15 (libgcrypt 1.7.3) and I am trying to encrypt a file using a shell script in a LINUX environment. I am getting the following error when the command is executed:
gpg: signing failed: Inappropriate ioctl for device
Has anyone encountered this issue ?
Jim Ernst
NTT Data
NOTE: The sender of this email is an independent contractor of Invacare Corporation or one of its subsidiaries. CONFIDENTIALITY NOTICE: The information in this e-mail message and any attachments may contain privileged, confidential or proprietary information, including confidential health information, protected by applicable Federal or state laws. Such information is intended only for the recipient named above. If you are not the intended recipient, please notify the sender immediately, and take notice that any use, disclosure or distribution of such information is prohibited by law.

@_date: 2016-09-30 17:11:19
@_author: Jim Ernst 
@_subject: gpg: signing failed: Inappropriate ioctl for device Error Message 
============================== START ==============================
Hi Werner and Justus - thank you for the info !!
Is this issue normally associated with a --passphrase-fd 0 command being used with gpg2? I am doing the following:
    v_recipient='RECIPIENT'
    v_passphrase=`cat  pfile.txt`
   /usr/local/bin/gpg2 --batch --local-user $v_recipient --passphrase=$v_passphrase --output $  --sign And it is erroring with :
gpg: signing failed: Inappropriate ioctl for device
I was figuring this was not even trying to utilize any kind of STDIN since it was in --batch mode and not using the "passphrase-fd 0"....
Jim Ernst
-----Original Message-----
Sent: Friday, September 30, 2016 10:14 AM
On Fri, 30 Sep 2016 14:37, justus at g10code.com said:
That does not matter.  The pinentry opens the tty on its own.  To do this it needs to know the tty.  Fortunately gpg knows the tty or can take it from the GPG_TTY envvar and passes the name of the tty device via gpg-agent up to pinentry.
   Werner
Die Gedanken sind frei.  Ausnahmen regelt ein Bundesgesetz.
NOTE: The sender of this email is an independent contractor of Invacare Corporation or one of its subsidiaries. CONFIDENTIALITY NOTICE: The information in this e-mail message and any attachments may contain privileged, confidential or proprietary information, including confidential health information, protected by applicable Federal or state laws. Such information is intended only for the recipient named above. If you are not the intended recipient, please notify the sender immediately, and take notice that any use, disclosure or distribution of such information is prohibited by law.
