
@_date: 2016-04-26 09:53:06
@_author: Daniel Pocock 
@_subject: making a Debian Live CD for managing GnuPG master key and smartcards 
There has been some discussion on debian-devel[1] about making a
bootable Debian Live CD specifically for GnuPG
The benefit is that everything on the CD is self-contained, it can't be
tampered with, it can run without network support in the kernel and the
workflow would be controlled by a script.  All the details, including
workflow, are described in a wiki[2]
I have some questions about this:
- has anybody already seen anything like this?  Nobody likes
re-inventing the wheel
- can we call all the necessary GnuPG commands from a script without the
user interacting directly with GnuPG, using "--batch" / unattanded
operation?  The sequence of commands involved would be similar to this
- what would be the preferred way for the GUI to obtain and keep the
master key passphrase without prompting the user to re-enter it for
every operation?
- would anybody else like to suggest improvements to the workflow?
1.  at pocock.pro
2.

@_date: 2016-04-26 13:16:18
@_author: Daniel Pocock 
@_subject: making a Debian Live CD for managing GnuPG master key and 
Thanks for pointing this out
Could you add a section to the wiki about this, with an itemized list of
the tasks that need to be done, e.g.
 * packaging egpg and uploading to Debian
  * anybody can upload it to  for a DD to sponsor
 * creating whiptail front-end for egpg
 * creating smartcard support for egpg
Please add any other individual tasks that would be necessary

@_date: 2016-04-26 14:20:40
@_author: Daniel Pocock 
@_subject: making a Debian Live CD for managing GnuPG master key and 
You can use the wiki to link to the Github tasks that are relevant to
using epgp in the Live CD, you don't have to copy the details of each
task, just link to them

@_date: 2016-04-26 16:57:16
@_author: Daniel Pocock 
@_subject: making a Debian Live CD for managing GnuPG master key and 
Yes, you can do that, in Debian you can file an RFP bug:
If other people are interested in your package they will discover the
bug report and collaborate to make a package.
You said you cannot build a package, well, Debian is 100% open and
transparent, our full packaging documentation is online:
and various references are at the bottom
You don't have to be a Debian Developer, anybody on the Internet can
register with  and upload a package they created:

@_date: 2016-04-26 17:31:56
@_author: Daniel Pocock 
@_subject: making a Debian Live CD for managing GnuPG master key and 
Can you please tell me what you mean when you say "It doesn't seem
reasonable to me"?
Alternatively, what would be reasonable?

@_date: 2016-04-27 14:58:40
@_author: Daniel Pocock 
@_subject: making a Debian Live CD for managing GnuPG master key and 
Back to the original topic then, does anybody else have any feedback on
the questions I raised?
- can we call all the necessary GnuPG commands[1] from a script without
the user interacting directly with GnuPG, using "--batch" / unattanded
operation?  The sequence of commands involved would be similar to this
- what would be the preferred way for the GUI to obtain and keep the
master key passphrase without prompting the user to re-enter it for
every operation?
- would anybody else like to suggest improvements to the workflow?

@_date: 2016-04-27 22:22:51
@_author: Daniel Pocock 
@_subject: making a Debian Live CD for managing GnuPG master key and 
Debian jessie (stable) has 2.0
2.1.x is in testing and could potentially go to backports if it is
necessary to use it.
Thanks for pointing that out, removed from the wiki
You are very welcome to sign up for a wiki account too if you would like
to tweak it directly
So far there has been discussion about using text-based UIs such as
whiptail (shell scripting) or Urwid (Python)
Can anybody point me to an example of using pinentry with either of
those?  Or will it just work on the basic black and white console?
paperkey is already listed in the wiki and printing is mentioned, it
should have been in the workflow too, now it is added there.
This was raised on another list.  I would potentially start with OpenPGP
cards and then anybody keen on PKCS could add support for that later.
Some people actually want shorter expiry, every 1 - 3 months, although I
am not advocating that so far.
One goal of making this simple with a Live CD is that people can
regularly boot into it and extend their expiry without having to think
about the commands to execute.
Did this have all the necessary things (GnuPG 2.x, paperkey, smartcard
support) in the image?
Thanks for sharing your own experience with this.  I hope that this
effort will evolve to capture the best bits of everybody's experience.

@_date: 2016-06-11 17:37:01
@_author: Daniel Pocock 
@_subject: storing private key on multiple SD cards / SD card RAID 
Has anybody seen any MicroSD card readers that take multiple cards for
use with btrfs, md RAID or other software RAID/replication solutions?
I listed a few here:
This would be useful for storing private keys offline

@_date: 2016-05-03 14:04:21
@_author: Daniel Pocock 
@_subject: Reiner SCT cyberJack Secoder 2 / PIN pad support? 
I've got this device with a built-in PIN pad:
Reiner SCT cyberJack Secoder 2 / PIN pad support?
$ lsusb -v
  idVendor           0x0c4b Reiner SCT Kartensysteme GmbH
  idProduct          0x0400
$ opensc-tool -l
# Detected readers (pcsc)
Nr.  Card  Features  Name
0    No    PIN pad   REINER SCT cyberJack ecom_a (7555830073) 00 00
When I try to use it, I am always prompted for the PIN on my PC
I found some support for Reiner SCT and Cyberjack with different product
ID in ccid-driver.c:
$ egrep 'REINER|CYBER' scd/ccid-driver.c
  VENDOR_REINER = 0x0c4b,
 CYBERJACK_GO    0x0504
although CYBERJACK_GO doesn't appear to be used anywhere else in there.
I've also got a reader from another manufacturer, it also has a PIN pad
and that other reader works fine using the exact same sequence of
commands, e.g.
gpg2 --card-edit
lang en
I'm using gnupg2 packages on Debian jessie, version 2.0.26-6
I came across this blog:
and it suggests that there are some older Reiner SCT readers that will
never be supported because they use pcscd and don't support CCID
I looked at scd.log and it appears that CCID is not supported for this
2016-05-03 13:46:47 scdaemon[20977] DBG: ccid-driver: failed to open
`/dev/cmx0': No such file or directory
2016-05-03 13:46:47 scdaemon[20977] DBG: ccid-driver: failed to open
`/dev/cmx1': No such file or directory
2016-05-03 13:46:47 scdaemon[20977] DBG: ccid-driver: no CCID reader
with number 0
Does this mean this reader will definitely never work with GnuPG?
Is it possible the reader will work with OpenSC or something else on Linux?
Can anybody comment on any of the readers that people should buy if they
want a PIN pad?
Could GnuPG provide an easier way for people to diagnose whether their
reader is supported without having to check logs?

@_date: 2016-05-03 15:04:15
@_author: Daniel Pocock 
@_subject: managing OpenPGP cards in batch mode? 
I tried this with GnuPG 2.0.26 on Debian:
$ gpg2 --card-edit --batch
gpg: can't do this in batch mode
Is this supported in newer versions or can it be done with GPGME?
In particular, I would like the user to be able to do things like:
- set PINs
- set language
- set name
- set URL

@_date: 2016-05-03 20:20:14
@_author: Daniel Pocock 
@_subject: managing OpenPGP cards in batch mode? 
Thanks for this feedback
This is a list of all the things that I need to batch/manage from the
whiptail UI:
gen-key (and get back the key ID)
  - GnuPG 2.1 has --quick-adduid
adding more subkeys (addkey)
  "--gen-key --batch" only creates one subkey
card-edit (for setting PIN, etc)
The method you propose appears to be dependent on a particular GnuPG
version / menu strings.  As it will be on a Live CD we could live with
that temporarily because it will be immutable and users won't mix and
match the script with different GnuPG versions.  In the long term it
would be nice to do all those things through batch mode or an API though.

@_date: 2016-05-04 12:22:44
@_author: Daniel Pocock 
@_subject: managing OpenPGP cards in batch mode? 
I already raised the topic of using 2.1, there is some feedback about it
in the bug tracker, especially about the file format issues:
Given the Live CD is a clean room, isolated, will the file format
compatibility issues will be relevant?  People with interact with other
systems by copying keys to be signed onto a flash drive and copy the
signed keys back into the other system later.  The other system they use
may be running 1.4.x or 2.0.x

@_date: 2016-05-05 16:02:01
@_author: Daniel Pocock 
@_subject: managing OpenPGP cards in batch mode? 
Oddly enough, making rules like that is technically restricting people's
freedom to communicate.  Restricting freedom to promote freedom is a
dangerous game.
There will always be people who are new to the community and don't
appreciate the issues with Github (if you'll excuse the pun), I'm sure
we can help explain in a friendly way without needing to resort to rules
like these.  If the same person repeatedly insists that Github is better
than Gitlab, for example, that would be spamming.

@_date: 2016-10-11 07:41:28
@_author: Daniel Pocock 
@_subject: making a Debian Live CD for managing GnuPG master key and 
This can now be used, command line only for the moment, as described in
my blog[1] about it
If anybody wants to help take this further please join the list[2] I set
up for it
1. 2.

@_date: 2016-10-14 13:31:13
@_author: Daniel Pocock 
@_subject: mentors needed for the PGP Clean Room project in Outreachy/GSoC 
Hi all,
I've advertised[1] the PGP Clean Room in the current round of Outreachy
and it will probably be promoted in GSoC 2017 too.
We already have a couple of applicants interested in working on it,
their details are in the pki-clean-room list archive[2]
Would anybody from the GnuPG community be interested in collaborating as
a co-mentor on this project?  If so, please feel free to email me and/or
subscribe to the pki-clean-room mailing list[3].
1. 3.

@_date: 2016-10-18 09:51:20
@_author: Daniel Pocock 
@_subject: reviewing wiki / shortlist PIN-pad readers 
I was looking at this page:
Are any of these more outstanding than the others, or it doesn't matter
which one somebody chooses?
Could anybody comment on which of those are easily available in small
quantities for developers, or suppliers who are cost effective for small

@_date: 2016-10-18 12:31:52
@_author: Daniel Pocock 
@_subject: reviewing wiki / shortlist PIN-pad readers 
Of those readers with PIN-pads on the wiki shortlist[1], which of them
are TPDU readers, or all of them?
I thought that if the PIN is entered in the PIN-pad, it is never sent
over the USB connection?
Isn't it more a case of choosing the lesser evil:
- a PIN-pad reader with some proprietary firmware
- the possibility that the user's OS has been compromised or that
somebody fit a keystroke logger to their keyboard
There is no such thing as perfect security and I wasn't claiming that a
PIN-pad implies perfection.
1.

@_date: 2016-10-20 09:49:20
@_author: Daniel Pocock 
@_subject: smartcard reader 
Thanks for helping eliminate some of those from the list, is anybody
able to update the wiki?
Are there any new options that weren't listed already?
I also added another blog about choosing hardware today:

@_date: 2016-09-28 10:07:49
@_author: Daniel Pocock 
@_subject: short list of recommended card readers? 
Can anybody make recommendations for a short list of card readers,
preferably with PIN pads?
I've got the SPR532[1] and found it works fine but it is no longer
listed on the vendor's web site[2], I've previously tested Reiner SCT
cyberJack Secoder 2 and found it didn't[3] work.  I'm looking at what to
recommend for other people trying the clean room live DVD[4]
This list appears to suggest choosing one of the 6 readers that support
variable length PIN, although the first on the list is the SPR532 (no
longer in production) so it is not clear if this is current:
Is that a good list to refer people to, or can anybody suggest changes?
I came across this list:
Is that considered up-to-date?  Some of the readers appear quite old
now, should somebody starting today buy one of those or something newer?
Debian has a list of card readers that appear to be supported by
drivers, but it is quite long and doesn't really make any recommendations:
The FSFE guide doesn't give any recommendation about choosing a reader,
although it does emphasize the use of readers with PIN pad:
PC/SC Lite has a list, it is also rather long though:
3. 4.

@_date: 2017-06-01 08:06:01
@_author: Daniel Pocock 
@_subject: PGP for official documents / eIDAS and ZertES 
Are there any basic examples of using XML-sig with GnuPG for signing and
Are there any specific attributes that need to be included in a key used
for eIDAS?  E.g. does the legislation expect the photo or even something
like home address or date of birth, or just the name and email address
is sufficient?
There are a couple of scenarios:
- for submitting documents to national authorities, some types of
submission (e.g. a tax return without any refund due) are a one-way
process.  The person submitting the document can assert they submitted
it in compliance with the law and it is then a problem for the national
authority to make sure their IT systems are reading valid PGP
signatures.  We will see some of them start advertising vacancies for
consultants with PGP expertise at the point people start submitting
PGP-signed documents.
- for business-to-business or consumer-to-business transactions, if a
business is willing to accept orders signed with PGP, they are making
life a lot easier for their customers.  The money the customer doesn't
have to waste on something like SuissID is money the customer can spend
with the business in question.
Another aspect of this topic: if at least one valid solution exists
(e.g. using XML-sig), then consultants specializing in PGP could tell
their customers that they offer a competitive solution compliant with
eIDAS and ZertES.

@_date: 2017-05-30 08:05:07
@_author: Daniel Pocock 
@_subject: PGP for official documents / eIDAS and ZertES 
Hi all,
Can PGP / GnuPG be used in a way that makes signatures compliant with
the European eIDAS[1] or Switzerland's ZertES[2]?
Do those standards explicitly require X.509 based solutions?  Or could a
certificate authority sign people's PGP keys and their PGP key could
then be used for signing official documents?
Does anybody know of certificate authorities who are willing to sign PGP
keys or has anybody ever looked into making that happen?
1. 2.

@_date: 2017-05-31 12:18:17
@_author: Daniel Pocock 
@_subject: PGP for official documents / eIDAS and ZertES 
Hi Stefan,
Thanks for sharing these.  Unfortunately my German skills are not great,
could you make any comment about those companies?
In particular,
- does a signature from either of these comply with eIDAS (and therefore
- what effort is required to get the signature (e.g. somebody must come
to Germany?)

@_date: 2017-05-31 15:14:19
@_author: Daniel Pocock 
@_subject: PGP for official documents / eIDAS and ZertES 
Are the CMS, PDF or XML standards flexible enough that a PGP signature
could be used within any of them and thereby satisfy the legislation?
Or could any of those standards potentially be amended/extended to allow
use of PGP signatures?
Thanks for the feedback about that.  Are all users likely to depend on
all of those things, or is it possible that a PGP signature would be
sufficient in some use cases?
In Switzerland, a number of state organizations are now accepting
digital signatures and the Swiss Post is promoting a ZertES/eIDAS
compliant solution, SuisseID.  However, the price[1] is quite expensive
and even people who know nothing about PKI look at it and think it is a
rip-off (Deutsch: ein teurer Flop[2]) and start looking for
alternatives.  Many organizations are afraid to fully depend on it,
especially when dealing with consumers.
It would be good to see PGP-based solutions grabbing market share before
things like SuisseID eventually gain traction.
Does eIDAS require people to obtain their smart card or certificate in
the country where they reside?  Or will they potentially be able to shop
around, e.g. a Swiss person would be able to go to a German or French
post office and get a cheaper alternative?
1.
