
@_date: 2017-09-06 10:07:01
@_author: shaarang tyagi 
@_subject: How to encrypt using public certificate\key 
I have a situation where I need to use GnuPG from command line and encrypt
a file using a public certificate or PEM public key, please note that I
will not have the private key at this point and encryption needs to be done
only using public key.
Let me know if this is possible or not.
Best Regards,

@_date: 2017-09-06 19:43:08
@_author: shaarang tyagi 
@_subject: How to encrypt using public certificate\key 
Hello Peter,
I am talking about OpenPGP, i want to encrypt a file that follows openpgp
standard so but when i tried with the windows version of Gnupg , i was
getting an error "configuration not correct" (the error was more or less
similar) .
I was encrypting by selecting a certificate which i had imported , i had
also imported its root ca, so certificate chain was fully there but
encryption failed.
Also my certificate does not show up in "openpgp certificates" list , so i
am wondering that maybe the problem is that there is some specific "type"
of certificate is required, although my certificate has "file encryption"
present in its type!
Best Regards,
Show quoted text

@_date: 2017-09-06 20:25:30
@_author: shaarang tyagi 
@_subject: How to encrypt using public certificate\key 
Hello Peter,
Thanks a lot to you for clarifying this in a paragraph otherwise i would
have to read a whole lot of things to understand that i am trying to
connect 2 totally differet things!
I will go through the pdf and may have more question(s).
Thanks again!
Hello Shaarang,
"Root CA", "certificate chain" and your earlier "PEM public key" tell me
you are using certificates from the Cryptographic Message Syntax
ecosystem (to which S/MIME belongs also). These are not OpenPGP
certificates/public keys, and it is simply impossible to encrypt an
OpenPGP message to them. You will need to ask your peer for their
OpenPGP certificate (also called "public key")  before you can send them
an OpenPGP encrypted message.
They are two completely separate and incompatible ecosystems. It just so
happens that GnuPG does have some support for CMS as well, through the
gpgsm binary.
More about starting with OpenPGP is in The GNU Privacy Handbook[1]. That
guide is pretty outdated, though, so don't take its word for gospel.
[1] I use the GNU Privacy Guard (GnuPG) in combination with Enigmail.
You can send me encrypted mail if you want some privacy.
My key is available at

@_date: 2017-09-07 16:28:16
@_author: shaarang tyagi 
@_subject: How to encrypt using public certificate\key 
Hello Peter,
I am trying to understand the encryption process and the all the input that
is required to perform encryption.
So according to this RFC, section 2.1:
There can be 2 sources for encryption key, either a session key(generated
randomly) or a shared pass phrase (key is derived from this phrase) ?
So there is a command i found somewhere , to use with command line GnuPG,
to do encryption:
gpg -e -u "Sender User Name" -r "Receiver User Name" somefile
Which method does this command uses exactly?
It does message encryption with a given username's certificate's pub
key?(Is this a third method which is not mentioned in that RFC ) ?
Also, Where can i find all the commands for all the possibilities using
different key sources?
Best Regards,
On Wed, Sep 6, 2017 at 8:25 PM, shaarang tyagi
