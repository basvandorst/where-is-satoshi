
@_date: 2020-10-21 23:52:08
@_author: =?utf-8?Q?Ludovic_Court=C3=A8s?= 
@_subject: Dealing with duplicate keys 
For some reason (perhaps a bug in a previous version of GnuPG I used
long ago?), my public key ring had come to contain my own public key
twice, with the same fingerprint and all.
Consequently, ?gpg --list-keys? would show it twice and ?gpg
--list-secret-keys? as well.  Even ?gpg --export-secret-key? would
export it twice (two secret key packets).
I didn?t notice until I upgraded to Emacs 27.1, where epg bails out if
?--list-secret-keys? returns more than one key.
To recover from it, I deleted my public key with ?--delete-key? twice,
?--delete-secret-key? once for the corresponding secret key, and then
re-imported both the public key and the secret key, which I had
previously exported.  Now everything is back to normal.
I?m not sure what could be done in gpg itself, but I thought I?d share
my experience in case that rings a bell or there?s something obvious I

@_date: 2020-10-23 14:25:43
@_author: =?utf-8?Q?Ludovic_Court=C3=A8s?= 
@_subject: Dealing with duplicate keys 
Hi Werner,
Werner Koch  skribis:
I?ve been carrying this keyring for years, so it could be that there was
once a bug that led to this inconsistency.
Interesting!  Good news: I don?t have other duplicate keys.
Yeah.  EPG seems to be actively maintained though; this recent change I
mentioned is what led me to discover this issue.
Thanks for your feedback!
