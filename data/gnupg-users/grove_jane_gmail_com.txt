
@_date: 2007-04-14 22:23:24
@_author: jane grove 
@_subject: Batch Mode and decrypt 
I am trying to use the GnuPG command "decrypt" in batch mode (i.e. in a script).
When I use the option "--batch", I don't have a way to enter the user
id or passphrase.
In batch mode, the gpg command cannot be interactive.
I tried "gpg --batch --decrypt filename userid", but it didn't work.
In batch mode, how do I use the gpg command to decrypt a file with a userid?

@_date: 2007-04-17 10:27:35
@_author: jane grove 
@_subject: Batch Mode and decrypt 
Thanks, David.  I still have a question though:
In my script, I used the command
"gpg --batch --passphrase-fd 0 -d [INPUTFILE]"
to decrypt my "INPUTFILE".  When I run the script, it pauses and wait
for the passphrase.  If I enter the passphrase, the script goes
through well.  If I hit enter without the right passphrase, the script
complains about not having the right passphrase.
How can I run this script in silent mode, feed the passphrase to it
automatically?  I am trying not to interact with the script during its
Thanks - Jane

@_date: 2007-04-19 10:33:49
@_author: jane grove 
@_subject: Batch Mode and decrypt 
Thank you guys.  Both the "cat pipe" way and the "<" way work well.
David, yes you made a very good point of not hard-coding the
passphrase or its file name.  In my current script, I have a variable
to hold the passphrase file name.  The actual file name is passed in
as a parameter when I call the script from another command outside the
script.  If an attacker opens the current script, s/he won't see the
actual passphrase or its file name, s/he will only see the variable
name.  The passphrase is stored in a separate place.
I am thinking of better ways to secure the passphrase and automate the
jobs at the same time.  I appreciate everyone's input.

@_date: 2007-05-11 20:38:23
@_author: jane grove 
@_subject: Encrypt with key ID 
What is the GPG command to use a recipient's key ID to encrypt files?
I tried the following command but it didn't work:
gpg --batch -ea filename keyid

@_date: 2007-05-14 10:07:39
@_author: jane grove 
@_subject: Encrypt with key ID 
Thanks, John.
However, when I use the command "gpg --batch -ea -r keyid filename", I got
an "encryption failed: unusable public key" error message.
Interestingly, when I use the command without batch mode like "gpg -ea
-r keyid filename", I'm able to encrypt the file.  So the batch mode
is having problems.
How can I encrypt the file using recipient public keyid correctly in
batch mode?

@_date: 2007-05-14 12:51:21
@_author: jane grove 
@_subject: Encrypt in Batch Mode with Key ID 
I tried to use the command:
gpg --batch -ea -r keyid filename
to encrypt a file in batch mode with a recipient public key ID. I got
an "encryption failed: unusable public key" error message.
Interestingly, when I use the command without batch mode like "gpg -ea
-r keyid filename", I'm able to encrypt the file.  So the batch mode
is having problems.
How can I encrypt the file using recipient public keyid correctly in
batch mode?
