
@_date: 2007-12-19 12:12:06
@_author: Adrian Thurston 
@_subject: using pgp for web-based social networking 
I am interested in using PGP to implement web-based distributed social
networking. I used to use facebook and I found it very useful, however I
disagree with dumping my personal information into a central database.
So I set out to make something of my own. I have defined a protocol and
described it here:
In a sense it is a thin wrapper around PGP, except keys are managed on
behalf of the user and URIs go into key ids, not names. The advantage of
this is that it is easy to use. If anyone here is interested in social
networking I'd love to get some feedback.
 Adrian

@_date: 2007-12-20 15:20:58
@_author: Adrian Thurston 
@_subject: using pgp for web-based social networking 
Sorry I didn't get the subscribe confirmation until today and had some
doubt as to whether or not my message got through. Then later I changed
the URL. Anyways, it is now found here:
 Adrian

@_date: 2008-02-05 12:02:48
@_author: Adrian Thurston 
@_subject: can you see any problem with this? 
I'd like to serve messages that have been encrypted to a large number of
people, however I don't want to reveal the list of recipients so I'm
going to use --throw-keys.
But speed at the decryption end is a concern, so I thought I would break
up an encrypted message into packets and when a client requests it serve
up only the packet that corresponds to the session key encrypted to
them, then the content packet. I haven't tried it yet, but it seems as
though it should work. I'd like to know if there is any non-obvious
reason why it is a bad idea.
 Adrian

@_date: 2008-02-05 13:10:02
@_author: Adrian Thurston 
@_subject: can you see any problem with this? 
My system can be described as encrypted news feeds.
I considered that approach and I like it because it's doesn't require
taking apart PGP messages. The problem is that in my system I need the
ability to revoke access to any single user.
With a session key unique to each message I can just re-encrypt and drop
a user. If the session key comes separately I need to ensure that the
clients always have the current symmetric key. The easiest way to do
that is to just send it with each message. But then I've just got ...
well you see :)

@_date: 2008-02-05 13:28:08
@_author: Adrian Thurston 
@_subject: can you see any problem with this? 
My application is here:
I'm encrypting messages and making them publicly available over static
HTTP. Anyone who knows the right URL can grab a message and I don't want
recipients to be identifiable.
Another issue is that the number of recipients and the size of messages
may both get very large. A single encrypted message is therefore very
 Adrian

@_date: 2008-02-05 19:24:15
@_author: =?utf-8?B?QWRyaWFuIFRodXJzdG9u?= 
@_subject: can you see any problem with this? 
Yes I think I can live with those characteristics of the system. Thanks for your analysis!
-Adrian  -----Original Message-----
In that case, doing something like this may work for you:
gpg -o output.gpg -R recipient1 -R recipient2 -e thefile.txt
gpgsplit output.gpg
for i in *.pk_enc
  cat $i *.encrypted > `echo $i | sed -e 's/\-001\.pk_enc//'`
You'll end up with a directory full of files, one per recipient, and
each a valid OpenPGP message, but all of them protected via
throw-keyid.  I'll leave it as an exercise for the reader to determine
which file goes with which recipient ;)
  If Alice and Baker both get a message, and Alice knows which file
  Baker got, Alice can decrypt Baker's message using her own session
  key, thus revealing to Alice that Baker got the same message that
  Alice did.
  The "non-identifiable" feature with -R (aka throw-keyid) is only as
  good as throw-keyid is, which is pretty good but not perfect.
You may or may not care about these caveats.
