
@_date: 2002-02-01 12:43:01
@_author: Andre Flitsch 
@_subject: how to execute from the web 
I have a problem getting gnupg to execute from the web. I have looked in the
archives of this list and tried some of the methods that have been
suggested. As yet i have not been able to make them work.
I am using PHP to trigger the encryption of an email. This is the command
that i am issuing:
'$msg' |
$publicKey --homedir /home/kinetec/.gnupg -o $crypted
When i execute the command from the prompt it works, but in the PHP script
the output file is not generated. I have asked the support staff from the
host, and they have given me this answer:
"The program is already executable by nobody, and it is executing... the
problem is that it works based on the username that is calling it. It still
has the ability to be run from the web."
I have asked for an explanation of the answer but have recieved no response.
I would appreciate it if anyone can shed some light on the part of the
answer that has to do with the username. Is there something missing from my
command that will make the encryption happen? Any help that helps me to get
the encryption working will be thankfully recieved.

@_date: 2002-02-08 17:23:01
@_author: Andre Flitsch 
@_subject: executing from the web 
I need to send an encrypted email using gpg, after a user has completed a
form. I have found several php code solutions to this problem but all of
them have seem to give the same error. When i run the commands with
an --output option the file is never created. I am really confused by this.
The temp dir that the file is being written to is writable by the world, but
the temp encoded file is never generated. Here is an example of the command
that i execute:
'/tmp/9343c2ddab82b7288eaf51afea671f4f.gpg' -r
'0x0F5B3D6F' --no-secmem-warning --default-key '0x055A5279' 2>&1
can anyone suggest why this may not work, and what i can do to get it to
thanks in advance

@_date: 2002-02-12 10:32:07
@_author: Andre Flitsch 
@_subject: executing from the web 
The problem was in fact that the homedir (and the files in it) needed to be
writeable by the world. As soon as i made that change, then the program
thanks everyone for your help/suggestions.

@_date: 2002-02-26 00:20:02
@_author: Andre Flitsch 
@_subject: Using gpg from PHP system call 
Hi Tom
You will be able to execute gnupg via telnet as you are authenticated as
part of a group with permission to  execute gnupg. When executing from the
web server the script runs as as nobody or Apache - a group with no
permissions. You have to set the permissions of the files in the gnupg home
directory (/path/to/home/.gnupg) to be executable by the world. I had the
same problem with a php script. When i chmod'd the files to 777 gnupg was
able to execute and create the encoded file.
I hope that helps.
