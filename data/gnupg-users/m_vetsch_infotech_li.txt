
@_date: 2019-01-24 10:45:47
@_author: Markus Vetsch 
@_subject: Calling GnuPG ME library from managed .NET 
we have integrated GnuPG via command line interface into our Windows client & server C application.
We are aware that the recommended way to interact with GnuPG is the library GnuPG ME.
That's why we would like to switch for better stability and robustness our C code base to the usage of GnuPG ME API, as we are facing several disturbing issues in a production environment caused by the command line interface calls and the fact that we don't have full control of the called processes.
Our crypto system requires support for both OpenPGP and CMS (S/MIME).
The GnuPG version in use on our side is 2.1.1.18.
Our research in this topic has detected that there already exists an OpenSource C project wrapping the native C calls from libgpgme-xx.dll.
However, the development state of this project indicates that the native calls (method signatures and corresponding data structres) target version 1.1.6 of the libgpgme-xx.dll.
For us as non C experts, it looks like an awful lot of work to extend this library for our purpose to match a newer target version of GnuPG ME.
Our prerequisite is, that our software is developed for commercial use and thus our time/budget resources are strictly limited.
Therefore, we have now the following questions:
1. Are you aware of any other commercial / OpenSource projects in .NET that could support us?
2. Which version of libgpgme-xx.dll is compatible to version 2.1.1.18 of GnuPG tool suite? Is this version 1.9.0 or version 1.7.0 according to the release news on page 3. What are the preqrequisites (paths) to build C++ sources of GnuPG ME in Visual Studio for Windows 32 bit platforms? How do we manage to build the sources otherwise on command line? We appreciate any feedback in this matter.
Best regards,
---------------------------------------------- Unsere Produkte: TimeSafe Leistungserfassung (Leistungserfassung und Fakturierung f?r Dienstleister)
TimeSafe Zeiterfassung (Pr?senzzeiterfassung mit biometrischer Identifikation)
Weitere Infos unter: Oder auf Facebook

@_date: 2019-01-24 13:58:32
@_author: Markus Vetsch 
@_subject: AW: Calling GnuPG ME library from managed .NET 
Hi Jeff,
I really appreciate your immediate feedback.
I was prepared to an answer like that and it confirms my perception of the challenge to integrate GnuPG, as my reapeated research in this area didn't look too promising.
I'm not too much disappointed, though. ;-) In this respect your answer was already quite helpful.
We already use the BouncyCastle API in other projects, but are for a certain reason a bit cautious to just replace GnuPG in this specific project due to certain prerequisites beyond our area of influence.
I'm pretty sure that BouncyCastle supports all the stuff we'd actually require (sign, encrypt, verify, decrypt files) based on asymmetric algorithms.
The reason, why we're so keen on GnuPG is that a European Union project for multi-national secure file exchange prescribes GnuPG as de facto solution to use by all involved parties.
The only setup that is officially being supported by the central project organization is GnuPG, but the technical support is quite poor though ... Since we are not crypto specialists and neither is the central organisation things get complicated. We came across to build up a software system to get rid of all the manual processing via shell scripts and so on.
The crypto systems OpenPGP and S/MIME are both in use.
The keystores in use are the GnuPG proprietary ones, whereas the keys / certificates in use could of course be migrated to a format such that they're stored in the OS certificate store.
Basically our command line interface implementation works more or less, but there are some drawbacks which lead to continuous support that imho is not necessary to this extent.
The calls of gpg-agent, gpg, gpgsm ... on command line are a huge black box we can not fully control.
Unfortunately, this is only part of the functionality we need.
We keep on researching. Thx anyway for your support.
