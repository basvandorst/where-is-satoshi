
@_date: 2005-08-26 10:48:40
@_author: Klaus Singvogel 
@_subject: [Sks-devel] Re: zero-length MPIs (was: Re: mpi error with 
I don't see those files in my copy of gnupg-1.4.2. where your patch
applies. Therefore I looked myself closer at the code, as this problem
araises unter "gpg --trustdb" at some of our users.
I noticed that these messages are coming from
mpi/mpicoder.c:mpi_read() and had a closer look at it. :-)
The second if check, for "goto overflow;" seems a bit doubtful (maybe
a copy&paste without to much thinking whats coming next ? :-) As
there are no mandatory reads from the iobuf coming, only optional
reads, I changed the code to "if (++nread > nmax)" and the problem
was gone (see attached patch).
Please confirm me, that my thinking is correct here.
Thanks in advance.

@_date: 2005-09-05 10:51:17
@_author: Klaus Singvogel 
@_subject: [Sks-devel] Re: zero-length MPIs 
-----BEGIN PGP SIGNED MESSAGE-----
I can confirm too that the patch of David Shaw is working fine.
