
@_date: 2015-12-21 18:28:47
@_author: perillamint 
@_subject: gpgkey2ssh and Ed25519 key 
I'm having trouble setting up ssh auth using Ed25519 key.
I tries to convert it using gpgkey2ssh and it returns
Unsupported algorithm: 22
Is there any version of gpgkey2ssh or other tool which allows converting
ed25519 pubkey for ssh use?

@_date: 2015-11-29 07:47:41
@_author: perillamint 
@_subject: [PATCH] Fix bug in GnuK PIN pad support. 
I found a bug (maybe a typo?) while playing with GnuK PIN pad support.
In openpgp.c L1410, it fills with bConfirmPIN with apdu.cmd_apdu_data[5].
It does not work when I gave it bPinSupport = 3 - which allows PIN
modification via PIN pad.
While I searching for solution, I found usb-icc.c mentions bConfirmPIN
is located in cmd_apdu_data[0]. I fixed openpgp.c to use [0] and it
seems to work well.
I attached patch for this.

@_date: 2015-09-11 10:41:44
@_author: perillamint 
@_subject: Gnupg 2.1.7 can't decrypt using smartcard key. 
Hi all,
I'm currently using GnuPg 2.1.7 and GnuK with FST-01. It workd some ago,
but suddenly, When I trying to decrypt content using key on card, it says:
gpg: public key decryption failed: Invalid ID
gpg: decryption failed: No secret key
and refuese to decrypt.
However, when I encrypt and decrypt using my other keypair which is not
on smartcard, It successfully decrypts content successfully.
Additionally, My smartcard does authentication and signing feature
despite decryption feature is not working.
Does anyone have any idea why my decryption feature is broken?
Best regards, perillamint.

@_date: 2015-09-12 21:03:02
@_author: perillamint 
@_subject: Gnupg 2.1.7 can't decrypt using smartcard key. 
Here is my output of gpg --card-status.
Application ID ...: D276000124010200F51776EB5FFA0000
Version ..........: 2.0
Manufacturer .....: FSIJ
Serial number ....: 76EB5FFA
Name of cardholder: perillamint
Language prefs ...: en
Sex ..............: unspecified
URL of public key : [not set]
Login data .......: [not set]
Signature PIN ....: forced
Key attributes ...: rsa4096 rsa4096 rsa4096
Max. PIN lengths .: 127 127 127
PIN retry counter : 5 5 5
Signature counter : 0
Signature key ....: 09CD 5C9E 15E4 F7CA 123A  8A25 5840 050B 37AA 8068
      created ....: 2015-09-10 18:40:00
Encryption key....: 09CD 5C9E 15E4 F7CA 123A  8A25 5840 050B 37AA 8068
      created ....: 2015-09-10 18:40:00
Authentication key: 09CD 5C9E 15E4 F7CA 123A  8A25 5840 050B 37AA 8068
      created ....: 2015-09-10 18:40:00
General key info..: pub  rsa4096/37AA8068 2015-09-10 perillamint
sec>  rsa4096/37AA8068  created: 2015-09-10  expires: 2017-09-09
                        card-no: F517 76EB5FFA

@_date: 2015-09-14 01:30:42
@_author: perillamint 
@_subject: Gnupg 2.1.7 can't decrypt using smartcard key. 
Yes. I generated single key with Signing Certification Encryption
Authorization ablity.
If it is not supported by GnuPG, Re-generating key with Signing
Certification Encryption key (It's GnuPG default. I think..) and adding
subkey with Authorization (for SSH auth) can be a solution?

@_date: 2015-09-15 01:43:48
@_author: perillamint 
@_subject: Gnupg 2.1.7 can't decrypt using smartcard key. 
I tried to generate key using default setting (RSA and RSA) and added
another subkey for authorization purpose. After moving that key to card,
It encrypt/decrypt, and signs well. Thanks!
p.s. GnuPG 2.1.7 seems to have a problem with 4096bit RSA key with
keytocard command. I failed to move my new key to card with 2.1.7 with
GPG complaining about Bad secret key but when I tried with 2.1.8, it
succeeded to move key to card.
