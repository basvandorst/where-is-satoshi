
@_date: 2009-08-04 22:01:20
@_author: =?UTF-8?B?SsOpcsO0bWU=?= Blanc 
@_subject: Signing with a key on a smart card 
Hello, I'm currently toying with an OpenPGP smart card, but I meet some
difficulties getting how this works. I have the Smart Card properly set up (at least I do think so ;-)) : [gemini at Gemini ~]$ gpg --card-status
gpg: detected reader `Gemplus GemPC Twin 00 00'
Signature key ....: 5898 DBEA 1139 733B ACFD  7880 E8B6 F7C5 2B20 7AEF
      created ....: 2009-08-02 11:34:17
Encryption key....: A52C FAAC D39F 252D A2C4  0149 2B0F 7310 7C9E D800
      created ....: 2009-08-02 11:37:25
Authentication key: D179 47D8 3B01 87A3 3C86  1AB0 2E8D 6DE6 F8D5 6EFC
      created ....: 2009-08-04 19:22:04
In the keyring, I have 3 private master keys, for handling 3 different
identities. In the gpg.conf, the default key is the master key that generated the
subkeys that are on the smart card.
I can cipher and decipher using the keys on the smart card. However,
when I try to sign a file, then I have the following : [gemini at Gemini ~]$ gpg --sign -u 2B207AEF test.txt
Le fichier `test.txt.gpg' existe. R??crire par-dessus ? (o/N)
gpg: detected reader `Gemplus GemPC Twin 00 00'
gpg: la signature a ?chou?: mauvaise cl? secr?te utilis?e
gpg: signing failed: mauvaise cl? secr?te utilis?e
which means => signing failed: wrong secret key used
Signing works with the two other master keys.  As well, using the same
card on another computer works, with an empty gpg keyring but the
public keys related to it.
Does this mean I have no other choice but to remove master keys of that
"identity" in order to be able to use the card with my computer ?
Thanks !

@_date: 2009-09-02 10:55:34
@_author: =?UTF-8?B?SsOpcsO0bWU=?= Blanc 
@_subject: Signing with a key on a smart card 
Hello, anyone that could explain me how gpg chooses which secret key to use or
how I could tell gpg which one to use ? Or maybe a way I can tell gpg not to use the smart card while on a
certain computer.
I still don't get why it doesn't manage to use the proper secret key
and google is definitely not my friend.
Thanks Le mardi 04 ao?t 2009 ? 22:01, J?r?me Blanc
 a ?crit :
