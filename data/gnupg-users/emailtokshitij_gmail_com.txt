
@_date: 2010-07-29 20:25:59
@_author: kshitij shrivastava 
@_subject: gpg process gets stalled and does not release lock from the file 
I'm using GPG version 1.6.3 to encrypt decrypt some XML files kept on a
windows server in a particular folder . There are around 10 to 50 files in
that folder.
I create a batch file with the decrypt / encrypt commands for all these
files and then execute the batch file.
PGP process starts and decrypts/encrypts some of the files successfully but
it gets stuck after a while with any random file. The gpg.exe process simply
doesn't release the lock from that file and as a result the whole batch file
gets hung at that stage only.
As an example, if my batch file has following commands:
gpg --yes -eq -r "pgp key " -o test1.pgp test1.xml
del test1.xml
move test1.pgp d:/testFileDir
gpg --yes -eq -r "pgp key " -o test2.pgp test2.xml
del test2.xml
move test2.pgp d:/testFileDir
gpg --yes -eq -r "pgp key " -o test3.pgp test3.xml
del test3.xml
move test3.pgp d:/testFileDir
gpg --yes -eq -r "pgp key " -o test4.pgp test4.xml
del test4.xml
move test4.pgp d:/testFileDir
gpg --yes -eq -r "pgp key " -o test5.pgp test5.xml
del test5.xml
move test5.pgp d:/testFileDir
The process successfully processes first 50% of 60 % of the files and all of
a sudden it gets hung at on of the commands, say - "gpg --yes -eq -r "pgp
key " -o test5.pgp test5.xml".
Though this command is also executed successfully but the lock from file
test5.xml and test5.pgp is never released and the entire process gets stuck.
Any help would be much appreciated, its very critical for one of my
