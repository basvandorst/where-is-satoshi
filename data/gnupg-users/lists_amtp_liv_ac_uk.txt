
@_date: 2003-08-07 21:18:02
@_author: Stewart V. Wright 
@_subject: Digest Mail problems (was Re: Signing headers...) 
Content-Disposition: inline
Ooohhh...  That's thin ice you're walking on there mate.  I'm using
mutt and it does _everything_ right!  ;-)
Seriously though, this is a problem with replying to mailing lists
that one receives in a digest -- all the headers are stripped...
If anyone has a solution I'd love to hear it, this is something I've
been contemplating for a while, and I can't see how to get around it.
It is a major problem with MIME encoded signed messages.  I've hacked
together a script that re-MIME-encodes digest mails that have been
split (using formail) and allows verification of the signatures in 99%
of the cases (I am yet to see a failure, but I can visualise a case
where it would).
Content-Disposition: inline
Signature policy:

@_date: 2003-08-14 15:33:02
@_author: Stewart V. Wright 
@_subject: Deleting signatures question. 
Content-Disposition: inline
Hi All,
I have a question about deleting signatures on public keys...
The WoT means that keys in my pubring.gpg are signed by various
people.  Most of the time I do not have the additional keys to go with
these signatures.
What I want to do is delete the signatures on keys in my pubring.gpg
that I don't have the corresponding public keys for, and leave the
ones that I do have the pubkeys.
I will use an example to explain myself.
I expect that like most people on this list I have (at least one of)
Werner's public keys.  As I use mutt I also have Thomas Roessler's
key.  Thomas has signed Werner's key.  However there is a signature on
Werner's key from (chosen randomly) Robert Joop who I've never come
across, so I've never downloaded his key (I had to look him up on
subkeys.pgp.net for this example)...
What I would like to do is _automatically_ be able to delete the
unknown, "[User id not found]" signatures.
I suspect that short of doing it by hand (and the thought of 600+
signatures in some cases) there is no way directly to do this in
GnuPG.  Is that right?
I don't mind writing a script to do it, but can I delete the signature
of keyId XXX from pubkey YYY from the command line?  Or will I have to
use the '--edit-key' functionality and lose the batch advantage?
 * I know that the next time I refresh my pubring I will get all the
   unwanted signatures back, but if the process is automatic I can
   just re-run the cleaning.
 * This issue does not really have any relevance apart from the space
   that I will save by not having the unnecessary signatures on my
   "quota"ed account.
Content-Disposition: inline
Signature policy:

@_date: 2003-12-04 11:53:37
@_author: Stewart V. Wright 
@_subject: making it easy to find keys 
G'day Atom,   (???)
* Atom 'Smasher'  [031204 01:08]:
My only gripe is people who format their key so that the HTML looks
good in a browser, but so you can't download the src of the page and
import that.  With style sheets, XML and the like you should be able
to have your key in an importable format whilst still having a
pleasant looking page.
Well, I follow Werner's suggestion:
   List:     gnupg-users
   Subject:  [Announce] GnuPG signature key update and X-Request-PGP
   From: wk () gnupg ! org (    Werner Koch)
   Date:     2002-12-23 16:08:38
   ...and use X-Request-PGP.
I agree that there is no hard and fast rules, but a nice consensus of
a few headers that are then made clear in the documentation would be a
Good Thing^TM.  It would make writing scripts/plugins for MUAs easier.
Na?vely you would expect that a grep '^X-.*GPG' or '^X-.*PGP' would be
sufficient, but some people put all sorts of stuff in their headers.
Recently in a single message I've seen:
   X-GPG-Key
   X-GPG-Key-Direct-Link
   X-GPG-Key-Old-Location1
   X-GPG-Key-Old-Location2
   X-GPG-Key-Old-Location3
   X-GPG-Notice
Also for accuracy I like using the term PGP or Open-PGP rather than
GPG.  It's the open standard that we are following -- and it should be
clear to non GPG users that a GPG generated key will work with any
Open-PGP compliant client.
Well that is my $0.02 (more like $5.12 but that is a side issue)...
Nice thread to start BTW.

@_date: 2003-12-05 11:35:13
@_author: Stewart V. Wright 
@_subject: making it easy to find keys 
G'day Anthony,
* Anthony E. Greene  [031205 02:01]:
Why?  If you sign a message the recipient already gets the
KeyID/Fingerprint information.  What do the two extra headers gain
you?  Or at the very least why both KeyID and Fingerprint?

@_date: 2003-06-03 14:45:02
@_author: Stewart V. Wright 
@_subject: Adding new UID problems. 
Content-Disposition: inline
I have just added a new UID to my keys and sent them off to the
keyservers.  The problem is that this new UID (or something I did) has
corrupted one of my keys (but not the other).
My two keys are a signing key (0x682B44D6), and my everyday key
(0xB3334559).  My 0x682B44D6 key is purely a DSA signing key, whilst
the 0xB3334559 key has three sub-keys (two DSA and one ElGamal).
I was using v1.2.1 (*) and switched on a signing policy.  I added the
new UID and cross signed my keys.
When I tried to update my 0xB3334559 key via pgp.mit.edu I get the
following error:
Public Key Server -- Add
Key block added to key server database.
  Primary userid's changed: 1
Your key block contained 5 format errors,
which were treated as if the erroneous elements
hadn't been part of your submission.
The last error was on key 0x0445b8e9:
Key block corrupt: more than one signature on subkey
keyserver.bu.edu doesn't complain if I try to update there, but I do
get errors when importing in the ASCII armor from this server:
gpg: key B3334559: invalid subkey binding
gpg: key B3334559: invalid subkey binding
gpg: key B3334559: public key "Stewart V. Wright " imported
gpg: Total number processed: 1
gpg:               imported: 1
For what it's worth, my gpg.cfg is
keyserver x-hkp://wwwkeys.eu.pgp.net
keyserver-options honor-http-proxy
set-policy-url The strange thing is that the "--armor"ed file that I generate gets
accepted without concern by GnuPG 1.2.1 and 1.2.3-cvs.
Could this problem be a result of the openpgp option?
Is there anything I can do to recover my key, or should I revoke and
start from scratch?
(*) as those of us stuck on RedHat 7.3 systems can't compile the CVS
version as our autoconf, automake and aclocal are too old.  Hint, hint!
Content-Disposition: inline
Signature policy:

@_date: 2003-06-04 18:37:01
@_author: Stewart V. Wright 
@_subject: Adding new UID problems. 
Hash: SHA1
* Werner Koch  [030603 15:52]:
* David Shaw  [030603 17:31]:
I'm still having problems.
I've tried "--recv-keys" from these (bar ensemble02 which seems not to
be alive) and ALL of them still give me   gpg: key B3334559: invalid subkey binding
  gpg: key B3334559: invalid subkey binding
I tried resubmitting my key to hkp://keyserver.kjsl.com and then
getting it again still the same problems.
Looking at the output on one of the web interfaces I've noticed the
following binding on my sub keys...
  sub  1024/246383E6 2003-05-14              sig sbind B3334559 2003-05-14 __________ 2005-05-13 []
  sub  1024/35DB7472 2003-05-14              sig sbind B3334559 2003-05-14 __________ 2005-05-13 []
  sig sbind B3334559 2003-05-14 __________ 2005-05-13 []
  sub  2048/A11D9315 2003-05-14              sig sbind B3334559 2003-05-14 __________ 2005-05-13 []
  sig sbind B3334559 2003-05-14 __________ 2005-05-13 []
Surely though this multiple sbind problem should have appeared when I
first created the subkeys (2003-05-14) and not be rearing its head
Signature policy:

@_date: 2003-05-23 09:04:03
@_author: Stewart V. Wright 
@_subject: MDC Confusion 
I am having some confusion with modification detection code (MDC).
I'm using the 1.2.3-cvs version (from the 7th of May) of GnuPG.
I just changed my gpg.conf file and changed from
  no-force-v3-sigs
to   openpgp
Which should make my signatures/encryptions entirely OpenPGP
Unfortunately when I decrypt anything I get the following warning:
  gpg: WARNING: message was not integrity protected
I don't get the warning when I go back to no-force-v3-sigs.
This isn't an issue with my key (AFAIK) as I generated (another) test
key which has the following preferences:
  Command> showpref
  pub  1024D/6DA6A7C3  created: 2003-05-20 expires: never      trust: u/u
  (1). Test Key
       Cipher: AES256, AES192, AES, CAST5, 3DES
       Digest: SHA1, RIPEMD160
       Compression: ZLIB, ZIP, Uncompressed
       Features: MDC
The command I used for my testing was:
  gpg --armor -u 6DA6A7C3 --sign --output msg1.asc --encrypt -r 6DA6A7C3 msg
(i.e. sign and encrypt to self...)
My gpg.conf is
keyserver x-hkp://wwwkeys.eu.pgp.net
keyserver-options honor-http-proxy
set-policy-url Any ideas???

@_date: 2003-11-08 17:10:26
@_author: Stewart V. Wright 
@_subject: list problem 
G'day Carl and Neil,
* Neil Williams  [031108 14:23]:
Mutt understands both (for sending in checking).  :-)  It's a smart little doggy. No plugins needed.
What's the problem with using S/MIME anyway?

@_date: 2003-11-12 22:39:03
@_author: Stewart V. Wright 
@_subject: Mutt and GnuPG 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
G'day Ash,
A couple of thoughts...
* Ash Varma  [031112 21:23]:
That does sounds like a windows problem.  However you said you're
running on GNU/Linux.  Is your mail server modifying messages
somewhere along the line?  Does this message have the ^M's???
"Usually"?  Is this not a consistent problem?  Also Thorsten's
messaage wasn't signed as inline so it shouldn't cause problems...
Checked against my various mutt versions and the only differences are
 > -HOMESPOOL  +USE_SETGID  +USE_DOTLOCK  +DL_STANDALONE                ===                        ===
But I can't see that this would make a difference (not that I have any
idea what DL_STANDALONE actually is!)
My suggestions (if my message comes up with the ^M's) are to :
 1) Send yourself an inlined signed message and see if you are getting
    the ^M problem, then send yourself a signed message from another
    external (i.e. Yahoo) acct and see if your MTA is messing with the
    messages in transit.
 2) Take this question to the mutt list (
 3) Set up your mutt properly so that Mail-Followup-To doesn't include
    you... You get this message on the list, so you don't need it
    twice!  :)
Hope this helps,

@_date: 2003-11-13 11:35:59
@_author: Stewart V. Wright 
@_subject: Mutt and GnuPG 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1
G'day Ash,
* Ash Varma  [031112 23:43]:
I'd put a bet on it.  Go to the GnuPG archive
( and download this
months archive.  You will need to hack it so that the string " at " is
replaced by " and then read it into mutt using the -f flag.  There
are no ^M's at the end of the lines of my last message (I just
checked) so it really does look like it is the message is being
modified by either Yahoo or your fetchmail/SA setup.
On second thoughts I wouldn't bother, this doesn't appear to be either
a mutt or GnuPG issue.
HINT: In your .muttrc add
subscribe gnupg-users

@_date: 2003-10-09 15:55:14
@_author: Stewart V. Wright 
@_subject: Clearsign of HTML-pages 
G'day Vyacheslav,
* Vyacheslav Iutin  [031009 10:44]:
I agree with most of what Ben said (in a different reply), but there
are two scripts that I've used to varying degrees of success...
Have a look at
      To be honest the SANFACE one is the easiest to use and the most
difficult to get to work if you have any desire to do anything other
than 'gpg --clearsign -a'.  For example I have my keys on removable
media (so I need to use --homedir and -u also) and this seems to cause
all sorts of difficulties.  :-/

@_date: 2003-10-10 11:28:39
@_author: Stewart V. Wright 
@_subject: [OT-Seriously!]: Anarchist Politician 
Yeah, I know this is seriously OT, but I couldn't let it go...
G'day Atom,
* Atom 'Smasher'  [031010 06:10]:
From Webster's Revised Unabridged Dictionary (1913)
Anarchist: One who advocates anarchy of aims at the overthrow of civil
           government. Anarchy: Absence of government; the state of society where there is no
         law or supreme power; a state of lawlessness; political
Politician: One devoted to politics.
Politics: The science of government; that part of ethics which has to
          do with the regulation and government of a nation or state,
Aren't they mutually exclusive?
       Anarchist   &&   Politician     (! Government ) && ( Government )
It's a bit of a logical conundrum.
Or are you using some other definitions of anarchist and politician?

@_date: 2004-04-14 13:39:23
@_author: Stewart V. Wright 
@_subject: pgp/mime vs in-line pgp 
G'day Adrian,
* Adrian 'Dagurashibanipal' von Bidder  [040414 12:33]:
It's not even that simple.  I'm on both this list (obviously) and the
GnuCash lists.  What surprises me is that both use Mailman v2.1.4,
I sign my messages the same way on both lists and yet my messages to
the GnuCash list don't seem to be verified in an acceptable way (to
Mutt).  The _signed_ part of the message is verified OK, it is just
that the signed message plus footer returns a failed check.  Where as
on this list everything works fine!
Mutt shows the whole message so there is no problem there, it is
something screwy in the way Mailman is set up (I guess...).

@_date: 2004-04-14 19:31:50
@_author: Stewart V. Wright 
@_subject: pgp/mime vs in-line pgp 
G'day Atom,
* Atom 'Smasher'  [040414 18:09]:
That is a _seriously_ broken tool that you're using.  How are you to
know whether something important (but not signed) is included after a
signed message?  What if someone (who doesn't use GPG) forwarded a
signed message to you and then made comments after the included
message?  Ugh!  I'd try to get your system fixed and use mutt, or some
other working MUA...
I would like someone (*Hint*) to use the '-- ' standard for their
"advertising", oops, sorry, signature.  Try Googling on
sig.etiquette...  :)
(Now I'm off to have another cup of coffee to stop being so grumpy...)

@_date: 2004-04-14 19:42:55
@_author: Stewart V. Wright 
@_subject: pine vs mutt - was: Re: pgp/mime vs in-line pgp 
G'day Atom,
* Atom 'Smasher'  [040414 18:04]:
*Grin*  Mutt is better - before you even look at the freedom issue,
but that is a side issue.
Do you want to take this off-list for a while to see if I can make any
suggestions to help your transition?

@_date: 2004-04-14 20:40:54
@_author: Stewart V. Wright 
@_subject: pgp/mime vs in-line pgp 
G'day Atom,
* Atom 'Smasher'  [040414 19:25]:
I've put a (temporary) screenshot up showing how mutt handles this
with your last message:
  The '[-- END PGP SIGNED MESSAGE --]' is a dead give away!  :-)
Each to their own...  I'm going to let others smack you about for this
You're missing the point.  Say I included the WHOLE of your signed
message and then made some important comments below it - you'd miss
A quick google turned up this...
  RFC 2646 ("The Text/Plain Format Parameter") references the "-- "
  signature separator (with the space) as being a Usenet convention:
  "There is a convention in Usenet news of using '-- ' as the separator
     line between the body and the signature of a message."
  It's not exactly for email, but.........
As a side issue it is just nicer for people to be able to set up their
editor to strip the .sig automatically.
P.S.  You just included that bloody long quote to get on my nerves!!!
      :-P

@_date: 2004-04-27 20:53:11
@_author: Stewart V. Wright 
@_subject: can you deny you sent a signed e-mail? 
G'day Jerry,
* Jerry Windrel  [040427 18:44]:
Really?  How does this differ from a regular (handwritten) signature?
Handwriting experts can be fooled, so even in the situation where you
get an "expert" opinion (i.e. court) a signature is only as
trustworthy as the participants define it.
At least with a digital signature you can revoke it and (providing
your correspondents update your key regularly) the potential for
fraudulently signatures is time limited.
I'd love to be corrected by someone who knows more about this than me

@_date: 2004-02-11 12:29:05
@_author: Stewart V. Wright 
@_subject: change the location ~/.gnupg 
G'day Patrick,
* Patrick Tchoquessi  [040211 11:22]:
RTFM !!!
  --homedir directory
       Set  the  name  of  the  home  directory to directory If this
       option is not used it defaults to  "~/.gnupg".  It  does  not
       make sense to use this in a options file. This also overrides
       the environment variable "GNUPGHOME".

@_date: 2004-02-11 13:26:47
@_author: Stewart V. Wright 
@_subject: change the location ~/.gnupg 
G'day Patrick,
Send all replies to the list, not to me personally please.  (It helps people in the future who search the archives...  *Hint*)
* Patrick Tchoquessi  [040211 12:20]:
No.  RTFM.
Yes.  RTFM.
Aside: I'm slowly drifting from the 'F' standing for Fine, to
       something else...
The --whatever options are command line options.  I guess you are
using MS for running your gpg, so I'm not 100% sure how to set up your
gpg to always use the --homedir flag.  In Un*x I would use an alias
Please try to find the gpg manual on your system and have a read for
the other exciting configuration options.  :-)

@_date: 2004-01-13 12:20:34
@_author: Stewart V. Wright 
@_subject: header modification from this list list manager software 
G'day Neil,
* Neil Williams  [040111 16:13]:
Nope, we aren't.  I _think_ this was discussed recently (within the
last few months) on the mutt-users list without much conclusion being
What I do is just look at the output of gpg that mutt displays (which
usually tells me the message has been verified) and ignore the mutt
interpretation of what is going on.  The question (for me) is does
anyone _really_ care if a signed this message is faked or not.  If
there was some code or something important in it I would worry, but 9
times out of 10 for mailing lists I don't worry.
_Just_ getting used to mutt???  You should spend all of your waking
hours learning to love the flea bitten little mongrel.  Honestly
though, if it takes you more than 2 hours you're doing something
wrong!  :-)

@_date: 2004-05-05 16:49:12
@_author: Stewart V. Wright 
@_subject: How do I choose different private keys to sign different public 
G'day Denis,
* Denis Green  [040505 15:40]:
Is this a question?
RTFM.  It's really, _really_, _REALLY_ useful.    -u, --local-user name
            Use  name  as  the  user ID to sign.  This option is
Also something else to read that I found useful was The GNU Privacy
Handbook :-

@_date: 2004-09-03 16:14:01
@_author: Stewart V. Wright 
@_subject: Q: Local keyring security, attacks and lsign 
I've been pondering an attack, or perhaps a lack of my understanding
of GnuPG as I was wondering if anyone had any opinions.
Take the following example:
  ~~~~~~~~~~~
I have recently upgraded to the 1.2.6 release.  Before installing I
verified the .sig associated with the source...
  gpg --verify gnupg-1.2.6.tar.bz2.sig
Fortunately(!) I got a good signature:
  gpg: Signature made Wed 25 Aug 2004 16:29:58 BST using DSA key ID 57548DCD
  gpg: Good signature from "Werner Koch (gnupg sig) < HIDDEN ;) >"
  gpg: WARNING: This key is not certified with a trusted signature!
  gpg:          There is no indication that the signature belongs to the owner.
  Primary key fingerprint: 6BD9 050F D8FC 941B 4341  2DCC 68B7 AB89 5754 8DCD
So I unpacked the file, compiled it up and installed.
  ~~~~~~~~~~~
The problem in _my_ usage is that I did not verify that the signing
key is the key that I have associated with Werner, i.e. I didn't check
that the fingerprint displayed is correct.  I saw "Good signature", I
saw "Werner Koch" and _assumed_ everything was OK.
As I am on a (relatively) public system there is the possibility of
someone (for example root) accessing my account and adding another
key, with the same details as Werner's to my key ring.  Thus the
attacker could, in theory, substitute packages with valid signatures
(from the impostor key), which I would then think was an untampered
There are (at least) two obvious solutions.  The first is for me to
expand my web of trust so that Werner's key is is in my trusted set.
The second is for me to verify the fingerprint each time I check a
signature, however I am looking for something a little more practical,
or more simple maybe.
 * Does "lsign"ing Werner's key make sense in this case?
      I _think_ what I want to achieve is a way to say "this is the
      key that I have added" (and adding a signature is something that
      makes the attack harder) without assigning too much trust in the
      key itself (which seems to be opposite to the lsign)...
 * Would generating a "lsign"ing key which is itself only partially
   trusted be the way to go?
Any ideas, suggestions, corrections, thoughts, flames, rants?  :-)

@_date: 2004-09-06 13:35:35
@_author: Stewart V. Wright 
@_subject: Q: Local keyring security, attacks and lsign 
G'day Neil,
Forgive me if I am going over ground we've already travelled I really
would like to understand this a little better...
* Neil Williams  [040903 20:40]:
The difficulty lies when one is unable (or unwilling) to assign a
level of trust to a key other than "I know that this is the key that I
chose to import".
I guess using Werner's key was a bad example of what I wanted to
express.  Let me try again at the end of the message...
*Grin*  Now all I need to do is trust that you aren't in the group
that's out to "get" me!  :-P
I appreciate the point that you are making here, but surely tweaking
my trust level on keys of people I haven't met means that there is a
possibility that changing the trust so that the end of Chain (I) is
trust worthy might mean that a key in Chain (II) becomes trusted
 (I)  Me > PersonA > PersonB > PersonC > PersonD
(II)  Me > PersonX > PersonB > PersonY
(i.e. I tweak PersonB so that there is enough trust to get to PersonD,
      but then PersonY might become trusted when they wouldn't without
      the added tweaking to achieve the first chain of trust...)
Admittedly I'm not sure if my point above even makes sense......
Not exactly.  Looking at previous posts signed by Werner's key would
give me a fingerprint, and _assuming_ that there were no warning
messages about an impostor I guess that there is some amount of
association I could make.
I think this is a different concept to what I am asking.  The
ownership and association with a particular person of a key is _not_
important.  The association of a key with an entity, be it Werner as a
person, or  with the group of the Fedora Project is
the issue.
This comes back to the concept that you can trust that all signatures
from a certain key are made by someone with control of that key,
_without_ knowing anything about the ownership of the key.  Someone (a
Deep-Throat for example) may wish their identity to remain unknown,
but publish verifiable messages.  How does one protect a key on your
keyring without having a valid WOT to it?
Take a new gpg user, Alice, installing Fedora Linux for example.  The
CDs contain the Fedora (p)gp(g) key.  Alice checks that the key not
only verifies the packages on the CDs, but that the key has been used
historically (via say Google) for signing messages to mailing lists,
files, or whatever.  There is no indication in any of these sources
that the key does not belong to a reputable RedHat/Fedora source.
However, Alice has no way of connecting the key to her via the WOT as
she's yet to even generate a key of her own.  Alice imports the Fedora
key into her keyring and then uses it to verify various security
patches that have been released...  Alice would love to join the WOT,
but living at the South Pole, LUG meetings are hard to attend!
Alice wants a way to ensure that the key she imported to her key ring
is indeed the one she put there and that Eve hasn't replaced it
somewhere along the piece.
How would she do this?
