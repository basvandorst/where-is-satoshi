
@_date: 2002-12-10 21:28:02
@_author: Tom Strzemieczny 
@_subject: please remove me from the mailing list 
This is a multi-part message in MIME format.
 name="tstrzem.vcf"

@_date: 2002-07-19 02:49:02
@_author: Tom Strzemieczny 
@_subject: sending encrypted files with javamail 
I can send a clearsigned message using javamail, but I don't know how to
send an encrypted message.
Message msg = new MimeMessage(session);
msg.addRecipients(Message.RecipientType.TO, toArray );
msg.setSentDate(new Date());
msg.setContent(messageText, contentHeader);
msg.setHeader( "Content-Transfer-Encoding", "base64" );
If  messageText = "the encrypted message" the output does not diplay the
-----BEGIN PGP MESSAGE-----/-----END PGP MESSAGE----- tags,
but rather a sequence of control characters.  It never decrypts, even if
you cut and paste it.  But if you save messageText into a file and
decrypt that, it works.
What do I need to do to get encrypted email messages working properly?
What should be the content-type?
Should this be a multipart email?  Is there anything that must be done
for this to work and have the correct header/footers.?

@_date: 2002-03-20 01:09:02
@_author: Tom Strzemieczny 
@_subject: gnupg to encrypt files in a batch processes 
I am new to encryption & gnupg, so please bear with me.  This is my
first posting.
Has anyone used gnupg to encrypt files in a batch processes??
I have a java program which reads files from a mailbox directory, parses
the file for sender, recipient, subject & message, and then sends the
email.   I am modifying this program to optionally sign and/or encrypt
the message portion of the email.  Currently it runs a gpg command on
the command line and reads the resulting stream from standard out.  (I
got this working on Windows 2000 without being prompted for a
passphrase, but when I began testing in Linux this was not the case.)
My problem was that I was being prompted for a passphrase for each email
Is the solution to use the --passphrase-fd option??  Where can I find
documentation on this?
gpg -s -e -o - --batch --yes --passphrase-fd n -r myemail
where TestFileMsg is the message portion of the email to be sent to
myemail  and n is the file descriptor.  What is n
exactly?  What is the format of this file?
Is this the right approach?
Also, I would prefer to use gpgme for this since it is unrestricted by
its back-end.   What are the gpgme commands for this??

@_date: 2002-03-26 00:14:01
@_author: Tom Strzemieczny 
@_subject: how do i get gnupg to read the passphrase from standard in 
I need to have gnupgp read the passphrase as standard in.
I want to pipe a passphrase stored in a java BatchMail program into
gnupgp for encrypting files.
I want to do this directly by piping the passphrase into gpg standard
I cannot pass parameters into an echo because this is visible to ps.  I
cannot store the passphrase in a file for security reasons.
Here's what I'm playing with right now:
 encrypt.sh "me "recipient "filename"
where encrypt.sh is:
 /bin/sh
gpg -s -e -o - --batch --passphrase-fd 0 --default-user $1 --yes
--no-tty -r $2 $3  < -
But i don't want gpg to hook into the standard out of my BatchMail
program, but rather the standard out of the ScriptProcess that executed
the command.   I think I am on the right track but don't have any
difinitive answers yet.  Can someone please help?
