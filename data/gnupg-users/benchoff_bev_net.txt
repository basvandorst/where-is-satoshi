
@_date: 2010-09-08 11:45:54
@_author: Phil Benchoff 
@_subject: scdaemon loses connection when I unplug/replug a crypto-stick 
I discovered the same thing yesterday.  GnuPG 2.0.16 on Linux.  The
built-in ccid driver is being used:
# Start with the GPF Crypto Stick plugged in
# Built-in ccid
m-6:/usr/local/src/Aladdin/ccid-1.3.13 (2)
$ scdaemon --server -v
scdaemon[7428]: handler for fd -1 started
scdaemon[7428]: reader slot 0: using ccid driver
scdaemon[7428]: slot 0: ATR=3B DA 18 FF 81 B1 FE 75 1F 03 00 31 C5 73 C0 01 40 00 90 00 0C
OK GNU Privacy Guard's Smartcard server ready
scdaemon[7428]: updating slot 0 status: 0x0000->0x0007 (0->1)
scdaemon[7428]: reader slot 0: using ccid driver
scdaemon[7428]: slot 0: ATR=3B DA 18 FF 81 B1 FE 75 1F 03 00 31 C5 73 C0 01 40 00 90 00 0C
# bunch of debug messages deleted here
# Crypto Stick removed
scdaemon[7428]: updating slot 0 status: 0x0007->0x0000 (1->1)
# Crypto Stick inserted
scdaemon[7428]: ccid_transceive failed: (0x1000c)
scdaemon[7428]: apdu_send_simple(0) failed: no reader
scdaemon[7428]: no supported card application found: No such device
ERR 100696144 No such device

@_date: 2011-09-05 12:38:16
@_author: Phil Benchoff 
@_subject: Signature validation in a script 
I'm trying to write a shell script to verify a file signed with a detached
signature.  I want to test for a valid signature from a key in a keyring
that I specify.  I want to be sure that no user options files, additional
keyrings, or environment variables can override what happens.  I have
come up with the following options:
$GPG_BIN  --trust-model always --no-default-keyring --keyring $KEYRING \
           --no-auto-key-locate --no-use-agent --batch --no-options \
           --verify  $SIG_FILE $DATA_FILE
I am looking for a return value of 0 to indicate a valid signature.
It looks like this will work with both gpg and gpg2 even though all of
the options aren't necessary.  Are there any other options I should use?

@_date: 2011-09-05 16:16:14
@_author: Phil Benchoff 
@_subject: Signature validation in a script 
That seems to do what I want if I include --homedir /dev/null.  No default
keyring and the environment variable for GNUPGHOME is ignored.

@_date: 2012-01-18 20:38:37
@_author: Phil Benchoff 
@_subject: Protecting IDs at a key signing party 
There is a way for you to put your own signing policy URL in the signature.
If you want something more formal, you could join a particular web of trust
with a well-defined policy, e.g. Gossamer Spider Web of Trust
  (I don't know much about them.)  Your specific
items might provide a good start for a standard to document these policies.
I think it is particularly important to keep these policies de-coupled
from the OpenPGP standard though.
I think a lot about what signature classes are appropriate for what situations
and similar pedantry, but the current state of practice needs help at a
more fundamental level.  I just attended my first key-signing party.  The
participants likely have an above-average technical skill set.  Of the 16
signatures I've received so far, all are at the default level.  Five
signers delivered my signed keys in encrypted form to the individual UIDs.
The rest just uploaded them to a keyserver.  I can't be critical of anyone
who did that.  It seems to be the most common practice.
We are very lucky to have an open standard (OpenPGP) and a free/open-source
implementation (GnuPG) to work with.  The really hard problems are trying
to get people to use them correctly.
