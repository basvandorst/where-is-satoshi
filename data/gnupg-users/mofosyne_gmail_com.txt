
@_date: 2015-05-22 01:59:07
@_author: mofo syne 
@_subject: OPENPGP URI PROPOSAL 
You might see a few copies around. This one is edited and streamlined with
some advice from Hasimir to help keep this proposal focused. This is
mirrored in here
Last updated: 2015-05-22
*=============================OPENPGP URI
PROPOSAL============================= Brief/Objective
This proposal is to provide an alternative to the openpgp block messages,
in the form of a uri ( e.g. ` ). This would make such messages more
web friendly, as well as taking advantage of autolaunching apps to handle
such messages. Such links may be embedded within email messages or
webclients, or as a 2d barcode on a physical poster.
This aims to be flexible and futureproof, by supporting any mix of
variables or payload that may be thrown in it's way (e.g. percent encoding,
base64, etc... )
* Schema Description     openpgp:// [] [;key:value] [;key::value]
* `openpgp://`       - is the start of the openpgp uri
* `;`                - is used as a delimiter.
* `[;key:value]`     -  for simple keyvalues: `;name:clark`
* `[;key:value]`
 - `::`                      - is used to aid visual inspection, since the
content would be more of a long complex string, rather than a simple
key:value pair
 - `[;key?length:value]`     - safely read in string: `;name?10::clark;kent`
 - `[;key?encoding:value]`   - `;sig!base64::f4h5k34589ht...`
* `<;::payload_data>`
 - payload do not require key value. But it has optional encoding and
length (Which may have a default setting based on mode. E.g. public keys
are often always encoded in base64 )
 - `;::f4h5k34589ht...`
 - `;!base64::f4h5k34589ht...`
 - `;!octet?100::8BinaryStream`
 - `;!json?17::{"key":[1,2,3,4]}`
* `$encoding`   - is used to define how the string is encoded, e.g.
* `?length`     - is used to define how many characters to read ahead as a
string. Afterwards, it will just keep scanning for the next `;` or end of
* ` this might be needed if we need to declare the type of a variable
(undecided if it is needed in this standard proposal)
* Mode keywords So far this is what I thought for gpg keywords for the ``
* `pubkey` = public key
* `prvkey` = private key
* `encmsg` = encrypted message
* `sigmsg` = signed message
* `fprint` = key fingerprint
* extra thoughts *  - Uniform Resource Locators (URL)
*  - Uniform Resource Identifier (URI):
Generic Syntax
*  - Internationalized Resource
Identifiers (IRIs)
*# Structure Examples For pubkey:
    openpgp://pubkey;version:GnuPG+v2;!base64::
For pubkey (with implied encoding. Default for pubkey mode payload is
    openpgp://pubkey;version:GnuPG+v2;::
For encrypted msg:
    openpgp://msg;version:GnuPG+v2;!base64::
or a signed message
    openpgp://sigmsg;hash:SHA1;sig:;!::
*# Potential Usage * Embedded in NFC or 2D barcode for physical messages in posters that is
able store encrypted messages, public keys, or signed messages. Other than
posters, it also allows for easier transferring of openpgp messages via NFC
or 2D barcodes between a webbrowser in a cybercafe to a smartphone.
* Easier handling of messages in webrowsers via webrowsers plugins that can
recognise the uri handler calls. E.g. Clicking on a url will automatically
open up a openpgp program that automatically processes the message.
*# Uri Mockups     openpgp://fprint;::43:51:43:a1:b5:fc:8b:b7:0a:3a:a9:b1:0f:66:73:a8
Some pontental future json (Not easy to transmit however, due to non uri
standard charcters in json ):
    openpgp:testmode;key!json?17::{"key":[1,2,3,4]}

@_date: 2015-05-22 08:29:49
@_author: mofo syne 
@_subject: OPENPGP URI PROPOSAL 
So what are data uri classified as then?
Because this is based off datauri, in terms of structure. So since datauri
works, I'm inclined to think that there isn't any technical restriction to
including content within a uri context as long as the appropriate handling
software is available for the browser to call upon. (Besides the character
limits of internet explorer of 2kb. For chrome, it's more like 2MB. stack
overflow source
On Fri, May 22, 2015 at 5:55 AM, Robert J. Hansen

@_date: 2015-05-22 11:55:34
@_author: mofo syne 
@_subject: OPENPGP URI PROPOSAL 
clients.  It's meant for including data in-line in web pages, not as
separate documents, and has pretty close to nil adoption in the rest of
the ecosystem.
I'm not sure you need to wait for browsers to adopt this standard for it to
take off. As Hugo Osvaldo Barrera said, "That sounds like the expected
behaviour if there's no registered handler. The  same would happen with
things like "mailto:" if you had none." in regards to how unknown schemas
are treated in browsers. So if you want mailto: to work, then you need to
install an email handling program and point the browser to it.
mean "transferable public key" or OpenPGP certificate:
If there is one that can be embedded in email links, or in a QR code etc,
and can supplement pretty much all block formats for openpgp, then I'm all
for it. What this uri is essentially, is just an alternative serialization
that can hopefully be flexible to handle anything thrown by openpgp at it.
If i have to open GPA and then copy and paste the Vcard to GPA, then I
would prefer the autolaunching uri over the vcard format.
format.  OpenPGPv4 fingerprints are 160 bits long, and any new fingerprint
standard might be longer still.
or take into account other concerns.
Its just a sketch at the moment of a serializing format within a uri
container, but if that's an issue, I see no reason why you can't add a
version field. Like:
(Note: btw I think i agree with that `openpgp://` should be `openpgp:`. It
was intially chosen since  most auto link recognizers only recognizes when
the // is in front of it. Perhaps we can add it in as an optional extra, if
people need it to be recognized in plain text by simple URL detecting
regexes .
On Fri, May 22, 2015 at 10:18 AM, Robert J. Hansen

@_date: 2015-05-29 21:44:09
@_author: mofo syne 
@_subject: OpenPGP card: ERR 100663351 Invalid value <SCD> 
If you want to reset your openpgp card (v2.0), this might help
