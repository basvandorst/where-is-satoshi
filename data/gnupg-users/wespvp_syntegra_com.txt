
@_date: 2005-07-12 18:14:11
@_author: Wes 
@_subject: Direct LDAP access 
I hope this isn't a duplicate question.  I can't believe it hasn't come up
before, but I searched the 70MB archive file and found nothing.
I tweaked (contorted?) our LDAP server to respond to PGP/GPG key retrieval
requests.  However, it appears that GPG can only access the key server for
the purposes of importing a key into (or exporting from) a key ring.  I can
find no way to get GPG to encrypt or decrypt using direct queries to the
directory instead of using a disk file key chain.
We have a requirement to implement a distributed server application where
the keys (probably both public and private) are in an LDAP directory.
Transferring keychain files around is not an option, both from a firewall
perspective and because at any given time each system could have a different
keychain.  Only the application will have access to the entries in LDAP -
users will not have access.  Performance will not be a problem.
We need to be able to do encryption and decryption with GPG directly
accessing LDAP to get the keys.  Additionally, since the directory is
hierarchical and a given key could occur in multiple subtrees, we need to be
able to specify the searchbase instead of relying on the cn=PGPServerInfo
Am I overlooking something?  Is this possible today?  If not, and we
developed the code, would be it something that could be integrated into GPG
for others to use?

@_date: 2005-07-13 03:30:57
@_author: Wes 
@_subject: Direct LDAP access 
Hmm...  That seems a bit kludgy, but certainly something to consider.  I
assume it would require two gpg commands - one to retrieve/import the key
and one to do the encryption?
I don't think this would help with accessing private keys, though?
I didn't see that in the keyserver options.  I'll try it out.

@_date: 2005-10-26 23:25:46
@_author: Wes 
@_subject: Encrypted file filename 
Sorry, I earlier posted this with an old thread in the subject.
PGP 9 stores the file name in the encrypted data.  You can take a file
xyz.pgp, decrypt it, and return it to the original "My Word Doc.DOC".  There
is nothing externally visible, either in a PGP Partitioned message, nor in a
hex dump of the PGP data, to indicate the original file name.
I don't see any way in GPG to read the original file name, or to write the
output to a file of the original name (or conversely to set the file name).
Is this possible?  I'm using GPG 1.4.1.

@_date: 2005-10-26 23:25:57
@_author: Wes 
@_subject: Direct LDAP access 
I hope this isn't something already discussed that I overlooked in the
PGP 9 stores the file name in the encrypted data.  You can take a file
xyz.pgp, decrypt it, and return it to the original "My Word Doc.DOC".  There
is nothing externally visible, either in a PGP Partitioned message, nor in a
hex dump of the PGP data, to indicate the original file name.
I don't see any way in GPG to read the original file name, or to write the
output to a file of the original name (or conversely to set the file name).
Is this possible?  I'm using GPG 1.4.1.

@_date: 2005-10-27 16:19:12
@_author: Wes 
@_subject: Encrypted file filename 
Ok, I see that now in the man page, just not in the command line usage.
Thanks.  Guess I'm blind...
I also see --set-filename.  However, I don't see any way to read the
embedded file name.
I have a server process that is decrypting messages and needs the original
file name to rebuild some headers before sending the file on.  It needs to
decrypt the message to a known file, then build the headers with the
original file name.
I guess the file could be decrypted into an empty temp directory, then use
opendir/readdir to find whatever filename shows up there.  That seems a bit
kludgy, though.
Also, is the embedded file name guaranteed to be just a file name, or could
it be a full path, which would present a rather significant problem?

@_date: 2005-10-27 17:42:50
@_author: Wes 
@_subject: Encrypted file filename 
I found the answer I was looking for by enabling status-fd
[GNUPG:] BEGIN_DECRYPTION
[GNUPG:] PLAINTEXT 62 167772160 small.doc
[GNUPG:] PLAINTEXT_LENGTH 19456
[GNUPG:] DECRYPTION_OKAY
