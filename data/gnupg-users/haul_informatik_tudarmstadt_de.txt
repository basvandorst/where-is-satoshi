
@_date: 1999-11-15 17:02:46
@_author: Christian Haul 
@_subject: Problem loading rsa / idea / skipjack extensions into gpg 1.0 on Solaris 7 
I got the rsa.c / idea.c / skipjack.c extension files for gnupg-1.0,
compiled them but I fail loading them (reformated error messages for
better readability):
gpg (GnuPG) 1.0.0
Copyright (C) 1999 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it
under certain conditions. See the file COPYING for details.
Supported algorithms:
gpg: /tools/pd/lib/gnupg/skipjack: error loading extension: ld.so.1:
gpg: fatal: relocation error: file /tools/pd/lib/gnupg/skipjack:      symbol g10_log_fatal: referenced symbol not found
gpg: /tools/pd/lib/gnupg/rsa: error loading extension: ld.so.1: gpg: fatal: relocation error: file /tools/pd/lib/gnupg/rsa:      symbol g10c_debug_mode: referenced symbol not found
gpg: /tools/pd/lib/gnupg/idea: error loading extension: ld.so.1: gpg: fatal: relocation error: file /tools/pd/lib/gnupg/idea:      symbol g10_log_fatal: referenced symbol not found
Cipher: 3DES, CAST5, BLOWFISH, TWOFISH
Pubkey: ELG-E, DSA, ELG
Hash: MD5, SHA1, RIPEMD160
I built gnupg using the following steps:
and added the following lines to ~/.gnupg/options
    # load additional ciphers
    load-extension idea
    load-extension rsa
    load-extension skipjack
# This file is a shell script that caches the results of configure
# tests run on this system so they can be shared between configure
# scripts and configure runs.  It is not useful on other systems.
# If it contains results you don't want to keep, you may remove or edit it.
# By default, configure uses ./config.cache as the cache file,
# creating it if it does not exist already.  You can give configure
# the --cache-file=FILE option to use a different cache file; that is
# what configure does when it calls configure scripts in
# subdirectories, so they share the cache.
# Giving --cache-file=/dev/null disables caching, for debugging configure.
# config.status only pays attention to the cache file if you give it the
# --recheck option to rerun configure.
ac_cv_path_NM=${ac_cv_path_NM='/tools/pd/bin/nm -B'}
ac_cv_path_install=${ac_cv_path_install='/tools/pd/bin/install -c'}
ac_cv_prog_CPP=${ac_cv_prog_CPP='gcc -E'}
ac_cv_prog_LN_S=${ac_cv_prog_LN_S='ln -s'}
ac_cv_sys_global_symbol_pipe=${ac_cv_sys_global_symbol_pipe='sed -n -e '\''s/^.* [ABCDGISTUW] \([_A-Za-z][_A-Za-z0-9]*\)$/\1 \1/p'\'''}

@_date: 1999-11-16 18:04:58
@_author: Christian Haul 
@_subject: Yes!! I got it! 
first, let me thank you for your incredibly fast responses. Actually,
the first replies arrived before my subscription to the mailing list
was completed. Thus I waited until I was certain that I havn't
overlooked a reply by double checking the list archives.
The definitive hint was the linker problem. Yes, indeed I too use the
gnu binutils on Solaris 7. Having found that, and considering the
error message I have another solution for the problem which I think
should go into the distribution:
Calling GNU's ld with -E prevents it to strip all unused symbols!
Hence       DYNLINK_LDFLAGS = -Wl,-dy,-E solves the problem as well.
gpg (GnuPG) 1.0.0
Copyright (C) 1999 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it
under certain conditions. See the file COPYING for details.
Supported algorithms:
Cipher: IDEA, 3DES, CAST5, BLOWFISH, TWOFISH, SKIPJACK
Pubkey: RSA, RSA-E, RSA-S, ELG-E, DSA, ELG
Hash: MD5, SHA1, RIPEMD160
Thanks again, folks.
       Chris.

@_date: 1999-11-15 17:02:46
@_author: Christian Haul 
@_subject: Problem loading rsa / idea / skipjack extensions into gpg 1.0 on Solaris 7 
I got the rsa.c / idea.c / skipjack.c extension files for gnupg-1.0,
compiled them but I fail loading them (reformated error messages for
better readability):
gpg (GnuPG) 1.0.0
Copyright (C) 1999 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it
under certain conditions. See the file COPYING for details.
Supported algorithms:
gpg: /tools/pd/lib/gnupg/skipjack: error loading extension: ld.so.1:
gpg: fatal: relocation error: file /tools/pd/lib/gnupg/skipjack:      symbol g10_log_fatal: referenced symbol not found
gpg: /tools/pd/lib/gnupg/rsa: error loading extension: ld.so.1: gpg: fatal: relocation error: file /tools/pd/lib/gnupg/rsa:      symbol g10c_debug_mode: referenced symbol not found
gpg: /tools/pd/lib/gnupg/idea: error loading extension: ld.so.1: gpg: fatal: relocation error: file /tools/pd/lib/gnupg/idea:      symbol g10_log_fatal: referenced symbol not found
Cipher: 3DES, CAST5, BLOWFISH, TWOFISH
Pubkey: ELG-E, DSA, ELG
Hash: MD5, SHA1, RIPEMD160
I built gnupg using the following steps:
and added the following lines to ~/.gnupg/options
    # load additional ciphers
    load-extension idea
    load-extension rsa
    load-extension skipjack
# This file is a shell script that caches the results of configure
# tests run on this system so they can be shared between configure
# scripts and configure runs.  It is not useful on other systems.
# If it contains results you don't want to keep, you may remove or edit it.
# By default, configure uses ./config.cache as the cache file,
# creating it if it does not exist already.  You can give configure
# the --cache-file=FILE option to use a different cache file; that is
# what configure does when it calls configure scripts in
# subdirectories, so they share the cache.
# Giving --cache-file=/dev/null disables caching, for debugging configure.
# config.status only pays attention to the cache file if you give it the
# --recheck option to rerun configure.
ac_cv_path_NM=${ac_cv_path_NM='/tools/pd/bin/nm -B'}
ac_cv_path_install=${ac_cv_path_install='/tools/pd/bin/install -c'}
ac_cv_prog_CPP=${ac_cv_prog_CPP='gcc -E'}
ac_cv_prog_LN_S=${ac_cv_prog_LN_S='ln -s'}
ac_cv_sys_global_symbol_pipe=${ac_cv_sys_global_symbol_pipe='sed -n -e '\''s/^.* [ABCDGISTUW] \([_A-Za-z][_A-Za-z0-9]*\)$/\1 \1/p'\'''}

@_date: 1999-11-16 18:04:58
@_author: Christian Haul 
@_subject: Yes!! I got it! 
first, let me thank you for your incredibly fast responses. Actually,
the first replies arrived before my subscription to the mailing list
was completed. Thus I waited until I was certain that I havn't
overlooked a reply by double checking the list archives.
The definitive hint was the linker problem. Yes, indeed I too use the
gnu binutils on Solaris 7. Having found that, and considering the
error message I have another solution for the problem which I think
should go into the distribution:
Calling GNU's ld with -E prevents it to strip all unused symbols!
Hence       DYNLINK_LDFLAGS = -Wl,-dy,-E solves the problem as well.
gpg (GnuPG) 1.0.0
Copyright (C) 1999 Free Software Foundation, Inc.
This program comes with ABSOLUTELY NO WARRANTY.
This is free software, and you are welcome to redistribute it
under certain conditions. See the file COPYING for details.
Supported algorithms:
Cipher: IDEA, 3DES, CAST5, BLOWFISH, TWOFISH, SKIPJACK
Pubkey: RSA, RSA-E, RSA-S, ELG-E, DSA, ELG
Hash: MD5, SHA1, RIPEMD160
Thanks again, folks.
       Chris.
