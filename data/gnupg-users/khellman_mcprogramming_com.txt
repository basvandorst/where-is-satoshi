
@_date: 2007-06-08 01:41:38
@_author: Keith Hellman 
@_subject: Verifying Signatures in a Script 
I would like a script to verify that I've signed a document.  Verifying
a signature is easy with gnupg, but I can't find a switch that requires the signature be that of a particular public key.
As it is, a document signed by someone else (whose public key I have)
would slip through my script if I just use the exit code.  My best
solution so far is to detect the identity printed out by gpg on stderr
--- but this seems a fragile solution.
I'd like to be able to say:
  $ gpg --verify-specific-user khellman at mcprogramming.com           --verify signedoc.gpg
Does this functionality exist? Did I miss something in the docs? Is
there a workaround?

@_date: 2007-06-11 10:56:38
@_author: Keith Hellman 
@_subject: Verifying Signatures in a Script 
Just as a follow-up, I pursued Sven's idea and simply created a
specialized directory:
  $ mkdir .my_signature
Exported my public key to its location
  $ gpg --home ~/.my_signature --import <(gpg --export )
(or something like that...)
And now I simply invoke gpg (or gpgv) from within my script as
  if gpg --home ~/.my_signature --verify ${FILE} ; then ...
Works like a charm, it also has a benefit of easily managing the
signatures I want my script to accept, without cluttering up my script will silly whose-signed-this-thing logic.  I just import or
remove the appropriate public keys from ./my_signature's database.
