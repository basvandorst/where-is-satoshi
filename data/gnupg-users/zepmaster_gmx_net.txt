
@_date: 2016-12-03 14:28:37
@_author: zep 
@_subject: private subkey not found 
Hello Werner,
Thanks for your reply
Here is the output you requested:
sec#  rsa4096 2016-11-19 [C] [expires: 2021-11-18]
      some_hex_value
uid           [ultimate] zep ssb>  rsa4096 2016-11-19 [S] [expires: 2021-11-18]
ssb>  rsa4096 2016-11-19 [E] [expires: 2021-11-18]
ssb>  rsa4096 2016-11-19 [A] [expires: 2021-11-18]
sec   rsa4096 2015-04-07 [SCA] [expires: 2020-04-05]
      some_other_hex_value
uid           [ultimate] zep ssb   rsa4096 2015-04-07 [E] [expires: 2020-04-05]
I have two different keysets:
One offline master key and three subkeys for zep
 which are stored on a nitrokey.
Then I have one master key and one subkey for zep ,
which are not stored on a smartcard.
Indeed, my master private key for other_mail at provider.tlp in
~/.gnupg/private-keys-v1.d/ is only a symlink to the real key, which is
on an LUKS encrypted USB drive.
I moved the symlink out of the way, and checked again using
gpg-connect-agent, keyinfo --list:
S KEYINFO some_hex T some_hex OPENPGP.2 - - - - -
S KEYINFO some_hex D - - - P - - -
S KEYINFO some_hex T some_hex OPENPGP.2 - - - - -
S KEYINFO some_hex T some_hex OPENPGP.1 - - - - -
S KEYINFO some_hex T some_hex OPENPGP.1 - - - - -
S KEYINFO some_hex D - - - P - - -
S KEYINFO some_hex T some_hex OPENPGP.3 - - - - -
ERR 67108952 Invalid name Signing, Encrypting and Decryption using the first keyset (on the
nitrokey) does work. But decryption using the subkey of the second
keyset does not work.
Is it possible to have two keysets each having the same name, but a
different email address ?
zep zep Cheers, zep

@_date: 2016-11-29 21:19:06
@_author: zep 
@_subject: private subkey not found 
I have some trouble using an imported subkey:
gpg --list-secret-keys
sec   rsa4096/0xABCDEFGH 2015-04-07 [SCA] [expires: 2020-04-05]
      Key fingerprint = ABCD ABCD ABCD ....
uid                   [ultimate] zep ssb   rsa4096/0xDEADBEEF 2015-04-07 [E] [expires: 2020-04-05]
So it seems, the private master key (0xABCDEFGH) and the private subkey
(0xDEADBEEF) are both available.
But the decryption of a message encrypted with the subkey fails:
gpg -e -r zepmaster at gmx.net test.txt
gpg -d test.txt.gpg
gpg: encrypted with 4096-bit RSA key, ID 0xDEADBEEF , created 2015-04-07
      "zep "
gpg: public key decryption failed: Invalid name
gpg: decryption failed: No secret key
Also, gpg-connect-agent, then keyinfo --list gives this:
S KEYINFO "some hex string" D - - - P - - -
ERR 67108891 Not found Has anyone an idea, why decryption with this subkey does not work as
obviously, the private subkey seems to be available.
gpg (GnuPG) 2.1.15
libgcrypt 1.7.3
Thank you very much,
Cheers, zep
