
@_date: 2011-08-10 14:13:29
@_author: yyy 
@_subject: gpgsm recipient format 
When using gpgsm to encrypt a file, what is the primarily
intended recipient format?
gpgsm -e -r xxxx file_to_be_encrypted.ext
What to put in place of xxxx?
Certificate were imported using gpgsm --import cert.pem,
it shows in gpgsm --list-keys. Certificate is self signed and
the only filed containing useful information is CN, there are
some other fields containing junk. There is no e-mail address
specified. Tried to specify user-IDs as told here:
None of these methods worked, errors were as follows:
By key ID. ( in list)
Assumed that first entry in --list-keys, named ID is that, it was 0xD56CAEDD
executing: gpgsm -e -r 0xD56CAEDD file.ext
produced this error:
gpgsm: can't encrypt to `0xD56CAEDD': No value
By fingerprint. ( in list)
Fingerprint was last entry in --list-keys, and it was
executing: gpgsm -e -r
81:4A:73:CC:AB:BC:41:D3:D7:99:0F:A3:C0:75:AB:E0:D5:6C:AE:DD file.ext
produced error:
gpgsm: can't encrypt to `0x81:4A:73:CC:AB:BC:41:D3:D7:99:0F:A3:C0:75:AB:E0:D5:6C
:AE:DD': Invalid name
removing 0x in beginnig of fingerprint, did change nothing
By exact match on OpenPGP user ID. ( in list)
Does not applies here, because does not applies to X509 certificates
By exact match on an email address. ( in list)
Does not applies here, because certificate does not
contains an email address.
By word match. ( in list)
Only rememberable word there were CN (cert), executing:
gpgsm -e -r +cert file.ext
produced error:
../../gnupg2-2.0.17/kbx/keybox-search.c:858: oops; should never get here
../../gnupg2-2.0.17/kbx/keybox-search.c:858: oops; should never get here
gpgsm: can't encrypt to `+cert': No public key
By exact match on the subject's DN. ( in list)
As specified in the list, subjects DN string was extracted from output
of: gpgsm --list-keys --with-colons
It was:
gpgsm -e -r
produced error:
gpgsm: can't encrypt to `/CN=cert,OU=key_usage,O=no_specified,L=bez_ca,ST=undef
ined_type,C=lv': No value
By exact match on the issuer's DN. ( in list)
Since this is a self signed certificate, DN string is the same.
(except for # in front of string)
Error was exactly the same as in previous case.
By exact match on serial number and issuer's DN. ( in list)
gpgsm -e -r
 file.ext
produced error:
gpgsm: can't encrypt to `
defined_type,C=lv': No value
By keygrip. ( in list)
Keygrip obtained by --dump-cert was:
gpgsm -e -r &3992799455D8CCCFECA75FE1BD7708D8A7E2EFD6 file.ext
produced error:
gpgsm: missing argument for option "-r"
'3992799455D8CCCFECA75FE1BD7708D8A7E2EFD6' is not recognized as an internal or external command,
operable program or batch file.
By substring match. ( in list)
Tried on CN. Executing:
gpgsm -e -r cert file.ext
produced error:
gpgsm: can't encrypt to `cert': No value
If using partial substring (with * in beginning), error were the same:
gpgsm -e -r *cert file.ext
gpgsm: can't encrypt to `*cert': No value
These were all 10 specified methods.
Output of --list-keys:
           ID: 0xD56CAEDD
          S/N: 01
       Issuer: /CN=cert/OU=key_usage/O=no_specified/L=bez_ca/ST=undefined_type/C=lv
      Subject: /CN=cert/OU=key_usage/O=no_specified/L=bez_ca/ST=undefined_type/C=lv
     validity: 2010-12-04 18:14:32 through 2011-12-04 06:33:15
     key type: 1024 bit RSA
 chain length: none
  fingerprint: 81:4A:73:CC:AB:BC:41:D3:D7:99:0F:A3:C0:75:AB:E0:D5:6C:AE:DD
Output of --dump-cert:
           ID: 0xD56CAEDD
          S/N: 01
       Issuer: CN=cert,OU=key_usage,O=no_specified,L=bez_ca,ST=undefined_type,C=lv
      Subject: CN=cert,OU=key_usage,O=no_specified,L=bez_ca,ST=undefined_type,C=lv
     sha1_fpr: 81:4A:73:CC:AB:BC:41:D3:D7:99:0F:A3:C0:75:AB:E0:D5:6C:AE:DD
      md5_fpr: FB:F8:0D:AA:1F:2F:F9:F8:28:40:7E:B7:49:DB:7F:F3
       certid: 3A409A4E9141A06D70B234CC5716FAEF282A3477.01
      keygrip: 3992799455D8CCCFECA75FE1BD7708D8A7E2EFD6
    notBefore: 2010-12-04 18:14:32
     notAfter: 2011-12-04 06:33:15
     hashAlgo: 1.2.840.113549.1.1.5 (sha1WithRSAEncryption)
      keyType: 1024 bit RSA
    subjKeyId: [none]
    authKeyId: [none]
     keyUsage: [none]
  extKeyUsage: [none]
     policies: [none]
  chainLength: [none]
        crlDP: [none]
     authInfo: [none]
     subjInfo: [none]
Is there a way for recipient just specify a certificate file
in pem format? (Without using keyring.)
Is it possible to import pem format private keys?

@_date: 2011-08-22 12:07:11
@_author: yyy 
@_subject: gpgsm certificate validity 
How to verify if a certificate (in keyring) is valid?
I tried to encrypt  file using gpgsm and no key specifiying methods worked
Could that be caused by invalid certificate?

@_date: 2011-08-22 15:18:45
@_author: yyy 
@_subject: gpgsm certificate validity 
This produced error:
 [certificate is bad: No value]
Rest of data about certificate, were fine (ID, S/N, Issuer, Subject,
validity, key type, chain length, fingerprint)
What does it means? Attempts to encrypt to this USERID also produced
error "No value"

@_date: 2011-08-22 16:27:45
@_author: yyy 
@_subject: gpgsm certificate validity 
Few more updates.
If using gpgsm -k --with-validation
(without providing an USERID), it also provides
  fingerprint: 81:4A:73:CC:AB:BC:41:Dgpgsm: dirmngr cache-only key
lookup failed
: Not found
That certificate is a self signed certificate and it seems, that gpgsm
is trying to find it in some external file (not in keyring)
In addition to --with-validation, used --disable-crl-checks,
--disable-policy-checks, but these did not change anything
Also, searching google for "[certificate is bad: No value]", produced
one result from this list, from 2006
(google result)
further in that thread, there were a message
This certificate does not have  BasicConstraints, maybe this is a cause
of error?
Imported another root certificate, this had BasicConstraints set, import
of it went differently,
there were popup asking if i want to trust it (when importing first
certificate, it did not ask anything)
For that certificate, gpgsm -k --with-validation --disable-crl-checks
went without errors
Encryption using such IDs, worked.
So, the main problem seems to be (lack of) presence of BasicConstraints
in certificate.
Is it possible to override check for BasicConstraints? Is it a bug?
--ignore-cert-extensions <> cannot be used, because the problem is lack
of presence of extension, not presence of extension.

@_date: 2011-08-22 19:05:07
@_author: yyy 
@_subject: gpgsm certificate validity 
That eventually fixed it. Thanks. There were some errors, along the way,
Trustlist.txt initially contained only hash of second certificate (with
BasicConstraints). Added hash of other certificate (the one without
BasicConstraints) and now on ALL certificates gpgsm -k --with-validation
produces error [certificate is bad: Line too long]. In this case, first
line in trustlist.txt was for second certificate in keyring and second
line was for first certificate in keyring. Swapping these lines in
trustlist.txt, fixed it.
So, order of certificate hashes, relative of certificate order in
keyring, is critically important?

@_date: 2011-08-23 10:39:39
@_author: yyy 
@_subject: gpgsm certificate validity 
Re-tested today and it worked in more than one order. Probably issues in
yesterday were some sort of temporary glitch.
So, currently, importing a root certificate into gpgsm's keyring is a 2
stage process:
1. gpgsm --import _certificate_
2. edit trustlist.txt file, to add imported certificates hash (to make
it trusted (useable)).
For some certificates gpgsm asks during import, whether to trust them
(and if confirmed, add entry to trustlist.txt automatically). Is it
possible to make gpgsm to ask whether to trust it, for any certificate?

@_date: 2011-10-19 11:20:39
@_author: yyy 
@_subject: STEED - Usable end-to-end encryption 
----- Original Message ----- Sent: Tuesday, October 18, 2011 7:00 PM
There is firegpg plugin for firefox, and it does not works well with
latest versions (installing it in firefox5 was not straightforward).
I am not aware of any other public key encryption plugin for firefox or for any other browser. Some webmails have
POP3/IMAP/SMTP, but some does not. (for example inbox.lv
for qute long time had only POP3, but not SMTP)

@_date: 2011-10-22 14:34:36
@_author: yyy 
@_subject: Win7: Kleopatra does not open 
Hello Roland,
  Kleopatra seems to be part of gpg4win, which has its own mailinglist
  (Gpg4win-users-en at wald.intevation.org). What are your language
  settings? I had a similar problem (it was reproducible in winxp and
  windows vista). See:
    and the rest of thread. (Kleopatra works only in english windows
  (maybe german too)).

@_date: 2012-08-30 13:48:45
@_author: yyy 
@_subject: Web-based pinentry 
Sent: Wednesday, August 29, 2012 7:32 PM
If I have understood correctly, in gpg2, in such cases you are supposed to use no passphrase at all.

@_date: 2012-12-04 14:40:22
@_author: yyy 
@_subject: Is it safe to rename file.gpg to `md5sum file`? 
It seems that MD5 checksum is computed from file contents, not name.

@_date: 2012-07-31 08:11:00
@_author: yyy 
@_subject: gpg "simplified"? 
gpg is a CLI program which encrypts and decrypts binary files,
by default it has no connection with any mail server or service
openssl smime tool does the same, and unlike gpg, has no key
management functionality (for encryption and decryption only)
(it does have size limits, it needs as much memory, as size
of file to be encrypted or decrypted)
this probably will not be possible with standard openpgp (or smime)
I have heard, that gpg 1.4 supports such operation, but
have not tested it myself. gpg2 certainly will not work.
openssl some times works, some times not.
(I have tested only on windows, there have been some dependencies
on system dlls).
this probably will not be possible with standard openpgp (or smime)
if private key is encrypted with it's public key, it becomes
inaccessible, because unencrypted private key is needed
to decrypt it.
gpg keys can be generated this way, x509 certs also
can be generated this way.

@_date: 2012-07-31 18:40:01
@_author: yyy 
@_subject: gpg "simplified"? 
gpg2 requires gpg agent..., i was referring to posibility
to making it a portable application (not requiring
installation, not leaving traces in host computer when run)
there (in this list) have been some threads about
how to get rid of gpg agent in gpg2, so it would
behave more like gpg 1.4, but answer has been, that
it is not possible.
No application considered requires any network access
(gpg1.4, gpg2, openssl)

@_date: 2012-06-04 06:50:47
@_author: yyy 
@_subject: GnuPG 2.1 Windows 7, pinentry does not allow paste, no way to 
So, if one is incapable of remembering strong passwords (passphrses),
this forces them to use either useless passphrase (breakable in less
than 5 min using dictionary) or use no passphrase at all.

@_date: 2012-05-16 09:47:17
@_author: yyy 
@_subject: Website link broken 
Sent: Wednesday, May 16, 2012 12:43 AM
does not works from here, either

@_date: 2013-06-24 21:47:07
@_author: yyy 
@_subject: GpgEX for 64 bit Windows test version 
Paths with spaces needs to be escaped. Put that "C:\program files..." in quotes. ("").

@_date: 2013-09-10 12:26:12
@_author: yyy 
@_subject: Problems using 10kbit keys in GnuPG instead of 4kbit keys 
Sent: Tuesday, September 10, 2013 12:07 PM
This is only a problem to user who choose to use 8k key, not to anyone else.
