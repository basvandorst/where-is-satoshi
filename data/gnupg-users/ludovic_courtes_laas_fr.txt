
@_date: 2006-08-01 11:13:58
@_author: Ludovic =?iso-8859-1?Q?Court=E8s?= 
@_subject: GPGME: Exporting a private key 
(I couldn't find a `gpgme-users' list so I'm trying this one.)
Is there are way to export a private key with GPGME?  Currently,
`gpgme_op_export ()' and friends don't seem to allow for this.
Also, rather than using `gpgme_op_export ()' and passing it a pattern
(whose format and interpretation are not well documented, BTW), it would
be nice if one could export a specific key:
  gpgme_error_t gpgme_key_export (gpgme_key_t key, int armor,
                                  gpgme_data_t keydata);
Is it something that would be feasible?

@_date: 2006-08-01 13:49:19
@_author: Ludovic =?iso-8859-1?Q?Court=E8s?= 
@_subject: GPGME: Exporting a private key 
I guess you're referring to [0,1].  Sorry, I had not come across them.
I do understand the rationale expressed in these messages, but the issue
is that other pieces of software may still want to manipulate the secret
key themselves.
For example, my initial goal was to interface GNUtls' OpenPGP mechanisms
with GPGME, and it turns out that a `gnutls_openpgp_privkey_t' can only
be initialized from an exported key.  Perhaps GNUtls' API should be
changed in a way that doesn't assume the ability to read one's private
key (perhaps using GPGME)?

@_date: 2006-08-02 10:11:46
@_author: Ludovic =?iso-8859-1?Q?Court=E8s?= 
@_subject: GPGME: Exporting a private key 
I'd love to closely integrate GPG and GNUtls but the current situation
doesn't allow me to do any better than what I outlined above.
Concretely, I resorted to exporting both the public key and private key
with GPG, putting them into files (hmm...) and feeding those files to
GNUtls (via `gnutls_certificate_set_openpgp_key_file ()').  This is
indeed not ideal.  ;-)
But this is getting a bit off-topic.
