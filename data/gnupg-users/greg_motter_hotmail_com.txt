
@_date: 2007-08-27 10:02:00
@_author: Greg Motter 
@_subject: How to have 2 seperate keyrings on a server 
GPG newbie here and have a question.
I'm working on setting up some encryption on a server and have been working
with a consultant giving us what we should be doing. One thing he wants us
to do is set up 2 keyrings and maintain 2 keyrings on our server. All we are
doing is encrypting flat text files that contain sensitive info when they
are at rest. Then having a seperate process to decrypt these files when they
are needed. What he wants us to do is this:
1) Have a first keyring with our main key pair. The decrypt process will
access this keyring to do the decrypting.
2) Have a second keyring with just the public key from the first keyring.
We'd then access this second keyring for our encryption process.
gpg.conf file. Is it possible to change the keyring you want to use from
within the command line? I've tried using --keyring  and --primary-keyring
from the command line a bit without success.
Any suggestions?

@_date: 2007-08-28 14:56:38
@_author: Greg Motter 
@_subject: How to have 2 seperate keyrings on a server 
Honestly, I don't fully understand the purpose entirely also. Either way
you'll still need the passphrase to decrypt. But they wanted 2 keyrings. I'm
guessing just another level of obfuscation more than anything.

@_date: 2007-08-28 14:57:44
@_author: Greg Motter 
@_subject: How to have 2 seperate keyrings on a server 
--homedir along with --no-default-keyring certainly did the trick. Thanks
for the help!

@_date: 2007-08-28 15:08:48
@_author: Greg Motter 
@_subject: gpg: Option "--passphrase" is ambiguous 
I'm currently getting the error "gpg: Option "--passphrase" is ambiguous"
when I attempt to use the --passphrase switch.
I believe this is because our test box only has gpg 1.4.1 installed? Does
anyone remember when --passphrase was added as an option. I took a look at
the release notes and did not see it after 1.4.1.
When I run this on the window's version, I don't get this error and it works
just fine in --batch mode.
If this is not a release version issue? Any ideas?

@_date: 2007-08-23 18:40:20
@_author: Greg Motter 
@_subject: Possible to pass the private key? 
Hello all,
I have a couple of questions about how to handle the private key on a
server. The company I'm working with , is working with a consultant who said
the following:
"GNUPG has a keyring just like PGP. The private keys on that keyring need to
be controlled and not just left in the keyring file. If it's an automated
process to encrypt the flat files then you should compile the program doing
it with the private key. If it's a manual process, the private key needs to
be kept with someone off the server."
First off, from what i've read, it sounds like private keys are not kept in
the keyring, but rather in their own file that is then encrypted
symetrically using the passphrase?
Secondly is it possible to do what he is asking? Is it possible to pass in
the private key through gpg command? Next, If I could pass in the private key through the program itself, and
then secure the source code. Would the private key likely be more at risk in
the object code since it would not truly be encrypted at that point?
Basically what we are trying to do is encrypt flat text files that will be
on our server at rest. I'll be creating a subroutine to handle all of the
gpg goodness in the background. But we're still trying to work out the best
way that these files would be secure.
Obviously if we leave the private key out there, then any user who had
access to gpg would have access to the key, although not to the passphrase.
Is there some better way?
Greg Motter

@_date: 2007-09-05 07:27:46
@_author: Greg Motter 
@_subject: gpg: failed to create temporary file 
Hello all. I'm having issues again. Now I'm not able to create the temporary
files for some reason.
gpg: WARNING: unsafe ownership on homedir `xxxxxx'
~gpg: failed to create temporary file `/xxxxxxx/.
Permission denied
~gpg: keyblock resource `/xxxxxxx/xxxx': general error
~gpg: failed to create temporary file
`/xxxxxxxxxx/. Permission denied
~gpg: keyblock resource `/xxxxx/xxxx': general error
~gpg: xxxx at xxxx.com: skipped: public key not found
~gpg: /xxxxxxxxxxx/test1.txt: encryption failed: public key not found~'            I guess my first question is, what should the permissions be on all of the
files? I'd thought it was supposed to be read for everyone write for only
owner and root and no execute, but that seems to be causing issues.
Thanks for your responses.
