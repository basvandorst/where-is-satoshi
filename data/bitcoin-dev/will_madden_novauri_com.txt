
@_date: 2015-08-06 18:37:16
@_author: Will 
@_subject: [bitcoin-dev] Wrapping up the block size debate with voting 
I think the key is comity and humility in terms of being honest about our inability to predict future trends in a meaningful way while passing through scrutiny coming from divergent perspectives. ?8MB + 40% annually (at whatever increase frequency is preferred, at coinbase halvings seems most ideal) is the proposal to use.
What if 40% is too fast? ??
If 40% turns out to be excessive, miners have a built in incentive to cap their blocks at a lower amount that meets the supply / demand equilibrium vs. the price of bitcoin trading on the free market. ? The key here is to understand ?price of bitcoin on the free market?. ?Most developers don?t understand free market economics beyond gambling, which is a good bit of the problem here. ?
Bottom line is, miners directly benefit from higher bitcoin prices when denominated in other currencies. ?This fact will naturally limit excessive growth of blk*.dat. size, because if the storage requirements for bitcoin grow out of reach of amateurs, it will lead to excessive centralization and capture by powerful interests, which would threaten to convert bitcoin to a form of sovereign currency and kill free demand for bitcoin (and tank the price). ?Miners don?t want that without some other body paying them to make econonically distorted decisions. ?They will limit the size themselves if they see this as an emerging threat. ?It?s in their best interests and will keep them in business longer.
Now, is there a risk that some excessively well funded entity could artificially inflate the price of bitcoin while this bribing miners to let blk*.dat size grow out of hand (distorting miner economics) in some sort of ?subsidies for increased liquidity? corruption scheme? ?No there isn?t, because we are going to have a cap on the size that is reasonable enough that we know it won?t force out any amateurs for at least 5 years, and likely longer.
What if 40% is too slow?
That?s a problem anyone who actually owns bitcoin would like to have. ?We?ll gladly support an increase in the rate if demand supports it later with a subsequent change. ?We?ll have to do this eventually anyway when SHA256 and RIPEMD160 exhibit collisions, or some other non-self imposed existential threat rears its head.
Long game
Now, this entire scheme is predicated on the price going higher over the extended term. ?I would argue that if we are doing a good job, the price should go higher. ?Isn?t that the best barometer of performance? ?Demand for the scarce units inside the protocol denominated in other currencies?
8MB is 1MB + 40% a year from January 2009 to today. ?40% a year is as good as we are going to get in terms of our extrapolated estimation of future ability to host full nodes. ?Anything else is overengineering something we can?t predict anyway. ?Any arguments against this setting and rate of growth that aren?t exclusively focused on the computer science side of the debate are misguided at best, and corrupted by competing incentives at worst. ?This is because it?s not possible to predict the future any better than using an extrapolation of the past, which is exactly what 8MB + 40% represents.
So TLDR? ?Go with 8MB + 40% annually and we will cross any (likely imaginary) bridges when we come to them down the road.
Reply:?Pieter Wuille >
"Miners can do this unilaterally" maybe, if they are a closed group, based on the 51% rule. But aren't they using full nodes for propagation?? In this sense, anyone can vote by coding.
They don't need to use full nodes for propagation. Miners don't care when other full nodes hear about their blocks, only whether they (eventually) accept them.
And yes, full nodes can change what blocks they accept. That's called a hard fork :)
_______________________________________________  bitcoin-dev mailing list  bitcoin-dev at lists.linuxfoundation.org

@_date: 2015-02-03 05:04:21
@_author: Will 
@_subject: [Bitcoin-development] Subject: Re: Proposal to address Bitcoin 
An idea for the bitcoin malware proposal below, the idea is at the bottom?
Using a desktop website and mobile device for 2/3 multisig in lieu of a hardware device (trezor) and desktop website (mytrezor) works, but the key is that the device used to input the two signatures?cannot be in the same band. ?What you are protecting against are MITM attacks. ?The issue is that if a single?device or network is compromised by malware, or if a party is connecting to a counterparty through a channel with compromised security, inputing 2 signatures through the?same device/band defeats?the purpose of 2/3 multisig. ?This is the same as how MITM defeats 2FA via mobile phone if the token is entered into the same website as the password - the token is simply passed through by the attacker to the secure session with the provider, allowing unfettered access or reuse of tokens for transactions other than those intended by the real user.
Companies have?found clever ways around MITM attacks using SSL sniff and derivatives by embedding code in mobile apps that communicate not with the website authenticating the user, but with 3rd party company that authenticates the token and passes the authentication to the website through a different secure channel, making the MITM attack far much more difficult. ?The trick here is that instead of one channel, we now have two channels that must be compromised. ?Also, the second channel is between a security company and a (hopefully) professionally run?financial?services website. ?There are other approaches to defeat MITM, such as fingerprinting pages to detect spoofs. ?The former (secure 3rd party channel) is very secure but requires a trusted third party. ?The latter (fingerprinting) is a crap shoot with very high?false positive rates. ?
Anyway, the exact same principles apply here to this conversation. ?The second signature must be presented from a separate band to maintain a higher?degree of security. ?If one signature occurs via HTTP(s) from application 1, another should be SMS through a carrier network, etc via application 2.
The trick we need to look at is how to use the bitcoin network as a delivery mechanism to bypass the need for the trusted third party in the example above. ?Instead of the second factor routing through a 3rd party to the intended recipient, we have another option - one that doesn?t require core development either.
1) Sender > signs signature 1 via desktop > bitcoin network 2/3 P2SH
2) Mobile app also used by sender receives req. from bitcoin network to sign signature - not through the site in 1 (similar to the 2nd channel between the website and security company above)
3) Sender > signs signature 2 via mobile app (or any separate device?operating on a different network - heck could be radio) > 2/3 signatures,?transaction?authorized
Any wallet service provider can use this model,?all they must do is develop two independent applications?such a secure browser plugin and a website, or a mobile app and a website that use 2/3 multisig to authorize transactions. ?No core development required - just better security design and execution by those developing wallets. ?If the protocol could natively communicate via two?separate?networks, that might be something to consider, but really developers should already?have all the tools they need, assuming they are competent.
If there was a way to perform 2/3 multisig without requiring a second band, performing the function safely by somehow knowing if the service is performed from a compromised device through some sort of on-blockchain anti-malware check by validating the signature of the signing?application by comparing it to a signature recorded when the multisig address was funded, ?that would be a really neat breakthrough. ?Food for thought, but I can?t see how that could be executed in a way where signatures couldn?t be spoofed from a compromised device. ?If someone cracks that problem, it?s a really big advance for information security.
My comments below start out with the presumption of user platform?
compromise, but the same analysis holds for the case where the user?
platform is clean but a web wallet is compromised. Obviously the idea is?
that either or both may be compromised, but integrity is retained as?
long as both are not compromised and in collusion.?

@_date: 2015-02-03 15:58:10
@_author: Will 
@_subject: [Bitcoin-development] Subject: Re: Proposal to address Bitcoin 
Hi Adam - the conversation was pretty open regarding the factor / channel used to sign at the bottom. ?No argument from me and I agree completely that hardened single purpose computers are more secure than desktop browsers, browser extensions, SMS, or mobile apps when involved in multisig authorization. ?The point below was that risks with other channels are far higher if auth data is input from two channels through one, such as entering a 2FA phone token and desktop password into the same desktop browser session - MITM phishing attack on websites that bypasses phone 2FA as an example, serendipitously timed yet tragic example of this scam with coinbase today:?
On the topic of hardened single purpose computers, and I mean no offense to our friends at Trezor, Case, or similar but I think the future of this type of security approach with bitcoin is extremely bright. ?It?s just far more likely to involve chips integrated directly in PC / Mac motherboards and mobile devices / wearables where signing is done in the hardware inaccessible to the OS or BIOS. ?This is a way for mainstream users to use bitcoin securely, integrate it with apps running from popular OS?s and get bitcoin into the internet on a very granular level, and Joe six pack and Sally soccer mom never even know they are using multisig. ?It took 20+ years for people to get used to cards vs. cash. ?The telephone took 50 years to catch on and become cost competitive. I think the key is making it invisible to the user.
Reply:?Adam Weiss >
Using a desktop website and mobile device for 2/3 multisig in lieu of a hardware device (trezor) and desktop website (mytrezor) works, but the key is that the device used to input the two signatures?cannot be in the same band.? What you are protecting against are MITM attacks.? The issue is that if a single?device or network is compromised by malware, or if a party is connecting to a counterparty through a channel with compromised security, inputing 2 signatures through the?same device/band defeats?the purpose of 2/3 multisig. ?
Maybe I'm not following the conversation very well, but if you have a small hardware device that first displays a signed payment request (BIP70) and then only will sign what is displayed, how can a MITM attacker do anything other than deny service?? They'd have to get malware onto the signing device, which is the vector that a simplified signing device is specifically designed to mitigate.
TREZOR like devices with BIP70 support and third party cosigning services are a solution I really like the sound of.? I suppose though that adding BIP70 request signature validation and adding certificate revocation support starts to balloon the scope of what is supposed to be a very simple device though.
Regardless, I think a standard for passing partially signed transactions around might make sense (maybe a future extension to BIP70), with attention to both PC <-> small hardware devices and pushing stuff around on the Internet.? It would be great if users had a choice of hardware signing devices, local software and third-party cosigning services that would all interoperate out of the box to enable easy multisig security, which in the BTC world subsumes the goals of 2FA.

@_date: 2015-06-23 23:05:50
@_author: William Madden 
@_subject: [bitcoin-dev] Draft BIP : fixed-schedule block size increase 
Here are refutations of the approach in BIP-100 here:
To recap BIP-100:
1) Hard form to remove static 1MB block size limit
2) Add new floating block size limit set to 1MB
3) Historical 32MB message limit remains
4) Hard form on testnet 9/1/2015
5) Hard form on main 1/11/2016
6) 1MB limit changed via one-way lock in upgrade with a 12,000 block
threshold by 90% of blocks
7) Limit increase or decrease may not exceed 2x in any one step
8) Miners vote by encoding 'BV'+BlockSizeRequestValue into coinbase
scriptSig, e.g. "/BV8000000/" to vote for 8M.
9) Votes are evaluated by dropping bottom 20% and top 20%, and then the
most common floor (minimum) is chosen.
8MB limits doubling just under every 2 years makes a static value grow
in a predictable manner.
BIP-100 makes a static value grow (or more importantly potentially
shrink) in an unpredictable manner based on voting mechanics that are
untested in this capacity in the bitcoin network.  Introducing a highly
variable and untested dynamic into an already complex system is
unnecessarily risky.
For example, the largely arbitrary voting rules listed in 9 above can be
gamed.  If I control pools or have affiliates involved in pools that
mine slightly more than 20% of blocks, I could wait until block sizes
are 10MB, and then suddenly vote "/BV5000000/" for 20% of blocks and
"/BV5000001/" for the remaining 10%.  If others don't consistently vote
for the same "/BV value, vote too consistently and have their value
thrown out as the top 20%, I could win the resize to half capacity
"/BV5000001/" because it was the lowest repeated value not in the bottom
I could use this to force an exodus to my sidechain/alt coin, or to
choke out the bitcoin network.  A first improvement would be to only let
BIP-100 raise the cap and not lower it, but if I can think of a
vulnerability off the top of my head, there will be others on the other
side of the equation that have not been thought of.  Why bother
introducing a rube goldberg machine like voting when a simple 8mb cap
with predictable growth gets the job done, potentially permanently?

@_date: 2015-06-24 09:06:40
@_author: Will 
@_subject: [bitcoin-dev] Draft BIP : fixed-schedule block size increase 
Yes, but with a key distinction.   Today miners may collude to (or unintentionally) lower the block size limit for blocks they win.  BIP-100 introduces the possibility of lowering the block size limit for everyone over the next 12,000 blocks.
Another gap involves laziness.  What is a far more likely issue is not a conspiracy but that miners will be lazy and hard code their vote values, requiring arm twisting later to change them.  Preventing this headache introduces the need for more complexity, either by making the default a non-vote (which makes it easier to game the system with less voting power), or by making the default vote = MAX_BLOCK_SIZE * 1.09 (which makes the default similar is to Gavin's proposal).
I think with a default vote that is ~9% larger than the previous max block size and no option to lower the max block size then BIP-100 could work without added risk or defeating the intended purpose.  Still, one has to ask if the benefit is there to justify the additional moving parts.

@_date: 2015-06-26 11:13:38
@_author: Will 
@_subject: [bitcoin-dev] Draft BIP : fixed-schedule block size increase 
Make the default soft vote = to previous max block size * 1.09 every 12k (or whatever mirrors the hard cap growth rate) and don't allow voting to lower the soft limit and I think you have something.
You need a default that grows because most miners are lazy and will do squirrelly things like hard code 8000000 as their vote permanently.  Make the lazy miners' default choice grow at the hard cap growth rate and you should be ok if you want voting.

@_date: 2015-06-26 15:07:30
@_author: Will 
@_subject: [bitcoin-dev] Draft BIP : fixed-schedule block size increase 
Moving averages have upsides and downsides vs fixed growth.  Moving averages are backwards looking and don't handle seasonalities or unanticipated increases in demand very well.
Think "Black Friday" or the horribly named "Cyber Monday" in retail or market hysteria where millions of noobs jump into or out of bitcoin.
If you want to create fee pressure I think this can be done, but I would keep both of these in mind before choosing a value for N.  Adjustments would need to be frequent and nimble enough to handle seasonalities and other unanticipated outliers.
