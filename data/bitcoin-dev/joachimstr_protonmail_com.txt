
@_date: 2019-11-08 15:19:17
@_author: =?UTF-8?Q?Joachim_Str=C3=B6mbergson?= 
@_subject: [bitcoin-dev] Dynamic MaxBlockSize - 3 Byte Solution 
While I agree on NACKing the proposal as it does not add anything new and fundamentally misunderstands what scaling is (or is not in this case), I disagree with the claim that we do not need to deal with block size issue in the future any more. Segwit increased our possibilities on how to use the space more efficiently, but so far it did not completely. It's yet to be seen if advanced offchain constructions such as channel factories are enough. At this moment to claim that would be very bold and hardly justified.
Sent with [ProtonMail]( Secure Email.
??????? Original Message ???????

@_date: 2019-10-12 17:56:51
@_author: =?UTF-8?Q?Joachim_Str=C3=B6mbergson?= 
@_subject: [bitcoin-dev] Chain width expansion 
I like the backwards syncing idea. First you provide proof of your best block height via coinbase, then sync backwards. It solves lots of related problems. You know how much you can expect from the given peer.
On different note, one of the problems that I haven't seen mentioned here yet is the timewarp attack. It is relevant to some of the proposed solutions. It should be possible, IIRC, for a malicious node to generate much longer chain with superslow timestamp increase (~5 blocks in 1 second) without increasing difficulty (i.e. staying at min. diff.). This could produce chain that is ~2500 times longer than main chain without having multiple branches.
I also agree that there is no big difference between hash checkpoints and "min. diff. checkpoints".
Sent with [ProtonMail]( Secure Email.
??????? Original Message ???????

@_date: 2019-10-15 07:20:07
@_author: =?UTF-8?Q?Joachim_Str=C3=B6mbergson?= 
@_subject: [bitcoin-dev] Chain width expansion 
You can fake it of course, but it means you are spending money for PoW and I can't see viable attack here. You can commit to either lower height than actual or higher height, if you are malicious. If it is lower, then your chain will look weaker with some heuristic based on PoW of the tip and the chain length. So you are not going to do that. It thus seem it only makes sense to commit to higher than actual height. OK, this could convince me to be interested in your chain over others. So let's say the real chain is 600k blocks, you claim 1m blocks, and you prove 1m height block to me. So I can ask you about
1) 2000 headers from the tip down
2) AND another proof of height for the block at 1m-2000.
To be able to provide that you need to have such a chain and you can reuse any real subchain from mainnet. It's still possible that you can deliver that, but not for high difficulty.
Now if time warp attack is blocked, you will have pretty hard time to create such a chain that would look strongest in cumulative work. I don't have actual numbers though, so I can't say this would mitigate everything.
This calculation does not apply under time warp attack. You can fake timestamps of all blocks except for those relevant to the retarget calculation. Those are only the first and the last block in the 2016 block window.

@_date: 2019-10-24 08:01:49
@_author: =?UTF-8?Q?Joachim_Str=C3=B6mbergson?= 
@_subject: [bitcoin-dev] Signaling support for addr relay (revision #1) 
I don't have a strong opinion here but intuitively, it seems to me that per-link variant makes better sense as I currently can't imagine the future requirement for completely opting out.

@_date: 2020-01-13 17:34:17
@_author: =?UTF-8?Q?Joachim_Str=C3=B6mbergson?= 
@_subject: [bitcoin-dev] Coins: A trustless sidechain protocol 
I am not familiar enough with the latest advancements in this field. Is it possible using LN/channel factories to achieve off-line-like participation user experience without previous registration with any kind of gateway provider? For example, can you go online, join the network [somehow instantly], generate address/invoice and then put it somewhere for others to later use it when you are off-line? Can you also participate while being off-line for very long periods of time without relying on third party providers to secure your channels? If not, is using sidechains really equally replaceable with LN/CF constructions?
Sent with ProtonMail Secure Email.
??????? Original Message ???????

@_date: 2020-01-13 18:06:17
@_author: =?UTF-8?Q?Joachim_Str=C3=B6mbergson?= 
@_subject: [bitcoin-dev] Coins: A trustless sidechain protocol 
While I haven't rejected sidechains entirely yet, this particular proposal seems uninteresting, especially for two reasons.
One ? it introduces a new token for each sidechain and suggests atomic swaps to be used for the exchange of the mainchain token with the sidechain token. Such a model seems nonsensical to me because there seems to be excessive number of blockchain projects that can be used similarly just as the sidechain in this proposal. Pick almost any altcoin out there and you can atomic swap it with Bitcoin. The fact that your sidechain is somehow mathematically bound to Bitcoin seems arbitrary because at the end you have a new token and a new issuance model. Therefore this is not extending Bitcoin economy, which is strictly limited by its convergence to zero inflation. This proposal is inflating the supply with a new token, which goes against what many people consider as a pillar of Bitcoin's value proposal. I think if you implement this proposal, you are going not to be considered as a Bitcoin sidechain, but you will be, from certain point of view, indistinguishable from any other altcoin. At the level of my current understanding, the only interesting sidechain model is the [theoretical] one with a two way peg with Bitcoin, preserving the issuance policy of Bitcoin.
Two ? the security of the proposed system seems to be very fragile, unless I have missed something. When I think about sidechains, I expect that it should be possible to create a niche chain which is used by few participants while the security of the chain is somehow guaranteed from its bind to the mainchain. If this was not the case, such a niche sidechain could easily be attacked, even if just stalled/censored for a long period time, with just a small [absolute] investment from an attacker, although this investment might be large if taken relatively to the utility of this niche sidechain. So if we speak concretely about your proposal, you assume honest majority of validators. But in your system the validators come from locking of stake on Bitcoin chain by nodes that are interested in a particular sidechain. If you put this model on a niche chain where only few participants are interested in it, it's trivial for an attacker to be stronger [have more Bitcoin to lock] than all legitimate users together. You should only use honest majority assumption where the scope is global, where it is very hard and very expensive to obtain majority.
Sent with [ProtonMail]( Secure Email.
??????? Original Message ???????

@_date: 2020-01-13 20:49:51
@_author: =?UTF-8?Q?Joachim_Str=C3=B6mbergson?= 
@_subject: [bitcoin-dev] Coins: A trustless sidechain protocol 
Hi Robin,
??????? Original Message ???????
I can't see any difference and advantage over doing the same with say Litecoin. All you need is to create a special wallet which offers atomic swaps LTC-BTC and its unit of account displayed to user is going to be BTC. All you say will work perfectly with this special LTC wallet. Therefore your idea is as good as any other altcoin. In your case, someone else should indeed be able to create such a wallet in which the unit of account will be the new token, thus emulating the current LTC wallets. So the only difference in Litecoin is that the special wallet with BTC as unit is going to be created after the native one, while in your case it is vice versa.
I simply can't see why I'd call this construction of yours a Bitcoin sidechain and any other altcoin not. So I'd call both altcoins.
Comparison to other models is not relevant to my claim that such construction is insecure for small sidechains. And for big sidechains the reason  prefers any other altcoin. Even if you introduce proof of burn, the final attack cost is small for an attacker in absolute numbers, despite the fact that in the relative numbers the cost is huge.

@_date: 2020-01-14 15:06:32
@_author: =?UTF-8?Q?Joachim_Str=C3=B6mbergson?= 
@_subject: [bitcoin-dev] Coins: A trustless sidechain protocol 
Hi Robin.
While your motivation seems reasonable, your solution is not. It is not enough that a problem exists. Although the solution must be technically sound for the proposal to be interesting. So I agree it makes sense to consider Bitcoin sidechains, not sure if with PoS consensus or other, but no one yet proposed a viable solution, other than Federation based sidechains. Your proposal explored a single specific PoS sidechain, which to me does not sound interesting. Maybe you can improve it, maybe not.
I also disagree that it is okay if anyone can halt operation of a sidechain with just tiny investment. For me that is critical security flaw of your proposal. By enforcing stakers having to stake per chain you have actually lowered the cost for the attacker to attack each specific chain.
Sent with [ProtonMail]( Secure Email.
??????? Original Message ???????

@_date: 2020-06-07 16:51:10
@_author: =?UTF-8?Q?Joachim_Str=C3=B6mbergson?= 
@_subject: [bitcoin-dev] BIP OP_CHECKTEMPLATEVERIFY 
Hello everyone,
regarding OP_CTV, I am considering the scaling use case, specifically an exchange (or similar) who wants to batch pay to OP_CTV to many users, and I wonder
1) How do you expect the exchange to communicate the proof of the payment to the user wallets such that they are able to construct the follow up transactions and accept the payment. This is UI question. Do you expect exchanges to provide a certain importable file/blob that the wallet will allow you to entry?
2) Who pays the fees and how for the transaction within the structure that OP_CTVed output is committed to? Say there is a tree structure and I want to get the coin out. Someone needs to send log(N) transactions to the chain in order for me to get access to the final UTXO I am interested in. Who can construct such transaction path and what do they need for it and who pays fees on that (which input)?
3) Depending on 2) above, is it not possible for a malicious entity who is among the many users being paid, but who has very small UTXO there relative to others, to construct this middle transaction and use a very small fee rate in order to DoS other participants. Is it even possible for this attacker to create the middle transaction with RBF disabled?
Thank you,
Sent with [ProtonMail]( Secure Email.
??????? Original Message ???????
