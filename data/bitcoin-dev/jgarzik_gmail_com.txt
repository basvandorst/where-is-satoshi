
@_date: 2015-08-11 11:46:25
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Future Of Bitcoin-Cores Wallet 
+1  Glad to see this work.
The Bitcoin Core wallet is a bit neglected these days - maintained but not
On Tue, Aug 11, 2015 at 5:02 AM, Jonas Schnelli via bitcoin-dev <

@_date: 2015-08-12 12:46:38
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Voting (BIP-100) Question, Etc. 
Many miners are already voting on BIP 100 -- see the blocks published.
The BIP itself should be submitted w/ implementation in the next 2 weeks.
On Wed, Aug 12, 2015 at 12:44 PM, odinn via bitcoin-dev <

@_date: 2015-08-16 20:30:05
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Minimum Block Size 
"minimum" an interesting topic.
- Traffic levels may not produce a minimum size block
- Miners can always collude to produce a lowered maximum block size, a sort
of minimum maximum
On Sun, Aug 16, 2015 at 12:41 PM, Levin Keller via bitcoin-dev <

@_date: 2015-08-17 13:28:54
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Bitcoin XT Fork 
In times of controversy or flamewar on the Linux kernel mailing list,
occasionally fake "Linus Torvalds" or other spoofed posts would appear.  It
is the nature of email.  Just ignore it.

@_date: 2015-08-19 10:01:25
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] CLTV/CSV/etc. deployment considerations due to 
A lot of this detail and worry is eliminated by simply asking BIP 102
maintainers to change to a different bit that works best for everyone.
Existing nVersion garbage will get buried in sufficient time window to
prevent anything from triggering.
Just settle on a specific standard, reserve bits for feature upgrade forks,
and move on.  There is already a rough standard proposed in sipa's gist.
On Wed, Aug 19, 2015 at 9:22 AM, Tier Nolan via bitcoin-dev <

@_date: 2015-08-19 10:20:25
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Separated bitcoin-consensus mailing list (was Re: 
bitcoin-dev for protocol discussion and bitcoin-core for Bitcoin Core
As Jorge notes, a general discussion list has existed for a long time with
little use.
On Wed, Aug 19, 2015 at 5:58 AM, Btc Drak via bitcoin-dev <

@_date: 2015-08-19 10:35:36
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Miners are struggling with blocks far smaller 
As jl2012 indicated, this is an insufficient analysis.
You cannot assume that because X time passed since the last block, the
miner's internal block maker has updated the template, and from there, is
shipped out to the hashers in the field.  Further, even if you update the
block template at time Y, a hasher might return with a solution for the
block at time X, and the miner will of course publish solution X.
There are several steps of latency involved, even ignoring things such as
the miner relay network or getting US pool stratum links to a sub-pool in
On Mon, Aug 17, 2015 at 4:42 AM, Luv Khemani via bitcoin-dev <

@_date: 2015-08-21 01:48:23
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Revisiting NODE_BLOOM: Proposed BIP 
If this is widely deployed + enabled, what is the impact to current wallets
in use?
On Fri, Aug 21, 2015 at 12:46 AM, Matt Corallo via bitcoin-dev <

@_date: 2015-08-21 02:01:06
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Revisiting NODE_BLOOM: Proposed BIP 
I don't see any link to data backing up "Bloom filter usage has declined
Is there actual data showing this feature's use is declining or

@_date: 2015-08-24 10:40:41
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Questiosn about BIP100 
Great questions.
- Currently working on technical BIP draft and implementation, hopefully
for ScalingBitcoin.org.  Only the PDF is publicly available as of today.
- Yes, the initial deployment is in the same manner as size votes.
On Fri, Aug 21, 2015 at 7:38 PM, Andrew C via bitcoin-dev <

@_date: 2015-08-24 10:46:33
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] RE : Visualizations of Votes 
There is a duplicated column.
BIP 100 voting is /BV\d+/
On Fri, Aug 21, 2015 at 9:24 AM, Christian Decker via bitcoin-dev <

@_date: 2015-08-27 16:49:59
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Questiosn about BIP100 
20th percentile, though there is some argument to take the 'mode' of
several tranches

@_date: 2015-12-02 11:39:57
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Scaling Bitcoin - summarizing non-jgarzik block size 
To collect things into one place, I was asked by Kanzure to cover
non-jgarzik block size BIPs in a quick summary, and the Scaling Bitcoin
conf folks have graciously allocated a bit of extra time for this.
e.g. BIP 100.5, 103, 105, 106 - "the serious ones"
If there is some input people would like to add to the meat grinder prior
to Dec 7, email jeff at bloq.com

@_date: 2015-12-10 12:03:30
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Standard BIP Draft: Turing Pseudo-Completeness 
There is no need for a BIP draft.  "Turing complete" is just a fancy,
executive-impressing term for "it can run any computer program", or put
even more simply, "it can loop"
Furthermore, the specification of such a language is trivial.  It is the
economics of validation that is the complex piece.  Proving whether or not
a program will halt as expected - The Halting Problem - is near impossible
for most complex programs.  As a result, your proof is... running the
program.  That produces enormous validation consequences and costs for
generic-execution scripts when applied to a decentralized network of
validation P2P nodes.
If you need that capability, it is just as easy to use a normal C/C++/etc.
computer language, with your preferred algorithm libraries and development
See  for a working example of provable
On Thu, Dec 10, 2015 at 9:35 AM, Luke Durback via bitcoin-dev <

@_date: 2015-12-16 09:53:58
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Block size: It's economics & user preparation & moral 
Following the guiding WP principle of Assume Good Faith, I've been trying
to boil down the essence of the message following Scaling Bitcoin.  There
are key bitcoin issues that remain outstanding and pressing, that are*
orthogonal to LN & SW*.
I create multiple proposals and try multiple angles because of a few,
notable systemic economic and analysis issues - multiple tries at solving
the same problems.  Why do I do what I do -- Why not try to reboot... just
list those problems?
FE - "Fee Event", the condition where main chain MSG_BLOCK is 95+% to hard
limit for 7 or more days in row, "blocks generally full"   This can also be
induced by a miner squeeze (collective soft limit reduction).
Service - a view of bitcoin as a decentralized, faceless, multi-celled,
amorphous automaton cloud, that provides services in exchange for payment
Users - total [current | future] set of economic actors that pay money to
the Service, and receive value (figuratively or literally) in return
Block Size - This is short hand for MAX_BLOCK_SIZE, the hard limit that
requires, today, a hard fork to increase (excl. extension blocks etc.)
Guiding Principle:
Keep the Service alive, secure, decentralized, and censorship resistant for
as many Users as possible.
Observations on block size (shorthand for MAX_BLOCK_SIZE as noted above):
This is economically modeled as a supply limited resource over time.  On
average, 1M capacity is available every 10 minutes, with variance.
Observations on Users, block size and modern bidding process:
A supermajority of hashpower currently evaluates for block inclusion based,
first-pass, on tx-fee/KB.  Good.
The Service is therefore responsive to the free market and some classes of
DoS.  Good.
Recent mempool changes float relay fee, making the Service more responsive
to fast moving markets and DoS's.  Good progress.
Service provided to Users can be modeled at the bandwidth resource level as
bidding for position in a virtual priority queue, where up-to-1M bursts are
cleared every 10 min (on avg etc.).  Not a perfectly fixed supply,
definitionally, but constrained within a fixed range.
Observations on the state of today's fee market:
On average, blocks are not full.  Economically, this means that fees trend
towards zero, due to theoretically unlimited supply at <1M levels.
Of course, fees are not zero.  The network relay anti-flood limits serve as
an average lower limit for most transactions (excl direct-to-miner).
Wallet software also introduces fee variance in interesting ways.  All this
fee activity is range-bound on the low end.
Let the current set of Users + transaction fee market behavior be TFM
(today's fee market).
Let the post-Fee-Event set of Users + transaction fee market behavior be
FFM (future fee market).
*Key observation:   A Bitcoin Fee Event (see def. at top) is an Economic
Change Event.*
An Economic Change Event is a period of market chaos, where large changes
to prices and sets of economic actors occurs over a short time period.
A Fee Event is a notable Economic Change Event, where a realistic
projection forsees higher fee/KB on average, pricing some economic actors
(bitcoin projects and businesses) out of the system.
*It is a major change to how current Users experience and pay for the
Service*, state change from TFM to FFM.
The game theory bidding behavior is different for a mostly-empty resource
versus a usually-full resource.  Prices are different.  Profitable business
models are different.  Users (the set of economic actors on the network)
are different.
Observation:  Contentious hard fork is an Economic Change Event.
Similarly, a fork that partitions economic actors for an extended period or
permanently is also an Economic Change Event, shuffling prices and economic
actors as the Service dynamically readjusts on both sides of the partition,
and Users-A and Users-B populations change their behavior.
Short-Term Problem   No-action on block size increase leads to an
Economic Change Event.
Failure to increase block size is not obviously-conservative, it is a
conscious choice, electing for one economic state and set of actors and
prices over another.  Choosing FFM over TFM.
*It is rational to reason that maintaining TFM is more conservative* than
enduring an Economic Change Event from TFM to FFM.
*It is rational to reason that maintaining similar prices and economic
actors is less disruptive.*
Failure to increase block size will lead to a Fee Event sooner rather than
Failure to plan ahead for a Fee Event will lead to greater market chaos and
User pain.
Short-Term Problem   Some Developers wish to accelerate the Fee Event,
and a veto can accomplish that.
In the current developer dynamics, 1-2 key developers can and very likely
would veto any block size increase.
Thus a veto (e.g. no-action) can lead to a Fee Event, which leads to
pricing actors out of the system.
A block size veto wields outsize economic power, because it can accelerate
*This is an extreme moral hazard:  A few Bitcoin Core committers can veto
increase and thereby reshape bitcoin economics, price some businesses out
of the system.  It is less of a moral hazard to keep the current economics
[by raising block size] and not exercise such power.*
Short-Term Problem   User communication and preparation
The current trajectory of no-block-size-increase can lead to short time
market chaos, actor chaos, businesses no longer viable.
In a $6.6B economy, it is criminal to let the Service undergo an ECE
without warning users loudly, months in advance:  "Dear users, ECE has
accelerated potential due to developers preferring a transition from TFM to
As stated, *it is a conscious choice to change bitcoin economics and User
experience* if block size is not advanced with a healthy buffer above
actual average traffic levels.
*Raising block size today, at TFM, produces a smaller fee market delta.*
Further, wallet software User experience is very, very poor in a
hyper-competitive fee market.   (This can and will be improved; that's just
the state of things today)
Short-Term Problem   User/Dev disconnect:   Large mass of users wishes
to push Fee Event into future
Almost all bitcoin businesses, exchanges and miners have stated they want a
block size increase.  See the many media articles, BIP 101 letter, and wiki
The current apparent-veto on block size increase runs contra to the desires
of many Users.  (note language: "many", not claiming "all")
*It is a valid and rational economic choice to subsidize the system with
lower fees in the beginning*.  Many miners, for example, openly state they
prefer long term system growth over maximizing tiny amounts of current day
Vetoing a block size increase has the effect of eliminating that economic
choice as an option.
It is difficult to measure Users; projecting beyond "businesses and miners"
is near impossible.
Without exaggeration, I have never seen this much disconnect between user
wishes and dev outcomes in 20+ years of open source.
Short-Term Problem   Higher Service prices can negatively impact system
Bitcoin depends on a virtuous cycle of users boosting and maintaining
bitcoin's network effect, incentivizing miners, increasing security.
Higher prices that reduce bitcoin's user count and network effect can have
the opposite impact.
(Obviously this is a dynamic system, users and miners react to higher
prices... including actions that then reduce the price)
Short-Term Problem   Post-Fee-Event market reboot problem + general lack
of planning
Game it out:   Blocks are now full (FFM).  Block size kept at 1M.
How full is too full - who and what dictates when 1M should be increased?
The same question remains, yet now economic governance issues are
compounded:  In FFM, the fees are very tightly bound to the upper bound of
the block size.  In TFM, fees are much less sensitive to the upper bound of
block size.
Changing block size, when blocks are full, has a more dramatic effect on
the market - suddenly new supply is magically brought online, and a minor
Economic Change Event occurs.
More generally, the post-Fee-Event next step has not been agreed upon.  Is
it flexcap?  This key "step  is just barely at whiteboard stage.
Short-Term Problem    Fee Event timing is unpredictable.
As block size free space gets tighter - that is the trend - and block size
remains at 1M, Users are ever more likely to hit an Economic Change Event.
It could happen in the next 2-6 months.
Today, Users and wallets are not prepared.
It is also understandably a very touchy subject to say "your business or
use case might get priced out of bitcoin"
But it is even worse to let worse let Users run into a Fee Event without
informing the market that the block size will remain at 1M.
Markets function best with maximum knowledge - when they are informed well
in advance of market shifting news and events, giving economic actors time
to prepare.
Short-Term Problem    Very little testing, data, effort put into
blocks-mostly-full economics
*We only know for certain that blocks-mostly-not-full works.*  We do not
know that changing to blocks-mostly-full works.
Changing to a new economic system includes boatloads of risk.
Very little data has been forthcoming from any party on what FFM might look
like, following a Fee Event.
Observation:   In the long run, it is assumed we need a "healthy fee market"
Yes, absolutely.  In the long run, bitcoin was intended to be supported by
transaction fees and not the minting of new supply, and the design of the
system is to slowly wean Users off new supply and onto transaction fees for
supporting the Service.
While agreeing with the goal, it must be acknowledge that this is a vague
and untested goal with many open economic questions -- more of a hope,
It is more conservative to preserve current economics than to change to a
new system with new economics and no notion of what-comes-next (flexcap?)
in terms of system security, healthy sustainable market levels, and impact
of changes during and following an ECE.
Core recommendations:
1) "Short term bump"  Block size increase to maintain buffer.  I've no
special BIP preference.
This avoids moral hazard and avoids a major Economic Change Event, as well
many other risks.
2) If block size stays at 1M, the Bitcoin Core developer team should sign a
collective note stating their desire to transition to a new economic
policy, that of "healthy fee market" and strongly urge users to examine
their fee policies, wallet software, transaction volumes and other possible
User impacting outcomes.
3) Even if can is kicked down the road, Fee Event will come eventually.
Direct research, testing and simulations into the economics and user impact
side of the equation.  Research and experiment with pay-for-burst (pay to
future miner), flexcap and other solutions ASAP.
The worst possible outcome is letting the ecosystem randomly drift into the
first Fee Event without openly stating the new economic policy choices and
The simple fact is *inaction* on this supply-limited resource, block size,
will change bitcoin to a new economic shape and with different economic
actors, selecting some and not others.
It is better to kick the can and gather crucial field data, because
next-step (FFM) is very much not fleshed out.

@_date: 2015-12-16 15:38:30
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Segregated Witness in the context of Scaling Bitcoin 
1. Summary
Segregated Witness (SegWitness, SW) is being presented in the context of
Scaling Bitcoin.  It has useful attributes, notably addressing a major
malleability vector, but is not a short term scaling solution.
2. Definitions
Import Fee Event, ECE, TFM, FFM from previous email.
Older clients - Any software not upgraded to SW
Newer clients - Upgraded, SW aware software
Block size - refers to the core block economic resource limited by
MAX_BLOCK_SIZE.  Witness data (or extension block data) is excluded.
Requires a hard fork to change.
Core block - Current bitcoin block, with upper bound MAX_BLOCK_SIZE.  Not
changed by SW.
Extended transaction - Newer, upgraded version of transaction data format.
Extended block - Newer, upgraded version of block data format.
EBS - Extended block size.  Block size seen by newer clients.
3. Context of analysis
One proposal presents SW *in lieu of* a hard fork block size increase.
This email focuses directly on that.
Useful features outside block size context, such as anti-malleability or
fraud proof features, are not covered in depth.
4.1.  Observations on data structure formats and views
SW creates two *views* of each transaction and block.  SW has blocks and
extended blocks.  Similarly, there exists transactions and extended
This view is rendered to clients depending on compatibility level.  Newer
clients see extended blocks and extended transactions.  Older clients see
blocks (limit 1M), and do not see extended blocks.  Older clients see
upgraded transactions as unsigned, anyone-can-pay transactions.
Each extended transaction exists in two states, one unsigned and one
signed, each of which passes validation as a valid bitcoin transaction.
4.2.  Observations on behavior of older transaction creation
Transactions created by older clients will not use the extended transaction
format.  All data is stored the standard 1M block as today.
4.3.  Observations on new block economic model
SW complicates block economics by creating two separate, supply limited
The core block economic resource is heavily contended.  Older clients use
core blocks exclusively.  Newer clients use core blocks more
conservatively, storing as much data as possible in extended blocks.
The extended block economic resource is less heavily contended, though that
of course grows over time as clients upgrade.
Because core blocks are more heavily contended, it is presumed that older
clients will pay a higher fee than newer clients (subject to elasticity
5.1.  Problem:  Pace of roll-out will be slow - Whole Ecosystem must be
The current apparent proposal is to roll out Segregated Witness as a soft
fork, and keep block size at 1M.
The roll-out pace cannot simply be judged by soft fork speed - which is
months at best.  Analysis must the layers above:  Updating bitcoin-core
(JS) and bitcoinj (Java), and then the timelines to roll out those updates
to apps, and then the timeline to update those apps to create extended
Overall, wallet software and programmer libraries must be upgraded to make
use of this new format, adding many more months (12+ in some stacks) to the
roll out timeline.  In the meantime, clients continue to contend entirely
for core block space.
5.2.  Problem:   Hard fork to bigger block size Just Works(tm) with most
software, unlike SW.
A simple hard fork such as BIP 102 is automatically compatible with the
vast range of today's ecosystem software.
SW requires merchants to upgrade almost immediately, requires wallet and
other peripheral software upgrades to make use of.  Other updates are
opt-in and occur more slowly.  BIP 70 processors need some updates.
The number of LOC that must change for BIP 102 is very small, and the
problem domain well known, versus SW.
5.3.  Problem:   Due to pace, Fee Event not forestalled.
Even presuming SW is merged into Bitcoin Core tomorrow, this does not
address the risk of a Fee Event and associated Economic Change in the
coming months.
5.4.  Problem:   More complex economic policy, new game theory, new bidding
structure risks.
Splitting blocks into two pieces, each with separate and distinct behaviors
and resource values, creates *two fee markets.*
Having two pricing strata within each block has certainly feasible - that
is the current mining policy of (1) fee/KB followed by (2) priority/age.
Valuable or not - e.g. incentivizing older clients to upgrade - the fact
remains that SW creates a more-complex bidding structure by creating a
second economic resource.
*This is clearly a change to a new economic policy* with standard risks
associated with that.  Will that induce an Economic Change Event (see def
last email)?  *Unlikely*, due to slow rollout pace.
5.5.  Problem:  Current SW mining algorithm needs improvement
Current SW block template maker does a reasonable job, but makes some naive
assumptions about the fee market across an entire extended block.  This is
a mismatch with the economic reality (just described).
5.6.   Problem:  New, under-analyzed attack surfaces
Less significant and fundamental but still worth noting.
This is not a fundamental SW problem, but simply standard complexity risk
factors:  splitting the signatures away from transactions, and creating a
new apparently-unsigned version of the transaction opens the possibility of
some network attacks which cause some clients to degrade down from extended
block to core block mode temporarily.
There is a chance of a failure mode that fools older clients into thinking
fraudulent data is valid (judgement: unlikely vis hashpower but not
6. Conclusions and recommendations
It seems unlikely that SW provides scaling in the short term, and SW
introduces new economics complexities.
A "short term bump" hard fork block size increase addresses economic and
ecosystem risks that SW does not.
Bump + SW should proceed in parallel, independent tracks, as orthogonal
7. Appendix - Other SW comments
Hard forks provide much stronger validation, and ensure the network
operates at a fully trustless level.
SW hard fork is preferred, versus soft fork.  Soft forking SW places a huge
amount of trust on miners to validate transaction signatures, versus the
rest of the network, as the network slowly upgrades to newer clients.
An SW hard fork could also add several zero-filled placeholders in a merkle
tree for future use.

@_date: 2015-12-16 16:08:29
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Block size: It's economics & user preparation & 
This circles back to Problem    Avoidance of a choice is a still a
choice - failing to ACK a MAX_BLOCK_SIZE increase still creates very real
Economic Change Event risk.
And   If the likely predicted course is that Bitcoin Core will not
accept a protocol change changing MAX_BLOCK_SIZE via hard fork in the short
term, the core dev team should communicate that position clearly to users
and media.
Hitting a Fee Event is market changing, potentially reshuffling economic
actors to a notable degree.  Maintaining a short term economic policy of
fixed 1M supply in the face of rising transaction volume carries risks that
should be analyzed and communicated.

@_date: 2015-12-16 16:27:15
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Segregated Witness in the context of Scaling 
It is correct.  There are two separate sets of economic actors and levels
of contention for each set of space.
That is true regardless of the proposed miner selection algorithm.
See above.  There are two separate and distinct resource velocities and
demand levels in reality.  That creates two markets regardless of miner
selection algorithm in the block maker.

@_date: 2015-12-16 16:36:18
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Block size: It's economics & user preparation & 
The question is answered in the original email.
In the short term, the risk of a Fee Event and lack of solid post-Fee-Event
economic plan implies "short term bump" reduces those risks.
It is also true - as noted in [1], a bump does create the danger of long
term moral hazard.
This is why a bump should be accompanied with at least a weak public
commitment to flexcap or a similar long term proposal, as the original
email recommended.  Communicate clearly the conditions for future change,
then iterate as needs and feedback indicate.
[1]

@_date: 2015-12-16 17:09:58
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Segregated Witness in the context of Scaling 
Maybe a new analogy helps.
SW presents a blended price and blended basket of two goods.  You can
interact with the Service through the blended price, but that does not
erase the fact that the basket contains two separate from similar resources.
A different set of economic actors uses one resource, and/or both.  There
are explicit incentives to shift actors from solely using one resource to
using both.
The fact that separate sets of economic actors and incentives exist is
sufficient to prove it is indeed a basket of goods, not a single good.
On Wed, Dec 16, 2015 at 4:36 PM, Pieter Wuille Under your blended algorithm, this seems reasonable as a first pass.
This is a microscopic, not macroscopic analysis.  Externalities and long
term incentives can severely perturb or invalidate that line of thinking.
Typical counter-example:  Many miners are perfectly happy with very low
fees to encourage long term growth of their bitcoin income through network
effect growth -- rendering fee micro-optimizations largely in the realm of
DoS prevention rather than miner incentive.

@_date: 2015-12-16 17:27:40
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Block size: It's economics & user preparation & 
This was a very interesting dynamic, and seems fair (menu).
That was precisely my logic for picking May 5 as the hard fork date.  Some
buffer before halving, enough for caution and iteration in the meantime.
Not just wallet design -- you have to game through the standard steps of:
 update dev lib (bitcoin-core.js/bitcoinj) + release cycle, update app +
release cycle, for most actors in the ecosystem, on top of the Bitcoin Core
roll out.

@_date: 2015-12-16 21:21:22
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Segregated Witness in the context of Scaling 
On Wed, Dec 16, 2015 at 3:50 PM, Matt Corallo That's taking a big risk.  "Build up some fee pressure" is essentially
risking a Fee Event if uptake is slower than planned, or traffic is greater
than expected.
A hard fork will never achieve 100%  There are many credible folks and
estimates who feel a May hard fork is reasonable and doable.
Further, hard forks restore the full trustless nature of the post-hard-fork
nodes.  Soft forks continually erode that.  That's why SW should come via
hard fork.  The end result is more secure - 100% validation of witness
If regular hard fork plans are proposed in public, many months in advance,
there is plenty of time for the community to react.  Hard forks create a
more predictable market and environment for Users, and a more secure
Further, even if you believe SW makes hard fork unnecessary, it is the
responsible thing to code and communicate to users the plan for a Fee Event
just in case SW uptake and extension block use does not match theoretical
projections of SW proponents.
Finally, SW does not eliminate and is orthogonal to Short Term Problem (orig. email - drift into ECE)

@_date: 2015-12-16 21:58:35
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Segregated Witness in the context of Scaling 
At least on my part, the title of the 1st email was "It's economics & ..."
and focused on (a) economics and (b) transition issues.  There was no
confounding.  There was a list of real problems and risks taken when 1M is
not lifted in the short term.
Thus "SW is orthogonal" in these emails, because these problems remain
regardless of SW or no, as the 1st email outlined.
The 2nd email addresses the specific assertion of "no 1M hard fork needed,
because SW."

@_date: 2015-12-17 13:27:13
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Segregated Witness in the context of Scaling 
Illustration:  If SW is deployed via soft fork, the count of nodes that
validate witness data is significantly lower than the count of nodes that
validate non-witness data.  Soft forks are not trustless operation, they
depend on miner trust, slowly eroding the trustless validation of older
nodes over time.
Higher security in one data area versus another produces another economic
value distinction between the two goods in the basket, and creates a "pay
more for higher security in core block, pay less for lower security in
witness" dynamic.
This economic distinction is not present if SW is deployed via hard fork.

@_date: 2015-12-17 13:52:39
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Segregated Witness in the context of Scaling 
Yes - the logic applies to all soft forks.  Each soft fork degrades the
security of non-upgraded nodes.
The core design of bitcoin is that trustless nodes validate the work of
miners, not trust them.
Soft forks move in the opposite direction.  Each new soft-forked feature
leans very heavily on miner trust rather than P2P network validation.

@_date: 2015-12-18 00:11:48
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Block size: It's economics & user preparation & 
Diverging from the satoshi block size change plan[1] and current economics
would seem to require a high level of months-ahead communication to users.
Segregated Witness does not kick the can, it solves none of the problems
  -  explicitly defined and listed in email 1)  A plan of "SW + no hard fork" is gambling with ECE risk, gambling there
will be no Fee Event, because the core block size is still heavily
contended -- 100% contended at time out SW rollout.
2) We are only 100% certain that bitcoin works in the
blocks-not-full-on-avg state, where there is a healthy buffer between the
hard limit and the average block size.
There is remains major ECE risk due to the core block size freeze, possibly
pushing the system into a new, untried economic state and causing major
market and actor disruption.  Users of the Service can still drift randomly
and unpredictably into a Fee Event.
SW mitigates this
- only after several months
- only assuming robust adoption rates by up-layer ecosystem software, and
- only assuming transaction volume growth is flat or sub-linear
Those conditions *must* go as planned to fulfill "SW kicked the can" -- a
lot of if's.
As stated, SW is orthogonal to the drift-into-uncharted-waters problem
outlined in email  which a short term bump does address.

@_date: 2015-12-18 08:56:45
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Block size: It's economics & user preparation & 
Yes, I forgot the link:
[1] That is a red herring.  Nobody I know has proposed this, and I am opposed
to changing that fundamental.
It is well known that the 1M limit was never intended to stay, unlike 21M
coin limit etc.
1M was set high in the beginning because it is a DoS engineering limit, not
an [accidental] economic policy tool.
I am arguing for continuing what we know works.  We are 100% certain
blocks-not-full-on-avg works, where a "buffer" of space exists between avg
block size and hard limit.
Any other avenue is by definition speculation and risk.  You _think_ you
know what a healthy fee market _should_ be.  Massive damage occurs to
bitcoin if you are wrong - and I listed several
vis expectation, there is clear consensus and expectation that block size
would increase, from 2010 onward.  It was always a question of _when_ not
Sticking with 1M presents clear risk of (a) economic fracture and (b)
community fracture.  It quite clearly risks massive change to an unknown
system at an unknown, unpredictable date in the future.
BIP 102 presents an expected upgrade at a predictable date in the future.

@_date: 2015-12-18 15:02:24
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] The increase of max block size should be 
My first internal version triggered on block 406,800 (~May 5), and each
block increased by 20 bytes thereafter.
It was changed to time, because time was the standard used in years past
for other changes; MTP flag day is more stable than block height.
It is preferred to have a single flag trigger (height or time), rather than
the more complex trigger-on-time, increment-on-height, but any combination
of those will work.
Easy to change code back to height-based...
On Fri, Dec 18, 2015 at 2:52 PM, Jorge Tim?n <

@_date: 2015-12-18 15:15:54
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] The increase of max block size should be 
My preference is height activation + one step per block (i.e. also
height).  Height seems KISS.
AFAICT most of the attacks would occur around the already-heavily-watched
flag day activation event, in a height based environment, a useful
However I would like to hear from others about possible attacks with the
various approaches, before diverging from the default community approach of

@_date: 2015-12-20 06:34:29
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Forget dormant UTXOs without confiscating bitcoin 
On Sun, Dec 20, 2015 at 6:24 AM, Peter Todd via bitcoin-dev <
Yes, this is almost what -has- to happen in the long term.
Ideally we should start having wallets generate those proofs now, and then
introduce the max-age as a second step as a planned hard fork a couple
years down the line.
1) There is also the open question of "grandfathered" UTXOs - for those
wallets generated in 2009, buried in a landfill and then dug out 10 years
2) This reverses the useful minimization attribute of HD wallets - "just
backup the seed"

@_date: 2015-12-20 22:34:06
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Forget dormant UTXOs without confiscating bitcoin 
The data stored in the legacy case makes it possible to sign and send a
transaction without any connection to a network.  The data stored in the
upgraded case, absent grandfathering, requires significant network sync at
a minimum.
The user experience and security parameters are different.
Thus, issue/recommendation

@_date: 2015-12-20 22:39:52
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Increasing the blocksize as a (generalized) 
Current hard fork implementations include / will include miner lock-in,
just like any soft fork.  They will not activate if global consensus is not

@_date: 2015-07-02 23:25:03
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Defining a min spec 
If the freedom to pick architecture exists, Moxie is a nice, compact, easy
to audit alternative:
          Scaling can occur at the core level, rather than hyper-pipelining, keeping
the architecture itself nice and clean and simple.
On Thu, Jul 2, 2015 at 11:13 PM, Jeremy Rubin <

@_date: 2015-07-03 06:55:30
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Defining a min spec 
On Fri, Jul 3, 2015 at 1:33 AM, Jeremy Rubin <
Moxie was designed to be small and efficient from the compiler standpoint.
As a side effect, it is easy to audit from a security perspective.  It
started life as a simulator + gcc compiler backend, and then later became
an FPGA implementation.
Moxie would benefit from focused effort in building out the hardware side
to be efficient on FPGA, developing and testing multi-core support and
related efforts.  This area is less mature and could use attention.  Start
at In terms of other projects, there are many open source processor cores at

@_date: 2015-07-10 12:13:29
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Why not Child-Pays-For-Parent? 
CPFP is interesting, but it does not fully cover the case it is trying to
address:   If TX_a goes out without sufficient fee, sending out a new TX_b
will not help TX_a suddenly reach nodes/miners that ignored TX_a.

@_date: 2015-07-10 12:31:01
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Why not Child-Pays-For-Parent? 
This is a good explanation but it does not address reachability.  TX_a, the
first tx sent out on the network, presumably has insufficient fee to get
mined - which also means it did not necessarily even reach all miners.
Simply sending out TX_b with added fee does not guarantee that nodes
suddenly have TX_a, which they may have ignored/dropped before.

@_date: 2015-07-11 11:34:54
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] SPV Mining reveals a problematic incentive issue. 
The miners with invalid blocks were punished with a loss of bitcoin
On Sat, Jul 11, 2015 at 4:05 AM, Nathan Wilcox

@_date: 2015-07-11 17:29:07
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Why not Child-Pays-For-Parent? 
It sounds like you are seeking transaction expiration from the mempool, not

@_date: 2015-07-17 11:55:19
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] BIP 102 - kick the can down the road to 2MB 
Opening a mailing list thread on this BIP:
BIP PR: Code PR: The general intent of this BIP is as a minimum viable alternative plan to
my preferred proposal (BIP 100).
If agreement is not reached on a more comprehensive solution, then this
solution is at least available and a known quantity.  A good backup plan.
Benefits:  conservative increase.  proves network can upgrade.  permits
some added growth, while the community & market gathers data on how an
increased block size impacts privacy, security, centralization, transaction
throughput and other metrics.  2MB seems to be a Least Common Denominator
on an increase.
Costs:  requires a hard fork.  requires another hard fork down the road.

@_date: 2015-07-22 10:33:18
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Bitcoin Core and hard forks 
This completely ignores *reality*, what users have experienced for the past
~6 years.
"Change in economics is always happening" does not begin to approach the
scale of the change.
For the entirety of bitcoin's history, absent long blocks and traffic
bursts, fee pressure has been largely absent.
Moving to a new economic policy where fee pressure is consistently present
is radically different from what users, markets, and software have
experienced and *lived.*
Analysis such as [1][2] and more shows that users will hit a "painful"
"wall" and market disruption will occur - eventually settling to a new
equilibrium after a period of chaos - when blocks are consistently full.
[1] [2] First, users & market are forced through this period of chaos by "let a fee
market develop" as the whole market changes to a radically different
economic policy, once the network has never seen before.
Next, when blocks are consistently full, the past consensus was that block
size limit will be increased eventually.  What happens at that point?
Answer - Users & market are forced through a second period of chaos and
disruption as the fee market is rebooted *again* by changing the block size
The average user hears a lot of noise on both sides of the block size
debate, and really has no idea that the new "let a fee market develop"
Bitcoin Core policy is going to *raise fees* on them.
It is clear that
- "let the fee market develop, Right Now" has not been thought through
- Users are not prepared for a brand new economic policy
- Users are unaware that a brand new economic policy will be foisted upon
All that has to do be done to change bitcoin to a new economic policy - not
seen in the entire 6 year history of bitcoin - is to stonewall work on
block size.
Closing size increase PRs and failing to participate in planning for a
block size increase accomplishes your stated goal of changing bitcoin to a
new economic policy.
"no [code] change"... changes bitcoin to a brand new economic policy,
picking economic winners & losers.  Some businesses will be priced out of
bitcoin, etc.
Stonewalling size increase changes is just as much as a Ben Bernanke/FOMC
move as increasing the hard limit by hard fork.
Actually you are.
When size increase progress gets frozen out of Bitcoin Core, that just
*increases* the chances that progress must be made through a contentious
hard fork.
Further, it increases the market disruption users will experience, as
described above.
Think about the users.  Please.

@_date: 2015-07-22 10:43:19
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] BIP 102 - kick the can down the road to 2MB 
On Tue, Jul 21, 2015 at 6:58 AM, Peter Todd via bitcoin-dev <
mmmm kay.  Let's try to keep it technical, please.
2MB is a limit that has been discussed as a viable next-step, meeting with
the most consensus.
2MB gets beyond the 1MB hard fork issue, while still remaining within a
safety cap that should ensure the system does not go "off the rails" as
some has predicted.
Security, privacy and centralization are not going to disappear at 2MB.
Further, a limited step gains valuable field data for judging whether
further steps are warranted - thus informing the "better block size
solution" development process.
Finally, as stated in the initial PR, it is intended as a viable fallback
should we reach a point of criticality where the user community feels a
block size increase is warranted, yet cannot reach consensus on a fancy,
all-consuming solution be it 20MB, flexcap, BIP 100, BIP 102, etc.
I am open to suggestions for improving BIP 102.  The goal is a minimum
complexity fallback that others have previously agreed was a useful
kick-the-can compromise - a static 2MB cap.

@_date: 2015-07-22 11:24:57
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Bitcoin Core and hard forks 
There is a vast difference between what software developers have been
chattering about in the background versus what the users actually
experience in the field.
To the user, talk of a fee market is equivalent to talk about block size -
various opinions are tossed about, but it doesn't really impact them.  Fees
have been low for 6 years.
We see this with the actual data - no fee pressure on average for the
entirety of bitcoin's history.  We see this with the recent stress tests,
which exposed dumb wallet behavior WRT fees.   Users -and software- had the
Remember, this is not a judgement on whether or not fee market/pressure
should exist.  It is simply a factual observation that users/market have
not experienced this new economic policy.
That opens the question - *why now?*   Why make bitcoin growth more
expensive at this time in its young life?  Many smart people would prefer
that bitcoin continue to grow, rather than making the system more expensive
to use right now.
Choosing "let a fee market develop" -- *today* -- is picking economic
sides, picking winners & losers in the market.
This new policy should be debated and consensus achieved, not simply rolled
out by fiat without user notification.
Otherwise it is engaging in precisely the economic wizardry that this
thread opened with decrying.
Just like block size, there are multiple sides to the fee market debate.
However, Bitcoin Core has (unfortunately) outsized decision making power in
that simply avoiding progress on block size limit will achieve the "let a
fee market develop" economic policy change.  Ironic but true - sitting
around and doing nothing dumps users into a new economic policy.

@_date: 2015-07-22 11:01:53
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Bitcoin Core and hard forks 
Please do not interpret - as many have - my points as advocating against
letting a fee market ever develop(!).
Fees are useful against DoS, increasing cost of attack etc.  Further,
continuing the artificially-low fee policy ad infinitum is unsustainable
and constitutes a moral hazard.
Examine from the user's point of view.  If you want to develop a fee
market, think it through in the context of user expectation/experience -
which translates to how software is written and users behave, the context
of market disruption, and the context of further block size increases.
Transition to a new economic policy should be planned.  It should give
users and markets time to adjust.
It is grossly irresponsible to simply drop users into a new economic policy
with no warning and no preparation.

@_date: 2015-07-22 15:30:59
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Bitcoin Core and hard forks 
I wouldn't go quite that far.  The reality is somewhere in the middle, as
Bryan Cheng noted in this thread:
Quoting BC,
ideals is in no way a forced choice, as you have stated in your email;
forks, alternative clients, or staying on an older version are all valid
choices. If the majority of the network chooses not to endorse a specific
change, then the majority of the network will continue to operate just fine
without it, and properly structured consensus rules will pull the minority
along as well.
The developers *propose* a new version, by publishing a new release.  The
individual network nodes choose to accept or reject that.
So I respectfully disagree with "core devs don't control the network" and
"core devs control the network" both.
There are checks-and-balances that make the system work.  Consensus is most
strongly measured by user actions after software release.  If the
developers fail to reflect user consensus, the network will let us know.
On Wed, Jul 22, 2015 at 2:43 PM, Mike Hearn via bitcoin-dev <

@_date: 2015-06-23 20:49:51
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Draft BIP : fixed-schedule block size increase 
Miners can collude today to lower the block size limit.
In fact, this largely happens already out of laziness - miners often follow
the "soft" default limit set by Bitcoin Core, to the point where you can
chart when miners upgrade to new software:
On Tue, Jun 23, 2015 at 8:05 PM, William Madden

@_date: 2015-06-24 16:49:25
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] BIP Process and Votes 
BIPs  are accepted into BIP repo with a low "reasonable" threshold.
Code is accepted into the Bitcoin Core repo when it is likely that the
community will accept a change.
There is no voting in the way you think. Devs commit changes the users will
accept and use. Users "fire" developers by choosing different devs or
different software.
Standard open source method.

@_date: 2015-06-24 22:07:26
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] BIP Process and Votes 
Ladies & gents, please do not feed the troll.  This has been explained to
Milly multiple times in the past, on previous mailing list & github with no

@_date: 2015-06-25 10:03:47
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] BIP Process and Votes 
A+ agreed.  He is not an elected decider - he is the Bitcoin Core release
manager, and has been doing a damn fine job.

@_date: 2015-06-26 10:57:42
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] The need for larger blocks 
It is not "fear" of fee pressure.
1) Blocks are mostly not-full on average.
2) Absent long blocks and stress tests, there is little fee pressure above
the anti-spam relay fee metric, because of 3) As such, inducing fee pressure is a delta, a change from years-long
bitcoin economic policy.  Each time we approach the soft limit, Bitcoin
Core increases the soft limit to prevent "full" blocks.  Mike Hearn et. al.
lobbies miners to upgrade.
(note - this is not an endorsement of these actions - it is a neutral
4) Inaction leads to consistent fee pressure as the months tick on and
system volume grows; thus, inaction leads to economic policy change.
5) Economic policy change leads to market and software disruption.  The
market and software - notably wallets - is not prepared for this.
6) If you want to change economic policy, that's fine.  But be honest and
admit you are arguing for a change, a delta from current market
expectations and behavior.
7) It is critical to first deal with what _is_, not what you wish the world
to be.  You want a fee market to develop.  There is nothing wrong with that
desire.  It remains a delta from where we are today, and that is critically
relevant in a $3b+ market.
On Fri, Jun 26, 2015 at 7:09 AM, Pieter Wuille

@_date: 2015-06-26 11:05:30
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] The need for larger blocks 
Proposing inaction is not the way you convince people that bitcoin can
People and businesses cannot perform any capacity planning and future
projections under the proposal of "economic change through inaction."
There will be no growth, by your argument, until there is fee pressure.
And what happens then?
a) Block size limit increases, disrupting and rebooting the fee market.
      or
b) You argue that fees have taken care of the capacity.
Waiting until blocks are full before taking action produces even more
disruption and market-unpredictable behavior than today.
I understand you want a fee market to develop, and increasing the block
size limit retards/prevents that.  The fact remains that that is a _major_
change to economic policy that creates a _more_ unpredictable system.
Who knows when Pieter will agree that a fee market is healthy?  And at that
time, once blocks are full, changing the block size limit then will produce
even more disruption, going from
            little pressure -> lots of pressure -> little pressure
Inaction produces fee pressure produces volatility.  And makes it more
difficult for system users to perform capacity planning.
I see a lot of microscopic fee analysis - economically insignificant for at
least 12 months to come - and very little holistic analysis from people
arguing that inaction is the best course.

@_date: 2015-06-26 11:23:18
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] The need for larger blocks 
Failure to plan now for a hard fork increase 6(?) months in the future
produces that lumpy, unpredictable market behavior.
The market has baked in the years-long behavior of low fees.  From the
market PoV, inaction does lead to precisely that, a sudden change over the
span of a few months.
At a higher level, people look at bitcoin and see people delaying, waiting,
dawdling until the barn is actually on fire before taking action to put out
the fire.
They see a system that is not responsive to higher level externalities of
people & businesses making plans for the future.  Based on current proposal
of change-through-inaction, businesses will simply shelve plans to use
bitcoin and not bother putting those new users on the network.
If you wait until the need to increase block size is acute, it is already
too late.  (1) Businesses have permanently shelved plans to use bitcoin and
(2) change at that point produces _larger_ disruption to the fee market.
Hard forks require planning many months in advance.  Gavin's timing is
sound, even though the Gavin/Hearn Bitcoin-XT antics were sub-optimal.
On Fri, Jun 26, 2015 at 11:12 AM, Pieter Wuille

@_date: 2015-06-27 16:54:00
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Mailing List Administrivia - GPG, Archives, 
Generally agreed w/ all this.
To preserve digital signatures now and in the future, and make mbox
archives actually useful, a minimum modification policy is needed.

@_date: 2015-06-27 16:57:00
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Outroduction of old non-updated full nodes 
Older nodes have been phased out in the past.  For example, protocol
versions older than 209 were phased out.
Follow the yellow brick git trail starting at

@_date: 2015-11-10 11:46:15
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] request BIP number for: "Support for Datastream 
1) cblock seems a reasonable way to extend the protocol.  Further wrapping
should probably be done at the stream level.
2) zlib has crappy security track record.
3) A fallback path to non-compressed is required, should compression fail
or crash.
4) Most blocks and transactions have runs of zeroes and/or highly common
bit-patterns, which contributes to useful compression even at smaller
sizes.  Peter Ts's most recent numbers bear this out.  zlib has a
dictionary (32K?) which works well with repeated patterns such as those you
see with concatenated runs of transactions.
5) LZO should provide much better compression, at a cost of CPU performance
and using a less-reviewed, less-field-tested library.
On Tue, Nov 10, 2015 at 11:30 AM, Tier Nolan via bitcoin-dev <

@_date: 2015-11-13 18:58:07
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Contradiction in BIP65 text? 
This language definitely trips up or worries several folks - it's been
mentioned a few times before.
The user _chooses_ to freeze _their own_ funds.  It is not an unwilling act
of force, which many assume when they see the phrase "freeze funds."

@_date: 2015-11-30 11:53:39
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Test Results for : Datasstream Compression of 
Thanks for providing an in-depth, data driven analysis.
It is surprising that zlib provides better compression at the high end.  I
wonder if that is due to our specific data patterns - many zeroes - which
probably puts us into the zlib dictionary fast path.
On Sat, Nov 28, 2015 at 4:41 PM, Peter Tschipper via bitcoin-dev <

@_date: 2015-10-01 06:37:22
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Scheduling refactors (was Re: Bitcoin Core 0.12.0 
Proposed:   Schedule a time window for merging big refactors such as
libconsensus - assuming its ready as discussed per current plan - such as
October 25-31 or November 1-7.
(and implicitly, do not merge big refactors into 0.12 outside that window)

@_date: 2015-10-01 06:50:35
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Fwd: Bitcoin Core 0.12.0 release schedule 
On Thu, Oct 1, 2015 at 5:41 AM, Marcel Jamin via bitcoin-dev <
I've said the same thing years ago.  Originally the "1.0" was a target for
whenever "client mode" as planned by Satoshi was implemented, making the
Bitcoin Core implementation feature-complete for as a minimum
working/viable project.
Ultimately it is not so important and tends to generate a lot of discussion
 - so maybe we should just do the emacs thing and go from 0.12 to 12.0 for
next version.

@_date: 2015-10-01 12:39:39
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Crossing the line? [Was: Re: Let's deploy BIP65 
To reduce the list noise level, drama level and promote inclusion, my own
personal preference (list admin hat: off, community member hat: on) is for
temporal bans based on temporal circumstances.  Default to
pro-forgiveness.  Also, focus on disruption of the list as a metric, rather
than focusing on a specific personality.
I do think we're at a bit of a point where we're going around in circles.
Given the current reddit hubbub, a bit of a cooling off period is IMO
advisable before taking any further action.
On Thu, Oct 1, 2015 at 12:08 AM, Tao Effect via bitcoin-dev <

@_date: 2015-10-05 07:23:39
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Let's deploy BIP65 CHECKLOCKTIMEVERIFY! 
- It is true that hard forks produce a much cleaner outcome, in terms of
well defined behavior across the entire network.
- Replacing an opcode should not result in undefined behavior.  The
non-upgraded behavior is defined and deterministic.
- IsStandard remains an assistant.  Miners may mine non-standard
- "Hard forks require everyone to upgrade and soft forks don't"   Doesn't
require tons of explanation:  Non upgraded clients continue working on the
network even after the rules are upgraded.
All those corrections aside, I do think there has been too much hysteria
surrounding hard forks.  Hard forks, when done right, produce a much
cleaner system for users.
On Mon, Oct 5, 2015 at 6:59 AM, Mike Hearn via bitcoin-dev <

@_date: 2015-10-14 20:02:21
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Proposed list moderation policy and conduct 
This policy is not exhaustive or complete. It is not a rulebook; it serves
to distill our common understanding of a collaborative, shared environment
and goals. We expect it to be followed in spirit as much as in the letter.
Most members of the bitcoin-dev community already comply with this policy,
not because of the existence of the policy, but because they have long
experience participating in open source communities where the conduct
described above is normal and expected. However, failure to observe the
code may be grounds for reprimand, probation, or removal from the lists.
If you have concerns about someone?s conduct:
* *Direct contact*: it is always appropriate to email a list member,
mention that you think their behavior was out of line, and (if necessary)
point them to this document.
* *On-list*: discussing conduct on-list, either as part of another message
or as a standalone thread, is always acceptable. Note, though, that
approaching the person directly can be better, as it tends to make them
less defensive, and it respects the time of other list members, so you
probably want to try direct contact first.
* *Moderators*: You can reach the list moderators through the addresses
they use for on-list communication.
The selection of moderators is intended to be a mix from various projects
and roles, and expressly intended to avoid cases where the set of
(moderators) equals the set of (bitcoin core committers) or similar.
Jeff Garzik
[btcdrak?  Johnathan?   Others were listed in the IRC meeting, but the
bitcoinstats site is down right here]
Further Context
Other resources, while not formally part of this code of conduct, can
provide useful context and guidance for good behavior.
1. Chapter 6 of Producing OSS, by OSI board member Karl Fogel, describes
common best practices for mailing list participation,
particularly [?You Are What You Write?](
 and
[?Avoiding Common
2. [RFC 1855]( particularly section
2.1.1 (?User Guidelines for mail?), also provides useful
guidelines for sending good emails.
3. [The Ubuntu Code of Conduct](
 provides useful
guidance for group leaders.
This policy was inspired by [the GNOME Code of Conduct](
 [the Mozilla Community Participation
[the Ubuntu Code of Conduct](
 and other codes listed
at [the OpenHatch list of project codes of conduct](

@_date: 2015-10-22 17:26:42
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] [patch] Switching Bitcoin Core to sqlite db 
Here is the beginnings of an implementation to replace leveldb with sqlite:
It builds, but still needs work before passing tests.
It was noted that leveldb is unmaintained, and this is part of researching
alternatives that are maintained and reliable.

@_date: 2015-10-28 17:11:47
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] [patch] Switching Bitcoin Core to sqlite db 
That's OK for our purposes.  We have a huge database which already
incentivized having zero seek time.

@_date: 2015-09-02 19:51:52
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] BIP 100 repo 
Opened a repo containing the full text of BIP 100 discussion document, in
markdown format.
The BIP 100 formal spec will be checked in here as well, before submitting
to upstream bips.git repo.

@_date: 2015-09-02 23:33:29
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] BIP 100 specification 
BIP 100 initial public draft:
Emphasis on "initial"  This is a starting point for the usual open source
feedback/iteration cycle, not an endpoint that Must Be This Way.

@_date: 2015-09-02 23:38:33
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] BIP 100 repo 
- Definitely agree with most of your suggestions on the practical side;
several clarification could be made.
- The power to decrease the hard limit appears riskier long term in my
analysis.  This is mitigated somewhat by the ease at which miners may
locally or collectively lower the block size at any time, without a vote.

@_date: 2015-09-03 00:05:11
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] block size - pay with difficulty 
Schemes proposing to pay with difficulty / hashpower to change block size
should be avoided.  The miners incentive has always been fairly
straightforward - it is rational to deploy new hashpower as soon as you can
get it online.  Introducing the concepts of (a) requiring out-of-band
collusion to change block size and/or (b) requiring miners to have idle
hashpower on hand to change block size are both unrealistic and potentially
corrosive.  That potentially makes the block size - and therefore fee
market - too close, too sensitive to the wild vagaries of the mining chip
Pay-to-future-miner has neutral, forward looking incentives worth

@_date: 2015-09-03 00:09:25
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] BIP 100 repo 
Oh, and answering your question about the 1M:  It is a safety rail.  It can
perform no worse on the low end than the current system.  Eliminates
unlikely scenarios that squeeze users.

@_date: 2015-09-03 10:18:56
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] block size - pay with difficulty 
Thanks for the link.  I readily admit only having given pay-to-future-miner
a little bit of thought.  Not convinced it sets a minimal tx fee in all

@_date: 2015-09-03 10:31:31
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] block size - pay with difficulty 
It's written as 'a' and/or 'b'.  If you don't have idle hashpower, then
paying with difficulty requires some amount of collusion ('a')
Any miner paying with a higher difficulty either needs idle hashpower, or
self-increase their own difficulty at the possible *opportunity cost* of
losing an entire block's income to another miner who doesn't care about
changing the block size.  The potential loss does not economically
compensate for size increase gains in most cases, when you consider the
variability of blocks (they come in bursts and pauses) and the fee income
that would be associated.
Miners have more to lose paying with diff than they gain -- unless the
entire network colludes out-of-band with ~90% certainty, by collectively
agreeing to increase the block period by collectively agreeing with
pay-with-diff until the globally desired block size is reached.  At that
level of collusion, we can create far more simple schemes to increase block
Pay-with-diff will either not get used, or lead to radical short term block
size (and thus fee) volatility.  It is complex & difficult for all players
to reason, and a Rational game theory choice can be to avoid
paying-for-diff even when the network desperately needs an upgrade.

@_date: 2015-09-03 10:34:02
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] BIP 100 specification 
A discussion of rolling out BIP 100 will not be avoided :)
It is a hard fork; it would be silly to elide discussion of these key
I don't get the community's recent interest in avoiding certain topics.

@_date: 2015-09-03 10:35:56
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] BIP 100 specification 
Thanks - several good suggestions, including some in common.  Will comment
& revise today.
Currently in "collecting" mode, to avoid duplicative comments in multiple

@_date: 2015-09-03 10:40:37
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] block size - pay with difficulty 
Expanding on pay-with-diff and volatility (closing comment),
Users and miners will have significant difficulty creating and/or
predicting a stable block size (and fee environment) with pay-with-diff
across the months.  The ability of businesses to plan is low.  Chaos and
unpredictability are bad in general for markets and systems.  Thus the
binary conclusion of "not get used" or "volatility"

@_date: 2015-09-03 12:35:23
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] BIP 100 specification 
Take a look at the latest update:
- swiped Tier Nolan verbiage, which I agree was usefully more clear
- added 'M' suffix and removed 'V' from coinbase scriptSig
On Thu, Sep 3, 2015 at 12:32 PM, jl2012 via bitcoin-dev <

@_date: 2015-09-15 00:10:37
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] libconsensus and bitcoin development process 
[collating a private mail and a github issue comment, moving it to a
better forum]
On libconsensus
As I've outlined in the past, the Linux kernel maintenance phases
address some of these problems.  The merge window into git master
opens for 1 week, a very chaotic week full of merging (and rebasing),
and then the merge window closes.  Several weeks follow as the "dust
settles" -- testing, bug fixing, moving in parallel OOB with
not-yet-ready development.  Release candidates follow, then the
release, then the cycle repeats.
IMO a merge window approach fixes some of the issues with refactoring,
as well as introduces some useful -developer discipline- into the
development process.  Bitcoin Core still needs rapid iteration --
another failing of the current project -- and so something of a more
rapid pace is needed:
- 1st week of each month, merge changes.  Lots of rebasing during this week.
- remaining days of the month, test, bug fix
- release at end of month
If changes are not ready for merging, then so be it, they wait until
next month's release.  Some releases have major features, some
releases are completely boring and offer little of note.  That is the
nature of time-based development iteration.  It's like dollar cost
averaging, a bit.
And frankly, I would like to close all github pull requests that are
not ready to merge That Week.  I'm as guilty of this as any, but that
stuff just languishes.  Excluding a certain category of obvious-crap,
pull requests tend to default to a state of either (a) rapid merging,
(b) months-long issues/projects, (c) limbo.
Under a more time-based approach, a better pull request process would be to
* Only open pull requests if it's a bug fix, or the merge window is
open and the change is ready to be merged in the developer's opinion.
* Developers CC bitcoin-dev list to discuss Bitcoin Core-bound projects
* Developers maintain and publish projects via their own git trees
* Pull requests should be closed if unmerged after 7 days, unless it
is an important bug fix etc.
The problem with projects like libconsensus is that they can get
unfocused and open ended.  Code movement changes in particular are
cheap to generate.  It is low developer cost for the developer to
iterate all the way to the end state, see what that looks like, and
see if people like it.  That end state is not something you would
merge all in one go.  I would likely stash that tree, and then start
again, seek the most optimal and least disruptive set of refactors,
and generate and merge those into bitcoin/bitcoin.git in a time-based,
paced manner.  Announce the pace ahead of time - "cosmetic stuff that
breaks your patches will be merged 1st week of every second month"
To underscore, the higher priority must be given to having a source
code base and disciplined development process that maximizes the
collective developers' ability to maintain The Router that maintains
most of our network.
Modularity, refactoring, cleaning up grotty code generates a deep
seated happiness in many engineers.  Field experience however shows
refactoring is a never ending process which sometimes gets in the way
of More Important Work.

@_date: 2015-09-15 11:26:50
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] libconsensus and bitcoin development process 
I would say that the refactoring does actually fulfill some conditions you
- move-only is almost always clearly separated out
- the refactoring is not controversial _in minimis_ - meaning, the
individual pull request is not controversial.
The problem comes with the impact of an unfocused stream of refactors to
key code.
For example, there is much less long term developer impact if refactoring
were _accelerated_, scheduled to be performed in a one-week sprint.  There
is a lot of breakage, yes, but after that week the average level of
downstream patch breakage is significantly lower.  A "rip the band-aid off
quickly rather than slowly" approach.

@_date: 2015-09-16 17:32:04
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Scaling Bitcoin conference micro-report 
During Scaling Bitcoin, Bitcoin Core committers and notable contributors
got together and chatted about where a "greatest common denominator" type
consensus might be.  The following is a without-attribution (Chatham House)
summary.  This is my own personal summary of the chat; any errors are my
own; this is _not_ a consensus statement or anything formal.
- Background (pre-conference, was on public IRC): "net-utxo", calculating
transaction size within block by applying a delta to transaction size based
on the amount of data added, or removed, from the UTXO set.  Fee is then
evaluated after the delta is applied.  This aligns user incentives with
UTXO resource usage/cost.  Original idea by gmaxwell (and others??).
- Many interested or at least willing to accept a "short term bump", a hard
fork to modify block size limit regime to be cost-based via "net-utxo"
rather than a simple static hard limit.  2-4-8 and 17%/year were debated
and seemed "in range" with what might work as a short term bump - net after
applying the new cost metric.
- Hard fork method:  Leaning towards "if (timestamp > X)" flag day hard
fork Y months in the future.  Set high bit in version, resulting in a
negative number, to more cleanly fork away.  "miner advisement" - miners,
as they've done recently, signal non-binding (Bitcoin Core does not examine
the value) engineering readiness for a hard fork via coinbase moniker.
Some fork cancellation method is useful, if unsuccessful after Z time
- As discussed publicly elsewhere, other forks may be signaled via setting
a bit in version, and then triggering a fork'ing change once a threshold is
Chat participants are invited to reply to this message with their own
corrections and comments and summary in their view.
For the wider community, take this as one of many "inputs" described at
Scaling Bitcoin.  Over the next few months developers and the community
should evaluate everything discussed and work towards some concrete
proposal(s) that are implemented, tested and simulated in December in Hong

@_date: 2015-09-29 09:04:09
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] libconsensus and bitcoin development process 
There seemed to be some agreement on IRC - after a bit of haranguing by
myself :) -- that large refactors should (a) occur over a small window of
time and (b) have a written plan beforehand.
On Tue, Sep 22, 2015 at 7:49 PM, Dave Scotese

@_date: 2015-09-29 11:44:57
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] On bitcoin-dev list admin and list noise 
This was discussed in IRC, but (did I miss it?) never made it to the list
outside of being buried in a longer summary.
There is a common complain that bitcoin-dev is too noisy.  The response
plan is to narrow the focus of the list to near term technical changes to
the bitcoin protocol and its implementations (bitcoin core, btcd, ...)
Debates over bitcoin philosophy, broader context, etc. will start seeing
grumpy list admins squawk about "off-topic!"
It is a fair criticism, though, that "take it elsewhere!" needs to have
some place as a suggested destination.  The proposal is to create a second
list, bitcoin-tech-discuss or perhaps just 'bitcoin', with a more general
rubric.  This split has served IRC well and generally manages to keep the
noise down to a productive level.  We want this list to achieve that same
goal; if bitcoin-dev is not productive then it's not useful.

@_date: 2015-09-29 17:07:53
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Bitcoin mining idea 
This is off-topic for this list.
On Sun, Sep 27, 2015 at 1:53 PM, Neil Haran via bitcoin-dev <

@_date: 2015-09-29 17:22:58
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Bitcoin Core 0.12.0 release schedule 
On Thu, Sep 24, 2015 at 7:25 AM, Wladimir J. van der Laan via bitcoin-dev <

@_date: 2015-09-29 19:54:43
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Bitcoin mining idea 
On Tue, Sep 29, 2015 at 7:16 PM, Milly Bitcoin via bitcoin-dev <
Yes - that is the reason why a discussion list is being created, as an
outlet for off-topic discussions.  The consensus of the developers that
created this bitcoin-dev list a short time ago is of being turned off due
to the off-topic noise, impacting productivity.
Since 2011 and bitcoin-development, the list was always intended to focus
on the highly technical bits of the core software, and avoid wandering into
never-ending philosophical discussions.  Example:

@_date: 2015-09-29 20:10:57
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Bitcoin mining idea 
On Tue, Sep 29, 2015 at 8:07 PM, Milly Bitcoin via bitcoin-dev <
This email's quote excised the "short time ago" bit, which is the other 1/2
of the context.

@_date: 2015-09-30 08:40:48
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Design Competition 
This sounds like a cool competition; it is also off-topic for this mailing
list, which is focused on bitcoin protocol and reference implementation
On Wed, Sep 30, 2015 at 2:37 AM, Richard Olsen via bitcoin-dev <

@_date: 2015-09-30 15:24:29
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Bitcoin Core 0.12.0 release schedule 
Right; In general, the consensus is to decouple from Bitcoin Core releases.
On Wed, Sep 30, 2015 at 1:57 PM, Luke Dashjr via bitcoin-dev <

@_date: 2015-09-30 15:26:56
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Let's deploy BIP65 CHECKLOCKTIMEVERIFY! 
Field experience shows it successfully delivers new features to end users
without a global software upgrade.

@_date: 2015-09-30 18:17:12
@_author: Jeff Garzik 
@_subject: [bitcoin-dev] Let's deploy BIP65 CHECKLOCKTIMEVERIFY! 
It is correct that security is slightly reduced for full nodes that have
not upgraded.  It is not correct that the choice is binary, full node or
Any user running a not-upgraded full node still retains protection against
many attacks outside the subset related to the feature being introduced.
The field observable end result is that we do receive new features, secured
by hashpower and user full nodes, via soft fork, without a global flag day
Yes, a flag day hard fork upgrade is cleaner and results in higher security
due to the entire network validating the new rules.  However, the
difficulty of executing hard forks would mean fewer total features to
users, if that route were chosen instead.
