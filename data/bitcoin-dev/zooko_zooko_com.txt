
@_date: 2012-02-28 18:41:31
@_author: Zooko Wilcox-O'Hearn 
@_subject: [Bitcoin-development] Duplicate transactions vulnerability 
Could you spell out the attack explicitly? Presumably there aren't a
lot of people with the "malice energy" to perform the attack but not
to figure it out for themselves. I, however, have the "niceness
energy" to think about it for a few minutes but not to figure it out
for myself. If in your opinion it is realistically dangerous to post
it publicly, would you be so kind as to include me in the private
sharing of the explanation?
By the way, I found a couple of cases of slightly bad handling of
merkle trees when I inspected the code (v0.4) that was, I'm 99% sure,
not exploitable. I never got around to reporting it yet. I'm sorry
about that. My discoveries might interact with the one you're talking
about here. I should definitely explain mine to y'all soon. (Possibly
in private for the first pass, in case it is more exploitable than I
thought, or has become exploitable since v0.4.)
I showed it to a couple of other people at the time who helped me make
sure that it wasn't exploitable.
I'll make time to explain what I found within a week.

@_date: 2012-05-25 23:03:15
@_author: Zooko Wilcox-O'Hearn 
@_subject: [Bitcoin-development] Punishing empty blocks? 
For what it is worth, I question whether this is a problem. Or, I
guess I question whether the best solution to it isn't for people to
start including more transaction fees. In fact, I'm not entirely sure
that this problem doesn't actually *encourage* people to that
solution, which would be very good if true.
I would be more comfortable if the reward for mining were more
commensurate with the value it provides. Ultimately, of course, that
means that each transaction fee would have to be more of a proportion
of the value *to the spender* of that transaction being included in
the blockchain.
(Aside: in order to convey to outsiders that miners are providing a
useful service rather than gaining undeserved reward for wasting
electricity, I refer to them as "distributed transaction verification
servers" rather than "miners" whenever possible.)
I'm pretty sure that ? assuming there isn't some Bitcoin-killing
disaster ? transaction fees will eventually rise, but sooner might be
better, especially with the first coinbase-halving looming.
Perhaps people will be motivated to include transaction fees if they
know that some miners don't bother to validate their transactions and
others do. They may feel motivated to reward the miners that are
serving them and punish the ones that are not. (Note: this wouldn't be
a valid strategy on their part from a strictly game-theoretic
perspective, but if they act on those motivations, then I don't care
if it was rational or not.)
Also, they may decide that they want to counteract the added delay
which those no-transactions miners are adding to *all* transactions
(with or without fee), by putting a fee on their transactions in order
to make them take less long when they are processed by a miner which
does process (some) transactions.
Already this visualization, which I typically glance at a few times a
day, usually shows a good separation with fee-included transactions
sometimes doing much better than (some) free transactions:
However, this graph shows that the aggregate reward to the miners for
processing transaction is minimal:
You can see from the first visualization (assuming it is showing the
typical pattern that I've seen) how you risk greater delay by sending
your transaction without fees. The no-transactions miners push *all*
transactions, fee or no-fee to the right. This may incentivize more
people to change their transactions from red diamonds into blue
circles, in order to move their transactions further to the left, even
though the no-transactions miners are not currently discriminating
among the two types.
Therefore, the presence of those miners may help push the aggregate
fees in that latter graph up, which is something I would very much
like to see.

@_date: 2013-07-24 06:35:28
@_author: zooko 
@_subject: [Bitcoin-development] Linux packaging letter 
With all due respect, I think the letter as I see it at
should be changed before being shown to package maintainers. I think some
package maintainers might perceive this version of the letter as high-handed --
telling someone else how to do their job -- and they might not notice the
actual facts included in the letter explaining why Bitcoin really *is*
different than a lot of software.
You should understand that without a careful read, this letter sounds much like
a cry that packagers have heard from hundreds of other authors who say things
to the effect that "my software is different and more important and packager
maintainers have to do things my way".
Why not solicit the cooperation of a few package maintainers and write a joint
letter with them signing on? Instead of it being a one-sided lecture from
Bitcoin devs to packagers, it would be a shared statement *and* packagers, and
it would be phrased in language that would make it instantly clear to other
packagers that this isn't just another whine from ignorant devs.
If you're interested in that, there are lots of packagers who would be happy to
help. Greg Troxel (pkgsrc) is one, who has already posted to this thread. I'd
be happy to invite the ones that I've worked with to package the software that
I am a dev on -- Tahoe-LAFS.
What I'm proposing is that we contact some packagers and say "Here's this rough
draft, and we'd like you to suggest edits that would make it into the kind of
letter that you'd sign your name to.". At the very least, we'd learn something
from the ensuing conversation.

@_date: 2013-07-24 19:32:52
@_author: zooko 
@_subject: [Bitcoin-development] Linux packaging letter 
Hi Jeff! Thanks for working on it. Even if that letter
( doesn't supplant
as a message-to-packagers, it looks like it will still turn out to be a useful
My first question about it is this part:
 Make a mistake, lose $1 billion
The consequences of bitcoin consensus failure are very high, comparable to avionics or medical device software. As of this writing, over $1 billion of value depends on bitcoin software being able to reliably achieve consensus over the worldwide Internet. This is the digital equivalent of Fort Knox: consensus must be achieved, or bitcoin has no value.
This makes it sound like if, for example, Debian were to link bitcoind to the
system leveldb, and then upgrade the system leveldb to fix a bug that affects
bitcoind, that this would spell the end of Bitcoin.
I hope that's not true!
I'd like to try to be more specific about two things:
1. What is the behavior that a dependency or a patch could cause that would be
problematic? I liked what Luke-Jr said earlier in this thread -- that in some
cases a bitcoin node (i.e. a bitcoind process) needs certain bugs or
limitations in order to maintain consensus with other bitcoin nodes. Maybe you
could use a statement like that, without attempting to explain in *what* cases
that applies.
2. What is the consequence if this goes wrong? This is something I don't
understand as well. I think the answer is:
   2.a. All bitcoin nodes which encounter one of these cases and are
        differently-buggy than the upstream bitcoind form their own consensus,
        causing a blockchain fork.
   2.b. There is a risk of double-spending attacks.
   2.c. The process for healing a blockchain fork is not very smooth or
        well-understood.

@_date: 2013-07-24 20:01:12
@_author: zooko 
@_subject: [Bitcoin-development] Linux packaging letter 
Okay, here's my attempt:
Please feel free to use any or all of it as you see fit.
Yes, I know what you mean.

@_date: 2013-05-22 07:37:23
@_author: zooko 
@_subject: [Bitcoin-development] is there a way to do bitcoin-staging? 
I'm very interested in this idea. I got really excited about it and started
trying to write up schemes to implement it. Like much of Bitcoin, it gets my
head spinning, but then it turns out I don't really understand it.
Because when my write-ups of implementations all turned to dust and ashes, then
I reconsidered, and I realized that I don't actually understand how the
proposed thing is different than testnet. The proposed difference seems to be
about assigning real value to the coins on this "beta bitcoin blockchain", but
that's mostly not up to developers, except possibly through some crazy scheme
which forces "beta bitcoins" to be exchangeable for real bitcoins... Actually,
no, not even then.
So I guess what is *really* exciting about this idea has nothing to do with
making the "beta" coins valuable nor with novel schemes for linking
semi-independent blockchains. What is really exciting about it is a shared
codebase that the Bitcoin core developers are (at least nominally) paying
attention to, and that you can play with on some public blockchain.
So if that's the right goal, then the solution is a branch or a fork on github,
and a name such as "bitcoin-next" or "bitcoin-staging" or whatever that confers
a certain aura of relevance.
And maybe some publicly celebrated list of the testnet blockchain forks which
have been inevitably created by this "bitcoin-next" codebase.
It would give people with the "better Bitcoin bug" (such as me) a common
codebase to aim pull requests at, and to fork on github.
Like Peter Vessenes says, this idea sounds like an alternative to "go do it on
an alt coin".
This feels different to me from the "go do it on an alt coin" idea, because I
suspect most bitcoin core devs aren't really paying that much attention to alt
coin. I know *I'm* not paying attention to them, because I'm already overloaded
with things to learn. Having to learn about alt coins in order to try to
communicate with bitcoin core devs that may or may not be really paying
attention to the alt coin sounds daunting.
