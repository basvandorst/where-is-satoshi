
@_date: 2014-04-10 15:28:29
@_author: Jean-Pierre Rupp 
@_subject: [Bitcoin-development] Feedback request: colored coins protocol 
By deciding to use a decentralized network to hold your assets, it may
make more sense to emit less shares. Two billion shares backed by
coloured coins makes less sense than a more conservative number, like
10,000. That costs a negligible amount of money, at least until the day
when Bitcoin takes over the world and a satoshi becomes very expensive.
But it is irrelevant now.
If you have already created a massive amount of shares for your company,
then the only reasonable solution is for a coloured coin to represent a
bundle of shares as Flavien suggested. Some shareholder could emit
another coloured coin instrument with a genesis block based on a smaller
set of shares to trade among smaller investors unwilling to deal in
terms of the bundled shares.
We need to understand that coloured coins provide benefits, but also has
constraints that are not difficult to live with.

@_date: 2014-11-14 20:43:43
@_author: Jean-Pierre Rupp 
@_subject: [Bitcoin-development] The difficulty of writing consensus 
Jean-Pierre Rupp from Haskoin here.
I support a hard fork to fix consensus bugs.  The Bitcoin protocol should eventually get to a state where it is documented in a clear and understandable fashion.  Bugs are bugs, and are the enemy.  We should not attempt to live with them.  We should be opening a process of thoroughly documenting and reparing consensus bugs on a separate branch, and eventually schedule a hard fork.
There are two good things that will come out of that:
1. Known bugs will be gone, and
2. We will have a process in place to get rid of future bugs in eventual future hard forks.
We do not need to become paranoid about the ramifications of a hard fork, or how it will open the door for unwanted changes in the protocol.  We are discussing about removing bugs, and bugs that could be used to exploit the network in ways that may not be immediately obvious.
There are 144 blocks generated per day by groups of miners that are mostly identified.  It is not going to be a titanic task to get consensus from the main mining pools on fixing this at the mining level.  We must address how the fixes for some of these bugs affect other types of software such as wallets.  I can think that fixing the bug where OP_CHECKMULTISIG pops an extra value from the stash could be more traumatic, since it requires anything that creates and validates multi-signature transactions to change the way it works.  Hardware wallets could be impacted.  But most of the consensus bugs would not affect the way the vast majority of bitcoin transactions that are currently created.  Therefore it should not be traumatic at all for users, but only really affect mining pools, who would only need to be convinced to upgrade their bitcoind well in advance, which seems to me that it is not an issue at all.
We should not compare doing a Bitcoin hard-fork with doing something like deploying IPv6 world-wide or enforcing TLS and SPF on every SMTP connection.  We should not conflate Bitcoin with other network protocols.  The Bitcoin protocol is actually relatively easy to upgrade at this point.  Let's take advantage of this fact.

@_date: 2014-11-20 15:39:16
@_author: Jean-Pierre Rupp 
@_subject: [Bitcoin-development] Increasing the OP_RETURN maximum payload 
There are many legitimate uses for a larger OP_RETURN, and application developers are already complaining that the current size is not enough.  It is about adding value to the blockchain.  I know it can grow the blockchain faster, but so far at 40 bytes Bitcoin hasn't experienced death by bloat, nor that is even close to happen.  I understand starting with a prudent approach, but I think it is safe to increase this without worrying.  Actually I would make it even bigger than 80 bytes.

@_date: 2015-01-15 12:33:39
@_author: Jean-Pierre Rupp 
@_subject: [Bitcoin-development] convention/standard for sorting public 
A public key is a point in the elliptic curve.  As such it has an X and
a Y component.  Its serialization is described very succintly here:

@_date: 2015-10-03 13:42:24
@_author: Jean-Pierre Rupp 
@_subject: [bitcoin-dev] [Bitcoin-development] New BIP32 structure for 
I have been reviewing BIP-45 today.  There is a privacy problem with it
that should at least be mentioned in the document.
When using the same extended public key for all multisig activity, and
dealing with different cosigners in separate multisig accounts, reuse of
the same set of public keys means that all cosigners from all accounts
will be able to monitor multisig activity from every other cosigner, in
every other account.
Besides privacy considerations, HD wallet's non-reuse of public keys
provide some defence against wallets that do not implement deterministic
signing, and use poor entropy for signature nonces.
Unless users are expected to establish a single cosigning account, this
scheme will result in reuse of public keys, and degradation of privacy.
I understand that for convenience it is useful to have a single extended
public key that can be handed to every cosigner.  This makes setting up
accounts or recovering from data loss a easier.
I suggest that privacy & potential security degradation due to increased
public key reuse in the case of users with multiple multisig accounts
should get a mention in the BIP-45 document.

@_date: 2015-10-04 16:18:07
@_author: Jean-Pierre Rupp 
@_subject: [bitcoin-dev] [Bitcoin-development] New BIP32 structure for 
I have a possible solution:
Take all public keys encoded in the purpose-specific extended public
keys (m/45') of all cosigners and sort them lexicographically, according
to BIP-45.  Serialize this information and calculate its HASH160
(RIPEMD160 ? HASH256).  Split the output in five 32-bit chunks, setting
the MSB on all of them to 0. Use these 32-bit chunks to build a
derivation path from the purpose-specific extended public keys.  Treat
this derivation path as if it was the purpose-specific extended public
key in BIP-45.
This scheme will avoid public key sharing, and as long as you share your
purpose-specific extended public key only with your cosigners, it should
be relatively hard for a passive observer to link activity between
different cosigning accounts.

@_date: 2015-10-05 13:18:56
@_author: Jean-Pierre Rupp 
@_subject: [bitcoin-dev] [Bitcoin-development] New BIP32 structure for 
When I talk about multisig account I mean an arrangement among a set of
cosigners to be signatories of multi-signature transactions requiring a
set number of signatures, as specified in BIP-45.
Juan: xpub123...
Pedro: xpub456...
Jos?: xpub789...
They all agree to create a 2-of-3 multisig ?account? following BIP-45.
Their extended public keys are all path m/45' from their wallet?s master
private key, as per the standard.
Perhaps Pedro wants to also participate in a 2-of-2 cosigning
arrangement with a merchant that will deliver a laptop to him, so Pedro
provides this merchant with the same extended public key derived from
path m/45', and the merchant provides Pedro with his own:
Pedro: xpub456...
ElCheapoPC: xpub987...
Now, suppose that the first cosigner[1] in each of the accounts
generates a set of public keys for a multisig redeem script to obtain a
P2SH address from. The derivation path m/45'/0/0/1 is used as per
BIP-45.  Pedro?s public key for that address in each account will be the
Every cosigner?s address public key is obtained following the same
derivation path from the cosigner?s master key, therefore, it is easy to
know what public keys Pedro is likely to use in both 2-of-3 account
{Juan, Pedro, Jos?} and 2-of-2 account {Pedro, ElCheapoPC}, by only
knowing Pedro?s m/45' purpose-specific extended public key.  By scanning
the blockchain for Pedro?s public keys, Jos? can see that Pedro had a
2-of-2 multi-signature arrangement with somebody else (ElCheapoPC),
although he does not necessarily know its identity, and how much money
was transacted in that arrangement, without having to know the extended
public key from ElCheapoPC.
By adopting the scheme I proposed earlier as an improvement, cosigners
with Pedro would have to know ElCheapoPC?s extended public key in order
to eavesdrop on any transaction between Pedro and ElCheapoPC.
[1] According to lexicographic order of serialized public keys contained
in each of the xpubs, as per BIP-45 specification.

@_date: 2015-10-05 20:36:05
@_author: Jean-Pierre Rupp 
@_subject: [bitcoin-dev] [Bitcoin-development] New BIP32 structure for 
You always have these alternatives, but the problem is that it starts to
become harder to restore your wallet from the initial mnemonic if
something goes wrong.
Say you lose all your wallet information except for your mnemonic,
extended public keys from all people you established multi-signature
accounts with, and you know which arrangement you had with each of your
cosigners (2-of-3, 2-of-2, etc.).  Your software will not have a hard
time rebuilding all accounts from information obtained from the public
blockchain.  Adding a new dimension, here the i' derivation, will make
things harder.  You would need to know this piece of data too.
Another good thing about using the same derivation always is that you
can give every cosigner only that single piece of information, that
single xpub, in order to establish multisig relationships.  There is no
need to use a different one per relationship.  This simplifies the
workflow for establishing new multi-signature accounts significantly.
