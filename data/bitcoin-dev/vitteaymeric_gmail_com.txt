
@_date: 2016-12-15 19:12:02
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Planned Obsolescence 
Maybe there are still some advantages but I don't know why this is not
considered as a major issue by the bitcoin community for the future and
why this looks to be never discussed:
- the size of the bitcoin network in terms of full nodes is ridiculous
and this is continuously decreasing, we cannot consider the bitcoin
network as a decentralized p2p network, what you are proposing is
logical but will of course amplify the problem
operators do not upgrade their clients.
Why should they? What is the incentive for people to run full nodes and
upgrade? FYI I am part of the 2071 0.13.1 nodes for some good reasons
but will just shut it down when I am done, same for zcash (which as a
matter of fact I upgraded today since by some chance I noticed some
updates I was not aware of neither notified, just running it because I
need it from time to time and just don't kill it so I don't have to wait
for the restart process, maybe others are doing the same or just forgot
that they were running a full node)
Because, again, why should I or we maintain it/them?
I have looked at the proposals in the past (as well as the incentive
program) to reward those that are running full nodes but only found a
very few, never implemented (or even considered)
This is the very same for proposals allowing to start a full node from
zero in an acceptable timeframe (ie not 10 days in my case)
If the consensus is not to solve those two points and have a bitcoin
network controlled then it would be interesting to know why, so people
don't waste time trying to find solutions
Satoshi himself predicted that the full nodes will get centralized, I
think it's wrong, or in that case the bitcoin network cannot pretend to
be a decentralized immutable system (can be compared then to the Tor
network which does not pretend to be decentralized, because it is
centralized, and in addition does not encourage small nodes)
PS: IMHO the email notificiation system makes it difficult to follow
whom is answering to whom/what on this list compared to other lists

@_date: 2017-04-07 00:29:51
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Segwit2Mb - combined soft/hard fork - Request For 
Not sure to get how you are answering the question
then it will just represent an alt-coin having 5% of Bitcoin community,
and it can't affect Bitcoin (the segwit2mb fork).
destroys the whole thing
Because if the nodes don't upgrade and just implement the patch to
adjust the difficulty, what happens? You get a 95% mining power chain
with "no" nodes and a 5% one with "all" the nodes
I really don't get in all those discussions why the nodes are always
disconsidered compared to the miners, ie why they seem to be of zero
importance and are supposed to obey whatever you ask them
And apparently the trend is not going to revert if we look at the
priority features sent in the asicboost thread where motivating and
scaling full nodes is still something you need very powerful glasses to
see coming
Le 06/04/2017 ? 22:42, Sergio Demian Lerner via bitcoin-dev a ?crit :

@_date: 2017-04-17 12:14:25
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Small Nodes: A Better Alternative to Pruned Nodes 
While I fully agree with the intent (increasing full nodes so a big
miner waking up in a bad mood can't threaten the world any longer every
day as it is now) I am not sure to get the interest of this proposal,
- it's probably not a good idea to encourage the home users to run full
nodes, there are many people running servers far from their capacity
that could easily run efficient full nodes
- if someone can't allocate 100 GB today to run a full node, then we
can't expect him to allocate more in the future
- the download time is a real concern
- this proposal is a kind of reinventing torrents, while limiting the
number of connections to something not efficient at all, I don't see why
something that is proven to be super efficient (torrents) would be
needed to be reinvented, I am not saying that it should be used as the
bittorrent network is doing but the concepts can be reused
- I don't get at all the concept of "archival" nodes since it's another
useless step toward centralization
I think the only way to increase full nodes it to design an incentive
for people to run them
Le 17/04/2017 ? 08:54, David Vorick via bitcoin-dev a ?crit :

@_date: 2017-04-19 01:19:04
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Small Nodes: A Better Alternative to Pruned Nodes 
quickly if bitcoin-core were to ship with the defaults set to a pruned
Sorry to be straight, I read the (painful) thread below, and most of
what is in there is inept, wrong, obsolete... or biased, cf the first
sentence above, if the idea is to invent a workaround to the fact that
pruning might/will become the default or might/will be set by the users
as the default so full nodes might/will disappear then just say it
clearly instead of proposing this kind of non-solution as a solution to
secure the blockchain
I can't believe this is serious, people now are supposed to prune but
will be forced to host a part of the blockchain, how do you expect this
to work, why people would do this? Knowing that to start pruning they
need a full node, then since we are there, why not continuing with a
full node... but indeed, why should they continue with a full node, and
therefore why should they accept to host a part of the blockchain if
they decline the first proposal?
This is absurd, you are not addressing the first priority given the
context which is to quickly increase the full nodes and which obviously
includes an incentive for people to run them
It gives also the feeling that bitcoin wants to reinvent everything not
capitalizing on/knowing what exists, sorry again but the concepts of the
proposal and others like archival nodes are just funny
Le 18/04/2017 ? 15:07, Tier Nolan via bitcoin-dev a ?crit :

@_date: 2017-04-20 13:27:32
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Small Nodes: A Better Alternative to Pruned Nodes 
Thanks but you did not answer all the points and some of your statements
look wrong, like the global ideas behind this proposal from my
standpoint, which basically is inventing strange things not reusing what
is already proven to be working well and could provide the same result,
which at the end is not the expected one, ie increasing full nodes, it
sounds like a strange workaround to prevent the centralization of the
blockchain when pruning will become the default
To answer some other comments in this thread, giving an incentive to run
full nodes does not mean that someone setting up tomorrow 10K nodes will
become rich and/or will be able to control the network, the later being
not unlikely at all to happen in the current situation, the idea is more
to motivate people that already have the resources to run full nodes,
then we mix the concepts of optimizing the resources at no additional
costs (and even decreasing costs since you get rewarded for the part
that you have already paid but don't use) with the one of running nodes
to protect its business
For example
is showing some concepts where nodes can't position themselves where
they like and are registered in the system by the others (but forget the
proof of something as written in this gist since I think the rewards
should not depend on usual miners) , so it becomes quite difficult that
they position themselves where they like to possibly get the rewards,
fake the system, freeride, cheat, collude in pools or setup plenty of nodes
Comments below
Le 19/04/2017 ? 19:30, David Vorick via bitcoin-dev a ?crit :
Yes, that's the easy part, the issue is more for the network to check
that users have sufficient bandwidth and don't cheat
Of course
Then please explain how you would attack the bittorrent DHT and why it's
"much easier" than attacking the btc network today, bittorrent is not
designed for security/privacy, including its DHT, which btw is great,
it's a common sign of misinformation to conclude that all DHTs are
necessarily insecure
The btc network can't be considered as a p2p network in its current form
then can't be the best one for now (and if it was then we would not be
in today's situation)
This is another problem of your proposal, as well as
fingerprinting/tracking peers based on what they have
Are you suggesting that the btc "p2p" network should be using the Tor
network, and especially the nodes hosting the/(a part of) the
blockchain? This is of course a very bad idea and you would not
eliminate the tracking issue, a simple example is that despite ot the
size of the network it's not difficult to track the peers on the
bittorrent network, you might not know who is the peer but you can
follow whatever he is doing, and hidding behind Tor or a VPN does not
prevent this
If you really know the Tor network, then you know why encouraging home
users to run full nodes is probably not a good idea
"Probably" because the situation is not the same for btc and indeed UASF
for example is referring to "users" who today are not really "users" but
intermediate nodes, so the decision finally is not made by the users
This is just delaying the problem, you are just proposing to store some
parts of the blockchain not explaining how the peers will first setup
the nodes, some parts that will of course increase... then falling back
in the issue that you are trying to address
You are reinventing something that would be achieved easily using the
concepts of torrents or incremental ones (ie someone would seed the
whole thing, some others some parts of it, etc)
What I meant is that you can't build a hierarchy of btc nodes: big
nodes, medium nodes, small nodes, each node is free to decide how/if it
participates to the network, so the wording of "archival" nodes for me
is not adapted since it makes immediately think to centralized entities,
big organizations hosting the blockchain, etc
This is the usual answer but I don't believe it, people will rely on
others to run full nodes and secure them, and so on...
I did noy read them again, some others are listed in the link above
Again, you don't explain how you bootstrap the full nodes first, which
is the main issue, and if the idea is that the pruning nodes will never
desync then you should try downloading x GB to resync connecting to 5/8
peers possibly operating from home in different countries

@_date: 2017-04-21 01:42:03
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Small Nodes: A Better Alternative to Pruned Nodes 
??? what do you mean? (
Le 20/04/2017 ? 17:50, Erik Aronesty via bitcoin-dev a ?crit :

@_date: 2017-04-23 18:27:15
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Small Nodes: A Better Alternative to Pruned Nodes 
"Absolutely, I assume if Vorick's proposal were implemented that nodes
would have the follow options: Pruned [UTXO + recent two weeks of
blocks], 20%, 40%, 60%, 80%, 100% (archive)."
Yes, and I think that they can have this in "disorder" (only 20% of
blocks in the middle of the blockchain for example)
There are many reasons why I dislike David's proposal as it is, you
mention some below, why 20%? too much? too small? what will happen
tomorrow? etc, I gave others, and this still does not explain why people
should go for more than two weeks of blocks
Maybe what I suggested here again
could be considered
This is just a suggestion based on incremental "torrents", fortunately
it comes from much more than days of work as you require below and is
the concatenation of thoughts from different projects/studies
It does follow your 8 rules (although I am not sure what you mean in
rule 2 "The decision to contact a node should need O(1) communications",
1 M limit works?) and proposes others, and it solves the issues
mentioned below, or please someone tell me why it does not (I know
people here dislike DHTs, not sure why)
Except fingerprinting (and I don't know what is the SPV issue exactly)
but still is better, if the nodes behave like the groups with most
numerous peers (ie the group seeding, 20%, or the one seeding 40%, or
the one seeding about nothing (sic... subliminal message here...), etc)
then they just can't be fingerprinted (at least based on this feature)
I think the main concepts are detailed enough but maybe that's not the
case, it's a really draft, if you look well the pruning case is
considered, but not explained, like some other points, because
continuing this work with no incentive solution for the seeders looks to
me useless
Le 21/04/2017 ? 22:38, Gregory Maxwell via bitcoin-dev a ?crit :

@_date: 2017-12-22 11:29:13
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] BIP for Legacy Sign Verify functions 
Le 22/12/2017 ? 00:09, Luke Dashjr via bitcoin-dev a ?crit?:
I already posted about this, then what is doing the pubkey in sigscript
for standard p2pkh transactions? (this was not the case some time ago)

@_date: 2017-12-23 00:06:20
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] BIP for Legacy Sign Verify functions 
Scriptsig not "sigscript" below
Now you must answer this question, because this is what we call a hard fork
Le 22/12/2017 ? 11:29, Aymeric Vitte a ?crit?:

@_date: 2017-02-14 19:44:26
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Proof of Nodework (PoNW) - a method to 
I started writing this
 some time
ago, but stopped since I was under the impression that this was of very
little interest for the Bitcoin community
It's not final and finished at all, but since I wrote it and don't have
plans right now to pursue it, I placed it in a gist and publish the
link, probably not everything is correct and this does not cover
everything but it can maybe give some ideas (which are for some the
combination of concepts from former/other projects) that could be
reused, addressing:
- incentive to run full nodes
- make sure that they are indeed full nodes
- make sure that they participate to the network and are efficient enough
- make sure that they don't collude in pools to get the rewards and are
- set up quickly a full node (incremental torrent-like download)
As this was written this was supposed to add some modifications to the
bitcoin protocol but I don't think that's necessarily a good idea, most
likely this can be handled via sidechains and/or external systems
Le 13/02/2017 ? 15:48, Sergio Demian Lerner via bitcoin-dev a ?crit :

@_date: 2017-02-24 00:57:45
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] SHA1 collisions make Git vulnerable to attakcs by 
Maybe not, unlike frozen objects (certificates, etc), trees are supposed
to extend
Then you can perform progressive hash operations on the objects, ie
instead of hashing the intermediate hash of the objects you do it
continuously (ie instead of hashing the hash of hash file a + hash file
b + hash file c, wait for file d and then do the same, instead hash(file
a + file b + file c), when d comes compute the hash of (file a + file b
+ file c + file d), which implies each time to keep the intermediary
hash state because you are not going to recompute everything from the
I have not worked on this since some time, so that's just thoughts, but
maybe it can render things much more difficult than computing two files
until the same hash is found
The only living example I know implementing this is the Tor protocol,
fact apparently unknown, this is probably why nobody cares and nobody is
willing to take it into account (please follow bwd/fwd [1] and see [2]),
this is not existing in any crypto implementations, unless you hack into
it, and this applies to progressive encryption too
[2] Le 23/02/2017 ? 22:28, Peter Todd via bitcoin-dev a ?crit :

@_date: 2017-02-24 16:18:43
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] SHA1 collisions make Git vulnerable to attakcs by 
Not sure that you really read deeply what I sent, because stating that
hashing files continuously instead of hashing the intermediate steps
just gives more latitude to the attacker can't be true when the attacker
has absolutely no control over the past files
I did not write this as a workaround to fix SHA1, which will be dead
soon or later but as maybe some general concept that could possibly help
whatever hash function you are using for objects that are not frozen but
extending (ie the original email stating that trees might be some kind
of worse candidates for collisions reminded me this), indeed it makes no
sense to patch SHA1 or play around, but this kind of proposal could
accompany the defunct
The drawback is that you have to keep the hash state when you close the
latest hash computation in order to start the next one
Then the question is: knowing the hash state, is it as easy to find a
collision between two files that will be computed in the next round than
finding a collision between two files only?
Knowing that you can probably modify the hash state with some
unpredictable patterns
Most likely the answer is: no, it's (astronomically?) more difficult
Please take it as a suggestion that might be explored (ps: I have the
code for this if needed) rather than an affirmation, still amazed as
shown in the few links provided (among others) that each time I raise
this subject nobody really pays attention (what's the use case?, etc)
and by the fact that it's apparently used by only one project in the
world and not supported by any library
Le 24/02/2017 ? 11:04, Tim Ruffing via bitcoin-dev a ?crit :

@_date: 2017-02-24 18:29:50
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] SHA1 collisions make Git vulnerable to attakcs by 
??? apparently we are not discussing the same thing
Maybe I did not provide the right links (reading them again I myself
don't find them so clear), see maybe again
a - b - c -d
But you are not going to rehash from the beginning, then:
update a --> keep the remaining bytes a_ (+ hash state 1) --> digest
update a_+b from hash state 1--> keep the remaining bytes b_ (+ hash
state 2) --> digest a_+b=hash(a+b)
Basically that's similar to a real time progressive hash of chunks of a
file that you are streaming and therefore don't know what will come next
(per opposition to hashing a file that you already have), this could
apply to trees
This is different from something like:
hash(hash(a) +hash(b))
There is no initial state, and the attacker can't modify what was
already hashed, to make it more difficult you can probably modify the
hash state N
Le 24/02/2017 ? 17:30, Tim Ruffing via bitcoin-dev a ?crit :

@_date: 2017-01-08 00:10:50
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Bitcoin Classic 1.2.0 released 
Le 07/01/2017 ? 21:26, Chris Priest via bitcoin-dev a ?crit :
Certainly not
This is what we could call a decentralized system, when everybody is
That's an obvious weakness of the system
Well, probably you did not mean this, this is not fair. "Just a node"...
Still wondering why you guys don't care about the ridiculous number of
full nodes, no incentive to run one and what would happen if someone
were to control a majority of full nodes

@_date: 2017-07-12 17:41:15
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] A Segwit2x BIP 
Le 12/07/2017 ? 03:06, Luke Dashjr via bitcoin-dev a ?crit :
Why with or without Core support are you sure that it will fail, what
can those that are opposing the hardfork attempt do (with or without
Core) and what does "fail" mean here in fact?

@_date: 2017-03-09 12:01:49
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Unique node identifiers 
As stated in this thread and as I see it the use of BIP150 is optional, so if some parties want to trust each others and use it, then they can, if they don't like it and don't want to use it, then they don't use it
Unless I misread, some statements in this thread involving the Tor network are wrong, the Tor network is a centralized network, each node (except the bridges) have a long term identity key and have to prove  periodically to the authority servers that they are the owners of this key, if not the other nodes will never extend circuits to them, then they will be of course quite difficult to reach
Unfortunately the original proposal starting this thread seems to be reinventing this system that probably can only lead to something centralized which cannot apply for the bitcoin network (the Tor network is centralized because the team want to control what is happening: sybils, bugs, attacks, blacklist etc)
Unless some peers/nodes have decided to trust each others (BIP150) I don't think it's a good idea at all that bitcoin nodes have anything similar to long term nodeIDs (see  , already posted, not final, not finished, and the title does not really reflect what would be the proposal today, but it carefully avoids any possibility for a full node to have a long term ID)
Le 09/03/2017 ? 02:55, Pieter Wuille via bitcoin-dev a ?crit :

@_date: 2017-03-24 20:00:31
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Defending against empty or near empty blocks from 
Since I have been working on crypto currencies/bitcoin, I kept
repeating: btc should make a priority to significantly increase the
ridiculous number of full nodes we have today, design an incentive for
people to run full nodes and design a system for people to setup full
nodes in an acceptable timeframe
Unfortunately, this was not a priority at all, maybe because of some
historical consensus between miners and devs, so here we are today, some
miners became crazy, the situation would be much more different if more
full nodes were there
Because, how comes everybody perfectly knows the plans of the conspiring
miners? They were stupid enough to explain very precisely how they will
perform the attack?
If I were them I would in addition setup quite a lot of nodes (which
probably they are planning to do, because anyway they need them for the
new sw), not difficult, not so expensive
Defending against abnormal blocks looks to be a non issue, I suppose
that the btc devs perfectly know how to create a pattern based on
history to detect abnormal blocks (including some strange transactions)
and reject them, but this further depends on the ability of current full
nodes to upgrade, which apparently is not what they do the best
I don't know what "Time is running short I fear" stands for and when 50%
is supposed to be reached
Given that it looks difficult to quickly increase the number of full
nodes, that increasing the mining power by standard means looks too
expensive, useless and not profitable, that a counter attack based on a
new proof of something does not look to be ready, then maybe the btc
folks should ask Bram Cohen (who by some luck is participating to this
list) to resurrect the bitcoin miner Epic Scale which Bittorrent Inc (in
an umpteenth dubious attempt to make money) tried some time ago to
include quietly in utorrent forgetting to ask the authorization of the
selected users, then utorrent users might upgrade (potentially 150 M),
and the resulting mining power might be sufficient, depending on the
incentive for this, which is TBD
Or activate by anticipation proof of space... unlike bitcoin-qt,
utorrent sw is quite good to be intrusive, run in background when you
think you have closed it, run things you don't know, etc, so quite
efficient in this situation
Then if btc folks wants to promote full nodes too, it would not be a bad
idea to put the bitcoin-qt blockchain + chain state in a torrent making
sure it is seeded correctly (there are plenty of academics here, they
can do it and run full nodes too) so people can download it and setup
full nodes (incentive TBD too) assuming they know about upnp/port forwarding
Le 24/03/2017 ? 17:03, CANNON via bitcoin-dev a ?crit :

@_date: 2017-03-24 20:00:40
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Defending against empty or near empty blocks from 
Since I have been working on crypto currencies/bitcoin, I kept
repeating: btc should make a priority to significantly increase the
ridiculous number of full nodes we have today, design an incentive for
people to run full nodes and design a system for people to setup full
nodes in an acceptable timeframe
Unfortunately, this was not a priority at all, maybe because of some
historical consensus between miners and devs, so here we are today, some
miners became crazy, the situation would be much more different if more
full nodes were there
Because, how comes everybody perfectly knows the plans of the conspiring
miners? They were stupid enough to explain very precisely how they will
perform the attack?
If I were them I would in addition setup quite a lot of nodes (which
probably they are planning to do, because anyway they need them for the
new sw), not difficult, not so expensive
Defending against abnormal blocks looks to be a non issue, I suppose
that the btc devs perfectly know how to create a pattern based on
history to detect abnormal blocks (including some strange transactions)
and reject them, but this further depends on the ability of current full
nodes to upgrade, which apparently is not what they do the best
I don't know what "Time is running short I fear" stands for and when 50%
is supposed to be reached
Given that it looks difficult to quickly increase the number of full
nodes, that increasing the mining power by standard means looks too
expensive, useless and not profitable, that a counter attack based on a
new proof of something does not look to be ready, then maybe the btc
folks should ask Bram Cohen (who by some luck is participating to this
list) to resurrect the bitcoin miner Epic Scale which Bittorrent Inc (in
an umpteenth dubious attempt to make money) tried some time ago to
include quietly in utorrent forgetting to ask the authorization of the
selected users, then utorrent users might upgrade (potentially 150 M),
and the resulting mining power might be sufficient, depending on the
incentive for this, which is TBD
Or activate by anticipation proof of space... unlike bitcoin-qt,
utorrent sw is quite good to be intrusive, run in background when you
think you have closed it, run things you don't know, etc, so quite
efficient in this situation
Then if btc folks wants to promote full nodes too, it would not be a bad
idea to put the bitcoin-qt blockchain + chain state in a torrent making
sure it is seeded correctly (there are plenty of academics here, they
can do it and run full nodes too) so people can download it and setup
full nodes (incentive TBD too) assuming they know about upnp/port forwarding
Le 24/03/2017 ? 17:03, CANNON via bitcoin-dev a ?crit :

@_date: 2017-03-27 12:25:00
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Defending against empty or near empty blocks from 
Le 27/03/2017 ? 00:15, Eric Voskuil via bitcoin-dev a ?crit :
What is the rationale to come on this list (on behalf of we don't know
whom) and explain all the details of the "network upgrade" (ie the
attack) if this is not to try to get some information to confirm the
theory and/or improve it, or some information about how it will be
defeated? This just shows that they are not sure about the whole thing,
they should stop this now, launch their approximative BU if they like
and leave BTC alone

@_date: 2017-03-27 19:09:20
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Bandwidth limits and LN w/ node relay network 
What you are describing is described here too:
 (again, at
very draft and somewhere misleading state)
I don't think that the rewards should depend on subsequent chains built
on top of the main one, it should be handled by the main chain
I am not sure to really get your last sentence and why history should
have an importance based on some ways for historical valid nodes to
prove they are still, supposedly defeating the nodes trying to split,
who would inherently not behave correctly and therefore be banned by the
other nodes
Again, we are not far from switching from decentralized to centralized,
and I must again mention the Tor network, which indeed selects nodes
according to their advertised bandwidth (ie does not select you if you
advertise a very low one, which my nodes are doing because their work is
not to relay the tor traffic), but not only since the network itself
makes some calculations (and then does not select the nodes that are
lying, but this does not work the other way around), unlike this system
the decentralized system should self regulate without being able to
fingerprint the valid nodes over time
Le 27/03/2017 ? 00:11, praxeology_guy via bitcoin-dev a ?crit :

@_date: 2017-03-29 18:00:25
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Hard fork proposal from last week's meeting 
Le 29/03/2017 ? 11:16, Jared Lee Richardson via bitcoin-dev a ?crit :
Nodes are rewarded by just nothing which is the main problem of the
bitcoin network (who is therefore not a decentralized system today)
although it seems like everybody is eluding the issue (as well as how to
find solutions to setup quickly full nodes as you quoted in another
answer to this thread, and of course design a decentralized system to
make sure that full nodes behave correctly)
Bitcoin would not be in this situation (ie maybe at the mercy of a very
small minority of freeriders among all the entities involved in the
network, ie miners,  just seeking to make more and more money because
they invested in an anti-ecological pow, not understanding that bitcoin
is not just about money) if more nodes were existing and could reject
their blocks
It seems like the initial message of this thread(t) is an ultimatum:
whether you implement what we ask, whether we join BU and then > 50 is
almost reached...

@_date: 2017-03-29 18:08:42
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Hard fork proposal from last week's meeting 
Le 29/03/2017 ? 17:57, David Vorick via bitcoin-dev a ?crit :
Yes but what makes you think that "It's too expensive for a home user to
run a full node" ? Not trivial, maybe, long to setup, for sure, but why
"expensive"? I tested running a full node from home that was normally
correctly configured and did not notice anything annoying/expensive

@_date: 2017-03-29 19:14:50
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Hard fork proposal from last week's meeting 
Well it's not going off-topic since the btc folks need now to find a way
to counter the attack
The disk space story is know to be a non issue, because encouraging
people to run nodes while they don't know how to dedicate the right
storage space that is trivial and not expensive to get today is just
stupid, they should not try to run full nodes, and no I tested with non
SSD drives, I was more wondering about cpu and bandwidth use, but did
not notice any impact, just stopped because a repeated sw bug or drive
issue desynched the chain and bitcoin-qt was trying to reload it from
the begining each time, which in my case was taking 10 days despite of
good bandwidth (which would allow me to torrent the entire chain + state
in less than 20 hours), so I stopped after the 3rd crash, setting up a
full node on my servers is still in the todo list (very low priority for
the reasons already explained)
Running a prune node implies first to setup a full node, so the same
problematic applies and then the advantage of pruning is not really
obvious, I don't know what's the strange story about "archival nodes", I
proposed something else
Back to the topic, the conclusion is that this is not difficult at all
for many people to run efficient full nodes, ideally the community
should promote this, seed a torrent with a recent state, implement a
patch to defeat BU plans and have everybody upgrade
But of course this will not happen
Le 29/03/2017 ? 18:41, Andrew Johnson a ?crit :

@_date: 2017-03-30 00:33:20
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Hard fork proposal from last week's meeting 
I have heard such theory before, it's a complete mistake to think that
others would run full nodes to protect their business and then yours,
unless it is proven that they are decentralized and independent
Running a full node is trivial and not expensive for people who know how
to do it, even with much bigger blocks, assuming that the full nodes are
still decentralized and that they don't have to fight against big nodes
who would attract the traffic first
I have posted many times here a small proposal, that exactly describes
what is going on now, yes miners are nodes too... it's disturbing to see
that despite of Tera bytes of BIPs, papers, etc the current situation is
happening and that all the supposed decentralized system is biased by
Do we know what majority controls the 6000 full nodes?
Le 29/03/2017 ? 22:32, Jared Lee Richardson via bitcoin-dev a ?crit :

@_date: 2017-03-30 12:13:21
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Hard fork proposal from last week's meeting 
Apparently we will not get an understanding and we will probably be told
soon that this is going off topic, so short answer
Eh --> No, maybe you would like to quote Mozilla or the W3C too, all of
those organizations are financed by the big companies and are promoting
their interests (specs, DRM, etc), then would you really trust them?
A full node does not have to validate all tx and blocks, I am not aware
of any P2P system organized with peers and intermediate nodes (with no
incentive) that did survive (diaspora for example), and the most famous
one (who btw is handling much more traffic than what you describe) is
doing well because there is an intrinsic incentive for the users, see my
comment here
surprising to see that nobody raised those issues during the consultation
Paradoxally crypto currencies allow now to reward/sustain other systems,
then probably they should concentrate first on how to reward/sustain
themselves, different ideas have surfaced to reward the full nodes but
still seem very far to materialize
Coming back again to the subject, does anyone have any idea of who are
behind the existing full nodes and how to rank them according to their
participation to the network? Up to now there has been quasi no
discussion about what are the plans for the full nodes which tends to
suggest that this is obvious
Le 30/03/2017 ? 03:14, Jared Lee Richardson a ?crit :

@_date: 2017-03-30 13:24:53
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Hard fork proposal from last week's meeting 
Except if people have some incentive to do it, simple example: I have
some servers, they are doing some work but are not so busy finally, I
can decide to run some nodes, this does not cost me more (and less for
the planet than setting up new servers) and I get some rewards (as an
illustration of this my servers are mining zcash and running zcash
nodes, this is of course absolutely not profitable but since this does
not disturb what the servers are primarly intended for and I get some
small zecs with no additionnal costs, why not doing it?) Of course we
can then consider that people doing this are finally using the network...
Le 30/03/2017 ? 12:34, Tom Zander via bitcoin-dev a ?crit :

@_date: 2017-05-04 00:45:40
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Small Nodes: A Better Alternative to Pruned Nodes 
Le 03/05/2017 ? 21:10, Natanael via bitcoin-dev a ?crit :
No, the bittorrent network is a good example
No, this one is impossible and you don't care in fact, as long as the
system forbids the nodes to position themselves where they like and can
check that the nodes are behaving correctly, same people's nodes/IPs
would then just do the job
And if you add to this a rewarding system that is not necessarily
profitable then you eliminate the incentive for sybil attacking the
network (like the "tip" proposal today) while motivating those that have
the resources to run full nodes, then increasing independence

@_date: 2017-05-04 15:37:43
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Full node "tip" function 
Strange idea, incentiving people to run full nodes should certainly not
depend on miners, should certainly not involve another wasteful pow and
should certainly not encourage any collusion between participants like
miners are doing (ie full nodes pools for example or miners creating
full nodes pools)
Le 04/05/2017 ? 12:38, Tomas via bitcoin-dev a ?crit :

@_date: 2017-05-04 16:31:11
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Full node "tip" function 
Yes, as a whole, but I am sorry, your "tip" proposal is very very very
bad as it is, think a little bit more about your latest answer and you
will understand why
I am a bit perplexed sometimes about what is proposed on this list
Adding services paid by the miners is not a bad idea, like some
proposals that were posted here proposing some system to validate/format
the blocks for the miners
But, first, the highest priority is to scale the full nodes and this
cannot depend on miners, then once this is done we can imagine other
services on top of it paid by the miners or others (+lightning & co)
I have already explained many times my thoughts on the subject, I don't
pretend that they represent the perfect solution but at least it's
different from what we can read , so I think that the core dev team
should setup a task force/group to solve this quickly now, the
accumulation of strange proposals/workarounds here does not help
Because it's a real question for everybody in the current context
whether we can trust bitcoin or not, unfortunately the answer currently
tends toward the later, or please explain me why this statement could be
Le 04/05/2017 ? 15:47, Erik Aronesty a ?crit :

@_date: 2017-05-11 22:36:33
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] BIP proposal: NODE_NETWORK_LIMITED service bits 
Sorry again, is this discussion really serious?
In this thread, previous ones or others, the level of approximation is
obvious, often shadowed by useless maths/papers and strange calculations
that are not helping, at the end nobody knows what would happen "if",
how far the chain can roll back, etc
Then don't make pruning the default if it's the current concern, pruning
is of no use
Again, the priority should be to scale the full nodes
Le 11/05/2017 ? 22:10, Jonas Schnelli via bitcoin-dev a ?crit :

@_date: 2017-11-03 19:15:10
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Proposal: allocate Github issue instead of wiki 
Indeed, as any project Github issues should be enabled for BIPs,
wondering too since some time why this is not the case, and then if an
issue is worth discussing here it can be redirected to the list
Le 03/11/2017 ? 10:50, Sjors Provoost via bitcoin-dev a ?crit?:

@_date: 2017-11-24 16:13:04
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] pubkey or not pubkey? 
I released As you can see the restart of this project (started one year ago) was
motivated by the epic launch of bitcoin gold and many people still
desperately trying to sync, not understanding there was no need to
'transfer' their bitcoins to btg, getting robbed, etc, but there is more
some long term intent
This is somewhere bitcoin-cli outside of bitcoin-qt with a non
synced/outside wallet (where  can
be used), not only for btg but for any network based on bitcoin
While implementing BIP143 I noticed during the tests/doublechecks with
cli that scriptSig was < pubkey>
This was not the case one year ago, scriptSig was  since you
can get the  from the signature, that's what I did thinking of
some lack of optimization in the bgold client, but this behavior is very
the same for bitcoin core
Then my first transactions did not include the pubkey and I was
immediately banned by my own node (who btw did not realize that it was
banning itself...), I got a reject message stating that OP_EQUALVERIFY
So, the questions are: for basic p2pkh transactions why is pubkey back,
since when and why txs without it are rejected?
At this time where everything is made to reduce the tx's size while the
fees/byte are quite high, this adds 34 useless bytes in each input

@_date: 2017-09-26 00:43:02
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] idea post: trimming and demurrage 
Maybe I missed or did not receive some messages, where was your
centralization concern addressed in the discussion?
Le 26/09/2017 ? 03:33, Patrick Sharp via bitcoin-dev a ?crit?:

@_date: 2017-09-29 19:40:00
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Why the BIP-72 Payment Protocol URI Standard is 
Everybody knows that https is broken and insecure, and everybody knows
that it's still better than nothing
Just reacting here because there is worse: you are quoting Kraken, did
not check for Coinbase but Kraken is proxying all of its https traffic
via Cloudflare, including the API traffic
This is crazy but that's how things are, that's what everybody is doing,
that's what we have
The https principles are obsolete, the concept of certificates tied to a
domain is a complete stupidity, because there are no concept of domains
in bitcoin for example (and webrtc, Tor, bittorrent, p2p systems, etc)
and should evolve to something like certificates tied to an entityID
managed by something like a blockchain system, and not a stupid domain or CA
Therefore specifying things for bitcoin ? la web is not a good idea,
browsers can do far better than standard/usual web, and the "like
everybody is doing" argument is not a valid one
Le 29/09/2017 ? 15:14, Tomas via bitcoin-dev a ?crit?:

@_date: 2017-09-30 13:10:45
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Paper Wallet support in bitcoin-core 
I am not sure that this discussion is really off topic for this list,
this is a real issue, would everybody even here say that they feel very
comfortable with their keys? That if something happen to them there is
no pb for the family or trusted parties to retrieve the keys? That this
process is secured in case the trusted parties are finally untrusted? etc
I don't think so, if experts are not comfortable then how can we expect
non experts people to manage this? (except going to a wallet sw asking
them all the info, even online, crazy but they just don't know)
Comments below
Le 30/09/2017 ? 06:49, Jonas Schnelli via bitcoin-dev a ?crit?:
Personnaly I don't see also the advantage of proposals such as BIP39 versus backing up a seed This is the intent of  and
But even myself can get confused, where did I put the backup seed? But
remember you did not backup the seed but the first derivation step and
you mixed it secretely, so nobody can reconstitute it except you,
well... what did I do exactly? What version is my real wallet? What is
the encryption key? How did I do last time to add the key in qt? etc
Is there really nothing existing yet to address all of this?

@_date: 2017-10-01 01:51:12
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Paper Wallet support in bitcoin-core 
By "all of this" I meant the other issues that I mentioned too "would
everybody even here say that they feel very comfortable with their keys?
That if something happen to them there is no pb for the family or
trusted parties to retrieve the keys? That this process is secured in
case the trusted parties are finally untrusted? etc", I am extending the
problematic while the very basic concerns are still unsolved
Then I don't agree with the fact that users should not have the control
of their keys, but if I try to summarize, your suggestions probably lead
to the fact that the "wallet" part should be outside of bitcoin-qt, in a
simple offline module (assuming that you can trust the simple sw + the
os + the hw +the cpu, but ok, the pb is the same with a hw wallet),
which I think is a good idea
That's why I made a module some time ago, supposed to be "bitcoin
transactions made simple", you do your transactions offline, check them,
and send them to the network via qt, the web or other, it's working but
is not online on github because unfinished, and unfinished because
nothing is simple and it's unlikely that normal people can use this for
now, unfortunately you need to be a bit online to make your transaction,
fetch the output you want to spend or get the info, then associate the
right key, calculate the fees, that's not simple, that's why it's
different from a standard wallet, but probably a good way
Small sw a bit like a credit card finally, and people know they must not
disclose their code(s) in case they are asked on IRC or elsewhere
Le 30/09/2017 ? 23:14, Jonas Schnelli via bitcoin-dev a ?crit?:

@_date: 2018-04-10 15:15:22
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] KETAMINE: Multiple vulnerabilities in 
I used jsbn in the past, then I made some research too
Apparently window.crypto.getRandomValues was introduced in jsbn mid 2012
(according to the wayback machine, but 2012/2013 does not make any
difference, see below), was available in Chrome since 2011 (but indeed
see "window.crypto.getRandomValues() uses a weak CSPRNG"
 fixed *end
*of 2015, funny to see that those that did specify the Webcrypto API did
not implement it correctly...), in FF in 2013
, in IE in 2013 and Safari ~2012/2013, at least that's the official
dates for the Webcrypto API implementation, maybe something existed
before, but it's not so easy to seek for the history
The window.crypto.random check is in jsbn since the begining (2006) and
only returns true for Netscape browsers before Netscape 5/6, ie Firefox
(2000), see
Math.random (sjcl, cryptoJS, forge, etc) with different implementations
and everybody did put a note stating that it might be insecure with an
"improvement to come" comment
We can probably assume that nobody was using Netscape any longer when
Bitcoin started
The conclusion seems to be that at least all wallets generated by js
tools inside browsers since bitcoin exists until 2011 are impacted by
the Math.random weakness if applicable to the related implementations,
the Math.random or RC4 (Chrome) weakness between 2011 and 2013, and RC4
weakness for Chrome users until end of 2015
And all wallets using jsbn are impacted by Math.random and RC4 until
2013 (or end 2015 for Chrome), then still by the RC4 fallback step after
for Internet Explorer, because getRandomValues is provided under
window.msCrypto for that browser
I don't know for that one, what was the issue?
Le 10/04/2018 ? 10:51, Jason Davies via bitcoin-dev a ?crit?:

@_date: 2018-04-10 15:50:40
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] KETAMINE: Multiple vulnerabilities in 
Indeed, this impacts jsbn only normally since all others from the time
getRandomValues was available are supposed to implement both
Le 10/04/2018 ? 15:32, Jason Davies a ?crit?:

@_date: 2018-08-01 11:58:43
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] bitcoin-transactions 
You are right, that's what I have been saying for online services that
ask for private keys, and even the seeds
The problem is that people can't refrain to put their keys for example
to get "free" coins, typically they try to use bitcoin-transactions,
don't succeed and go put their seeds in an online service
At least it gives an alternative, private keys are optional and the tool
will output the command to use with bitcoin-transactions, and if they
want to put directly their keys, then...
"Move your coins by yourself" refers more to "don't get trapped by your
wallet(s) or things that you don't master like multisig, segwit, bech32,
As I said the idea would be to end up with an offline tool should some
people support/finance the effort
Le 01/08/2018 ? 07:45, Marcel Jamin a ?crit?:

@_date: 2018-08-30 12:03:41
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Building a Bitcoin API and query system. 
Le 28/08/2018 ? 20:36, Jonas Schnelli via bitcoin-dev a ?crit?:
 which is somewhere
bitcoin-cli outside of bitcoin core with no wallet, which implies that
you don't want to mix/provide your wallet with/to the app creating your
transactions and/or you don't want to use wallet sw
Problem: quasi nobody succeeds to use it (and probably this trend is
unlikely to revert), that's why there is  which
is querying the info outside and output the right command to use with
the tool (or output the transaction if people put their keys, which is
of course not advised unless they are sure that the corresponding
addresses are dead ones)
It is planned to put the app for the advanced mode (ie people must know
all the parameters) as an offline one inside browsers, then back to the
above problem...
So probably the offline mode should include a phase where the tool
connects to some APIs/explorers like the one suggested here before
switching to the offline mode to enter the keys, this will always be not
very secure for the query phase unless it can become something
decentralized (and usable the same way on different networks), which as
far as I understand is envisioned here

@_date: 2018-12-22 00:58:04
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] BIP39 seeds 
Has anybody already looked at this: given N randomly chosen words
belonging to a BIP39 2048 words dictionary, what is the probability to
get a "valid" BIP39 seed (ie with the right checksum)?
The result looks (very) surprising to me and might have some use cases,
just would like to know if this topic has already been discussed before
going further

@_date: 2018-12-23 23:41:00
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] BIP39 seeds 
This is surprising, I would have expected the probabilities to be much
more lower
It just means that scanning whatever (secret) book, document, link, etc,
you will find easily BIP39 seeds, even of 24 words
So, it just means that you don't have to write your seed since you can
recover it that way, given a secret source and specific algo with custom
parameters, this could be used for plausible deniability also
For now I still dislike BIP39 and alike (because I don't see very well
why it's easier to write n words that you cannot choose rather than a
32B BIP32 hex seed, and I have seen many people completely lost with
their wallets because of this), but I could change my mind, and despite
of further improvements for this ratio, could what I am suggesting make
Le 23/12/2018 ? 19:46, Pavol Rusnak a ?crit?:

@_date: 2018-12-26 12:33:27
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] BIP39 seeds 
Another drawback I think is that people are not using it as seeds, they
just go to a wallet sw which proposes a new seed, write it somewhere, do
something with the wallet and forget about it, go to another one, create
another wallet, etc
Apparently it is not very well known even here that the probabilities
are very high to get a valid BIP39 seed even with 24 words, so, even
with a tool like yours, they can be misleaded, for example trying a few
words to replace the missing/incorrect one, get a valid seed and stay
stuck with it forever trying to play with BIP44/49 to find their keys
Probably what I am suggesting is not new (and therefore maybe not a good
suggestion): given a secret seed (a book, a document, a link, etc) and a
derivation path (an algo with secret parameter(s) to derive/order the
words and select the valid bip39 sequences), you get your BIP39 seeds
and don't have to write them
Of course we don't have to use necessarilly BIP39 for this but this is
what we have everywhere and this is what is compatible with it, then you
could use the same or a fake written "not very well hidden" BIP39 seed
to plausibly deny your real wallet
Le 25/12/2018 ? 01:30, James MacWhyte a ?crit?:

@_date: 2018-12-27 12:04:18
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] BIP39 seeds 
Le 26/12/2018 ? 19:54, James MacWhyte a ?crit?:
I saw that your tool was querying blockchain.info, but it cannot guess
what derivation path was used and if it is a standard one what addresses
were used, and even if successful it works only for bitcoin (so maybe it
should just output the ~1500 possible phrases and/or xprv, and be
completely offline, this is still doable for people)
I forgot to mention that this can help also solving the "what if
something happens to me" case giving to the family the seed and the
parameter(s) for the derivation path, or an easy way to find it (better
than something like: remind this passphrase, take the sha256 of it, then
use some other stuff to find the encryption algo, take n bytes of the
hash, use it to decode my wallet or my seed... and then everybody
looking at you like crazy)

@_date: 2018-02-13 16:22:43
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Possible change to the MIT license 
I was thinking to post something very similar on this list but not sure
that it would get some kind of interest
Not sure how and if it can be done (ie license modification) but the
reuse of the bitcoin core code can allow even a child to launch a fork
and this mess should stop, maybe people like to get "free" coins but
they are misleaded, they can lose everything and there are some more
vicious side effects like replay protection collisions between forks,
Bitcoin Tartuffe, the ultimate fork - User guide: How to create your
bitcoin fork in 5mn, fool everybody and become rich
--> this is a parody of course but very close to the reality, some info
are intentionally wrong
The madness of bitcoin forks: risk, reward and ruin
I don't think that it really impacts bitcoin itself but this is
definitely too easy for people to fork the bitcoin core code and launch
some shxtty fork
Probably nobody here follow this, as an example (among plenty) see this
completely absurd mess
Le 13/02/2018 ? 13:25, JOSE FEMENIAS CA?UELO via bitcoin-dev a ?crit?:

@_date: 2018-02-13 16:45:17
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Possible change to the MIT license 
No, the problem is not bitcoin being under any kind of attack by the
forks for me, but the forks fooling people because, again, reusing the
bitcoin core code is too easy
I don't know if there can be a legal solution to this which would keep
some open source aspect of the code, but at least it deserves to be studied
Le 13/02/2018 ? 16:24, Jameson Lopp via bitcoin-dev a ?crit?:

@_date: 2018-01-05 19:08:29
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] BIP 39: Add language identifier strings for 
See: OK, maybe it's my fault, I did not foresee this case, and now it's
working for p2sh (non segwit)
From my standpoint this just means that BIP39/44 stuff should be
eradicated (not BIP141 but see what happened...), this is of no use,
confusing people, doing dangerous things to recover
Really is it easier to save x words instead of a seed? Knowing that
people are creating several wallets not understanding that this is not
the purpose of BIP32?
Multisig wallets (like Electrum) have created a big mess too, on purpose
or no, I don't know, but multisig is for different parties involved, not
just one
Le 05/01/2018 ? 18:13, Sjors Provoost via bitcoin-dev a ?crit?:

@_date: 2018-01-05 20:56:19
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] BIP 39: Add language identifier strings for 
No that's not, some parts of the answer might be but this related, this
just shows how people use wrongly BIP39 and subsequent BIPs (and
globally other things), misleading them, while the advantage of using it
is quite dubious compared to backing up a seed, unless you can convince
me of the contrary
Le 05/01/2018 ? 19:16, Alan Evans a ?crit?:

@_date: 2018-01-06 18:40:40
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] BIP 39: Add language identifier strings for 
Unfortunately, even "yourself" seems not to know what he is talking
about (so imagine for other people, 256 bits is advised --> 32B),
probably that's why you brought this discussion off the list, then
making recommendations to improve something that is misleading and messy
is quite dubious
And maybe you should take a look at what people you are talking to are
doing before arguing stuff that you apparently don't know very well (ie
"the length of the *derived *key", not the seed), cf
 and even
 (not official but
But as you can notice there is a missing feature, ie to derive the
wallets from xpriv, there is a comment in the repo why I don't like some
things "Surprisingly from ~32 bytes keys BIP32 ends up with a 78 bytes
format to describe them with all the necessary information like indexes,
parent to possibly allow to revert the tree"
That's another thing I completely dislike with BIP39, it ends up with
xpriv, not the 32B seed, there are many, many, many posts in forums of
people fighting to figure out their private keys derived from bip39/44/etc
"No offence too" but please keep your advises for yourself, I indeed
don't read closely inept BIPs, and never said I did not like BIP32,
that's the contrary, I really like it
Before firing plenty of BIPs that do not fit together people maybe
should take a break and see what people are doing today (this is quite
amazing) and why they got stolen
And you seem to know very little about security, if you suspect you home
printer, then suspect you OS, your hw, etc, (you really envision to
generate a seed from a mobile device ???) writing 64 characters is not
very difficult for a human being, even easier than writing x words of y
See this too
the tutorial was corrected, but basic things are still missing, an
offline version is when you disconnect from the internet, not when you
use the "offline version"? (assuming that the browser storage or other
stuff are not used...)
Re-ccing the list because again at a certain point of time the theory
should look at the reality and adapt accordingly, part of the example I
gave is off topic for this thread but globally (which could become
another thread) the message is: the bitcoin community should stop making
things complicate for people, releasing BIPs of no use just ends up with
complicating things more than it helps, people deserve to understand
what they are doing, manage their keys by their own and stop syncing
useless full nodes for every coin to sync their wallets, that's why I
made the tool, the first people that used it made some outstanding
mistakes that I did not envision now it's not possible any longer,
except if they give wrong destination addresses and nobody can't do
anything about this (btw the primary intent of the tool was for myself
and you are right for once, I did not know that people could do so big
mistakes, that's not their fault, I see it now, my mistake for
underestimating this)
Le 06/01/2018 ? 16:00, Alan Evans a ?crit?:

@_date: 2018-01-06 20:46:43
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] BIP 39: Add language identifier strings for 
Calm down now and stop your "do you want a" or "link" stupid comments,
whether you are really willing to propose some improvements, whether you
are just posting for nothing
"The length of the derived key is 512 bits (= 64 bytes).
This seed can be later used to generate deterministic wallets using
BIP-0032 or similar methods."
So the derived key is the seed? (derived key... this seed, really?
"similar methods",funny) That's not clear, then why everybody is using
xpriv which corresponds to the first step of the derivation (ie the
derived key)? And why BIP39 does not follow BIP32 recommendation (32B seed)?
Anyway, I don't really care about this stuff in fact, the only
interesting thing in this discussion beside arguing around unclear specs
misleading many people would be if you can convince that BIP39 & co are
really usefull for people (and easier than writing a seed): what
feedback do you have, don't you see how it's a pain in the xss for
And if the answer is positive how can you can make it easier for people
(I am amazed too that people know about BIPXYZ, they should not),
probably this discussion will bore people and get moderated, but as
mentioned below, even maybe off topic, the subject is wider
Le 06/01/2018 ? 19:28, Alan Evans a ?crit?:

@_date: 2018-01-08 17:02:02
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] BIP 39: Add language identifier strings for 
That's the point indeed and the scope is wider than XYZIP-39, even if
what I mean is the very contrary of your point (really bitcoin is
reserved to an elite understanding english/ascii letters?)
This proposal is tailor made for Trezor and does not simplify anything
for people, that's the contrary again
As I suggested in another response to this thread (which was moderated
due probably to some uninteresting parts of the discussion) it's time to
take a break and really make a survey worldwide of what people need,
what they understand and what they need to secure their coins, nobody
has any feedback about this (and maybe does not even care)
Wallets created a big mess implementing non standard things (or things
they thought standard but that are not), or things not intended for the
final use, or things that people can't understand, it's time to correct
this, unless wallets want to keep people tied forever to them (when I
read Trezor or other wallets docs, it's quite misleading, "sending coins
to your wallet", what does it mean? Nothing, and people think it means
something, this should stop now)
And again, I don't see the point of wordlist (in addition in a language
that they don't understand) compared to backing up a 32B hex string
(that you can encrypt different ways at different places), assuming that
the hex format can be made available in all languages
"yet I would not advise users to use a wordlist that might not have
support across multiple wallet implementations, resulting in lock-in or
worse"--> this single sentence shows how the whole model is wrong and
how you think that you can lock people
Le 08/01/2018 ? 15:54, Greg Sanders via bitcoin-dev a ?crit?:

@_date: 2018-01-24 11:24:55
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Why is deriving public key from the signature not 
34 bytes in fact
I have asked already the question at least twice on this list pointing
out the fact that pubkey is there now even for standard p2pkh
transactions and it was not the case some time ago
But I never got any answer regarding what motivated this change
(compared to the previous behavior) and when, so whether I am missing
something obvious, whether nobody wants to answer
Txs without pubkey are now rejected then what is the element in the code
(protocol, version, etc) that "decided" this?
Le 24/01/2018 ? 05:25, Gregory Maxwell via bitcoin-dev a ?crit?:

@_date: 2018-01-24 12:16:30
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Why is deriving public key from the signature not 
Then what about
No pubkey...
Le 24/01/2018 ? 11:31, Gregory Maxwell a ?crit?:

@_date: 2018-01-24 13:03:55
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Why is deriving public key from the signature not 
Indeed... I would have bet that I had other examples with p2pkh this
time but apparently I imagined it
Le 24/01/2018 ? 12:35, Gregory Maxwell a ?crit?:

@_date: 2018-07-31 13:25:48
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] bitcoin-transactions 
============================== START ==============================
I know this list is not to advertise personal projects but
 might be of some interest, this is the web
interface for  since
apparently quasi nobody succeeds to use it
As far as I know (and surprisingly) this is the only online tool that
converts bech32 addresses (Sipa's one does not output something
understandable by everybody, the tool is using his code), the only one
that converts from any address to any address, maybe the only one that
decodes simply redeem scripts and probably the only one that allows to
create transactions by its own (the advanced mode is not implemented for
now but will be soon)
Ideally it should be an offline tool if there is some incentive to do
so, so of course it is not advised to use his private keys for now
Maybe they are mistaken but some users are reporting invalid bech32
addresses from their Electrum wallet, after segwit, bech32 confusion
seems to be the topic of the moment

@_date: 2019-04-02 18:48:55
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Softfork proposal for minimum price of $50k 
Right and everybody knows that Tether is the most clever sidechain ever invented far more sophisticated than lightning, which makes me think that a punishment should be added in the proposal for the cheater advertising a price < 50 k (or 100) and/or selling before 1-3 years (tbd) so all his coins go to the Bitcoin Mediator, a new notion here to sustain the community (I modestly apply for the position)
Le 01/04/2019 ? 13:50, Dana L. Coe via bitcoin-dev a ?crit :

@_date: 2019-04-04 19:18:30
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Smart Contracts Unchained 
What if the smart contract platform(s) disappear?
The proposal induces a very centralized system, to my knowledge all of existing sidechains whether on bitcoin or ethereum are centralized, except lightning (if we forget that someone must watch what others are doing when you are on a trek in Nepal)
Now I don't get why a sidechain should be a blockchain on top on another one (given also that we can't consider bitcoin or ethereum as decentralized today, so the path might be long for the sidechains...), the latest is used to store the final state, the former does not have to store forever the intermediate states, then it could just use a decentralized system (not necessarilly blockchain-like) to store the intermediate states and maybe be a distributed escrow
I know, easy to say, please do it (why not), now the fact that sidechains claim to be decentralized or that they will be is just misleading people (that's not the case of your proposal but it does not say what happens if the platforms go down)
Le 04/04/2019 ? 03:55, ZmnSCPxj via bitcoin-dev a ?crit :

@_date: 2019-04-05 19:46:35
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Smart Contracts Unchained 
Apparently you are not a fan of ethereum, as far as I can tell ethereum sidechains look like a mess with stupid tokens/transactions flooding the network while they are completely centralized, but some bitcoin sidechains can easily compete with this too, like Tether, don't even understand how anyone can give some credit to that stuff the way it is implemented, and if bitcoin fails that would be the same as for ethereum
Most likely everyone would agree if the escrow disappears, but not sure at all, let's imagine 1 to N put 10K on the table for a game, they update the states and at the end N wins everything, N is rich and don't care finally if the others cheaters have their coins locked (and to lose 10K), same with setting up a new escrow to resolve the conflict
I think that you should highlight this (and what private key corresponds to E + h(E | s) * G, not sure it's trivial for everybody), probably a way to get this more decentralized is to reward the escrows (what is the interest here for people to run a smart contract platform?)
For lightning, maybe it's a question of wording, I consider it as a sidechain AND methods that can be used by other sidechains, as well as the others you quoted, even if only two people in the world use lightning, it is still decentralized, because it sustains itself alone
Le 05/04/2019 ? 01:52, ZmnSCPxj a ?crit :

@_date: 2019-04-08 18:28:27
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Smart Contracts Unchained 
I took the example of colored coins because you quoted ethereum and like
most of ethereum tokens most of them reflect something coming from
nowhere, worse I can send you 10K Tethers if you like that of course
will not be validated by the central system but will be recorded in
bitcoin blockchain
Bitcoin oulasting ethereum, maybe, but the bitcoin community must make
more efforts to explain things, like "both were obvious" below is not in
fact for an usual reader, so a few more words would be good indeed
For me a sidechain does not have to be a blockchain but a decentralized
system allowing to secure off chain transactions until the final state
is stored into the blockchain, I don't see the use of storing forever
the intermediate states neither why the sidechain should be a
blockchain, if not then the sidechain would just be another
bitcoin/ethereum, no? What would be the purpose of building a blockchain
on top of another one? Just do your own, and this would eliminate the
drawback of needing to have bitcoins or ethers to smart contract things
that have nothing to do with them, as well as mixing addresses between
the blockchain and the sidechains
Le 08/04/2019 ? 12:45, ZmnSCPxj a ?crit?:

@_date: 2019-04-09 11:46:37
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] License for BIP39 word lists 
Is it final now and live in Trezor? Do you know who else will adopt it?
Le 03/04/2019 ? 11:19, Pavol Rusnak via bitcoin-dev a ?crit?:

@_date: 2019-04-09 18:19:40
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] License for BIP39 word lists 
What is not final finally and when do you expect it to be?
Le 09/04/2019 ? 11:49, Pavol Rusnak a ?crit?:

@_date: 2019-04-27 12:37:29
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] IsStandard 
Maybe trivial question but asking here because I can't find anything
clear (or updated) about it: is somewhere explained in details what txs
are considered standard and non standard today without having to read
the core code?
For example, modification of multisig 2 of 3:
??? OP_0
??? OP_PUSHDATA sign1
??? OP_PUSHDATA sign2
??? OP_2
??? OP_PUSHDATA  OP_3 OP_CHECKMULTISIG
??? OP_HASH160 hash160( OP_3
OP_CHECKMULTISIG) OP_EQUAL
Is this standard? Are lightning txs standards ? etc

@_date: 2019-04-29 11:30:39
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] IsStandard 
ZmnSCPxj, OK, but you can put whatever you like in the different
standard output script you mention (my example below whether legacy or
Luke, I am still confused or missing something, from your answer I
understand that everything is accepted, so if we take the past example
of bch coins wrongly sent to a segwit address, why was the recovery
solution where scriptsig included the matching segwit address/program
not a standard transaction?
Le 29/04/2019 ? 05:01, Luke Dashjr a ?crit?:

@_date: 2019-04-30 11:43:27
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] IsStandard 
I must badly explain my point (or just wondering things that do not
exist finally), the question is indeed whether nodes will relay non
usual transactions or not and how to know what they will accept or not:
- my modified multisig 2 of 3: I did put OP_2 out of the usual redeem
script, the redeem script still matches scriptpubkey and scriptsig will
execute succesfully, that's a normal legacy P2SH or segwit P2WSH
- bch segwit recovery: it's a p2sh transaction without any signature
verification, as far as I remember there was a story that it could not
propagate in the network (even taking the risk to be stolen) and that
people had to contact a (honest) miner
- sha bounties: same as above, p2sh transactions without signatures
Will all of those transactions propagate normally? And then the rule is
just that it matches the P2PKH, P2WPKH, P2SH, or P2WSH templates
whatever scripts you put inside?
Le 30/04/2019 ? 06:29, ZmnSCPxj a ?crit?:

@_date: 2019-08-07 12:54:10
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Fwd: Discover and move your coins by yourself 
FYI Phase 3 is released - create transactions
- decode transactions
- verify transactions
- convert/map addresses (including bech32)
- create/map wallets (bip32,39,44, etc), wallets recovery (missing/wrong
words) and check
- decode/create multisig redeem scripts
- pubkey/privkey mapping , conversion and formats
- sign/verify messages
Browserifying everything now for the end of the month
-------- Message transf?r? --------
Sujet?: 	Discover and move your coins by yourself
Date?: 	Fri, 12 Jul 2019 20:35:00 +0200
De?: 	Aymeric Vitte Pour?: 	Bitcoin Dev Please see  this is a merge
of former bitcoin-transactions and bitcoin-wallets nodejs modules with
additional features to be implemented as described in the README
It is financed by NLnet via EU Horizon 2020 Next Generation Internet
Search and Discovery call
So the initial dev fees have been removed and the code is now open
source and provided in clear under a MIT license
The intent is to provide all the necessary tools for anybody to discover
and manage their coins, as well as making transactions by themselves,
without having to sync a full node or as an alternative to wallets when
people don't understand where their coins are (we saw quite a lot of
confusion for people not understanding at all how to find their coins
and to what keys their addresses did relate in case of multisig, segwit
and now bech32)
It's somewhere bitcoin-cli outside of bitcoin core more easy to use and
not restricted to its own wallet, available for any bitcoin based coins
At the end it will be a secure standalone offline js webapp inside
browsers (like  but the app does not reflect
the current state of the nodejs repo)
It's not a remake of iancoleman's tool but of course some features
overlap, as well as for other existing tools, we will also extend all of
this inside one tool with no limitations (for example some tools do not
accept "invalid" bip39 seeds, or bip32 seeds, etc)
Comments/suggestions welcome
PS: initially sent to bitcoin-discuss but the list seems to be dead

@_date: 2019-02-18 22:59:25
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] BIP proposal - Signatures of Messages using 
Then, since you wrote this proposal, maybe you should add the very
precise description of the signing/verification process since it is
documented nowhere
I don't get the use of the speech regarding keys while it should focus
on signatures which are summarized in a vague sentence inspired by your
ref [2] with a not very logical link to the next paragraph stating that
r,s should be 32B and the whole thing 65B with a header of 1B, you did
not invent it, that's probably the rule, not sure where it is specified
again and for what purpose, the header seems completely of no use
especially when you extend to segwit/bech32 since you just have to check
that related compressed key matches
Le 17/02/2019 ? 15:14, Christopher Gilliard via bitcoin-dev a ?crit?:

@_date: 2019-02-18 23:50:30
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] BIP proposal - Signatures of Messages using 
Ah, OK, that's of course a good thing to document this undocumented (and
strange) stuff, as a matter of fact I implemented it after reading your
post (because this was on my todo list since some time) and got annoyed
quickly, mainly by what is doing formatMessageForSigning (which is quite
trivial when you know it but would be good to document precisely)
So, yes, it's a good idea to write this, regarding the header I still
don't see the use, testing the different possibilities is not a big
deal, why the signature format is not the same as transactions one is
mysterious too
Le 19/02/2019 ? 00:24, Christopher Gilliard a ?crit?:

@_date: 2019-01-01 20:44:57
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] BIP39 seeds 
You are simplifying too much what I am suggesting
What I am suggesting is: set a derivation method for BIP39 like for BIP32 (having the seed for BIP32 and not the derivation path is just like having nothing) and use this derivation method from a "book" (a "book" being a book, a document, a link, an image, whatever your secret can be), based on the fact that you will easily find from this derivation method "valid" BIP39 seeds (even if BIP39 does not enforce anything regarding valid phrases, everything can be valid as you mention, and this does not help in fact)
The derivation method will just define the way you select the words in the secret, and if everybody chooses the bible as the secret then this will not change the fact that it will be impossible to find the real seed without knowing the derivation path
Then you don't need to write the seed, you can easily plausible deny it, you can easily pass it to the family (using a passphrase does not say to them where they are supposed to use it)
"people lost"--> people think that there is some magic with BIP39 that will save them whatever they do (ie they don't even care of managing correctly the many easy to generate BIP39 seeds they are using) where they will always recover their seed and keys from BIP39/44/49, of course this does not work at all
Le 31/12/2018 ? 17:52, Alan Evans a ?crit :

@_date: 2019-01-04 01:02:35
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] BIP39 seeds 
What I have in mind is in my latest reply (difficult to have some kind
of fluent discussions on this list given the moderation and delayed posts)
I would just add that the derivation method (indeed something like what
you are sketching below) should estimate that there is enough entropy
from the secret, if not just throw
Le 02/01/2019 ? 19:06, James MacWhyte via bitcoin-dev a ?crit?:

@_date: 2019-07-12 20:35:00
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Discover and move your coins by yourself 
Please see  this is a merge
of former bitcoin-transactions and bitcoin-wallets nodejs modules with
additional features to be implemented as described in the README
It is financed by NLnet via EU Horizon 2020 Next Generation Internet
Search and Discovery call
So the initial dev fees have been removed and the code is now open
source and provided in clear under a MIT license
The intent is to provide all the necessary tools for anybody to discover
and manage their coins, as well as making transactions by themselves,
without having to sync a full node or as an alternative to wallets when
people don't understand where their coins are (we saw quite a lot of
confusion for people not understanding at all how to find their coins
and to what keys their addresses did relate in case of multisig, segwit
and now bech32)
It's somewhere bitcoin-cli outside of bitcoin core more easy to use and
not restricted to its own wallet, available for any bitcoin based coins
At the end it will be a secure standalone offline js webapp inside
browsers (like  but the app does not reflect
the current state of the nodejs repo)
It's not a remake of iancoleman's tool but of course some features
overlap, as well as for other existing tools, we will also extend all of
this inside one tool with no limitations (for example some tools do not
accept "invalid" bip39 seeds, or bip32 seeds, etc)
Comments/suggestions welcome
PS: initially sent to bitcoin-discuss but the list seems to be dead

@_date: 2019-03-06 11:37:59
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Fwd: BIP proposal - Signatures of Messages using 
Re-sending to the list since it never made it
BIP or not, at least this process desserves to be documented precisely
-------- Message transf?r? --------
Sujet?: 	Re: [bitcoin-dev] BIP proposal - Signatures of Messages using
Bitcoin Private Keys
Date?: 	Mon, 18 Feb 2019 16:29:34 -0800
De?: 	Christopher Gilliard Pour?: 	Aymeric Vitte Copie ??: 	Bitcoin Protocol Discussion
Trying the four possible options (p2pkh compressed, p2pkh uncompressed,
seg3, and bech32) is certainly a possibility and in fact, that's what I
ended up doing because not every wallet implements something like this,
but if there is a header field currently in use, it seemed reasonable to
me to use it specify which type of key is being used. If the header
includes whether the key is compressed or not compressed it seems
logical to include all data about what type of key it is and not just
this one type of information. That's why I thought the solution made
sense and I wrote it up.
    Ah, OK, that's of course a good thing to document this undocumented
    (and strange) stuff, as a matter of fact I implemented it after
    reading your post (because this was on my todo list since some time)
    and got annoyed quickly, mainly by what is doing
    formatMessageForSigning (which is quite trivial when you know it but
    would be good to document precisely)
    So, yes, it's a good idea to write this, regarding the header I
    still don't see the use, testing the different possibilities is not
    a big deal, why the signature format is not the same as transactions
    one is mysterious too
    Le 19/02/2019 ? 00:24, Christopher Gilliard a ?crit?:
    --     Move your coins by yourself (browser version):     Bitcoin transactions made simple:     Zcash wallets made simple:     Bitcoin wallets made simple:     Get the torrent dynamic blocklist:     Check the 10 M passwords list:     Anti-spies and private torrents, dynamic blocklist:     Peersm :     torrent-live:     node-Tor :     GitHub :

@_date: 2019-03-07 21:52:33
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Removal of reject network messages from Bitcoin 
Bitcoin-transactions did use this "feature", but does not rely on it any
longer since I observed some strange behavior sometimes (no reject
message for bad tx, with suprnova for example as far as I remember),
then it doublechecks using getdata to see if the tx is in mempool
Indeed you can't trust what a node tells you with or without reject
(idem for getdata but more difficult to fake and better than nothing)
Then I don't see any problem to remove it, taking into account also that
the error message is too vague to be really helpful
Le 06/03/2019 ? 01:53, Marco Falke via bitcoin-dev a ?crit?:

@_date: 2019-03-14 10:46:28
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Removal of reject network messages from Bitcoin 
Apparently I don't have the same experience than others here, what I
encountered is no reject message received for wrong txs, but from what I
understand here it's not unusual to receive reject message for valid
txs, then I don't see how it can be really helpful/relied, given also
that the reject messages are unclear and even can be misleading
As it was written already I found it useful only for debugging purposes,
at least it can give some kind of ideas about what happened,
bitcoin-transactions is implementing the bitcoin protocol but does not
act as a node and does not pretend to fake a node behavior waiting for
example to get the tx back, is the method of sending a getdata for a
given tx to see if it was accepted by a node wrong ? It can't guarantee
100% that it was successful and will propagate but I see that you are
doing completely different things
Le 13/03/2019 ? 23:30, Dustin Dettmer via bitcoin-dev a ?crit?:

@_date: 2019-05-02 12:01:54
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] IsStandard 
Thanks for the answer, indeed for the redeem script and someone
attempting a 0/1 of 3, good example
So to summarize everything is standard as long as it matches P2PKH,
P2SH, P2WPKH or P2WSH , the redeem scripts for the sha bounties are in
Still the case of bch is unclear (it's related since based on bitcoin
code unless they changed the policy), was the story that nodes would not
propagate the fix or that people did not want to take the risk to
propagate it? And why a non segwit old bitcoin node would not accept it
Le 02/05/2019 ? 02:10, ZmnSCPxj a ?crit?:

@_date: 2019-05-03 11:51:25
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] IsStandard 
Great doc, thanks, then my previous summarized conclusion was wrong,
trying on my side to write a "demistifying (simply) once for all bitcoin
scripting", not sure that "simply" can stay in the title at the end...
So my multisig modification is non standard, now I am still puzzled by
something, mainly the fact that we have op_pushdata inside op_pushdata,
maybe I am misreading the specs, but in case of p2sh only the last
op_pushdata (called {serialized script} (or redeem script) is executed,
then if succesfull it comes back onto the stack and scriptpubkey is executed
So, let's take again the BCH recovery example, scriptSig was OP_PUSHDATA
0014, and scriptPubKey OP_HASH160  OP_EQUAL, then scriptSig executes pushing
nothing and  into the stack, then scriptSig is pushed
again and executed with scriptPubKey, at the end we get nothing +
 + 1 in the stack, then cleanstack (maybe among
others, I have to read in more details your doc) says it is a correct
transaction but non standard, is this correct?
Le 03/05/2019 ? 01:33, James Prestwich a ?crit?:

@_date: 2019-05-26 01:56:48
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Two questions about segwit implementation 
I realized recently that my segwit implementation was not correct,
basically some time ago, wrongly reading the specs (and misleaded by
what follows), I thought that scriptsig would go into witness data as it
was, but that's not the case, op_pushdata is replaced by varlen
Now reading correctly the specs, they seem to be not totally correct,
then the first question is: why OP_0 is 00 in witness data and not 0100?
Does this apply to other op_codes? This does not look logical at all
The second question is: why for non segwit inputs there is a 00 length
in segwit data, what is the rational for that? It should just be nothing
since you don't need this to reconciliate things

@_date: 2019-05-26 18:18:46
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Two questions about segwit implementation 
OK, thanks, understood for OP_0 but still for the 00 number of witness
data for non segwit inputs the one that is doing the transaction knows
which inputs are segwit or not, then parsing the transaction you can
associate the correct input to the correct witness data, without the
need of 00, so I must be missing the use case
Le 26/05/2019 ? 16:33, Johnson Lau a ?crit?:

@_date: 2019-05-26 19:09:31
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Two questions about segwit implementation 
I did not phrase correctly in fact, what I meant is: if the validator
sees empty or witness script in scriptSig, then this is a segwit input,
and doing this one by one the validator can associate the correct segwit
data to the correct segwit input, so 00 does not look to be needed
Le 26/05/2019 ? 18:28, Johnson Lau a ?crit?:

@_date: 2019-05-26 23:17:30
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Two questions about segwit implementation 
Well, OK, then back to non standard stuff and bitcoin considers that an
OP_1 or empty scriptpubkey is something that can exist, sipa does not
like my questions on this list but this is a bit frightening in fact to
see that after 10 years an OP_1 scriptpubkey or empty one can be a use
case, thanks Thomas also, where all of this is clearly documented so
people don't bother the list not to produce approximative stuff remains
Le 26/05/2019 ? 19:24, Johnson Lau a ?crit?:

@_date: 2019-11-08 20:40:17
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] CVE-2017-18350 disclosure 
Sure, but what is questionable here is the use of SOCKS proxy, for Tor I
think as the main purpose, making it dangerous for the "whole bitcoin
world" while it's something like of zero interest/use (or please let me
know what it is beside Tor)
The Tor network is very centralized and not designed at all to handle
p2p networks (which bitcoin is still not), it is designed to be used via
the Tor Browser to browse the web and to hide web servers, not bitcoin
nodes, and there are a lot of misbehaving/dangerous nodes there, there
is no encryption in bitcoin protocol, an exit node can fake whatever it
likes, this seems to be a use case as far as I can see, but even if the
initiator is configured to connect to a hidden bitcoin node, I don't see
the point
I have advertised recentlty the open sourcing of node-Tor
( here
This one is designed for p2p, not over the Tor network but using the Tor
protocol, as simple as bitcoin.pipe(node-Tor), or .pipe(node-Tor), which is the finality of the project as far as
I see it since years (maybe see even if I would modify some parts now)
Inside servers or browsers acting as servers also (WebRTC or
WebSockets), bitcoin peers (servers/browsers) relaying the bitcoin
anonymized protocol using the Tor protocol (and not the Tor network)
between each others, there is no story of exit nodes here and rdv points
would not apply for bitcoin use, this "just" adds the internal missing
encryption and anonymity layer to the bitcoin protocol
Personally I would remove the socks proxy interface from bitcoin core,
independently of Tor this can be misused too and offers absolutely zero
Le 08/11/2019 ? 18:03, LORD HIS EXCELLENCY JAMES HRMH via bitcoin-dev a

@_date: 2019-11-09 20:33:25
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] CVE-2017-18350 disclosure 
Well, you obviously don't know what you are talking about and did not
even consider reading correctly what I wrote, neither to read node-Tor
What you are saying here is quite trivial, typical of people thinking
that the Tor network will solve everything and is not centralized (but
you seem unsure about it), that's not the case, it's completely wrong
and the "normal" use of the Tor network is for browsing only, basically
the Tor network is still the same since years: 1000 guards, 1000 relays,
1000 exits (so not "hundreds", happier, and there are of course
intersections between them, knowing that they are the supposed working
nodes as tested by node-Tor), quite small at the end with finally many
misbehaving nodes among the 3000 set, not at all able or willing to
handle bitcoin nodes load
Using bitcoin with the Tor network is absurd, using socks proxy with
bitcoin is absurd too (I don't get the comparison with a http proxy,
nothing to do),? except if limited to a local use, ie you socks proxy
inside your device, for example to pipe to node-Tor, but this remains as
a whole dangerous if the local proxy has been hacked, as we could see
recently with malware Tor sw being used by people
Using the Tor protocol for bitcoin is not absurd at all (do you
understand the difference?) + browsers, webRTC, etc I will not repeat
what I wrote
Please do some readings or consider at least what I sent, or ask
questions if what I am saying is unclear for you
But from my standpoint the discussion on this list is not about
explaining all of this that is probably well known by everybody but what
can/could be next to anonymize/help anonymizing bitcoin
?when required and make it a real p2p network
Unfortunately I am afraid that we get moderated here because that's not
the place to give basic lessons about Tor that you don't know
Le 09/11/2019 ? 12:42, LORD HIS EXCELLENCY JAMES HRMH a ?crit?:

@_date: 2019-11-10 01:23:03
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] CVE-2017-18350 disclosure 
Do not find excuses (and vague statements or technical bulls) and learn,
you don't know what you are talking about and don't get the global
picture, we don't care about the Tor network and they don't care about
others neither do they care that they increase their network, so indeed
let's stop this discussion
Just replying here (for the last time) because expecting more clever
thoughts about what I wrote, maybe one day... but for sure something
like this will happen in the future
Le 09/11/2019 ? 21:21, LORD HIS EXCELLENCY JAMES HRMH a ?crit?:

@_date: 2019-11-18 12:59:03
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] v3 onion services 
As I briefly sketched here before I think that a better long term
solution would be to link the bitcoin traffic with something like
node-Tor (
Much more light (the whole code not minified is only ~1MB), not using
tons of libraries prone to security/maintenance issues, easy to
use/configure/maintain and you don't need the (heavy/complicate) onions
RDV concepts and addresses, which in addition is useless for bitcoin
As simple as a duplex stream *bitcoin.pipe(node-Tor)* inside servers or
browsers (difficult to imagine full nodes and the blocks inside browsers
but why not one day, so for light clients probably implementing part of
the bitcoin protocol like  for now it's a
standalone offline webapp but of course it would be interesting to
connect it in a secure way to bitcoin nodes to retrieve info from the
utxo set and send txs for example since it's not obvious for users to
create their txs in its current form)
This would be a separate network using the Tor protocol over TCP,
WebSockets and WebRTC, making it possible also for browsers to relay the
traffic, probably the nodes discovery (to get the keys) could be linked
to the bitcoin peer discovery system (we just have to add the onion key
to the peer profile, and maybe long term id key), anyway that's simple
to setup, and probably for a p2p network 2 hops will be enough
I really don't think that the Tor network is designed and adapted to
support bitcoin nodes, using it for something else than browsing is just
a workaround and I would be surprised that the Tor project team
contradicts this and/or encourage this use
Le 18/11/2019 ? 00:42, Matt Corallo via bitcoin-dev a ?crit?:

@_date: 2019-11-18 23:19:23
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] v3 onion services 
So I must ask the question: what is the rational for a bitcoin node to
be hidden? ie to use RDV points like hidden services?
For me the rational for bitcoin is to anonymize communications between
nodes and/or clients, typically who sent this tx, not to hide that you
are operating a bitcoin node, then back to what I sent earlier
I tried to find the explaination in the bitcoin docs before sending this
post but did not find any, except referring to the fact that bitcoin
communications should be anonymized, which does not need RDV points
Another question is why to mimic the Tor network for RDV points with
.onion addresses?
The answers might be "this is what exists and we have no other way to do
it", I am proposing another way
I will not repeat what I wrote before, but I am operating node-Tor nodes
inside the Tor network since ~10 years, the js implementation of the Tor
protocol had not been easy (as well as putting everything inside
browsers) but I consider that the most difficult had been to handle all
unexpected events that happen inside the Tor network, even after
selecting carefully the nodes and testing them, this is a mess, nodes
are coming in, going out, responding, not responding, responding
correcltly or all of a sudden responding shxtty stuff, I was even
considering to get the entropy for the js prng from all of those
unexpected events
I don't think that any other people except the Tor project team know
this, a good example is  see the logs (destroy
and destroy and destroy) and how long it takes to establish 6 circuits
knowing that our server is the first one in the path (eliminating one
dubious node among 3)
I am not "promoting" this, everything is open source now and it is made
to be used, and I think that my proposal has some interest, using the
Tor network for bitcoin is a very bad idea, for security and
performances reasons
Le 18/11/2019 ? 17:44, Carl Dong via bitcoin-dev a ?crit?:

@_date: 2019-10-28 11:33:32
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Fwd: node-Tor is now open source in clear (and 
FYI, javascript implementation of the Tor protocol on server side and
inside browsers
Not related directly to bitcoin-dev but might be of some use one day to
anonymize bitcoin apps (light wallets for example)
-------- Message transf?r? --------
Sujet?: 	node-Tor is now open source in clear (and modular)
Date?: 	Thu, 24 Oct 2019 18:02:42 +0200
De?: 	Aymeric Vitte Pour?: 	tor-talk at lists.torproject.org
Please see  and This is a javascript implementation of the Tor protocol on server side
(nodejs) and inside browsers, please note that it is not intended to add
nodes into the Tor network, neither to implement the Tor Browser
features, it is intended to build projects using the Tor protocol from
the browser and/or servers (most likely P2P projects), the Onion Proxy
and Onion Router functions are available directly inside the browser
which establishes circuits with other nodes understanding the Tor
protocol (so it's not a "dumb" proxy), but it can of course establish
circuits with the Tor network nodes (see
 and act as
a Tor node
It is financed by NLnet via EU Horizon 2020 Next Generation Internet
Privacy & Trust Enhancing Technologies, now open source under a MIT
license and we made it modular, it is fast (extensively tested when
video streaming was there, especially with bittorrent or ORDB concept)
and the total unminified code
( is only 1
MB (so ~600 kB minified) which is quite small for what it does, this is
not a browser extension/module but pure js
Possible next steps are to implement elliptic crypto and connections via
WebRTC Snowflake (peersm2 above uses WebSockets a bit the way flashproxy
was working, ie implementing the ws interface on bridges side), as well
as integrating it with "Discover and move your coins by yourself"
( for anonymous blockchain search and
anonymous sending of transactions from the browser

@_date: 2019-09-02 09:38:50
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Browser version - Discover and move your coins by 
The browser version is now released, please see Comments/suggestions still welcome
Le 07/08/2019 ? 12:54, Aymeric Vitte a ?crit?:

@_date: 2020-02-25 16:36:32
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] node-Tor - phases 4 and 5 
Please see the current status here:
Quick reminder: this is a javascript implementation of the Tor protocol
inside nodes and browsers
Phase 4 (evented pipes) has been developped (self funded) but is not
fully tested/released, however the doc is here:
 it allows
to simply anonymize any protocol piping it to the Tor protocol
We were about to implement phase 5 (elliptic crypto, Tor v3 features and
WebRTC) but are running out of funding, while we have self funded the
vast majority of this project since 2012 we can't continue (thanks to
NLnet for supporting phases 1 to 3) and are looking for funding to
complete this work (cf above link)
The timing is supposed to be now because restarting such a project in
months or years is not trivial and despite of the huge efforts for the
refactoring/update/cleaning of the initial code and split into modules
it's probably still difficult to use/integrate/modify (see
 it will become quite easy
if the project goes to its targeted phase
The code is subtle and minimal, it represents only 1MB browserified not
minified, so 500kB minified, which is quite small for what it does with
zero external dependencies, redevelopping everything from scratch would
be long and difficult
Some examples of what node-Tor does (as nodes or inside browsers using
bitcoin | node-Tor | bitcoin (via stdin/stdout or using IPC)
Of course the Tor protocol itself might not be enough and each project
might have to design the full anonymization system (peer discovery,
introduction, etc) but they can rely on node-Tor to implement the Tor
protocol (not to be misunderstood again with the Tor network)
It does implement direct p2p via the Tor protocol or via RendezVous
(RDV) points using also Tor protocol hops to connect to them, the peers
advertise what they have or do using a hash to the RDV points they are
connected to, please see
Example: by convention a bitcoin node could advertise a hash of "Satoshi
Nakamoto" to tell it is a bitcoin node, then bitcoin nodes will connect
to each others via RDV points or several Tor protocol hops requesting
this hash, they can also connect directly via several hops for well
known bitcoin nodes that don't need to hide themselves but want to hide
to whom they are connected to, which can be wallets too, for example to
hide who originated a transaction
Since peers are implementing both direct p2p and RDV functions (both via
Tor protocol hops), and can extend to other peers as peers or RDV points
again, it becomes difficult to understand who is doing what and how many
hops finally are used between the peers (suggested setting for p2p is 2
hops instead of 3 for a Tor protocol circuit, knowing that the number of
hops can extend via RDV points)
This is the current design and can of course be adapted
It would look logical that this techno is integrated natively one day
inside browsers, again it must not be misunderstood with what the Tor
Browser is doing (with many specific features inside the browser itself)
and is not a replacement for it, this is different but could be used
also by the Tor network with browsers acting as real Tor nodes (a bit ?
la Snowflake but not only relaying messages via WebRTC, implementing the
Tor protocol inside browsers), or uproxy-like for those that remember it

@_date: 2020-06-05 12:10:20
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Time-dilation Attacks on the Lightning Network 
Le 04/06/2020 ? 04:58, ZmnSCPxj via bitcoin-dev a ?crit?:
The issue each time there are discussions/research linking to Tor is
that it is biased since the beginning because based on a wrong
postulate: using the Tor network
I will not elaborate on this again, it's an obvious very bad idea to use
the Tor network for bitcoin
It's not a bad idea to use the Tor protocol with no story of exit nodes
and hidden services, linking again to:
And new link:  "A universal
and generic architecture to anonymize any application or protocol and
turn it into an independent decentralized p2p network inside browsers
and servers, with browsers acting as servers"
LN and bitcoin nodes would be relays and/or RDV points and/or clients
and serving parties, some Tor network nodes could be used in the middle
also (relays only) but in any case sybils/eclipse attacks become much
more difficult to perform (or unlikely depending on how the peer
discovery system is designed)
bitcoin | node-Tor |bitcoin and LN.pipe(node-Tor)
Then question for possible future tests: is there a simple way to pipe
the bitcoin protocol via stdin/stdout? (the socks interface could be
used but we already saw that it did raise issues)

@_date: 2020-06-05 17:41:48
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Time-dilation Attacks on the Lightning Network 
As far as I understand your answer is "let's try to use what exists",
this is not what I am proposing and not the Tor network, no "standard"
exit nodes, different hidden services, decentralized anonymizer network
unlike the Tor network, nodes are anonymizing themselves
Comments below, please let me know what is unclear in the description of
the project so I can modify it because all the time I get the impression
that it is mixed with the Tor network while it just has a very little to
do with it, and I don't get that the simple principle of communicating
between nodes using the Tor protocol without RDV points is never considered
Le 05/06/2020 ? 13:44, ZmnSCPxj a ?crit?:
Then for an important job people should use the right tool...
And centralized structure, limited set of nodes to make it short, for
some (or a lot) misbehaving, not designed for bitcoin, nothing prevents
bitcoin from operating its own anonymizer system, which I am proposing
Good to a certain extent... if you want to hide that you are operating a
bitcoin node you can use RDV points (ie hidden services) but if you
don't care you just connect anonymized circuits between bitcoin nodes,
this is more "direct" and does not exist in the Tor network, this
includes light clients that can act as relays also
There are plenty of Tor-to-Tor issues, not theoretical but in the real
world, "Tor-to-clearnet" can be done outside of the Tor network, ie the
bitcoin network
Probably, again I am not proposing a remake of the Tor network, I don't
see the use for a miner to hide (neither for a bitcoin node to use RDV
points), but they can be part of the global anonymized system, please
see below
Yes but one full node should be able to do this alone, ie implement both
interfaces, like miners and everybody in fact (or Peersm bridges with
bittorrent if you look at the history of the project)
Please see the convergence link, it's not based on the assumption that
"the more you are the better you can hide and the lesser you can get
attacked", this does not work at all, it's based on the assumption that
even with a reduced set of peers it becomes very difficult to know who
is doing what and whom is talking to whom, the concept of
exiting/bridging to clearnet(s) is not clearly detailed in this version
but appears on the drawings

@_date: 2020-06-08 18:43:27
@_author: Aymeric Vitte 
@_subject: [bitcoin-dev] Time-dilation Attacks on the Lightning Network 
Le 08/06/2020 ? 06:56, ZmnSCPxj via bitcoin-dev a ?crit?:
Or makes it easier in fact, correcting what I said in my previous
answer, stating a "yes" for a mixed bitcoin and/or LN node in clearnet
and Tor, with or without different IPs, it's probably not difficult for
the Tor attacker to identify you (for example pinging the nodes with a
new received tx to see who has it in mempool)
Similar to "Deanonymizing the VPN peers"
 this is not public but the method
uses the clearnet/VPN "mixity" and unexpectedly the more you try to hide
the better you can get deanonymized
The conclusion is always the same: do not use the Tor network for
services it is not designed for
