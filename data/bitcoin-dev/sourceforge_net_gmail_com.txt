
@_date: 2012-04-30 17:40:18
@_author: Rebroad (sourceforge 
@_subject: [Bitcoin-development] BIP to improve the availability of blocks 
Dear Bitcoin developers,
In brief, the proposal I have is to extend the protocol to allow
partial block download and upload. This is for people with
intermittent connectivity or restricted connectivity. e.g. my own
internet connection is quite slow, and my ISP routinely sends RSTs to
both sides of connections to severe them. This often happens during
block download and upload. I also often encounter the reception of
blocks I have already received, further wasting bandwidth. This
happens as quite often it can be far more than 2 minutes before block
reception occurs following the getdata request, by which time my node
has already sent a new getdata to another node requesting the same
My proposal is that in addition to the size (which is advertised in
the header), the hash is also advertised in the header (of a block).
This would help nodes to determine whether they wanted to reject the
download. (e.g. if it already had a block matching that hash). This of
course wouldn't prevent a rogue node from sending an incorrect hash,
but this would aid in saving bandwidth amongst behaving nodes.
The other part of the proposal is to allow nodes to request upload and
download blocks that have already been partially downloaded.
This could be done by modifying the existing methods of upload,
download, or by adding a new method, perhaps even using HTTP/HTTPS or
something similar. This would also help nodes to obtain the blockchain
who have restrictive ISPs, especially if they are being served on port
80 or 443. This could perhaps also allow web caches to keep caches of
the blockchain, thereby making it also more available also.
Currently, without this?functionality, nodes with restrictive (or
slow) internet have some options, such as going via a tor proxy, but
due to the latency, the problem with multiple receptions of the same
block still occur.
Hopefully, not too clueless a post for my first post to this mailing list.

@_date: 2012-05-05 09:31:39
@_author: Rebroad (sourceforge 
@_subject: [Bitcoin-development] Potential network split when individual tx 
Looking at:
It appears that 8 months ago the code was changed to DoS(100) nodes sending
on txs that use individual txs as the coinbase. Does this mean txs that are
0 confirmed?
If so, then, is this a risk of a network split, as I'm sure I've read about
services popping up using bitcoin that are specifically allowing 0
confirmed transactions, and therefore there must be peers around that
accept these.
Or have I misread the code?
PS. Would a BIP have been applicable for the above-mentioned change?

@_date: 2012-05-05 09:37:05
@_author: Rebroad (sourceforge 
@_subject: [Bitcoin-development] free tx rate limiter potentially causes more 
I recently was dabbling with AskFor() and changing the time waited from 2
minutes to 10 seconds (I think perhaps this value may change in future
versions when "network tuning" is implemented).
I noticed that, when used with the -limitfreerelay option that is causes
significant increase in traffic between peers. This is because the tx gets
asked for (from all connected peers usually), but AlwaysHave never becomes
true as it's never stored, always rejected, so it effectively getdatas the
transaction from every single connected peer.
Would it perhaps be better to set up a memory pool for rejected txs and
blocks (perhaps keeping only the hash) so that these rejected items can
continue being ignored?
I hope these observations are ok - I consider myself at the "trying to
understand the code/protocol/algorithm" stage so might sometimes make false
assumptions of what the code intends to do.

@_date: 2012-05-08 15:02:58
@_author: Rebroad (sourceforge 
@_subject: [Bitcoin-development] block difficulty - inherently stable or 
I was just thinking about the way block difficulty is calculated, and how
people may (in future) decide whether to mine or not.
Is it possible that when the difficulty is low, many will decide to mine,
producing blocks every 3 or 5 minutes, and then in 1 week, bitcoin will
increase the difficulty, and many will decide it is no longer cost
effective, stop mining, and find blocks are being produced every 30 minutes
for the next 6 weeks, before the returning to a previous difficulty where
people decide to mine again, etc, etc.
Seems reasonably possible in my mind, and I'm wondering if the stability so
far has been purely due to people mining without thinking too much about
the immediate cost-effectiveness (or mining by zombie-farms).
Thoughts, anyone?

@_date: 2012-05-29 17:30:52
@_author: Rebroad (sourceforge 
@_subject: [Bitcoin-development] Punishing empty blocks? 
I'd like to garner consensus on whether anyone else thinks it desirable to
have a flag option for bitcoin to punish blocks for not including
transactions. I notice there are already pro-miner options, such as the
restricting the relaying of free transactions, and so including an option
to restrict relaying of blocks from "stingy" miners to balance against the
current bias, so that the default bitcoin client can be run as much
pro-miner as pro-non-miner.

@_date: 2013-04-30 23:14:56
@_author: Rebroad (sourceforge 
@_subject: [Bitcoin-development] Fwd:  Service bits for pruned nodes 
As part of a roadmap for block downloading, I think this may be a good time
to look into providing an HTTP/HTTPS protocol for block downloading - this
would also allow web proxies to cache blocks and thus make it more
accessible, as well as cater for resumeable downloads.

@_date: 2014-10-02 12:39:47
@_author: Rebroad (sourceforge 
@_subject: [Bitcoin-development] Decreasing block propagation time 
The idea proposed in the above article seemed like an excellent idea. What
is holding this up from being implemented? Does someone need to code it, or
write a BIP first?

@_date: 2014-10-16 13:05:58
@_author: Rebroad (sourceforge 
@_subject: [Bitcoin-development] Request for review/testing: headers-first 
Hi all,
I've also been spending a few months coding upon the change's Pieter has
been making with the headersfirst8 pull request.
My code updates are also ready to test, and are available on github at
  and the branch is
I've made a number of improvement. Namely that it tracks the block as it
downloads and won't disconnect if the block is downloading at a reasonable
speed. The current stall logic of Pieter's is broken in that it will
continue to disconnect a peer that is providing a block - particularly the
next block needed to advance the current tip. I've raised this issue, but
so far haven't been able to communicate the problem in a way that's been
I've also added logic to avoid the node stalling due to many blocks being
added to the ActiveTip (which would cause timeouts both from our node, and
nodes we are connected to). It will also log and determine bandwidth per
node, and the next changes I will be adding will be to make it prefer to
download from the faster nodes (coming shortly).
I have also added code ready to adapt the window size for the download.
Currently the start setting for blocks in flight is 3 per node, but for
early on on the block chain this will be too small, so once it realises
this after a few downloads and determines the average block size and speed,
it will automatically adjust the number of blocks to request per node and
revise this each minute.
Please do take a look at my code, and feel free to test it. It also
improves some of the debug.log output to make it easier to read and provide
useful information about concurrent downloads, etc.
On Sun, Oct 12, 2014 at 7:34 AM, Pieter Wuille

@_date: 2015-06-15 14:16:16
@_author: Rebroad (sourceforge 
@_subject: [Bitcoin-development] comments on BIP 100 
My understanding of this debate is that there are some people who want to
keep Bitcoin at 1MB block limit, and there are some who want to increase it.
I for one am curious to see how 1MB limited bitcoin evolves, and I believe
we can all have a chance to see this AND hard-fork bitcoin to remove the
block size restriction.
To remove the 1MB limit required a hard fork. This is not disputed. It's
what we do with the original (1MB limit) bitcoin that concerns me (and
other's I am sure).
What I would like to see is both being allowed to live. Harry Potter and
Voldermort! (Except neither are evil!)
The solution is to hard-fork and merge-mine. This way, both can live, and
mining power is not divided.
Dogecoin recently hardforked and this hardfork also involved switching to
merge-mining, so it's been done successfully.
So, simply, bitcoin as it is doesn't need to actually fork, but instead, at
a certain block size, a forked bitcoin with the blocksize lmit removed will
start to be merge-mined alongside bitcoin. Miners can be ready for this.
Wallets can be ready for this - in fact, for most wallets and merchants
they will possibly want to default to the bigger blocksize fork since this
caters for more transactions per block.
We still don't know how removing the block limit will pan out and what
other problems with scalability will arise in the future, so by preserving
the original bitcoin, we keep diversity, and people won't feel their
investments in bitcoin are being unnecessarily put at risk (as their
investments will stay in both the new and the old bitcoin).
The bitcoin core developers can implement a patch like the one recently
used for dogecoin, to allow the chain to fork at a set point, where at
which point, bitcoins will be split into the new and the old. Branding will
be an important issue here I think, so that there is as little confusion as
possible. I think this is a small price to pay in return for not killing
the original bitcoin (even if it's true that Satoshi did intend to remove
the 1MB limit at some point).
If I'm missing something obvious please let me know.
