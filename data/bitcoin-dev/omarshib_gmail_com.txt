
@_date: 2017-08-14 09:05:35
@_author: omar shibli 
@_subject: [bitcoin-dev] BIP proposal, Pay to Contract BIP43 Application 
Hey all,
A lot of us familiar with the pay to contract protocol, and how it uses
cleverly the homomorphic property of elliptic curve encryption system to
achieve it.
Unfortunately, there is no standard specification on how to conduct such
transactions in the cyberspace.
We have developed a basic trade finance application that relies on the
original idea described in the Homomorphic Payment Addresses and the
Pay-to-Contract Protocol paper, yet we have generalized it and made it
BIP43 complaint.
We would like to share our method, and get your feedback about it,
hopefully this effort will result into a standard for the benefit of the
Abstract idea:
We define the following levels in BIP32 path.
m / purpose' / coin_type' / contract_id' / *
contract_id is is an arbitrary number within the valid range of indices.
Then we define, contract base as following prefix:
m / purpose' / coin_type' / contract_id'
contract commitment address is computed as follows:
hash document using cryptographic hash function of your choice (e.g. blake2)
map hash to partial derivation path
Convert hash to binary array.
Partition the array into parts, each part length should be 16.
Convert each part to integer in decimal format.
Convert each integer to string.
Join all strings with slash `/`.
compute child public key by chaining the derivation path from step 2 with
contract base:
compute address
master private extended key:
coin type: 0
contract id: 7777777
contract base computation :
derivation path:
contract base public extended key:
Contract content:
Contract sha256 signature:
Contract partial derivation path:
Contract commitment pub key path:
Contract commitment pub key:
Contract commitment address:
You can find the full BIP draft in the following link:

@_date: 2017-08-15 19:40:36
@_author: omar shibli 
@_subject: [bitcoin-dev] BIP proposal, Pay to Contract BIP43 Application 
Thank you for your time Gregory, I really appreciate that.
What we are describing here is a method to embed cryptographic signatures
into a public key based on HD Wallets - BIP32.
In a practical application, we should have two cryptographic signatures
from both sides, I don't think in that case your scenario would be an issue.
More specifically in our application, we do the following construction:
contract base: m/200'/0'/'
payment base (merchant commitment):
payment address (customer commitment):
payment address funds could be reclaimed only if the
customer_contract_signature is provided by the customer.
In terms of durability, our app is pretty simple at this point, we don't
store anything, we let customer download and manage the files.
I will update the BIP to address your concerns.

@_date: 2017-09-01 10:16:41
@_author: Omar Shibli 
@_subject: [bitcoin-dev] BIP proposal, Pay to Contract BIP43 Application 
Hello Gregory,
Thanks for you feedback.
The BIP has been updated to explicitly specify the multiparty key
derivation scheme which hopefully addresses your concerns.
Please have a look at the updated draft of the BIP at the link below:
Any feedback is highly appreciated.

@_date: 2017-09-26 16:12:48
@_author: Omar Shibli 
@_subject: [bitcoin-dev] Bitcoin Assistance 
According to my understanding, Bitcoin protocol is a combination of several
components (node, miner, wallet..), you can use different licenses for
different components, as long as the components are well structured and
inter APIs are well defined and encapsulated, therefore, incompatible
licenses could be not an issue.
Please note that I'm not legal advisor and this is just my personal opinion.
On Tue, Sep 26, 2017 at 12:53 AM, Radcliffe, Mark via bitcoin-dev <

@_date: 2017-09-29 07:21:09
@_author: Omar Shibli 
@_subject: [bitcoin-dev] Why the BIP-72 Payment Protocol URI Standard is 
Thank you for sharing, this is indefinitely valuable.
I think that risk could be mitigated if instead of ignoring the bitcoin
address/amount/..., the wallet use this address for integrity checks.
Furthermore, I think this BIP could be improved by actually applying the
homomorphic property and deriving the bitcoin address from merchant pub key
and the hash itself. that would allow both the customer and merchant to be
able generate address independently.
On Fri, Sep 29, 2017 at 5:55 AM, Peter Todd via bitcoin-dev <

@_date: 2019-04-01 05:54:16
@_author: Omar Shibli 
@_subject: [bitcoin-dev] Softfork proposal for minimum price of $50k 
Reasonable, I think also first timer should be forbidden form transacting
for at least 3 years from the first purchase, after going in '3 years' into
the rabbit hole, you can consider selling bitcoins. that's fair for low
time hard money folks, imho.
On Mon, Apr 1, 2019 at 3:33 AM Luke Dashjr via bitcoin-dev <

@_date: 2019-04-01 05:55:41
@_author: Omar Shibli 
@_subject: [bitcoin-dev] Softfork proposal for minimum price of $50k 
Shit, so we are vulnerable today? is this zero day vulnerability? so we
could be f***** big?
On Mon, Apr 1, 2019 at 5:47 AM Peter Todd via bitcoin-dev <

@_date: 2019-04-09 03:13:21
@_author: Omar Shibli 
@_subject: [bitcoin-dev] new BIP: Self balancing between excessively 
Mining strategy is like HFT profitable strategy, you keep it close if it?s
interesting, and you talk about it with the whole world if it?s void. gl.
On Sun, Apr 7, 2019 at 6:45 PM simondev1 via bitcoin-dev <

@_date: 2019-04-14 16:16:53
@_author: Omar Shibli 
@_subject: [bitcoin-dev] assumeutxo and UTXO snapshots 
This sounds really promising to me, I think it could seriously improve the
current SPV trust model.
In abstract these are the possible setups today:
Full node: All history, 100% monetary sovereignty.
SPV: fancy term to Electrum trust model, random selection of nodes, with
full delegation of monetary responsibility.
I think in that spirit a hybrid approach of full node + spv.
As follows:
Hardware spv with only genesis hash block seeded, as a safe bootstrap, from
there only headers is needed for validation, and ongoing new fresh blocks
and associated historic blocks for conducting transactions.
On Wed, Apr 3, 2019 at 2:43 AM James O'Beirne via bitcoin-dev <

@_date: 2019-03-12 07:53:45
@_author: Omar Shibli 
@_subject: [bitcoin-dev] BIP proposal, Pay to Contract BIP43 Application 
Dear Gregory,
First of all, I would like to express my deep appreciation to your entire
craft in the FOSS ecosystem, specially in Bitcoin, even more In Blockstream.
I think you are a brilliant engineer and very principled leader. your
efforts are an inspiration for many, a truly enduring forever mark in
history of FOSS.
I've submitted fixes to your concerns here:
Would appreciate your review.
On other note, I still think that this security fix is redundant, I believe
CKD function (BIP32) does encapsulate sufficient amount of entropy, but due
to lack of formal knowledge and assistance, I've not managed to get formal
proof, so I fallback'ed to add this patch for security reasons.
Best regards,

@_date: 2019-03-20 08:03:24
@_author: Omar Shibli 
@_subject: [bitcoin-dev] Notice: List Infrastructure Migration 
Also, quick question, is groups.io has same structure as Linux Foundation?
foundation/transparency/openness... I think in general it would be great if
this migration will be communicated much more in advance with relaxed
timelines, just by examining priori cases, it's all suggestions. hope next
phase will be more inclusive and open.
On Wed, Mar 20, 2019 at 2:45 AM Peter Todd via bitcoin-dev <

@_date: 2020-12-23 13:44:52
@_author: Omar Shibli 
@_subject: [bitcoin-dev] BIP Proposal: Wallet Interface 
That's a great idea, in traditional banking there are wide initiatives to
standardize components between different actors, most widely used is Open
Banking , i think regardless of the usage, it could be hardware or
software, there is a big value in standrizating communications between
different components.
Here is more info about Open Banking:
On Wed, Dec 23, 2020 at 10:42 AM monokh via bitcoin-dev <
