
@_date: 2014-03-27 13:12:07
@_author: Thomas Kerin 
@_subject: [Bitcoin-development] New BIP32 structure 
Isn't the length of the seed arbitrary anyway? Once decoded using whatever
mnemonic implementation (electrums, or BIP0039) the bytestream is
immediately passed to HMAC-SHA256 to generate the master key. No matter
what your initial entropy is, it would be hashed anyway.

@_date: 2015-08-18 02:22:10
@_author: Thomas Kerin 
@_subject: [bitcoin-dev] BIP: Using Median time-past as endpoint for locktime 
Hash: SHA512
Hi all,
In collaboration with Mark Friedenbach, we have drawn up a proposal for
the median time of the past 11 blocks in locktime calculations.
  BIP: XX
  Title: Median time-past as endpoint for lock-time calculations
  Author: Thomas Kerin           Mark Friedenbach       Status: Draft
  Type: Standards Track
  Created: 2015-08-10
This BIP is a proposal to redefine the semantics used in determining a
time-locked transaction's eligibility for inclusion in a block. The
median of the last 11 blocks is used instead of the block's timestamp,
ensuring that it increases monotonically with each block.
At present, transactions are excluded from inclusion in a block if the
present time or block height is less than or equal to that specified
in the locktime. Since the consensus rules do not mandate strict
ordering of block timestamps, this has the unfortunate outcome of
creating a perverse incentive for miners to lie about the time of
their blocks in order to collect more fees by including transactions
that by wall clock determination have not yet matured.
This BIP proposes comparing the locktime against the median of the
past 11 block's timestamps, rather than the timestamp of the block
including the transaction. Existing consensus rules guarantee this
value to monotonically advance, thereby removing the capability for
miners to claim more transaction fees by lying about the timestamps of
their block.
This proposal seeks to ensure reliable behaviour in locktime calculations as
required by BIP65, BIP68, and BIPXX (OP_CHECKSEQUENCEVERIFY).
The values for transaction locktime remain unchanged. The difference is
only in
the calculation determining whether a transaction can be included.
Instead of
an unreliable timestamp, the following function is used to determine the
block time for the purpose of checking lock-time constraints:
    enum { nMedianTimeSpan=11 };
    int64_t GetMedianTimePast(const CBlockIndex* pindex)
    {
        int64_t pmedian[nMedianTimeSpan];
        int64_t* pbegin = &pmedian[nMedianTimeSpan];
        int64_t* pend = &pmedian[nMedianTimeSpan];
        for (int i = 0; i < nMedianTimeSpan && pindex; i++, pindex =
             *(--pbegin) = pindex->GetBlockTime();
        std::sort(pbegin, pend);
        return pbegin[(pend - pbegin)/2];
    }
Lock-time constraints are checked by the consensus method IsFinalTx(),
or LockTime() under BIP68. These methods take the block time as one
parameter. This BIP proposes that after activation calls to
IsFinalTx() or LockTime() within consensus code use the return value
of `GetMedianTimePast(pindexPrev)` instead.
A reference implementation of this proposal is provided in the
following git repository:
We reuse the double-threshold switchover mechanism from BIPs 34 and 66,
with the
same thresholds, but for block.nVersion = 4. The new rules are in effect for
every block (at height H) with nVersion = 4 and at least 750 out of 1000
preceding it (with heights H-1000...H-1) also have nVersion = 4.
when 950 out of the 1000 blocks preceding a block do have nVersion = 4,
nVersion = 3 blocks become invalid, and all further blocks enforce the
new rules.
It is recommended that this soft-fork deployment trigger include other
proposals for improving Bitcoin's lock-time capabilities, such as BIP
65, BIP68
and CHECKSEQUENCEVERIFY.
Mark Friedenbach for designing and authoring the reference
implementation of this BIP.
Thomas Kerin authored this BIP document.
Transactions generated using time-based lock-time will take
approximately an hour longer to confirm than would be expected under
the old rules. This is not known to introduce any compatibility
concerns with existing protocols.
[ BIP65:
[ BIP68:
Consensus-enforced transaction replacement signaled via sequence numbers]
[ BIPXX:
This document is placed in the public domain.

@_date: 2015-08-21 12:13:09
@_author: Thomas Kerin 
@_subject: [bitcoin-dev] BIP: Using Median time-past as endpoint for 
Hash: SHA512
I submitted the pull-request for the median-past timelock BIP just now
Any luck finding the link to this discussion? It would be nice to
include this for posterity.
though that would be really helpful.
during a

@_date: 2015-12-04 16:46:34
@_author: Thomas Kerin 
@_subject: [bitcoin-dev] Blockchain verification flag (BIP draft) 
1. Not relaying can cause problems. Gossip networks operate by
propagating new information (like a single new header), and refuse to
relay information if it's obviously invalid.
first, there's no point to not telling peers about this information.
It's likely in the interest of SPV wallets to hear about EVERY
contending chain, so they can go about their business deciding which is
2. The only difference between a block and it's header is the list of
transactions. There isn't anywhere else to put the flag but the header's
version. Which is good, because clients usually receive headers first.
3. "Signal would need to include some sort of proof" That's not the
point of this BIP. You can't prove the miner has or hasn't verified the
chain. What purpose would it even serve? If clients accepted this
'proof', they might ignore blocks they should pay attention to.
The BIP doesn't involve proof at all, it's just an indicator you can
chose to use or ignore.

@_date: 2015-07-25 16:04:41
@_author: Thomas Kerin 
@_subject: [bitcoin-dev] Bitcoin, Perceptions, and Expectations 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512
FWIW, the 6 confirmations figure came from a modest estimate of a miner
with 10% of the hash rate, such that there is < 0.1% probability of the
transaction being undone.
I wonder at times if this figure should fluctuate with the hashrate of
the largest player. Presently, AntMiner has 20% of the hashrate,
requiring 11 blocks to give you the same certainty. And previously when
GHash.io had 45%, the number of blocks to wait would be 340 - over two days!
With this in mind, I would be wary about publishing these numbers as
they are prone to change.

@_date: 2015-07-31 18:40:59
@_author: Thomas Kerin 
@_subject: [bitcoin-dev] [Bitcoin-development] [BIP draft] Motivation and 
Hash: SHA512
I really think there should be a document before a BIP number is assigned.
value to

@_date: 2015-10-04 18:24:59
@_author: Thomas Kerin 
@_subject: [bitcoin-dev] [Bitcoin-development] New BIP32 structure for 
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512
Hi Jean Pierre,
This is a problem I've considered before, though I have to say I prefer
your solution.
The problem is, how can a person who restores his wallet from just a
seed restore
all his multi-signature addresses with other parties?
Your proposal is nice because all participants are equal, and it
minimalizes the data
required for recovery because it's deterministic, and the (extended)
public key is the first
piece of metadata you'll ask for from others.. Let it be the only thing
we need!
Regards amending BIP45 - BIP's are not amended after the fact, however
bad it may be
in retrospect. It might be best to write a BIP specifying a
"pseudorandom & deterministic
path generation for HD/multi-signature accounts"

@_date: 2015-09-15 00:51:27
@_author: Thomas Kerin 
@_subject: [bitcoin-dev] URI scheme for signing and verifying messages 
I think it would be more akin to bip70. I have a similar proposal, largely
already written up around this. I'm very interested in having this for
multi signature wallets.
On 14 Sep 2015 8:06 pm, "Arthur - bitcoin-fr.io via bitcoin-dev" <

@_date: 2015-09-15 15:40:44
@_author: Thomas Kerin 
@_subject: [bitcoin-dev] Instant exchange rates URI scheme 
Something very similar was posted not too long ago.
Long and sort of it is, there is no point in saying you priced in GBP, etc,
because it can vary from exchange to exchange.
To be honest, adding more things to consider at checkout time confuses
things; why not just specify the amount of Bitcoin you wish to be paid?
On 15 Sep 2015 11:11 am, "John Bailon via bitcoin-dev" <

@_date: 2015-09-30 13:22:36
@_author: Thomas Kerin 
@_subject: [bitcoin-dev] Design Competition 
Who is funding this?
Why not fund Core development?
On 30 Sep 2015 7:37 am, "Richard Olsen via bitcoin-dev" <

@_date: 2016-02-11 22:20:33
@_author: Thomas Kerin 
@_subject: [bitcoin-dev] BIP CPRKV: Check private key verify 
I wonder if this is possible as a soft fork without using segwit?
Increasing the sigop count for a NOP would be a hard fork, but such a
change would be fine with a new segwit version. It might require specific
support in the altcoin, which might be troublesome..
On 11 Feb 2016 20:05, "Tier Nolan via bitcoin-dev" <

@_date: 2016-01-26 16:19:18
@_author: Thomas Kerin 
@_subject: [bitcoin-dev] [BIP Draft] Allow zero value OP_RETURN in Payment 
You keep saying OP_RETURN is new, but it has been there from day one.
It's purpose is causing script execution to end if encountered.
Since then, we have tolerated putting pushdata's after it, and even
raised the limit for the size of this data. It still doesn't mean every
proposal has to be rewritten to cater for a new allowance we give
I'd generally agree with Luke. Removing the cost of this hurts bitcoin,
and ironically, your application to a certain degree. Just because you
can do a thing one way, it doesn't mean you should. Especially if your
applications success depends on people spamming OP_RETURN hashes of
every torrent they like.
