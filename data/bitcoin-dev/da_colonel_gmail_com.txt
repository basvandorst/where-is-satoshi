
@_date: 2014-02-14 13:20:45
@_author: Denis Andrejew 
@_subject: [Bitcoin-development] working with the blockchain: transaction fees 
Hi all!
I'm new to development with bitcoin and I have a question for you guys:
What I'm trying to do is read the blockchain in order to find all unspent
outputs. I'm using bitcoind via rpc as my source of information about the
Now one thing that I don't understand fully yet when working with the
transaction data I'm being given is:
How do transaction fees work? More specifically: I can see that there is
often a gap between the sum of the ins and the sum of the outs in a
transaction and I understand that this is the transaction fee. But how can
the miner spend it if it is not assigned as an output of any transaction?
Is there special code somewhere that keeps track of all the btc not spent
in all the transactions of a block and allows the miner's address (ie the
address in the first tx of that block) to spend that? But if so, how would
that work then? I should be finding transactions then where the sum of the
ouputs is higher than the sum of the inputs and one of the inputs should
have the miner's address attached to it or what?
I am a bit confused about this part. Other than that it's quite fascinating
to see how bitcoin works and work with it. :)
So if one of you could kindly explain to me the technical view of
transaction fees (i.e. how exactly do I find them and account for them in
the blockchain), that would be brilliant!
And the other question would be this one (directly related):
What are the cases where the sum of the input values (from the referenced
transactions) can be different from the sum of the output values?
These cases I have found and understand:
1) "coinbase" transactions that "print money" have no inputs, only 50/25
coins output (less in the future)
2) transaction fees when in > out
Are there other cases?
"Be the change you want to see in the world." (Mahatma Gandhi)

@_date: 2014-02-14 21:56:56
@_author: Denis Andrejew 
@_subject: [Bitcoin-development] working with the blockchain: transaction 
Thanks Wladimir, perfect info!
Mark, sounds good. But most likely this DB is keeping this information only
for the current state of the blockchain and what I need really is to be
able to get the unspent outputs (and calculate the balance for all
addresses) for any particular block I happen to be interested in :)
- Denis
"Be the change you want to see in the world." (Mahatma Gandhi)

@_date: 2014-02-18 01:01:40
@_author: Denis Andrejew 
@_subject: [Bitcoin-development] bitcoind json API (gettx/raw) (newbie 
Hey everybody,
here's another question that I have:
I'd like a small bit of clarification about the gettx / getrawtransaction
(decoded) api call. I understand that I can find the address that a
transaction output is directed at / available to for future use sits in the
vout array in the scriptPubKey.addresses array. I'm a little uncertain as
to why that piece of information would be typed as an array when all it
ever seems to contain is one (not more, not less) address(es).
Are there any cases of transactions right now that don't contain exactly 1
item in that array, i.e. more or less than a single address (per single
vout element, not per tx)? Or is the thinking behind this array to somehow
make the data structure more extensible for potential future use? But then
I can't think of any use cases where it appears to make any sense to put
more than 1 address there...
Or am I even asking the wrong questions? For spending those coins, i.e.
using them in a future transaction it's all about owning the public/private
key that is contained in the vout script, right? So the address doesn't
really matter and it could be 2 or more (or none at all?) addresses in
there, and what matters is just that the next guy has the key to spending
those coins... ?
Once again I'm coming to these questions from a project where I'm trying to
calculate unspent outputs and from that balances for all accounts and I'm
not sure yet what other special cases there might be in the blockchain that
I need to be aware of and handle properly in order to (re-)produce accurate
Thanks for your help, much appreciated!
- Denis
"Be the change you want to see in the world." (Mahatma Gandhi)
