
@_date: 2012-12-03 17:26:29
@_author: Roy Badami 
@_subject: [Bitcoin-development] Payment Protocol Proposal: 
Actually that has absolutely nothing to do with SMTP.  It's down to
the file format of the standard BSD UNIX mailbox (which uses lines
beginning with 'From ' to delimit messages).

@_date: 2012-12-03 17:48:26
@_author: Roy Badami 
@_subject: [Bitcoin-development] Payment Protocol Proposal: 
Funilly enough pretty much all low-level links that make up the
Internet use either bit-stuffing or byte-stuffing to escape a
particular bit sequence or byte that terminates an HDLC frame.
I'm not particularly agreeing or disagreeing with you on the
suitability for the case at hand, but as an absolute your statement
doesn't hold water.  The use of a terminator for a variable-length
data structure rather than a length prefix is a design desicion that
has little-to-nothing to do with the debate of text-versus-binary.
Anyone remember Holerith constants?

@_date: 2012-11-28 18:36:19
@_author: Roy Badami 
@_subject: [Bitcoin-development] Payment Protocol Proposal: 
I'm not sure I understand the rationale for this.  In the above
scenario the buyer has no way to determine whether the merchant still
has a copy of the transaction that they could broadcast in future.
Maybe there is simply a systems problem at the merchant which has
temporarily delayed the transaction broadcast. Or maybe a dishonest
merchant deliberately engineered this situation in an attempt to
mislead the buyer as to the status of their payment.
Either way, having the buyer think the coins have been returned to
their wallet - only to disappear from their wallet again at some later
time - would seriously damage user confidence in Bitcoin IMHO.
It seems to me that the first thing the buyer should do given the
protocol as it stands is simply resend the Payment message - if there
was a temporary problem then resending the payment message (with the
same signed transation) might resolve the sitution.
If after several retries the status of the transaction is still
undefined then it's really not clear what to do, but it seems
desireable to have the client take steps so that it can return to a
state of certainly about its wallet balance as quickly as possible.
Two things I can imagine that the buyer might want their client to do
at this point are:
 * broadcast the transaction itself, so they are sure the payment
   transaction will make it into the blockchain without any further
   action on their part, or
 * invalidate the transaction by immediately broadcasting a
   pay-to-self transaction that spends one or more of the same outputs
   that the payment transaction spends (and treat the funds as part of
   the unconfirmed balance until this pay-to-self transaction
   confirms).  This ensures the merchant can't subsequently use a
   transaction which the buyer thinks has failed
It seems to me it would be simpler and cleaner if the buyer just
always broadcasted the transaction on the p2p network, regardless of
whether the Invoice includes a receiptURI.  If a receiptURI is
included, the buyer's client would also include the transaction in the
Purchase message.  The merchant then tries to broadcast the
transaction as well (unless their bitcoind has already seen it, which
may well be the common case).  This approach seems to me to have fewer
nasty edge cases.s

@_date: 2012-11-29 12:07:13
@_author: Roy Badami 
@_subject: [Bitcoin-development] Payment Protocol Proposal: 
I'd still like to understand the rationale for having the merchant
broadcast the transaction - it seems to add complexity and create edge
How about this as an alternative proposal:
The buyer's client prepares the transaction and computes its txid.  It
then sends a ValidatePurchase message to the merchant containing the
proposed Outputs and a copy of the merchant_data along with the txid.
Assuming the proposed payment is accepted as valid by the merchant,
the buyer's client simply broadcasts the pre-prepared transaction in
the normal way, and it is the merchant's responsibility to watch for
this transaction to arrive over the p2p network/blockchain to complete
the purchase.  (So if the merchant rejects the purchase at the
ValidatePurchase stage, they never get to see the transaction that the
buyer prepared, and there's therefore no need for a send-to-self to
cancel it.)
An optional RequestReceipt message (perhaps containing the
merchant_data and txid) can be sent by the client after the
transaction has been broadcast - but by making this explicitly
optional it forces the merchant to rely on seeing the bitcoin
transaction to 'commit' the payment and not on the RequestReceipt
As far as I can see this proposal has no edge cases where the buyer
and merchant have differing ideas as to whether the transaction has
'comitted' - or at least, no more edge cases than the standard bitcoin
protocol has.

@_date: 2012-11-29 13:53:30
@_author: Roy Badami 
@_subject: [Bitcoin-development] Payment Protocol Proposal: 
All good reasons, thanks for the explanation.
Though I still like my idea of a ValidatePurchase message that allows
a buyer to ask a merchant "would you accept this payment?" without
actually supplying a signed transaction.  Make it optional if you care
about minimising the number of round trips, e.g. for fast NFC
Having such a message reduces the extent to which you need to trust
the merchant not to spend a transaction that they've rejected.  (And
in the non-Internet connected case this is particularly useful since
the client won't have the ability to broadcast a pay-to-self

@_date: 2012-11-29 14:01:01
@_author: Roy Badami 
@_subject: [Bitcoin-development] Payment Protocol Proposal: 
All good reasons, thanks for the explanation.
Though I still like my idea of a ValidatePurchase message that allows
a buyer to ask a merchant "would you accept this payment?" without
actually supplying a signed transaction.  Make it optional if you care
about minimising the number of round trips, e.g. for fast NFC
Having such a message reduces the extent to which you need to trust
the merchant not to spend a transaction that they've rejected.  (And
in the non-Internet connected case this is particularly useful since
the client won't have the ability to broadcast a pay-to-self

@_date: 2012-11-29 14:01:24
@_author: Roy Badami 
@_subject: [Bitcoin-development] Payment Protocol Proposal: 
All good reasons, thanks for the explanation.
Though I still like my idea of a ValidatePurchase message that allows
a buyer to ask a merchant "would you accept this payment?" without
actually supplying a signed transaction.  Make it optional if you care
about minimising the number of round trips, e.g. for fast NFC
Having such a message reduces the extent to which you need to trust
the merchant not to spend a transaction that they've rejected.  (And
in the non-Internet connected case this is particularly useful since
the client won't have the ability to broadcast a pay-to-self

@_date: 2013-04-01 23:51:07
@_author: Roy Badami 
@_subject: [Bitcoin-development] bitcoin pull requests 
The attack Schneier is talking about is a collision attack (i.e. it
creates two messages with the same hash, but you don't get to choose
either of the messages).  It's not a second preimage attack, which is
what you would need to be able to create a message that hashes to the
same value of an existing message.
(And it neither have anything to do with the birthday paradox, BTW -
which relates to the chance of eventually finding two messages that
hash to the same value by pure change)
If someone gets malicious code into the repo, it's going to be by
social engineering, not by breaking the cyrpto.

@_date: 2013-04-01 23:54:17
@_author: Roy Badami 
@_subject: [Bitcoin-development] bitcoin pull requests 
And the moment I hit send I realised it's not necessarily true.
Conceivably, a collision attack might help you craft two commits (one
good, one bad) with the same hash.
But I still maintain what I just posted is true: if someone gets
malicious code into the repo, it's going to be by social engineering,
not by breaking the cyrpto.

@_date: 2013-08-07 21:12:32
@_author: Roy Badami 
@_subject: [Bitcoin-development] Payment Protocol: BIP 70, 71, 72 
* There may be a desire to minimize the URL length when used in a QR code
* Some applications might specifically require some of the features of
the payment protocol - e.g. it may be a requirement that a print-media
QR code cannot be used after a cut-off date, or a vendor may have a
specific requirement not to accept payments without a refund address
There are pros and cons, but it's not clear to me that the benefits of
enforced backward compatibility outweigh the benefits of allowing
application designers to innovate as they see fit.

@_date: 2013-08-07 22:28:58
@_author: Roy Badami 
@_subject: [Bitcoin-development] Payment Protocol: BIP 70, 71, 72 
If we're going to allow payments to fail without being broadcast (but
where the wallet can't in general prove that the receiver hasn't seen
the transaction) then I would argue that it becomes highly desirable
that the wallet invalidates the transaction at the earliest
opportunity by spending the outputs in a pay-to-self transaction.
Otherwise malicious receivers, or temporary failures, could result in
the user being told that the transfer didn't happen, but then the
coins actually leaving the wallet anyway a short time later.

@_date: 2013-08-07 22:47:57
@_author: Roy Badami 
@_subject: [Bitcoin-development] Payment Protocol: BIP 70, 71, 72 
Very brief comment on BIP 72:
I wonder if there should be some discussion included in the
specification as to how the BIP 21 amount, message and label
parameters should be processed when the payment protocol is used.
Presumably amount should be completely ignored?  But is the total
amount requestd by the PaymentRequest required to match the amount
parameter (when present)?  Is the client permitted to complain if they
And what about message?  Presumably the memo from PaymentDetails
should take precedence, but if it's not present, and message is?
I think this is an area perhaps more suited to SHOULDs and MAYs rather
than MUSTs, but it is probably worthy of mention...

@_date: 2013-08-07 23:03:58
@_author: Roy Badami 
@_subject: [Bitcoin-development] Payment Protocol: BIP 70, 71, 72 
But the reality is that in many applications you need to provide a
single URL.
Consider existing point-of-sale systems that display QR codes for the
user to scan.  They live within the limitations of existing bitcoin
URLs, but would no doubt benefit from the payments protocol.
It's not realistic for the terminal operator in a retail establishment
to have to select which protocol will be used before generating the QR
code - so the effect of your proposal is to require lowest common
denominator and effectively prevent such systems from using the
payments protocol (at least until it is sufficiently ubiquitous that
they feel happy to simply require its use).

@_date: 2013-12-08 21:58:50
@_author: Roy Badami 
@_subject: [Bitcoin-development] Dedicated server for bitcoin.org, 
That's an interesting question.  The bitcoin.org domain is hiding
behind a WhoisGuard anonymous registration.  Why are we not allowed to
know who this domain belongs to?  Why are we being asked to trust some
unidentified party?

@_date: 2013-12-09 10:54:36
@_author: Roy Badami 
@_subject: [Bitcoin-development] Dedicated server for bitcoin.org, 
I know this will be a controversial viewpoint in some quarters, but
I'm not a fan of anonymity, or of pseudonyms.  As far as I know
(please correct me if I'm wrong) all the core devs go by their real
names with the exception of Satoshi (and I would hope he no longer has
commit access? - only because I would hope that no-one has
pseudonymous commit access these days).  I don't see why this should
be different for the domain, the DNS and the rest of the
Although that's separate from the question of who the registrant of
the domain should be (the registrant being the closest thing a domain
has to a recorded legal owner).  Who currently purports to be the
current legal owner of the domain?
IMHO the registrant should obviously be real and not WhoisGuard -
anonymous stuff like this always looks shady.  And surely the Bitcoin
Foundation is the obvious candidate to own the domain (just like
kernel.org is owned by the Linux Foundation).  But this may all be
moot unless the current legal owners are willing to assign the

@_date: 2013-12-09 13:52:44
@_author: Roy Badami 
@_subject: [Bitcoin-development] 0.8.6 release candidate 1 
Perhaps because 0.8.6 hasn't been released yet?  Or did I miss the
announcement?  I think it makes sense that release candidates are not
promoted on bitcoin.org.

@_date: 2013-12-10 07:23:36
@_author: Roy Badami 
@_subject: [Bitcoin-development] 0.8.6 release candidate 1 
Oh, I see - so it was.  It wasn't announced here though - is there
some other list I need to be on, too?  It would be nice if
announcements like this were posted to a mailing list as well as
bitcointalk.org (is there a bitcoin-announce list that I missed?  If
not, maybe there should be)

@_date: 2013-02-22 23:08:51
@_author: Roy Badami 
@_subject: [Bitcoin-development] Key retirement and key compromise 
Has anyone been thinking about providing tools to allow users to cope
with key compromise - or more generally, to manage key retirement etc?
atm, if you suspect that your keys may be liable to compromise then
what would you have to do?  You'd have to create a new wallet (on a
new computer?  or is it easy to have two coexisting installs on one
computer?)  And then you'd have to make one or more payments from the
old wallet to the new wallet, to transfer the coins.  It's a pain, and
you've lost your address book, your transaction history, etc.  And
unless you keep the old wallet about, too, you're a bit stuck if
someone makes a payment to one of the old addresses.  It's something
that most users would baulk at unless they're really sure they're at
significant risk.
Of course, there are a spectrum of scenarios, ranging from having an
unencrypted wallet stolen by someone who knows what it is, through to
deciding that the passphrase you used to use when you only had a few
dollars worth of BTC maybe isn't good enough now you've got tens of
thousands of dollars worth of coins.  Or maybe you have no reason to
suspect there is a risk of compromise, but just have a corporate key
management policy that recommends retiring keys after a period of
What would be really nice is for bitcoin to have a big key compromise
button, which would automatically transfer all coins to newly
generated addresses (optionally with a pause between generation and
transaction - to allow for a new wallet backup).  Optionally, too, the
compromised/retired addresses could be marked with a flag such that if
someone sends coins to that address bitcoind immediately generates a
transaction to transfer the coins to address(es) which are good.
I know deterministic wallets have many proponents - but personally I
like having a bag of keys - with the idea that over a period of time,
old keys will routinely be retired and their balances automatically
transfered to newly generated keys.  If someone really manages to
crack the passphrase on that 10-year-old wallet backup they got hold
of, then if would be nice to minimise the damage they could do...
And, of course, I want a big panic button that allows me to
automatically transfer all my coins to new addresses ASAP if I
suddenly do something stupid, like accidentally type my passphrase
into my IRC window :-)
Thoughts?  Is this functionality that there is any interest in
developing within the official client?  If there is any interest in
this then obviously the first step would be to specify exactly what
functionality is wanted...

@_date: 2013-07-31 09:45:39
@_author: Roy Badami 
@_subject: [Bitcoin-development] Payment Protocol: BIP 70, 71, 72 
Is it envisaged to be possible/sensible to have a URI that is *only* a
payment request?  i.e. something like the following (although I'm not
sure this is a valid URI):

@_date: 2013-06-04 19:36:53
@_author: Roy Badami 
@_subject: [Bitcoin-development] Proposal: soft-fork to make 
Not for pool operators it isn't.  Nor for people buying hashing power
from a GPUMAX-type service, if such services still exist (or should
they exist again in future).

@_date: 2013-03-03 18:55:11
@_author: Roy Badami 
@_subject: [Bitcoin-development] Secure download 
Would be nice to have a secure page at bitcoin.org, though, rathar
than having to go to github - certs from somewhere like Namecheap
should cost you next to nothing.  For those of us too lazy (not
paranoid enough) to bother with GPG, a (secure) page on bitoin.org
with the MD5 hashes of the binaries would be awesome...

@_date: 2013-03-03 18:54:46
@_author: Roy Badami 
@_subject: [Bitcoin-development] Secure download 
Would be nice to have a secure page at bitcoin.org, though, rathar
than having to go to github - certs from somewhere like Namecheap
should cost you next to nothing.  For those of us too lazy (not
paranoid enough) to bother with GPG, a (secure) page on bitoin.org
with the MD5 hashes of the binaries would be awesome...

@_date: 2013-03-03 20:25:16
@_author: Roy Badami 
@_subject: [Bitcoin-development] Secure download 
IME most CAs verify by emailing hostmaster/webaster@ or one of the
contacts in the WHOIS.  But you're right, still subject to a MitM.
Still better than nothing though.
I would have suggested an EV cert, but that's more expensive (and
still far from foolproof)
Also helps protect against DNS spoofing attacks, but yes, you're
right.  I should be checking GPG sigs but I'm lazy :-)

@_date: 2013-03-03 20:25:41
@_author: Roy Badami 
@_subject: [Bitcoin-development] Secure download 
IME most CAs verify by emailing hostmaster/webaster@ or one of the
contacts in the WHOIS.  But you're right, still subject to a MitM.
Still better than nothing though.
I would have suggested an EV cert, but that's more expensive (and
still far from foolproof)
Also helps protect against DNS spoofing attacks, but yes, you're
right.  I should be checking GPG sigs but I'm lazy :-)

@_date: 2013-03-05 12:37:50
@_author: Roy Badami 
@_subject: [Bitcoin-development] Secure download 
And Namecheap now accept Bitcoin :-)
(Complete coincidence - I didn't know that when I posted)

@_date: 2013-03-13 19:29:52
@_author: Roy Badami 
@_subject: [Bitcoin-development] Blocksize and off-chain transactions 
Presumably not emulate too precisely, at least if your initial report
that the block caused 0.7 to 'get stuck' was correct.  A network that
has a mix of 0.8.1 nodes (which will reject the block) and 0.7 nodes
(which will hang when receiving the block?) would appear to remove the
fork risk.  Is it obvious that no other serious problems remain in
such a network?
(Although I note your proposal to patch 0.7 too, so hopefully the
network wouldn't remain in that state for very long)

@_date: 2013-03-13 21:22:43
@_author: Roy Badami 
@_subject: [Bitcoin-development] 0.8.1 ideas 
The idea of the client detecting/warning about not-trivial forking
seems worthwhile too, though, assuming it doesn't already (AIUI it
I don't know if there's any automatic monitoring for forks, but if not
I would assume that the core devs and/or Bitcoin Foundation would be
planning to put some in place.  But there's no reason I can see why
end users clients should't be warning of such situations, too, when
they can (obviously they won't always be aware of the fork).

@_date: 2013-03-13 21:36:08
@_author: Roy Badami 
@_subject: [Bitcoin-development] 0.8.1 ideas 
Still, it would have meant that all 0.8 users would have immediatley
been told that something was wrong.  I don't know to what extent it
was luck that this was dealt with as promptly and efficiently as it
was, but to the extent that luck was involved, a slew of 0.8 users
shouting in various places "wtf is going on" couldn't but help in
reducing the element of luck if something similar were to happen again.

@_date: 2013-03-25 20:49:11
@_author: Roy Badami 
@_subject: [Bitcoin-development] Key retirement and key compromise 
I realise on reflection that what I really want is not automatic
transmissions, but a means to revoke an address.
The problem is that after transfering the coins from the compromised
addresses to a new, hopefully safe address, what to do about the fact
that third parties might still try to send me coins to an old,
compromised address.  So what I think I'm suggesting is that there
should be an address revocation protocol, such that clients will give
an error if their user tries to send coins to a revoked address.
Unless we think that direct payments to addresses will become
completely obsolete once the payment protocol is in use, in which case
(maybe) this functionality belongs in the payment protocol instead -
but I remain unconvinced of that.
I'm not envisaging something as drastic as changing the rules to make
transactions to revoked addresses invalid - just an overlay protocol.
Although to be useful such a protocol would have to be pretty much
universally implemented by clients.

@_date: 2013-03-25 21:35:45
@_author: Roy Badami 
@_subject: [Bitcoin-development] Key retirement and key compromise 
============================== START ==============================
Maybe it should be possible for addresses to contain expiry dates, so
that revocation lists don't need to hang around forever.
It may be inadvisable but in many cases it is pretty much unavoidable
as Bitcoin stands today.  Granted, the payment protocol will help with
that in many use cases...

@_date: 2014-04-16 21:42:24
@_author: Roy Badami 
@_subject: [Bitcoin-development] Warning message when running wallet in 
Do we need a similar warning for OS X 10.6?  The EOL of that one is
*far* less well known than XP (because of Apple's failure to
communicate product lifecycles).

@_date: 2014-12-20 10:08:17
@_author: Roy Badami 
@_subject: [Bitcoin-development] Area of Focus 
Why would we want to have anything to do with people who are hosting
malware?  Or do I misunderstand?

@_date: 2014-01-13 13:37:46
@_author: Roy Badami 
@_subject: [Bitcoin-development] Stealth Addresses 
That does require trusting the third party not to later tamper with
the payment request, though.  (I'm assuming that a signed payment
request is not always going to be all that useful in the case of
private individuals, even assuming the payee is willing to sign up for
That certainly sounds like a plausible use case.  You do still have
the problem that e-mail is an insecure channel, but it's no worse than
exchanging Bitcoin addreses over e-mail as things stand at the

@_date: 2014-01-13 19:40:50
@_author: Roy Badami 
@_subject: [Bitcoin-development] Stealth Addresses 
I definitely think this is a case that should be addressed better than
at present.
To consider a concrete use case, imagine I wish to be able to give my
friends and acquaintances a paper business card with a QR code on it,
that they can use to make payments to me.  I don't own a domain or any
kind of X.509 certificate and I don't run an HTTP server.  I don't
feel comfortable with a solution that requires me to trust a third
party to complete the payments.
At the moment, I can give them a business card with a Bitcoin address.
Being able to give out a business card with a stealth address would be
a major advance.

@_date: 2014-01-13 19:53:19
@_author: Roy Badami 
@_subject: [Bitcoin-development] Stealth Addresses 
On further reflection, I'm not sure I understand this use case of the
payment protocol.  Since a PaymentRequest currently contains the
Outputs that specify the addresses to send to, reusing a
PaymentRequest like this without using stealth addresses implies
address reuse.
(Granted there are alternative solutions to stealth addresses, such as
a BIP32-style derivation.)

@_date: 2014-01-13 20:01:05
@_author: Roy Badami 
@_subject: [Bitcoin-development] Stealth Addresses 
Yes, sorry, I miscontrued the thread here and now see that your
message was exactly talking about using stealth addresses within the
payment protocol.
Sorry for the confusion.

@_date: 2014-01-13 20:11:20
@_author: Roy Badami 
@_subject: [Bitcoin-development] Stealth Addresses 
Ok, cool, I wasn't aware of such services, and I can certainly see
they could be useful.  But it's not that great for the business card
As far as I can see, using it in that scenario would have to rely on
the payer scanning the QR code on the business card, and then check
that the email address displayed by their wallet matched the email
address printed on the business card.

@_date: 2014-01-13 21:02:18
@_author: Roy Badami 
@_subject: [Bitcoin-development] Stealth Addresses 
Sending a "please pay me" message is really great for business
But I think the use case that Peter Todd mentions is actually *the*
most important currently under-addresesd use case:
Lots of work is being done on handling consumer-to-merchant
transactions.  BIP 70 does a good job of tackling the online purchase
case, and the work that Andreas Schildbach is doing with Bluetooth and
NFC will improve the options for a payer in a physical PoS transaction
who might not have Internet connectivity on their smartphone.
But relatively little work (that I know of) is being done on
non-transactional personal payments - that is, being able to pay money
to friends and other people that you have a face-to-face relationship
What I want... no need... is to be able to open my wallet, select a
friend from my address book, and transfer the $10 I owe them from the
bar last night.
I don't care - within reason - what process is involved in getting my
friend set up in my address book.  That may well requires two way
communication (e.g. over NFC).  But once it's set up, I should be able
to just select the payee from the address book and send them some
funds.  Anything else is just too complciated.
I don't know if stealth addresses are the best solution to address
this use case, but AFAIK the only current solution to this use case is
to store a long-lived Bitcoin address in the addresss book.

@_date: 2014-01-14 22:53:21
@_author: Roy Badami 
@_subject: [Bitcoin-development] Stealth Addresses 
Having now read that page, I'll just leave you with the first bullet
point from it:
 * Digital signature ensures confidentiality
(I'm not trying to make any particular point here - I just couldn't resist)

@_date: 2014-01-15 23:04:23
@_author: Roy Badami 
@_subject: [Bitcoin-development] Stealth Addresses 
...as opposed to an address configured by DHCP?
More seriously, I don't think a typical user will understand anything from
the phrase "static address".  But it is a neutral name, and it is shorter
than "address-of-a-type-for-which-reuse-is-not-deprecated". :-)

@_date: 2014-01-15 23:17:34
@_author: Roy Badami 
@_subject: [Bitcoin-development] Stealth Addresses 
How about just calling them 'type S addresses'?
Not sure any other name will in reality convey much more meaning than

@_date: 2014-01-15 23:19:48
@_author: Roy Badami 
@_subject: [Bitcoin-development] Stealth Addresses 
(Assuming they're encoded in such as way that they actually start with 's'.
Otherwise whatever prefix is actually used, obviously.)

@_date: 2014-01-27 20:34:36
@_author: Roy Badami 
@_subject: [Bitcoin-development] Payment Protocol for Face-to-face Payments 
My first thought was likewise.  In the case where the phone needs
Internet connectivity anyway, why not include an HTTPS URL in a BIP 72 URL?
I'm assuming that every client will have to support this is any case,
since it's effectively mandated by the BIP, so why add another mode of
However, PaymentRequest-over-QR-code does seem to me to have one
rather attractive advantage: the authentication model is orders of
magnitude simpler and more intuitive for a face-to-face transaction
than anything else.  You're saying "pay the coins to that thing over
there displaying that QR code".  Which, most of the time, is exactly
what you want.
In the web case, it's fine to ignore the case where the URL domain has
been subverted (and an cert obtained by the attacker) because in that
case you've lost before you even get to payments (MitM attacker shows
you a modified web page with different payment details).  But the
face-to-face case isn't intrinsically dependent on SSL security, and
it's nice not to introduce that attack vector...

@_date: 2014-01-30 12:20:16
@_author: Roy Badami 
@_subject: [Bitcoin-development] BIP70 message delivery reliability 
I think in that case, you absolultely have to invalidate all the
transactions in the Payment message by broadcasting a send-to-self
transaction as soon as possible; until that point your wallet balance
is indeterminate.  Otherwise what will happen if the merchant did in
fact receive the Payment message, and then processes it (and
broadcasts the transaction) after some delay?
Then what the user will see is: an apparently failed attempt to pay,
leaving their wallet balance unchanged.  Then, perhaps many hours
later, their wallet balance will appear to spontaneously decrement.

@_date: 2014-06-24 19:34:34
@_author: Roy Badami 
@_subject: [Bitcoin-development] Proposed BIP 70 extension 
Rather than offering discounts, how about offering automatic cashback?
I know they're kinda stupid, but I gather cashback deals are very
commonplace in the US and (probably as a result) not unheard of elsewhere.
So you add an optional cashback_to field to the Payment message,
distinct from but conceptually similar to the refund_to field.  The
wallet can tally up how much cashback is received, without having to
trust the merchants.
Much harder to game, AFAICS.

@_date: 2014-03-14 14:18:47
@_author: Roy Badami 
@_subject: [Bitcoin-development] moving the default display to mbtc 
At the moment, I imagine the vast majority of Bitcoin users are
familliar with SI units and know what milli- and micro- mean.
I doubt that is true of the general population, though.

@_date: 2014-03-20 21:52:08
@_author: Roy Badami 
@_subject: [Bitcoin-development] Payment Protocol for Face-to-face Payments 
I'm not sure if this what you're getting at, but in a common
face-to-face scenario, it really doesn't overlap so much (in that the
PKI in BIP70 isn't really helpful).
It's not unusual, in a face-to-face transaction at a bricks-and-mortar
establishment, that you know neither the legal name of the entity
running the establishment, nor any electronic identifier (domain name,
email address) that might be presented to you in an X.509 certificate,
even if such a certificate is presented in the PaymentRequest.
In many cases I want/need to simply be assured that I am paying "the
person/organisation which operates that machine behind the counter,
right there".
In many ways I'll miss the simplicity of BIP21 QR codes for
face-to-face transactions - because in this use case the payment
protocol complicates (and in many cases weakens) the assurance that
you really are paying the entity that prepared the QR code.

@_date: 2014-03-26 22:48:26
@_author: Roy Badami 
@_subject: [Bitcoin-development] Payment Protocol for Face-to-face Payments 
The actual example I was thinking of is that of traditional British
pubs.  Often a company will own several pubs - however the pubs
themselves will typically have individual traditional pub names.  The
name of the company might not be at all prominently advertised in the
Traders at music festivals are another example that comes to mind (they
often accept credit cards if they sell higher value items so why not
Bitcoin?)  In this example there often are no clearly advertised
business names - at least, that the customer will be aware of.

@_date: 2014-03-29 09:27:22
@_author: Roy Badami 
@_subject: [Bitcoin-development] BIP 70 refund field 
<5335BD17.6050408
It's EU law, but the Distance Selling Directive only says "at least
seven days", so the exact period probably varies by country (in the UK
it is 7 days).
But the clock only starts ticking when you receive the goods, and the
Distance Selling Directive allows the supplier 30 days "to execute the
order" (I *think* the 30 days always has to include shipping, because
for consumer contracts title doesn't pass until the goods are
delivered, so the order wouldn't be considered complete until then).
So I think latest possible deadline for returning the goods for refund
could be up to 30 days to execute the order plus "at least 7 days"
(with some countries allowing more).  Plus, conceivably, shipping
time, if some member states have chosen to interpret the 30 day
execution differently.
So I think this adds up to "a couple of months, give or take".  In
practice, though, even a couple of months is a bit on the short time.
What if the goods are delayed.  How many people have had miner orders
outstanding for the best part of a year?

@_date: 2014-03-29 17:28:16
@_author: Roy Badami 
@_subject: [Bitcoin-development] Presenting a BIP for Shamir's Secret 
Right now there are also people simply taking base58-encoded private
keys and running them through ssss-split.
It has a lot going for it, since it can easily be reassembled on any
Linux machine without special software (B Poettering's Linux command
line SSSS implementation[1] seems to be included in most Linux distros).
[1]

@_date: 2014-03-29 17:51:30
@_author: Roy Badami 
@_subject: [Bitcoin-development] Presenting a BIP for Shamir's Secret 
And yet, how many wallets can import BIP38 keys?  If someone gave me
one I would have no idea what software (if any) can understand it (nor
would I have any idea how to generate one in the first place).
Anyway, I'm not arguing against standardising these things - if people
are going to implement this then of course it's beneficial that they
implement it compatibly.  It was just a simple observation - make of
it what you will.

@_date: 2014-03-31 19:57:51
@_author: Roy Badami 
@_subject: [Bitcoin-development] secure assigned bitcoin address directory 
============================== START ==============================
Is namecoin actively maintained these days?

@_date: 2014-05-02 21:41:47
@_author: Roy Badami 
@_subject: [Bitcoin-development] BIP70 implementation guidance 
Well, many certs have something in the O field.  That has nothing to
do with EV - EV just mandates a particular set of validation
I agree that blindly showing the O field may not be ideal - there
*may* conceivably be some CAs that include it without validation on
their cheap certs (although most cheap certs simply don't include it).
But it's not clear that EV or not is the right criterion here - there
are certainly non-EV certs out there that are organisation validated.
I have really mixed feelings about giving this privileged treatment
exclusively to EV certs, for the simple reason that the rules around
EV certs are iniquitous and some businesses are excluded.
e.g. in the UK sole traders (that is, unincorporated businesses) can't
get EV certs because the UK doesn't maintain a trade register of such
businesses and therefore such businesses are incapable of satisfying
the EV rules.
That said, EV certs are here, now, and (sadly) supporting them is
better than doing nothing...

@_date: 2014-05-03 13:32:45
@_author: Roy Badami 
@_subject: [Bitcoin-development] moving the default display to mbtc 
As a counter argument, many sources (including the BBC) abbreviate
million to 'm' (and billion to 'bn'), e.g. $3m, $3bn.
I think any similarity with SI units here is coincidental.

@_date: 2015-02-05 22:49:09
@_author: Roy Badami 
@_subject: [Bitcoin-development] Proposal for P2P Wireless (Bluetooth LE) 
Personally I like the simplicity of tapping two phones together to
make payment - it should be quicker and easier than scanning QR codes
and it's a trust model that's hard to misunderstand.
Is NFC good enough for that?  I fear even with NFC it is possible to
produce a device with longer range than one would expect.  What
happened to the idea of tapping two devices together and then
comparing the timing of the tap (as detected by the phones'
accelerometers) to make spoofing a transaction harder?  I remember
hearing about that years ago - is that still a thing?

@_date: 2015-02-05 23:34:22
@_author: Roy Badami 
@_subject: [Bitcoin-development] Proposal for P2P Wireless (Bluetooth LE) 
For peer-to-peer payments, how common do we think that the payment is
of an ad hoc nature rather than to a known contact?
If I want to pay my friends/colleagues/etc over a restaurant table
there's no reason why I couldn't already have their public keys in my
contact list - then it would be pretty straightforward to have a
watertight mechanism where I would know who I was paying.  You could
probably even relatively securely bootstrap a key exchange over SMS,
relying only on the contacts already having each other in their
As for comsumer-to-merchant transactions where the merchant is a
bricks and mortar merchant, IMHO it absolutely has to be "pay that
terminal over there".  It's the trust model we all currently use -
whether paying cash or card - and it's the only trust model that works
IMHO (and customers and businesses alike are well aware of the risks
of a fraudster standing behind the counter pretending to be an
employee accepting payment - and by and large are pretty good at
mitigating it).  OTOH as we've discussed here before there are many
use cases where the custoemr doesn't actually know or care about the
name of the shop or bar they walked into but is pretty damn sure that
they need to make payment to the person over there behind the counter.
Granted, there are cases taht dont' fall into either of the above -
but they're the cases that are (a) harder to figure out how to
authenticate and consequently (b) the use cases that are going to be
most subject to attempted fraud.

@_date: 2015-02-06 08:59:23
@_author: Roy Badami 
@_subject: [Bitcoin-development] Proposal for P2P Wireless (Bluetooth LE) 
Something interactive might still be nicer, though, to avoid the risk
of paying to an address that the payee no longer has the private key
for.  "Nooo!! Don't pay to that address.  I lost my old phone so I
generated a new wallet."

@_date: 2015-01-20 21:49:52
@_author: Roy Badami 
@_subject: [Bitcoin-development] The legal risks of auto-updating wallet 
So if I leave my window open while I'm out and there's some cash on my
desk, visible from the street, then every passer by now has a
custodial relationship with me?
Your example of a malicious software update seems more akin to a theft
like that (which is clearly not a custodial relationship) rather than
a true custodial relationship.

@_date: 2015-06-01 21:01:50
@_author: Roy Badami 
@_subject: [Bitcoin-development] Fwd: Block Size Increase Requirements 
TL;DR: Personally I'm in favour of doing something relatively
uncontroversial (say, a simple increase in the block size to something
in the 4-8GB range) with no further increases without a further hard
I'm not sure how relevent Nielsen's Law really is.  The only relevent
data points Nielsen has really boil down to a law about how the speed
of his cable modem connection has changed during the period 1998-2014.
Interesting though that is, it's not hugely relevent to
bandwidth-intensive operations like running a full node.  The problem
is he's only looking at the actual speed of his connection in Mbps,
not the amount of data usage in GB/month that his provider permits -
and there's no particular reason to expect that both of those two
figures follow the same curve.  In particular, we're more interested
in the cost of backhaul and IP transit (which is what drives the
GB/month figure) than we are in improvements in DOCSIS technology,
which have little relevence to node operators even on cable modem, and
none to any other kind of full node operator, be it on DSL or in a
More importantly, I also think a scheduled ramp up is an unnecessary
complication.  Why do we need to commit now to future block size
increases perhaps years into the future?  I'd rather schedule an
uncontroversial hard fork now (if such thing is possible) even if
there's a very real expectation - even an assumption - that by the
time the fork has taken place, it's already time to start discussing
the next one.  Any curve or schedule of increases that stretches years
into the future is inevitably going to be controversial - and more so
the further into the future it stretches - simply because the
uncertainties around the Bitcoin landscape are going to be greater the
further ahead we look.
If a simple increase from 1GB to 4GB or 8GB will solve the problem for
now, why not do that?  Yes, it's quite likely we'll have to do it
again, but we'll be able to make that decision in the light of the
2016 or 2017 landscape and can again make a simple, hopefully
uncontroversial, increase in the limit at that time.
So, with the proviso that I think this is all bike shedding, if I had
to pick my favourite colour for the bike shed, it would be to schedule
a hard fork that increases the 1GB limit (to something in the 4-8GB
range) but with no further increases without a further hard fork.
Personally I think trying to pick the best value of the 2035 block
size now is about as foolish as trying to understand now the economics
of Bitcoin mining many halvings hence.
NB: this is not saying that I think we shouldn't go above 8GB in the
relatively foreseeable future; quite the contrary, I strongly expect
that we will.  I just don't see the need to pick the 2020 block size
now when we can easily make a far better informed decision as to the
2020 block size in 2018 or even 2019.
As to knowing what the block size is going to be for the next 20 years
being "REALLY important"?  100% disagree.  I also think it's
impossible, because even if you manage to get consensus on a block
size increase schedule that stretches out to 2035 (and my prediction
is you won't) the reality is that that block size schedule will have
been modified by a future hard fork long before we get to 2035.
What I personally think is REALLY important is that the Bitcoin
community demonstrates an ability to react appropriately to changing
requirements and conditions - and we'll only be able to react to those
conditions when we know what they are!  My expectation is that there
will be several (hopefully _relatively_ uncontroversial) scheduled
hard forks between now and 2035, and each of those will be discussed
in suitable detail before being agreed.  And that's as it should be.

@_date: 2015-06-01 21:15:03
@_author: Roy Badami 
@_subject: [Bitcoin-development] Fwd: Block Size Increase Requirements 
And the other bit I should have added to my TL;DR:
If we end up spending a significant proportion of the next 20 years
discussing the then _next_ hard fork, that's a *good* thing, not a
*bad* thing.  Hard forks need to become, if not entirely routine, then
certainly less scary.  A sequence of (relatively) uncontroversial hard
forks over time is way more likely to gain consensus than a single
hard fork that attempts to set a schedule for block size increases out
to 2035.  IMHO.

@_date: 2015-06-20 19:42:51
@_author: Roy Badami 
@_subject: [Bitcoin-development] Hard fork via miner vote 
As I've observed before, Gavin originally advocated either a 99% or
100% buy in by miners for a hard fork to trigger.
I don't understand why people (Gavin included) now seem to favour a
much more modest supermajority except perhaps that they believe that
that level of consensus is unachievable.
FWIW I'm in favour of a block size increase.  I just wish that half as
much energy had gone into discussing whether we want a 100%
supermajority or a 99% supermajority or an 80% supermajority, as has
gone into discussing whether we want 1MB blocks or 8MB blocks or 20MB
blocks.  (So thank you, Pieter, for raising this.)

@_date: 2015-06-20 21:07:53
@_author: Roy Badami 
@_subject: [Bitcoin-development] Hard fork via miner vote 
And I understand that Gavin is now proposing that a 75% supermajority
should be enough.  This constantly reducing threshold worries me
There is a risk that we get a situation where a stable amount of
hashing power somewhat over 75% (say 80%) accepts the fork - and
therefore triggers it - but both a significant minority (say 20%) of
hashrate rejects it *and* the economic majority rejects it.
I'm not saying this is a likely outcome - indeed I hope it's not - but
it is a _possible_ outcome.  Ok, the chain that the economic marjority
is using will have a bit of a temporary crisis due to 50 minute block
times, but it will recover in a few weeks as difficulty adjusts.  And,
in the worst case, you end up with two competing semi-stable
ecosystems both claiming to be 'the real Bitcoin'.
My fear is that in that situation it could take an extended period -
perhaps many months - for one fork to clearly win and the other fork
to lose support (or at least lose sufficient support to be relegated
to altcoin status).  I think such an extended period of uncertainty
would be the ultimate worst case scenario for Bitcoin.  It _probably_
wouldn't be fatal to Bitcoin, but it would certainly be far worse for
Bitcoin than getting the blocksize wrong even by an order of magnitude
(in either direction).  Therefore if we can design the hardfork
mechanism to make such an outcome impossible, I believe we really need

@_date: 2015-06-23 21:55:40
@_author: Roy Badami 
@_subject: [bitcoin-dev] Draft BIP : fixed-schedule block size increase 
We could just as well say that the increases continue for 20 years, or
until there is concensus to schedule a soft-fork to prevent further
increase - whichever comes first.  That is the case already, of
course, since there is no way to prevent a modest supermajority of
miners from pushing through a soft-fork.  But explicitly accepting the
possibility that the community might choose to cut the process short
might make the BIP more palatable to some.
It is also the reality: halting the blocksize increase before it hits
the final 8GB limit is relatively easy, compared to the task of
setting it in motion, so it does no real harm to set the "20 years"
figure at the upper range of what we think is reasonable - even though
under other circumstances one would probably say that extrapolating
exponentials that far out would be foolhardy...

@_date: 2015-06-24 18:24:45
@_author: Roy Badami 
@_subject: [bitcoin-dev] Draft BIP : fixed-schedule block size increase 
Or put another way, lowering the block size limit (or cancelling an
increase) is a soft fork.  Like all soft forks, a majority of the hash
power can force the soft fork to take place.

@_date: 2015-06-24 18:28:47
@_author: Roy Badami 
@_subject: [bitcoin-dev] Draft BIP : fixed-schedule block size increase 
60% of the hashrate can easily agree to force a softfork which reduces
the block size.  As soon as the fork occurs, there is a very strong
incentive for all the remaining 40% to go along with it: if they
don't, they're mining worthless blocks.
They can use a BIP-34 style mechanism to trigger the fork so there's
negligible risk to the miners.

@_date: 2015-05-07 21:00:23
@_author: Roy Badami 
@_subject: [Bitcoin-development] Mechanics of a hard fork 
I'd love to have more discussion of exactly how a hard fork should be
implemented.  I think it might actually be of some value to have rough
consensus on that before we get too bogged down with exactly what the
proposed hard fork should do.  After all, how can we debate whether a
particular hard fork proposal has consensus if we haven't even decided
what level of supermajority is needed to establish consensus?
For instance, back in 2012 Gavin was proposing, effectively, that a
hard fork should require a supermajority of 99% of miners in order to
More recently, Gavin has proposed that a supermoajority of only 80% of
miners should be needed in order to trigger the hard fork.
Just now, on this list (see attached message) Gavin seems to be
aluding to some mechanism for a hard fork which involves consensus of
full nodes, and then a soft fork preceeding the hard fork, which I'd
love to see a full explanation of.
FWIW, I think 80% is far too low to establish consensus for a hard
fork.  I think the supermajority of miners should be sufficiently
large that the rump doesn't constitute a viable coin.  If you don't
have that very strong level of consensus then you risk forking Bitcoin
into two competing coins (and I believe we already have one exchange
promissing to trade both forks as long as the blockchains are alive).
As a starting point, I think 35/36th of miners (approximately 97.2%)
is the minimum I would be comfortable with.  It means that the rump
coin will initially have an average confirmation time of 6 hours
(until difficulty, very slowly, adjusts) which is probably far enough
from viable that the majority of holdouts will quickly desert it too.

@_date: 2015-05-07 22:42:01
@_author: Roy Badami 
@_subject: [Bitcoin-development] Mechanics of a hard fork 
But is that a plausible scenario?  Certainly *if* the concensus rules
required a 99% supermajority of miners for the hard fork to go ahead,
then there would be absoltely no rational reason for merchants and
users to refuse to upgrade, even if they don't support the changes
introduces by the hard fork.  Their only choice, if the fork succeeds,
is between the active chain and the one that is effectively stalled -
and, of course, they can make that choice ahead of time.

@_date: 2015-05-07 23:08:48
@_author: Roy Badami 
@_subject: [Bitcoin-development] Mechanics of a hard fork 
Surely, in that scenario Bitcoin is dead.  If the fork you prefer has
only 1% of the hash power it is trivially vulnerably not just to a 51%
attack but to a 501% attack, not to mention the fact that you'd only
be getting one block every 16 hours.
Beliefs are all very well, but they can be wrong.  Of course we should
not go ahead with a fork that we believe to be dangerous, but
requiring a supermajority of miners is surely a wise precaution.  I
fail to see any realistic scenario where 99% of miners vote for the
hard fork to go ahead, and the econonomic majority votes to stay on
the blockchain whose hashrate has just dropped two orders of magnitude
- so low that the mean time between blocks is now over 16 hours.
