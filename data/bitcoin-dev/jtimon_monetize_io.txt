
@_date: 2013-04-10 17:58:10
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] 
I thought about this before, I like the idea very much.
Would such a fork be controversial for anyone?
Would anyone oppose to this for some reason I'm missing?

@_date: 2013-08-20 00:49:46
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Proposal: remove "getwork" RPC from 
Removing getwork and the old miner and packaging a better miner seems
the best solution for the reasons already mentioned.
Not directly related, but this remembered me that we planned to
remove the accounting features on freicoin. We don't want to adapt
them for demurrage and we think business shouldn't use it and should
code their own accounting system instead. One that keeps a full log
of the accounting, etc.
Unfortunately the first exchange to support freicoin (cryptonit) used
this feature for accounting user balances on the exchange.
So the question is, is there any good reason to maintain this?
Is any serious business really using this or anyone at all?
I'm talking about removing the following rpc calls:
...and modifying these:
I think this would also leave a cleaner API, but I'm just interested
on what the objections would be to this removal.
How crazy does this sound?
Should we reconsider their removal for freicoin, proceed or create a
pull request for bitcoin?

@_date: 2013-12-10 13:38:38
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Monetary Authority for Bitcoin 
No, at least to persons have explained you why your proposal is not feasible.
If you wanted to learn, you would have made questions on why those
parts of your proposal are unfeasible.
There have been many proposals about "stablecoins" in bitcointalk and
other forums (for example, the "initial proposals" freicoin subforum).
I have participated in several of them trying to find a solution and
I'm now convinced that this is impossible to implement in a secure AND
P2P system.
This is off-topic for this forum, specially if (as you've shown to us)
you are not interested in learning why this proposal is unfeasible.

@_date: 2013-12-10 18:18:40
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Popularity based mining (variable block 
This has been asked very recently:
And a thousand times on bitcointalk.

@_date: 2013-07-13 11:51:14
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] libzerocoin released, 
I'm not sure I understand the whole proposal, but it seems to me that
having different characteristics, bitcoins and zerocoins would be
different currencies.
I don't see the need to peg zerocoins to bitcoins.
It is great to have an anonymous p2p currency, maybe some bitcoin
users that use bitcoin because of the transparency they allow (public
funds expenditures could be more transparent than they have ever been)
don't like this hard-fork. Well, maybe this is not the main reason,
but I think this could be highly controversial.
Maybe everybody likes it, but can you expand more on the
justifications to peg the two currencies?
If you're requiring one chain look at the othe for validations (miners
will have to validate both to mine btc) you don't need the cross-chain
contract, you can do it better.
Instead of doing this:
You could do something like this:
This very idea has been proposed recently by othe people, but I can't
find where.
The problem with this is of course scalabilty. Once you do it for what
chain, why not the others?
You can't validate 100 chains to mine bitcoin even if they're all
merged mined: that's asking miners too much.
If zerocoin enjoys this privilege why not, for example?
As some of you may know, Mark Friedenbach and I are working on a
protocol modification to support issuance of arbitrary assets. Would
be something like colored coins but better, we're calling it
FreiMarkets. Of course these assets are not p2p like bitcoin or
freicoin themselves: they have a centralized issuer.
But if you allowed to sacrifice real bitcoins (as opposed to IOUs
denominated in BTC like you have, for example, in ripple) so they
appear in Freicoin's chain and turn them back, you could have p2p
bitcoins inside Freicoin's chain.
Maybe ripplers want that too. If FreiMarkets prove to work well on
freicoin and be scalable enough, maybe a lot of scamcoins apply the
hardfork too and they want to have p2p btc in their chain as well.
Maybe I could have explained this without even mentioning FreiMarkets,
but my point is that you're asking for a lot like it was nothing.
Zerocoin-bitcoin fungibility hardfork is opening a little pandora's
box. Are we ready?
I was waiting for others to comment and I'm surprised that no one else
has made any objection yet. But if no one's going to point out the
controvery that is so obvious to me, I feel almost like a
responsability to act like a Devil's advocate here.
So if you make bitcoin and zerocoin fungible, I want bitcoins to be
transferrable to freicoin's chain. And I warn you there will be many
more people asking for the same thing on other chains. What criteria
will we have to say yes or no?

@_date: 2013-07-13 11:53:44
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] libzerocoin released, 
Sorry about that.
Maybe more important, what's wrong with bitcoin and zerocoin being
different currencies with an exchange rate completely decided by the
market instead of trying to force 1:1 ???

@_date: 2013-07-14 13:18:37
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] libzerocoin released, 
I was talking about bi-directional sacrifice.
If zerocoin has it, I want the same on top of freicoin so that btc/frc
can be traded p2p.
Why zerocoin and not the 20 other altchains are going to ask for it?
Ripplers will want it too, why not?
All the arguments in favor of this pegging use zerocoin's point of
view. Sure it would be much better for it, but are additional costs to
the bitcoin network and you cannot do it with every chain.
Merged mining is not mining the coin for free. The total reward (ie
btc + frc + nmc + dvc) should tend to equal the mining costs. But the
value comes from demand, not costs. So if people demand it more it
price will rise no matter how is mined. And if the price rises it will
make sense to spend more on mining.
"Bitcoins are worth because it costs to mine them" is a Marxian labor
thory of value argument.
It's the other way arround as Menger taught us.

@_date: 2013-07-15 15:05:52
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] libzerocoin released, 
One way sacrifice (btc to zerocoin) is a non-issue since there's no
modification required for bitcoin and you can't do anything to prevent
it anyway.
The controversial thing is sacrificing something outside bitcoin's
chain and new btc appearing.
On merged mining. It is true that "merged attacking" the other chain
is free, but it is still more profitable to just follow the rules and
mine the other coin!!
If someone considers that something he can sell in a market for btc is
"negative value"...well, he's just dammed stupid. Proof of work is
designed for rational actors, if you stop assuming miners are more or
less rational everything falls apart. It is possible that the "extra
value" is too little for some miners to bother. But the extra costs of
validating something else are so little compared to chance-hashing
that miners not merged mining namecoin right now are just stupid
(irrational agents). You can merged mine and sell for btc right away.
On prime proof of work...for me it's interseting only because it's
moving towards SCIP-based mining but that should be the goal. Like
Mark said, "let's cure cancer" while mining. That would end all
"mining is wasteful" arguments about this great security system. This
would make Ripple's consensus mechanism less attractive. People
talking about new scrypts harder to ASIC-mine when that's the elephant
in the room...
Sorry, I'm going off-topic.
SCIP-based merged mining for the win.

@_date: 2013-06-06 18:31:34
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Revocability with known trusted escrow 
P2SH with 2 of 3: the payer, recipient and a trusted third party.
It is explained here:
Nothing can be done at the protocol level if you want it to remain
p2p. Much like the tainted coins stuff.
Maybe offtopic but I disliked what everyone but Alan said in that
bitcoin2013 "security panel" about it.
Well, I didn't like several claims on that panel...

@_date: 2013-10-21 12:21:27
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] A critique of bitcoin open source 
I think it's great to move BIPs to github.
I also agree with the states -> directories mapping.
Git manages moved files well.

@_date: 2013-10-24 21:32:26
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] BIP0039 Mnemonic code for generating 
This will probably sound stupid to most of you, but I'll say it anyway.
The aim of mnemonics is to easily remember, isn't it?
But the approach of removing "offensive words" is probably
counterproductive to achieving that end. These words cause a greater
emotional impact in our human moral psyches.
If we were willing to use that fact in our advantage to optimize the
"maximum unforgettableness" criterion, we should actually prefer the
most generally offensive words in that list. Specially if they can
combine with each other to produce more offensive results, basically
the opposite of what we're doing.
Isn't "legalize murder dirty jew" much easier to remember for most
people than "sandwich house yellow cauliflower"?
I guess that even if I'm right, this will be hard to explain to users
and I'm not offering myself to do it. So I completely understand if
the people working on this BIP simply ignore this "unforgettable
wordlist" proposal like if it was just a bad taste joke.
Using the sub-optimal (in terms of human memory) politically correct
wordlist probably won't be that much worse.

@_date: 2013-09-17 13:41:30
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Faster databases than LevelDB 
Only slightly related to this...
What's the reason why BerkleyDB is maintained for the wallet?
I think it would be a good thing to get rid of the libdb4.8++-dev
dependency that makes bitcoind harder to compile on debian and ubuntu.
Unless, of course, there's a reason I am missing...

@_date: 2014-04-01 23:42:53
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Finite monetary supply for Bitcoin 
The hard fork also forces the whole community and not a few miners to decide.
Well, if it is possible for the community to reach an agreement with
such a short time frame...

@_date: 2014-04-05 12:21:03
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Finite monetary supply for Bitcoin 
I like both DD-MM-YYYY and YYYY-MM-DD. I just dislike MM-DD-YYYY and YYYY-DD-MM.

@_date: 2014-04-05 13:28:21
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Finite monetary supply for Bitcoin 
Probably my acceptance of DD-MM-YYYY is caused by cultural bias.
The ISO YYYY-MM-DD seems what you normally do with indo-arabic
numerals: put the more weighted numbers on the left, so I guess it's
the most universal (in addition to being standard).

@_date: 2014-04-07 14:12:58
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Feedback request: colored coins protocol 
This doesn't make much sense to me.
If you print shares on gold plates instead of paper, is that gold
"part of the capital of the company"? I don't think so.

@_date: 2014-04-07 20:23:53
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Feedback request: colored coins protocol 
No, it's an asset for the owner of the share, not the company, just
like the gold plates are not assets for the company when someone else
holds them.
What you're doing is getting less capital for the company due to the
money that is going to pay the gold costs.
Are you rising capital or selling gold?
It doesn't make sense to do both at once.
You need money, why would you spend money on gold before asking for
other people's money to build your company?
Investors will appreciate the convenience of being able to buy shares
of your company and gold separately (or not buy gold at all).
It may even be more clear for other use cases different than stocks.
Does an IOU written in a gold plate make sense to you?

@_date: 2014-04-17 14:25:24
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Timed testing 
I'm implementing a new testing mode that produces blocks
periodically. You can get what I have so far here:
It depends on pull request  with some improvements on
CChainParams, but after that the changes required to add this new
mode are very small:
I guess I need a new genesis block, different magic numbers, etc. So
this is definitely not ready.
You can run it like this:
bitcoind -timedtest -gen=1 blocktime=2000
blocktime defaults to 1000 milliseconds for timedtest mode and 0 for
the rest of the modes.
What could this testing mode be useful for?
Basically, simulations.
For example, you could run several nodes implementing different mining
policies. Let's say I want to mine 50% of the blocks with standard policy,
25% with policy A and 25% with policy B. I can run 1 one for each of
one with block times 2000, 1000 and 1000 respectively.
Maybe I want to detect performance bottlenecks by stressing this mode
with as many transaction as can be processed, maybe removing the
block size limits in the simulations.
But this still doesn't serve for hardfork or double-spend attacks
simulations without calculating any pow, which would be another
interesting feature for a new testing mode.
I would like to implement the new mode following as the concept of
private chains described in freimarkets:
I know this could be considered a "non-bitcoinish" application and
therefore be controversial as discussed in PR 3824, so I want to keep
the conversation focused on testing use cases useful to bitcoin itself
only: additional changes can be implemented elsewhere.
One way I think you could support chain races simulations by using a
private mode could be the following:
1) The private mode works like the timed mode in how often it
   produces blocks.
2) In private mode you replace the pow-related fields with a
   blockPubkeyScript and a lastBlockSigScript fields. In the genesis
   block, lastBlockSigScript is empty and the initial
   blockPubkeyScript can be an optional parameter like blocktime. You
   can set any valid script, probably p2sh, maybe with multisig to
   allow different nodes to sign.
3) In this context, longer chains mean "more work". Another way to
   see it is that all blocks just contain work==1 in them.
So let's say we want to simulate an attack using 50% standard and 50%
attacker blocks. You set up the private mode script to be a 1 of 2
multisig and make each node sign always with the same private key
(maybe an additional parameter).
You make the attacker reject any blocks from height X that he hasn't
signed himself to get the result you wanted: the standard node will
produce blocks on top of the longest chain while the attacker will
only hash on top of his own blocks.
So my question to the community is, how invasive is this to bitcoin's
source code?
In my opinion, done properly could actually result (apart from getting
the new features) in more readable code, not less, since you will
probably need to make sure proof of work functionality is properly
encapsulated during the implementation process (see PR 3839 for a first
step on that direction).
But, should I push a private mode to the core or just the timed one
and implement the private mode elsewhere?
Of course other comments on the parameters, defaults or any other
design or implementation details are also welcomed.

@_date: 2014-04-17 17:11:05
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Timed testing 
There's no difference, the -timedtest mode does exactly that. But
automatically instead of having to manually ask for a new block every
I assume your position is that the difference is too small to justify
a new mode, or that you just don't see any value in it.
The -private mode, on the other hand, would allow you to simulate
proof of work attacks as described in the previous post, but maybe
there's a simpler way to do the same solely using regtest/timedtest.
Maybe I should have asked the following questions before proposing anything:
1) How does someone simulate a pow race situation without doing any
pow right now?
Does anybody try these things? How?
2) If I wanted to measure validation performance, to get the number of
peak tps that could be processed without taking block sides or network
latency into account, how would I do that? Has anybody tried this

@_date: 2014-04-17 18:09:45
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Timed testing 
Yes, thank you. I guess that's what everybody is doing to measure
validation performance.
So I guess the timedtest mode doesn't make much sense, at most only as
the blocktime parameter defaulting to zero. If bool
MineBlocksOnDemand() gets refactored out of ChainParams into a
parameter (maybe just use genproclimit ?), you can have the periodic
block generation and the generation on demand reusing the same regtest
So it seems a new mode only makes sense if the -private mode makes
sense, which in turn only makes sense to include in bitcoind if it's
useful enough for the network attack simulations, which remains the
open question.

@_date: 2014-04-17 19:43:35
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Timed testing 
Thank you for all the explanations on how to use regtest to reproduce
the example scenarios.
It seems like a private mode wouldn't be particularly helpful for
testing so I won't create a pull request and will just work on the
private chains separately from bitcoind.
Going back to chainparam modes in general, I've heard Sipa complain
some times about regtest being too specific, arguing that some of the
behaviors should be specified as independent parameters instead of
chainparams attributes.
One example could be bool CChainPrams::MineBlocksOnDemand() (see
If that was an independent parameter that people set to true when
using regtest, the blocktime param I was proposing for -timedtest
could also be implemented as an independent parameter without any need
for a new mode.
It's not clear to me if the timedtest parameter would be useful for
bitcoind testing or not, but it's just something I've noticed while
playing with this part of the code.
Sipa, is this the kind of thing you refer to when you say regtest is
too specific?
Do you have any suggestion on how to solve the issue as part of PR 3824?
Well, any suggestions from anyone on how to improve PR 3824 are
welcomed, I was just asking specifically to sipa because as said it is
my understanding that he had some complaints about regtest and I think
this is something simple enough for me to start contributing to
bitcoind. Specially given that I was going to review all that part of
the code to externally write the private mode anyway.

@_date: 2014-04-21 15:04:35
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Economics of information propagation 
I'm not convinced that headers first will result in miners hashing on
top of the block with more work without knowing if it's valid yet
instead of just keep hashing on top of the longest known-to-be-valid
Both options are risky for the miner in some way, and I guess the
probability of someone hashing an invalid block above difficulty is
too low to be the main concern, but there's intermediate solutions,
like say, waiting to validate at least 5% of the block.
But I don't see how miners mining headers first would result in empty
blocks either.
Why wouldn't them validate and include transactions after they have
received the full block?
They will likely know most of the transaction before receiving the block anyway.
In a future where they ONLY live on transaction fees, why would they
refuse to validate and include transactions? What are they hashing for
If anything, looks like a threat to the current situation with huge
mining subsidies coming from the seigniorage, not a problem that you
would have when the the seigniorage is gone.
In any case, it is true that this is mining policy and therefore out
of the realm of what the protocol can regulate, so we should assume
miners will do whatever it's best for them.
The trade-off between tps and centralization remains: if you want
higher tx volume, less full nodes will be able to process it.

@_date: 2014-04-24 13:22:24
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Coinbase reallocation to discourage 
I thought the mechanism they used to prevent double-spends was proof of work.
Therefore dishonest miners where only those who mine on top of a block
which is not the longest valid chain they've seen.
To distinguish this definition from your own "honest miners are those
who decide on double-spends by mining the transaction they saw first"
definition I propose to give another new name to the later, instead of
changing the definition of the former.
So inside the group of honest miners we have some that decide on
transactions based on reception times and others that simply maximize
their revenue while respecting the protocol rules.
I suggest "stupid miners" and "smart miners" respectively as more
clear terms for what we're talking about here.
I completely disagree.
Miner's proof of work makes transactions irreversible. Even if zero
confirmation transactions weren't possible in a replace-by-fee
environment, that's very useful.
Even if you always had to wait for transactions to be confirmed with
some irreversible proof of work (as described in Satoshi's
whitepaper), it doesn't follow that "automatically resolves the
Bitcoin experiment as a failure". I don't understand how can you
conclude that.
But in fact 0 conf txs are possible *precisely* using replace-by-fee,
as described in the "
0 confirmation txs using replace-by-fee and game theory" thread. So
that conclusion is definitely wrong.
On your concrete proposal, it seems to me that you're trying to
prevent double-spending without relying on proof of work, which I
think it impossible in the context of a truly p2p system.
I don't think your current proposal is secure and I fear that at best
you will end up with an "invite only" transaction processing network
like Ripple.com has with their consensus algorithm and Unique Node
Lists: that's not really p2p.

@_date: 2014-04-24 12:48:54
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] 0 confirmation txs using replace-by-fee and 
Here is a solution to the problem of having 0 confirmation
transactions that relies on game
theory and most miners implementing replace-by-fee and child-pays-for-parent.
This has been proposed before
I'm just going to describe the general idea in more detail.
Here's a small draft on how this could work:
Alice goes to Bob's store and wants to buy something cheaper than a
car, say a smartphone.
So Bob says, "it's 200 usd in btc, please pay me 400 usd in btc"
So Alice signs a tx with 400 and no fee with her old phone and she
just sends it to Bob rather than the network.
Bob creates a child transaction keeping 200 and giving 199.9 (0.1 usd
fee) back to Alice.
But you know, Alice wants to double spend.
She double spends 399.8 to herself (0.2 fee)
Bob thinks "last chance", he double-spends the child: 200 to Bob, back
199 to Alice (1 usd fee).
Alice is stubborn: 398 to Alice (2 usd fee).
Bob is really pissed off, double spends the child: 400 in fees.
So, ok, Bob lost the phone and got nothing but Alice has paid twice as
she needed for the phone.
Nobody's happy thus everybody's happy.
This is similar to the general game theory "stag hunt" case.
The payoff matrix could be something like this:
                        Bob returns change   Bob burns in fees
 ---------------------+--------------------+-------------------
  Alice behaves         + 1 , + 1            - 1, + 1
 ---------------------+--------------------+-------------------
  Alice double-spends   + 3, - 1             - 1, - 1
The game has two Nash equilibria, but cooperation is Pareto efficient.
Replace-by-fee and child-pays-for parent cannot be prohibited by a
protocol rule.
I believe all miners will eventually implement these policies because
it is the more rational way for them to prioritize transactions.
Finally I hope they do because it would make 0-confirmation
transactions possible as described in this post.
So I can't find any reasoning against replace-by-fee unless my example
is terribly flawed.
Am I missing something?

@_date: 2014-04-24 15:57:04
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Coinbase reallocation to discourage 
I'm not saying proof of work is the goal, the goal is still p2p
transaction serialization.
And that's achieved through proof of work, not through "miner's honesty".
Whatever, let's keep calling stupid miners "honest miners", smart
miners "dishonest-by-replace-by fee miners" and miners that do replace
by fee and also hash on top of old blocks "utterly dishonest miners".
Maybe Satoshi hadn't thought in depth about replace-by-fee when he
wrote the code.
Why should we care?
If nSequence was a design mistake Satoshi did, should we maintain it
to somehow honor him?
Maybe the payment protocol shouldn't have been developed because he
had some weird ideas about paying to ips? Maybe we shouldn't write any
tests because he didn't do so?
This persistent argument from authority is annoying.
It is not a protocol rule that validators can use to discriminate the
longest valid chain and therefore is not enforceable. Not even through
a softfork because miners can't know which transactions other miners
saw first.
So if it is a protocol rule, I think it shouldn't be.
Miners that mine on top of the longest valid chain are helping in
making transactions irreversible whether they implement a first-saw or
a replace-by-fee policy.
That's not what I'm saying. Miners that don't mine on top of the
longest chain are dishonest by my own definition as well.
You want to equate replace-by-fee "dishonesty" with
trying-to-rewrite-history dishonesty by saying that the transactions
that "have been seen" in the network are already history and that's
where we disagree. I think only what's in the chain is history and I
also think that's the whole point of proof of work.
And I also disagree that all the people who think this way are
"hopelessly confused". We may be confused, but I think there's always
hope for removing confusions provided that there's will to learn,
which I think it is at least my case.
This is in fact quite polemic and thus obviously not obvious.
Bitcoin works because rewriting the chain gets exponentially more
expensive as time passes.
I see now that I may have not properly expressed myself in the earlier
post since you clearly misunderstood what I meant by "smart miners".
By that I mean miners implementing replace-by-fee and
child-pays-for-parent policies Not miners trying to rewrite history,
which I agree is about as smart as mining on top of orphan blocks.

@_date: 2014-04-24 16:20:10
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] 0 confirmation txs using replace-by-fee 
No worse than the current situation.
High-value transactions should wait for several confirmations.
Again, no worse than the current situation. And regular double-spends
attacks are much simpler than finney attacks.
Where can I read more about "enforcing hashing visibility of block contents"?
Sounds somewhat similar to p2pool to me but I'm not sure I understand it.

@_date: 2014-04-24 16:49:31
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] 0 confirmation txs using replace-by-fee 
This solves regular double-spends, not Finney attacks, but finney
attacks (which are not really the easiest attacks in the world) don't
get any worse.
This scheme wouldn't be mandatory. You can still wait for
confirmations or rely somehow on existing trust instead if that's
better for you on that situation.
Sybil attacks aside, Alice can't save anything, period. If she tries
she will end up losing it all.
I don't see how signing a longer term contract protects her in any way.
They would do that to avoid having to wait for a confirmation or two
(I think one is good enough for most small purchases) when being paid
by people they don't trust just before they leave.
Maybe they prefer to just make people wait if they think that will
make them pay up-front.
This is completely optional and only an improvement on the current situation.
Of course if we're not comparing this with Bitcoin today and we're
comparing it to some theoretical mechanism for instant p2p
serialization without requiring proof of work then, yes, this concept
is not very interesting.

@_date: 2014-04-24 17:37:22
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Coinbase reallocation to discourage 
Yes, you can disentangle replace-by-fee policies from "rewriting
history" attacks.
That's exactly what I'm saying.
Proof of work is the most important thing that makes the blockchain
hard to tamper with.
Whatever, pick the terms yourself but let's just stick to the same ones, please.
I've read this argument before, but I simply don't buy it because I
disagree with the premise that replace-by-fee reduces the value of the
coins (not to mention we shouldn't assume miners stock coins for
I think replace-by-fee policies are actually an improvement over
first-saw-first-included policies.
I don't know about other occasions with other people but what you just
used with me was an argument from authority fallacy. Now you're using
a false analogy to try to convince us you didn't.
If I was saying "we should change the maximum from 21 M to 100 M
because mining subsidies could continue for longer".
"Mining subsidies aren't necessarily a good thing" or
"That's no justification for a hardfork" or
"That could destroy people's confidence in the currency"
would be logical arguments.
"No, because Satoshi picked 21 M" would be an argument from authority fallacy.
Whatever let's use whatever definitions you want, if I don't like your
definition of honesty I will just invent a new term to define my own.
Sorry, I don't see the analogy.
10 minutes is what Satoshi picked. Just kidding...
People need to understand that Bitcoin transactions are not instant.
For instants transactions you need to rely somehow on trust, use some
trust-less offchain mechanism or use a payment protocol that would
make double-spending irrational (like the one described in the other
thread that uses replace-by-fee).
So I think miner's default behavior should be replace-by-fee. But that
doesn't imply that I want miners to rewrite pow-validated history.

@_date: 2014-04-26 13:11:37
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] BIP - Hash Locked Transaction 
Does it make sense to implement a generic Policy interface (abstract
class) which StandardPolicy extends?
Maybe you can then implement a WhitelistPolicy,
ReplacebyFeeStandardPolicy, ReplacebyFeeWhitelistPolicy...
This would make it simpler for miners to implement their own policies
in general.
The following functions (maybe more) could become methods of Policy:
script IsStandard
main IsStandardTx
main AcceptToMemoryPool

@_date: 2014-08-06 12:01:39
@_author: =?UTF-8?B?Sm9yZ2UgVGltw7Nu?= 
@_subject: [Bitcoin-development] How to create a pull tester JAR 
Once you ave the jar, you can also build with
./configure --disable-silent-rules --disable-ccache
Instead of the regular
And after that "make check" will run most of the tests the pull tester does.

@_date: 2014-02-15 15:43:08
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Embedded consensus system upgrade 
Not a lawyer, but I don't see what would prevent me from writing contracts like:
"I owe the holder of this contract 10 usd" (IOU)
"I owe the holder of this contract 10 usd in beer" (voucher)
"I owe the holder of this p2p asset 10 usd in beer" (p2p voucher)
Of course, there must be a legal contract outside of the chain for
this contracts to be enforceable.
Some p2p assets will have them and other's won't. Say Alice pays the
dinner (20 usd) and her friend Bob pays her half of the price in p2p
usd not legally enforceable IOUs issued by him (10 bob:USD).
That's not legally enforceable, so what?
If Bob doesn't pay back Alice would lose 10 usd and would not accept
bob's IOUs anymore, much like it would had happen with a verbal IOU.
The difference is that Alice can sell those bob:USD to other people
who trust Bob.
Different p2p assets have different legal needs.
In any case, I think Peter summarized it very well:
"[...]no amount of code can, **by itself**, make data
represent a physical or legal entity. Only consensus and/or authorities
in the "real world" can do that."

@_date: 2014-02-28 00:48:33
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Decentralized digital asset exchange with 
First of all, sorry for the delayed answer.
Thank you, I knew this wasn't new for us but I doubted we had written
it anywhere.
As said in those mails, being only able to offer AAA for BTC and not
BTC for AAA nor AAA for BBB is enough of a limitation to justify a
hardfork IMO.
These are the two methods I know for cross-chain trading (no third
chain needed in any of them):
In fact, I don't think the seller will care enough about this to pay
the proof of publication fee either. Assuming sellers can either
broadcast the order on a bitmessage-like network or use your proof of
publication scheme, the later will be always be more expensive. So my
prediction is that most people will just use the simplest, fastest and
cheapest method, but I guess only time can tell.
I don't think this will be a tragedy, because like we discussed on
IRC, I don't think the primary goal of markets is price discovery, but
trade itself.
About historic data, the actual trades are always public, and some
kind of "archivers" could collect and maintain old orders for historic
bid and asks, etc.
As an aside, nLockTime would be nice not to always have to
double-spend the inputs of an order to cancel it.

@_date: 2014-02-28 18:49:52
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Decentralized digital asset exchange with 
I'm totally FOR experimenting with this as it is and I'm happy that
Alex/Killerstorm is working on "regular" colored coins.
I don't see the Bitcoin analogy...
Anyway, I still don't think the seller cares, if he sells at the price
he was asking, what would he care about "front running" those parallel
I've seen many street markets without "public information" and they
work just well.
Well, the trades that appeared in the chain actually occurred.
Buying to yourself at fake prices? Be careful, the miner could just
separate the order and fill it himself. Or anyone paying a higher fee,
for that matter.
Again, you haven't addressed why the seller cares more about "accurate
historic market data" than just his own fees and sell.
Yes, I'm aware this is a concern for many people and that's why I
bring it up when there's an useful use case (we have several important
uses in freimarkets).
Probably this belongs to another thread or just  but if I
remember correctly, the last discussion we had about this, I think
with you and gmaxwell, was more or less like this:
-Valid transactions could get invalid with a regorg
-Just like with any transaction if a double-spend appears, this just
means that you would need to wait for expiry transactions to be
somewhat buried to accept payments from it.
-That introduces fungibility problems.
-True, but doesn't seem a particularly difficult problem (I think we
actually drafted some potential solutions, like introducing a maturity
rule for expiry transactions) and the advantages outweigh that
potential problem IMO.
So in summary, I feel like before actually solving the problem we need
to rise more awareness on how nice and necessary nExpiryTime would be.
Anyway, sorry, I just wanted to point out another use, a deeper
discussion about this belongs to another thread.

@_date: 2014-01-02 20:49:27
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Dedicated server for bitcoin.org, 
Analytics software would be useful. I suggest using Piwik or another
free software alternative instead of Google's package.

@_date: 2014-01-03 19:21:17
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Dedicated server for bitcoin.org, 
An attacker could replace that part of the makefile.
Anyway, I think this is more oriented for compiled binaries, not for
people downloading the sources. I assume most of that people just use
I'm afraid this is not possible.
There's package management systems like apt-secure that do exactly this.

@_date: 2014-01-03 20:14:25
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] The insecurity of merge-mining 
They should be able to sell the reward at similar prices in the market.
Attackers are losing the opportunity cost of mining the currency by
attacking it, just like with Bitcoin.
The idea of sacrificing something external and make bitcoins appear
still sounds crazy to me.
I don't see how this pegging contributes in anything to a technical
argument against merged mining, just looks like a moral argument
against altcoin in general.
But anyway, if you're going to make bitcoin's validation dependent on
some external chain, it surprises me even more that you prefer that
external dependency to be non-merge mineable.
Ok, so either we assume that the external-pegging hardfork wasn't a
consensus or we just forget about the pegging and go back to talk
about merged mining in general.
Your argument is still "for some reason some miners don't like the MM
altcoin and prefer to attack it than to be profitable miners".
If I mine BTC + NMC and you only mine BTC, it will be harder for you
to compete against me: I can afford higher costs than you for the same
BTC reward, since I'm also getting NMC.
What you're saying is that Litecoin is more secure than Namecoin
because while Litecoin can only be attacked by external attackers and
current miners of other scrypt coins, Namecoin can also be attacked
the Bitcoin miners that aren't currently mining Namecoin.
This doesn't sound very reasonable to me.
I think Namecoin is more secure than Litecoin and new coins should be
created with SHA256 and merged mining in mind. At least merged mine
with Litecoin if the still believe scrypt is so "anti-ASIC" and
"centralization-resistant" (in fact Litecoin is more centralized than
bitcoin with their shorter block intervals since better connections
are favored, but that's another story).
Merged mining is not only about not competing for proof of work like
Satoshi defended.
It is also about wasting resources: the more mining subsidies to
different chains, the more wasted resources.
By criticizing merged mining you're also indirectly legitimizing the
same scamcoin madness you criticize.
If you don't plan to merge mine, having SHA256 doesn't make sense
because that makes you more fragile to potential bitcoin miners
attacks and chainhopers.
I don't think we would have this many alts living right now if all
proof of work was SHA256.
So if the "anti-asic PoW" myth and the absurd emerging morals of
"GPU-mining as an universal right" weren't enough, you want to add an
equally false "merged mining is insecure" to the collection of
arguments supporting the search of the more absurd possible PoW holy
Please try to prove that MM is insecure and I'll try to prove your
wrong. But we don't need zerocoin or an artificial pegging to discuss
about this.
I think Namecoin has a lower reward for miners than litecoin and still
has much better security. I haven't run the numbers but, will you deny
How many amazon VMs do you need to attack each one of them?

@_date: 2014-01-04 01:27:42
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] The insecurity of merge-mining 
For whatever reason, someone wants to attack one chain, fine.
But if the market is competitive enough and/or the reward of the
MM-coin is high enough comparatively to the biggest ones in the MM
group, then it is not profitable to mine.
If you make a MM coin, it's fees reward are 5% of BTC + NMC rewards,
and a jurisdiction somehow prohibits to mine the new coin (I can't
imagine such a law being enforced, but I'll follow your argument),
then BTC + NMC miners will just tend to disappear from that
I've read it until the end this time, and I have many doubts about
proof of sacrifice as a security mechanism. Although it's certainly
not proof of stake, it smells similarly to me. I'll have to think more
about it.
I still think that link doesn't prove anything against merged mining security.
Please, don't give me clues and let's discuss the economics, that's
precisely what I want and where I think you're getting it wrong.
Since you refuse to try to prove that MM is less secure, I'll try
myself to prove the opposite.
Let's say we have currencies A, B, C and D, with daily rewards of 70,
20, 10 and 10 valuns respectively.
A, B and C are merged mined, D is not.
So with an equivalent reward to miners and one being merged mined
while the other being independent, what's the more secure chain? C or
Assuming similar hashing algorithms and perfect competition, the cost
of producing enough hashing power to obtain 1 valun in rewards from D
equals the cost of extracting 1 valun in rewards from the group A + B
+ C.
Let's define 1 valun as the costs in energy and capital resources to
produce X GH/s.
So we have the following hashrates for each chain:
A = 100*X GH/s
B = 100*X GH/s
C = 100*X GH/s
D = 10*X GH/s
Now here it comes our attacker paying for amazon servers.
The costs in value to rent a server to produce X GH/s during a day
cannot be lower than 1 valun, given the earlier assumptions. Let's
assume it is equal to 1 valun for simplicity.
So the cost to have 50% of D's hashing power for a day is 10 valuns.
The cost to to have 50% of C's hashing power for a day is 100 valuns,
but, hey, I'll use your hint now.
Marginal costs.
So I'm using 100 valuns to attack C, but I'm still getting my rewards
from A and B as normal.
As normal?
Let's assume it's as normal first.
I would be getting 90 valuns from chains A and B, so 100 - 90 = 10 valuns.
Mhmm, it seems that although I need to make a considerably bigger
investment in the case of attacking C, in the end the total costs will
be the same of attacking D, that is 10 valuns.
But, wait, I've doubled the hashrate!!
Miners were getting 1 valun in reward per valun in mining costs when
the hashrate was 100*X GH/s, now A and B hashrates are 200*X GH/s
because I came to mine.
Some of them will be smart enough to leave fast, but I will be really
getting something between 45 and 90 valuns from honestly mining A + B,
not 90 valuns as I was assuming.
So it turns out that attacking D is actually cheaper than attacking C.
Feel free to ask for corrections in the example if you think it needs them.
Feel free to bring your edge legal cases back, but please try to do it
on top of the example.
PD I'm eager to read your post on BIP32-ish payment protocol, bloom
filters and prefix filters, so I hope I'm not distracting you too much
with this.

@_date: 2014-01-04 11:05:46
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Merge mining 
The launch thread says it clear: "very scrypt, such random, much
profit, wow, many coin".
So it seems that Dogecoin doesn't use SHA256 like Bitcoin, but scrypt
like most of the other scamcoins.
Anyway, I don't see anything in your comment in favor or against
merged mining...

@_date: 2014-01-04 11:34:55
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Merge mining 
Also, MS windows is a very popular operative system.
That's a fallacy:
Wait, wait, is Dogecoin merge-mineable with litecoin?
It could be if its developers wanted to, but I highly doubt it.
Precisely because of the myths spread against merged mining.
You shouldn't make such assumptions about the interests of a potential attacker.
For example, even being of the "cryptocurrency ecosystem" I could
consider that their slogans and videos are confusing newcomers and
they're really harming the general image of p2p currencies by
associating them with mad speculation and pump and dump schemes.
Being heavily involved in this "ecosystem", I would be very happy if
dogecoin disappeared tomorrow. Personally I've never mined anything,
but if I had the resources I would actually consider such an attack.
Again, I think we're getting off-topic with perrocoin. It hardly has
anything to do with MM.

@_date: 2014-01-09 18:19:04
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] The insecurity of merge-mining 
I'm not sure I understand all the differences between
proof-of-sacrificed-bitcoins and proof-of-sacrificed-newcoins, but I'm
still convinced this doesn't have anything to do with MM PoW vs PoW.
The idea looks very interesting and I will ask you and adam to
understand it better on IRC, but take into account that when you say
"merged mining is insecure" some people hear "merged mined altcoins
are less secure than non-MM altcoins" (which is false) and somehow
conclude "scrypt altchains are more secure than SHA256 altchains".
Whether we like it or not, many people believe that scrypt, quark or
primecoin PoW algorithms are somehow more secure than SHA256, and
claims that "merged mining is insecure" from core bitcoin developers
contribute to spread those beliefs and that no new altcoin has been
created with the intend of being merged mined for quite a while.
I'm not trying to make you or anyone here responsible for the mistakes
other people make.
But rephrasing your claims as "We're exploring new ideas for altchains
that could be more secure than MM..." sounds very different from "MM
is insecure, by the way look at this new idea..."
That's why I made the offer above.
What you point out is the reason why freicoin started without merged
mining, to grow its own independent security first, before starting to
be merged mined.
Fair enough.
Do you see any case where an independently pow validated altcoin is
more secure than a merged mined one?
The reason why I participated in the discussion was that I believe
that merged mined PoW is more secure than
completely-independent-from-bitcoin pow.
And I thought that that was the general understanding in the Bitcoin
development community.
If that's the case, we agree on what's more important to me.
About the new proposal, I don't have a firm opinion yet. I'm sorry but
I have to understand it better and think about it in more depth.

@_date: 2014-01-10 13:29:03
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] The insecurity of merge-mining 
Namecoin, Devcoin and Ixcoin are also currencies and therefore compete
with Bitcoin.
How is that even Ixcoin (clearly a scamcoin that indirectly damages
the image of Bitcoin) has survived?
My explanation is that miners aren't necessarily holders. It's certain
that there's holders who don't mind and "can't do anything about it".
In fact, I think many miners sell their mined coins for fiat to cover
their investment and costs. The profit margin is reduced as the mining
market becomes more competitive, so even for miners it will get very
expensive and risky to do stupid things.
Talking about stupid things, I don't see many bitcoiners throwing
rocks at local currency users or barter clubs nor burning down banks
to "protect their investment". Barter is just another competitor in
the media of exchange market.
What percentage of Bitcoin/Namecoin miners do you think own namecoins?
How much can they afford to lose to attack competition?
No, the "harm to the old system participants" is distributed among all
the participants, not only miners (assuming miners have any
speculative position at all).
I'm not denying that people do crazy and stupid things, but let's at
least allow the "anti-competition attacker" be equally crazy in both
Miners attacking "competition" for one or more of the chains they mine
are acting irrationally in both cases.
You're trying to rationalize the actions of the MM attackers, but
they're just being stupid, since if they weren't, they would just try
to maximize profits.
I have many other explanations for the few currencies that died with
MM (can you remember any name?). At the beginning all altcoins were
much smaller and easier to attack, all of them. Bitcoin mining pools
didn't wanted to update to merged mining and didn't acted very
rationally about it.
Namecoin went through a really delicate situation just before
hardforking to MM, but now is by far the most secure altcoin of them
all, all thanks to MM.
All rational bitcoin miners should also mine namecoin. Period. All
those who consider it competition with their current Bitcoin
speculative position, should just "attack in the market" by selling
the namecoins as soon as they get them.
Providing security for a chain DOES NOT give it an utility or rise its demand.
Operation COSTS DO NOT CAUSE VALUE.
About Luke-Jr's thinking, I don't think it's along those lines.
If you create a new chain for the long term, you should try to
maximize its security and that currently means you should merged mine
with bitcoin.
The main rational reason to never do merged mining is to prevent
competitive and rational miners from crashing the price of your
currency, which is everything a scamcoiner cares about, the price and
market cap.
Of course Luke-Jr can correct me if that's not how he thinks.

@_date: 2014-01-10 13:37:26
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] The insecurity of merge-mining 
You don't have to MM from birth. That I've already agreed is
dangerous. But if you start with SHA256, then merged mining is a
trivial fork at least 3 currencies have done successfully.
As said we plan to make Freicoin merge-mineable in the future, and we
expect to get much more security after we do.
The only "adverse" effect may be a temporary drop in price due to the
new miners selling all the frc they get until a new price equilibrates
with the demand. But that's not really "bad for the currency", just to
the holders at that moment.
If a system doesn't compensate its miners in a liquid enough way, the
system will probably be insecure, but that's another topic...

@_date: 2014-01-10 19:50:36
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] The insecurity of merge-mining 
But shouldn't your reasoning apply here so that ixcoin would be
destroyed by those who aren't even mining it. Because of the
"supposedly obvious" harm it does to Bitcoin through competition?
That's precisely my worry. Most of those guys planning to implement
random altcoins will conclude after reading you that what they need is
not merged mining but yet another independent scrypt coin, or worse,
yet another stupid PoW algorithm.
I'm approached many times with questions like "How much would it cost
to create a new altcoin?" (Thanks, BlueMatt for creating coingen!!).
I try to explain them that there's more currencies beyond p2p
currencies and they probably don't need that. I talk them about local
currencies, colored coins or open transactions as solution that
probably fit their needs much better without the need to bootstrap and
antire economy with a network of computer that consumes plenty of
If none of that fits them (say, for crazy experiments like datacoin or
gridcoin), I recommend them merged mining because is more secure for
them, more secure for bitcoin, and better for the environment and
everyone in general.
Still, for some reason a new non merged mined chain is the most popular choice.
Less efficient, less secure, more popular.
I wonder if devs warning against merged mining or making stupid
predictions like "bitcoin's PoW algorithm won't survive the year" have
anything to do with that...
The harm TO THE MINERS alone (again, assuming they have any position
at all in the coins they're mining) is less than the "total harm" to
the competing system, assuming that's quantifiable at all.
Miners won't think about the "total harm", but only about their share
of harm vs their share of just mining the competing system alongside
with the old one.
Yeah, true, they will only mine if all those costs are lower than the
reward. Only the hashing is "for free".
I'm assuming that those costs are very small compared to the reward,
that is, that most of the reward pays for hashing and not validation.
Not exactly, a less secure chain can become completely useless due to
the lack of security.
What I'm saying is that a useless chain is still useless no matter the security.
It is possible.
At least now we know each other position in MM.
I'm not sure if the silence means that only Maaku and Luke-Jr agree
with me on merged mining, that it is you who are more alone than me on
this one, or if it's just that not many people had taken the time to
think about this...

@_date: 2014-01-22 23:10:16
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Combining big transactions with hash-only 
Maybe I'm missing something.
How do miners validate blocks if they only receive the hashes of the
Will they mine on top of a block when they don't know if it's valid?

@_date: 2014-07-04 22:21:42
@_author: =?UTF-8?B?Sm9yZ2UgVGltw7Nu?= 
@_subject: [Bitcoin-development] ASIC-proof mining 
I assumed this was obvious and self-evident for anyone who knows what
a Turing machine is, but judging from the number of smart people
wasting their time on the pursue of the "anti-ASIC" myth (also known
as pow wankery) it seems I was wrong.
Anything you can do with software you can do with hardware and
viceversa (you can even do it with ropes and fire in Minecraft!!)
Does this really need any proof?
I think it's the hard-pow cultists who have to provide a counterexample.
Very often you just need to query-replace "ASIC" with "specialized
hardware" to prove that what they're saying makes no sense.
Yep, I think this is the strongest argument against "hard-pow".
But unfortunately you even find people that want "anti-ASIC without
being anti-GPU", which is funny because GPU just has Nvidia and AMD
and because unlike "anti-ASIC", anti-GPU is actually possible (despite
Litecoin's Scrypt having miserably failed on both accounts).
Interestingly enough, Greg Maxwell told me that the energetc advantage
of memory-hard pow ASICs is even greater than the advantage for SHA
Anyway, I'm working on a branch to encapsulate the proof of work that
should serve people to more easily experiment with alternate proofs on
top of bitcoind's code. I plan to use it for private chains ("proof of
signature" or "proof of script" if you prefer), and although it's not
ready yet, some people may be interested or may want to give some
I don't know if it will make it into master, but by specializing
ProofOfWork with TestnetProofOfWork we could remove
Params().AllowMinDifficultyBlocks() and its checks.

@_date: 2014-07-09 00:40:00
@_author: =?UTF-8?B?Sm9yZ2UgVGltw7Nu?= 
@_subject: [Bitcoin-development] Bitcoin Protocol Specification 
There's this (not sure how complete it is):
Also there's a good introduction to technical details here:
I hope that is useful.

@_date: 2014-06-16 19:44:33
@_author: =?UTF-8?B?Sm9yZ2UgVGltw7Nu?= 
@_subject: [Bitcoin-development] instant confirmation via payment protocol 
Replace-by-fee doesn't imply the use of green addresses (there's other
solutions to 0 conf transactions in that context, for example,
"scorched earth"). And giving up the non-enforceable first-seen
default mining policy doesn't mean "giving up on the Bitcoin
experiment" either.

@_date: 2014-06-23 11:50:00
@_author: =?UTF-8?B?Sm9yZ2UgVGltw7Nu?= 
@_subject: [Bitcoin-development] Plans to separate wallet from core 
I know there are plans to separate the wallet from the core code and I
think it's a great idea that will result in cleaner and more modular
But it seems like my assumptions on how this would be done may be incorrect.
I was assuming that the wallet would consume data from a trusted
bitcoind core node using rpc or a better interface like an http rest
api (see PR So the core would take care of the hard consensus stuff, and the
wallet would maintain its own database with private keys, addresses,
balances, etc. and would consume some data contained in bitcoind's
I also assumed that the interface between wallet and core would
include queries to the UTXO (see PR  and maybe TXO (see PR
 for getting the historic balances.
As said, I'm not sure these assumptions are true anymore so I ask.
Is this the plan?
Is the plan that the wallet will use the p2p directly and maintain its
own chain database?
Well, it's something that generally interests me so if anyone can
detail the steps for separating the wallet a little bit, maybe I can
help with some of the steps.
Maybe there's no roadway yet. In that case I would like to advance
that discussion in this thread.

@_date: 2014-06-23 22:15:19
@_author: =?UTF-8?B?Sm9yZ2UgVGltw7Nu?= 
@_subject: [Bitcoin-development] Plans to separate wallet from core 
So first bitcoind will support SPV mode then we separate the wallet?
Are the core and the wallet share any code (say, the p2p messages via
a sub-repo or something)?
I thought we would first separate wallet from core (maintaining the
full-node wallet status) and then implement an optional SPV mode for
the core (and transitively for "qt-wallet", which would support both
full and SPV mode).
I'm sorry, but I still don't know what Electrum has to do with all this.
Bitcoin companies often like to interface with the network via
bitcoind nodes, what's wrong with their custom wallets consuming some
optional indexes from a bitcoind node their run themselves?
I'm not proposing a "bitcoind-client" similar to a electrum-client. I
thought it was assumed you where still going to run both the core and
the wallet and we just wanted to separate the code for better
modularity. Seriously, Mike also said something about Electrum too and
I'm really lost about what you people mean here.
Why cannot consume that data from a bitcoind node that always run alongside it?
I still don't get the plan but it feels like it won't look as DRY as I
was expecting...

@_date: 2014-06-24 13:29:28
@_author: =?UTF-8?B?Sm9yZ2UgVGltw7Nu?= 
@_subject: [Bitcoin-development] Plans to separate wallet from core 
Exactly, this is part of my point, the qt-wallet does not support SPV
operation at this point, and that complex work should be done after
the wallet is separated. Thus the first version of the separated
wallet should be functionally equivalent to today's wallet, that is, a
full node wallet (even though I understand Wladimir's arguments
against full-node wallets).
Ok, thanks. So a bitcoin core node which maintains and serves
additional indexes (say, an utxo index via rpc or something else) is
referred to as "an electrum" even though it doesn't use
electrum-server. Strange, but now I get it.
So in summary:
1) I accept the library approach over the "core-wallet protocol".
2) That doesn't necessarily mean that optionally maintaining
additional indexes in the core is not interesting for some use cases
(interesting for bitcoind, I don't care much if electrum-server
currently does this and more [with more dependencies]). Although
Pieter thinks that should also be separated into an "index node" too,
but I think that's another discussion.
3) The wallet doesn't currently operate as SPV and that work should be
done (if there's enough interest) only after the wallet is separated
from the core.

@_date: 2014-06-24 15:26:19
@_author: =?UTF-8?B?Sm9yZ2UgVGltw7Nu?= 
@_subject: [Bitcoin-development] Plans to separate wallet from core 
I think this is my main question, what's the advantage of having the
processes talking via the p2p protocol instead of something more
direct when you control both processes?
Wladimir, of course headers-first is generally good, and of course
nobody will be force to separate the code in a way he doesn't like, I
was just testing the waters to see what people had in mind, since I
realized the ideas could be more different than I had assumed.
I don't have any issues with electrum, I'm just not convinced by the
arguments that say that the indexes must be necessarily out of the
core, specially when some of them could be committed in the future.
So I'm all in favor of modularity and competing codebases, I'm just
not convinced that the "core full-node" must be necessarily restricted
to validation only (for example, I think it should maintain a minimal
and non-optimized mining functionality,even if it's only used for
testing purposes).
So far it is great that everybody seems to agree that the wallet code
needs to be separated.
Thanks everyone for sharing your views on the subject.

@_date: 2014-06-24 18:40:16
@_author: =?UTF-8?B?Sm9yZ2UgVGltw7Nu?= 
@_subject: [Bitcoin-development] Plans to separate wallet from core 
I think he means that the wallet shouldn't be running as much as it is
currently doing.
But yes, I think you're right about wallets and GUIs not necessarily
mapping 1:1.

@_date: 2014-06-25 15:33:28
@_author: =?UTF-8?B?Sm9yZ2UgVGltw7Nu?= 
@_subject: [Bitcoin-development] Proposed BIP 70 extension 
+1 on setting up the payment protocol extensions process more formally.
On the feature itself, it is interesting to note that some
complementary currencies backed by national currencies offer a
discount when converting from fiat to complementary, which has an
equivalent effect to this "discount for paying with btc". The main
difference is that in local currencies the merchants are a relatively
small group and the discount is uniform whereas here each merchant can
set his own discount. There's scientific studies on how different
currency features like these discounts affect adoption, velocity and
other variables. I can ask for them if anyone is interested.
On the implementation, I think a percentage/proportion would be
preferable over an amount in satoshis.
Let's imagine for a second that the bitcoin payment protocol ends up
being a generalized and universal payment protocol. The field would be
really something like "discount/additional_charge for paying with the
chosen currency/payment_method".
You could have 0.95 for a 5% discount or 1.05 for a 5% additional
charge. Mhmm, maybe a flat discount/charge in addition to the
proportional one...
On security, being an optional field, I don't see how can it harm anything.
It is true that the merchants can lie about the discount, but wallets
can be smart or stupid about it, or just completely ignore the field
as they wish.
Anyway, it feels like a random simple extension as an excuse to
develop the extension process. If it gets too complicated we can start
with a simpler and less critical one but it's hard for me to imagine

@_date: 2014-03-02 20:03:06
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Decentralized digital asset exchange with 
Again, the two best ways are here:
But this is off-topic, Peter wasn't talking about cross-chain trade.

@_date: 2014-03-13 11:23:04
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] moving the default display to mbtc 
No, even if bitcoin crashes to 1 usd you don't need to change back to
BTC, you can keep the existing-accounting-tools friendly micro. That's
the whole point, having "one true only unit change". You would only
need to change it if there was a sub-satoshi hardfork, which doesn't
seem necessary anytime soon.
We shouldn't make any assumptions about the future price of bitcoin to
make the decision.
This sounds very US-centric to me. Aren't you thinking in usd?
It won't look like an expensive holiday to, say, someone used to Viet
Nam Dong (VND), Uzbekistani Som (UZS) or Mongolian Tugrik (MNT).
 0.00312345
"People seem to like mBTC" is just an ad populum fallacy: millions of
flies can actually be wrong. Also you haven't showed them micros,
maybe they like it too.
So the only valid argument I've heard in favor of mBTC so far is "some
wallets/services are doing it wrong already".

@_date: 2014-03-13 17:34:15
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] moving the default display to mbtc 
You can just remove my assertion about the likeliness of the need of
sub-satoshis and the main claim still stands.
Fair enough, not US-centric but western-centric then.
In any case the "3000 micros will look like expensive" claim is still
very relative.
No, it's not. That's what I said the current adoption by some wallets
and services was the only valid argument immediately after dismantling
the actual fallacy.
Did you missed that last sentence or are you intentionally using a
straw man argument?
In summary, yes, that's point is valid, I'm not saying it isn't. I
just wanted to keep us away from the rest argument but pointing out
they are not logic.
I repeat, that's the ONLY valid argument I've heard so far.

@_date: 2014-03-16 16:22:32
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] 2-way pegging (Re: is there a way to do 
Some comments.
As discussed, "reorg proof" it's a more appropriate term since the
reorg can happen without any fraud. It also prevents the term from
being confused with the fraud proof that auditors (full nodes that
can't create blocks) produce for private chains.
In this case you can't require a side chain proof of burn to move back
to the side chain or the funds could be locked by the dishonest
private chain operator (accountant in freimarkets[1] terminology). By
allowing unilateral withdrawals, you impose on the private chain the
task of observing the side chain looking for double-spends, censoring
those transactions or maybe updating its committed utxo when it has
proofs that the coins have been withdrawn.
[1]

@_date: 2014-03-22 14:53:41
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Handling miner adoption gracefully for 
I'm not against about miners accepting transactions that have longer
data  in non-utxo polluting OP_RETURN than whatever is specified as
standard by the reference implementation, maybe it should be risen in
standard but I think it was assumed that the most common case would be
to include the root hash of some "merklized" structure.
My only argument against non-validated proof of publication is that in
the long run it will be very expensive since they will have to compete
with transactions that actually use the utxo, a feature that is more
valuable. But that's mostly speculation and doesn't imply the need for
any action against it. I would strongly opposed to against a
limitation on OP_RETURN at the protocol level (other than the block
size limit itself, that is) and wouldn't mind if they're removed from
isStandard. I didn't payed much attention to that and honestly I don't
care enough.
Maybe this encourages miners to adopt their own policies, which could
be good for things like replace-by-fee, the rational policy for
miners, which I strongly support (combined with game theory can
provide "instant" transactions as you pointed out in another thread).
Maybe the right approach to keep improving modularity and implement
different and configurable mining policies.
I thought the consensus was that op_return was the right way to put
non-validated data in the chain, but limiting it in standard policies
doesn't seem consistent with that.
The "proof of publication vs separate chain" discussion is orthogonal
to the "merged mining vs independent chain" one.
If I remember correctly, last time you admitted after my example that
merged mining was comparatively better than a separate chain, that it
was economically harder to attack. I guess ecological arguments won't
help here, but you're confusing people developing independent chains
and thus pushing them to a less secure (apart from more wasteful
setup) system design.
Coiledcoin just proofs that merged mining may not be the best way to
bootstrap a currency, but you can also start separated and then switch
to merged mining once you have sufficient independent support.
As far as I can tell twister doesn't have a realistic reward mechanism
for miners so the incentives are broken before considering merged
Proof of work is irreversible and it's a good thing to share it.
Thanks Satoshi for proposing this great idea of merged mining and
thanks vinced for a first implementation with a data structure that
can be improved.
Peter Todd, I don't think you're being responsible or wise saying
nonsense like "merged mined chains can be attacked for free" and I
suggest that you prove your claims by attacking namecoin "for free",
please, enlighten us, how that's done?
It should be easier with the scamcoin ixcoin, with a much lower
subsidy to miners so I don't feel bad about the suggestion if your
"free attack" somehow works (certainly using some magic I don't know

@_date: 2014-03-22 21:12:20
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Handling miner adoption gracefully for 
Although not having to download the whole blockchain to operate a
trust-less full node is theoretically possible it is not clear that
they will work in practice or would be accepted, and we certainly
don't have that now.
So I don't think future potential theoretical scalability improvements
are solid arguments in favor of supporting proof of publication now.
My point is that this seems relevant to competing mining policies in general.
I understand that proof of publication is not the same thing as
regular timestamping, but requiring permanent storage in the
blockchain is not the only way you can implement proof of publication.
Mark Friedenbach proposes this:
Store hashes, or a hash root, and soft-fork that blocks are only
accepted if (a) the data tree is provided, or (b) sufficient work is
built on it and/or sufficient time has passed
This way full nodes can ignore the published data until is sufficiently buried.
The attacker was of course economically irrational in my previous
example for which you didn't have any complain. So I think we can
agree that a merged mined separated chain is more secure than a
non-merged mined separated chain and that attacking a merged mined
chain is not free.
By not being clear on this you're indirectly promoting non-merged
mined altchains as a better option than merged mined altchains, which
is what I don't think is responsible on your part.
I agree that we disagree on additional non-validated data in the main
chain vs merged mined chains as the best way to implement additional
But please, you don't need to spread and maintain existing myths about
merged mining to make your case. If you insist on doing it I will
start to think that the honesty of your arguments is not something
important to you, and you just prefer to try to get people on your
side by any means, which would be very disappointing.

@_date: 2014-03-27 17:14:04
@_author: =?ISO-8859-1?Q?Jorge_Tim=F3n?= 
@_subject: [Bitcoin-development] Tree-chains preliminary summary 
I'll make sure I understand your proposal better before commenting
much on it, but at a first glance, I don't see how it is incompatible
with 2 way peg and merged mining itself.
Why wouldn't you want merged mining for the root of your tree?
A miner could only chose a leaf block at a time, but it could merged
mine with other leafs in other independent trees.
Anyway, I'll better comment on the 2 way peg and merged mining issues
raised so far.
I think that's an obscure corner case that is not likely going to ever
be implemented.
If you produce real inflation there will likely be a "bank run".
If you're going to implement something equivalent to demurrage you
should call it demurrage instead of inflation.
And that's only for the pegged coin in the side chain: BITCOINS IN THE
MAIN CHAIN WILL NEVER BE INFLATED USING 2P2.
So I think it's less confusing if we just say that 2-way peg can't
produce inflation in general, and leave "unless you explicitly
introduce an inflation mechanism" as a probably unnecessary
You don't need inflation on the side chain. You don't need to create
another currency to create another chain with different and maybe
experimental features, that's the whole point.
With merged mining, you're adding up the different created seigniorage
subsidies to the same fire to share the heat.
With 2-way peg, you don't even need to create a new p2p currency with
a seigniorage to burn on hashes or be accused of "pre-mining" as the
more ecological alternative in existence.
Your chain can secure itself on fees, just like bitcoin in the future.
Merged mining will help, but it's not the panacea and you will need to
reward miners because that's what your security ultimately depends on.
This is mostly about not burning the world, it may not be as
interesting to you as improving bitcoin's scalability but you're not
doing anyone a favor by presenting both concepts as being
incompatible, not even yourself.
If I understand it correctly, all the utxo nodes in the tree implement
the same rules so doesn't seem suitable to solve the same problems.
I understand that merged mining IS NOT a solution to scalability on
its own, having 10 independent 1MB blocks is no worse than 1 10MB
block in terms of performance vs centralization.
But maybe it's possible to have a 10 GB sharded side-chain (your
proposal) that it's merged mined with the main chain and where the
currency of the side-chain comes from.
So merged mining could help solve the scalability problem indirectly.
And 2-way peg could be a useful previous step for your proposal to be
deployed "on production", with real bitcoins without forcing all
bitcoin users to take the associated risks, only the people who opt
2 way peg doesn't require merged mining but it is assumed that merged
mining will be used since it provides more security than independent
I thought you agreed with this and your claim was just that merged
mining is less secure than "embedded consensus", something I have
never denied, my complain against "embedded consensus" is that it
doesn't seem to scale (with Bitcoin as it is today) and can't offer
many features that a hardfork merged mined chain could offer (like
those explained on our freimarkets proposal).
But since you're implying again that "merged mining is superior to
independent mining" is generally false, I invite you again to
dismantle my example
or to prove your hypothesis that "is free to attack merged mining
chains" by attacking namecoin for free. Either one will serve, my
you're not responding to any of the suggestions.
Instead, you're saying that "people defending merged mining assume
that attackers are economically rational". I think you're referring to
me and it's false.
Of course the attacker doesn't need to be economically rational. For
some unknown reason he's attacking a chain, without questioning the
rationality of the attack, I just sum costs, including opportunity
costs, because costs are all what proof of work security is about.
Please, do one of the two before continuing your merged mining
defamation campaign.
That's what the quieting periods are for.
After the widrawal, the coins are blocked until they reach maturity or
someone else provides a reorg proof invalidating the withdrawal.
We could talk about this in the 2-way peg thread, but anyway...
Let's say 80% of bitcoin miners also mine Zerocoin.
Let's say zerocoin's reward ZR is 1% of Bitcoin's Reward BR
Let's say "megahash" hashes 40% of Bitcoin's mining and is our attacker.
Previously megahash rented its hardware for 0.41 BR for each GHash/s,
because that was the market price at the time.
Now it will mine bitcoin and attack zerocoin, so it will recover 0.4
BR, leaving the costs of the attack at 0.01 BR per GHash/s (assuming
it doesn't rent additional hardware, which could also do).
Since it controls 40% of Bitcoins hashing, it controls approximately
50% of zerocoin hashing.
So megahash tries to withdraw AR coins (attack reward) and then double spend.
chain that doesn't reveal with the double spend.
After X blocks, he publishes a withdraw on zerocoin.
To collect coins from the pegged pool on bitcoin's chain, he provides
a proof that a chain including the withdraw with length at least X +
ZM (maturity in zerocoin)
To access those funds, he will have to wait BM (Bitcoin maturity)
blocks in main chain during which anyone can recover the funds to the
pegged pool in exchange of a fee that megahash has to provide itself,
by providing a chain with the same root, more work and in which the
committed utxo doesn't include the withdrawal transaction.
So with merged mining, megahash has been spending 0.01 BR per GHash/s
from block ZN to block ZN + X + ZM and the attack will still likely
fail unless it is willing to also censor all reorg proofs in the main
chain, otherwise it will has to start again when such a proof appears.
Without merged mining and maintaining the rewards, the numbers would
be practically the same, with the difference that the attacker could
sacrifice its bitcoin income (there's no reason to do it with merged
mining) to attack the independent chain more brutally (40% of bitcoin
would be 4000% of the independent chain instead of 50% like in the example).
Anyway the particular situation in which a single entity controls 40%
of the hashing power should be rare. That's potentially dangerous for
bitcoin and although changing the hashing algorithm would be painful
and risky, I would be terribly scared of that happening if I was that
entity. Letting my percentage of hash rate dilute as others grow would
definitely be part of my plan.
Although this is again completely orthogonal to the merged mining or
not discussion, hashing algorithms are often mixed in the discussions
against merged mining. If you had to introduce that hashing algorithm
hardfork change you will probably chose something with similar
properties than those of SHA256, like being easy to implement
specialized hardware for it. You could even chose a memory-hard
algorithm if you want to promote ASIC production centralization, but
you can't chose an "anti-ASIC" algorithm because those don't exist.
It is well known that any information machine that can be built with
software can also be built with specialized hardware and viceversa.
Sadly that kind of fallacy is often used to justify the ecological
crime that starting a new chain with no plans of doing merged mining
But as said this is orthogonal to sharded chains, 2 way peg and
merged mining, which are also only indirectly related with each other.
Yes, snarks could do wonders. For 2-way peg too, SPV proofs could
become full proofs and headers compression could probably improve a
lot as well.
But let's find out everything that can be done without snarks first.
Mhmm, if miners don't validate, they risk to mine on top of
invalid blocks. Are you saying they don't care about that?
