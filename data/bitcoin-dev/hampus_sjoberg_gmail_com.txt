
@_date: 2016-12-04 21:37:39
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] Forcenet: an experimental network with a new 
AFAICT this was fixed in this commit:
2016-12-04 21:00 GMT+01:00 adiabat via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2016-12-10 13:05:22
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] Managing block size the same way we do difficulty 
propagation time is
Is block propagation time really still a problem? Compact blocks and FIBRE
should help here.
I agree.
However, I believe that on-chain scaling will be needed regardless of which
off-chain solution gains popularity.
2016-12-10 11:44 GMT+01:00 s7r via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2017-12-19 14:11:24
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] A DNS-like decentralized mapping for wallet 
Most solutions only work with a single Bitcoin address (terrible for
privacy, and also potentially a security risk) or xpubkey (also terrible
for privacy).
I think the best solution here is some kind of store-and-forward server,
where you trade a little bit of privacy (to the server, that is), but get
the convenience of using (for example) an email address as the account.
I like for example BIP75 for this, and I hope the community can work
towards a solution like this. This could potentially work good with LN as
well. 2017-12-19 10:05 GMT+01:00 Damian Williamson via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2017-02-13 12:21:44
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] BIP - 'Block75' - New algorithm 
any size (within the current limit), thus triggering the conditions by
which your proposal would raise the limit further.
There might be a long term incentive to keep increasing the blocksize, to
further centralize the network (and kick smaller miners out), but it comes
with the cost of losing out on transaction fees.
Miners have always needed to plan for the short term, I see no rational
scenario where miners would spam their blocks with their own transactions
(or low fee transactions) to keep increasing the blocksize limit.

@_date: 2017-07-05 21:44:27
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] Height based vs block time based thresholds 
visible and acknowledged. Blocks without the applicable bit set are invalid
during this period
Luke, it seems like the amendments to BIP8 make it drastically different to
how it first was designed to work.
It now looks more akin to BIP148, which was AFAICT not how BIP8 was
originally intended to work.
Perhaps this should be made into its own BIP instead, or make it so it's
possible to decide how the LOCKED_IN state should work when designing the
2017-07-05 6:10 GMT+02:00 Luke Dashjr via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2017-07-13 15:17:13
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] Drivechain RfD -- Follow Up 
In softforks, I would argue that 100% of all nodes and miners need to
upgrade to the new rules.
This makes sure that trying to incorrectly spend an "AnyOneCanSpend" will
result in a hardfork, instead of a temporary (or permanent) chainsplit.
With drivechains, it seems like the current plan is to only let the nodes
that are interested in the drivechain validate the other chain, and not
necessarily 100% of the network.
I guess this could be any percentage of the network, which could lead to a
temporary/permanent chainsplit depending on how many percentage of the
miners are also validating the other chain (am I missing something here?).
I have no way to evaluate if this is an okay trade-off.
It seems like major disruption could very likely happen if say only 5% of
all fullnodes validate the drivechain.
To be fully secure, it seems like 100% of all nodes should also have a
fullnode for the drivechain as well...
This is one of the reasons I don't advocate sidechains/drivechains as a
scaling solution, it looks like it would have to the same outcome as a
blocksize increase on the mainchain, but with more complexity.
I think sidechains/drivechains could be useful for other things though.
Thanks for all your work so far Paul.
2017-07-13 4:58 GMT+02:00 Paul Sztorc via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2017-07-13 15:39:40
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] how to disable segwit in my build? 
is to avoid having to deal with the extra bandwidth that segwit could
require.   Running a 0.14.2 node means being ok with >1MB blocks, in case
segwit is activated and widely used. Users not interested in segwit
transactions may prefer to keep the cost of their node lower.
If the majority of the network decides to deploy SegWit, it would be in
your best interest to validate the SegWit transactions, because you might
will be downgraded to near-SPV node validation.
It would be okay to still run a "non-SegWit" node if there's no SegWit
transactions in the chain of transactions for your bitcoins, otherwise you
cannot fully verify the the ownership of your bitcoins.
I'm not sure the practicality of this in the long run, but it makes a case
for having an up-to-date non-SegWit node, although I think it's a bit of a
2017-07-13 15:11 GMT+02:00 Federico Tenga via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2017-07-14 00:50:32
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] how to disable segwit in my build? 
equally to any pre-segwit node, yes?   So let's say I am running 0.13.0
and someone sends me bitcoins to a P2PKH address, but that person
previously received them to a P2WPKH address.
Yes, this applies to all non-SegWit nodes.
but obviously will not perform any segwit related validation, thus those
inputs are not fully validated.
So you have two choices to be fully secure:
1. Validate using the new rules of the network (in other words, run a
SegWit node)
2. Avoid any chain of transaction that contains a SegWit transaction
thinks they are valid at all given that it does not understand P2WPKH
address format, so either it doesn't need to, or P2WPKH is somehow
already valid.
So how softforks often work is that you make the transaction appear to be
always spendable for old nodes, regardless if it really was spendable or
not. This will make sure it is a softfork, the update is backwards
If it would be the other way around, if new rules that the node doesn't
understand would always be invalid, it would be hardfork, which is what
we're trying to avoid in the first place.
someone can point me towards a document that explains it I'd be happy to
read that.
So the witness program is encoded in a new format that old nodes do not
This means that for old nodes, a number >0 will be put on the stack. When
the script is done, it will be evaluated to true (because of >0) and be
counted as a valid spend.
 also
explains the new witness program more in detail (I left out some details in
my explanation).
2017-07-13 23:58 GMT+02:00 Dan Libby via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2017-07-14 10:52:42
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] how to disable segwit in my build? 
any party I have ever transacted with (or otherwise knows an address of
mine) can send me coins at any time.  So it seems the only possible way
to be certain is to run a node that has never published an address to a
3rd party.  Is that accurate?
Yes, as soon as you receive new Bitcoins, there's a chance that they have
been in a SegWit transaction at some point.
I'm not sure if you can see the chain of transactions for an address in
bitcoin-cli, but if that is possible, you should be able to double check
the transaction types.
actually rejects such tx, but then I have modified consensus rules
myself, thus defeating the goal of remaining with status-quo rules, and
anyway the rest of the network would accept the tx.  I guess the benefit
is that I could be certain of the remaining funds I have.
Hmm yes, if you reject a such transaction, you'll hardfork the network.
If you ignore it in your wallet, you'll be safe, but you'll lose those
bitcoins ofc.
It's a difficult situation.
construct a "certain balance" and an "uncertain balance".
Should be possible.
You're welcome!
I personally very much like and want SegWit, but I respect people that
wants to maintain the status quo, it's what will make Bitcoin strong in the
long run.
2017-07-14 1:20 GMT+02:00 Dan Libby via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2017-06-20 18:49:38
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] Miners forced to run non-core code in order to 
I don't think it's a huge deal if the miners need to run a non-Core node
once the BIP91 deployment of Segwit2x happens. The shift will most likely
be temporary.
I agree that the "-bip148"-option should be merged, though.
2017-06-20 17:44 GMT+02:00 Erik Aronesty via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2017-06-21 00:15:59
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] Miners forced to run non-core code in order to 
Well, they're doing some kind of "pre-signaling" in the coinbase at the
moment, because the segwit2x project is still in alpha-phase according to
the timeline. They're just showing commitment.
I'm sure they will begin signaling on version bit 4/BIP91 as well as
actually running a segwit2x node when the time comes.
Segwit2x/BIP91/BIP148 will orphan miners that do not run a Segwit2x (or
BIP148) node, because they wouldn't have the new consensus rule of
requiring all blocks to signal for segwit.
I don't believe there would be any long lasting chainsplit though (because
of the ~80% hashrate support on segwit2x), perhaps 2-3 blocks if we get
2017-06-20 23:49 GMT+02:00 Gregory Maxwell via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2017-06-21 00:53:29
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] Miners forced to run non-core code in order to 
I agree.
This is the latest code regarding BIP91 that got merged,
 so that should be the spec we
need to follow (also the old BIP91 PR:
Perhaps James Hilliard could give input here though.
2017-06-21 0:34 GMT+02:00 Gregory Maxwell :

@_date: 2017-03-24 18:37:25
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] Defending against empty or near empty blocks from 
I don't think this is a good idea, mempool is different from node to node
and is not a part of the consensus.
2017-03-24 18:29 GMT+01:00 Nick ODell via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2017-05-19 15:13:03
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] A proposal to reintroduce the disabled script 
AFAICT, re-enabling these old OP-codes would require a hardfork.
If we had SegWit enabled, we could via a soft fork allocate new OP-codes
for the same functionality (by introducing a new version of Script).
I believe the Elements alpha project has been experimenting with
re-enabling old OP-codes: 2017-05-19 8:07 GMT+02:00 Mark Boldyrev via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2017-05-22 11:23:22
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] Barry Silbert segwit agreement 
I'm really happy to see people trying to cooperate to get SegWit activated.
But I'm really unsure about the technicalities about Silbert's proposal.
If we're going to do a hardfork, it makes most sense to assist Johnson in
his spoonnet/forcenet proposals.
Just doing a simple 2MB without fixing anything else is very uninteresting,
and a hardfork without addressing replay protection seems really
unprofessional to me.
And proposing a hardfork in 4 months in the future, is completely insane.
You cannot expect a 100% of all nodes in P2P network to upgrade in 4 months.
I think it's much better to activate BIP141 ASAP, and then hardfork to 2MB
September 2018, or 2019 (together with forcenet/spoonnet).
And if not, BIP148 is gaining momentum once again so that sounds much more
2017-05-22 8:12 GMT+02:00 shaolinfry via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2017-05-23 11:47:48
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] I do not support the BIP 148 UASF 
from what? I am somewhat genuinely befuddled by those who can't even allow
a user config switch to be set.
Indeed. It seems silly. If you're activating the switch, you're most likely
fully aware of what you're doing.
I also saw some very harsh rhetoric being used against BIP148, which seems
unjustified as we have no idea yet how it all will play out. We can only
2017-05-23 6:03 GMT+02:00 Steven Pine via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2017-11-03 13:59:46
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] Simplicity proposal - Jets? 
Thank you for your answer, Russel.
When a code path takes advantage of a jet, does the Simplicity code still
need to be publicly available/visible in the blockchain? I imagine that for
big algorithms (say for example EDCA verification/SHA256 hashing etc), it
would take up a lot of space in the blockchain.
Is there any way to mitigate this?
I guess in a softfork for a jet, the Simplicity code for a jet could be
defined as "consensus", instead of needed to be provided within every
script output.
When the Simplicity interpretor encounters an expression that has a jet, it
would run the C/Assembly code instead of interpreting the Simplicity code.
By formal verification we would be sure they match.
2017-11-03 2:10 GMT+01:00 Russell O'Connor via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2017-09-07 11:56:19
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] SF proposal: prohibit unspendable outputs with 
Forbidding 0 satoshi outputs (I wasn't actually aware that it was possible,
is 0 satoshi inputs also allowed?) would complicate a divisibility increase
softfork (I'm working on an idea for >= 1 satoshi transactions, but now it
seems like < 1 satoshi transactions would work too).
I don't think it's a good idea to deploy this softfork.
2017-09-07 5:41 GMT+02:00 CryptAxe via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2019-04-26 11:38:03
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] Improving Pre and Post Merging Abilities With 
Bitcoin is a consensus critical system.
We have already had consensus problems between Bitcoin Core-versions,
rewriting everything in another language would expose us to even greater
risks, and moving to a language like Python I see no benefit whatsoever.
Den tis 23 apr. 2019 kl 16:47 skrev Ahmer Regos via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2019-02-14 23:32:17
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] Implementing Confidential Transactions in 
Hi ZmnSCPxj.
set, and extension blocks (which are invisible to pre-extension-block
fullnodes) means that fullnodes no longer have an accurate view of the UTXO
although pre-SegWit fullnodes could be convinced that a particular UTXO is
anyone-can-spend even though they are no longer anyone-can-spend.
There's a way to do CT without an extension block and while still
maintaining a correct UTXO set for old nodes. Perhaps it is similar what
you meant with this comment (I believe you don't need to do a hardfork
transactions with a value more than this counter, thus preventing inflation
even if a future QC breach allows confidential transaction value
commitments to be opened to any value.
Anyway, the method goes like this:
Funds that go in to CT-mode are placed in a consensus/miner controlled
reserve pool. To go out from CT back to normal, funds are then transferred
back to the user from this pool.
CT transactions seen from a non-upgraded node will be a transaction with 0
sat outputs. The actual rangeproof commitment could be placed in the script
output or perhaps somewhere else.
To enter CT-mode, you'll need to make a commitment. The transaction
contains two outputs, one to the reserve pool containing the funds that can
only be reclaimed when you go back to normal and one CT-output that you can
start doing CT transactions from.
I believe this could be made seamlessly with just a new bech32 address
specifically for CT. Sending to a CT address could be done as easily as
sending to a P2SH. In other words, it doesn't have to be two steps to send
to someone over at CT space.
intended functionality becomes impossible.
is very noisy about how older fullnode versions will simply stop working.
Regarding normal extension blocks, I think it is definitely better than a
hardfork since there's no way to be derailed from the network, even though
you do not understand the rules fully.
Sidenote, I think Trey Del Bonis is right regarding the terminology here,
evil softforks/soft hardforks usually mean that you abandon the old chain
to force all nodes to upgrade (
Den tis 12 feb. 2019 kl 13:49 skrev ZmnSCPxj via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2019-11-11 17:08:43
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] Dynamic MaxBlockSize - 3 Byte Solution 
blocksizes anymore really.
Regardless of the current proposal in this email thread, just because we
have Lightning doesn't mean we don't ever have to increase the blocksize
Even with Lightning there would be too many channel open and closes to be
able to handle million users without transaction fees going through the
I am advocating to keep the blocksize low right now, but I don't leave out
in increasing it in the future when we have a need for it, preferably via
an extension block (softfork).
Den fre 8 nov. 2019 kl 15:44 skrev Emil Engler via bitcoin-dev <
bitcoin-dev at lists.linuxfoundation.org>:

@_date: 2019-11-11 18:10:16
@_author: =?UTF-8?Q?Hampus_Sj=C3=B6berg?= 
@_subject: [bitcoin-dev] Dynamic MaxBlockSize - 3 Byte Solution 
I agree, but I don't think it's a good idea to softfork it to lower than 4M
WU though, and I don't think we need to;
hopefully when exchanges start using Lightning or Liquid, avg blocksize
will go down.
real gain. When the time comes, the block size should be increased only
a hardfork.
It depends on how you define soft and hardforks, I suspect you don't see
extension blocks as a softforks because old nodes won't maintain a correct
UTXO set.
I think an extension block is a softfork because old nodes will still be
able to follow the mainchain.
I don't know if a blocksize increase hardfork will get consensus as the
idea has been ruined by all malicious hijack attempts we've seen over the
Den m?n 11 nov. 2019 kl 17:47 skrev Luke Dashjr :
