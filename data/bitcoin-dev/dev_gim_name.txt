
@_date: 2011-07-15 02:48:24
@_author: =?utf-8?B?U3TDqXBoYW5l?= Gimenez 
@_subject: [Bitcoin-development] Listing of generation transactions 
Hello all,
After reading pull/417, I'm noticing that generation transactions
always appear twice in listtransaction output:
 * one item with account "" and category "generate"/"imature"/"orphan",
   plus some transaction data.
 * one with the account associated to the destination address and
   category "received", plus the same transaction data.
Both items have the same txid.
Is this the intended behavior or should the second be removed?
Also, why is account "" enforced in the first item?
(Wrong assumption that coinbase is always built from the client
Last, it happens that {list,get}receivedby{address,account} commands
never list or take into account generation transactions. I'm not sure
how the help message associated to those commands should be
understood. As a user, I would assume that generated transaction are
included in these listings/amounts.
Is all this related with some issues encountered by E-wallet

@_date: 2011-07-15 18:08:34
@_author: =?utf-8?B?U3TDqXBoYW5l?= Gimenez 
@_subject: [Bitcoin-development] Listing of generation transactions 
Sorry! the item duplication was due to the pull. (very stupid me)
The issue with account "" remains.
For coinbase transactions, we may list one "generated" item per txout
that corresponds to an owned address. Accounts would be associated
accordingly, in the same way as for usual "received" amounts. Account
balances would also take into account these generated amounts in the
obvious way.
Would that be ok? I think few people rely on these specific details,
and they would be happy with such a change. Moreover, this would
actually simplify the code a little bit.

@_date: 2011-07-16 21:59:07
@_author: =?utf-8?B?U3TDqXBoYW5l?= Gimenez 
@_subject: [Bitcoin-development] [RFC] listtransactions reformatting 
You may have a look at the following proposal. It associates
generations txouts with the appropriate addresses and accounts.
(See my previous mail)
Either this, or maybe webservices should be told to forget about
categories and to rely only on the sign of the amounts. Maybe a "type"
field with values "credit"/"debit" could help them? This way, more
categories could be added later (escrow transactions, or other scripts
that might be standardized).
An official API guide (not just a technical reference) would be very
valuable here.
Last, I agree that {list,get}receivedby* should include generated
amounts, because there is currently no way to do this for
generations. (This issue is not addressed by my patch yet)
