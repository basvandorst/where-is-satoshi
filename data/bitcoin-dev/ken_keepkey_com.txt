
@_date: 2016-08-23 13:54:50
@_author: Kenneth Heutmaker 
@_subject: [bitcoin-dev] BIP Status updates (including to Active/Final 
Multibit is adding detection of the NODE_BLOOM bit in the next 2-3 weeks.
SPV is kinda broken if the wallet doesn?t do this detection. If your wallet connects only to nodes that don?t support bloom filtering, the wallet never gets updates. We have had a spike in users reporting that their wallet isn't getting updated. To compound the problem, they rescan the blockchain and lose all of their transaction history. It has caused much panic among less technical users.
We believe that failing to detect the NODE_BLOOM bit is the culprit, although it is non-deterministic, so we aren't certain.
I imagine that other SPV wallets are having similar issues. BIP 111 really isn?t optional at this point, so it should be marked final.

@_date: 2016-05-14 10:37:02
@_author: Kenneth Heutmaker 
@_subject: [bitcoin-dev] Bip44 extension for P2SH/P2WSH/... 
If that is the case, the wallet is not following the standard. The wallet hierarchy standards like BIP44 specify how to walk an address chain. They all specify that you should keep going until you don?t find any more used keys within the lookup window. If a wallet leaves gaps that are too big, that is also not compliant.
In any case, if the sweeping wallet understands how the ?old? wallet uses the hierarchy, it can be safely swept without a potential loss of funds.
Yes, wallets with more addresses take more time to process.
Some wallets do and for those that don?t, implementing it is straight forward if it already implements BIP32. It?s just a matter of knowing how the old wallet uses the hierarchy and prioritizing the work.
Both TREZOR and KeepKey have developed strategies to prevent MITM attacks during seed recovery. TREZOR asks for the words in a random order and in some cases, adds ?noise? words. KeepKey uses a rotating substitution cipher.
I don?t think it is as hard as you think. If a wallet uses BIP32 HD, all of the hard code is already implemented. It is just a matter of stringing the correct sequence of steps together.
Also, if the new hierarchy is under a separate purpose code as specified in BIP43, there is no need to create new seed. The BIP44 hierarchy and the new hierarchy can be extended from the same seed.
Ken Heutmaker, KeepKey
