
@_date: 2019-04-19 13:53:51
@_author: Michele Federici 
@_subject: [bitcoin-dev] Using the same public keys, 
returned by `createmultisigaddress`
Hi everyone,
I'm writing here because I didn't find any resources in the docs or
somewhere else online explaining this, I don't get if this is a bug or
I'm missing something.
I was working on a function to derive the pay-to-script-hash from a
multisig script and I was checking the results against the bitcoin
core's `addmultisigaddress` output, although I was quite sure that my
implementation was correct, my output address was different.
By chance, I then tried the `createmultisigaddress` method, using the
same public keys, and this time the output was matching with mine.
I thought the outputs of `addmultisigaddress` and
`createmultisigaddress` were supposed to be the same, but instead are
inconsistent from each other:
bitcoin-cli addmultisigaddress 1
"address": "36ULucjWUTrDvaJzCyhFoVbDoNS6Zum2Du",
bitcoin-cli createmultisig 1
"address": "3GiimyxF1R5VixfBFAbQZbuy9EesD2r6n1",
I was also pretty confused by the fact that the `redeemScript` is the
same, only the addresses are different, and calling `decodescript` with
it I get the same address as `createmultisig`:
bitcoin-cli decodescript
"asm": "1
0224a4dc5620714a9ecf67a09583d1e4c04f5bedb8ecea99028da05bb15a2a7e07 3
"reqSigs": 1,
"type": "multisig",
"addresses": [
"p2sh": "3GiimyxF1R5VixfBFAbQZbuy9EesD2r6n1"
I don't understand, how can this be possible?
Thank you,
