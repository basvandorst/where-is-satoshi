
@_date: 2018-05-23 18:04:34
@_author: Conner Fromknecht 
@_subject: [bitcoin-dev] BIP 158 Flexibility and Filter Size 
Hi all,
Jimpo, thanks for looking into those stats! I had always imagined that there
would be a more significant savings in having all filters in one bundle, as
opposed to separate. These results are interesting, to say the least, and
definitely offer us some flexibility in options for filter sharding.
So far, the bulk of this discussion has centered around bandwidth. I am
concerned, however, that splitting up the filters is at odds with the other
goal of the proposal in offering improved privacy.
Allowing clients to choose individual filter sets trivially exposes the
type of
data that client is interested in. This alone might be enough to
fingerprint the
function of a peer and reduce anonymity set justifying their potential
Furthermore, if a match is encountered, and block requested, full nodes have
more targeted insight into what caused a particular match. They could infer
the client received funds in a particular block, e.g., if they are only
output scripts.
This is above and beyond the additional complexity of now syncing,
and managing five or six distinct header/filter-header/filter/block chains.
I agree that saving on bandwidth is an important goal, but bandwidth and
are always seemingly at odds. Strictly comparing the bandwidth requirements
a system that heavily weighs privacy to existing ones, e.g. BIP39, that
don't is a
losing battle IMO.
I'm not fundamentally opposed to splitting the filters, I certainly see the
arguments for flexibility. However, I also want to ensure we are
considering the
second order effects that fall out of optimizing for one metric when others
On Wed, May 23, 2018 at 10:29 Gregory Maxwell via bitcoin-dev <
