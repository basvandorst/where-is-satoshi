
@_date: 2014-05-05 22:42:02
@_author: Srintuar 
@_subject: [Bitcoin-development] Bug in key.cpp 
I think i see a bug:
line 273 of key.cpp
        if (rec<0 || rec>=3)
            return false;
Afaict, 3 is a perfectly valid value, meaning 25% of sig-> key recoveries
would fail erroneously...

@_date: 2018-10-14 15:52:25
@_author: Srintuar 
@_subject: [bitcoin-dev] BIP for segwit compatibility URIs 
An extremely simple BIP write-up for a backward compatible URI scheme to
help with segwit adoption by online stores and merchants.
This BIP is a modification of an earlier [[bip-0021.mediawiki|BIP 0021]] by
Nils Schneider and Matt Corallo
This BIP proposes a URI scheme which allows for backward compatibility with
native segwit (bech32) wallets and legcy wallets (base58)
The purpose of this URI scheme is to enable all users to easily make
payments from any wallet, without allowing backward compatibility to be a
barrier to segwit adoption. This BIP allows a merchant to preferentially
receive payments to a bech32 address, while gracefully allowing older
clients to make base58 encoded payments.
=== Query Keys ===
*addr: an alternative bitcoin destination which is preferred over the
"bitcoinaddress" field of the url
== Appendix ==
=== Simpler syntax ===
 bitcoin:[?amount=][?label=][?message=][?addr=]
=== Examples ===
Just the address:
 bitcoin:3BnsWZiTdYVrqiPh2RP3q9Y3ZqvhbCN2it?addr=bc1q5u92yq20hss4rc99mfu23h4dxkxn4uuyqd5dzy&amount=50&label=Luke-Jr&message=Donation%20for%20project%20xyz
== Reference Implementations ==
=== Bitcoin clients ===
* none yet

@_date: 2018-10-18 19:58:54
@_author: Srintuar 
@_subject: [bitcoin-dev] BIP for segwit compatibility URIs 
I was inclined towards the shortest possible encoding, even just a single
letter "a", mainly to reduce the amount of bytes required to form a QR
code.That said, "address" is more self-explanatory. Perhaps I will include
some sample QR code sizes for typical use cases, and see if it stays
As multiple keys of the same name would not be supported easily in many
wallets, a delimited is probably preferable.
I will update the BIP proposal and send it again.

@_date: 2018-10-18 20:29:42
@_author: Srintuar 
@_subject: [bitcoin-dev] Reformatted BIP proposal for address backward 
I have included the comma delimited list in the proposal this time.
It occurs to me that it is simpler to just include the desired destination
script, so I included that as well as an alternative.
Perhaps that should be included as an option in the spec, at the risk of
additional complexity. Alternatively, it could replace the entire
A simple BIP writeup for a backward compatible URI scheme to help with
segwit adoption by online stores and metchants.
This BIP is a modification of an earlier [[bip-0021.mediawiki|BIP 0021]] by
Nils Schneider and Matt Corallo
This BIP proposes a URI scheme which allows for backward compatibility with
native segwit (bech32) wallets and legacy wallets (base58)
The purpose of this URI scheme is to enable all users to easily make
payments from any wallet, without allowing backward compatibility to be a
barrier to segwit adoption. This BIP allows a merchant to preferentially
receive payments to a bech32 address, while gracefully allowing older
clients to make base58 encoded payments.
A comma separated, ordered list of preferred addresses is supplied as
alternatives to the address field from BIP21. The list is ordered from most
preferred to least, with the BIP21 address implicitly last. Senders should
send to the first address which they know how to send to.
=== Query Keys ===
*address: an ordered list bitcoin destination which is preferred over the
"address" of the url, in order from most preferred to less, with the url
address value as least preferred
=== ABNF Grammar ===
    bitcoinaddress = base58 / bech32 /     bitcoinaddresslist = bitcoinaddress [ "," bitcoinaddresslist ]
== Appendix ==
=== Simpler syntax ===
 bitcoin:[?amount=][?label=][?message=][?address=]
=== Examples ===
Just the address:
 bitcoin:3BnsWZiTdYVrqiPh2RP3q9Y3ZqvhbCN2it?address=bc1q5u92yq20hss4rc99mfu23h4dxkxn4uuyqd5dzy
 QR size: ~370 bytes
The address and other fields:
 bitcoin:3BnsWZiTdYVrqiPh2RP3q9Y3ZqvhbCN2it?addr=bc1q5u92yq20hss4rc99mfu23h4dxkxn4uuyqd5dzy&amount=50&label=Luke-Jr&message=Donation%20for%20project%20xyz
 QR size: ~470 bytes
Multiple addresses:
 bitcoin:3BnsWZiTdYVrqiPh2RP3q9Y3ZqvhbCN2it?address=bc1qq82ajthl5mlm50h6x70esvxs7atp3vfnjwp8z5kjdepsjqqw3zcs9u4nnp,bc1q5u92yq20hss4rc99mfu23h4dxkxn4uuyqd5dzy
 QR size: ~540 bytes
== Reference Implementations ==
=== Bitcoin clients ===
* none yet
== Alternative Proposal ==
Just include the desired script itself, encoded as hex:
 bitcoin:3BnsWZiTdYVrqiPh2RP3q9Y3ZqvhbCN2it?script=0014a70aa2014fbc2151e0a5da78a8dead358d3af384
=== Pros ===
* Infinite forward compatibility with any future script design
* Raw hex encoded scripts are short, and thus would make easy to scan images
* no need for list processing, or multiple alternatives
=== Cons ==
* address encoding features including checksum and network identification
would be absent
* errors in script formation not detectable by the sender; risk of funds
loss if the script is spendable but incorrect
* all error detection depends on the QR code or other transmission medium
* A separate top level uri scheme, such as bitcoinscript: might be
more appropriate, but would cost backwards compatibility
