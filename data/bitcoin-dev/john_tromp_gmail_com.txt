
@_date: 2019-09-19 13:16:36
@_author: John Tromp 
@_subject: [bitcoin-dev] Timelocks and Lightning on MimbleWimble 
MimbleWimble can easily incorporate relative lock heights, in addition
to absolute lock heights. Grin and Beam have included the latter since
Grin's proposal for relative lock heights is at [1] with discussion at [2].
Based on these, Grin also has a rough design for payment channels at [3].
Beam included relative lock heights in its recent HardFork [4] and has
a payment channel design at [5].
[1] [2] [3] [4] [5]

@_date: 2019-09-19 17:47:12
@_author: John Tromp 
@_subject: [bitcoin-dev] Timelocks and Lightning on MimbleWimble 
dear ZmnSCPxj,
The "magic shrinking" of MW never applied to kernels. To validate the
current UTXO set, you need to validate *all* the kernels, each of
which is a Pedersen commitment to zero together with a Schnorr
signature using said commitment as public key. Then you need to check
that the sum of UTXO commitments (outputs) minus the summed block
rewards times G (inputs) equals the sum of kernel commitments.
Basically, the same check that is applied to individual transactions.
Yes, Beam's design is a straightforward port of Poon-Dryja.
The Grin "Elder channel" design of [3] is similar in spirit to eltoo
though, as the revocation transaction can be combined with the final
close transaction to counter any closing attempt to an obsolete state.
The design also offers some bandwidth savings compared to the
Poon-Dryja design.
Correct; lack of scripts is not as much of a handicap for MW as it
appears. Multi-sig, atomic swaps, and payment channels are all

@_date: 2019-09-20 14:47:37
@_author: John Tromp 
@_subject: [bitcoin-dev] bitcoin-dev Digest, Vol 52, Issue 15 
Non-interactive aggregatability depends on the signature scheme.
Schnorr doesn't support it, whereas something like BLS signatures does.
The original paper excludes the use of the latter with the remark
"And also imagine that we must not pairing-based cryptography or new
hypotheses, just regular discrete logarithms signatures like Bitcoin."
Schnorr signatures can only be aggregated interactively though, and is
thus limited to individual transactions which are built interactively.
I must admit to never having quite understood Sinking Signatures, but
they were deemed
to have too many drawbacks for practical use.
Kernels already sign for optional additional attributes such as fee
and lock height. A relative kernel would just add a reference to
another kernel as an additional attribute. Which doesn't seem to
affect its aggregatability.

@_date: 2020-09-25 19:23:46
@_author: John Tromp 
@_subject: [bitcoin-dev] Floating-Point Nakamoto Consensus (bitcoin ml) 
Re: Floating-Point Nakamoto Consensus (bitcoin ml)
It's still cumulative. But instead of cumulating network difficulty,
they cumulate log_2(solution difficulty).
So if two solutions are found simultaneously, and one has a hash
that's only half of the other, then that will have twice the solution
difficulty and thus contribute 1 more the cumulate log_2(solution
Nothing happens in these cases, as the new blocks are still far behind
the tip in cumulative score (they just have higher score at their
