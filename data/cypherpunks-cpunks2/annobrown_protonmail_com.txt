
@_date: 2019-04-29 00:12:11
@_author: Ann Brown 
@_subject: oniontinc:  tinc via Tor v3 onions with MPTCP 
Basically, oniontinc routes tinc via Tor, and uses MPTCP for multipathing and link aggregation. tinc hosts listen for connections to Tor v3 onion services, and they connect to peers using Tor SocksPorts. MPTCP aggregates full-mesh connections between hosts, with a preference for those that have greater bandwidth and lower latency. For Internet hosts with well-peered gigabit uplinks, this permits throughput among peers at 30-50 Mbps for multiple streams.
There are bash scripts for almost everything involved in creating full-mesh oniontinc networks, using Debian hosts. The scripts draw on a simple configuration table with required information about all hosts in the network. The scripts specify subnets 10.101.1N.0/24 with N=0-5, which are part of the subnet 10.100.0.0/14 that ChaosVPN has allocated for American and other hackerspaces. But you can use any subnet that you like, such as something in 172.20.0.0/14 for dn42.
Sent with [ProtonMail]( Secure Email.

@_date: 2019-04-29 00:55:09
@_author: Ann Brown 
@_subject: oniontinc:  tinc via Tor v3 onions with MPTCP 
Forgot the url: Sent with [ProtonMail]( Secure Email.

@_date: 2019-04-29 07:07:01
@_author: Ann Brown 
@_subject: Demonstration of a tinc network linked through Tor v3 onions 
True. Still seems unlikely.
Agreed. I'll see if I can find more abandoned tickets.
I was focusing on getting something that worked well. Not on validating Tor tickets. Perhaps I'm too cynical, but I doubt that Tor Project is much interested in supporting stuff like this.
I was wondering whether OnionCat opens a new circuit for each packet stream, and whether tinc (like OpenVPN) instead uses circuits on longer timescales. I suppose that I could log that, and see.
That would be an interesting tweak. I'll look into it.
True. I'll do some more testing.
I know that. But here, once I'd decided to try tinc, using v3 onions seemed like the better option. But yes, I'll do some more testing.
OK, I'll look into it. The internal network is pretty much irrelevant to how tinc (and so this setup) works.
This is now at  by the way. It's very easy to test. All that's needed is a Debian stretch x64 VM.
True. And overlays that don't use exits, and provide alternate exits, are useful.
But it's still voluntary, right? So one can random walk until non-blocking guards are found. I have scripts for that, but didn't need them for this.
Patterns like "Hidden service [x] exceeded launch limit with 10 intro points in the last [x] seconds. Intro circuit launches are limited to 10 per 300 seconds." aren't that hard to find.
I doubt that Tor will get forked. And why should it, really? It would be far better to implement something that does a better job against traffic analysis.
Sent with ProtonMail Secure Email.

@_date: 2019-04-29 00:12:11
@_author: Ann Brown 
@_subject: oniontinc:  tinc via Tor v3 onions with MPTCP 
Basically, oniontinc routes tinc via Tor, and uses MPTCP for multipathing and link aggregation. tinc hosts listen for connections to Tor v3 onion services, and they connect to peers using Tor SocksPorts. MPTCP aggregates full-mesh connections between hosts, with a preference for those that have greater bandwidth and lower latency. For Internet hosts with well-peered gigabit uplinks, this permits throughput among peers at 30-50 Mbps for multiple streams.
There are bash scripts for almost everything involved in creating full-mesh oniontinc networks, using Debian hosts. The scripts draw on a simple configuration table with required information about all hosts in the network. The scripts specify subnets 10.101.1N.0/24 with N=0-5, which are part of the subnet 10.100.0.0/14 that ChaosVPN has allocated for American and other hackerspaces. But you can use any subnet that you like, such as something in 172.20.0.0/14 for dn42.
Sent with [ProtonMail]( Secure Email.

@_date: 2019-04-29 00:55:09
@_author: Ann Brown 
@_subject: oniontinc:  tinc via Tor v3 onions with MPTCP 
Forgot the url: Sent with [ProtonMail]( Secure Email.

@_date: 2019-04-29 07:07:01
@_author: Ann Brown 
@_subject: Demonstration of a tinc network linked through Tor v3 onions 
True. Still seems unlikely.
Agreed. I'll see if I can find more abandoned tickets.
I was focusing on getting something that worked well. Not on validating Tor tickets. Perhaps I'm too cynical, but I doubt that Tor Project is much interested in supporting stuff like this.
I was wondering whether OnionCat opens a new circuit for each packet stream, and whether tinc (like OpenVPN) instead uses circuits on longer timescales. I suppose that I could log that, and see.
That would be an interesting tweak. I'll look into it.
True. I'll do some more testing.
I know that. But here, once I'd decided to try tinc, using v3 onions seemed like the better option. But yes, I'll do some more testing.
OK, I'll look into it. The internal network is pretty much irrelevant to how tinc (and so this setup) works.
This is now at  by the way. It's very easy to test. All that's needed is a Debian stretch x64 VM.
True. And overlays that don't use exits, and provide alternate exits, are useful.
But it's still voluntary, right? So one can random walk until non-blocking guards are found. I have scripts for that, but didn't need them for this.
Patterns like "Hidden service [x] exceeded launch limit with 10 intro points in the last [x] seconds. Intro circuit launches are limited to 10 per 300 seconds." aren't that hard to find.
I doubt that Tor will get forked. And why should it, really? It would be far better to implement something that does a better job against traffic analysis.
Sent with ProtonMail Secure Email.

@_date: 2019-05-02 07:32:23
@_author: Ann Brown 
@_subject: Demonstration of a tinc network linked through Tor v3 onions 
OK, thanks. My best guess then is differences in how Tor handles v2 vs v3 onions. I can't test OnionCat with v3 onions, so I'll do tinc with v2 onions, and see how it works. > > But it's still voluntary, right?
Sent with ProtonMail Secure Email.

@_date: 2019-05-02 07:32:23
@_author: Ann Brown 
@_subject: Demonstration of a tinc network linked through Tor v3 onions 
OK, thanks. My best guess then is differences in how Tor handles v2 vs v3 onions. I can't test OnionCat with v3 onions, so I'll do tinc with v2 onions, and see how it works. > > But it's still voluntary, right?
Sent with ProtonMail Secure Email.
