
@_date: 1997-11-12 03:12:10
@_author: Andy Dustman 
@_subject: Re: Databasix conspiracy theories 
Note that these comments apply primarily to the cracker remailer. I did get one complaint from Gary Burnore about stuff being sent directly
to him. He wasn't a jerk about it, and I haven't heard a peep out of him
He's never asked us, at least. Although, when spam-baiting started hot and
heavy this summer, another Databasix employee did suggest that his address
should not appear in posts. I made it quite clear we don't check for
specific names, words, or addresses, and that he was a legitimate topic of
discussion. Never heard back after that, and this was several months ago.
If you really want the post to have the From: address of your nym, send
the post with your nym and not with the remailer as the last hop. The
point of anonymous remailers is to be anonymous. If you want to use a
psuedonym, use a nymserver.
You can at cracker. However, you can't post in From:, Sender:, Received:,
and a couple other "identifying" headers. Cracker does have a spam-bait mangler which is somewhat simpler than the
scheme Jeff used. In a nutshell, if there are an inordinately large number
of addresses (compared to other text), the addresses are mangled, i.e.,
president becomes president  whitehouse  gov.
Still human-readable but useless for address harvesters. No posts get
dropped or filtered out under this scheme, and no keywords or particular
addresses are looked for.
Andy Dustman / Computational Center for Molecular Structure and Design
For a great anti-spam procmail recipe, send me mail with subject "spam".
Append "+spamsucks" to my username to ensure delivery.  KeyID=0xC72F3F1D
Encryption is too important to leave to the government. -- Bruce Schneier
 mailto:andy   <}+++<

@_date: 1997-11-13 04:34:39
@_author: Andy Dustman 
@_subject: Re: Databasix conspiracy theories 
That's possible, and if true, it's probably in the documentation for
redneck. Personally, I would prefer to have the server handle those
messages, simply because there is a certain amount of "authentication",
i.e., you can be reasonably sure that that nym really sent the message and
wasn't forged.
Well, I'm not real happy to have to do it. It was in response to a very
active spam-baiting campaign, apparently directed at the Databasix people,
and primarily consisted of lists of addresses with no (or very little)
other text. I doubt this methodology could realistically be applied to
anything else (or that I would consider doing it for anything else).
It's not.
I agree with you in principle. I think in practice, though, not being able
do just click on the address to send mail (and then only in newsreaders
that support it) is not a huge loss of functionality, as the address is
still readable (by humans).
I really don't know. I do know when the spam-baiting campaign started, the
spam-baiters would also use the remailers to contact the people
spam-baited to let them know they had been spam-baited so they would
complain to us. (There was another set of letters going around claiming to
be pro-remailer, but I was always skeptical that that was the true
Well, I agree, and I don't do anything to messages that are mailed from
person-to-person (except drop exact duplicates). The only anti-abuse stuff
I have works on USENET posts, so it's not quite analogous to the phone
company or postal service. (I use that analogy all the time when people
complain about messages they receive.)
And I agree with you here too. I guess I'd have to or I wouldn't be
running a remailer.
Andy Dustman / Computational Center for Molecular Structure and Design
For a great anti-spam procmail recipe, send me mail with subject "spam".
Append "+spamsucks" to my username to ensure delivery.  KeyID=0xC72F3F1D
Encryption is too important to leave to the government. -- Bruce Schneier
 mailto:andy   <}+++<

@_date: 1997-11-18 06:13:52
@_author: Andy Dustman 
@_subject: Re: Databasix conspiracy theories 
There is some merit to that...
I've never really been convinced that Databasix has much to do with the
Huge Cajones fiasco. I'm not saying nobody from there is involved, though.
I'm just trying to keep an objective opinion on the subject.
That the primary target of the spam-baiting campaign was the remailer net
(one at a time), I have little doubt.
Yes, and that's how it appeared to me, as well. In fact, I really would
doubt any other possible scenario, mainly because much of the spam-baiting
was done to IP addresses (same people, different hosts), so IP addresses
were basically outlawed (if you have an IP address, you've got to have a
FQDN, right?). That and people were apparently being sent many copies of
the "warning" (to the same address). Also, the tone of the letter seemed
counter to what it was supposedly intended to accomplish, i.e., "there's
nothing you can do about it, so stop whining". OTOH, I did make a public
request for whoever it was doing it to stop, and they did seem to stop
rather shortly after that, though spam-baiting continued.
Andy Dustman / Computational Center for Molecular Structure and Design
For a great anti-spam procmail recipe, send me mail with subject "spam".
Append "+spamsucks" to my username to ensure delivery.  KeyID=0xC72F3F1D
Encryption is too important to leave to the government. -- Bruce Schneier
 mailto:andy   <}+++<

@_date: 1997-12-03 01:04:01
@_author: Andy Dustman 
@_subject: Re: Pasting in From: In-Reply-To: (3.0.3.32.19971201125046.006d2f34@popd.ix.netcom.com) 
It's probably too much effort for them to bother with. If you were a
spammer, and wanted loads of addresses, how would you get them? Headers
are the most address-rich part of the message, so you just get headers
from the server. Then you look for addresses with a regex. Looking for
mangled addresses means that now you have to have two regexes, which
increases your search time for not much benefit. No, the only ones which
will bother will be the spiteful ones...
With the address munging on USENET posts, you have to do a bit of work in
order to even find the actual forged address (look at the headers, dig out
Author-Address:, unmangle it), and by then you ought to be wondering, Did
this person really send this?
Ah. When munging, I just use: sendmail -bv -- $ADDR and then a bit of sed
magic. If anything can parse it correctly, it's sendmail. On cracker, you can paste To:, CC:, and Bcc:. All are checked against the
destination block file. At present, if a blocked address is on a list of
addresses, the entire list is blocked. Maximum number of recipients is 20,
at which point the whole thing is dropped.
Sender: we don't allow, or X-Sender: or Received: or Comments:
authenticated sender is. Reply-To: is allowed, and checked against the
destination block list. In practice, this stuff doesn't seem to be a
Andy Dustman / Computational Center for Molecular Structure and Design
For a great anti-spam procmail recipe, send me mail with subject "spam".
Append "+spamsucks" to my username to ensure delivery.  KeyID=0xC72F3F1D
Encryption is too important to leave to the government. -- Bruce Schneier
 mailto:andy   <}+++<

@_date: 1997-12-03 01:27:18
@_author: Andy Dustman 
@_subject: Re: Pasting in From: In-Reply-To: (19971202170009.20761.qmail@nym.alias.net) 
I used to require that people reply to a confirmation message before I
would block them, but it was really too much effort. I check the headers,
and as long as it looks like the request came from them, I block them and
send them a message that they are blocked, so at least if it's a spoofed
request, they will know they have been spoofed.
I do exactly that, or require a request from the internic-listed contact.
Agreed, and I think I've worked out a reasonable compromise, because even
if you do try to forge somebody, it should scream, "Hey, you should be
suspicious about where this really came from."
Andy Dustman / Computational Center for Molecular Structure and Design
For a great anti-spam procmail recipe, send me mail with subject "spam".
Append "+spamsucks" to my username to ensure delivery.  KeyID=0xC72F3F1D
Encryption is too important to leave to the government. -- Bruce Schneier
 mailto:andy   <}+++<

@_date: 1997-12-09 06:59:59
@_author: Andy Dustman 
@_subject: Re: mail2news gateway (fwd) 
The nuts are real enough, but I think this must be a troll, or from
someone really confused.
Andy Dustman / Computational Center for Molecular Structure and Design
For a great anti-spam procmail recipe, send me mail with subject "spam".
Append "+spamsucks" to my username to ensure delivery.  KeyID=0xC72F3F1D
Encryption is too important to leave to the government. -- Bruce Schneier
 mailto:andy   <}+++<

@_date: 1997-12-17 01:49:16
@_author: Andy Dustman 
@_subject: Re: hashcash spam prevention & firewalls 
I'm not sure this is doable. From what I've seen of the sendmail anti-spam
stuff and the SMTP protocol, you can't just accept the headers and then
decide whether not not to accept the rest; you either have to be able to
(at present) a) reject the message before you receive it based on the FROM
data (known spammers, bogus hostnames, etc); b) reject the messages before
you receive it based on the RCPT data (anti-relaying: is the recipient at
our site?); c) reject the message after you receive it. Obviously with
spam, you'd like to be able to reject it before it takes up bandwidth. So,
an extended protocol could require a CASH command from the client before
DATA will be accepted. The client could generate the cash on the fly, or
it could be grepped out of the headers. If you don't want to dink around with patching sendmail or whatever for an
extended protocol, then simply use a system-wide procmailrc to enforce
hashcash; procmail can generate bounces very easily (or rather, trick the
MTA into generating the bounce for it). Or, make requiring hashcash a
user-selectable option by having a publicly-available script which a user
can have included into his .procmailrc by setting some variable.
Two potentially simpler solutions: a) the client MTA could generate
hashcash on the fly as needed (like it generates Message-IDs); b) a filter
could be installed in place of the user's normal MTA which generates
hashcash. The latter is probably better (easier to implement). For
example, if the normal MTA is sendmail, then a fake sendmail could be
installed which is just a nasty little script which parses out the
recipients, generates a suitable hashcash token for each one, and inserts
the appropriate headers, and then passes the message off to the real
My preferred means of spam-blocking right now is a barrage of tests for
typical spams using procmail, combined with a reverse spam block. An
ordinary spam block is an address munge where something is added to the
address to make it undeliverable, so ordinary users have to unmunge your
address before they can mail you, i.e. andy A reverse spam block lets you use your real address for posts but requires
users to add something to your address to guarantee delivery. As my sig
indicates, if you add +spamsucks to my username, various spam filtering
features are deactivated. If I wanted to, I could bounce anything which
didn't have the +spamsucks in it. The recipe I use also uses lists of
"trusted" users (ones I don't do any spam testing on, so they don't need
the password) and "spammers" (we don't spam test these either, we just
make them bounce). Also will reject messages where I am bcc:ed (unless
from someone trusted or the password was used) or on a huge visible list
(again as before).
It works pretty darn good. I hardly get any spam. Most of what I get
bounces back to the sender with "User unknown". If the sender has a forged
From, then this bounces there, or to the site's postmaster, who
will likely take some action (but not complain to me because I don't
exist). If the From was completely bogus, then I get the bounce, but that
doesn't happen too often. I use this same system for the return address of
the cracker remailer (anon and it works pretty well, though
as of late I am munging the return address for all USENET posts a la
mail2news_nospam (which has been hugely effective); you're not supposed to reply anyway...
I would like to modify the nymserver so that users can set a reverse spam
blocking password, but just haven't gotten around to it. I'm pretty sure
it can be done, though.
Andy Dustman / Computational Center for Molecular Structure and Design
For a great anti-spam procmail recipe, send me mail with subject "spam".
Append "+spamsucks" to my username to ensure delivery.  KeyID=0xC72F3F1D
Encryption is too important to leave to the government. -- Bruce Schneier
 mailto:andy   <}+++<

@_date: 1997-12-01 07:05:39
@_author: Andy Dustman 
@_subject: Re: Pasting in From: In-Reply-To: (v03102802b0a801cade82@[206.170.115.5]) 
I've said all of this before myself, and still people want it. So there
will be two safeguards which should prevent the aforementioned problems:
1) The From: address on USENET posts will be mangled a la mail2news_nospam
to prevent spam baiting. Most of the posts I see with pasted From-Mail: lines
From-Name: from replay, in alt.privacy.anon-server use a fake address and aren't
trying to impersonate anyone. 2) Whenever a From: line is pasted, a disclaimer will be inserted at the
top of the body, stating that the original sender has set the From: line,
and that the identification cannot be verified. The fact that it is up at
the top of the body should mean people should actually see it before
3) As someone else has suggested, it does indeed insert a Sender: header
with the remailer's address.
Two basic points also about "forgeries". First, you can forge headers
pretty easily without any programs other than telnet. Second, if this
actually does become misused frequently, all I need to do is delete one
character from one file (a # in headers.del) and it will be disabled. I
consider this an experimental feature, and if it doesn't work out, I'll
just turn it back off.
Andy Dustman / Computational Center for Molecular Structure and Design
For a great anti-spam procmail recipe, send me mail with subject "spam".
Append "+spamsucks" to my username to ensure delivery.  KeyID=0xC72F3F1D
Encryption is too important to leave to the government. -- Bruce Schneier
 mailto:andy   <}+++<

@_date: 1998-01-04 11:10:50
@_author: Andy Dustman 
@_subject: Re: [RePol] Re: Remailer Logs (and Accountability) 
Type-II messages don't support latency yet (or not until fairly recently,
I can't remember). Type-I remailers don't, by default, do any reordering,
but reordering is not as useful for type-I messages (unless you remix). Cracker uses Mixmaster to reorder type-I messages. In addition to the pool
size of 5, it also will remail a maximum of half the messages present, so
in reality, the pool size floats up and down (but not lower than 5).
The odds are somewhat worse (for the attacker). In the case of the
scenario above on cracker, the odds of any given message being cycled out
of the pool (the pool is processed at six minute intervals) is generally
50% per cycle. Thus, there is a 75% chance that it has been sent by the
end of the second cycle, and therefore a 25% (.5*.5) chance that it is
still in the queue. The current RMS latency (from the remailer's own
stats) is 19.5 minutes. You want to about double that to be sure that the
message has really come out (and then, you still can't be sure), so that's
about six cycles. If we are doing 5 per cycle, then the odds are 1 in 30. A very rough estimate.  However, by my estimates, it's more like 12
messages per cycle (typically; it's variable for the reasons above), so
that runs it up to 1 in 72 or so.
(And of course, the remixing ensures that all messages are
indistinquishable, whenever possible.)
Latency occurs before reordering. Latency: +00:00 does nothing, BTW, and
it's the default. Latency: +12:00r adds a 0-12 hour random delay before
Which is probably not so hard when you record all inter-remailer traffic,
which is probably what happens somewhere.
Yep, that was part of the motivation for remixing: To keep eavesdroppers
from intercepting partially-decrypted reply blocks. It also prevents
traffic analysis based on the message section after the reply block. Reply
blocks, of course, tend to get smaller after each hop, while the message
getting delivered tends to get larger. Automatically encapsuling type-I
messages in type-II format whenever the recipient supports it prevents
this type of traffic analysis.
Andy Dustman / Computational Center for Molecular Structure and Design
For a great anti-spam procmail recipe, send me mail with subject "spam".
Append "+spamsucks" to my username to ensure delivery.  KeyID=0xC72F3F1D
Encryption is too important to leave to the government. -- Bruce Schneier
 mailto:andy   <}+++<

@_date: 1998-01-06 00:15:12
@_author: Andy Dustman 
@_subject: Re: PGP-out-only vs. hashcash aware remailers? 
It makes some sense. It's similar to what I proposed a few weeks ago with
"casual" remailers. The smart middleman portion of coerce does something
similar: If it looks like a PGP message (has the "BEGIN PGP MESSAGE" line), it doesn't chain through a random remailer but delivers directly.
I'm not sure if anyone is actually using this, though (perhaps
tea/mccain). What you seem to be proposing is sending non-encrypted
messages to /dev/null. That may yet be an option if things get bad, but I
don't think they are that bad yet. It does seem to achieve, in part, the
goals of hashcash (although it generally takes longer to generate
hashcash, depending on the collision length required). You are correct that there are easy ways to spoof PGP messages well enough
to fool a simple parser. One way around this would be to pipe any apparent
PGP messages (start and end easily detected) through PGP to de-armor only. A couple problems: PGP (2.6.x) doesn't seem to have an option to only
de-armor; a sophisticated spoofer could make the armor verify correctly
anyway by generating the correct CRC (trivial if you know what you're
doing). So it seems sensible to only consider some simple safeguards and
not worry about actually decoding the armor. Andy Dustman / Computational Center for Molecular Structure and Design
For a great anti-spam procmail recipe, send me mail with subject "spam".
Append "+spamsucks" to my username to ensure delivery.  KeyID=0xC72F3F1D
Encryption is too important to leave to the government. -- Bruce Schneier
 mailto:andy   <}+++<

@_date: 1998-01-07 01:43:05
@_author: Andy Dustman 
@_subject: Re: PGP-out-only vs. hashcash aware remailers? 
Well that would help a lot, then. Find the begin and end headers for the
PGP message, pipe it into pgp -da, throw away the output, check the exit
code, which should be set if the armor was invalid (or perhaps look at
stderr). Like I said, though, you could still make the armor valid by
correctly calculating the CRC, or even make PGP generate the armor with
the insult/flames/whatever in the output (just a matter of shifting some
bits around before armoring, could be done in perl). But this is certainly
not worth worrying about. Andy Dustman / Computational Center for Molecular Structure and Design
For a great anti-spam procmail recipe, send me mail with subject "spam".
Append "+spamsucks" to my username to ensure delivery.  KeyID=0xC72F3F1D
Encryption is too important to leave to the government. -- Bruce Schneier
 mailto:andy   <}+++<
