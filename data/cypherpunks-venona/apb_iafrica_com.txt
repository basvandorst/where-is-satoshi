
@_date: 1996-04-15 00:36:40
@_author: Alan Barrett 
@_subject: [NOISE] Re: unsubscrive - Let's make a special list for these people! 
It used to exist a few years ago.  It was called the "Clueless Users
Mailing List".  The idea was that somebody annoyed by a clueless user's
sending subscribe or unsubscribe messages to a list would subscribe the
clueless user to the clueless users' mailing list, where the clueless
users would all get each other's "help" and "get me out" and "unsubscrive"
messages, but would not get any help from clueful folk, until they figured
out how to use the appropriate "-request" address. --apb (Alan Barrett)

@_date: 1996-08-07 06:59:35
@_author: Alan Barrett 
@_subject: Re: Integrating PGP 3.0 Library with INN 
INN-1.5 will include a mechanism for PGP-authentication of control
messages (newgroup, rmgroup, cancel, ...).  My understanding is that
ordinary (non-control) messages will not be authenticated at all by innd
itself; that will still need to be done externally (by tools such as
PGPMoose). --apb (Alan Barrett)

@_date: 1997-02-17 09:41:08
@_author: Alan Barrett 
@_subject: suppressing duplicates based on MD5 of body 
It's been more than 30 hours since I sent the first copy of this message
to cypherpunks and I still haven't seen it on either the
moderated or the flames lists   Suspecting that a particular
naughty word was to blame, I inserted some hyphens and resent the
message several hours later.  That too has failed to reach me on either
the moderated to the flames lists   I am now kmtkujatwv to
several other flavours of the list, and will be interested to see which
(if any) get *this* message, in which the naughty word is encrypted
using the well-known ROT-n algorithm, with a key that I will keep
Heres's a procmail recipe for suppressing duplicate messages based on
the MD5 of a "normalised" version of the body of the messages.  Folk who
celcmbslo to more than one of the cypherpunks lists may find it useful.
* (Sender: |Return-Path: |Received:.*for.*)(owner-)?cypherpunks
    # Detect duplicate messages based on MD5 of normalised body
    :0:.md5.lock
    * B ?? ? (m=`$HOME/bin/normalise-body | md5`; \
 formail -D 8192 .body-md5.cypherpunks.cache )
    cypherpunks-duplicates
    :0:
    cypherpunks
The "* B ?? ?" means "send the body of the message as input to
the following command, and test the command's exit status".
$HOME/bin/normalise-body is a simple perl script (appended) that deletes
trailing blanks on all lines and then deletes leading and trailing blank
--apb (Alan Barrett)
# This is a shell archive.  Save it in a file, remove anything before
# this line, and then unpack it by entering "sh file".  Note, it may
# create directories; files and directories will be owned by you and
# have default permissions.
# This archive contains:
#	normalise-body
echo x - normalise-body
sed 's/^X//' >normalise-body << 'END-of-normalise-body'
X# A very weak attempt at normalising the body of a mail message.
X# Removes trailing white space on all lines, and removes leading
X# and trailing blank lines.
X# Does not attempt to normalise any MIME content-transfer-encoding.
X$total_nonblank_lines = 0;
X$consecutive_blank_lines = 0;
Xwhile (<>) {
X    s/\s+$//;
X    if (/^$/) {
X	$consecutive_blank_lines++;
X    } else {
X	print "\n" x $consecutive_blank_lines if $total_nonblank_lines;
X	print $_;
X	$consecutive_blank_lines = 0;
X	$total_nonblank_lines++;
X    }

@_date: 1997-02-18 09:11:27
@_author: Alan Barrett 
@_subject: Re: Anyone have the complete info on CP list alternatives? 
Why is it obvious that mail propagation will be faster than news
propagation?  News propagation times of small numbers of seconds are not
at all uncommon.
--apb (Alan Barrett)

@_date: 1997-02-18 09:11:46
@_author: Alan Barrett 
@_subject: Re: Anyone have the complete info on CP list alternatives? 
To some (perhaps many, certainly not all) distant servers, provided all
the news servers in the path run appropriate software (designed for low
latency propagation) and have reasonably high bandwidth Internet links. Disk to disk delays smaller than 1 second have been measured between news
servers that use software such as nntplink or innfeed to send outgoing
articles immediately.
Right.  And some of those news links are fast, while others are slow.  If
two sites happen to be connected by fast news links, it's quite possible
for news between those sites to be faster than mail.
--apb (Alan Barrett)

@_date: 1997-02-18 09:11:47
@_author: Alan Barrett 
@_subject: Re: Anyone have the complete info on CP list alternatives? 
I replied:
Sorry, I misunderstood the earlier message.  I thought that it referred
to news propagation between a small set of hosts versus mail propagation
between the same small set of mail/news hosts, and I did not see why
it was obvious that mail would be faster than news.  But actually the
earlier message refered to news propagation over the whole planet versus
mail propagation between a small set of hosts, in which case of course
news will be slower.
--apb (Alan Barrett)

@_date: 1997-02-17 08:59:07
@_author: Alan Barrett 
@_subject: suppressing duplicates based on MD5 of body 
It's been more than 30 hours since I sent the first copy of this message
to cypherpunks and I still haven't seen it on either the
moderated or the flames lists   Suspecting that a particular
naughty word was to blame, I inserted some hyphens and resent the
message several hours later.  That too has failed to reach me on either
the moderated to the flames lists   I am now kmtkujatwv to
several other flavours of the list, and will be interested to see which
(if any) get *this* message, in which the naughty word is encrypted
using the well-known ROT-n algorithm, with a key that I will keep
Heres's a procmail recipe for suppressing duplicate messages based on
the MD5 of a "normalised" version of the body of the messages.  Folk who
celcmbslo to more than one of the cypherpunks lists may find it useful.
* (Sender: |Return-Path: |Received:.*for.*)(owner-)?cypherpunks
    # Detect duplicate messages based on MD5 of normalised body
    :0:.md5.lock
    * B ?? ? (m=`$HOME/bin/normalise-body | md5`; \
 formail -D 8192 .body-md5.cypherpunks.cache )
    cypherpunks-duplicates
    :0:
    cypherpunks
The "* B ?? ?" means "send the body of the message as input to
the following command, and test the command's exit status".
$HOME/bin/normalise-body is a simple perl script (appended) that deletes
trailing blanks on all lines and then deletes leading and trailing blank
--apb (Alan Barrett)
# This is a shell archive.  Save it in a file, remove anything before
# this line, and then unpack it by entering "sh file".  Note, it may
# create directories; files and directories will be owned by you and
# have default permissions.
# This archive contains:
#	normalise-body
echo x - normalise-body
sed 's/^X//' >normalise-body << 'END-of-normalise-body'
X# A very weak attempt at normalising the body of a mail message.
X# Removes trailing white space on all lines, and removes leading
X# and trailing blank lines.
X# Does not attempt to normalise any MIME content-transfer-encoding.
X$total_nonblank_lines = 0;
X$consecutive_blank_lines = 0;
Xwhile (<>) {
X    s/\s+$//;
X    if (/^$/) {
X	$consecutive_blank_lines++;
X    } else {
X	print "\n" x $consecutive_blank_lines if $total_nonblank_lines;
X	print $_;
X	$consecutive_blank_lines = 0;
X	$total_nonblank_lines++;
X    }

@_date: 1997-02-18 07:36:12
@_author: Alan Barrett 
@_subject: Re: Anyone have the complete info on CP list alternatives? 
Why is it obvious that mail propagation will be faster than news
propagation?  News propagation times of small numbers of seconds are not
at all uncommon.
--apb (Alan Barrett)

@_date: 1997-02-18 08:27:34
@_author: Alan Barrett 
@_subject: Re: Anyone have the complete info on CP list alternatives? 
To some (perhaps many, certainly not all) distant servers, provided all
the news servers in the path run appropriate software (designed for low
latency propagation) and have reasonably high bandwidth Internet links. Disk to disk delays smaller than 1 second have been measured between news
servers that use software such as nntplink or innfeed to send outgoing
articles immediately.
Right.  And some of those news links are fast, while others are slow.  If
two sites happen to be connected by fast news links, it's quite possible
for news between those sites to be faster than mail.
--apb (Alan Barrett)

@_date: 1997-02-18 08:52:03
@_author: Alan Barrett 
@_subject: Re: Anyone have the complete info on CP list alternatives? 
I replied:
Sorry, I misunderstood the earlier message.  I thought that it referred
to news propagation between a small set of hosts versus mail propagation
between the same small set of mail/news hosts, and I did not see why
it was obvious that mail would be faster than news.  But actually the
earlier message refered to news propagation over the whole planet versus
mail propagation between a small set of hosts, in which case of course
news will be slower.
--apb (Alan Barrett)

@_date: 1997-05-11 16:38:00
@_author: Alan Barrett 
@_subject: Re: key recovery vs data backup 
There are many similarities between your idea of a "key safe" for CAK
(corporate access to keys), and the idea espoused by Carl and others
of encrypting everything to a corporate key as well as to the other
If the corporation expects to be successful at forcing it's staff to run
special software that talks to the CAK key safe, then the corporation
should also expect to be successful at forcing its staff to run special
software that adds the special coprorate key as a recipient of all
encrypted messages.
If the corporation expects to be successful at keeping the keys to the
CAK key safe secure, while still allowing an appropriate coalition of
high level managers to get access to the contents of the key safe,
then the corporation should also expect to be successful at keeping
the private part of the corporate key secure, while still allowing
an appropriate coalition of high level managers to use the special
corporate private key to decrypt messages.
If the coproration trusts those with access to the CAK key safe not to
abuse their access, then the corporation should also trust those with
access to the special corporate key not to abuse it.
Whatever the answer to the latter question is, it's the same in the CAK
case as it is in the "encrypt to a special coprorate key" case.
The same problems arise in the CAK case.  And the same solution: you
make the user's software do the same thing every time, and implement the
policy elsewhere.
The same problems and solutions apply in both the CAK case and in the
"corporate key as extra crypto recipient" case.
Now, having spent some time attempting to show that the two cases are
almost identical in many respects, let me point out a few ways in which
I think encrypting to a special corporate key is better than CAK.
  - With CAK, the key safe contains at least a copy of every key used by
    every staff member.  All that needs to be kept secure.  This storage
    problem does not arise in the non-CAK case.
  - With CAK, every time a user creates a new key, the user's software
    needs to talk to teh key safe.  This needs a secure channel, which
    raises further authentication problems (how does the user know that
    he's not talking to a fake key safe).  These don't arise in the
    non-CAK case.
  - Once a CAK infrastructure is in place, it is likely to be easier
    for a government to impose GAK.  It's better not to set up the CAK
    infrastructure in the first place.
    To be fair, similar arguments apply to the "add an extra crypto
    recipient" case: just add two extra crypto recipients (corporate key
    and big-brother key).  But I think that the general public is more
    likely to understand what the government wants and to reject the
    idea in this case than in the GAK case.
--apb (Alan Barrett)

@_date: 1997-05-11 17:28:36
@_author: Alan Barrett 
@_subject: Re: key recovery vs data backup 
Yes.  And probably a lot less design and programming than the key-safe
mechanism.  (For example, PGP already has an "encrypt-to-self" option
that makes it add the user's own key as an additional crypto recipient
of all messages; changing that to the more general "encrypt to this list
of extra keys" should be quite easy.  But designing and building a key
safe sounds like a lot of work to me.)
Of coure, you trust the users not to use versions of PGP that do not
make the corporate key a recipient of all communications, right?  If
not, then you also don't trust them not to use keys that have not been
sent to the key safe in the CAK model.
In the key-safe model, you have the problem o distributing information
about a change in location (network address) of the key safe, or a
change in the keys used to authenticate access to the key safe --
similar complexity in both models.
You can use special hardware to generate the key pair and to store the
private key -- again, similar issues and similar solutions in both
In either model, you can have the users' software do the same thing
every time (talk to teh same key safe, or encrypt to the same additional
key every time); and in either model you can have the users' software
do different things depending on policies (talk to different key safes,
encrypt to different additional recipients).
It's unfair to say "but I choose to do the same thing every time, and
you choose to do different things every time, therefore my model is
simpler than yours".  In fact, both models are almost equally capable of
being used in either the simple way or teh complex way.
Again, the same scenario plays equally well in the
extra-crypto-recipient model.
I don't see how.
--apb (Alan Barrett)

@_date: 1997-05-13 01:56:06
@_author: Alan Barrett 
@_subject: Re: key recovery vs data backup 
Good point.
I happen to think that using the master key to decrypt documents is better
practice than using the master key to obtain copies of other keys, but I
can see both sides of this argument.
You are repeating your fallacy of assuming that the key safe (KS) case has
one policy for all users and the multiple recipients (MR) case has
different policies for different users.  The truth is that the two issues
(which model to use, and how many different policies to make visible to
the users' software) are orthogonal.  You can have KS with a different key
safe for each user, and you can have MR with the same extra recipients for
each user.
Sigh.  The same fallacy again.
In the KS case, the software must know which key safe to use and how to
secure and authenticate access to the key safe.
In the MR case, the software must know which extra recipients to add, and
the corresponding public keys.
In both cases, the software is affected to some minimum extent.  In both
cases, you can choose to make the software more complex by adding more
policy knowledge.  In neither case are you forced to add more than the
minimum amount of policy information to the software.
What I meant was, you can make n-of-m hardware stuff for both cases.
Surely you don't disagree with that?
Finding out which key to encrypt to in the MR case is analagous to finding
out which key safe to talk to in the KS case.  Securing and authenticating
the channel to the key safe in the KS case is an extra issue that does not
have a counterpart in the MR case.
--apb (Alan Barrett)

@_date: 1997-05-13 16:28:24
@_author: Alan Barrett 
@_subject: Re: key recovery vs data backup 
You can have the same algorithm (visible at the user side) whether or
not you have special hardware for protecting the private half of the key
pair from exposure.
Knowing the right key in the MR case is static information, analagous
to knowing the network address of the key safe in the KS case.  For
example, in the MR case, the key could be distributed on a floppy disk
along with the special software, while in the KS case the location
of the key safe could be so distributed.  OK, you also need a way of
changing the (MR) key or of moving the (KS) key safe, but that doesn't
happen often and similar issues would appear to arise in either case.
But in the KS case, there would also need to be a mechanism to protect
the channel between the user and the key safe every time the channel is
used, and that extra mechanism does not appear to have a counterpart in
the MR case.  Not really a big deal, but it is a whole extra protocol to
be designed.
--apb (Alan Barrett)

@_date: 1997-08-18 23:06:10
@_author: Alan Barrett 
@_subject: Re: FTP site mirroring script 
I know of two:
   Lee McLoughlin's "mirror", written in Perl, is a highly configurable
   FTP mirror.  Features include recursive subdirectory fetching,
   regular expression include/exclude filter, on the fly compression.
   Get it from ftp://src.doc.ic.ac.uk/.
   GNU "wget", written in C, can do FTP and HTTP mirroring.  Features
   include recursive subdirectory fetching (for FTP), recursive link
   following (for HTTP/HTML), limited include/exclude filter, converting
   embedded references in HTML documents from absolute to relative URLs.
   Get it from ftp://ftp.gnu.ai.mit.edu/.
--apb (Alan Barrett)
