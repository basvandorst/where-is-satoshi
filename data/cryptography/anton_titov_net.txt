
@_date: 2014-04-25 11:03:55
@_author: Anton Titov 
@_subject: [Cryptography] GCC bug 30475 (was Re:  bounded pointers  in C) 
You can not use sizeof() in macro. The preprocessor would have to parse your structures in order to know sizeof-s and it does not. You can of course do:
 PTRDIFF_T_MAX This should be replaced during compilation with a constant. I believe that most compilers will not complain about non-existence of bad_ptrdiff_t_size(), but
if you are concerned you can always provide declaration only of this function, so compiling this on a weird platform without bad_ptrdiff_t_size will yield linking

@_date: 2014-12-03 11:28:43
@_author: Anton Titov 
@_subject: [Cryptography] Construction of cryptographic software. 
Are you aware of any OS that will pass free-d pages to another program without zeroing them out first?

@_date: 2014-06-18 10:48:51
@_author: Anton Titov 
@_subject: [Cryptography] Implementing constant-time string comparison 
I think the motivation to use complicated calculation rather than just (d==0) comparison is not to ease the compiler. If the compiler knows you are looking for any non-zero result from the xor operation, it may decide to add jnz (conditional jump) after the xor instruction and break your constant-time efforts. Inserting yet another conditional in a tight loop might seem counter-productive, but I've seen tight loops like this vectorized as SIMD instructions (on high optimization levels, when you instruct the compiler that the target is a modern processor) and the loop gets not-so-tight.

@_date: 2015-08-27 05:05:19
@_author: Anton Titov 
@_subject: [Cryptography] 3DES security? 
The answer probably depends on how many know plaintexts you have and could range from (could!) 168 bits for 0 known plaintexts to 0 bits for 2^64 known (different) plaintexts, as for any 64 bit cipher.
It is widely believed that the security is 112 bits because of meet in the middle attack. This attack however needs a solid known plaintext, not a knowledge that the plaintext is "English text" or any other vague idea about it. Due to the fact that 64bit block cipher with 168 bit key has many (2^104?) keys that yield the same ciphertext for the same plaintext you obviously need more that one plaintext or the ability to tell if blocks other that the known one decrypt to a sensible data and that may not always be the case. Also this attack needs 2^56 * block size (64 bits) of storage which is 512 peta bytes. That is $5b if RAM is used (without the cost of other components), $400m if SSDs are used or $35m if HDDs are used. You also need to perform 2^112 lookups in these 2^56 blocks. One can argue that the lookup can be considered constant (as opposed to log N) if many computers do that task in parallel, but this is also expensive.
Frankly if I'm given one (or 10) modern computers my feeling is that it will brute-force one 128bit AES key faster than 3DES key (1 known plaintext+constant time check for correct key for 3DES). However both are unrealistic as of today.
