
@_date: 2006-08-22 14:21:18
@_author: Dave "No, not that one" Korn 
@_subject: A security bug in PGP products? 
1.  The disk is encrypted using a long, secure, random, symmetric en/de-cryption key.  (EDK for short).
2.  The EDK is encrypted with a passphrase and stored in a header at the start of the encrypted disk
3.  If you change the passphrase on the disk, it simply reencrypts the EDK using the new passphrase.  It does not generate a new EDK and it does not re-encrypt the entire disk.
4.  Therefore the EDK itself is still the same, and if you overwrite the new header (with the EDK encrypted by the new passphrase) using a stored copy of the old header (with the same EDK encrypted under the old passphrase), you have effectively changed the passphrase back - without having to have knowledge of the new passphrase - and can now regain access using the old   The guy who wrote that page posted a thread about it a while ago, I think it was on FD or perhaps Bugtraq.  His interpretation is somewhat coloured by his transparent belief that these are big corporate monstrosities and hence exaggerations/inaccuracies; for instance, when he claims that you can break the decryption using a debugger, he forgets to mention that this only applies to a disk where you originally knew the passphrase and have since changed it.  It's more of a usage/documentation issue, really; an end-user might believe that changing the passphrase re-encrypted the entire disk beyond their ability to retrieve it.
    cheers,
      DaveK

@_date: 2006-02-01 19:39:52
@_author: Dave Korn 
@_subject: CD shredders, was Re: thoughts on one time pads 
The review doesn't exactly inspire confidence.  They say the disk is "pitted"?  Isn't that just another way of saying that the machine does only minor surface damage to the protective plastic coating, and doesn't harm the fine metallic layer in the center of the disc where the actual information is?  And in that case, shouldn't you be able to recover the data with one of those cheap CD-polish-and-repair kits?
  I can't the point of paying for a machine that damages the disk _less_ than you could do by snapping it in half with your bare hands.  That seems to me to be a very major false economy: a shredder that doesn't shred is just /not/ an improvement on one that does, no matter *how* much cheaper it     cheers,
      DaveK

@_date: 2006-02-09 19:06:52
@_author: Dave Korn 
@_subject: FWD: [IP] Encrypting Bittorrent to take out traffic shapers 
Ah, but you haven't allowed for the fact that the ISP has to do this for BT or not.
  Indeed, they're likely to find a traffic-analysis method of doing this sooner or later, and then they won't have to bother about the encryption.
      cheers,
         DaveK

@_date: 2006-02-12 23:57:42
@_author: Dave Korn 
@_subject: GnuTLS (libgrypt really) and Postfix 
:-) Then what was EINVAL invented for?
  Really it's never ok for anything, not even games, and any program that fails to check error return values is simply not properly coded, full stop.
  But abort()-ing in a library is also a big problem, because it takes control away from the main executable.  That can be a massive security vulnerability on Windows.  If you can get a SYSTEM-level service that listens on a well known pipe or LPC port to abort(), you can often steal it's pipe or port and escalate your privileges  It would be far preferable for the service to remain running in a main loop that ends up operating as ... receive request from client
... fail to service it because libgcrypt returns errors..
.... return error to caller
... rather than for it to abort.
  I'm afraid I consider it instead a weakness in your API design that you have no way to indicate an error return from a function that may fail.
  Perhaps libgcrypt could call abort in debug builds and return error codes in production builds?
    cheers,
      DaveK

@_date: 2006-02-15 19:23:32
@_author: Dave Korn 
@_subject: GnuTLS (libgrypt really) and Postfix 
Then you should warn people that it is not safe to use in any high-privilege server application.
    cheers,
      DaveK

@_date: 2006-03-23 20:15:50
@_author: Dave Korn 
@_subject: Creativity and security 
In the UK, that is now the almost universal practice.  And it's equally almost universally the /last/ four digits across all retailers.  Which is   What is not so good, however, is another example of not-as-clever-as-it-thinks-it-is clever new idea for addressing the problem of receipts.
  As we all know, when you pay with a credit or debit card at a store, it's important to take the receipt with you, because it contains vital information - even when most of the card number is starred out, the expiry date is generally shown in full.  So we're all encouraged to take them with us, take them home, and shred or otherwise securely dispose of them under our own control.
  Of course, this is a) a nuisance and b) wasteful of paper.  And obviously enough, someone's been trying to come up with a 'bright idea' to solve these   So what they've been doing at my local branch of Marks & Spencer for the past few weeks is, at the end of the transaction after the (now always chip'n'pin-based) card reader finishes authorizing your transaction, the cashier at the till asks you whether you actually /want/ the receipt or not; if you say yes, they press a little button and the till prints out the receipt same as ever and they hand it to you, but if you say no they don't press the button, the machine doesn't even bother to print a receipt, and you wander away home, safe in the knowledge that there is no wasted paper and no leak of security information  ...
  ... Of course, three seconds after your back is turned, the cashier can still go ahead and press the button anyway, and then /they/ can have your receipt.  With the expiry date on it.  And the last four digits of the card number.  And the name of the card issuer, which allows you to narrow the first four digits down to maybe three or four possible combinations.  OK, 10^8 still aint easy, but it's a lot easier than what we started with.
  The risk could perhaps be fixed with an interlock which makes it impossible to print the receipt out after the card has been withdrawn from the reader, but I think the better solution would still be for the receipt to be printed out every single time and the staff trained in the importance of not letting customers leave without taking their receipts with them.
    cheers,
      DaveK

@_date: 2006-03-24 18:47:07
@_author: Dave Korn 
@_subject: Creativity and security 
1-  I don't hand it to them.  I put it in the chip-and-pin card reader myself.  In any case, even if I hand it to a cashier, it is within my sight at all times.
2-  If it was really that easy to memorize a name and the equivalent of a 23-digit number at a glance without having to write anything down, surely the credit card companies wouldn't need to issue cards in the first place?
  IOW, unless we're talking about a corrupt employee with a photographic memory and telescopic eyes, the paper receipt I leave behind is the only place they could get any information about my card details.  This was of course not the case in the old days when your card was rolled over a receipt with multiple carbons, one of which was the retailer's copy that they needed to deposit with their bank, but things are a lot more secure now: a debit card transaction, authorised and completed online, leaves a lot less exposure; so nowadays I reckon that it is worth worrying about the remaining risks, that /were/ relatively speaking lower risks back then when compared to the fact of the retailer's retaining a hard copy of your card details, but that (now /that/ particular risk has been eliminated) are relatively higher risks.
  Of course, a corrupt employee could conceivably replace the card reader with a corrupt one of their own, but since it would take major carpentry to detach them from the cashtills and counters to which they are firmly fixed, I think that's a lot more likely to be noticed than an employee craftily pressing a little button and palming a receipt.  YMMV!
    cheers,
      DaveK
