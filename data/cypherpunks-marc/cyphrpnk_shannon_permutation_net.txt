
@_date: 2002-02-19 16:25:16
@_author: cyphrpnk 
@_subject: OpenBSD encrypted VND was Re: Encrypted file system for FreeBSD? 
I wish ALL the posters to this subject had actually tried what is suggested,
I have on multiple OS's and ALL are broken to some degree.
As disk encryption OpenBSD encrypted vnd mounts have a number of shortcomingrs,
this method not only breaks utterly at 8.2 gb it uses blowfish.. no
pluggable encryption to AES here , and the failure to keep hmacs on filesystems
found within the vnd encryption fs means it should be subject to the same
"linux loopback encryption filesystem insertion defect" mentioned here in december. This essentially allows injection of malicious data and or
replay attacks(CBC mode blowfish  remember?).
from the posting by Jerome
"   The encryption mode used by encrypted loop device is CBC[oST81,sec 5.3].
   CBC allows cut/past attacks i.e. the attacker can cut encrypted data from
   one part of the device and paste them in another location. As both data
   sections have been encrypted by the same key, the clear text won't be
   completely random data.
   This lack of authentication isn't a CBC flaw. Authentication isn't
   considered a aim of the encryption mode, so most modes (e.g. ECB, CFB,
   OFB) doesn't authenticate the data. To use another mode would be flawed in
   the same way except if they explicitly protect against forgery. Recently
   some modes including authentication popped up to speed up the encryption /
   authentication couple but as far as i know they are all patented.
   In very short, encrypting with CBC is Cn=Enc(Cn-1 xor Pn) where Enc(x) is
   encrypting x, Pn is the nth block of plain text and Cn the nth block of
   cipher text. For the first block, Cn-1 is an Initial vector (aka IV) which
   may be public and must be unique for a given key. The decryption is Pn =
   Dec(Cn) xor Cn-1. See [oST81,sec 5.3] for a longer description of CBC.
unfortunately an examination of the source reveals no hmac being maintained on the file used as a vnode mounted filesystem, gives this same vunerability.
(its easily resolved by taking an external hmac(via samhain,demairc,tripwire,
sha1 etc,) during unmount and then checking same prior to mount
various other solutions are discussed in the linux  paper posted to bugtraq
the 8.4 gb limitation is a limitation of mkfs when working through
a vnd mounted files system.(anything larger breaks badly).
In addition...a sudden power down on this type of filesystem(encrypted, VND mountea)d will damage the resulting structure so that fsck WILL NOT work
on it. Keep 2 copies of your data on separate encrypted FS and archive one
to the other and then unmount the archive copy and make multiple
copies of the unmounted and crypted file that contains the mountpoint after you have checked it can be remounted.
tcfs and cfs... please dont make me gag(breaks at about 200-600mb(IF you even get that  far)).
     NEXT!
     a clueless sysadm p.s. anyone know how to make 80-100gb disks boot?(under *bsd(hopefully openbsd))
or even SUSE 7.3 linux(yes I have tried most on the market) .

@_date: 2002-08-09 16:01:10
@_author: cyphrpnk 
@_subject: AARG and eugene are net.loons-why signatures of binaries always 
Hi all,
     Its obvious that some of us here are developers and still others
have never typed make or gcc in their lives.
    -v and -V options given to various forms of ld caused the embeddment of version information in the binary(Sunpro does this also, AND early versions
of MSC allowed embeddment of version information also.)
The fact that most environments dont link -Bstatic and instead link
-Bdynamic means that every time you attempt to produce a binary from
2 different systems that the dynamic link information will
be different checkout link.h link_elf.h link_aout.h in /usr/include
in addition MOST modern developement environments include a date field
when compiled and linked in the binary
     sheesh
     a cypherpunk
BTW.   AARG and eugene are idiots nyah nyah nyah!!
