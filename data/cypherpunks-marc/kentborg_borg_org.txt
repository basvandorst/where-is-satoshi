
@_date: 2002-01-10 13:49:51
@_author: Kent Borg 
@_subject: Re: Hackers Targeting Home Computers 
But that is an annoying limitation to begin with--and not just for
people trying to be the next Yahoo.
One of the things that makes the internet is cool that an arbitrary
packet can be sent from one arbitrary IP address to another arbitrary
IP address.  ISPs with "no servers" requirements mostly reduce the
internet to "you may browse the web".  There is a difference between
the internet and the world wide web!, we need to keep reminding
ourselves of that and explaining it to those who don't know.
I run my own "server" and most of what happens there is an e-mail
server and an sshd that I log into.  By running my own e-mail server I
can have e-mail selectively forward to my Palm VII, I can have my
numeric pager poked to let me know my Palm has e-mail.  If I couldn't
run my own server I would have to poll someone else's, and I couldn't
control my own addresses (my wife does personal e-mail through that
box too).
As manufacturers start to assume that RJ-45 jacks that connect to the
internet are common, there are all kinds of cool things that become
possible, but many would technically be servers.  Hell, we currently
have remote Oregon Scientific thermometers at home.  I think it would
be neat to have them connected to the internet.  That way I could look
at them from work--but also from the living room via my Palm VII.
If one thinks of the internet as a universal digital connection
between "stuff" the ability to run "servers" is crucial.
-kb, the Kent who is in favor of policing bad behavior, but who
opposes bans on flexibility in an attempt to prevent bad behavior.

@_date: 2013-09-09 13:17:20
@_author: Kent Borg 
@_subject: Re: [Cryptography] Techniques for malevolent crypto hardware 
Your three cases left off an important one: Not bothering to seed the PRNG at all.  I think the Java/Android cryptographic (!) library bug that just came up was an instance of that.
I think the root of the problem is that programs are written, and bugs squashed, until the program works. Maybe throw some additional testing at it if we are being thorough, but then business pressures and boredom says ship it.
That won't catch a PRNG that wasn't seeded, nor a hashed password that wasn't salted, the unprotected URL, the SQL injection path, buffer overflow, etc.
Computer security is design, implementation, and skepticism.  But unless you can sell it with a buzzword...
The cryptography mailing list

@_date: 2013-09-09 02:06:31
@_author: Kent Borg 
@_subject: Re: [Cryptography] Techniques for malevolent crypto hardware 
I overstated it.
Good random numbers are crucial, and like any cryptography, exact details matter.  Programmers are constantly making embarrassing mistakes.  (The recent Android RNG bug, was that Sun, Oracle, or Google?)
But there is no special reason to worry about corrupted HW RNGs because one should not be using them as-is, there are better ways to get good random data, ways not obvious to a naive civilian, but still well known.
Snowden reassured us when he said that good cryptography is still good cryptography.  If that includes both hashes and cyphers, then the fundamental components of sensible hybrid RNGs are sound.
Much more worrisome is whether Manchurian Circuits have been added to any hardware, no matter its admitted purpose, just waiting to be activated.
The cryptography mailing list

@_date: 2013-09-09 00:34:55
@_author: Kent Borg 
@_subject: Re: [Cryptography] Techniques for malevolent crypto hardware 
I don't see the big worry about how hard it is to generate random numbers unless:
  a) You need them super fast (because you are Google, trying to secure your very high-speed long lines), or
  b) You are some embedded device that is impoverished for both sources of entropy and non-volatile storage, and you need good random bits the moment you boot.
On everything in between, there are sources of entropy. Collect them, hash then together and use them to feed some good cryptography.  If you seem short of entropy, look for more in your hardware manual. Hash in any local unique information. Hash in everything you can find! (If the NSA knows every single bit you are hashing in, no harm, hash them in anyway, but...if the NSA has misunderestimated  any one of your bits...then you scored a bit! Repeat as necessary.)
I am thinking pure HW RNGs are more sinful than pure SW RNGs, because real world entropy is colored and hardware is the wrong place to fix that. So don't buy HW RNGs, buy HW entropy sources (or find them in your current HW) and feed them into a good hybrid RNG.
On a modern multi-GHz CPU the exact LSB of your highspeed system counters, when the interrupt hits your service routine, has uncertainty that is quite real once the you push the NSA a few centimeters from your CPU or SoC.  Just sit around until you have a few network packets and you can have some real entropy. Wait longer for more entropy.
In case you did notice, I am a fan of hybrid HW/SW RNGs.
P.S.  Entropy pools that are only saved on orderly shutdowns are risking crash-and-playback attacks. Save regularly, or something like that.
P.P.S. Don't try to estimate entropy, it is a fool's errand, get as much as you can (within reason) and feed it into some good cryptography.
P.P.P.S. Have an independent RNG? If it *is* independent, no harm in XORing it in.
The cryptography mailing list

@_date: 2013-10-28 18:42:34
@_author: Kent Borg 
@_subject: Re: [Cryptography] [RNG] on RNGs, VM state, rollback, etc. 
Knowing "packet timing" isn't good enough.  It is the interrupt timing that matters, and even that isn't good enough, at least not in the case of a fast CPU with a GHz+ system clock: you have to know the value of a fast counter at the moment that it is sampled as part of servicing the The clock the attacker needs to know doesn't even exist outside the chip in question.  An attacker needs to infer very precise phase angles here, or a bit or more of entropy will slip through on that interrupt.
And you expect to measure this via malware running on a cheap printer plugged into feet of ethernet cable plus an ethernet switch plus more cabling between it and the computer that gets the interrupt?  The malware might make an estimation of interrupt timing, but it can't get down to the last LSB of that clock at the moment when the CPU gets around to reading it.
We are talking not just an off-chip measurement of a signal that doesn't exist off-chip, we are talking about doing it from outside the box, when the box isn't trying to cooperate.
Making timing measurments precisely is hard to do in the best possible and most carefully engineered circumstances.
The cryptography mailing list

@_date: 2013-10-17 17:05:52
@_author: Kent Borg 
@_subject: Re: [Cryptography] /dev/random is not robust 
There are certainly larger system issues, and anyone doing auto-provisioning of servers and generating keys before any entropy has accumulated could get burned.  Though to be fair to /dev/random, isn't this a larger Linux distribution issue?  Don't automatically generate keys on first boot.  RNGs that need seed data should not be run empty.
But is this something that /dev/urandom might do better?  Should blocking be added to /dev/urandom immediately after boot until some reasonable threshold has been reached at least once?  Or on first boot are common distributions restoring a bad seed file and /dev/random can't tell?  Arrgh, I am starting to think that the RNG is the wrong place to fix it.
Should RNGs attempt to detect uninitialized states and refuse to run?
The cryptography mailing list

@_date: 2013-10-28 18:42:34
@_author: Kent Borg 
@_subject: Re: [Cryptography] [RNG] on RNGs, VM state, rollback, etc. 
Knowing "packet timing" isn't good enough.  It is the interrupt timing that matters, and even that isn't good enough, at least not in the case of a fast CPU with a GHz+ system clock: you have to know the value of a fast counter at the moment that it is sampled as part of servicing the The clock the attacker needs to know doesn't even exist outside the chip in question.  An attacker needs to infer very precise phase angles here, or a bit or more of entropy will slip through on that interrupt.
And you expect to measure this via malware running on a cheap printer plugged into feet of ethernet cable plus an ethernet switch plus more cabling between it and the computer that gets the interrupt?  The malware might make an estimation of interrupt timing, but it can't get down to the last LSB of that clock at the moment when the CPU gets around to reading it.
We are talking not just an off-chip measurement of a signal that doesn't exist off-chip, we are talking about doing it from outside the box, when the box isn't trying to cooperate.
Making timing measurments precisely is hard to do in the best possible and most carefully engineered circumstances.
The cryptography mailing list

@_date: 2013-10-24 16:04:10
@_author: Kent Borg 
@_subject: Re: [Cryptography] [RNG] on RNGs, VM state, rollback, etc. 
A warning here: when mixing in different sources, you want to make sure they are different or it might make matters worse.
In recent versions of Linux's urandom the Intel CPU random HW is NOT independent of urandom output; CPU HW random bits are XOR-ed in just before they are output.
If you mix them Intel random bits again you are making a complex system that is hard to analyze, and so not necessarily an improvement.  Using some different and independent HW source?  Cool.
The cryptography mailing list

@_date: 2013-10-24 16:04:10
@_author: Kent Borg 
@_subject: Re: [Cryptography] [RNG] on RNGs, VM state, rollback, etc. 
A warning here: when mixing in different sources, you want to make sure they are different or it might make matters worse.
In recent versions of Linux's urandom the Intel CPU random HW is NOT independent of urandom output; CPU HW random bits are XOR-ed in just before they are output.
If you mix them Intel random bits again you are making a complex system that is hard to analyze, and so not necessarily an improvement.  Using some different and independent HW source?  Cool.
The cryptography mailing list

@_date: 2013-10-22 11:48:47
@_author: Kent Borg 
@_subject: Re: [Cryptography] [RNG] on RNGs, VM state, rollback, etc. 
And the system boundaries matter: OTP itself cannot be broken. Period.  AES-256 itself (maybe) cannot be broken before the universe dies.  However *both* are vulnerable if used insecurely in a larger system.  And OTP has particularly large practical problems.
But it is still worth understanding the properties of such primatives.  As it is worth talking about the properties of a larger system built out of them.  And *that* system in turn might be used in an insecure way by the still larger system that is built from it.
Saying "everything can be broken" because at some point someone will make a mistake isn't very useful.  At various points it *is* possible to have security and one should understand those details so we can better avoid the "someone will make a mistake" boo-boo.
My point: RNGs are still worth talking about, even in isolation, everybody quit saying "oh, there is no point, every system can be broken".
The cryptography mailing list

@_date: 2013-10-21 18:28:22
@_author: Kent Borg 
@_subject: Re: [Cryptography] [RNG] on RNGs, VM state, rollback, etc. 
Also, the universe is of limited size and life expectancy: the "resources and time" bit really matters once the numbers get big.
In isolation of a larger analysis (of the threat and the definition of the system boundaries being defended) there are still useful things to say. Such as ROT-13 is extremely weak, DES medium weak, AES-256 likely very much stronger, OTP completely strong.
But the system boundaries matter. I don't hold AES-256 responsible for protecting the secrecy of the key, though that matters in a larger system (try memorizing and accurately entering 256-bits, it ain't easy).  Similarly, I don't hold OTP responsible for key generation nor key distribution, though those do become extremely important when designing the larger system.
One has to look at the larger system if one wants to draw conclusions about the security of the larger system (and so on for the system larger than that, and the one larger than that).  But components can still be examined, at each level, weaknesses found, improvements made.
In the case of and RNG (as with much of crypto), failures can be silent.  It makes sense to build into an RNG the ability to refuse to work absent any seed (or entropy, as the case may be).  It makes sense to make this facility have parameters that can be tuned by those using it when carefully building a larger system.  It further makes sense to choose defaults that give those larger designers as much help as possible, hurt as little as possible, and try to reduce the "fail silently" property to fewer cases and lesser severity.
If the RNG also mixes in locally unique information that isn't particularly secret (MAC addresses, time, etc.), as long as it doesn't hurt, I conclude it doesn't hurt and it is worth doing. Even if you don't know what the larger system is, it helps.  A little like a crypto angorithm having more rounds, it usually helps.
The refusal to look at the component without first being served your cookies and milk is pedandic silliness.  Like refusing to reduce the failure rate of your bolts, nor examine their strength, because it is the fault of the bridge builder for not doing the entire analysis and using enough bolts.  Yes, the bridge builder should do his/er job.  But it is still worth talking about bridges independent of any specific structure.  It is still worth studying bolts independent of specific Similarly, reducing the silent failure modes of RNGs, and making residual failures less fatal, is worthwhile.
The cryptography mailing list

@_date: 2013-10-21 18:28:22
@_author: Kent Borg 
@_subject: Re: [Cryptography] [RNG] on RNGs, VM state, rollback, etc. 
Also, the universe is of limited size and life expectancy: the "resources and time" bit really matters once the numbers get big.
In isolation of a larger analysis (of the threat and the definition of the system boundaries being defended) there are still useful things to say. Such as ROT-13 is extremely weak, DES medium weak, AES-256 likely very much stronger, OTP completely strong.
But the system boundaries matter. I don't hold AES-256 responsible for protecting the secrecy of the key, though that matters in a larger system (try memorizing and accurately entering 256-bits, it ain't easy).  Similarly, I don't hold OTP responsible for key generation nor key distribution, though those do become extremely important when designing the larger system.
One has to look at the larger system if one wants to draw conclusions about the security of the larger system (and so on for the system larger than that, and the one larger than that).  But components can still be examined, at each level, weaknesses found, improvements made.
In the case of and RNG (as with much of crypto), failures can be silent.  It makes sense to build into an RNG the ability to refuse to work absent any seed (or entropy, as the case may be).  It makes sense to make this facility have parameters that can be tuned by those using it when carefully building a larger system.  It further makes sense to choose defaults that give those larger designers as much help as possible, hurt as little as possible, and try to reduce the "fail silently" property to fewer cases and lesser severity.
If the RNG also mixes in locally unique information that isn't particularly secret (MAC addresses, time, etc.), as long as it doesn't hurt, I conclude it doesn't hurt and it is worth doing. Even if you don't know what the larger system is, it helps.  A little like a crypto angorithm having more rounds, it usually helps.
The refusal to look at the component without first being served your cookies and milk is pedandic silliness.  Like refusing to reduce the failure rate of your bolts, nor examine their strength, because it is the fault of the bridge builder for not doing the entire analysis and using enough bolts.  Yes, the bridge builder should do his/er job.  But it is still worth talking about bridges independent of any specific structure.  It is still worth studying bolts independent of specific Similarly, reducing the silent failure modes of RNGs, and making residual failures less fatal, is worthwhile.
The cryptography mailing list

@_date: 2013-10-20 16:54:28
@_author: Kent Borg 
@_subject: Re: [Cryptography] [RNG] on RNGs, VM state, rollback, etc. 
The RNG should be configurable to block.
In the case of Linux's urandom Ted suggested blocking on bits-in and time, which ever comes first.  The question of defaults becomes key.
I suggest that the kernel's default values for these two parameters should be small enough that nearly no existing user is harmed by the change, yet many could benefit from not running on empty immediately after boot.
One question I have is who are typical first users of urandom after boot?  (That is, who will notice if the delay in seconds or bits is too large, what are they doing, when are they doing it?)
At the larger system level, these parameters could be set explicitly according to what that system is doing, how it is designed, etc.
The cryptography mailing list

@_date: 2013-10-31 18:11:36
@_author: Kent Borg 
@_subject: Re: [Cryptography] [RNG] /dev/random initialisation 
Yes, but not centralized, approved, and documented with the NSA.
For example, at a low-credit rate, it includes a rather diffuse and hard to characterize source: "interrupts".
The cryptography mailing list

@_date: 2013-10-31 14:31:48
@_author: Kent Borg 
@_subject: Re: [Cryptography] [RNG] /dev/random initialisation 
You make a good point: If an attacker can feed crafted data as an "it can't hurt" entropy source, and if the attacker can draw entropy out, it is possible to break the entropy accounting, making it think there is more entropy there than there really is.  (Fair summary?)
This then turns the attacker's problem into breaking the hashing or encryption that is at the heart of the RNG.
But the problem isn't the extra entropy sources, it is broken accounting.
I want lots of entropy sources.  It makes the attacker's task more difficult.  Even if the attacker's job maybe starts out impossible, I like making it harder.
Linux tries hard to not credit "can't hurt" sources.  It doesn't even credit the reading of a stored pool at boot.
-kb, the Kent who doesn't like entropy accounting to begin with, it just feels like we are fooling outselves.
The cryptography mailing list

@_date: 2013-11-04 19:21:15
@_author: Kent Borg 
@_subject: Re: [Cryptography] /dev/random is not robust 
I think some lessons here are:
  1. Worry about operating with low initial entropy, including blocking usually non-blocking RNG output until some configurable amount entropy has maybe been collected.
  2. Look for local sources of entropy, and look again every few years as technology changes:
    - disk turbulence might have been good once maybe not so much anymore;
    - interrupt timing might have been an iffy source earlier, but now with much faster system clocks holds more promise;
    - hw sources like rdrand are becoming more common, but maybe not trusted, mix with other sources;
    - uninitialized RAM contents might have been worth some entropy once but it seems not so with recent technology.
  3. Even non-entropy data that is unique or might vary (MAC addresses, serial numbers, version numbers, time) makes an attacker's life harder and are worth mixing in.
A manufactured-in starting seed seems more like  than  (is it kept secret?, was it honest and high quality to begin with?), but still worth using if a manufacturer can afford to include it.
The cryptography mailing list

@_date: 2013-11-06 12:59:11
@_author: Kent Borg 
@_subject: Re: [Cryptography] randomness +- entropy 
I still suggest adding a *mechanism* to block urandom before it has any entropy.  And if you can sneak in defaults that mostly no one notices but still help many...cool.
Those who don't like such a change, those who look deep enough to notice the change, can set their defaults to something suitable for them.  (Leave helpful comments in the code for those who might find editing a couple constants in their private kernel sources easier than managing custom kernel parameters.)
But please add a mechanism as soon as possible, even if it is defaulted to off.
RNGs should try very hard to not fail silently and emit bad data.
The cryptography mailing list

@_date: 2014-01-17 13:14:20
@_author: Kent Borg 
@_subject: Re: [Cryptography] Boing Boing pushing an RSA Conference boycott 
Go start one.  I'll wait.
How'd it go?  Did the world beat a path to your door, asking how they could help?
What?  No one noticed?  Crickets?
It has been well publicized that RSA failed.  They need to be publicly burned.  That publicity makes is easier, and more important, for them to be burned.  (That's a nice accident, doesn't always work out that way.)
Go ahead and come up with ways the world could be made better.  But triage them against practical reality.
-kb, the Kent who doesn't use Skype.
The cryptography mailing list

@_date: 2014-01-16 13:48:12
@_author: Kent Borg 
@_subject: Re: [Cryptography] Boing Boing pushing an RSA Conference boycott 
This is a multi-part message in MIME format.
 boundary="------------030108040303000905010706"
This is a multi-part message in MIME format.

@_date: 2014-01-13 21:01:33
@_author: Kent Borg 
@_subject: Re: [Cryptography] Boing Boing pushing an RSA Conference boycott 
This is a multi-part message in MIME format.
 boundary="------------080400060007010205020207"
This is a multi-part message in MIME format.

@_date: 2014-01-13 20:26:23
@_author: Kent Borg 
@_subject: Re: [Cryptography] Boing Boing pushing an RSA Conference boycott 
How bad can it be?  This breach is about as bad as I can imagine. Someone technical at RSA must have raised an eyebrow--too bad s/he didn't persist more.  The most charitable guess is that management didn't want to know.
At least not inappropriate collateral damage.  Is this one conference such an irreplaceable jewel that is has to continue? Could something better be created in the vacuum?
The name "RSA" is important here.
We have a proud example in Lavabit, and I would hope that if we saw a resume with Lavabit on it we would be impressed.  What will we think when we see a resume with RSA on it?  I think RSA should be the clear counter example.  Letting the RSA Conference continue with pride doesn't seem to underline this as firmly as I would like.
Jeeze, I feel like such an old geezer to say: "I remember when 'RSA' was a proud name that left me in awe!"
How important *is* this conference?  I admit I have never attended...
The cryptography mailing list

@_date: 2014-01-13 19:16:25
@_author: Kent Borg 
@_subject: Re: [Cryptography] Boing Boing pushing an RSA Conference boycott 
Two points.
First, RSA knew--or certainly should have known--that they were in the business of selling security, yet they failed in that.  Worse, thewy failed spectacularly and sold something not just broken, but something with a backdoor specifically designed to defeat security. As you well know, this is serious business.
I don't think the suits knew what they were doing, I think they were just chasing money, they didn't ask too many questions that might get in the way of that money.  Businessmen do that.  We all know (suits, too), security doesn't sell, buzzwords sell.  They sold the buzzwords without the security.  Nearly everyone does it to some degree.  They did it worse, they were in a position of trust.
If we can't make selling security pay, we can maybe make selling insecurity cost.  There are a lot of other suits watching this, seeing how RSA fairs.  I want them to see something gruesome, something that worries them.  (The same way I want a banker or two who nearly dumped us into DEPRESSION to go to jail, so others will think twice.)
Second, I don't see a political groundswell to change what the NSA does.   A very cynical public has learned things only a few of us cranks imagined (and didn't full believe), but they are shrugging their shoulders, and wondering about their meal and sports entertainment.
The only political force I see with any real interest and clout are American high tech businesses.  They need motivation and ammunition. RSA is a little fish, and they are likely going to die, and that is appropriate.  Their name once-valuable is dirt, and it isn't even the name of a prestigious tech conference--right?? Little companies have to do a lot of "just going along with the flow", we need to change this flow.  We need an example even someone from marketing can understand.
At my day job this morning, I asked a meddlesome question at a meeting. The nerds in the room reacted like the cynical public.  The marketing person looked up and started thinking.  The graphic and gory example of RSA made this possible.  If they get away with it because they didn't know what they were doing...this lesson will be lost.
The cryptography mailing list
